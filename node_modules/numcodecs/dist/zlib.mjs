import { p as pako_1 } from './index-4ac424c6.mjs';

let Zlib = /** @class */ (() => {
    class Zlib {
        constructor(level = 1) {
            if (level < -1 || level > 9) {
                throw new Error('Invalid zlib compression level, it should be between -1 and 9');
            }
            this.level = level;
        }
        static fromConfig({ level }) {
            return new Zlib(level);
        }
        encode(data) {
            const gzipped = pako_1.deflate(data, { level: this.level });
            return gzipped;
        }
        decode(data, out) {
            const uncompressed = pako_1.inflate(data);
            if (out !== undefined) {
                out.set(uncompressed);
                return out;
            }
            return uncompressed;
        }
    }
    Zlib.codecId = 'zlib';
    return Zlib;
})();

export default Zlib;
