import {
  Pd,
  Ws,
  htr
} from "./chunk-HD4POB2Y.js";
import {
  require_react_dom
} from "./chunk-7TLMWTDQ.js";
import {
  require_react
} from "./chunk-DTS4TUJV.js";
import {
  __toESM
} from "./chunk-5WRI5ZAA.js";

// node_modules/vitessce/dist/higlass-DtQYm-cf.js
var import_react = __toESM(require_react(), 1);
var import_react_dom = __toESM(require_react_dom(), 1);
var xy = {};
var YL;
function yJ() {
  return YL || (YL = 1, function(e13) {
    (function(t) {
      var r = t.Promise, n = r && // Some of these methods are missing from
      // Firefox/Chrome experimental implementations
      "resolve" in r && "reject" in r && "all" in r && "race" in r && // Older version of the spec had a resolver object
      // as the arg rather than a function
      function() {
        var P;
        return new r(function(C) {
          P = C;
        }), typeof P == "function";
      }();
      e13 ? (e13.Promise = n ? r : S, e13.Polyfill = S) : n || (t.Promise = S);
      var i = "pending", o = "sealed", a = "fulfilled", s = "rejected", l = function() {
      };
      function u(P) {
        return Object.prototype.toString.call(P) === "[object Array]";
      }
      var c = typeof setImmediate < "u" ? setImmediate : setTimeout, f = [], h;
      function d() {
        for (var P = 0; P < f.length; P++)
          f[P][0](f[P][1]);
        f = [], h = false;
      }
      function p(P, C) {
        f.push([P, C]), h || (h = true, c(d, 0));
      }
      function m(P, C) {
        function w(L) {
          b(C, L);
        }
        function N(L) {
          _(C, L);
        }
        try {
          P(w, N);
        } catch (L) {
          N(L);
        }
      }
      function g(P) {
        var C = P.owner, w = C.state_, N = C.data_, L = P[w], A = P.then;
        if (typeof L == "function") {
          w = a;
          try {
            N = L(N);
          } catch (R) {
            _(A, R);
          }
        }
        v(A, N) || (w === a && b(A, N), w === s && _(A, N));
      }
      function v(P, C) {
        var w;
        try {
          if (P === C)
            throw new TypeError("A promises callback cannot return that same promise.");
          if (C && (typeof C == "function" || typeof C == "object")) {
            var N = C.then;
            if (typeof N == "function")
              return N.call(C, function(L) {
                w || (w = true, C !== L ? b(P, L) : y(P, L));
              }, function(L) {
                w || (w = true, _(P, L));
              }), true;
          }
        } catch (L) {
          return w || _(P, L), true;
        }
        return false;
      }
      function b(P, C) {
        (P === C || !v(P, C)) && y(P, C);
      }
      function y(P, C) {
        P.state_ === i && (P.state_ = o, P.data_ = C, p(E, P));
      }
      function _(P, C) {
        P.state_ === i && (P.state_ = o, P.data_ = C, p(O, P));
      }
      function T(P) {
        var C = P.then_;
        P.then_ = void 0;
        for (var w = 0; w < C.length; w++)
          g(C[w]);
      }
      function E(P) {
        P.state_ = a, T(P);
      }
      function O(P) {
        P.state_ = s, T(P);
      }
      function S(P) {
        if (typeof P != "function")
          throw new TypeError("Promise constructor takes a function argument");
        if (!(this instanceof S))
          throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");
        this.then_ = [], m(P, this);
      }
      S.prototype = {
        constructor: S,
        state_: i,
        then_: null,
        data_: void 0,
        then: function(P, C) {
          var w = {
            owner: this,
            then: new this.constructor(l),
            fulfilled: P,
            rejected: C
          };
          return this.state_ === a || this.state_ === s ? p(g, w) : this.then_.push(w), w.then;
        },
        catch: function(P) {
          return this.then(null, P);
        }
      }, S.all = function(P) {
        var C = this;
        if (!u(P))
          throw new TypeError("You must pass an array to Promise.all().");
        return new C(function(w, N) {
          var L = [], A = 0;
          function R(K) {
            return A++, function(ie) {
              L[K] = ie, --A || w(L);
            };
          }
          for (var F = 0, $; F < P.length; F++)
            $ = P[F], $ && typeof $.then == "function" ? $.then(R(F), N) : L[F] = $;
          A || w(L);
        });
      }, S.race = function(P) {
        var C = this;
        if (!u(P))
          throw new TypeError("You must pass an array to Promise.race().");
        return new C(function(w, N) {
          for (var L = 0, A; L < P.length; L++)
            A = P[L], A && typeof A.then == "function" ? A.then(w, N) : w(A);
        });
      }, S.resolve = function(P) {
        var C = this;
        return P && typeof P == "object" && P.constructor === C ? P : new C(function(w) {
          w(P);
        });
      }, S.reject = function(P) {
        var C = this;
        return new C(function(w, N) {
          N(P);
        });
      };
    })(typeof window < "u" ? window : typeof Pd < "u" ? Pd : typeof self < "u" ? self : xy);
  }(xy)), xy;
}
var _J = yJ();
var HS;
var qL;
function bJ() {
  if (qL) return HS;
  qL = 1;
  var e13 = Object.getOwnPropertySymbols, t = Object.prototype.hasOwnProperty, r = Object.prototype.propertyIsEnumerable;
  function n(o) {
    if (o == null)
      throw new TypeError("Object.assign cannot be called with null or undefined");
    return Object(o);
  }
  function i() {
    try {
      if (!Object.assign)
        return false;
      var o = new String("abc");
      if (o[5] = "de", Object.getOwnPropertyNames(o)[0] === "5")
        return false;
      for (var a = {}, s = 0; s < 10; s++)
        a["_" + String.fromCharCode(s)] = s;
      var l = Object.getOwnPropertyNames(a).map(function(c) {
        return a[c];
      });
      if (l.join("") !== "0123456789")
        return false;
      var u = {};
      return "abcdefghijklmnopqrst".split("").forEach(function(c) {
        u[c] = c;
      }), Object.keys(Object.assign({}, u)).join("") === "abcdefghijklmnopqrst";
    } catch {
      return false;
    }
  }
  return HS = i() ? Object.assign : function(o, a) {
    for (var s, l = n(o), u, c = 1; c < arguments.length; c++) {
      s = Object(arguments[c]);
      for (var f in s)
        t.call(s, f) && (l[f] = s[f]);
      if (e13) {
        u = e13(s);
        for (var h = 0; h < u.length; h++)
          r.call(s, u[h]) && (l[u[h]] = s[u[h]]);
      }
    }
    return l;
  }, HS;
}
var TJ = bJ();
var EJ = Ws(TJ);
window.Promise || (window.Promise = _J.Polyfill);
Object.assign || (Object.assign = EJ);
var SJ = 16;
Date.now && Date.prototype.getTime || (Date.now = function() {
  return (/* @__PURE__ */ new Date()).getTime();
});
if (!(window.performance && window.performance.now)) {
  wJ = Date.now();
  window.performance || (window.performance = {}), window.performance.now = function() {
    return Date.now() - wJ;
  };
}
var wJ;
var US = Date.now();
var KL = ["ms", "moz", "webkit", "o"];
for (jS = 0; jS < KL.length && !window.requestAnimationFrame; ++jS) {
  GS = KL[jS];
  window.requestAnimationFrame = window[GS + "RequestAnimationFrame"], window.cancelAnimationFrame = window[GS + "CancelAnimationFrame"] || window[GS + "CancelRequestAnimationFrame"];
}
var GS;
var jS;
window.requestAnimationFrame || (window.requestAnimationFrame = function(e13) {
  if (typeof e13 != "function")
    throw new TypeError(e13 + "is not a function");
  var t = Date.now(), r = SJ + US - t;
  return r < 0 && (r = 0), US = t, window.setTimeout(function() {
    US = Date.now(), e13(performance.now());
  }, r);
});
window.cancelAnimationFrame || (window.cancelAnimationFrame = function(e13) {
  return clearTimeout(e13);
});
Math.sign || (Math.sign = function(t) {
  return t = Number(t), t === 0 || isNaN(t) ? t : t > 0 ? 1 : -1;
});
Number.isInteger || (Number.isInteger = function(t) {
  return typeof t == "number" && isFinite(t) && Math.floor(t) === t;
});
window.ArrayBuffer || (window.ArrayBuffer = Array);
window.Float32Array || (window.Float32Array = Array);
window.Uint32Array || (window.Uint32Array = Array);
window.Uint16Array || (window.Uint16Array = Array);
window.Uint8Array || (window.Uint8Array = Array);
window.Int32Array || (window.Int32Array = Array);
var zS = /iPhone/i;
var ZL = /iPod/i;
var QL = /iPad/i;
var JL = /\biOS-universal(?:.+)Mac\b/i;
var VS = /\bAndroid(?:.+)Mobile\b/i;
var e5 = /Android/i;
var ph = /(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i;
var ky = /Silk/i;
var Qa = /Windows Phone/i;
var t5 = /\bWindows(?:.+)ARM\b/i;
var r5 = /BlackBerry/i;
var n5 = /BB10/i;
var i5 = /Opera Mini/i;
var o5 = /\b(CriOS|Chrome)(?:.+)Mobile/i;
var a5 = /Mobile(?:.+)Firefox\b/i;
var s5 = function(e13) {
  return typeof e13 < "u" && e13.platform === "MacIntel" && typeof e13.maxTouchPoints == "number" && e13.maxTouchPoints > 1 && typeof MSStream > "u";
};
function AJ(e13) {
  return function(t) {
    return t.test(e13);
  };
}
function OJ(e13) {
  var t = {
    userAgent: "",
    platform: "",
    maxTouchPoints: 0
  };
  !e13 && typeof navigator < "u" ? t = {
    userAgent: navigator.userAgent,
    platform: navigator.platform,
    maxTouchPoints: navigator.maxTouchPoints || 0
  } : typeof e13 == "string" ? t.userAgent = e13 : e13 && e13.userAgent && (t = {
    userAgent: e13.userAgent,
    platform: e13.platform,
    maxTouchPoints: e13.maxTouchPoints || 0
  });
  var r = t.userAgent, n = r.split("[FBAN");
  typeof n[1] < "u" && (r = n[0]), n = r.split("Twitter"), typeof n[1] < "u" && (r = n[0]);
  var i = AJ(r), o = {
    apple: {
      phone: i(zS) && !i(Qa),
      ipod: i(ZL),
      tablet: !i(zS) && (i(QL) || s5(t)) && !i(Qa),
      universal: i(JL),
      device: (i(zS) || i(ZL) || i(QL) || i(JL) || s5(t)) && !i(Qa)
    },
    amazon: {
      phone: i(ph),
      tablet: !i(ph) && i(ky),
      device: i(ph) || i(ky)
    },
    android: {
      phone: !i(Qa) && i(ph) || !i(Qa) && i(VS),
      tablet: !i(Qa) && !i(ph) && !i(VS) && (i(ky) || i(e5)),
      device: !i(Qa) && (i(ph) || i(ky) || i(VS) || i(e5)) || i(/\bokhttp\b/i)
    },
    windows: {
      phone: i(Qa),
      tablet: i(t5),
      device: i(Qa) || i(t5)
    },
    other: {
      blackberry: i(r5),
      blackberry10: i(n5),
      opera: i(i5),
      firefox: i(a5),
      chrome: i(o5),
      device: i(r5) || i(n5) || i(i5) || i(a5) || i(o5)
    },
    any: false,
    phone: false,
    tablet: false
  };
  return o.any = o.apple.device || o.android.device || o.windows.device || o.other.device, o.phone = o.apple.phone || o.android.phone || o.windows.phone, o.tablet = o.apple.tablet || o.android.tablet || o.windows.tablet, o;
}
var bo = OJ(window.navigator);
function IJ(e13) {
  var t = true;
  if (bo.tablet || bo.phone) {
    if (bo.apple.device) {
      var r = navigator.userAgent.match(/OS (\d+)_(\d+)?/);
      if (r) {
        var n = parseInt(r[1], 10);
        n < 11 && (t = false);
      }
    }
    if (bo.android.device) {
      var r = navigator.userAgent.match(/Android\s([0-9.]*)/);
      if (r) {
        var n = parseInt(r[1], 10);
        n < 7 && (t = false);
      }
    }
  }
  return t ? e13 : 4;
}
function PJ() {
  return !bo.apple.device;
}
var ft = {
  /**
   * If set to true WebGL will attempt make textures mimpaped by default.
   * Mipmapping will only succeed if the base texture uploaded has power of two dimensions.
   *
   * @static
   * @name MIPMAP_TEXTURES
   * @memberof PIXI.settings
   * @type {PIXI.MIPMAP_MODES}
   * @default PIXI.MIPMAP_MODES.POW2
   */
  MIPMAP_TEXTURES: 1,
  /**
   * Default anisotropic filtering level of textures.
   * Usually from 0 to 16
   *
   * @static
   * @name ANISOTROPIC_LEVEL
   * @memberof PIXI.settings
   * @type {number}
   * @default 0
   */
  ANISOTROPIC_LEVEL: 0,
  /**
   * Default resolution / device pixel ratio of the renderer.
   *
   * @static
   * @name RESOLUTION
   * @memberof PIXI.settings
   * @type {number}
   * @default 1
   */
  RESOLUTION: 1,
  /**
   * Default filter resolution.
   *
   * @static
   * @name FILTER_RESOLUTION
   * @memberof PIXI.settings
   * @type {number}
   * @default 1
   */
  FILTER_RESOLUTION: 1,
  /**
   * The maximum textures that this device supports.
   *
   * @static
   * @name SPRITE_MAX_TEXTURES
   * @memberof PIXI.settings
   * @type {number}
   * @default 32
   */
  SPRITE_MAX_TEXTURES: IJ(32),
  // TODO: maybe change to SPRITE.BATCH_SIZE: 2000
  // TODO: maybe add PARTICLE.BATCH_SIZE: 15000
  /**
   * The default sprite batch size.
   *
   * The default aims to balance desktop and mobile devices.
   *
   * @static
   * @name SPRITE_BATCH_SIZE
   * @memberof PIXI.settings
   * @type {number}
   * @default 4096
   */
  SPRITE_BATCH_SIZE: 4096,
  /**
   * The default render options if none are supplied to {@link PIXI.Renderer}
   * or {@link PIXI.CanvasRenderer}.
   *
   * @static
   * @name RENDER_OPTIONS
   * @memberof PIXI.settings
   * @type {object}
   * @property {HTMLCanvasElement} view=null
   * @property {number} resolution=1
   * @property {boolean} antialias=false
   * @property {boolean} autoDensity=false
   * @property {boolean} transparent=false
   * @property {number} backgroundColor=0x000000
   * @property {boolean} clearBeforeRender=true
   * @property {boolean} preserveDrawingBuffer=false
   * @property {number} width=800
   * @property {number} height=600
   * @property {boolean} legacy=false
   */
  RENDER_OPTIONS: {
    view: null,
    antialias: false,
    autoDensity: false,
    transparent: false,
    backgroundColor: 0,
    clearBeforeRender: true,
    preserveDrawingBuffer: false,
    width: 800,
    height: 600,
    legacy: false
  },
  /**
   * Default Garbage Collection mode.
   *
   * @static
   * @name GC_MODE
   * @memberof PIXI.settings
   * @type {PIXI.GC_MODES}
   * @default PIXI.GC_MODES.AUTO
   */
  GC_MODE: 0,
  /**
   * Default Garbage Collection max idle.
   *
   * @static
   * @name GC_MAX_IDLE
   * @memberof PIXI.settings
   * @type {number}
   * @default 3600
   */
  GC_MAX_IDLE: 60 * 60,
  /**
   * Default Garbage Collection maximum check count.
   *
   * @static
   * @name GC_MAX_CHECK_COUNT
   * @memberof PIXI.settings
   * @type {number}
   * @default 600
   */
  GC_MAX_CHECK_COUNT: 60 * 10,
  /**
   * Default wrap modes that are supported by pixi.
   *
   * @static
   * @name WRAP_MODE
   * @memberof PIXI.settings
   * @type {PIXI.WRAP_MODES}
   * @default PIXI.WRAP_MODES.CLAMP
   */
  WRAP_MODE: 33071,
  /**
   * Default scale mode for textures.
   *
   * @static
   * @name SCALE_MODE
   * @memberof PIXI.settings
   * @type {PIXI.SCALE_MODES}
   * @default PIXI.SCALE_MODES.LINEAR
   */
  SCALE_MODE: 1,
  /**
   * Default specify float precision in vertex shader.
   *
   * @static
   * @name PRECISION_VERTEX
   * @memberof PIXI.settings
   * @type {PIXI.PRECISION}
   * @default PIXI.PRECISION.HIGH
   */
  PRECISION_VERTEX: "highp",
  /**
   * Default specify float precision in fragment shader.
   * iOS is best set at highp due to https://github.com/pixijs/pixi.js/issues/3742
   *
   * @static
   * @name PRECISION_FRAGMENT
   * @memberof PIXI.settings
   * @type {PIXI.PRECISION}
   * @default PIXI.PRECISION.MEDIUM
   */
  PRECISION_FRAGMENT: bo.apple.device ? "highp" : "mediump",
  /**
   * Can we upload the same buffer in a single frame?
   *
   * @static
   * @name CAN_UPLOAD_SAME_BUFFER
   * @memberof PIXI.settings
   * @type {boolean}
   */
  CAN_UPLOAD_SAME_BUFFER: PJ(),
  /**
   * Enables bitmap creation before image load. This feature is experimental.
   *
   * @static
   * @name CREATE_IMAGE_BITMAP
   * @memberof PIXI.settings
   * @type {boolean}
   * @default false
   */
  CREATE_IMAGE_BITMAP: false,
  /**
   * If true PixiJS will Math.floor() x/y values when rendering, stopping pixel interpolation.
   * Advantages can include sharper image quality (like text) and faster rendering on canvas.
   * The main disadvantage is movement of objects may appear less smooth.
   *
   * @static
   * @constant
   * @memberof PIXI.settings
   * @type {boolean}
   * @default false
   */
  ROUND_PIXELS: false
};
var XS = { exports: {} };
var l5;
function CJ() {
  return l5 || (l5 = 1, function(e13) {
    var t = Object.prototype.hasOwnProperty, r = "~";
    function n() {
    }
    Object.create && (n.prototype = /* @__PURE__ */ Object.create(null), new n().__proto__ || (r = false));
    function i(l, u, c) {
      this.fn = l, this.context = u, this.once = c || false;
    }
    function o(l, u, c, f, h) {
      if (typeof c != "function")
        throw new TypeError("The listener must be a function");
      var d = new i(c, f || l, h), p = r ? r + u : u;
      return l._events[p] ? l._events[p].fn ? l._events[p] = [l._events[p], d] : l._events[p].push(d) : (l._events[p] = d, l._eventsCount++), l;
    }
    function a(l, u) {
      --l._eventsCount === 0 ? l._events = new n() : delete l._events[u];
    }
    function s() {
      this._events = new n(), this._eventsCount = 0;
    }
    s.prototype.eventNames = function() {
      var u = [], c, f;
      if (this._eventsCount === 0) return u;
      for (f in c = this._events)
        t.call(c, f) && u.push(r ? f.slice(1) : f);
      return Object.getOwnPropertySymbols ? u.concat(Object.getOwnPropertySymbols(c)) : u;
    }, s.prototype.listeners = function(u) {
      var c = r ? r + u : u, f = this._events[c];
      if (!f) return [];
      if (f.fn) return [f.fn];
      for (var h = 0, d = f.length, p = new Array(d); h < d; h++)
        p[h] = f[h].fn;
      return p;
    }, s.prototype.listenerCount = function(u) {
      var c = r ? r + u : u, f = this._events[c];
      return f ? f.fn ? 1 : f.length : 0;
    }, s.prototype.emit = function(u, c, f, h, d, p) {
      var m = r ? r + u : u;
      if (!this._events[m]) return false;
      var g = this._events[m], v = arguments.length, b, y;
      if (g.fn) {
        switch (g.once && this.removeListener(u, g.fn, void 0, true), v) {
          case 1:
            return g.fn.call(g.context), true;
          case 2:
            return g.fn.call(g.context, c), true;
          case 3:
            return g.fn.call(g.context, c, f), true;
          case 4:
            return g.fn.call(g.context, c, f, h), true;
          case 5:
            return g.fn.call(g.context, c, f, h, d), true;
          case 6:
            return g.fn.call(g.context, c, f, h, d, p), true;
        }
        for (y = 1, b = new Array(v - 1); y < v; y++)
          b[y - 1] = arguments[y];
        g.fn.apply(g.context, b);
      } else {
        var _ = g.length, T;
        for (y = 0; y < _; y++)
          switch (g[y].once && this.removeListener(u, g[y].fn, void 0, true), v) {
            case 1:
              g[y].fn.call(g[y].context);
              break;
            case 2:
              g[y].fn.call(g[y].context, c);
              break;
            case 3:
              g[y].fn.call(g[y].context, c, f);
              break;
            case 4:
              g[y].fn.call(g[y].context, c, f, h);
              break;
            default:
              if (!b) for (T = 1, b = new Array(v - 1); T < v; T++)
                b[T - 1] = arguments[T];
              g[y].fn.apply(g[y].context, b);
          }
      }
      return true;
    }, s.prototype.on = function(u, c, f) {
      return o(this, u, c, f, false);
    }, s.prototype.once = function(u, c, f) {
      return o(this, u, c, f, true);
    }, s.prototype.removeListener = function(u, c, f, h) {
      var d = r ? r + u : u;
      if (!this._events[d]) return this;
      if (!c)
        return a(this, d), this;
      var p = this._events[d];
      if (p.fn)
        p.fn === c && (!h || p.once) && (!f || p.context === f) && a(this, d);
      else {
        for (var m = 0, g = [], v = p.length; m < v; m++)
          (p[m].fn !== c || h && !p[m].once || f && p[m].context !== f) && g.push(p[m]);
        g.length ? this._events[d] = g.length === 1 ? g[0] : g : a(this, d);
      }
      return this;
    }, s.prototype.removeAllListeners = function(u) {
      var c;
      return u ? (c = r ? r + u : u, this._events[c] && a(this, c)) : (this._events = new n(), this._eventsCount = 0), this;
    }, s.prototype.off = s.prototype.removeListener, s.prototype.addListener = s.prototype.on, s.prefixed = r, s.EventEmitter = s, e13.exports = s;
  }(XS)), XS.exports;
}
var xJ = CJ();
var Vd = Ws(xJ);
var mc = {};
var pm = { exports: {} };
var kJ = pm.exports;
var c5;
function DJ() {
  return c5 || (c5 = 1, function(e13, t) {
    (function(r) {
      var n = t && !t.nodeType && t, i = e13 && !e13.nodeType && e13, o = typeof Pd == "object" && Pd;
      (o.global === o || o.window === o || o.self === o) && (r = o);
      var a, s = 2147483647, l = 36, u = 1, c = 26, f = 38, h = 700, d = 72, p = 128, m = "-", g = /^xn--/, v = /[^\x20-\x7E]/, b = /[\x2E\u3002\uFF0E\uFF61]/g, y = {
        overflow: "Overflow: input needs wider integers to process",
        "not-basic": "Illegal input >= 0x80 (not a basic code point)",
        "invalid-input": "Invalid input"
      }, _ = l - u, T = Math.floor, E = String.fromCharCode, O;
      function S(J) {
        throw RangeError(y[J]);
      }
      function P(J, pe) {
        for (var oe = J.length, q = []; oe--; )
          q[oe] = pe(J[oe]);
        return q;
      }
      function C(J, pe) {
        var oe = J.split("@"), q = "";
        oe.length > 1 && (q = oe[0] + "@", J = oe[1]), J = J.replace(b, ".");
        var W = J.split("."), se = P(W, pe).join(".");
        return q + se;
      }
      function w(J) {
        for (var pe = [], oe = 0, q = J.length, W, se; oe < q; )
          W = J.charCodeAt(oe++), W >= 55296 && W <= 56319 && oe < q ? (se = J.charCodeAt(oe++), (se & 64512) == 56320 ? pe.push(((W & 1023) << 10) + (se & 1023) + 65536) : (pe.push(W), oe--)) : pe.push(W);
        return pe;
      }
      function N(J) {
        return P(J, function(pe) {
          var oe = "";
          return pe > 65535 && (pe -= 65536, oe += E(pe >>> 10 & 1023 | 55296), pe = 56320 | pe & 1023), oe += E(pe), oe;
        }).join("");
      }
      function L(J) {
        return J - 48 < 10 ? J - 22 : J - 65 < 26 ? J - 65 : J - 97 < 26 ? J - 97 : l;
      }
      function A(J, pe) {
        return J + 22 + 75 * (J < 26) - ((pe != 0) << 5);
      }
      function R(J, pe, oe) {
        var q = 0;
        for (J = oe ? T(J / h) : J >> 1, J += T(J / pe); J > _ * c >> 1; q += l)
          J = T(J / _);
        return T(q + (_ + 1) * J / (J + f));
      }
      function F(J) {
        var pe = [], oe = J.length, q, W = 0, se = p, Te = d, Ae, Re, Ee, Me, Ne, Oe, Fe, Ue, et;
        for (Ae = J.lastIndexOf(m), Ae < 0 && (Ae = 0), Re = 0; Re < Ae; ++Re)
          J.charCodeAt(Re) >= 128 && S("not-basic"), pe.push(J.charCodeAt(Re));
        for (Ee = Ae > 0 ? Ae + 1 : 0; Ee < oe; ) {
          for (Me = W, Ne = 1, Oe = l; Ee >= oe && S("invalid-input"), Fe = L(J.charCodeAt(Ee++)), (Fe >= l || Fe > T((s - W) / Ne)) && S("overflow"), W += Fe * Ne, Ue = Oe <= Te ? u : Oe >= Te + c ? c : Oe - Te, !(Fe < Ue); Oe += l)
            et = l - Ue, Ne > T(s / et) && S("overflow"), Ne *= et;
          q = pe.length + 1, Te = R(W - Me, q, Me == 0), T(W / q) > s - se && S("overflow"), se += T(W / q), W %= q, pe.splice(W++, 0, se);
        }
        return N(pe);
      }
      function $(J) {
        var pe, oe, q, W, se, Te, Ae, Re, Ee, Me, Ne, Oe = [], Fe, Ue, et, ot;
        for (J = w(J), Fe = J.length, pe = p, oe = 0, se = d, Te = 0; Te < Fe; ++Te)
          Ne = J[Te], Ne < 128 && Oe.push(E(Ne));
        for (q = W = Oe.length, W && Oe.push(m); q < Fe; ) {
          for (Ae = s, Te = 0; Te < Fe; ++Te)
            Ne = J[Te], Ne >= pe && Ne < Ae && (Ae = Ne);
          for (Ue = q + 1, Ae - pe > T((s - oe) / Ue) && S("overflow"), oe += (Ae - pe) * Ue, pe = Ae, Te = 0; Te < Fe; ++Te)
            if (Ne = J[Te], Ne < pe && ++oe > s && S("overflow"), Ne == pe) {
              for (Re = oe, Ee = l; Me = Ee <= se ? u : Ee >= se + c ? c : Ee - se, !(Re < Me); Ee += l)
                ot = Re - Me, et = l - Me, Oe.push(
                  E(A(Me + ot % et, 0))
                ), Re = T(ot / et);
              Oe.push(E(A(Re, 0))), se = R(oe, Ue, q == W), oe = 0, ++q;
            }
          ++oe, ++pe;
        }
        return Oe.join("");
      }
      function K(J) {
        return C(J, function(pe) {
          return g.test(pe) ? F(pe.slice(4).toLowerCase()) : pe;
        });
      }
      function ie(J) {
        return C(J, function(pe) {
          return v.test(pe) ? "xn--" + $(pe) : pe;
        });
      }
      if (a = {
        /**
         * A string representing the current Punycode.js version number.
         * @memberOf punycode
         * @type String
         */
        version: "1.3.2",
        /**
         * An object of methods to convert from JavaScript's internal character
         * representation (UCS-2) to Unicode code points, and back.
         * @see <https://mathiasbynens.be/notes/javascript-encoding>
         * @memberOf punycode
         * @type Object
         */
        ucs2: {
          decode: w,
          encode: N
        },
        decode: F,
        encode: $,
        toASCII: ie,
        toUnicode: K
      }, n && i)
        if (e13.exports == n)
          i.exports = a;
        else
          for (O in a)
            a.hasOwnProperty(O) && (n[O] = a[O]);
      else
        r.punycode = a;
    })(kJ);
  }(pm, pm.exports)), pm.exports;
}
var WS;
var u5;
function RJ() {
  return u5 || (u5 = 1, WS = {
    isString: function(e13) {
      return typeof e13 == "string";
    },
    isObject: function(e13) {
      return typeof e13 == "object" && e13 !== null;
    },
    isNull: function(e13) {
      return e13 === null;
    },
    isNullOrUndefined: function(e13) {
      return e13 == null;
    }
  }), WS;
}
var mh = {};
var YS;
var h5;
function NJ() {
  if (h5) return YS;
  h5 = 1;
  function e13(t, r) {
    return Object.prototype.hasOwnProperty.call(t, r);
  }
  return YS = function(t, r, n, i) {
    r = r || "&", n = n || "=";
    var o = {};
    if (typeof t != "string" || t.length === 0)
      return o;
    var a = /\+/g;
    t = t.split(r);
    var s = 1e3;
    i && typeof i.maxKeys == "number" && (s = i.maxKeys);
    var l = t.length;
    s > 0 && l > s && (l = s);
    for (var u = 0; u < l; ++u) {
      var c = t[u].replace(a, "%20"), f = c.indexOf(n), h, d, p, m;
      f >= 0 ? (h = c.substr(0, f), d = c.substr(f + 1)) : (h = c, d = ""), p = decodeURIComponent(h), m = decodeURIComponent(d), e13(o, p) ? Array.isArray(o[p]) ? o[p].push(m) : o[p] = [o[p], m] : o[p] = m;
    }
    return o;
  }, YS;
}
var qS;
var f5;
function MJ() {
  if (f5) return qS;
  f5 = 1;
  var e13 = function(t) {
    switch (typeof t) {
      case "string":
        return t;
      case "boolean":
        return t ? "true" : "false";
      case "number":
        return isFinite(t) ? t : "";
      default:
        return "";
    }
  };
  return qS = function(t, r, n, i) {
    return r = r || "&", n = n || "=", t === null && (t = void 0), typeof t == "object" ? Object.keys(t).map(function(o) {
      var a = encodeURIComponent(e13(o)) + n;
      return Array.isArray(t[o]) ? t[o].map(function(s) {
        return a + encodeURIComponent(e13(s));
      }).join(r) : a + encodeURIComponent(e13(t[o]));
    }).join(r) : i ? encodeURIComponent(e13(i)) + n + encodeURIComponent(e13(t)) : "";
  }, qS;
}
var d5;
function LJ() {
  return d5 || (d5 = 1, mh.decode = mh.parse = NJ(), mh.encode = mh.stringify = MJ()), mh;
}
var p5;
function BJ() {
  if (p5) return mc;
  p5 = 1;
  var e13 = DJ(), t = RJ();
  mc.parse = b, mc.resolve = _, mc.resolveObject = T, mc.format = y, mc.Url = r;
  function r() {
    this.protocol = null, this.slashes = null, this.auth = null, this.host = null, this.port = null, this.hostname = null, this.hash = null, this.search = null, this.query = null, this.pathname = null, this.path = null, this.href = null;
  }
  var n = /^([a-z0-9.+-]+:)/i, i = /:[0-9]*$/, o = /^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/, a = ["<", ">", '"', "`", " ", "\r", `
`, "	"], s = ["{", "}", "|", "\\", "^", "`"].concat(a), l = ["'"].concat(s), u = ["%", "/", "?", ";", "#"].concat(l), c = ["/", "?", "#"], f = 255, h = /^[+a-z0-9A-Z_-]{0,63}$/, d = /^([+a-z0-9A-Z_-]{0,63})(.*)$/, p = {
    javascript: true,
    "javascript:": true
  }, m = {
    javascript: true,
    "javascript:": true
  }, g = {
    http: true,
    https: true,
    ftp: true,
    gopher: true,
    file: true,
    "http:": true,
    "https:": true,
    "ftp:": true,
    "gopher:": true,
    "file:": true
  }, v = LJ();
  function b(E, O, S) {
    if (E && t.isObject(E) && E instanceof r) return E;
    var P = new r();
    return P.parse(E, O, S), P;
  }
  r.prototype.parse = function(E, O, S) {
    if (!t.isString(E))
      throw new TypeError("Parameter 'url' must be a string, not " + typeof E);
    var P = E.indexOf("?"), C = P !== -1 && P < E.indexOf("#") ? "?" : "#", w = E.split(C), N = /\\/g;
    w[0] = w[0].replace(N, "/"), E = w.join(C);
    var L = E;
    if (L = L.trim(), !S && E.split("#").length === 1) {
      var A = o.exec(L);
      if (A)
        return this.path = L, this.href = L, this.pathname = A[1], A[2] ? (this.search = A[2], O ? this.query = v.parse(this.search.substr(1)) : this.query = this.search.substr(1)) : O && (this.search = "", this.query = {}), this;
    }
    var R = n.exec(L);
    if (R) {
      R = R[0];
      var F = R.toLowerCase();
      this.protocol = F, L = L.substr(R.length);
    }
    if (S || R || L.match(/^\/\/[^@\/]+@[^@\/]+/)) {
      var $ = L.substr(0, 2) === "//";
      $ && !(R && m[R]) && (L = L.substr(2), this.slashes = true);
    }
    if (!m[R] && ($ || R && !g[R])) {
      for (var K = -1, ie = 0; ie < c.length; ie++) {
        var J = L.indexOf(c[ie]);
        J !== -1 && (K === -1 || J < K) && (K = J);
      }
      var pe, oe;
      K === -1 ? oe = L.lastIndexOf("@") : oe = L.lastIndexOf("@", K), oe !== -1 && (pe = L.slice(0, oe), L = L.slice(oe + 1), this.auth = decodeURIComponent(pe)), K = -1;
      for (var ie = 0; ie < u.length; ie++) {
        var J = L.indexOf(u[ie]);
        J !== -1 && (K === -1 || J < K) && (K = J);
      }
      K === -1 && (K = L.length), this.host = L.slice(0, K), L = L.slice(K), this.parseHost(), this.hostname = this.hostname || "";
      var q = this.hostname[0] === "[" && this.hostname[this.hostname.length - 1] === "]";
      if (!q)
        for (var W = this.hostname.split(/\./), ie = 0, se = W.length; ie < se; ie++) {
          var Te = W[ie];
          if (Te && !Te.match(h)) {
            for (var Ae = "", Re = 0, Ee = Te.length; Re < Ee; Re++)
              Te.charCodeAt(Re) > 127 ? Ae += "x" : Ae += Te[Re];
            if (!Ae.match(h)) {
              var Me = W.slice(0, ie), Ne = W.slice(ie + 1), Oe = Te.match(d);
              Oe && (Me.push(Oe[1]), Ne.unshift(Oe[2])), Ne.length && (L = "/" + Ne.join(".") + L), this.hostname = Me.join(".");
              break;
            }
          }
        }
      this.hostname.length > f ? this.hostname = "" : this.hostname = this.hostname.toLowerCase(), q || (this.hostname = e13.toASCII(this.hostname));
      var Fe = this.port ? ":" + this.port : "", Ue = this.hostname || "";
      this.host = Ue + Fe, this.href += this.host, q && (this.hostname = this.hostname.substr(1, this.hostname.length - 2), L[0] !== "/" && (L = "/" + L));
    }
    if (!p[F])
      for (var ie = 0, se = l.length; ie < se; ie++) {
        var et = l[ie];
        if (L.indexOf(et) !== -1) {
          var ot = encodeURIComponent(et);
          ot === et && (ot = escape(et)), L = L.split(et).join(ot);
        }
      }
    var Ke = L.indexOf("#");
    Ke !== -1 && (this.hash = L.substr(Ke), L = L.slice(0, Ke));
    var ht = L.indexOf("?");
    if (ht !== -1 ? (this.search = L.substr(ht), this.query = L.substr(ht + 1), O && (this.query = v.parse(this.query)), L = L.slice(0, ht)) : O && (this.search = "", this.query = {}), L && (this.pathname = L), g[F] && this.hostname && !this.pathname && (this.pathname = "/"), this.pathname || this.search) {
      var Fe = this.pathname || "", bt = this.search || "";
      this.path = Fe + bt;
    }
    return this.href = this.format(), this;
  };
  function y(E) {
    return t.isString(E) && (E = b(E)), E instanceof r ? E.format() : r.prototype.format.call(E);
  }
  r.prototype.format = function() {
    var E = this.auth || "";
    E && (E = encodeURIComponent(E), E = E.replace(/%3A/i, ":"), E += "@");
    var O = this.protocol || "", S = this.pathname || "", P = this.hash || "", C = false, w = "";
    this.host ? C = E + this.host : this.hostname && (C = E + (this.hostname.indexOf(":") === -1 ? this.hostname : "[" + this.hostname + "]"), this.port && (C += ":" + this.port)), this.query && t.isObject(this.query) && Object.keys(this.query).length && (w = v.stringify(this.query));
    var N = this.search || w && "?" + w || "";
    return O && O.substr(-1) !== ":" && (O += ":"), this.slashes || (!O || g[O]) && C !== false ? (C = "//" + (C || ""), S && S.charAt(0) !== "/" && (S = "/" + S)) : C || (C = ""), P && P.charAt(0) !== "#" && (P = "#" + P), N && N.charAt(0) !== "?" && (N = "?" + N), S = S.replace(/[?#]/g, function(L) {
      return encodeURIComponent(L);
    }), N = N.replace("#", "%23"), O + C + S + N + P;
  };
  function _(E, O) {
    return b(E, false, true).resolve(O);
  }
  r.prototype.resolve = function(E) {
    return this.resolveObject(b(E, false, true)).format();
  };
  function T(E, O) {
    return E ? b(E, false, true).resolveObject(O) : O;
  }
  return r.prototype.resolveObject = function(E) {
    if (t.isString(E)) {
      var O = new r();
      O.parse(E, false, true), E = O;
    }
    for (var S = new r(), P = Object.keys(this), C = 0; C < P.length; C++) {
      var w = P[C];
      S[w] = this[w];
    }
    if (S.hash = E.hash, E.href === "")
      return S.href = S.format(), S;
    if (E.slashes && !E.protocol) {
      for (var N = Object.keys(E), L = 0; L < N.length; L++) {
        var A = N[L];
        A !== "protocol" && (S[A] = E[A]);
      }
      return g[S.protocol] && S.hostname && !S.pathname && (S.path = S.pathname = "/"), S.href = S.format(), S;
    }
    if (E.protocol && E.protocol !== S.protocol) {
      if (!g[E.protocol]) {
        for (var R = Object.keys(E), F = 0; F < R.length; F++) {
          var $ = R[F];
          S[$] = E[$];
        }
        return S.href = S.format(), S;
      }
      if (S.protocol = E.protocol, !E.host && !m[E.protocol]) {
        for (var se = (E.pathname || "").split("/"); se.length && !(E.host = se.shift()); ) ;
        E.host || (E.host = ""), E.hostname || (E.hostname = ""), se[0] !== "" && se.unshift(""), se.length < 2 && se.unshift(""), S.pathname = se.join("/");
      } else
        S.pathname = E.pathname;
      if (S.search = E.search, S.query = E.query, S.host = E.host || "", S.auth = E.auth, S.hostname = E.hostname || E.host, S.port = E.port, S.pathname || S.search) {
        var K = S.pathname || "", ie = S.search || "";
        S.path = K + ie;
      }
      return S.slashes = S.slashes || E.slashes, S.href = S.format(), S;
    }
    var J = S.pathname && S.pathname.charAt(0) === "/", pe = E.host || E.pathname && E.pathname.charAt(0) === "/", oe = pe || J || S.host && E.pathname, q = oe, W = S.pathname && S.pathname.split("/") || [], se = E.pathname && E.pathname.split("/") || [], Te = S.protocol && !g[S.protocol];
    if (Te && (S.hostname = "", S.port = null, S.host && (W[0] === "" ? W[0] = S.host : W.unshift(S.host)), S.host = "", E.protocol && (E.hostname = null, E.port = null, E.host && (se[0] === "" ? se[0] = E.host : se.unshift(E.host)), E.host = null), oe = oe && (se[0] === "" || W[0] === "")), pe)
      S.host = E.host || E.host === "" ? E.host : S.host, S.hostname = E.hostname || E.hostname === "" ? E.hostname : S.hostname, S.search = E.search, S.query = E.query, W = se;
    else if (se.length)
      W || (W = []), W.pop(), W = W.concat(se), S.search = E.search, S.query = E.query;
    else if (!t.isNullOrUndefined(E.search)) {
      if (Te) {
        S.hostname = S.host = W.shift();
        var Ae = S.host && S.host.indexOf("@") > 0 ? S.host.split("@") : false;
        Ae && (S.auth = Ae.shift(), S.host = S.hostname = Ae.shift());
      }
      return S.search = E.search, S.query = E.query, (!t.isNull(S.pathname) || !t.isNull(S.search)) && (S.path = (S.pathname ? S.pathname : "") + (S.search ? S.search : "")), S.href = S.format(), S;
    }
    if (!W.length)
      return S.pathname = null, S.search ? S.path = "/" + S.search : S.path = null, S.href = S.format(), S;
    for (var Re = W.slice(-1)[0], Ee = (S.host || E.host || W.length > 1) && (Re === "." || Re === "..") || Re === "", Me = 0, Ne = W.length; Ne >= 0; Ne--)
      Re = W[Ne], Re === "." ? W.splice(Ne, 1) : Re === ".." ? (W.splice(Ne, 1), Me++) : Me && (W.splice(Ne, 1), Me--);
    if (!oe && !q)
      for (; Me--; Me)
        W.unshift("..");
    oe && W[0] !== "" && (!W[0] || W[0].charAt(0) !== "/") && W.unshift(""), Ee && W.join("/").substr(-1) !== "/" && W.push("");
    var Oe = W[0] === "" || W[0] && W[0].charAt(0) === "/";
    if (Te) {
      S.hostname = S.host = Oe ? "" : W.length ? W.shift() : "";
      var Ae = S.host && S.host.indexOf("@") > 0 ? S.host.split("@") : false;
      Ae && (S.auth = Ae.shift(), S.host = S.hostname = Ae.shift());
    }
    return oe = oe || S.host && W.length, oe && !Oe && W.unshift(""), W.length ? S.pathname = W.join("/") : (S.pathname = null, S.path = null), (!t.isNull(S.pathname) || !t.isNull(S.search)) && (S.path = (S.pathname ? S.pathname : "") + (S.search ? S.search : "")), S.auth = E.auth || S.auth, S.slashes = S.slashes || E.slashes, S.href = S.format(), S;
  }, r.prototype.parseHost = function() {
    var E = this.host, O = i.exec(E);
    O && (O = O[0], O !== ":" && (this.port = O.substr(1)), E = E.substr(0, E.length - O.length)), E && (this.hostname = E);
  }, mc;
}
var G4 = BJ();
var z4 = Ws(G4);
var Ba;
(function(e13) {
  e13[e13.WEBGL_LEGACY = 0] = "WEBGL_LEGACY", e13[e13.WEBGL = 1] = "WEBGL", e13[e13.WEBGL2 = 2] = "WEBGL2";
})(Ba || (Ba = {}));
var Vf;
(function(e13) {
  e13[e13.UNKNOWN = 0] = "UNKNOWN", e13[e13.WEBGL = 1] = "WEBGL", e13[e13.CANVAS = 2] = "CANVAS";
})(Vf || (Vf = {}));
var Fg;
(function(e13) {
  e13[e13.COLOR = 16384] = "COLOR", e13[e13.DEPTH = 256] = "DEPTH", e13[e13.STENCIL = 1024] = "STENCIL";
})(Fg || (Fg = {}));
var _t;
(function(e13) {
  e13[e13.NORMAL = 0] = "NORMAL", e13[e13.ADD = 1] = "ADD", e13[e13.MULTIPLY = 2] = "MULTIPLY", e13[e13.SCREEN = 3] = "SCREEN", e13[e13.OVERLAY = 4] = "OVERLAY", e13[e13.DARKEN = 5] = "DARKEN", e13[e13.LIGHTEN = 6] = "LIGHTEN", e13[e13.COLOR_DODGE = 7] = "COLOR_DODGE", e13[e13.COLOR_BURN = 8] = "COLOR_BURN", e13[e13.HARD_LIGHT = 9] = "HARD_LIGHT", e13[e13.SOFT_LIGHT = 10] = "SOFT_LIGHT", e13[e13.DIFFERENCE = 11] = "DIFFERENCE", e13[e13.EXCLUSION = 12] = "EXCLUSION", e13[e13.HUE = 13] = "HUE", e13[e13.SATURATION = 14] = "SATURATION", e13[e13.COLOR = 15] = "COLOR", e13[e13.LUMINOSITY = 16] = "LUMINOSITY", e13[e13.NORMAL_NPM = 17] = "NORMAL_NPM", e13[e13.ADD_NPM = 18] = "ADD_NPM", e13[e13.SCREEN_NPM = 19] = "SCREEN_NPM", e13[e13.NONE = 20] = "NONE", e13[e13.SRC_OVER = 0] = "SRC_OVER", e13[e13.SRC_IN = 21] = "SRC_IN", e13[e13.SRC_OUT = 22] = "SRC_OUT", e13[e13.SRC_ATOP = 23] = "SRC_ATOP", e13[e13.DST_OVER = 24] = "DST_OVER", e13[e13.DST_IN = 25] = "DST_IN", e13[e13.DST_OUT = 26] = "DST_OUT", e13[e13.DST_ATOP = 27] = "DST_ATOP", e13[e13.ERASE = 26] = "ERASE", e13[e13.SUBTRACT = 28] = "SUBTRACT", e13[e13.XOR = 29] = "XOR";
})(_t || (_t = {}));
var To;
(function(e13) {
  e13[e13.POINTS = 0] = "POINTS", e13[e13.LINES = 1] = "LINES", e13[e13.LINE_LOOP = 2] = "LINE_LOOP", e13[e13.LINE_STRIP = 3] = "LINE_STRIP", e13[e13.TRIANGLES = 4] = "TRIANGLES", e13[e13.TRIANGLE_STRIP = 5] = "TRIANGLE_STRIP", e13[e13.TRIANGLE_FAN = 6] = "TRIANGLE_FAN";
})(To || (To = {}));
var Xf;
(function(e13) {
  e13[e13.RGBA = 6408] = "RGBA", e13[e13.RGB = 6407] = "RGB", e13[e13.ALPHA = 6406] = "ALPHA", e13[e13.LUMINANCE = 6409] = "LUMINANCE", e13[e13.LUMINANCE_ALPHA = 6410] = "LUMINANCE_ALPHA", e13[e13.DEPTH_COMPONENT = 6402] = "DEPTH_COMPONENT", e13[e13.DEPTH_STENCIL = 34041] = "DEPTH_STENCIL";
})(Xf || (Xf = {}));
var Ll;
(function(e13) {
  e13[e13.TEXTURE_2D = 3553] = "TEXTURE_2D", e13[e13.TEXTURE_CUBE_MAP = 34067] = "TEXTURE_CUBE_MAP", e13[e13.TEXTURE_2D_ARRAY = 35866] = "TEXTURE_2D_ARRAY", e13[e13.TEXTURE_CUBE_MAP_POSITIVE_X = 34069] = "TEXTURE_CUBE_MAP_POSITIVE_X", e13[e13.TEXTURE_CUBE_MAP_NEGATIVE_X = 34070] = "TEXTURE_CUBE_MAP_NEGATIVE_X", e13[e13.TEXTURE_CUBE_MAP_POSITIVE_Y = 34071] = "TEXTURE_CUBE_MAP_POSITIVE_Y", e13[e13.TEXTURE_CUBE_MAP_NEGATIVE_Y = 34072] = "TEXTURE_CUBE_MAP_NEGATIVE_Y", e13[e13.TEXTURE_CUBE_MAP_POSITIVE_Z = 34073] = "TEXTURE_CUBE_MAP_POSITIVE_Z", e13[e13.TEXTURE_CUBE_MAP_NEGATIVE_Z = 34074] = "TEXTURE_CUBE_MAP_NEGATIVE_Z";
})(Ll || (Ll = {}));
var on;
(function(e13) {
  e13[e13.UNSIGNED_BYTE = 5121] = "UNSIGNED_BYTE", e13[e13.UNSIGNED_SHORT = 5123] = "UNSIGNED_SHORT", e13[e13.UNSIGNED_SHORT_5_6_5 = 33635] = "UNSIGNED_SHORT_5_6_5", e13[e13.UNSIGNED_SHORT_4_4_4_4 = 32819] = "UNSIGNED_SHORT_4_4_4_4", e13[e13.UNSIGNED_SHORT_5_5_5_1 = 32820] = "UNSIGNED_SHORT_5_5_5_1", e13[e13.FLOAT = 5126] = "FLOAT", e13[e13.HALF_FLOAT = 36193] = "HALF_FLOAT";
})(on || (on = {}));
var Ca;
(function(e13) {
  e13[e13.NEAREST = 0] = "NEAREST", e13[e13.LINEAR = 1] = "LINEAR";
})(Ca || (Ca = {}));
var ws;
(function(e13) {
  e13[e13.CLAMP = 33071] = "CLAMP", e13[e13.REPEAT = 10497] = "REPEAT", e13[e13.MIRRORED_REPEAT = 33648] = "MIRRORED_REPEAT";
})(ws || (ws = {}));
var Wf;
(function(e13) {
  e13[e13.OFF = 0] = "OFF", e13[e13.POW2 = 1] = "POW2", e13[e13.ON = 2] = "ON";
})(Wf || (Wf = {}));
var Cs;
(function(e13) {
  e13[e13.NPM = 0] = "NPM", e13[e13.UNPACK = 1] = "UNPACK", e13[e13.PMA = 2] = "PMA", e13[e13.NO_PREMULTIPLIED_ALPHA = 0] = "NO_PREMULTIPLIED_ALPHA", e13[e13.PREMULTIPLY_ON_UPLOAD = 1] = "PREMULTIPLY_ON_UPLOAD", e13[e13.PREMULTIPLY_ALPHA = 2] = "PREMULTIPLY_ALPHA";
})(Cs || (Cs = {}));
var Bo;
(function(e13) {
  e13[e13.NO = 0] = "NO", e13[e13.YES = 1] = "YES", e13[e13.AUTO = 2] = "AUTO", e13[e13.BLEND = 0] = "BLEND", e13[e13.CLEAR = 1] = "CLEAR", e13[e13.BLIT = 2] = "BLIT";
})(Bo || (Bo = {}));
var Wb;
(function(e13) {
  e13[e13.AUTO = 0] = "AUTO", e13[e13.MANUAL = 1] = "MANUAL";
})(Wb || (Wb = {}));
var Vo;
(function(e13) {
  e13.LOW = "lowp", e13.MEDIUM = "mediump", e13.HIGH = "highp";
})(Vo || (Vo = {}));
var ki;
(function(e13) {
  e13[e13.NONE = 0] = "NONE", e13[e13.SCISSOR = 1] = "SCISSOR", e13[e13.STENCIL = 2] = "STENCIL", e13[e13.SPRITE = 3] = "SPRITE";
})(ki || (ki = {}));
var ou;
(function(e13) {
  e13[e13.NONE = 0] = "NONE", e13[e13.LOW = 2] = "LOW", e13[e13.MEDIUM = 4] = "MEDIUM", e13[e13.HIGH = 8] = "HIGH";
})(ou || (ou = {}));
ft.RETINA_PREFIX = /@([0-9\.]+)x/;
ft.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT = true;
var iI = false;
var m5 = "5.3.12";
function FJ() {
  iI = true;
}
function V4(e13) {
  var t;
  if (!iI) {
    if (navigator.userAgent.toLowerCase().indexOf("chrome") > -1) {
      var r = [
        `
 %c %c %c PixiJS ` + m5 + " - ✰ " + e13 + ` ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ 

`,
        "background: #ff66a5; padding:5px 0;",
        "background: #ff66a5; padding:5px 0;",
        "color: #ff66a5; background: #030307; padding:5px 0;",
        "background: #ff66a5; padding:5px 0;",
        "background: #ffc3dc; padding:5px 0;",
        "background: #ff66a5; padding:5px 0;",
        "color: #ff2424; background: #fff; padding:5px 0;",
        "color: #ff2424; background: #fff; padding:5px 0;",
        "color: #ff2424; background: #fff; padding:5px 0;"
      ];
      (t = window.console).log.apply(t, r);
    } else window.console && window.console.log("PixiJS " + m5 + " - " + e13 + " - http://www.pixijs.com/");
    iI = true;
  }
}
var KS;
function X4() {
  return typeof KS > "u" && (KS = function() {
    var t = {
      stencil: true,
      failIfMajorPerformanceCaveat: ft.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT
    };
    try {
      if (!window.WebGLRenderingContext)
        return false;
      var r = document.createElement("canvas"), n = r.getContext("webgl", t) || r.getContext("experimental-webgl", t), i = !!(n && n.getContextAttributes().stencil);
      if (n) {
        var o = n.getExtension("WEBGL_lose_context");
        o && o.loseContext();
      }
      return n = null, i;
    } catch {
      return false;
    }
  }()), KS;
}
function au(e13, t) {
  return t === void 0 && (t = []), t[0] = (e13 >> 16 & 255) / 255, t[1] = (e13 >> 8 & 255) / 255, t[2] = (e13 & 255) / 255, t;
}
function sD(e13) {
  var t = e13.toString(16);
  return t = "000000".substr(0, 6 - t.length) + t, "#" + t;
}
function lD(e13) {
  return typeof e13 == "string" && e13[0] === "#" && (e13 = e13.substr(1)), parseInt(e13, 16);
}
function $J(e13) {
  return (e13[0] * 255 << 16) + (e13[1] * 255 << 8) + (e13[2] * 255 | 0);
}
function HJ() {
  for (var e13 = [], t = [], r = 0; r < 32; r++)
    e13[r] = r, t[r] = r;
  e13[_t.NORMAL_NPM] = _t.NORMAL, e13[_t.ADD_NPM] = _t.ADD, e13[_t.SCREEN_NPM] = _t.SCREEN, t[_t.NORMAL] = _t.NORMAL_NPM, t[_t.ADD] = _t.ADD_NPM, t[_t.SCREEN] = _t.SCREEN_NPM;
  var n = [];
  return n.push(t), n.push(e13), n;
}
var cD = HJ();
function uD(e13, t) {
  return cD[t ? 1 : 0][e13];
}
function W4(e13, t, r, n) {
  return r = r || new Float32Array(4), n || n === void 0 ? (r[0] = e13[0] * t, r[1] = e13[1] * t, r[2] = e13[2] * t) : (r[0] = e13[0], r[1] = e13[1], r[2] = e13[2]), r[3] = t, r;
}
function xE(e13, t) {
  if (t === 1)
    return (t * 255 << 24) + e13;
  if (t === 0)
    return 0;
  var r = e13 >> 16 & 255, n = e13 >> 8 & 255, i = e13 & 255;
  return r = r * t + 0.5 | 0, n = n * t + 0.5 | 0, i = i * t + 0.5 | 0, (t * 255 << 24) + (r << 16) + (n << 8) + i;
}
function hD(e13, t, r, n) {
  return r = r || new Float32Array(4), r[0] = (e13 >> 16 & 255) / 255, r[1] = (e13 >> 8 & 255) / 255, r[2] = (e13 & 255) / 255, (n || n === void 0) && (r[0] *= t, r[1] *= t, r[2] *= t), r[3] = t, r;
}
function Y4(e13, t) {
  t === void 0 && (t = null);
  var r = e13 * 6;
  if (t = t || new Uint16Array(r), t.length !== r)
    throw new Error("Out buffer length is incorrect, got " + t.length + " and expected " + r);
  for (var n = 0, i = 0; n < r; n += 6, i += 4)
    t[n + 0] = i + 0, t[n + 1] = i + 1, t[n + 2] = i + 2, t[n + 3] = i + 0, t[n + 4] = i + 2, t[n + 5] = i + 3;
  return t;
}
function q4(e13) {
  if (e13.BYTES_PER_ELEMENT === 4)
    return e13 instanceof Float32Array ? "Float32Array" : e13 instanceof Uint32Array ? "Uint32Array" : "Int32Array";
  if (e13.BYTES_PER_ELEMENT === 2) {
    if (e13 instanceof Uint16Array)
      return "Uint16Array";
  } else if (e13.BYTES_PER_ELEMENT === 1 && e13 instanceof Uint8Array)
    return "Uint8Array";
  return null;
}
var UJ = { Float32Array, Uint32Array, Int32Array, Uint8Array };
function jJ(e13, t) {
  for (var r = 0, n = 0, i = {}, o = 0; o < e13.length; o++)
    n += t[o], r += e13[o].length;
  for (var a = new ArrayBuffer(r * 4), s = null, l = 0, o = 0; o < e13.length; o++) {
    var u = t[o], c = e13[o], f = q4(c);
    i[f] || (i[f] = new UJ[f](a)), s = i[f];
    for (var h = 0; h < c.length; h++) {
      var d = (h / u | 0) * n + l, p = h % u;
      s[d + p] = c[h];
    }
    l += u;
  }
  return new Float32Array(a);
}
function $g(e13) {
  return e13 += e13 === 0 ? 1 : 0, --e13, e13 |= e13 >>> 1, e13 |= e13 >>> 2, e13 |= e13 >>> 4, e13 |= e13 >>> 8, e13 |= e13 >>> 16, e13 + 1;
}
function oI(e13) {
  return !(e13 & e13 - 1) && !!e13;
}
function aI(e13) {
  var t = (e13 > 65535 ? 1 : 0) << 4;
  e13 >>>= t;
  var r = (e13 > 255 ? 1 : 0) << 3;
  return e13 >>>= r, t |= r, r = (e13 > 15 ? 1 : 0) << 2, e13 >>>= r, t |= r, r = (e13 > 3 ? 1 : 0) << 1, e13 >>>= r, t |= r, t | e13 >> 1;
}
function Kc(e13, t, r) {
  var n = e13.length, i;
  if (!(t >= n || r === 0)) {
    r = t + r > n ? n - t : r;
    var o = n - r;
    for (i = t; i < o; ++i)
      e13[i] = e13[i + r];
    e13.length = o;
  }
}
function $c(e13) {
  return e13 === 0 ? 0 : e13 < 0 ? -1 : 1;
}
var GJ = 0;
function su() {
  return ++GJ;
}
var g5 = {};
function ze(e13, t, r) {
  if (r === void 0 && (r = 3), !g5[t]) {
    var n = new Error().stack;
    typeof n > "u" ? console.warn("PixiJS Deprecation Warning: ", t + `
Deprecated since v` + e13) : (n = n.split(`
`).splice(r).join(`
`), console.groupCollapsed ? (console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s", "color:#614108;background:#fffbe6", "font-weight:normal;color:#614108;background:#fffbe6", t + `
Deprecated since v` + e13), console.warn(n), console.groupEnd()) : (console.warn("PixiJS Deprecation Warning: ", t + `
Deprecated since v` + e13), console.warn(n))), g5[t] = true;
  }
}
var sI = {};
var Di = /* @__PURE__ */ Object.create(null);
var mo = /* @__PURE__ */ Object.create(null);
function zJ() {
  var e13;
  for (e13 in Di)
    Di[e13].destroy();
  for (e13 in mo)
    mo[e13].destroy();
}
function VJ() {
  var e13;
  for (e13 in Di)
    delete Di[e13];
  for (e13 in mo)
    delete mo[e13];
}
var lI = (
  /** @class */
  function() {
    function e13(t, r, n) {
      this.canvas = document.createElement("canvas"), this.context = this.canvas.getContext("2d"), this.resolution = n || ft.RESOLUTION, this.resize(t, r);
    }
    return e13.prototype.clear = function() {
      this.context.setTransform(1, 0, 0, 1, 0, 0), this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);
    }, e13.prototype.resize = function(t, r) {
      this.canvas.width = t * this.resolution, this.canvas.height = r * this.resolution;
    }, e13.prototype.destroy = function() {
      this.context = null, this.canvas = null;
    }, Object.defineProperty(e13.prototype, "width", {
      /**
       * The width of the canvas buffer in pixels.
       *
       * @member {number}
       */
      get: function() {
        return this.canvas.width;
      },
      set: function(t) {
        this.canvas.width = t;
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(e13.prototype, "height", {
      /**
       * The height of the canvas buffer in pixels.
       *
       * @member {number}
       */
      get: function() {
        return this.canvas.height;
      },
      set: function(t) {
        this.canvas.height = t;
      },
      enumerable: false,
      configurable: true
    }), e13;
  }()
);
function K4(e13) {
  var t = e13.width, r = e13.height, n = e13.getContext("2d"), i = n.getImageData(0, 0, t, r), o = i.data, a = o.length, s = {
    top: null,
    left: null,
    right: null,
    bottom: null
  }, l = null, u, c, f;
  for (u = 0; u < a; u += 4)
    o[u + 3] !== 0 && (c = u / 4 % t, f = ~~(u / 4 / t), s.top === null && (s.top = f), (s.left === null || c < s.left) && (s.left = c), (s.right === null || s.right < c) && (s.right = c + 1), (s.bottom === null || s.bottom < f) && (s.bottom = f));
  return s.top !== null && (t = s.right - s.left, r = s.bottom - s.top + 1, l = n.getImageData(s.left, s.top, t, r)), {
    height: r,
    width: t,
    data: l
  };
}
var Z4 = /^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;
function XJ(e13) {
  var t = Z4.exec(e13);
  if (t)
    return {
      mediaType: t[1] ? t[1].toLowerCase() : void 0,
      subType: t[2] ? t[2].toLowerCase() : void 0,
      charset: t[3] ? t[3].toLowerCase() : void 0,
      encoding: t[4] ? t[4].toLowerCase() : void 0,
      data: t[5]
    };
}
var Dy;
function Q4(e13, t) {
  if (t === void 0 && (t = window.location), e13.indexOf("data:") === 0)
    return "";
  t = t || window.location, Dy || (Dy = document.createElement("a")), Dy.href = e13;
  var r = G4.parse(Dy.href), n = !r.port && t.port === "" || r.port === t.port;
  return r.hostname !== t.hostname || !n || r.protocol !== t.protocol ? "anonymous" : "";
}
function Hg(e13, t) {
  var r = ft.RETINA_PREFIX.exec(e13);
  return r ? parseFloat(r[1]) : t !== void 0 ? t : 1;
}
var WJ = Object.freeze(Object.defineProperty({
  __proto__: null,
  BaseTextureCache: mo,
  CanvasRenderTarget: lI,
  DATA_URI: Z4,
  EventEmitter: Vd,
  ProgramCache: sI,
  TextureCache: Di,
  clearTextureCache: VJ,
  correctBlendMode: uD,
  createIndicesForQuads: Y4,
  decomposeDataUri: XJ,
  deprecation: ze,
  destroyTextureCache: zJ,
  determineCrossOrigin: Q4,
  earcut: htr,
  getBufferType: q4,
  getResolutionOfUrl: Hg,
  hex2rgb: au,
  hex2string: sD,
  interleaveTypedArrays: jJ,
  isMobile: bo,
  isPow2: oI,
  isWebGLSupported: X4,
  log2: aI,
  nextPow2: $g,
  premultiplyBlendMode: cD,
  premultiplyRgba: W4,
  premultiplyTint: xE,
  premultiplyTintToRgba: hD,
  removeItems: Kc,
  rgb2hex: $J,
  sayHello: V4,
  sign: $c,
  skipHello: FJ,
  string2hex: lD,
  trimCanvas: K4,
  uid: su,
  url: z4
}, Symbol.toStringTag, { value: "Module" }));
var Yf = Math.PI * 2;
var J4 = 180 / Math.PI;
var eG = Math.PI / 180;
var Wr;
(function(e13) {
  e13[e13.POLY = 0] = "POLY", e13[e13.RECT = 1] = "RECT", e13[e13.CIRC = 2] = "CIRC", e13[e13.ELIP = 3] = "ELIP", e13[e13.RREC = 4] = "RREC";
})(Wr || (Wr = {}));
var fr = (
  /** @class */
  function() {
    function e13(t, r, n, i) {
      t === void 0 && (t = 0), r === void 0 && (r = 0), n === void 0 && (n = 0), i === void 0 && (i = 0), this.x = Number(t), this.y = Number(r), this.width = Number(n), this.height = Number(i), this.type = Wr.RECT;
    }
    return Object.defineProperty(e13.prototype, "left", {
      /**
       * returns the left edge of the rectangle
       *
       * @member {number}
       */
      get: function() {
        return this.x;
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(e13.prototype, "right", {
      /**
       * returns the right edge of the rectangle
       *
       * @member {number}
       */
      get: function() {
        return this.x + this.width;
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(e13.prototype, "top", {
      /**
       * returns the top edge of the rectangle
       *
       * @member {number}
       */
      get: function() {
        return this.y;
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(e13.prototype, "bottom", {
      /**
       * returns the bottom edge of the rectangle
       *
       * @member {number}
       */
      get: function() {
        return this.y + this.height;
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(e13, "EMPTY", {
      /**
       * A constant empty rectangle.
       *
       * @static
       * @constant
       * @member {PIXI.Rectangle}
       * @return {PIXI.Rectangle} An empty rectangle
       */
      get: function() {
        return new e13(0, 0, 0, 0);
      },
      enumerable: false,
      configurable: true
    }), e13.prototype.clone = function() {
      return new e13(this.x, this.y, this.width, this.height);
    }, e13.prototype.copyFrom = function(t) {
      return this.x = t.x, this.y = t.y, this.width = t.width, this.height = t.height, this;
    }, e13.prototype.copyTo = function(t) {
      return t.x = this.x, t.y = this.y, t.width = this.width, t.height = this.height, t;
    }, e13.prototype.contains = function(t, r) {
      return this.width <= 0 || this.height <= 0 ? false : t >= this.x && t < this.x + this.width && r >= this.y && r < this.y + this.height;
    }, e13.prototype.pad = function(t, r) {
      return t === void 0 && (t = 0), r === void 0 && (r = t), this.x -= t, this.y -= r, this.width += t * 2, this.height += r * 2, this;
    }, e13.prototype.fit = function(t) {
      var r = Math.max(this.x, t.x), n = Math.min(this.x + this.width, t.x + t.width), i = Math.max(this.y, t.y), o = Math.min(this.y + this.height, t.y + t.height);
      return this.x = r, this.width = Math.max(n - r, 0), this.y = i, this.height = Math.max(o - i, 0), this;
    }, e13.prototype.ceil = function(t, r) {
      t === void 0 && (t = 1), r === void 0 && (r = 1e-3);
      var n = Math.ceil((this.x + this.width - r) * t) / t, i = Math.ceil((this.y + this.height - r) * t) / t;
      return this.x = Math.floor((this.x + r) * t) / t, this.y = Math.floor((this.y + r) * t) / t, this.width = n - this.x, this.height = i - this.y, this;
    }, e13.prototype.enlarge = function(t) {
      var r = Math.min(this.x, t.x), n = Math.max(this.x + this.width, t.x + t.width), i = Math.min(this.y, t.y), o = Math.max(this.y + this.height, t.y + t.height);
      return this.x = r, this.width = n - r, this.y = i, this.height = o - i, this;
    }, e13;
  }()
);
var tG = (
  /** @class */
  function() {
    function e13(t, r, n) {
      t === void 0 && (t = 0), r === void 0 && (r = 0), n === void 0 && (n = 0), this.x = t, this.y = r, this.radius = n, this.type = Wr.CIRC;
    }
    return e13.prototype.clone = function() {
      return new e13(this.x, this.y, this.radius);
    }, e13.prototype.contains = function(t, r) {
      if (this.radius <= 0)
        return false;
      var n = this.radius * this.radius, i = this.x - t, o = this.y - r;
      return i *= i, o *= o, i + o <= n;
    }, e13.prototype.getBounds = function() {
      return new fr(this.x - this.radius, this.y - this.radius, this.radius * 2, this.radius * 2);
    }, e13;
  }()
);
var rG = (
  /** @class */
  function() {
    function e13(t, r, n, i) {
      t === void 0 && (t = 0), r === void 0 && (r = 0), n === void 0 && (n = 0), i === void 0 && (i = 0), this.x = t, this.y = r, this.width = n, this.height = i, this.type = Wr.ELIP;
    }
    return e13.prototype.clone = function() {
      return new e13(this.x, this.y, this.width, this.height);
    }, e13.prototype.contains = function(t, r) {
      if (this.width <= 0 || this.height <= 0)
        return false;
      var n = (t - this.x) / this.width, i = (r - this.y) / this.height;
      return n *= n, i *= i, n + i <= 1;
    }, e13.prototype.getBounds = function() {
      return new fr(this.x - this.width, this.y - this.height, this.width, this.height);
    }, e13;
  }()
);
var _f = (
  /** @class */
  function() {
    function e13() {
      for (var t = arguments, r = [], n = 0; n < arguments.length; n++)
        r[n] = t[n];
      var i = Array.isArray(r[0]) ? r[0] : r;
      if (typeof i[0] != "number") {
        for (var o = [], a = 0, s = i.length; a < s; a++)
          o.push(i[a].x, i[a].y);
        i = o;
      }
      this.points = i, this.type = Wr.POLY, this.closeStroke = true;
    }
    return e13.prototype.clone = function() {
      var t = this.points.slice(), r = new e13(t);
      return r.closeStroke = this.closeStroke, r;
    }, e13.prototype.contains = function(t, r) {
      for (var n = false, i = this.points.length / 2, o = 0, a = i - 1; o < i; a = o++) {
        var s = this.points[o * 2], l = this.points[o * 2 + 1], u = this.points[a * 2], c = this.points[a * 2 + 1], f = l > r != c > r && t < (u - s) * ((r - l) / (c - l)) + s;
        f && (n = !n);
      }
      return n;
    }, e13;
  }()
);
var nG = (
  /** @class */
  function() {
    function e13(t, r, n, i, o) {
      t === void 0 && (t = 0), r === void 0 && (r = 0), n === void 0 && (n = 0), i === void 0 && (i = 0), o === void 0 && (o = 20), this.x = t, this.y = r, this.width = n, this.height = i, this.radius = o, this.type = Wr.RREC;
    }
    return e13.prototype.clone = function() {
      return new e13(this.x, this.y, this.width, this.height, this.radius);
    }, e13.prototype.contains = function(t, r) {
      if (this.width <= 0 || this.height <= 0)
        return false;
      if (t >= this.x && t <= this.x + this.width && r >= this.y && r <= this.y + this.height) {
        if (r >= this.y + this.radius && r <= this.y + this.height - this.radius || t >= this.x + this.radius && t <= this.x + this.width - this.radius)
          return true;
        var n = t - (this.x + this.radius), i = r - (this.y + this.radius), o = this.radius * this.radius;
        if (n * n + i * i <= o || (n = t - (this.x + this.width - this.radius), n * n + i * i <= o) || (i = r - (this.y + this.height - this.radius), n * n + i * i <= o) || (n = t - (this.x + this.radius), n * n + i * i <= o))
          return true;
      }
      return false;
    }, e13;
  }()
);
var On = (
  /** @class */
  function() {
    function e13(t, r) {
      t === void 0 && (t = 0), r === void 0 && (r = 0), this.x = t, this.y = r;
    }
    return e13.prototype.clone = function() {
      return new e13(this.x, this.y);
    }, e13.prototype.copyFrom = function(t) {
      return this.set(t.x, t.y), this;
    }, e13.prototype.copyTo = function(t) {
      return t.set(this.x, this.y), t;
    }, e13.prototype.equals = function(t) {
      return t.x === this.x && t.y === this.y;
    }, e13.prototype.set = function(t, r) {
      return t === void 0 && (t = 0), r === void 0 && (r = t), this.x = t, this.y = r, this;
    }, e13;
  }()
);
var Hc = (
  /** @class */
  function() {
    function e13(t, r, n, i) {
      n === void 0 && (n = 0), i === void 0 && (i = 0), this._x = n, this._y = i, this.cb = t, this.scope = r;
    }
    return e13.prototype.clone = function(t, r) {
      return t === void 0 && (t = this.cb), r === void 0 && (r = this.scope), new e13(t, r, this._x, this._y);
    }, e13.prototype.set = function(t, r) {
      return t === void 0 && (t = 0), r === void 0 && (r = t), (this._x !== t || this._y !== r) && (this._x = t, this._y = r, this.cb.call(this.scope)), this;
    }, e13.prototype.copyFrom = function(t) {
      return (this._x !== t.x || this._y !== t.y) && (this._x = t.x, this._y = t.y, this.cb.call(this.scope)), this;
    }, e13.prototype.copyTo = function(t) {
      return t.set(this._x, this._y), t;
    }, e13.prototype.equals = function(t) {
      return t.x === this._x && t.y === this._y;
    }, Object.defineProperty(e13.prototype, "x", {
      /**
       * The position of the displayObject on the x axis relative to the local coordinates of the parent.
       *
       * @member {number}
       */
      get: function() {
        return this._x;
      },
      set: function(t) {
        this._x !== t && (this._x = t, this.cb.call(this.scope));
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(e13.prototype, "y", {
      /**
       * The position of the displayObject on the x axis relative to the local coordinates of the parent.
       *
       * @member {number}
       */
      get: function() {
        return this._y;
      },
      set: function(t) {
        this._y !== t && (this._y = t, this.cb.call(this.scope));
      },
      enumerable: false,
      configurable: true
    }), e13;
  }()
);
var sn = (
  /** @class */
  function() {
    function e13(t, r, n, i, o, a) {
      t === void 0 && (t = 1), r === void 0 && (r = 0), n === void 0 && (n = 0), i === void 0 && (i = 1), o === void 0 && (o = 0), a === void 0 && (a = 0), this.array = null, this.a = t, this.b = r, this.c = n, this.d = i, this.tx = o, this.ty = a;
    }
    return e13.prototype.fromArray = function(t) {
      this.a = t[0], this.b = t[1], this.c = t[3], this.d = t[4], this.tx = t[2], this.ty = t[5];
    }, e13.prototype.set = function(t, r, n, i, o, a) {
      return this.a = t, this.b = r, this.c = n, this.d = i, this.tx = o, this.ty = a, this;
    }, e13.prototype.toArray = function(t, r) {
      this.array || (this.array = new Float32Array(9));
      var n = r || this.array;
      return t ? (n[0] = this.a, n[1] = this.b, n[2] = 0, n[3] = this.c, n[4] = this.d, n[5] = 0, n[6] = this.tx, n[7] = this.ty, n[8] = 1) : (n[0] = this.a, n[1] = this.c, n[2] = this.tx, n[3] = this.b, n[4] = this.d, n[5] = this.ty, n[6] = 0, n[7] = 0, n[8] = 1), n;
    }, e13.prototype.apply = function(t, r) {
      r = r || new On();
      var n = t.x, i = t.y;
      return r.x = this.a * n + this.c * i + this.tx, r.y = this.b * n + this.d * i + this.ty, r;
    }, e13.prototype.applyInverse = function(t, r) {
      r = r || new On();
      var n = 1 / (this.a * this.d + this.c * -this.b), i = t.x, o = t.y;
      return r.x = this.d * n * i + -this.c * n * o + (this.ty * this.c - this.tx * this.d) * n, r.y = this.a * n * o + -this.b * n * i + (-this.ty * this.a + this.tx * this.b) * n, r;
    }, e13.prototype.translate = function(t, r) {
      return this.tx += t, this.ty += r, this;
    }, e13.prototype.scale = function(t, r) {
      return this.a *= t, this.d *= r, this.c *= t, this.b *= r, this.tx *= t, this.ty *= r, this;
    }, e13.prototype.rotate = function(t) {
      var r = Math.cos(t), n = Math.sin(t), i = this.a, o = this.c, a = this.tx;
      return this.a = i * r - this.b * n, this.b = i * n + this.b * r, this.c = o * r - this.d * n, this.d = o * n + this.d * r, this.tx = a * r - this.ty * n, this.ty = a * n + this.ty * r, this;
    }, e13.prototype.append = function(t) {
      var r = this.a, n = this.b, i = this.c, o = this.d;
      return this.a = t.a * r + t.b * i, this.b = t.a * n + t.b * o, this.c = t.c * r + t.d * i, this.d = t.c * n + t.d * o, this.tx = t.tx * r + t.ty * i + this.tx, this.ty = t.tx * n + t.ty * o + this.ty, this;
    }, e13.prototype.setTransform = function(t, r, n, i, o, a, s, l, u) {
      return this.a = Math.cos(s + u) * o, this.b = Math.sin(s + u) * o, this.c = -Math.sin(s - l) * a, this.d = Math.cos(s - l) * a, this.tx = t - (n * this.a + i * this.c), this.ty = r - (n * this.b + i * this.d), this;
    }, e13.prototype.prepend = function(t) {
      var r = this.tx;
      if (t.a !== 1 || t.b !== 0 || t.c !== 0 || t.d !== 1) {
        var n = this.a, i = this.c;
        this.a = n * t.a + this.b * t.c, this.b = n * t.b + this.b * t.d, this.c = i * t.a + this.d * t.c, this.d = i * t.b + this.d * t.d;
      }
      return this.tx = r * t.a + this.ty * t.c + t.tx, this.ty = r * t.b + this.ty * t.d + t.ty, this;
    }, e13.prototype.decompose = function(t) {
      var r = this.a, n = this.b, i = this.c, o = this.d, a = -Math.atan2(-i, o), s = Math.atan2(n, r), l = Math.abs(a + s);
      return l < 1e-5 || Math.abs(Yf - l) < 1e-5 ? (t.rotation = s, t.skew.x = t.skew.y = 0) : (t.rotation = 0, t.skew.x = a, t.skew.y = s), t.scale.x = Math.sqrt(r * r + n * n), t.scale.y = Math.sqrt(i * i + o * o), t.position.x = this.tx, t.position.y = this.ty, t;
    }, e13.prototype.invert = function() {
      var t = this.a, r = this.b, n = this.c, i = this.d, o = this.tx, a = t * i - r * n;
      return this.a = i / a, this.b = -r / a, this.c = -n / a, this.d = t / a, this.tx = (n * this.ty - i * o) / a, this.ty = -(t * this.ty - r * o) / a, this;
    }, e13.prototype.identity = function() {
      return this.a = 1, this.b = 0, this.c = 0, this.d = 1, this.tx = 0, this.ty = 0, this;
    }, e13.prototype.clone = function() {
      var t = new e13();
      return t.a = this.a, t.b = this.b, t.c = this.c, t.d = this.d, t.tx = this.tx, t.ty = this.ty, t;
    }, e13.prototype.copyTo = function(t) {
      return t.a = this.a, t.b = this.b, t.c = this.c, t.d = this.d, t.tx = this.tx, t.ty = this.ty, t;
    }, e13.prototype.copyFrom = function(t) {
      return this.a = t.a, this.b = t.b, this.c = t.c, this.d = t.d, this.tx = t.tx, this.ty = t.ty, this;
    }, Object.defineProperty(e13, "IDENTITY", {
      /**
       * A default (identity) matrix
       *
       * @static
       * @const
       * @member {PIXI.Matrix}
       */
      get: function() {
        return new e13();
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(e13, "TEMP_MATRIX", {
      /**
       * A temp matrix
       *
       * @static
       * @const
       * @member {PIXI.Matrix}
       */
      get: function() {
        return new e13();
      },
      enumerable: false,
      configurable: true
    }), e13;
  }()
);
var Cc = [1, 1, 0, -1, -1, -1, 0, 1, 1, 1, 0, -1, -1, -1, 0, 1];
var xc = [0, 1, 1, 1, 0, -1, -1, -1, 0, 1, 1, 1, 0, -1, -1, -1];
var kc = [0, -1, -1, -1, 0, 1, 1, 1, 0, 1, 1, 1, 0, -1, -1, -1];
var Dc = [1, 1, 0, -1, -1, -1, 0, 1, -1, -1, 0, 1, 1, 1, 0, -1];
var cI = [];
var iG = [];
var Ry = Math.sign;
function YJ() {
  for (var e13 = 0; e13 < 16; e13++) {
    var t = [];
    cI.push(t);
    for (var r = 0; r < 16; r++)
      for (var n = Ry(Cc[e13] * Cc[r] + kc[e13] * xc[r]), i = Ry(xc[e13] * Cc[r] + Dc[e13] * xc[r]), o = Ry(Cc[e13] * kc[r] + kc[e13] * Dc[r]), a = Ry(xc[e13] * kc[r] + Dc[e13] * Dc[r]), s = 0; s < 16; s++)
        if (Cc[s] === n && xc[s] === i && kc[s] === o && Dc[s] === a) {
          t.push(s);
          break;
        }
  }
  for (var e13 = 0; e13 < 16; e13++) {
    var l = new sn();
    l.set(Cc[e13], xc[e13], kc[e13], Dc[e13], 0, 0), iG.push(l);
  }
}
YJ();
var Lr = {
  /**
   * | Rotation | Direction |
   * |----------|-----------|
   * | 0°       | East      |
   *
   * @memberof PIXI.groupD8
   * @constant {PIXI.GD8Symmetry}
   */
  E: 0,
  /**
   * | Rotation | Direction |
   * |----------|-----------|
   * | 45°↻     | Southeast |
   *
   * @memberof PIXI.groupD8
   * @constant {PIXI.GD8Symmetry}
   */
  SE: 1,
  /**
   * | Rotation | Direction |
   * |----------|-----------|
   * | 90°↻     | South     |
   *
   * @memberof PIXI.groupD8
   * @constant {PIXI.GD8Symmetry}
   */
  S: 2,
  /**
   * | Rotation | Direction |
   * |----------|-----------|
   * | 135°↻    | Southwest |
   *
   * @memberof PIXI.groupD8
   * @constant {PIXI.GD8Symmetry}
   */
  SW: 3,
  /**
   * | Rotation | Direction |
   * |----------|-----------|
   * | 180°     | West      |
   *
   * @memberof PIXI.groupD8
   * @constant {PIXI.GD8Symmetry}
   */
  W: 4,
  /**
   * | Rotation    | Direction    |
   * |-------------|--------------|
   * | -135°/225°↻ | Northwest    |
   *
   * @memberof PIXI.groupD8
   * @constant {PIXI.GD8Symmetry}
   */
  NW: 5,
  /**
   * | Rotation    | Direction    |
   * |-------------|--------------|
   * | -90°/270°↻  | North        |
   *
   * @memberof PIXI.groupD8
   * @constant {PIXI.GD8Symmetry}
   */
  N: 6,
  /**
   * | Rotation    | Direction    |
   * |-------------|--------------|
   * | -45°/315°↻  | Northeast    |
   *
   * @memberof PIXI.groupD8
   * @constant {PIXI.GD8Symmetry}
   */
  NE: 7,
  /**
   * Reflection about Y-axis.
   *
   * @memberof PIXI.groupD8
   * @constant {PIXI.GD8Symmetry}
   */
  MIRROR_VERTICAL: 8,
  /**
   * Reflection about the main diagonal.
   *
   * @memberof PIXI.groupD8
   * @constant {PIXI.GD8Symmetry}
   */
  MAIN_DIAGONAL: 10,
  /**
   * Reflection about X-axis.
   *
   * @memberof PIXI.groupD8
   * @constant {PIXI.GD8Symmetry}
   */
  MIRROR_HORIZONTAL: 12,
  /**
   * Reflection about reverse diagonal.
   *
   * @memberof PIXI.groupD8
   * @constant {PIXI.GD8Symmetry}
   */
  REVERSE_DIAGONAL: 14,
  /**
   * @memberof PIXI.groupD8
   * @param {PIXI.GD8Symmetry} ind - sprite rotation angle.
   * @return {PIXI.GD8Symmetry} The X-component of the U-axis
   *    after rotating the axes.
   */
  uX: function(e13) {
    return Cc[e13];
  },
  /**
   * @memberof PIXI.groupD8
   * @param {PIXI.GD8Symmetry} ind - sprite rotation angle.
   * @return {PIXI.GD8Symmetry} The Y-component of the U-axis
   *    after rotating the axes.
   */
  uY: function(e13) {
    return xc[e13];
  },
  /**
   * @memberof PIXI.groupD8
   * @param {PIXI.GD8Symmetry} ind - sprite rotation angle.
   * @return {PIXI.GD8Symmetry} The X-component of the V-axis
   *    after rotating the axes.
   */
  vX: function(e13) {
    return kc[e13];
  },
  /**
   * @memberof PIXI.groupD8
   * @param {PIXI.GD8Symmetry} ind - sprite rotation angle.
   * @return {PIXI.GD8Symmetry} The Y-component of the V-axis
   *    after rotating the axes.
   */
  vY: function(e13) {
    return Dc[e13];
  },
  /**
   * @memberof PIXI.groupD8
   * @param {PIXI.GD8Symmetry} rotation - symmetry whose opposite
   *   is needed. Only rotations have opposite symmetries while
   *   reflections don't.
   * @return {PIXI.GD8Symmetry} The opposite symmetry of `rotation`
   */
  inv: function(e13) {
    return e13 & 8 ? e13 & 15 : -e13 & 7;
  },
  /**
   * Composes the two D8 operations.
   *
   * Taking `^` as reflection:
   *
   * |       | E=0 | S=2 | W=4 | N=6 | E^=8 | S^=10 | W^=12 | N^=14 |
   * |-------|-----|-----|-----|-----|------|-------|-------|-------|
   * | E=0   | E   | S   | W   | N   | E^   | S^    | W^    | N^    |
   * | S=2   | S   | W   | N   | E   | S^   | W^    | N^    | E^    |
   * | W=4   | W   | N   | E   | S   | W^   | N^    | E^    | S^    |
   * | N=6   | N   | E   | S   | W   | N^   | E^    | S^    | W^    |
   * | E^=8  | E^  | N^  | W^  | S^  | E    | N     | W     | S     |
   * | S^=10 | S^  | E^  | N^  | W^  | S    | E     | N     | W     |
   * | W^=12 | W^  | S^  | E^  | N^  | W    | S     | E     | N     |
   * | N^=14 | N^  | W^  | S^  | E^  | N    | W     | S     | E     |
   *
   * [This is a Cayley table]{@link https://en.wikipedia.org/wiki/Cayley_table}
   * @memberof PIXI.groupD8
   * @param {PIXI.GD8Symmetry} rotationSecond - Second operation, which
   *   is the row in the above cayley table.
   * @param {PIXI.GD8Symmetry} rotationFirst - First operation, which
   *   is the column in the above cayley table.
   * @return {PIXI.GD8Symmetry} Composed operation
   */
  add: function(e13, t) {
    return cI[e13][t];
  },
  /**
   * Reverse of `add`.
   *
   * @memberof PIXI.groupD8
   * @param {PIXI.GD8Symmetry} rotationSecond - Second operation
   * @param {PIXI.GD8Symmetry} rotationFirst - First operation
   * @return {PIXI.GD8Symmetry} Result
   */
  sub: function(e13, t) {
    return cI[e13][Lr.inv(t)];
  },
  /**
   * Adds 180 degrees to rotation, which is a commutative
   * operation.
   *
   * @memberof PIXI.groupD8
   * @param {number} rotation - The number to rotate.
   * @returns {number} Rotated number
   */
  rotate180: function(e13) {
    return e13 ^ 4;
  },
  /**
   * Checks if the rotation angle is vertical, i.e. south
   * or north. It doesn't work for reflections.
   *
   * @memberof PIXI.groupD8
   * @param {PIXI.GD8Symmetry} rotation - The number to check.
   * @returns {boolean} Whether or not the direction is vertical
   */
  isVertical: function(e13) {
    return (e13 & 3) === 2;
  },
  /**
   * Approximates the vector `V(dx,dy)` into one of the
   * eight directions provided by `groupD8`.
   *
   * @memberof PIXI.groupD8
   * @param {number} dx - X-component of the vector
   * @param {number} dy - Y-component of the vector
   * @return {PIXI.GD8Symmetry} Approximation of the vector into
   *  one of the eight symmetries.
   */
  byDirection: function(e13, t) {
    return Math.abs(e13) * 2 <= Math.abs(t) ? t >= 0 ? Lr.S : Lr.N : Math.abs(t) * 2 <= Math.abs(e13) ? e13 > 0 ? Lr.E : Lr.W : t > 0 ? e13 > 0 ? Lr.SE : Lr.SW : e13 > 0 ? Lr.NE : Lr.NW;
  },
  /**
   * Helps sprite to compensate texture packer rotation.
   *
   * @memberof PIXI.groupD8
   * @param {PIXI.Matrix} matrix - sprite world matrix
   * @param {PIXI.GD8Symmetry} rotation - The rotation factor to use.
   * @param {number} tx - sprite anchoring
   * @param {number} ty - sprite anchoring
   */
  matrixAppendRotationInv: function(e13, t, r, n) {
    r === void 0 && (r = 0), n === void 0 && (n = 0);
    var i = iG[Lr.inv(t)];
    i.tx = r, i.ty = n, e13.append(i);
  }
};
var fD = (
  /** @class */
  function() {
    function e13() {
      this.worldTransform = new sn(), this.localTransform = new sn(), this.position = new Hc(this.onChange, this, 0, 0), this.scale = new Hc(this.onChange, this, 1, 1), this.pivot = new Hc(this.onChange, this, 0, 0), this.skew = new Hc(this.updateSkew, this, 0, 0), this._rotation = 0, this._cx = 1, this._sx = 0, this._cy = 0, this._sy = 1, this._localID = 0, this._currentLocalID = 0, this._worldID = 0, this._parentID = 0;
    }
    return e13.prototype.onChange = function() {
      this._localID++;
    }, e13.prototype.updateSkew = function() {
      this._cx = Math.cos(this._rotation + this.skew.y), this._sx = Math.sin(this._rotation + this.skew.y), this._cy = -Math.sin(this._rotation - this.skew.x), this._sy = Math.cos(this._rotation - this.skew.x), this._localID++;
    }, e13.prototype.updateLocalTransform = function() {
      var t = this.localTransform;
      this._localID !== this._currentLocalID && (t.a = this._cx * this.scale.x, t.b = this._sx * this.scale.x, t.c = this._cy * this.scale.y, t.d = this._sy * this.scale.y, t.tx = this.position.x - (this.pivot.x * t.a + this.pivot.y * t.c), t.ty = this.position.y - (this.pivot.x * t.b + this.pivot.y * t.d), this._currentLocalID = this._localID, this._parentID = -1);
    }, e13.prototype.updateTransform = function(t) {
      var r = this.localTransform;
      if (this._localID !== this._currentLocalID && (r.a = this._cx * this.scale.x, r.b = this._sx * this.scale.x, r.c = this._cy * this.scale.y, r.d = this._sy * this.scale.y, r.tx = this.position.x - (this.pivot.x * r.a + this.pivot.y * r.c), r.ty = this.position.y - (this.pivot.x * r.b + this.pivot.y * r.d), this._currentLocalID = this._localID, this._parentID = -1), this._parentID !== t._worldID) {
        var n = t.worldTransform, i = this.worldTransform;
        i.a = r.a * n.a + r.b * n.c, i.b = r.a * n.b + r.b * n.d, i.c = r.c * n.a + r.d * n.c, i.d = r.c * n.b + r.d * n.d, i.tx = r.tx * n.a + r.ty * n.c + n.tx, i.ty = r.tx * n.b + r.ty * n.d + n.ty, this._parentID = t._worldID, this._worldID++;
      }
    }, e13.prototype.setFromMatrix = function(t) {
      t.decompose(this), this._localID++;
    }, Object.defineProperty(e13.prototype, "rotation", {
      /**
       * The rotation of the object in radians.
       *
       * @member {number}
       */
      get: function() {
        return this._rotation;
      },
      set: function(t) {
        this._rotation !== t && (this._rotation = t, this.updateSkew());
      },
      enumerable: false,
      configurable: true
    }), e13.IDENTITY = new e13(), e13;
  }()
);
ft.SORTABLE_CHILDREN = false;
var Ug = (
  /** @class */
  function() {
    function e13() {
      this.minX = 1 / 0, this.minY = 1 / 0, this.maxX = -1 / 0, this.maxY = -1 / 0, this.rect = null, this.updateID = -1;
    }
    return e13.prototype.isEmpty = function() {
      return this.minX > this.maxX || this.minY > this.maxY;
    }, e13.prototype.clear = function() {
      this.minX = 1 / 0, this.minY = 1 / 0, this.maxX = -1 / 0, this.maxY = -1 / 0;
    }, e13.prototype.getRectangle = function(t) {
      return this.minX > this.maxX || this.minY > this.maxY ? fr.EMPTY : (t = t || new fr(0, 0, 1, 1), t.x = this.minX, t.y = this.minY, t.width = this.maxX - this.minX, t.height = this.maxY - this.minY, t);
    }, e13.prototype.addPoint = function(t) {
      this.minX = Math.min(this.minX, t.x), this.maxX = Math.max(this.maxX, t.x), this.minY = Math.min(this.minY, t.y), this.maxY = Math.max(this.maxY, t.y);
    }, e13.prototype.addQuad = function(t) {
      var r = this.minX, n = this.minY, i = this.maxX, o = this.maxY, a = t[0], s = t[1];
      r = a < r ? a : r, n = s < n ? s : n, i = a > i ? a : i, o = s > o ? s : o, a = t[2], s = t[3], r = a < r ? a : r, n = s < n ? s : n, i = a > i ? a : i, o = s > o ? s : o, a = t[4], s = t[5], r = a < r ? a : r, n = s < n ? s : n, i = a > i ? a : i, o = s > o ? s : o, a = t[6], s = t[7], r = a < r ? a : r, n = s < n ? s : n, i = a > i ? a : i, o = s > o ? s : o, this.minX = r, this.minY = n, this.maxX = i, this.maxY = o;
    }, e13.prototype.addFrame = function(t, r, n, i, o) {
      this.addFrameMatrix(t.worldTransform, r, n, i, o);
    }, e13.prototype.addFrameMatrix = function(t, r, n, i, o) {
      var a = t.a, s = t.b, l = t.c, u = t.d, c = t.tx, f = t.ty, h = this.minX, d = this.minY, p = this.maxX, m = this.maxY, g = a * r + l * n + c, v = s * r + u * n + f;
      h = g < h ? g : h, d = v < d ? v : d, p = g > p ? g : p, m = v > m ? v : m, g = a * i + l * n + c, v = s * i + u * n + f, h = g < h ? g : h, d = v < d ? v : d, p = g > p ? g : p, m = v > m ? v : m, g = a * r + l * o + c, v = s * r + u * o + f, h = g < h ? g : h, d = v < d ? v : d, p = g > p ? g : p, m = v > m ? v : m, g = a * i + l * o + c, v = s * i + u * o + f, h = g < h ? g : h, d = v < d ? v : d, p = g > p ? g : p, m = v > m ? v : m, this.minX = h, this.minY = d, this.maxX = p, this.maxY = m;
    }, e13.prototype.addVertexData = function(t, r, n) {
      for (var i = this.minX, o = this.minY, a = this.maxX, s = this.maxY, l = r; l < n; l += 2) {
        var u = t[l], c = t[l + 1];
        i = u < i ? u : i, o = c < o ? c : o, a = u > a ? u : a, s = c > s ? c : s;
      }
      this.minX = i, this.minY = o, this.maxX = a, this.maxY = s;
    }, e13.prototype.addVertices = function(t, r, n, i) {
      this.addVerticesMatrix(t.worldTransform, r, n, i);
    }, e13.prototype.addVerticesMatrix = function(t, r, n, i, o, a) {
      o === void 0 && (o = 0), a === void 0 && (a = o);
      for (var s = t.a, l = t.b, u = t.c, c = t.d, f = t.tx, h = t.ty, d = this.minX, p = this.minY, m = this.maxX, g = this.maxY, v = n; v < i; v += 2) {
        var b = r[v], y = r[v + 1], _ = s * b + u * y + f, T = c * y + l * b + h;
        d = Math.min(d, _ - o), m = Math.max(m, _ + o), p = Math.min(p, T - a), g = Math.max(g, T + a);
      }
      this.minX = d, this.minY = p, this.maxX = m, this.maxY = g;
    }, e13.prototype.addBounds = function(t) {
      var r = this.minX, n = this.minY, i = this.maxX, o = this.maxY;
      this.minX = t.minX < r ? t.minX : r, this.minY = t.minY < n ? t.minY : n, this.maxX = t.maxX > i ? t.maxX : i, this.maxY = t.maxY > o ? t.maxY : o;
    }, e13.prototype.addBoundsMask = function(t, r) {
      var n = t.minX > r.minX ? t.minX : r.minX, i = t.minY > r.minY ? t.minY : r.minY, o = t.maxX < r.maxX ? t.maxX : r.maxX, a = t.maxY < r.maxY ? t.maxY : r.maxY;
      if (n <= o && i <= a) {
        var s = this.minX, l = this.minY, u = this.maxX, c = this.maxY;
        this.minX = n < s ? n : s, this.minY = i < l ? i : l, this.maxX = o > u ? o : u, this.maxY = a > c ? a : c;
      }
    }, e13.prototype.addBoundsMatrix = function(t, r) {
      this.addFrameMatrix(r, t.minX, t.minY, t.maxX, t.maxY);
    }, e13.prototype.addBoundsArea = function(t, r) {
      var n = t.minX > r.x ? t.minX : r.x, i = t.minY > r.y ? t.minY : r.y, o = t.maxX < r.x + r.width ? t.maxX : r.x + r.width, a = t.maxY < r.y + r.height ? t.maxY : r.y + r.height;
      if (n <= o && i <= a) {
        var s = this.minX, l = this.minY, u = this.maxX, c = this.maxY;
        this.minX = n < s ? n : s, this.minY = i < l ? i : l, this.maxX = o > u ? o : u, this.maxY = a > c ? a : c;
      }
    }, e13.prototype.pad = function(t, r) {
      t === void 0 && (t = 0), r === void 0 && (r = t), this.isEmpty() || (this.minX -= t, this.maxX += t, this.minY -= r, this.maxY += r);
    }, e13.prototype.addFramePad = function(t, r, n, i, o, a) {
      t -= o, r -= a, n += o, i += a, this.minX = this.minX < t ? this.minX : t, this.maxX = this.maxX > n ? this.maxX : n, this.minY = this.minY < r ? this.minY : r, this.maxY = this.maxY > i ? this.maxY : i;
    }, e13;
  }()
);
var uI = function(e13, t) {
  return uI = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
    r.__proto__ = n;
  } || function(r, n) {
    for (var i in n)
      n.hasOwnProperty(i) && (r[i] = n[i]);
  }, uI(e13, t);
};
function dD(e13, t) {
  uI(e13, t);
  function r() {
    this.constructor = e13;
  }
  e13.prototype = t === null ? Object.create(t) : (r.prototype = t.prototype, new r());
}
var ln = (
  /** @class */
  function(e13) {
    dD(t, e13);
    function t() {
      var r = e13.call(this) || this;
      return r.tempDisplayObjectParent = null, r.transform = new fD(), r.alpha = 1, r.visible = true, r.renderable = true, r.parent = null, r.worldAlpha = 1, r._lastSortedIndex = 0, r._zIndex = 0, r.filterArea = null, r.filters = null, r._enabledFilters = null, r._bounds = new Ug(), r._localBounds = null, r._boundsID = 0, r._boundsRect = null, r._localBoundsRect = null, r._mask = null, r._destroyed = false, r.isSprite = false, r.isMask = false, r;
    }
    return t.mixin = function(r) {
      for (var n = Object.keys(r), i = 0; i < n.length; ++i) {
        var o = n[i];
        Object.defineProperty(t.prototype, o, Object.getOwnPropertyDescriptor(r, o));
      }
    }, t.prototype._recursivePostUpdateTransform = function() {
      this.parent ? (this.parent._recursivePostUpdateTransform(), this.transform.updateTransform(this.parent.transform)) : this.transform.updateTransform(this._tempDisplayObjectParent.transform);
    }, t.prototype.updateTransform = function() {
      this._boundsID++, this.transform.updateTransform(this.parent.transform), this.worldAlpha = this.alpha * this.parent.worldAlpha;
    }, t.prototype.getBounds = function(r, n) {
      return r || (this.parent ? (this._recursivePostUpdateTransform(), this.updateTransform()) : (this.parent = this._tempDisplayObjectParent, this.updateTransform(), this.parent = null)), this._bounds.updateID !== this._boundsID && (this.calculateBounds(), this._bounds.updateID = this._boundsID), n || (this._boundsRect || (this._boundsRect = new fr()), n = this._boundsRect), this._bounds.getRectangle(n);
    }, t.prototype.getLocalBounds = function(r) {
      r || (this._localBoundsRect || (this._localBoundsRect = new fr()), r = this._localBoundsRect), this._localBounds || (this._localBounds = new Ug());
      var n = this.transform, i = this.parent;
      this.parent = null, this.transform = this._tempDisplayObjectParent.transform;
      var o = this._bounds, a = this._boundsID;
      this._bounds = this._localBounds;
      var s = this.getBounds(false, r);
      return this.parent = i, this.transform = n, this._bounds = o, this._bounds.updateID += this._boundsID - a, s;
    }, t.prototype.toGlobal = function(r, n, i) {
      return i === void 0 && (i = false), i || (this._recursivePostUpdateTransform(), this.parent ? this.displayObjectUpdateTransform() : (this.parent = this._tempDisplayObjectParent, this.displayObjectUpdateTransform(), this.parent = null)), this.worldTransform.apply(r, n);
    }, t.prototype.toLocal = function(r, n, i, o) {
      return n && (r = n.toGlobal(r, i, o)), o || (this._recursivePostUpdateTransform(), this.parent ? this.displayObjectUpdateTransform() : (this.parent = this._tempDisplayObjectParent, this.displayObjectUpdateTransform(), this.parent = null)), this.worldTransform.applyInverse(r, i);
    }, t.prototype.setParent = function(r) {
      if (!r || !r.addChild)
        throw new Error("setParent: Argument must be a Container");
      return r.addChild(this), r;
    }, t.prototype.setTransform = function(r, n, i, o, a, s, l, u, c) {
      return r === void 0 && (r = 0), n === void 0 && (n = 0), i === void 0 && (i = 1), o === void 0 && (o = 1), a === void 0 && (a = 0), s === void 0 && (s = 0), l === void 0 && (l = 0), u === void 0 && (u = 0), c === void 0 && (c = 0), this.position.x = r, this.position.y = n, this.scale.x = i || 1, this.scale.y = o || 1, this.rotation = a, this.skew.x = s, this.skew.y = l, this.pivot.x = u, this.pivot.y = c, this;
    }, t.prototype.destroy = function(r) {
      this.parent && this.parent.removeChild(this), this.removeAllListeners(), this.transform = null, this.parent = null, this._bounds = null, this._mask = null, this.filters = null, this.filterArea = null, this.hitArea = null, this.interactive = false, this.interactiveChildren = false, this._destroyed = true;
    }, Object.defineProperty(t.prototype, "_tempDisplayObjectParent", {
      /**
       * @protected
       * @member {PIXI.Container}
       */
      get: function() {
        return this.tempDisplayObjectParent === null && (this.tempDisplayObjectParent = new pD()), this.tempDisplayObjectParent;
      },
      enumerable: false,
      configurable: true
    }), t.prototype.enableTempParent = function() {
      var r = this.parent;
      return this.parent = this._tempDisplayObjectParent, r;
    }, t.prototype.disableTempParent = function(r) {
      this.parent = r;
    }, Object.defineProperty(t.prototype, "x", {
      /**
       * The position of the displayObject on the x axis relative to the local coordinates of the parent.
       * An alias to position.x
       *
       * @member {number}
       */
      get: function() {
        return this.position.x;
      },
      set: function(r) {
        this.transform.position.x = r;
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(t.prototype, "y", {
      /**
       * The position of the displayObject on the y axis relative to the local coordinates of the parent.
       * An alias to position.y
       *
       * @member {number}
       */
      get: function() {
        return this.position.y;
      },
      set: function(r) {
        this.transform.position.y = r;
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(t.prototype, "worldTransform", {
      /**
       * Current transform of the object based on world (parent) factors.
       *
       * @member {PIXI.Matrix}
       * @readonly
       */
      get: function() {
        return this.transform.worldTransform;
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(t.prototype, "localTransform", {
      /**
       * Current transform of the object based on local factors: position, scale, other stuff.
       *
       * @member {PIXI.Matrix}
       * @readonly
       */
      get: function() {
        return this.transform.localTransform;
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(t.prototype, "position", {
      /**
       * The coordinate of the object relative to the local coordinates of the parent.
       * Assignment by value since pixi-v4.
       *
       * @member {PIXI.ObservablePoint}
       */
      get: function() {
        return this.transform.position;
      },
      set: function(r) {
        this.transform.position.copyFrom(r);
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(t.prototype, "scale", {
      /**
       * The scale factor of the object.
       * Assignment by value since pixi-v4.
       *
       * @member {PIXI.ObservablePoint}
       */
      get: function() {
        return this.transform.scale;
      },
      set: function(r) {
        this.transform.scale.copyFrom(r);
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(t.prototype, "pivot", {
      /**
       * The pivot point of the displayObject that it rotates around.
       * Assignment by value since pixi-v4.
       *
       * @member {PIXI.ObservablePoint}
       */
      get: function() {
        return this.transform.pivot;
      },
      set: function(r) {
        this.transform.pivot.copyFrom(r);
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(t.prototype, "skew", {
      /**
       * The skew factor for the object in radians.
       * Assignment by value since pixi-v4.
       *
       * @member {PIXI.ObservablePoint}
       */
      get: function() {
        return this.transform.skew;
      },
      set: function(r) {
        this.transform.skew.copyFrom(r);
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(t.prototype, "rotation", {
      /**
       * The rotation of the object in radians.
       * 'rotation' and 'angle' have the same effect on a display object; rotation is in radians, angle is in degrees.
       *
       * @member {number}
       */
      get: function() {
        return this.transform.rotation;
      },
      set: function(r) {
        this.transform.rotation = r;
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(t.prototype, "angle", {
      /**
       * The angle of the object in degrees.
       * 'rotation' and 'angle' have the same effect on a display object; rotation is in radians, angle is in degrees.
       *
       * @member {number}
       */
      get: function() {
        return this.transform.rotation * J4;
      },
      set: function(r) {
        this.transform.rotation = r * eG;
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(t.prototype, "zIndex", {
      /**
       * The zIndex of the displayObject.
       * If a container has the sortableChildren property set to true, children will be automatically
       * sorted by zIndex value; a higher value will mean it will be moved towards the end of the array,
       * and thus rendered on top of other displayObjects within the same container.
       *
       * @member {number}
       */
      get: function() {
        return this._zIndex;
      },
      set: function(r) {
        this._zIndex = r, this.parent && (this.parent.sortDirty = true);
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(t.prototype, "worldVisible", {
      /**
       * Indicates if the object is globally visible.
       *
       * @member {boolean}
       * @readonly
       */
      get: function() {
        var r = this;
        do {
          if (!r.visible)
            return false;
          r = r.parent;
        } while (r);
        return true;
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(t.prototype, "mask", {
      /**
       * Sets a mask for the displayObject. A mask is an object that limits the visibility of an
       * object to the shape of the mask applied to it. In PixiJS a regular mask must be a
       * {@link PIXI.Graphics} or a {@link PIXI.Sprite} object. This allows for much faster masking in canvas as it
       * utilities shape clipping. To remove a mask, set this property to `null`.
       *
       * For sprite mask both alpha and red channel are used. Black mask is the same as transparent mask.
       * @example
       * const graphics = new PIXI.Graphics();
       * graphics.beginFill(0xFF3300);
       * graphics.drawRect(50, 250, 100, 100);
       * graphics.endFill();
       *
       * const sprite = new PIXI.Sprite(texture);
       * sprite.mask = graphics;
       * @todo At the moment, PIXI.CanvasRenderer doesn't support PIXI.Sprite as mask.
       *
       * @member {PIXI.Container|PIXI.MaskData|null}
       */
      get: function() {
        return this._mask;
      },
      set: function(r) {
        if (this._mask) {
          var n = this._mask.maskObject || this._mask;
          n.renderable = true, n.isMask = false;
        }
        if (this._mask = r, this._mask) {
          var n = this._mask.maskObject || this._mask;
          n.renderable = false, n.isMask = true;
        }
      },
      enumerable: false,
      configurable: true
    }), t;
  }(Vd)
);
var pD = (
  /** @class */
  function(e13) {
    dD(t, e13);
    function t() {
      var r = e13 !== null && e13.apply(this, arguments) || this;
      return r.sortDirty = null, r;
    }
    return t;
  }(ln)
);
ln.prototype.displayObjectUpdateTransform = ln.prototype.updateTransform;
function qJ(e13, t) {
  return e13.zIndex === t.zIndex ? e13._lastSortedIndex - t._lastSortedIndex : e13.zIndex - t.zIndex;
}
var Jo = (
  /** @class */
  function(e13) {
    dD(t, e13);
    function t() {
      var r = e13.call(this) || this;
      return r.children = [], r.sortableChildren = ft.SORTABLE_CHILDREN, r.sortDirty = false, r;
    }
    return t.prototype.onChildrenChange = function(r) {
    }, t.prototype.addChild = function() {
      for (var r = arguments, n = [], i = 0; i < arguments.length; i++)
        n[i] = r[i];
      if (n.length > 1)
        for (var o = 0; o < n.length; o++)
          this.addChild(n[o]);
      else {
        var a = n[0];
        a.parent && a.parent.removeChild(a), a.parent = this, this.sortDirty = true, a.transform._parentID = -1, this.children.push(a), this._boundsID++, this.onChildrenChange(this.children.length - 1), this.emit("childAdded", a, this, this.children.length - 1), a.emit("added", this);
      }
      return n[0];
    }, t.prototype.addChildAt = function(r, n) {
      if (n < 0 || n > this.children.length)
        throw new Error(r + "addChildAt: The index " + n + " supplied is out of bounds " + this.children.length);
      return r.parent && r.parent.removeChild(r), r.parent = this, this.sortDirty = true, r.transform._parentID = -1, this.children.splice(n, 0, r), this._boundsID++, this.onChildrenChange(n), r.emit("added", this), this.emit("childAdded", r, this, n), r;
    }, t.prototype.swapChildren = function(r, n) {
      if (r !== n) {
        var i = this.getChildIndex(r), o = this.getChildIndex(n);
        this.children[i] = n, this.children[o] = r, this.onChildrenChange(i < o ? i : o);
      }
    }, t.prototype.getChildIndex = function(r) {
      var n = this.children.indexOf(r);
      if (n === -1)
        throw new Error("The supplied DisplayObject must be a child of the caller");
      return n;
    }, t.prototype.setChildIndex = function(r, n) {
      if (n < 0 || n >= this.children.length)
        throw new Error("The index " + n + " supplied is out of bounds " + this.children.length);
      var i = this.getChildIndex(r);
      Kc(this.children, i, 1), this.children.splice(n, 0, r), this.onChildrenChange(n);
    }, t.prototype.getChildAt = function(r) {
      if (r < 0 || r >= this.children.length)
        throw new Error("getChildAt: Index (" + r + ") does not exist.");
      return this.children[r];
    }, t.prototype.removeChild = function() {
      for (var r = arguments, n = [], i = 0; i < arguments.length; i++)
        n[i] = r[i];
      if (n.length > 1)
        for (var o = 0; o < n.length; o++)
          this.removeChild(n[o]);
      else {
        var a = n[0], s = this.children.indexOf(a);
        if (s === -1)
          return null;
        a.parent = null, a.transform._parentID = -1, Kc(this.children, s, 1), this._boundsID++, this.onChildrenChange(s), a.emit("removed", this), this.emit("childRemoved", a, this, s);
      }
      return n[0];
    }, t.prototype.removeChildAt = function(r) {
      var n = this.getChildAt(r);
      return n.parent = null, n.transform._parentID = -1, Kc(this.children, r, 1), this._boundsID++, this.onChildrenChange(r), n.emit("removed", this), this.emit("childRemoved", n, this, r), n;
    }, t.prototype.removeChildren = function(r, n) {
      r === void 0 && (r = 0), n === void 0 && (n = this.children.length);
      var i = r, o = n, a = o - i, s;
      if (a > 0 && a <= o) {
        s = this.children.splice(i, a);
        for (var l = 0; l < s.length; ++l)
          s[l].parent = null, s[l].transform && (s[l].transform._parentID = -1);
        this._boundsID++, this.onChildrenChange(r);
        for (var l = 0; l < s.length; ++l)
          s[l].emit("removed", this), this.emit("childRemoved", s[l], this, l);
        return s;
      } else if (a === 0 && this.children.length === 0)
        return [];
      throw new RangeError("removeChildren: numeric values are outside the acceptable range.");
    }, t.prototype.sortChildren = function() {
      for (var r = false, n = 0, i = this.children.length; n < i; ++n) {
        var o = this.children[n];
        o._lastSortedIndex = n, !r && o.zIndex !== 0 && (r = true);
      }
      r && this.children.length > 1 && this.children.sort(qJ), this.sortDirty = false;
    }, t.prototype.updateTransform = function() {
      this.sortableChildren && this.sortDirty && this.sortChildren(), this._boundsID++, this.transform.updateTransform(this.parent.transform), this.worldAlpha = this.alpha * this.parent.worldAlpha;
      for (var r = 0, n = this.children.length; r < n; ++r) {
        var i = this.children[r];
        i.visible && i.updateTransform();
      }
    }, t.prototype.calculateBounds = function() {
      this._bounds.clear(), this._calculateBounds();
      for (var r = 0; r < this.children.length; r++) {
        var n = this.children[r];
        if (!(!n.visible || !n.renderable))
          if (n.calculateBounds(), n._mask) {
            var i = n._mask.maskObject || n._mask;
            i.calculateBounds(), this._bounds.addBoundsMask(n._bounds, i._bounds);
          } else n.filterArea ? this._bounds.addBoundsArea(n._bounds, n.filterArea) : this._bounds.addBounds(n._bounds);
      }
      this._bounds.updateID = this._boundsID;
    }, t.prototype.getLocalBounds = function(r, n) {
      n === void 0 && (n = false);
      var i = e13.prototype.getLocalBounds.call(this, r);
      if (!n)
        for (var o = 0, a = this.children.length; o < a; ++o) {
          var s = this.children[o];
          s.visible && s.updateTransform();
        }
      return i;
    }, t.prototype._calculateBounds = function() {
    }, t.prototype.render = function(r) {
      if (!(!this.visible || this.worldAlpha <= 0 || !this.renderable))
        if (this._mask || this.filters && this.filters.length)
          this.renderAdvanced(r);
        else {
          this._render(r);
          for (var n = 0, i = this.children.length; n < i; ++n)
            this.children[n].render(r);
        }
    }, t.prototype.renderAdvanced = function(r) {
      r.batch.flush();
      var n = this.filters, i = this._mask;
      if (n) {
        this._enabledFilters || (this._enabledFilters = []), this._enabledFilters.length = 0;
        for (var o = 0; o < n.length; o++)
          n[o].enabled && this._enabledFilters.push(n[o]);
        this._enabledFilters.length && r.filter.push(this, this._enabledFilters);
      }
      i && r.mask.push(this, this._mask), this._render(r);
      for (var o = 0, a = this.children.length; o < a; o++)
        this.children[o].render(r);
      r.batch.flush(), i && r.mask.pop(this), n && this._enabledFilters && this._enabledFilters.length && r.filter.pop();
    }, t.prototype._render = function(r) {
    }, t.prototype.destroy = function(r) {
      e13.prototype.destroy.call(this), this.sortDirty = false;
      var n = typeof r == "boolean" ? r : r && r.children, i = this.removeChildren(0, this.children.length);
      if (n)
        for (var o = 0; o < i.length; ++o)
          i[o].destroy(r);
    }, Object.defineProperty(t.prototype, "width", {
      /**
       * The width of the Container, setting this will actually modify the scale to achieve the value set
       *
       * @member {number}
       */
      get: function() {
        return this.scale.x * this.getLocalBounds().width;
      },
      set: function(r) {
        var n = this.getLocalBounds().width;
        n !== 0 ? this.scale.x = r / n : this.scale.x = 1, this._width = r;
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(t.prototype, "height", {
      /**
       * The height of the Container, setting this will actually modify the scale to achieve the value set
       *
       * @member {number}
       */
      get: function() {
        return this.scale.y * this.getLocalBounds().height;
      },
      set: function(r) {
        var n = this.getLocalBounds().height;
        n !== 0 ? this.scale.y = r / n : this.scale.y = 1, this._height = r;
      },
      enumerable: false,
      configurable: true
    }), t;
  }(ln)
);
Jo.prototype.containerUpdateTransform = Jo.prototype.updateTransform;
var oG = {
  /**
   *  Flag for if the object is accessible. If true AccessibilityManager will overlay a
   *   shadow div with attributes set
   *
   * @member {boolean}
   * @memberof PIXI.DisplayObject#
   */
  accessible: false,
  /**
   * Sets the title attribute of the shadow div
   * If accessibleTitle AND accessibleHint has not been this will default to 'displayObject [tabIndex]'
   *
   * @member {?string}
   * @memberof PIXI.DisplayObject#
   */
  accessibleTitle: null,
  /**
   * Sets the aria-label attribute of the shadow div
   *
   * @member {string}
   * @memberof PIXI.DisplayObject#
   */
  accessibleHint: null,
  /**
   * @member {number}
   * @memberof PIXI.DisplayObject#
   * @private
   * @todo Needs docs.
   */
  tabIndex: 0,
  /**
   * @member {boolean}
   * @memberof PIXI.DisplayObject#
   * @todo Needs docs.
   */
  _accessibleActive: false,
  /**
   * @member {boolean}
   * @memberof PIXI.DisplayObject#
   * @todo Needs docs.
   */
  _accessibleDiv: null,
  /**
   * Specify the type of div the accessible layer is. Screen readers treat the element differently
   * depending on this type. Defaults to button.
   *
   * @member {string}
   * @memberof PIXI.DisplayObject#
   * @default 'button'
   */
  accessibleType: "button",
  /**
   * Specify the pointer-events the accessible div will use
   * Defaults to auto.
   *
   * @member {string}
   * @memberof PIXI.DisplayObject#
   * @default 'auto'
   */
  accessiblePointerEvents: "auto",
  /**
   * Setting to false will prevent any children inside this container to
   * be accessible. Defaults to true.
   *
   * @member {boolean}
   * @memberof PIXI.DisplayObject#
   * @default true
   */
  accessibleChildren: true,
  renderId: -1
};
ln.mixin(oG);
var KJ = 9;
var Ny = 100;
var ZJ = 0;
var QJ = 0;
var v5 = 2;
var y5 = 1;
var JJ = -1e3;
var eee = -1e3;
var tee = 2;
var aG = (
  /** @class */
  function() {
    function e13(t) {
      this._hookDiv = null, (bo.tablet || bo.phone) && this.createTouchHook();
      var r = document.createElement("div");
      r.style.width = Ny + "px", r.style.height = Ny + "px", r.style.position = "absolute", r.style.top = ZJ + "px", r.style.left = QJ + "px", r.style.zIndex = v5.toString(), this.div = r, this.pool = [], this.renderId = 0, this.debug = false, this.renderer = t, this.children = [], this._onKeyDown = this._onKeyDown.bind(this), this._onMouseMove = this._onMouseMove.bind(this), this._isActive = false, this._isMobileAccessibility = false, this.androidUpdateCount = 0, this.androidUpdateFrequency = 500, window.addEventListener("keydown", this._onKeyDown, false);
    }
    return Object.defineProperty(e13.prototype, "isActive", {
      /**
       * A flag
       * @member {boolean}
       * @readonly
       */
      get: function() {
        return this._isActive;
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(e13.prototype, "isMobileAccessibility", {
      /**
       * A flag
       * @member {boolean}
       * @readonly
       */
      get: function() {
        return this._isMobileAccessibility;
      },
      enumerable: false,
      configurable: true
    }), e13.prototype.createTouchHook = function() {
      var t = this, r = document.createElement("button");
      r.style.width = y5 + "px", r.style.height = y5 + "px", r.style.position = "absolute", r.style.top = JJ + "px", r.style.left = eee + "px", r.style.zIndex = tee.toString(), r.style.backgroundColor = "#FF0000", r.title = "select to enable accessability for this content", r.addEventListener("focus", function() {
        t._isMobileAccessibility = true, t.activate(), t.destroyTouchHook();
      }), document.body.appendChild(r), this._hookDiv = r;
    }, e13.prototype.destroyTouchHook = function() {
      this._hookDiv && (document.body.removeChild(this._hookDiv), this._hookDiv = null);
    }, e13.prototype.activate = function() {
      this._isActive || (this._isActive = true, window.document.addEventListener("mousemove", this._onMouseMove, true), window.removeEventListener("keydown", this._onKeyDown, false), this.renderer.on("postrender", this.update, this), this.renderer.view.parentNode && this.renderer.view.parentNode.appendChild(this.div));
    }, e13.prototype.deactivate = function() {
      !this._isActive || this._isMobileAccessibility || (this._isActive = false, window.document.removeEventListener("mousemove", this._onMouseMove, true), window.addEventListener("keydown", this._onKeyDown, false), this.renderer.off("postrender", this.update), this.div.parentNode && this.div.parentNode.removeChild(this.div));
    }, e13.prototype.updateAccessibleObjects = function(t) {
      if (!(!t.visible || !t.accessibleChildren)) {
        t.accessible && t.interactive && (t._accessibleActive || this.addChild(t), t.renderId = this.renderId);
        for (var r = t.children, n = 0; n < r.length; n++)
          this.updateAccessibleObjects(r[n]);
      }
    }, e13.prototype.update = function() {
      var t = performance.now();
      if (!(bo.android.device && t < this.androidUpdateCount) && (this.androidUpdateCount = t + this.androidUpdateFrequency, !!this.renderer.renderingToScreen)) {
        this.renderer._lastObjectRendered && this.updateAccessibleObjects(this.renderer._lastObjectRendered);
        var r = this.renderer.view.getBoundingClientRect(), n = this.renderer.resolution, i = r.width / this.renderer.width * n, o = r.height / this.renderer.height * n, a = this.div;
        a.style.left = r.left + "px", a.style.top = r.top + "px", a.style.width = this.renderer.width + "px", a.style.height = this.renderer.height + "px";
        for (var s = 0; s < this.children.length; s++) {
          var l = this.children[s];
          if (l.renderId !== this.renderId)
            l._accessibleActive = false, Kc(this.children, s, 1), this.div.removeChild(l._accessibleDiv), this.pool.push(l._accessibleDiv), l._accessibleDiv = null, s--;
          else {
            a = l._accessibleDiv;
            var u = l.hitArea, c = l.worldTransform;
            l.hitArea ? (a.style.left = (c.tx + u.x * c.a) * i + "px", a.style.top = (c.ty + u.y * c.d) * o + "px", a.style.width = u.width * c.a * i + "px", a.style.height = u.height * c.d * o + "px") : (u = l.getBounds(), this.capHitArea(u), a.style.left = u.x * i + "px", a.style.top = u.y * o + "px", a.style.width = u.width * i + "px", a.style.height = u.height * o + "px", a.title !== l.accessibleTitle && l.accessibleTitle !== null && (a.title = l.accessibleTitle), a.getAttribute("aria-label") !== l.accessibleHint && l.accessibleHint !== null && a.setAttribute("aria-label", l.accessibleHint)), (l.accessibleTitle !== a.title || l.tabIndex !== a.tabIndex) && (a.title = l.accessibleTitle, a.tabIndex = l.tabIndex, this.debug && this.updateDebugHTML(a));
          }
        }
        this.renderId++;
      }
    }, e13.prototype.updateDebugHTML = function(t) {
      t.innerHTML = "type: " + t.type + "</br> title : " + t.title + "</br> tabIndex: " + t.tabIndex;
    }, e13.prototype.capHitArea = function(t) {
      t.x < 0 && (t.width += t.x, t.x = 0), t.y < 0 && (t.height += t.y, t.y = 0), t.x + t.width > this.renderer.width && (t.width = this.renderer.width - t.x), t.y + t.height > this.renderer.height && (t.height = this.renderer.height - t.y);
    }, e13.prototype.addChild = function(t) {
      var r = this.pool.pop();
      r || (r = document.createElement("button"), r.style.width = Ny + "px", r.style.height = Ny + "px", r.style.backgroundColor = this.debug ? "rgba(255,255,255,0.5)" : "transparent", r.style.position = "absolute", r.style.zIndex = v5.toString(), r.style.borderStyle = "none", navigator.userAgent.toLowerCase().indexOf("chrome") > -1 ? r.setAttribute("aria-live", "off") : r.setAttribute("aria-live", "polite"), navigator.userAgent.match(/rv:.*Gecko\//) ? r.setAttribute("aria-relevant", "additions") : r.setAttribute("aria-relevant", "text"), r.addEventListener("click", this._onClick.bind(this)), r.addEventListener("focus", this._onFocus.bind(this)), r.addEventListener("focusout", this._onFocusOut.bind(this))), r.style.pointerEvents = t.accessiblePointerEvents, r.type = t.accessibleType, t.accessibleTitle && t.accessibleTitle !== null ? r.title = t.accessibleTitle : (!t.accessibleHint || t.accessibleHint === null) && (r.title = "displayObject " + t.tabIndex), t.accessibleHint && t.accessibleHint !== null && r.setAttribute("aria-label", t.accessibleHint), this.debug && this.updateDebugHTML(r), t._accessibleActive = true, t._accessibleDiv = r, r.displayObject = t, this.children.push(t), this.div.appendChild(t._accessibleDiv), t._accessibleDiv.tabIndex = t.tabIndex;
    }, e13.prototype._onClick = function(t) {
      var r = this.renderer.plugins.interaction;
      r.dispatchEvent(t.target.displayObject, "click", r.eventData), r.dispatchEvent(t.target.displayObject, "pointertap", r.eventData), r.dispatchEvent(t.target.displayObject, "tap", r.eventData);
    }, e13.prototype._onFocus = function(t) {
      t.target.getAttribute("aria-live") || t.target.setAttribute("aria-live", "assertive");
      var r = this.renderer.plugins.interaction;
      r.dispatchEvent(t.target.displayObject, "mouseover", r.eventData);
    }, e13.prototype._onFocusOut = function(t) {
      t.target.getAttribute("aria-live") || t.target.setAttribute("aria-live", "polite");
      var r = this.renderer.plugins.interaction;
      r.dispatchEvent(t.target.displayObject, "mouseout", r.eventData);
    }, e13.prototype._onKeyDown = function(t) {
      t.keyCode === KJ && this.activate();
    }, e13.prototype._onMouseMove = function(t) {
      t.movementX === 0 && t.movementY === 0 || this.deactivate();
    }, e13.prototype.destroy = function() {
      this.destroyTouchHook(), this.div = null, window.document.removeEventListener("mousemove", this._onMouseMove, true), window.removeEventListener("keydown", this._onKeyDown), this.pool = null, this.children = null, this.renderer = null;
    }, e13;
  }()
);
ft.TARGET_FPMS = 0.06;
var Fa;
(function(e13) {
  e13[e13.INTERACTION = 50] = "INTERACTION", e13[e13.HIGH = 25] = "HIGH", e13[e13.NORMAL = 0] = "NORMAL", e13[e13.LOW = -25] = "LOW", e13[e13.UTILITY = -50] = "UTILITY";
})(Fa || (Fa = {}));
var ZS = (
  /** @class */
  function() {
    function e13(t, r, n, i) {
      r === void 0 && (r = null), n === void 0 && (n = 0), i === void 0 && (i = false), this.fn = t, this.context = r, this.priority = n, this.once = i, this.next = null, this.previous = null, this._destroyed = false;
    }
    return e13.prototype.match = function(t, r) {
      return r === void 0 && (r = null), this.fn === t && this.context === r;
    }, e13.prototype.emit = function(t) {
      this.fn && (this.context ? this.fn.call(this.context, t) : this.fn(t));
      var r = this.next;
      return this.once && this.destroy(true), this._destroyed && (this.next = null), r;
    }, e13.prototype.connect = function(t) {
      this.previous = t, t.next && (t.next.previous = this), this.next = t.next, t.next = this;
    }, e13.prototype.destroy = function(t) {
      t === void 0 && (t = false), this._destroyed = true, this.fn = null, this.context = null, this.previous && (this.previous.next = this.next), this.next && (this.next.previous = this.previous);
      var r = this.next;
      return this.next = t ? null : r, this.previous = null, r;
    }, e13;
  }()
);
var An = (
  /** @class */
  function() {
    function e13() {
      var t = this;
      this._head = new ZS(null, null, 1 / 0), this._requestId = null, this._maxElapsedMS = 100, this._minElapsedMS = 0, this.autoStart = false, this.deltaTime = 1, this.deltaMS = 1 / ft.TARGET_FPMS, this.elapsedMS = 1 / ft.TARGET_FPMS, this.lastTime = -1, this.speed = 1, this.started = false, this._protected = false, this._lastFrame = -1, this._tick = function(r) {
        t._requestId = null, t.started && (t.update(r), t.started && t._requestId === null && t._head.next && (t._requestId = requestAnimationFrame(t._tick)));
      };
    }
    return e13.prototype._requestIfNeeded = function() {
      this._requestId === null && this._head.next && (this.lastTime = performance.now(), this._lastFrame = this.lastTime, this._requestId = requestAnimationFrame(this._tick));
    }, e13.prototype._cancelIfNeeded = function() {
      this._requestId !== null && (cancelAnimationFrame(this._requestId), this._requestId = null);
    }, e13.prototype._startIfPossible = function() {
      this.started ? this._requestIfNeeded() : this.autoStart && this.start();
    }, e13.prototype.add = function(t, r, n) {
      return n === void 0 && (n = Fa.NORMAL), this._addListener(new ZS(t, r, n));
    }, e13.prototype.addOnce = function(t, r, n) {
      return n === void 0 && (n = Fa.NORMAL), this._addListener(new ZS(t, r, n, true));
    }, e13.prototype._addListener = function(t) {
      var r = this._head.next, n = this._head;
      if (!r)
        t.connect(n);
      else {
        for (; r; ) {
          if (t.priority > r.priority) {
            t.connect(n);
            break;
          }
          n = r, r = r.next;
        }
        t.previous || t.connect(n);
      }
      return this._startIfPossible(), this;
    }, e13.prototype.remove = function(t, r) {
      for (var n = this._head.next; n; )
        n.match(t, r) ? n = n.destroy() : n = n.next;
      return this._head.next || this._cancelIfNeeded(), this;
    }, Object.defineProperty(e13.prototype, "count", {
      /**
       * The number of listeners on this ticker, calculated by walking through linked list
       *
       * @readonly
       * @member {number}
       */
      get: function() {
        if (!this._head)
          return 0;
        for (var t = 0, r = this._head; r = r.next; )
          t++;
        return t;
      },
      enumerable: false,
      configurable: true
    }), e13.prototype.start = function() {
      this.started || (this.started = true, this._requestIfNeeded());
    }, e13.prototype.stop = function() {
      this.started && (this.started = false, this._cancelIfNeeded());
    }, e13.prototype.destroy = function() {
      if (!this._protected) {
        this.stop();
        for (var t = this._head.next; t; )
          t = t.destroy(true);
        this._head.destroy(), this._head = null;
      }
    }, e13.prototype.update = function(t) {
      t === void 0 && (t = performance.now());
      var r;
      if (t > this.lastTime) {
        if (r = this.elapsedMS = t - this.lastTime, r > this._maxElapsedMS && (r = this._maxElapsedMS), r *= this.speed, this._minElapsedMS) {
          var n = t - this._lastFrame | 0;
          if (n < this._minElapsedMS)
            return;
          this._lastFrame = t - n % this._minElapsedMS;
        }
        this.deltaMS = r, this.deltaTime = this.deltaMS * ft.TARGET_FPMS;
        for (var i = this._head, o = i.next; o; )
          o = o.emit(this.deltaTime);
        i.next || this._cancelIfNeeded();
      } else
        this.deltaTime = this.deltaMS = this.elapsedMS = 0;
      this.lastTime = t;
    }, Object.defineProperty(e13.prototype, "FPS", {
      /**
       * The frames per second at which this ticker is running.
       * The default is approximately 60 in most modern browsers.
       * **Note:** This does not factor in the value of
       * {@link PIXI.Ticker#speed}, which is specific
       * to scaling {@link PIXI.Ticker#deltaTime}.
       *
       * @member {number}
       * @readonly
       */
      get: function() {
        return 1e3 / this.elapsedMS;
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(e13.prototype, "minFPS", {
      /**
       * Manages the maximum amount of milliseconds allowed to
       * elapse between invoking {@link PIXI.Ticker#update}.
       * This value is used to cap {@link PIXI.Ticker#deltaTime},
       * but does not effect the measured value of {@link PIXI.Ticker#FPS}.
       * When setting this property it is clamped to a value between
       * `0` and `PIXI.settings.TARGET_FPMS * 1000`.
       *
       * @member {number}
       * @default 10
       */
      get: function() {
        return 1e3 / this._maxElapsedMS;
      },
      set: function(t) {
        var r = Math.min(this.maxFPS, t), n = Math.min(Math.max(0, r) / 1e3, ft.TARGET_FPMS);
        this._maxElapsedMS = 1 / n;
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(e13.prototype, "maxFPS", {
      /**
       * Manages the minimum amount of milliseconds required to
       * elapse between invoking {@link PIXI.Ticker#update}.
       * This will effect the measured value of {@link PIXI.Ticker#FPS}.
       * If it is set to `0`, then there is no limit; PixiJS will render as many frames as it can.
       * Otherwise it will be at least `minFPS`
       *
       * @member {number}
       * @default 0
       */
      get: function() {
        return this._minElapsedMS ? Math.round(1e3 / this._minElapsedMS) : 0;
      },
      set: function(t) {
        if (t === 0)
          this._minElapsedMS = 0;
        else {
          var r = Math.max(this.minFPS, t);
          this._minElapsedMS = 1 / (r / 1e3);
        }
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(e13, "shared", {
      /**
       * The shared ticker instance used by {@link PIXI.AnimatedSprite} and by
       * {@link PIXI.VideoResource} to update animation frames / video textures.
       *
       * It may also be used by {@link PIXI.Application} if created with the `sharedTicker` option property set to true.
       *
       * The property {@link PIXI.Ticker#autoStart} is set to `true` for this instance.
       * Please follow the examples for usage, including how to opt-out of auto-starting the shared ticker.
       *
       * @example
       * let ticker = PIXI.Ticker.shared;
       * // Set this to prevent starting this ticker when listeners are added.
       * // By default this is true only for the PIXI.Ticker.shared instance.
       * ticker.autoStart = false;
       * // FYI, call this to ensure the ticker is stopped. It should be stopped
       * // if you have not attempted to render anything yet.
       * ticker.stop();
       * // Call this when you are ready for a running shared ticker.
       * ticker.start();
       *
       * @example
       * // You may use the shared ticker to render...
       * let renderer = PIXI.autoDetectRenderer();
       * let stage = new PIXI.Container();
       * document.body.appendChild(renderer.view);
       * ticker.add(function (time) {
       *     renderer.render(stage);
       * });
       *
       * @example
       * // Or you can just update it manually.
       * ticker.autoStart = false;
       * ticker.stop();
       * function animate(time) {
       *     ticker.update(time);
       *     renderer.render(stage);
       *     requestAnimationFrame(animate);
       * }
       * animate(performance.now());
       *
       * @member {PIXI.Ticker}
       * @static
       */
      get: function() {
        if (!e13._shared) {
          var t = e13._shared = new e13();
          t.autoStart = true, t._protected = true;
        }
        return e13._shared;
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(e13, "system", {
      /**
       * The system ticker instance used by {@link PIXI.InteractionManager} and by
       * {@link PIXI.BasePrepare} for core timing functionality that shouldn't usually need to be paused,
       * unlike the `shared` ticker which drives visual animations and rendering which may want to be paused.
       *
       * The property {@link PIXI.Ticker#autoStart} is set to `true` for this instance.
       *
       * @member {PIXI.Ticker}
       * @static
       */
      get: function() {
        if (!e13._system) {
          var t = e13._system = new e13();
          t.autoStart = true, t._protected = true;
        }
        return e13._system;
      },
      enumerable: false,
      configurable: true
    }), e13;
  }()
);
var sG = (
  /** @class */
  function() {
    function e13() {
    }
    return e13.init = function(t) {
      var r = this;
      t = Object.assign({
        autoStart: true,
        sharedTicker: false
      }, t), Object.defineProperty(this, "ticker", {
        set: function(n) {
          this._ticker && this._ticker.remove(this.render, this), this._ticker = n, n && n.add(this.render, this, Fa.LOW);
        },
        get: function() {
          return this._ticker;
        }
      }), this.stop = function() {
        r._ticker.stop();
      }, this.start = function() {
        r._ticker.start();
      }, this._ticker = null, this.ticker = t.sharedTicker ? An.shared : new An(), t.autoStart && this.start();
    }, e13.destroy = function() {
      if (this._ticker) {
        var t = this._ticker;
        this.ticker = null, t.destroy();
      }
    }, e13;
  }()
);
var hI = (
  /** @class */
  function() {
    function e13() {
      this.pressure = 0, this.rotationAngle = 0, this.twist = 0, this.tangentialPressure = 0, this.global = new On(), this.target = null, this.originalEvent = null, this.identifier = null, this.isPrimary = false, this.button = 0, this.buttons = 0, this.width = 0, this.height = 0, this.tiltX = 0, this.tiltY = 0, this.pointerType = null, this.pressure = 0, this.rotationAngle = 0, this.twist = 0, this.tangentialPressure = 0;
    }
    return Object.defineProperty(e13.prototype, "pointerId", {
      /**
       * The unique identifier of the pointer. It will be the same as `identifier`.
       * @readonly
       * @member {number}
       * @see https://developer.mozilla.org/en-US/docs/Web/API/PointerEvent/pointerId
       */
      get: function() {
        return this.identifier;
      },
      enumerable: false,
      configurable: true
    }), e13.prototype.getLocalPosition = function(t, r, n) {
      return t.worldTransform.applyInverse(n || this.global, r);
    }, e13.prototype.copyEvent = function(t) {
      "isPrimary" in t && t.isPrimary && (this.isPrimary = true), this.button = "button" in t && t.button;
      var r = "buttons" in t && t.buttons;
      this.buttons = Number.isInteger(r) ? r : "which" in t && t.which, this.width = "width" in t && t.width, this.height = "height" in t && t.height, this.tiltX = "tiltX" in t && t.tiltX, this.tiltY = "tiltY" in t && t.tiltY, this.pointerType = "pointerType" in t && t.pointerType, this.pressure = "pressure" in t && t.pressure, this.rotationAngle = "rotationAngle" in t && t.rotationAngle, this.twist = "twist" in t && t.twist || 0, this.tangentialPressure = "tangentialPressure" in t && t.tangentialPressure || 0;
    }, e13.prototype.reset = function() {
      this.isPrimary = false;
    }, e13;
  }()
);
var fI = function(e13, t) {
  return fI = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
    r.__proto__ = n;
  } || function(r, n) {
    for (var i in n)
      n.hasOwnProperty(i) && (r[i] = n[i]);
  }, fI(e13, t);
};
function ree(e13, t) {
  fI(e13, t);
  function r() {
    this.constructor = e13;
  }
  e13.prototype = t === null ? Object.create(t) : (r.prototype = t.prototype, new r());
}
var lG = (
  /** @class */
  function() {
    function e13() {
      this.stopped = false, this.stopsPropagatingAt = null, this.stopPropagationHint = false, this.target = null, this.currentTarget = null, this.type = null, this.data = null;
    }
    return e13.prototype.stopPropagation = function() {
      this.stopped = true, this.stopPropagationHint = true, this.stopsPropagatingAt = this.currentTarget;
    }, e13.prototype.reset = function() {
      this.stopped = false, this.stopsPropagatingAt = null, this.stopPropagationHint = false, this.currentTarget = null, this.target = null;
    }, e13;
  }()
);
var z_ = (
  /** @class */
  function() {
    function e13(t) {
      this._pointerId = t, this._flags = e13.FLAGS.NONE;
    }
    return e13.prototype._doSet = function(t, r) {
      r ? this._flags = this._flags | t : this._flags = this._flags & ~t;
    }, Object.defineProperty(e13.prototype, "pointerId", {
      /**
       * Unique pointer id of the event
       *
       * @readonly
       * @private
       * @member {number}
       */
      get: function() {
        return this._pointerId;
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(e13.prototype, "flags", {
      /**
       * State of the tracking data, expressed as bit flags
       *
       * @private
       * @member {number}
       */
      get: function() {
        return this._flags;
      },
      set: function(t) {
        this._flags = t;
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(e13.prototype, "none", {
      /**
       * Is the tracked event inactive (not over or down)?
       *
       * @private
       * @member {number}
       */
      get: function() {
        return this._flags === e13.FLAGS.NONE;
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(e13.prototype, "over", {
      /**
       * Is the tracked event over the DisplayObject?
       *
       * @private
       * @member {boolean}
       */
      get: function() {
        return (this._flags & e13.FLAGS.OVER) !== 0;
      },
      set: function(t) {
        this._doSet(e13.FLAGS.OVER, t);
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(e13.prototype, "rightDown", {
      /**
       * Did the right mouse button come down in the DisplayObject?
       *
       * @private
       * @member {boolean}
       */
      get: function() {
        return (this._flags & e13.FLAGS.RIGHT_DOWN) !== 0;
      },
      set: function(t) {
        this._doSet(e13.FLAGS.RIGHT_DOWN, t);
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(e13.prototype, "leftDown", {
      /**
       * Did the left mouse button come down in the DisplayObject?
       *
       * @private
       * @member {boolean}
       */
      get: function() {
        return (this._flags & e13.FLAGS.LEFT_DOWN) !== 0;
      },
      set: function(t) {
        this._doSet(e13.FLAGS.LEFT_DOWN, t);
      },
      enumerable: false,
      configurable: true
    }), e13.FLAGS = Object.freeze({
      NONE: 0,
      OVER: 1,
      LEFT_DOWN: 2,
      RIGHT_DOWN: 4
    }), e13;
  }()
);
var nee = (
  /** @class */
  function() {
    function e13() {
      this._tempPoint = new On();
    }
    return e13.prototype.recursiveFindHit = function(t, r, n, i, o) {
      if (!r || !r.visible)
        return false;
      var a = t.data.global;
      o = r.interactive || o;
      var s = false, l = o, u = true;
      if (r.hitArea ? (i && (r.worldTransform.applyInverse(a, this._tempPoint), r.hitArea.contains(this._tempPoint.x, this._tempPoint.y) ? s = true : (i = false, u = false)), l = false) : r._mask && i && (r._mask.containsPoint && r._mask.containsPoint(a) || (i = false)), u && r.interactiveChildren && r.children)
        for (var c = r.children, f = c.length - 1; f >= 0; f--) {
          var h = c[f], d = this.recursiveFindHit(t, h, n, i, l);
          if (d) {
            if (!h.parent)
              continue;
            l = false, d && (t.target && (i = false), s = true);
          }
        }
      return o && (i && !t.target && !r.hitArea && r.containsPoint && r.containsPoint(a) && (s = true), r.interactive && (s && !t.target && (t.target = r), n && n(t, r, !!s))), s;
    }, e13.prototype.findHit = function(t, r, n, i) {
      this.recursiveFindHit(t, r, n, i, false);
    }, e13;
  }()
);
var cG = {
  /**
   * Enable interaction events for the DisplayObject. Touch, pointer and mouse
   * events will not be emitted unless `interactive` is set to `true`.
   *
   * @example
   * const sprite = new PIXI.Sprite(texture);
   * sprite.interactive = true;
   * sprite.on('tap', (event) => {
   *    //handle event
   * });
   * @member {boolean}
   * @memberof PIXI.DisplayObject#
   */
  interactive: false,
  /**
   * Determines if the children to the displayObject can be clicked/touched
   * Setting this to false allows PixiJS to bypass a recursive `hitTest` function
   *
   * @member {boolean}
   * @memberof PIXI.Container#
   */
  interactiveChildren: true,
  /**
   * Interaction shape. Children will be hit first, then this shape will be checked.
   * Setting this will cause this shape to be checked in hit tests rather than the displayObject's bounds.
   *
   * @example
   * const sprite = new PIXI.Sprite(texture);
   * sprite.interactive = true;
   * sprite.hitArea = new PIXI.Rectangle(0, 0, 100, 100);
   * @member {PIXI.IHitArea}
   * @memberof PIXI.DisplayObject#
   */
  hitArea: null,
  /**
   * If enabled, the mouse cursor use the pointer behavior when hovered over the displayObject if it is interactive
   * Setting this changes the 'cursor' property to `'pointer'`.
   *
   * @example
   * const sprite = new PIXI.Sprite(texture);
   * sprite.interactive = true;
   * sprite.buttonMode = true;
   * @member {boolean}
   * @memberof PIXI.DisplayObject#
   */
  get buttonMode() {
    return this.cursor === "pointer";
  },
  set buttonMode(e13) {
    e13 ? this.cursor = "pointer" : this.cursor === "pointer" && (this.cursor = null);
  },
  /**
   * This defines what cursor mode is used when the mouse cursor
   * is hovered over the displayObject.
   *
   * @example
   * const sprite = new PIXI.Sprite(texture);
   * sprite.interactive = true;
   * sprite.cursor = 'wait';
   * @see https://developer.mozilla.org/en/docs/Web/CSS/cursor
   *
   * @member {string}
   * @memberof PIXI.DisplayObject#
   */
  cursor: null,
  /**
   * Internal set of all active pointers, by identifier
   *
   * @member {Map<number, InteractionTrackingData>}
   * @memberof PIXI.DisplayObject#
   * @private
   */
  get trackedPointers() {
    return this._trackedPointers === void 0 && (this._trackedPointers = {}), this._trackedPointers;
  },
  /**
   * Map of all tracked pointers, by identifier. Use trackedPointers to access.
   *
   * @private
   * @type {Map<number, InteractionTrackingData>}
   */
  _trackedPointers: void 0
};
ln.mixin(cG);
var My = 1;
var Ly = {
  target: null,
  data: {
    global: null
  }
};
var uG = (
  /** @class */
  function(e13) {
    ree(t, e13);
    function t(r, n) {
      var i = e13.call(this) || this;
      return n = n || {}, i.renderer = r, i.autoPreventDefault = n.autoPreventDefault !== void 0 ? n.autoPreventDefault : true, i.interactionFrequency = n.interactionFrequency || 10, i.mouse = new hI(), i.mouse.identifier = My, i.mouse.global.set(-999999), i.activeInteractionData = {}, i.activeInteractionData[My] = i.mouse, i.interactionDataPool = [], i.eventData = new lG(), i.interactionDOMElement = null, i.moveWhenInside = false, i.eventsAdded = false, i.tickerAdded = false, i.mouseOverRenderer = false, i.supportsTouchEvents = "ontouchstart" in window, i.supportsPointerEvents = !!window.PointerEvent, i.onPointerUp = i.onPointerUp.bind(i), i.processPointerUp = i.processPointerUp.bind(i), i.onPointerCancel = i.onPointerCancel.bind(i), i.processPointerCancel = i.processPointerCancel.bind(i), i.onPointerDown = i.onPointerDown.bind(i), i.processPointerDown = i.processPointerDown.bind(i), i.onPointerMove = i.onPointerMove.bind(i), i.processPointerMove = i.processPointerMove.bind(i), i.onPointerOut = i.onPointerOut.bind(i), i.processPointerOverOut = i.processPointerOverOut.bind(i), i.onPointerOver = i.onPointerOver.bind(i), i.cursorStyles = {
        default: "inherit",
        pointer: "pointer"
      }, i.currentCursorMode = null, i.cursor = null, i.resolution = 1, i.delayedEvents = [], i.search = new nee(), i._tempDisplayObject = new pD(), i._useSystemTicker = n.useSystemTicker !== void 0 ? n.useSystemTicker : true, i.setTargetElement(i.renderer.view, i.renderer.resolution), i;
    }
    return Object.defineProperty(t.prototype, "useSystemTicker", {
      /**
       * Should the InteractionManager automatically add {@link tickerUpdate} to {@link PIXI.Ticker.system}.
       *
       * @member {boolean}
       * @default true
       */
      get: function() {
        return this._useSystemTicker;
      },
      set: function(r) {
        this._useSystemTicker = r, r ? this.addTickerListener() : this.removeTickerListener();
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(t.prototype, "lastObjectRendered", {
      /**
       * Last rendered object or temp object
       * @readonly
       * @protected
       * @member {PIXI.DisplayObject}
       */
      get: function() {
        return this.renderer._lastObjectRendered || this._tempDisplayObject;
      },
      enumerable: false,
      configurable: true
    }), t.prototype.hitTest = function(r, n) {
      return Ly.target = null, Ly.data.global = r, n || (n = this.lastObjectRendered), this.processInteractive(Ly, n, null, true), Ly.target;
    }, t.prototype.setTargetElement = function(r, n) {
      n === void 0 && (n = 1), this.removeTickerListener(), this.removeEvents(), this.interactionDOMElement = r, this.resolution = n, this.addEvents(), this.addTickerListener();
    }, t.prototype.addTickerListener = function() {
      this.tickerAdded || !this.interactionDOMElement || !this._useSystemTicker || (An.system.add(this.tickerUpdate, this, Fa.INTERACTION), this.tickerAdded = true);
    }, t.prototype.removeTickerListener = function() {
      this.tickerAdded && (An.system.remove(this.tickerUpdate, this), this.tickerAdded = false);
    }, t.prototype.addEvents = function() {
      if (!(this.eventsAdded || !this.interactionDOMElement)) {
        var r = this.interactionDOMElement.style;
        window.navigator.msPointerEnabled ? (r.msContentZooming = "none", r.msTouchAction = "none") : this.supportsPointerEvents && (r.touchAction = "none"), this.supportsPointerEvents ? (window.document.addEventListener("pointermove", this.onPointerMove, true), this.interactionDOMElement.addEventListener("pointerdown", this.onPointerDown, true), this.interactionDOMElement.addEventListener("pointerleave", this.onPointerOut, true), this.interactionDOMElement.addEventListener("pointerover", this.onPointerOver, true), window.addEventListener("pointercancel", this.onPointerCancel, true), window.addEventListener("pointerup", this.onPointerUp, true)) : (window.document.addEventListener("mousemove", this.onPointerMove, true), this.interactionDOMElement.addEventListener("mousedown", this.onPointerDown, true), this.interactionDOMElement.addEventListener("mouseout", this.onPointerOut, true), this.interactionDOMElement.addEventListener("mouseover", this.onPointerOver, true), window.addEventListener("mouseup", this.onPointerUp, true)), this.supportsTouchEvents && (this.interactionDOMElement.addEventListener("touchstart", this.onPointerDown, true), this.interactionDOMElement.addEventListener("touchcancel", this.onPointerCancel, true), this.interactionDOMElement.addEventListener("touchend", this.onPointerUp, true), this.interactionDOMElement.addEventListener("touchmove", this.onPointerMove, true)), this.eventsAdded = true;
      }
    }, t.prototype.removeEvents = function() {
      if (!(!this.eventsAdded || !this.interactionDOMElement)) {
        var r = this.interactionDOMElement.style;
        window.navigator.msPointerEnabled ? (r.msContentZooming = "", r.msTouchAction = "") : this.supportsPointerEvents && (r.touchAction = ""), this.supportsPointerEvents ? (window.document.removeEventListener("pointermove", this.onPointerMove, true), this.interactionDOMElement.removeEventListener("pointerdown", this.onPointerDown, true), this.interactionDOMElement.removeEventListener("pointerleave", this.onPointerOut, true), this.interactionDOMElement.removeEventListener("pointerover", this.onPointerOver, true), window.removeEventListener("pointercancel", this.onPointerCancel, true), window.removeEventListener("pointerup", this.onPointerUp, true)) : (window.document.removeEventListener("mousemove", this.onPointerMove, true), this.interactionDOMElement.removeEventListener("mousedown", this.onPointerDown, true), this.interactionDOMElement.removeEventListener("mouseout", this.onPointerOut, true), this.interactionDOMElement.removeEventListener("mouseover", this.onPointerOver, true), window.removeEventListener("mouseup", this.onPointerUp, true)), this.supportsTouchEvents && (this.interactionDOMElement.removeEventListener("touchstart", this.onPointerDown, true), this.interactionDOMElement.removeEventListener("touchcancel", this.onPointerCancel, true), this.interactionDOMElement.removeEventListener("touchend", this.onPointerUp, true), this.interactionDOMElement.removeEventListener("touchmove", this.onPointerMove, true)), this.interactionDOMElement = null, this.eventsAdded = false;
      }
    }, t.prototype.tickerUpdate = function(r) {
      this._deltaTime += r, !(this._deltaTime < this.interactionFrequency) && (this._deltaTime = 0, this.update());
    }, t.prototype.update = function() {
      if (this.interactionDOMElement) {
        if (this._didMove) {
          this._didMove = false;
          return;
        }
        this.cursor = null;
        for (var r in this.activeInteractionData)
          if (this.activeInteractionData.hasOwnProperty(r)) {
            var n = this.activeInteractionData[r];
            if (n.originalEvent && n.pointerType !== "touch") {
              var i = this.configureInteractionEventForDOMEvent(this.eventData, n.originalEvent, n);
              this.processInteractive(i, this.lastObjectRendered, this.processPointerOverOut, true);
            }
          }
        this.setCursorMode(this.cursor);
      }
    }, t.prototype.setCursorMode = function(r) {
      if (r = r || "default", this.currentCursorMode !== r) {
        this.currentCursorMode = r;
        var n = this.cursorStyles[r];
        if (n)
          switch (typeof n) {
            case "string":
              this.interactionDOMElement.style.cursor = n;
              break;
            case "function":
              n(r);
              break;
            case "object":
              Object.assign(this.interactionDOMElement.style, n);
              break;
          }
        else typeof r == "string" && !Object.prototype.hasOwnProperty.call(this.cursorStyles, r) && (this.interactionDOMElement.style.cursor = r);
      }
    }, t.prototype.dispatchEvent = function(r, n, i) {
      (!i.stopPropagationHint || r === i.stopsPropagatingAt) && (i.currentTarget = r, i.type = n, r.emit(n, i), r[n] && r[n](i));
    }, t.prototype.delayDispatchEvent = function(r, n, i) {
      this.delayedEvents.push({ displayObject: r, eventString: n, eventData: i });
    }, t.prototype.mapPositionToPoint = function(r, n, i) {
      var o;
      this.interactionDOMElement.parentElement ? o = this.interactionDOMElement.getBoundingClientRect() : o = { x: 0, y: 0, width: 0, height: 0 };
      var a = 1 / this.resolution;
      r.x = (n - o.left) * (this.interactionDOMElement.width / o.width) * a, r.y = (i - o.top) * (this.interactionDOMElement.height / o.height) * a;
    }, t.prototype.processInteractive = function(r, n, i, o) {
      var a = this.search.findHit(r, n, i, o), s = this.delayedEvents;
      if (!s.length)
        return a;
      r.stopPropagationHint = false;
      var l = s.length;
      this.delayedEvents = [];
      for (var u = 0; u < l; u++) {
        var c = s[u], f = c.displayObject, h = c.eventString, d = c.eventData;
        d.stopsPropagatingAt === f && (d.stopPropagationHint = true), this.dispatchEvent(f, h, d);
      }
      return a;
    }, t.prototype.onPointerDown = function(r) {
      if (!(this.supportsTouchEvents && r.pointerType === "touch")) {
        var n = this.normalizeToPointerData(r);
        if (this.autoPreventDefault && n[0].isNormalized) {
          var i = r.cancelable || !("cancelable" in r);
          i && r.preventDefault();
        }
        for (var o = n.length, a = 0; a < o; a++) {
          var s = n[a], l = this.getInteractionDataForPointerId(s), u = this.configureInteractionEventForDOMEvent(this.eventData, s, l);
          if (u.data.originalEvent = r, this.processInteractive(u, this.lastObjectRendered, this.processPointerDown, true), this.emit("pointerdown", u), s.pointerType === "touch")
            this.emit("touchstart", u);
          else if (s.pointerType === "mouse" || s.pointerType === "pen") {
            var c = s.button === 2;
            this.emit(c ? "rightdown" : "mousedown", this.eventData);
          }
        }
      }
    }, t.prototype.processPointerDown = function(r, n, i) {
      var o = r.data, a = r.data.identifier;
      if (i) {
        if (n.trackedPointers[a] || (n.trackedPointers[a] = new z_(a)), this.dispatchEvent(n, "pointerdown", r), o.pointerType === "touch")
          this.dispatchEvent(n, "touchstart", r);
        else if (o.pointerType === "mouse" || o.pointerType === "pen") {
          var s = o.button === 2;
          s ? n.trackedPointers[a].rightDown = true : n.trackedPointers[a].leftDown = true, this.dispatchEvent(n, s ? "rightdown" : "mousedown", r);
        }
      }
    }, t.prototype.onPointerComplete = function(r, n, i) {
      for (var o = this.normalizeToPointerData(r), a = o.length, s = r.target !== this.interactionDOMElement ? "outside" : "", l = 0; l < a; l++) {
        var u = o[l], c = this.getInteractionDataForPointerId(u), f = this.configureInteractionEventForDOMEvent(this.eventData, u, c);
        if (f.data.originalEvent = r, this.processInteractive(f, this.lastObjectRendered, i, n || !s), this.emit(n ? "pointercancel" : "pointerup" + s, f), u.pointerType === "mouse" || u.pointerType === "pen") {
          var h = u.button === 2;
          this.emit(h ? "rightup" + s : "mouseup" + s, f);
        } else u.pointerType === "touch" && (this.emit(n ? "touchcancel" : "touchend" + s, f), this.releaseInteractionDataForPointerId(u.pointerId));
      }
    }, t.prototype.onPointerCancel = function(r) {
      this.supportsTouchEvents && r.pointerType === "touch" || this.onPointerComplete(r, true, this.processPointerCancel);
    }, t.prototype.processPointerCancel = function(r, n) {
      var i = r.data, o = r.data.identifier;
      n.trackedPointers[o] !== void 0 && (delete n.trackedPointers[o], this.dispatchEvent(n, "pointercancel", r), i.pointerType === "touch" && this.dispatchEvent(n, "touchcancel", r));
    }, t.prototype.onPointerUp = function(r) {
      this.supportsTouchEvents && r.pointerType === "touch" || this.onPointerComplete(r, false, this.processPointerUp);
    }, t.prototype.processPointerUp = function(r, n, i) {
      var o = r.data, a = r.data.identifier, s = n.trackedPointers[a], l = o.pointerType === "touch", u = o.pointerType === "mouse" || o.pointerType === "pen", c = false;
      if (u) {
        var f = o.button === 2, h = z_.FLAGS, d = f ? h.RIGHT_DOWN : h.LEFT_DOWN, p = s !== void 0 && s.flags & d;
        i ? (this.dispatchEvent(n, f ? "rightup" : "mouseup", r), p && (this.dispatchEvent(n, f ? "rightclick" : "click", r), c = true)) : p && this.dispatchEvent(n, f ? "rightupoutside" : "mouseupoutside", r), s && (f ? s.rightDown = false : s.leftDown = false);
      }
      i ? (this.dispatchEvent(n, "pointerup", r), l && this.dispatchEvent(n, "touchend", r), s && ((!u || c) && this.dispatchEvent(n, "pointertap", r), l && (this.dispatchEvent(n, "tap", r), s.over = false))) : s && (this.dispatchEvent(n, "pointerupoutside", r), l && this.dispatchEvent(n, "touchendoutside", r)), s && s.none && delete n.trackedPointers[a];
    }, t.prototype.onPointerMove = function(r) {
      if (!(this.supportsTouchEvents && r.pointerType === "touch")) {
        var n = this.normalizeToPointerData(r);
        (n[0].pointerType === "mouse" || n[0].pointerType === "pen") && (this._didMove = true, this.cursor = null);
        for (var i = n.length, o = 0; o < i; o++) {
          var a = n[o], s = this.getInteractionDataForPointerId(a), l = this.configureInteractionEventForDOMEvent(this.eventData, a, s);
          l.data.originalEvent = r, this.processInteractive(l, this.lastObjectRendered, this.processPointerMove, true), this.emit("pointermove", l), a.pointerType === "touch" && this.emit("touchmove", l), (a.pointerType === "mouse" || a.pointerType === "pen") && this.emit("mousemove", l);
        }
        n[0].pointerType === "mouse" && this.setCursorMode(this.cursor);
      }
    }, t.prototype.processPointerMove = function(r, n, i) {
      var o = r.data, a = o.pointerType === "touch", s = o.pointerType === "mouse" || o.pointerType === "pen";
      s && this.processPointerOverOut(r, n, i), (!this.moveWhenInside || i) && (this.dispatchEvent(n, "pointermove", r), a && this.dispatchEvent(n, "touchmove", r), s && this.dispatchEvent(n, "mousemove", r));
    }, t.prototype.onPointerOut = function(r) {
      if (!(this.supportsTouchEvents && r.pointerType === "touch")) {
        var n = this.normalizeToPointerData(r), i = n[0];
        i.pointerType === "mouse" && (this.mouseOverRenderer = false, this.setCursorMode(null));
        var o = this.getInteractionDataForPointerId(i), a = this.configureInteractionEventForDOMEvent(this.eventData, i, o);
        a.data.originalEvent = i, this.processInteractive(a, this.lastObjectRendered, this.processPointerOverOut, false), this.emit("pointerout", a), i.pointerType === "mouse" || i.pointerType === "pen" ? this.emit("mouseout", a) : this.releaseInteractionDataForPointerId(o.identifier);
      }
    }, t.prototype.processPointerOverOut = function(r, n, i) {
      var o = r.data, a = r.data.identifier, s = o.pointerType === "mouse" || o.pointerType === "pen", l = n.trackedPointers[a];
      i && !l && (l = n.trackedPointers[a] = new z_(a)), l !== void 0 && (i && this.mouseOverRenderer ? (l.over || (l.over = true, this.delayDispatchEvent(n, "pointerover", r), s && this.delayDispatchEvent(n, "mouseover", r)), s && this.cursor === null && (this.cursor = n.cursor)) : l.over && (l.over = false, this.dispatchEvent(n, "pointerout", this.eventData), s && this.dispatchEvent(n, "mouseout", r), l.none && delete n.trackedPointers[a]));
    }, t.prototype.onPointerOver = function(r) {
      var n = this.normalizeToPointerData(r), i = n[0], o = this.getInteractionDataForPointerId(i), a = this.configureInteractionEventForDOMEvent(this.eventData, i, o);
      a.data.originalEvent = i, i.pointerType === "mouse" && (this.mouseOverRenderer = true), this.emit("pointerover", a), (i.pointerType === "mouse" || i.pointerType === "pen") && this.emit("mouseover", a);
    }, t.prototype.getInteractionDataForPointerId = function(r) {
      var n = r.pointerId, i;
      return n === My || r.pointerType === "mouse" ? i = this.mouse : this.activeInteractionData[n] ? i = this.activeInteractionData[n] : (i = this.interactionDataPool.pop() || new hI(), i.identifier = n, this.activeInteractionData[n] = i), i.copyEvent(r), i;
    }, t.prototype.releaseInteractionDataForPointerId = function(r) {
      var n = this.activeInteractionData[r];
      n && (delete this.activeInteractionData[r], n.reset(), this.interactionDataPool.push(n));
    }, t.prototype.configureInteractionEventForDOMEvent = function(r, n, i) {
      return r.data = i, this.mapPositionToPoint(i.global, n.clientX, n.clientY), n.pointerType === "touch" && (n.globalX = i.global.x, n.globalY = i.global.y), i.originalEvent = n, r.reset(), r;
    }, t.prototype.normalizeToPointerData = function(r) {
      var n = [];
      if (this.supportsTouchEvents && r instanceof TouchEvent)
        for (var i = 0, o = r.changedTouches.length; i < o; i++) {
          var a = r.changedTouches[i];
          typeof a.button > "u" && (a.button = r.touches.length ? 1 : 0), typeof a.buttons > "u" && (a.buttons = r.touches.length ? 1 : 0), typeof a.isPrimary > "u" && (a.isPrimary = r.touches.length === 1 && r.type === "touchstart"), typeof a.width > "u" && (a.width = a.radiusX || 1), typeof a.height > "u" && (a.height = a.radiusY || 1), typeof a.tiltX > "u" && (a.tiltX = 0), typeof a.tiltY > "u" && (a.tiltY = 0), typeof a.pointerType > "u" && (a.pointerType = "touch"), typeof a.pointerId > "u" && (a.pointerId = a.identifier || 0), typeof a.pressure > "u" && (a.pressure = a.force || 0.5), typeof a.twist > "u" && (a.twist = 0), typeof a.tangentialPressure > "u" && (a.tangentialPressure = 0), typeof a.layerX > "u" && (a.layerX = a.offsetX = a.clientX), typeof a.layerY > "u" && (a.layerY = a.offsetY = a.clientY), a.isNormalized = true, n.push(a);
        }
      else if (r instanceof MouseEvent && (!this.supportsPointerEvents || !(r instanceof window.PointerEvent))) {
        var s = r;
        typeof s.isPrimary > "u" && (s.isPrimary = true), typeof s.width > "u" && (s.width = 1), typeof s.height > "u" && (s.height = 1), typeof s.tiltX > "u" && (s.tiltX = 0), typeof s.tiltY > "u" && (s.tiltY = 0), typeof s.pointerType > "u" && (s.pointerType = "mouse"), typeof s.pointerId > "u" && (s.pointerId = My), typeof s.pressure > "u" && (s.pressure = 0.5), typeof s.twist > "u" && (s.twist = 0), typeof s.tangentialPressure > "u" && (s.tangentialPressure = 0), s.isNormalized = true, n.push(s);
      } else
        n.push(r);
      return n;
    }, t.prototype.destroy = function() {
      this.removeEvents(), this.removeTickerListener(), this.removeAllListeners(), this.renderer = null, this.mouse = null, this.eventData = null, this.interactionDOMElement = null, this.onPointerDown = null, this.processPointerDown = null, this.onPointerUp = null, this.processPointerUp = null, this.onPointerCancel = null, this.processPointerCancel = null, this.onPointerMove = null, this.processPointerMove = null, this.onPointerOut = null, this.processPointerOverOut = null, this.onPointerOver = null, this.search = null;
    }, t;
  }(Vd)
);
var Ln = (
  /** @class */
  function() {
    function e13(t) {
      this.items = [], this._name = t, this._aliasCount = 0;
    }
    return e13.prototype.emit = function(t, r, n, i, o, a, s, l) {
      if (arguments.length > 8)
        throw new Error("max arguments reached");
      var u = this, c = u.name, f = u.items;
      this._aliasCount++;
      for (var h = 0, d = f.length; h < d; h++)
        f[h][c](t, r, n, i, o, a, s, l);
      return f === this.items && this._aliasCount--, this;
    }, e13.prototype.ensureNonAliasedItems = function() {
      this._aliasCount > 0 && this.items.length > 1 && (this._aliasCount = 0, this.items = this.items.slice(0));
    }, e13.prototype.add = function(t) {
      return t[this._name] && (this.ensureNonAliasedItems(), this.remove(t), this.items.push(t)), this;
    }, e13.prototype.remove = function(t) {
      var r = this.items.indexOf(t);
      return r !== -1 && (this.ensureNonAliasedItems(), this.items.splice(r, 1)), this;
    }, e13.prototype.contains = function(t) {
      return this.items.indexOf(t) !== -1;
    }, e13.prototype.removeAll = function() {
      return this.ensureNonAliasedItems(), this.items.length = 0, this;
    }, e13.prototype.destroy = function() {
      this.removeAll(), this.items = null, this._name = null;
    }, Object.defineProperty(e13.prototype, "empty", {
      /**
       * `true` if there are no this Runner contains no listeners
       *
       * @member {boolean}
       * @readonly
       */
      get: function() {
        return this.items.length === 0;
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(e13.prototype, "name", {
      /**
       * The name of the runner.
       *
       * @member {string}
       * @readonly
       */
      get: function() {
        return this._name;
      },
      enumerable: false,
      configurable: true
    }), e13;
  }()
);
Object.defineProperties(Ln.prototype, {
  /**
   * Alias for `emit`
   * @memberof PIXI.Runner#
   * @method dispatch
   * @see PIXI.Runner#emit
   */
  dispatch: { value: Ln.prototype.emit },
  /**
   * Alias for `emit`
   * @memberof PIXI.Runner#
   * @method run
   * @see PIXI.Runner#emit
   */
  run: { value: Ln.prototype.emit }
});
ft.PREFER_ENV = bo.any ? Ba.WEBGL : Ba.WEBGL2;
ft.STRICT_TEXTURE_CACHE = false;
var Yb = [];
function mD(e13, t) {
  if (!e13)
    return null;
  var r = "";
  if (typeof e13 == "string") {
    var n = /\.(\w{3,4})(?:$|\?|#)/i.exec(e13);
    n && (r = n[1].toLowerCase());
  }
  for (var i = Yb.length - 1; i >= 0; --i) {
    var o = Yb[i];
    if (o.test && o.test(e13, r))
      return new o(e13, t);
  }
  throw new Error("Unrecognized source type to auto-detect Resource");
}
var dI = function(e13, t) {
  return dI = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
    r.__proto__ = n;
  } || function(r, n) {
    for (var i in n)
      n.hasOwnProperty(i) && (r[i] = n[i]);
  }, dI(e13, t);
};
function Ft(e13, t) {
  dI(e13, t);
  function r() {
    this.constructor = e13;
  }
  e13.prototype = t === null ? Object.create(t) : (r.prototype = t.prototype, new r());
}
var qf = (
  /** @class */
  function() {
    function e13(t, r) {
      t === void 0 && (t = 0), r === void 0 && (r = 0), this._width = t, this._height = r, this.destroyed = false, this.internal = false, this.onResize = new Ln("setRealSize"), this.onUpdate = new Ln("update"), this.onError = new Ln("onError");
    }
    return e13.prototype.bind = function(t) {
      this.onResize.add(t), this.onUpdate.add(t), this.onError.add(t), (this._width || this._height) && this.onResize.emit(this._width, this._height);
    }, e13.prototype.unbind = function(t) {
      this.onResize.remove(t), this.onUpdate.remove(t), this.onError.remove(t);
    }, e13.prototype.resize = function(t, r) {
      (t !== this._width || r !== this._height) && (this._width = t, this._height = r, this.onResize.emit(t, r));
    }, Object.defineProperty(e13.prototype, "valid", {
      /**
       * Has been validated
       * @readonly
       * @member {boolean}
       */
      get: function() {
        return !!this._width && !!this._height;
      },
      enumerable: false,
      configurable: true
    }), e13.prototype.update = function() {
      this.destroyed || this.onUpdate.emit();
    }, e13.prototype.load = function() {
      return Promise.resolve(this);
    }, Object.defineProperty(e13.prototype, "width", {
      /**
       * The width of the resource.
       *
       * @member {number}
       * @readonly
       */
      get: function() {
        return this._width;
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(e13.prototype, "height", {
      /**
       * The height of the resource.
       *
       * @member {number}
       * @readonly
       */
      get: function() {
        return this._height;
      },
      enumerable: false,
      configurable: true
    }), e13.prototype.style = function(t, r, n) {
      return false;
    }, e13.prototype.dispose = function() {
    }, e13.prototype.destroy = function() {
      this.destroyed || (this.destroyed = true, this.dispose(), this.onError.removeAll(), this.onError = null, this.onResize.removeAll(), this.onResize = null, this.onUpdate.removeAll(), this.onUpdate = null);
    }, e13.test = function(t, r) {
      return false;
    }, e13;
  }()
);
var kE = (
  /** @class */
  function(e13) {
    Ft(t, e13);
    function t(r, n) {
      var i = this, o = n || {}, a = o.width, s = o.height;
      if (!a || !s)
        throw new Error("BufferResource width or height invalid");
      return i = e13.call(this, a, s) || this, i.data = r, i;
    }
    return t.prototype.upload = function(r, n, i) {
      var o = r.gl;
      return o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL, n.alphaMode === Cs.UNPACK), i.width === n.width && i.height === n.height ? o.texSubImage2D(n.target, 0, 0, 0, n.width, n.height, n.format, n.type, this.data) : (i.width = n.width, i.height = n.height, o.texImage2D(n.target, 0, i.internalFormat, n.width, n.height, 0, n.format, i.type, this.data)), true;
    }, t.prototype.dispose = function() {
      this.data = null;
    }, t.test = function(r) {
      return r instanceof Float32Array || r instanceof Uint8Array || r instanceof Uint32Array;
    }, t;
  }(qf)
);
var iee = {
  scaleMode: Ca.NEAREST,
  format: Xf.RGBA,
  alphaMode: Cs.NPM
};
var Nr = (
  /** @class */
  function(e13) {
    Ft(t, e13);
    function t(r, n) {
      r === void 0 && (r = null), n === void 0 && (n = null);
      var i = e13.call(this) || this;
      n = n || {};
      var o = n.alphaMode, a = n.mipmap, s = n.anisotropicLevel, l = n.scaleMode, u = n.width, c = n.height, f = n.wrapMode, h = n.format, d = n.type, p = n.target, m = n.resolution, g = n.resourceOptions;
      return r && !(r instanceof qf) && (r = mD(r, g), r.internal = true), i.width = u || 0, i.height = c || 0, i.resolution = m || ft.RESOLUTION, i.mipmap = a !== void 0 ? a : ft.MIPMAP_TEXTURES, i.anisotropicLevel = s !== void 0 ? s : ft.ANISOTROPIC_LEVEL, i.wrapMode = f || ft.WRAP_MODE, i.scaleMode = l !== void 0 ? l : ft.SCALE_MODE, i.format = h || Xf.RGBA, i.type = d || on.UNSIGNED_BYTE, i.target = p || Ll.TEXTURE_2D, i.alphaMode = o !== void 0 ? o : Cs.UNPACK, n.premultiplyAlpha !== void 0 && (i.premultiplyAlpha = n.premultiplyAlpha), i.uid = su(), i.touched = 0, i.isPowerOfTwo = false, i._refreshPOT(), i._glTextures = {}, i.dirtyId = 0, i.dirtyStyleId = 0, i.cacheId = null, i.valid = u > 0 && c > 0, i.textureCacheIds = [], i.destroyed = false, i.resource = null, i._batchEnabled = 0, i._batchLocation = 0, i.parentTextureArray = null, i.setResource(r), i;
    }
    return Object.defineProperty(t.prototype, "realWidth", {
      /**
       * Pixel width of the source of this texture
       *
       * @readonly
       * @member {number}
       */
      get: function() {
        return Math.ceil(this.width * this.resolution - 1e-4);
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(t.prototype, "realHeight", {
      /**
       * Pixel height of the source of this texture
       *
       * @readonly
       * @member {number}
       */
      get: function() {
        return Math.ceil(this.height * this.resolution - 1e-4);
      },
      enumerable: false,
      configurable: true
    }), t.prototype.setStyle = function(r, n) {
      var i;
      return r !== void 0 && r !== this.scaleMode && (this.scaleMode = r, i = true), n !== void 0 && n !== this.mipmap && (this.mipmap = n, i = true), i && this.dirtyStyleId++, this;
    }, t.prototype.setSize = function(r, n, i) {
      return this.resolution = i || this.resolution, this.width = r, this.height = n, this._refreshPOT(), this.update(), this;
    }, t.prototype.setRealSize = function(r, n, i) {
      return this.resolution = i || this.resolution, this.width = r / this.resolution, this.height = n / this.resolution, this._refreshPOT(), this.update(), this;
    }, t.prototype._refreshPOT = function() {
      this.isPowerOfTwo = oI(this.realWidth) && oI(this.realHeight);
    }, t.prototype.setResolution = function(r) {
      var n = this.resolution;
      return n === r ? this : (this.resolution = r, this.valid && (this.width = this.width * n / r, this.height = this.height * n / r, this.emit("update", this)), this._refreshPOT(), this);
    }, t.prototype.setResource = function(r) {
      if (this.resource === r)
        return this;
      if (this.resource)
        throw new Error("Resource can be set only once");
      return r.bind(this), this.resource = r, this;
    }, t.prototype.update = function() {
      this.valid ? (this.dirtyId++, this.dirtyStyleId++, this.emit("update", this)) : this.width > 0 && this.height > 0 && (this.valid = true, this.emit("loaded", this), this.emit("update", this));
    }, t.prototype.onError = function(r) {
      this.emit("error", this, r);
    }, t.prototype.destroy = function() {
      this.resource && (this.resource.unbind(this), this.resource.internal && this.resource.destroy(), this.resource = null), this.cacheId && (delete mo[this.cacheId], delete Di[this.cacheId], this.cacheId = null), this.dispose(), t.removeFromCache(this), this.textureCacheIds = null, this.destroyed = true;
    }, t.prototype.dispose = function() {
      this.emit("dispose", this);
    }, t.prototype.castToBaseTexture = function() {
      return this;
    }, t.from = function(r, n, i) {
      i === void 0 && (i = ft.STRICT_TEXTURE_CACHE);
      var o = typeof r == "string", a = null;
      o ? a = r : (r._pixiId || (r._pixiId = "pixiid_" + su()), a = r._pixiId);
      var s = mo[a];
      if (o && i && !s)
        throw new Error('The cacheId "' + a + '" does not exist in BaseTextureCache.');
      return s || (s = new t(r, n), s.cacheId = a, t.addToCache(s, a)), s;
    }, t.fromBuffer = function(r, n, i, o) {
      r = r || new Float32Array(n * i * 4);
      var a = new kE(r, { width: n, height: i }), s = r instanceof Float32Array ? on.FLOAT : on.UNSIGNED_BYTE;
      return new t(a, Object.assign(iee, o || { width: n, height: i, type: s }));
    }, t.addToCache = function(r, n) {
      n && (r.textureCacheIds.indexOf(n) === -1 && r.textureCacheIds.push(n), mo[n] && console.warn("BaseTexture added to the cache with an id [" + n + "] that already had an entry"), mo[n] = r);
    }, t.removeFromCache = function(r) {
      if (typeof r == "string") {
        var n = mo[r];
        if (n) {
          var i = n.textureCacheIds.indexOf(r);
          return i > -1 && n.textureCacheIds.splice(i, 1), delete mo[r], n;
        }
      } else if (r && r.textureCacheIds) {
        for (var o = 0; o < r.textureCacheIds.length; ++o)
          delete mo[r.textureCacheIds[o]];
        return r.textureCacheIds.length = 0, r;
      }
      return null;
    }, t._globalBatch = 0, t;
  }(Vd)
);
var gD = (
  /** @class */
  function(e13) {
    Ft(t, e13);
    function t(r, n) {
      var i = this, o = n || {}, a = o.width, s = o.height;
      i = e13.call(this, a, s) || this, i.items = [], i.itemDirtyIds = [];
      for (var l = 0; l < r; l++) {
        var u = new Nr();
        i.items.push(u), i.itemDirtyIds.push(-2);
      }
      return i.length = r, i._load = null, i.baseTexture = null, i;
    }
    return t.prototype.initFromArray = function(r, n) {
      for (var i = 0; i < this.length; i++)
        r[i] && (r[i].castToBaseTexture ? this.addBaseTextureAt(r[i].castToBaseTexture(), i) : r[i] instanceof qf ? this.addResourceAt(r[i], i) : this.addResourceAt(mD(r[i], n), i));
    }, t.prototype.dispose = function() {
      for (var r = 0, n = this.length; r < n; r++)
        this.items[r].destroy();
      this.items = null, this.itemDirtyIds = null, this._load = null;
    }, t.prototype.addResourceAt = function(r, n) {
      if (!this.items[n])
        throw new Error("Index " + n + " is out of bounds");
      return r.valid && !this.valid && this.resize(r.width, r.height), this.items[n].setResource(r), this;
    }, t.prototype.bind = function(r) {
      if (this.baseTexture !== null)
        throw new Error("Only one base texture per TextureArray is allowed");
      e13.prototype.bind.call(this, r);
      for (var n = 0; n < this.length; n++)
        this.items[n].parentTextureArray = r, this.items[n].on("update", r.update, r);
    }, t.prototype.unbind = function(r) {
      e13.prototype.unbind.call(this, r);
      for (var n = 0; n < this.length; n++)
        this.items[n].parentTextureArray = null, this.items[n].off("update", r.update, r);
    }, t.prototype.load = function() {
      var r = this;
      if (this._load)
        return this._load;
      var n = this.items.map(function(o) {
        return o.resource;
      }).filter(function(o) {
        return o;
      }), i = n.map(function(o) {
        return o.load();
      });
      return this._load = Promise.all(i).then(function() {
        var o = r.items[0], a = o.realWidth, s = o.realHeight;
        return r.resize(a, s), Promise.resolve(r);
      }), this._load;
    }, t;
  }(qf)
);
var hG = (
  /** @class */
  function(e13) {
    Ft(t, e13);
    function t(r, n) {
      var i = this, o = n || {}, a = o.width, s = o.height, l, u;
      return Array.isArray(r) ? (l = r, u = r.length) : u = r, i = e13.call(this, u, { width: a, height: s }) || this, l && i.initFromArray(l, n), i;
    }
    return t.prototype.addBaseTextureAt = function(r, n) {
      if (r.resource)
        this.addResourceAt(r.resource, n);
      else
        throw new Error("ArrayResource does not support RenderTexture");
      return this;
    }, t.prototype.bind = function(r) {
      e13.prototype.bind.call(this, r), r.target = Ll.TEXTURE_2D_ARRAY;
    }, t.prototype.upload = function(r, n, i) {
      var o = this, a = o.length, s = o.itemDirtyIds, l = o.items, u = r.gl;
      i.dirtyId < 0 && u.texImage3D(u.TEXTURE_2D_ARRAY, 0, n.format, this._width, this._height, a, 0, n.format, n.type, null);
      for (var c = 0; c < a; c++) {
        var f = l[c];
        s[c] < f.dirtyId && (s[c] = f.dirtyId, f.valid && u.texSubImage3D(
          u.TEXTURE_2D_ARRAY,
          0,
          0,
          // xoffset
          0,
          // yoffset
          c,
          // zoffset
          f.resource.width,
          f.resource.height,
          1,
          n.format,
          n.type,
          f.resource.source
        ));
      }
      return true;
    }, t;
  }(gD)
);
var xs = (
  /** @class */
  function(e13) {
    Ft(t, e13);
    function t(r) {
      var n = this, i = r, o = i.naturalWidth || i.videoWidth || i.width, a = i.naturalHeight || i.videoHeight || i.height;
      return n = e13.call(this, o, a) || this, n.source = r, n.noSubImage = false, n;
    }
    return t.crossOrigin = function(r, n, i) {
      i === void 0 && n.indexOf("data:") !== 0 ? r.crossOrigin = Q4(n) : i !== false && (r.crossOrigin = typeof i == "string" ? i : "anonymous");
    }, t.prototype.upload = function(r, n, i, o) {
      var a = r.gl, s = n.realWidth, l = n.realHeight;
      return o = o || this.source, a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL, n.alphaMode === Cs.UNPACK), !this.noSubImage && n.target === a.TEXTURE_2D && i.width === s && i.height === l ? a.texSubImage2D(a.TEXTURE_2D, 0, 0, 0, n.format, n.type, o) : (i.width = s, i.height = l, a.texImage2D(n.target, 0, n.format, n.format, n.type, o)), true;
    }, t.prototype.update = function() {
      if (!this.destroyed) {
        var r = this.source, n = r.naturalWidth || r.videoWidth || r.width, i = r.naturalHeight || r.videoHeight || r.height;
        this.resize(n, i), e13.prototype.update.call(this);
      }
    }, t.prototype.dispose = function() {
      this.source = null;
    }, t;
  }(qf)
);
var vD = (
  /** @class */
  function(e13) {
    Ft(t, e13);
    function t() {
      return e13 !== null && e13.apply(this, arguments) || this;
    }
    return t.test = function(r) {
      var n = window.OffscreenCanvas;
      return n && r instanceof n ? true : r instanceof HTMLCanvasElement;
    }, t;
  }(xs)
);
var fG = (
  /** @class */
  function(e13) {
    Ft(t, e13);
    function t(r, n) {
      var i = this, o = n || {}, a = o.width, s = o.height, l = o.autoLoad, u = o.linkBaseTexture;
      if (r && r.length !== t.SIDES)
        throw new Error("Invalid length. Got " + r.length + ", expected 6");
      i = e13.call(this, 6, { width: a, height: s }) || this;
      for (var c = 0; c < t.SIDES; c++)
        i.items[c].target = Ll.TEXTURE_CUBE_MAP_POSITIVE_X + c;
      return i.linkBaseTexture = u !== false, r && i.initFromArray(r, n), l !== false && i.load(), i;
    }
    return t.prototype.bind = function(r) {
      e13.prototype.bind.call(this, r), r.target = Ll.TEXTURE_CUBE_MAP;
    }, t.prototype.addBaseTextureAt = function(r, n, i) {
      if (i === void 0 && (i = this.linkBaseTexture), !this.items[n])
        throw new Error("Index " + n + " is out of bounds");
      if (!this.linkBaseTexture || r.parentTextureArray || Object.keys(r._glTextures).length > 0)
        if (r.resource)
          this.addResourceAt(r.resource, n);
        else
          throw new Error("CubeResource does not support copying of renderTexture.");
      else
        r.target = Ll.TEXTURE_CUBE_MAP_POSITIVE_X + n, r.parentTextureArray = this.baseTexture, this.items[n] = r;
      return r.valid && !this.valid && this.resize(r.realWidth, r.realHeight), this.items[n] = r, this;
    }, t.prototype.upload = function(r, n, i) {
      for (var o = this.itemDirtyIds, a = 0; a < t.SIDES; a++) {
        var s = this.items[a];
        o[a] < s.dirtyId && (s.valid && s.resource ? (s.resource.upload(r, s, i), o[a] = s.dirtyId) : o[a] < -1 && (r.gl.texImage2D(s.target, 0, i.internalFormat, n.realWidth, n.realHeight, 0, n.format, i.type, null), o[a] = -1));
      }
      return true;
    }, t.test = function(r) {
      return Array.isArray(r) && r.length === t.SIDES;
    }, t.SIDES = 6, t;
  }(gD)
);
var yD = (
  /** @class */
  function(e13) {
    Ft(t, e13);
    function t(r, n) {
      var i = this;
      if (n = n || {}, !(r instanceof HTMLImageElement)) {
        var o = new Image();
        xs.crossOrigin(o, r, n.crossorigin), o.src = r, r = o;
      }
      return i = e13.call(this, r) || this, !r.complete && i._width && i._height && (i._width = 0, i._height = 0), i.url = r.src, i._process = null, i.preserveBitmap = false, i.createBitmap = (n.createBitmap !== void 0 ? n.createBitmap : ft.CREATE_IMAGE_BITMAP) && !!window.createImageBitmap, i.alphaMode = typeof n.alphaMode == "number" ? n.alphaMode : null, n.premultiplyAlpha !== void 0 && (i.premultiplyAlpha = n.premultiplyAlpha), i.bitmap = null, i._load = null, n.autoLoad !== false && i.load(), i;
    }
    return t.prototype.load = function(r) {
      var n = this;
      return this._load ? this._load : (r !== void 0 && (this.createBitmap = r), this._load = new Promise(function(i, o) {
        var a = n.source;
        n.url = a.src;
        var s = function() {
          n.destroyed || (a.onload = null, a.onerror = null, n.resize(a.width, a.height), n._load = null, n.createBitmap ? i(n.process()) : i(n));
        };
        a.complete && a.src ? s() : (a.onload = s, a.onerror = function(l) {
          o(l), n.onError.emit(l);
        });
      }), this._load);
    }, t.prototype.process = function() {
      var r = this, n = this.source;
      return this._process !== null ? this._process : this.bitmap !== null || !window.createImageBitmap ? Promise.resolve(this) : (this._process = window.createImageBitmap(n, 0, 0, n.width, n.height, {
        premultiplyAlpha: this.alphaMode === Cs.UNPACK ? "premultiply" : "none"
      }).then(function(i) {
        return r.destroyed ? Promise.reject() : (r.bitmap = i, r.update(), r._process = null, Promise.resolve(r));
      }), this._process);
    }, t.prototype.upload = function(r, n, i) {
      if (typeof this.alphaMode == "number" && (n.alphaMode = this.alphaMode), !this.createBitmap)
        return e13.prototype.upload.call(this, r, n, i);
      if (!this.bitmap && (this.process(), !this.bitmap))
        return false;
      if (e13.prototype.upload.call(this, r, n, i, this.bitmap), !this.preserveBitmap) {
        var o = true, a = n._glTextures;
        for (var s in a) {
          var l = a[s];
          if (l !== i && l.dirtyId !== n.dirtyId) {
            o = false;
            break;
          }
        }
        o && (this.bitmap.close && this.bitmap.close(), this.bitmap = null);
      }
      return true;
    }, t.prototype.dispose = function() {
      this.source.onload = null, this.source.onerror = null, e13.prototype.dispose.call(this), this.bitmap && (this.bitmap.close(), this.bitmap = null), this._process = null, this._load = null;
    }, t.test = function(r) {
      return typeof r == "string" || r instanceof HTMLImageElement;
    }, t;
  }(xs)
);
var dG = (
  /** @class */
  function(e13) {
    Ft(t, e13);
    function t(r, n) {
      var i = this;
      return n = n || {}, i = e13.call(this, document.createElement("canvas")) || this, i._width = 0, i._height = 0, i.svg = r, i.scale = n.scale || 1, i._overrideWidth = n.width, i._overrideHeight = n.height, i._resolve = null, i._crossorigin = n.crossorigin, i._load = null, n.autoLoad !== false && i.load(), i;
    }
    return t.prototype.load = function() {
      var r = this;
      return this._load ? this._load : (this._load = new Promise(function(n) {
        if (r._resolve = function() {
          r.resize(r.source.width, r.source.height), n(r);
        }, /^\<svg/.test(r.svg.trim())) {
          if (!btoa)
            throw new Error("Your browser doesn't support base64 conversions.");
          r.svg = "data:image/svg+xml;base64," + btoa(unescape(encodeURIComponent(r.svg)));
        }
        r._loadSvg();
      }), this._load);
    }, t.prototype._loadSvg = function() {
      var r = this, n = new Image();
      xs.crossOrigin(n, this.svg, this._crossorigin), n.src = this.svg, n.onerror = function(i) {
        r._resolve && (n.onerror = null, r.onError.emit(i));
      }, n.onload = function() {
        if (r._resolve) {
          var i = n.width, o = n.height;
          if (!i || !o)
            throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");
          var a = i * r.scale, s = o * r.scale;
          (r._overrideWidth || r._overrideHeight) && (a = r._overrideWidth || r._overrideHeight / o * i, s = r._overrideHeight || r._overrideWidth / i * o), a = Math.round(a), s = Math.round(s);
          var l = r.source;
          l.width = a, l.height = s, l._pixiId = "canvas_" + su(), l.getContext("2d").drawImage(n, 0, 0, i, o, 0, 0, a, s), r._resolve(), r._resolve = null;
        }
      };
    }, t.getSize = function(r) {
      var n = t.SVG_SIZE.exec(r), i = {};
      return n && (i[n[1]] = Math.round(parseFloat(n[3])), i[n[5]] = Math.round(parseFloat(n[7]))), i;
    }, t.prototype.dispose = function() {
      e13.prototype.dispose.call(this), this._resolve = null, this._crossorigin = null;
    }, t.test = function(r, n) {
      return n === "svg" || typeof r == "string" && /^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(r) || typeof r == "string" && r.indexOf("<svg") === 0;
    }, t.SVG_SIZE = /<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i, t;
  }(xs)
);
var pG = (
  /** @class */
  function(e13) {
    Ft(t, e13);
    function t(r, n) {
      var i = this;
      if (n = n || {}, !(r instanceof HTMLVideoElement)) {
        var o = document.createElement("video");
        o.setAttribute("preload", "auto"), o.setAttribute("webkit-playsinline", ""), o.setAttribute("playsinline", ""), typeof r == "string" && (r = [r]);
        var a = r[0].src || r[0];
        xs.crossOrigin(o, a, n.crossorigin);
        for (var s = 0; s < r.length; ++s) {
          var l = document.createElement("source"), u = r[s], c = u.src, f = u.mime;
          c = c || r[s];
          var h = c.split("?").shift().toLowerCase(), d = h.substr(h.lastIndexOf(".") + 1);
          f = f || t.MIME_TYPES[d] || "video/" + d, l.src = c, l.type = f, o.appendChild(l);
        }
        r = o;
      }
      return i = e13.call(this, r) || this, i.noSubImage = true, i._autoUpdate = true, i._isConnectedToTicker = false, i._updateFPS = n.updateFPS || 0, i._msToNextUpdate = 0, i.autoPlay = n.autoPlay !== false, i._load = null, i._resolve = null, i._onCanPlay = i._onCanPlay.bind(i), i._onError = i._onError.bind(i), n.autoLoad !== false && i.load(), i;
    }
    return t.prototype.update = function(r) {
      if (!this.destroyed) {
        var n = An.shared.elapsedMS * this.source.playbackRate;
        this._msToNextUpdate = Math.floor(this._msToNextUpdate - n), (!this._updateFPS || this._msToNextUpdate <= 0) && (e13.prototype.update.call(this), this._msToNextUpdate = this._updateFPS ? Math.floor(1e3 / this._updateFPS) : 0);
      }
    }, t.prototype.load = function() {
      var r = this;
      if (this._load)
        return this._load;
      var n = this.source;
      return (n.readyState === n.HAVE_ENOUGH_DATA || n.readyState === n.HAVE_FUTURE_DATA) && n.width && n.height && (n.complete = true), n.addEventListener("play", this._onPlayStart.bind(this)), n.addEventListener("pause", this._onPlayStop.bind(this)), this._isSourceReady() ? this._onCanPlay() : (n.addEventListener("canplay", this._onCanPlay), n.addEventListener("canplaythrough", this._onCanPlay), n.addEventListener("error", this._onError, true)), this._load = new Promise(function(i) {
        r.valid ? i(r) : (r._resolve = i, n.load());
      }), this._load;
    }, t.prototype._onError = function(r) {
      this.source.removeEventListener("error", this._onError, true), this.onError.emit(r);
    }, t.prototype._isSourcePlaying = function() {
      var r = this.source;
      return r.currentTime > 0 && r.paused === false && r.ended === false && r.readyState > 2;
    }, t.prototype._isSourceReady = function() {
      var r = this.source;
      return r.readyState === 3 || r.readyState === 4;
    }, t.prototype._onPlayStart = function() {
      this.valid || this._onCanPlay(), this.autoUpdate && !this._isConnectedToTicker && (An.shared.add(this.update, this), this._isConnectedToTicker = true);
    }, t.prototype._onPlayStop = function() {
      this._isConnectedToTicker && (An.shared.remove(this.update, this), this._isConnectedToTicker = false);
    }, t.prototype._onCanPlay = function() {
      var r = this.source;
      r.removeEventListener("canplay", this._onCanPlay), r.removeEventListener("canplaythrough", this._onCanPlay);
      var n = this.valid;
      this.resize(r.videoWidth, r.videoHeight), !n && this._resolve && (this._resolve(this), this._resolve = null), this._isSourcePlaying() ? this._onPlayStart() : this.autoPlay && r.play();
    }, t.prototype.dispose = function() {
      this._isConnectedToTicker && An.shared.remove(this.update, this);
      var r = this.source;
      r && (r.removeEventListener("error", this._onError, true), r.pause(), r.src = "", r.load()), e13.prototype.dispose.call(this);
    }, Object.defineProperty(t.prototype, "autoUpdate", {
      /**
       * Should the base texture automatically update itself, set to true by default
       *
       * @member {boolean}
       */
      get: function() {
        return this._autoUpdate;
      },
      set: function(r) {
        r !== this._autoUpdate && (this._autoUpdate = r, !this._autoUpdate && this._isConnectedToTicker ? (An.shared.remove(this.update, this), this._isConnectedToTicker = false) : this._autoUpdate && !this._isConnectedToTicker && this._isSourcePlaying() && (An.shared.add(this.update, this), this._isConnectedToTicker = true));
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(t.prototype, "updateFPS", {
      /**
       * How many times a second to update the texture from the video. Leave at 0 to update at every render.
       * A lower fps can help performance, as updating the texture at 60fps on a 30ps video may not be efficient.
       *
       * @member {number}
       */
      get: function() {
        return this._updateFPS;
      },
      set: function(r) {
        r !== this._updateFPS && (this._updateFPS = r);
      },
      enumerable: false,
      configurable: true
    }), t.test = function(r, n) {
      return r instanceof HTMLVideoElement || t.TYPES.indexOf(n) > -1;
    }, t.TYPES = ["mp4", "m4v", "webm", "ogg", "ogv", "h264", "avi", "mov"], t.MIME_TYPES = {
      ogv: "video/ogg",
      mov: "video/quicktime",
      m4v: "video/mp4"
    }, t;
  }(xs)
);
var mG = (
  /** @class */
  function(e13) {
    Ft(t, e13);
    function t() {
      return e13 !== null && e13.apply(this, arguments) || this;
    }
    return t.test = function(r) {
      return !!window.createImageBitmap && r instanceof ImageBitmap;
    }, t;
  }(xs)
);
Yb.push(yD, mG, vD, pG, dG, kE, fG, hG);
var oee = {
  Resource: qf,
  BaseImageResource: xs,
  INSTALLED: Yb,
  autoDetectResource: mD,
  AbstractMultiResource: gD,
  ArrayResource: hG,
  BufferResource: kE,
  CanvasResource: vD,
  CubeResource: fG,
  ImageResource: yD,
  SVGResource: dG,
  VideoResource: pG,
  ImageBitmapResource: mG
};
var Fi = (
  /** @class */
  function() {
    function e13(t) {
      this.renderer = t;
    }
    return e13.prototype.destroy = function() {
      this.renderer = null;
    }, e13;
  }()
);
var aee = (
  /** @class */
  function(e13) {
    Ft(t, e13);
    function t() {
      return e13 !== null && e13.apply(this, arguments) || this;
    }
    return t.prototype.upload = function(r, n, i) {
      var o = r.gl;
      return o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL, n.alphaMode === Cs.UNPACK), i.width === n.width && i.height === n.height ? o.texSubImage2D(n.target, 0, 0, 0, n.width, n.height, n.format, n.type, this.data) : (i.width = n.width, i.height = n.height, o.texImage2D(
        n.target,
        0,
        //  gl.DEPTH_COMPONENT16 Needed for depth to render properly in webgl2.0
        r.context.webGLVersion === 1 ? o.DEPTH_COMPONENT : o.DEPTH_COMPONENT16,
        n.width,
        n.height,
        0,
        n.format,
        n.type,
        this.data
      )), true;
    }, t;
  }(kE)
);
var qb = (
  /** @class */
  function() {
    function e13(t, r) {
      this.width = Math.ceil(t || 100), this.height = Math.ceil(r || 100), this.stencil = false, this.depth = false, this.dirtyId = 0, this.dirtyFormat = 0, this.dirtySize = 0, this.depthTexture = null, this.colorTextures = [], this.glFramebuffers = {}, this.disposeRunner = new Ln("disposeFramebuffer"), this.multisample = ou.NONE;
    }
    return Object.defineProperty(e13.prototype, "colorTexture", {
      /**
       * Reference to the colorTexture.
       *
       * @member {PIXI.BaseTexture[]}
       * @readonly
       */
      get: function() {
        return this.colorTextures[0];
      },
      enumerable: false,
      configurable: true
    }), e13.prototype.addColorTexture = function(t, r) {
      return t === void 0 && (t = 0), this.colorTextures[t] = r || new Nr(null, {
        scaleMode: Ca.NEAREST,
        resolution: 1,
        mipmap: Wf.OFF,
        width: this.width,
        height: this.height
      }), this.dirtyId++, this.dirtyFormat++, this;
    }, e13.prototype.addDepthTexture = function(t) {
      return this.depthTexture = t || new Nr(new aee(null, { width: this.width, height: this.height }), {
        scaleMode: Ca.NEAREST,
        resolution: 1,
        width: this.width,
        height: this.height,
        mipmap: Wf.OFF,
        format: Xf.DEPTH_COMPONENT,
        type: on.UNSIGNED_SHORT
      }), this.dirtyId++, this.dirtyFormat++, this;
    }, e13.prototype.enableDepth = function() {
      return this.depth = true, this.dirtyId++, this.dirtyFormat++, this;
    }, e13.prototype.enableStencil = function() {
      return this.stencil = true, this.dirtyId++, this.dirtyFormat++, this;
    }, e13.prototype.resize = function(t, r) {
      if (t = Math.ceil(t), r = Math.ceil(r), !(t === this.width && r === this.height)) {
        this.width = t, this.height = r, this.dirtyId++, this.dirtySize++;
        for (var n = 0; n < this.colorTextures.length; n++) {
          var i = this.colorTextures[n], o = i.resolution;
          i.setSize(t / o, r / o);
        }
        if (this.depthTexture) {
          var o = this.depthTexture.resolution;
          this.depthTexture.setSize(t / o, r / o);
        }
      }
    }, e13.prototype.dispose = function() {
      this.disposeRunner.emit(this, false);
    }, e13.prototype.destroyDepthTexture = function() {
      this.depthTexture && (this.depthTexture.destroy(), this.depthTexture = null, ++this.dirtyId, ++this.dirtyFormat);
    }, e13;
  }()
);
var Vm = (
  /** @class */
  function(e13) {
    Ft(t, e13);
    function t(r) {
      var n = this;
      if (typeof r == "number") {
        var i = arguments[0], o = arguments[1], a = arguments[2], s = arguments[3];
        r = { width: i, height: o, scaleMode: a, resolution: s };
      }
      n = e13.call(this, null, r) || this;
      var l = r || {}, u = l.width, c = l.height;
      return n.mipmap = 0, n.width = Math.ceil(u) || 100, n.height = Math.ceil(c) || 100, n.valid = true, n.clearColor = [0, 0, 0, 0], n.framebuffer = new qb(n.width * n.resolution, n.height * n.resolution).addColorTexture(0, n), n.maskStack = [], n.filterStack = [{}], n;
    }
    return t.prototype.resize = function(r, n) {
      r = Math.ceil(r), n = Math.ceil(n), this.framebuffer.resize(r * this.resolution, n * this.resolution);
    }, t.prototype.dispose = function() {
      this.framebuffer.dispose(), e13.prototype.dispose.call(this);
    }, t.prototype.destroy = function() {
      e13.prototype.destroy.call(this), this.framebuffer.destroyDepthTexture(), this.framebuffer = null;
    }, t;
  }(Nr)
);
var _D = (
  /** @class */
  function() {
    function e13() {
      this.x0 = 0, this.y0 = 0, this.x1 = 1, this.y1 = 0, this.x2 = 1, this.y2 = 1, this.x3 = 0, this.y3 = 1, this.uvsFloat32 = new Float32Array(8);
    }
    return e13.prototype.set = function(t, r, n) {
      var i = r.width, o = r.height;
      if (n) {
        var a = t.width / 2 / i, s = t.height / 2 / o, l = t.x / i + a, u = t.y / o + s;
        n = Lr.add(n, Lr.NW), this.x0 = l + a * Lr.uX(n), this.y0 = u + s * Lr.uY(n), n = Lr.add(n, 2), this.x1 = l + a * Lr.uX(n), this.y1 = u + s * Lr.uY(n), n = Lr.add(n, 2), this.x2 = l + a * Lr.uX(n), this.y2 = u + s * Lr.uY(n), n = Lr.add(n, 2), this.x3 = l + a * Lr.uX(n), this.y3 = u + s * Lr.uY(n);
      } else
        this.x0 = t.x / i, this.y0 = t.y / o, this.x1 = (t.x + t.width) / i, this.y1 = t.y / o, this.x2 = (t.x + t.width) / i, this.y2 = (t.y + t.height) / o, this.x3 = t.x / i, this.y3 = (t.y + t.height) / o;
      this.uvsFloat32[0] = this.x0, this.uvsFloat32[1] = this.y0, this.uvsFloat32[2] = this.x1, this.uvsFloat32[3] = this.y1, this.uvsFloat32[4] = this.x2, this.uvsFloat32[5] = this.y2, this.uvsFloat32[6] = this.x3, this.uvsFloat32[7] = this.y3;
    }, e13;
  }()
);
var _5 = new _D();
var Pt = (
  /** @class */
  function(e13) {
    Ft(t, e13);
    function t(r, n, i, o, a, s) {
      var l = e13.call(this) || this;
      if (l.noFrame = false, n || (l.noFrame = true, n = new fr(0, 0, 1, 1)), r instanceof t && (r = r.baseTexture), l.baseTexture = r, l._frame = n, l.trim = o, l.valid = false, l._uvs = _5, l.uvMatrix = null, l.orig = i || n, l._rotate = Number(a || 0), a === true)
        l._rotate = 2;
      else if (l._rotate % 2 !== 0)
        throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");
      return l.defaultAnchor = s ? new On(s.x, s.y) : new On(0, 0), l._updateID = 0, l.textureCacheIds = [], r.valid ? l.noFrame ? r.valid && l.onBaseTextureUpdated(r) : l.frame = n : r.once("loaded", l.onBaseTextureUpdated, l), l.noFrame && r.on("update", l.onBaseTextureUpdated, l), l;
    }
    return t.prototype.update = function() {
      this.baseTexture.resource && this.baseTexture.resource.update();
    }, t.prototype.onBaseTextureUpdated = function(r) {
      if (this.noFrame) {
        if (!this.baseTexture.valid)
          return;
        this._frame.width = r.width, this._frame.height = r.height, this.valid = true, this.updateUvs();
      } else
        this.frame = this._frame;
      this.emit("update", this);
    }, t.prototype.destroy = function(r) {
      if (this.baseTexture) {
        if (r) {
          var n = this.baseTexture;
          n && n.url && Di[n.url] && t.removeFromCache(n.url), this.baseTexture.destroy();
        }
        this.baseTexture.off("loaded", this.onBaseTextureUpdated, this), this.baseTexture.off("update", this.onBaseTextureUpdated, this), this.baseTexture = null;
      }
      this._frame = null, this._uvs = null, this.trim = null, this.orig = null, this.valid = false, t.removeFromCache(this), this.textureCacheIds = null;
    }, t.prototype.clone = function() {
      return new t(this.baseTexture, this.frame.clone(), this.orig.clone(), this.trim && this.trim.clone(), this.rotate, this.defaultAnchor);
    }, t.prototype.updateUvs = function() {
      this._uvs === _5 && (this._uvs = new _D()), this._uvs.set(this._frame, this.baseTexture, this.rotate), this._updateID++;
    }, t.from = function(r, n, i) {
      n === void 0 && (n = {}), i === void 0 && (i = ft.STRICT_TEXTURE_CACHE);
      var o = typeof r == "string", a = null;
      o ? a = r : (r._pixiId || (r._pixiId = "pixiid_" + su()), a = r._pixiId);
      var s = Di[a];
      if (o && i && !s)
        throw new Error('The cacheId "' + a + '" does not exist in TextureCache.');
      return s || (n.resolution || (n.resolution = Hg(r)), s = new t(new Nr(r, n)), s.baseTexture.cacheId = a, Nr.addToCache(s.baseTexture, a), t.addToCache(s, a)), s;
    }, t.fromURL = function(r, n) {
      var i = Object.assign({ autoLoad: false }, n == null ? void 0 : n.resourceOptions), o = t.from(r, Object.assign({ resourceOptions: i }, n), false), a = o.baseTexture.resource;
      return o.baseTexture.valid ? Promise.resolve(o) : a.load().then(function() {
        return Promise.resolve(o);
      });
    }, t.fromBuffer = function(r, n, i, o) {
      return new t(Nr.fromBuffer(r, n, i, o));
    }, t.fromLoader = function(r, n, i) {
      var o = new yD(r);
      o.url = n;
      var a = new Nr(o, {
        scaleMode: ft.SCALE_MODE,
        resolution: Hg(n)
      }), s = new t(a);
      return i || (i = n), Nr.addToCache(s.baseTexture, i), t.addToCache(s, i), i !== n && (Nr.addToCache(s.baseTexture, n), t.addToCache(s, n)), s;
    }, t.addToCache = function(r, n) {
      n && (r.textureCacheIds.indexOf(n) === -1 && r.textureCacheIds.push(n), Di[n] && console.warn("Texture added to the cache with an id [" + n + "] that already had an entry"), Di[n] = r);
    }, t.removeFromCache = function(r) {
      if (typeof r == "string") {
        var n = Di[r];
        if (n) {
          var i = n.textureCacheIds.indexOf(r);
          return i > -1 && n.textureCacheIds.splice(i, 1), delete Di[r], n;
        }
      } else if (r && r.textureCacheIds) {
        for (var o = 0; o < r.textureCacheIds.length; ++o)
          Di[r.textureCacheIds[o]] === r && delete Di[r.textureCacheIds[o]];
        return r.textureCacheIds.length = 0, r;
      }
      return null;
    }, Object.defineProperty(t.prototype, "resolution", {
      /**
       * Returns resolution of baseTexture
       *
       * @member {number}
       * @readonly
       */
      get: function() {
        return this.baseTexture.resolution;
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(t.prototype, "frame", {
      /**
       * The frame specifies the region of the base texture that this texture uses.
       * Please call `updateUvs()` after you change coordinates of `frame` manually.
       *
       * @member {PIXI.Rectangle}
       */
      get: function() {
        return this._frame;
      },
      set: function(r) {
        this._frame = r, this.noFrame = false;
        var n = r.x, i = r.y, o = r.width, a = r.height, s = n + o > this.baseTexture.width, l = i + a > this.baseTexture.height;
        if (s || l) {
          var u = s && l ? "and" : "or", c = "X: " + n + " + " + o + " = " + (n + o) + " > " + this.baseTexture.width, f = "Y: " + i + " + " + a + " = " + (i + a) + " > " + this.baseTexture.height;
          throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: " + (c + " " + u + " " + f));
        }
        this.valid = o && a && this.baseTexture.valid, !this.trim && !this.rotate && (this.orig = r), this.valid && this.updateUvs();
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(t.prototype, "rotate", {
      /**
       * Indicates whether the texture is rotated inside the atlas
       * set to 2 to compensate for texture packer rotation
       * set to 6 to compensate for spine packer rotation
       * can be used to rotate or mirror sprites
       * See {@link PIXI.groupD8} for explanation
       *
       * @member {number}
       */
      get: function() {
        return this._rotate;
      },
      set: function(r) {
        this._rotate = r, this.valid && this.updateUvs();
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(t.prototype, "width", {
      /**
       * The width of the Texture in pixels.
       *
       * @member {number}
       */
      get: function() {
        return this.orig.width;
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(t.prototype, "height", {
      /**
       * The height of the Texture in pixels.
       *
       * @member {number}
       */
      get: function() {
        return this.orig.height;
      },
      enumerable: false,
      configurable: true
    }), t.prototype.castToBaseTexture = function() {
      return this.baseTexture;
    }, t;
  }(Vd)
);
function see() {
  var e13 = document.createElement("canvas");
  e13.width = 16, e13.height = 16;
  var t = e13.getContext("2d");
  return t.fillStyle = "white", t.fillRect(0, 0, 16, 16), new Pt(new Nr(new vD(e13)));
}
function DE(e13) {
  e13.destroy = function() {
  }, e13.on = function() {
  }, e13.once = function() {
  }, e13.emit = function() {
  };
}
Pt.EMPTY = new Pt(new Nr());
DE(Pt.EMPTY);
DE(Pt.EMPTY.baseTexture);
Pt.WHITE = see();
DE(Pt.WHITE);
DE(Pt.WHITE.baseTexture);
var lu = (
  /** @class */
  function(e13) {
    Ft(t, e13);
    function t(r, n) {
      var i = this, o = null;
      if (!(r instanceof Vm)) {
        var a = arguments[1], s = arguments[2], l = arguments[3], u = arguments[4];
        console.warn("Please use RenderTexture.create(" + a + ", " + s + ") instead of the ctor directly."), o = arguments[0], n = null, r = new Vm({
          width: a,
          height: s,
          scaleMode: l,
          resolution: u
        });
      }
      return i = e13.call(this, r, n) || this, i.legacyRenderer = o, i.valid = true, i.filterFrame = null, i.filterPoolKey = null, i.updateUvs(), i;
    }
    return Object.defineProperty(t.prototype, "framebuffer", {
      /**
       * Shortcut to `this.baseTexture.framebuffer`, saves baseTexture cast.
       * @member {PIXI.Framebuffer}
       * @readonly
       */
      get: function() {
        return this.baseTexture.framebuffer;
      },
      enumerable: false,
      configurable: true
    }), t.prototype.resize = function(r, n, i) {
      i === void 0 && (i = true), r = Math.ceil(r), n = Math.ceil(n), this.valid = r > 0 && n > 0, this._frame.width = this.orig.width = r, this._frame.height = this.orig.height = n, i && this.baseTexture.resize(r, n), this.updateUvs();
    }, t.prototype.setResolution = function(r) {
      var n = this.baseTexture;
      n.resolution !== r && (n.setResolution(r), this.resize(n.width, n.height, false));
    }, t.create = function(r) {
      return typeof r == "number" && (r = {
        width: r,
        height: arguments[1],
        scaleMode: arguments[2],
        resolution: arguments[3]
      }), new t(new Vm(r));
    }, t;
  }(Pt)
);
var gG = (
  /** @class */
  function() {
    function e13(t) {
      this.texturePool = {}, this.textureOptions = t || {}, this.enableFullScreen = false, this._pixelsWidth = 0, this._pixelsHeight = 0;
    }
    return e13.prototype.createTexture = function(t, r) {
      var n = new Vm(Object.assign({
        width: t,
        height: r,
        resolution: 1
      }, this.textureOptions));
      return new lu(n);
    }, e13.prototype.getOptimalTexture = function(t, r, n) {
      n === void 0 && (n = 1);
      var i = e13.SCREEN_KEY;
      t *= n, r *= n, (!this.enableFullScreen || t !== this._pixelsWidth || r !== this._pixelsHeight) && (t = $g(t), r = $g(r), i = (t & 65535) << 16 | r & 65535), this.texturePool[i] || (this.texturePool[i] = []);
      var o = this.texturePool[i].pop();
      return o || (o = this.createTexture(t, r)), o.filterPoolKey = i, o.setResolution(n), o;
    }, e13.prototype.getFilterTexture = function(t, r) {
      var n = this.getOptimalTexture(t.width, t.height, r || t.resolution);
      return n.filterFrame = t.filterFrame, n;
    }, e13.prototype.returnTexture = function(t) {
      var r = t.filterPoolKey;
      t.filterFrame = null, this.texturePool[r].push(t);
    }, e13.prototype.returnFilterTexture = function(t) {
      this.returnTexture(t);
    }, e13.prototype.clear = function(t) {
      if (t = t !== false, t)
        for (var r in this.texturePool) {
          var n = this.texturePool[r];
          if (n)
            for (var i = 0; i < n.length; i++)
              n[i].destroy(true);
        }
      this.texturePool = {};
    }, e13.prototype.setScreenSize = function(t) {
      if (!(t.width === this._pixelsWidth && t.height === this._pixelsHeight)) {
        var r = e13.SCREEN_KEY, n = this.texturePool[r];
        if (this.enableFullScreen = t.width > 0 && t.height > 0, n)
          for (var i = 0; i < n.length; i++)
            n[i].destroy(true);
        this.texturePool[r] = [], this._pixelsWidth = t.width, this._pixelsHeight = t.height;
      }
    }, e13.SCREEN_KEY = "screen", e13;
  }()
);
var pI = (
  /** @class */
  function() {
    function e13(t, r, n, i, o, a, s) {
      r === void 0 && (r = 0), n === void 0 && (n = false), i === void 0 && (i = 5126), this.buffer = t, this.size = r, this.normalized = n, this.type = i, this.stride = o, this.start = a, this.instance = s;
    }
    return e13.prototype.destroy = function() {
      this.buffer = null;
    }, e13.from = function(t, r, n, i, o) {
      return new e13(t, r, n, i, o);
    }, e13;
  }()
);
var lee = 0;
var wn = (
  /** @class */
  function() {
    function e13(t, r, n) {
      r === void 0 && (r = true), n === void 0 && (n = false), this.data = t || new Float32Array(1), this._glBuffers = {}, this._updateID = 0, this.index = n, this.static = r, this.id = lee++, this.disposeRunner = new Ln("disposeBuffer");
    }
    return e13.prototype.update = function(t) {
      this.data = t || this.data, this._updateID++;
    }, e13.prototype.dispose = function() {
      this.disposeRunner.emit(this, false);
    }, e13.prototype.destroy = function() {
      this.dispose(), this.data = null;
    }, e13.from = function(t) {
      return t instanceof Array && (t = new Float32Array(t)), new e13(t);
    }, e13;
  }()
);
function vG(e13) {
  if (e13.BYTES_PER_ELEMENT === 4)
    return e13 instanceof Float32Array ? "Float32Array" : e13 instanceof Uint32Array ? "Uint32Array" : "Int32Array";
  if (e13.BYTES_PER_ELEMENT === 2) {
    if (e13 instanceof Uint16Array)
      return "Uint16Array";
  } else if (e13.BYTES_PER_ELEMENT === 1 && e13 instanceof Uint8Array)
    return "Uint8Array";
  return null;
}
var cee = {
  Float32Array,
  Uint32Array,
  Int32Array,
  Uint8Array
};
function uee(e13, t) {
  for (var r = 0, n = 0, i = {}, o = 0; o < e13.length; o++)
    n += t[o], r += e13[o].length;
  for (var a = new ArrayBuffer(r * 4), s = null, l = 0, o = 0; o < e13.length; o++) {
    var u = t[o], c = e13[o], f = vG(c);
    i[f] || (i[f] = new cee[f](a)), s = i[f];
    for (var h = 0; h < c.length; h++) {
      var d = (h / u | 0) * n + l, p = h % u;
      s[d + p] = c[h];
    }
    l += u;
  }
  return new Float32Array(a);
}
var b5 = { 5126: 4, 5123: 2, 5121: 1 };
var hee = 0;
var fee = {
  Float32Array,
  Uint32Array,
  Int32Array,
  Uint8Array,
  Uint16Array
};
var Xd = (
  /** @class */
  function() {
    function e13(t, r) {
      t === void 0 && (t = []), r === void 0 && (r = {}), this.buffers = t, this.indexBuffer = null, this.attributes = r, this.glVertexArrayObjects = {}, this.id = hee++, this.instanced = false, this.instanceCount = 1, this.disposeRunner = new Ln("disposeGeometry"), this.refCount = 0;
    }
    return e13.prototype.addAttribute = function(t, r, n, i, o, a, s, l) {
      if (n === void 0 && (n = 0), i === void 0 && (i = false), l === void 0 && (l = false), !r)
        throw new Error("You must pass a buffer when creating an attribute");
      r instanceof wn || (r instanceof Array && (r = new Float32Array(r)), r = new wn(r));
      var u = t.split("|");
      if (u.length > 1) {
        for (var c = 0; c < u.length; c++)
          this.addAttribute(u[c], r, n, i, o);
        return this;
      }
      var f = this.buffers.indexOf(r);
      return f === -1 && (this.buffers.push(r), f = this.buffers.length - 1), this.attributes[t] = new pI(f, n, i, o, a, s, l), this.instanced = this.instanced || l, this;
    }, e13.prototype.getAttribute = function(t) {
      return this.attributes[t];
    }, e13.prototype.getBuffer = function(t) {
      return this.buffers[this.getAttribute(t).buffer];
    }, e13.prototype.addIndex = function(t) {
      return t instanceof wn || (t instanceof Array && (t = new Uint16Array(t)), t = new wn(t)), t.index = true, this.indexBuffer = t, this.buffers.indexOf(t) === -1 && this.buffers.push(t), this;
    }, e13.prototype.getIndex = function() {
      return this.indexBuffer;
    }, e13.prototype.interleave = function() {
      if (this.buffers.length === 1 || this.buffers.length === 2 && this.indexBuffer)
        return this;
      var t = [], r = [], n = new wn(), i;
      for (i in this.attributes) {
        var o = this.attributes[i], a = this.buffers[o.buffer];
        t.push(a.data), r.push(o.size * b5[o.type] / 4), o.buffer = 0;
      }
      for (n.data = uee(t, r), i = 0; i < this.buffers.length; i++)
        this.buffers[i] !== this.indexBuffer && this.buffers[i].destroy();
      return this.buffers = [n], this.indexBuffer && this.buffers.push(this.indexBuffer), this;
    }, e13.prototype.getSize = function() {
      for (var t in this.attributes) {
        var r = this.attributes[t], n = this.buffers[r.buffer];
        return n.data.length / (r.stride / 4 || r.size);
      }
      return 0;
    }, e13.prototype.dispose = function() {
      this.disposeRunner.emit(this, false);
    }, e13.prototype.destroy = function() {
      this.dispose(), this.buffers = null, this.indexBuffer = null, this.attributes = null;
    }, e13.prototype.clone = function() {
      for (var t = new e13(), r = 0; r < this.buffers.length; r++)
        t.buffers[r] = new wn(this.buffers[r].data.slice(0));
      for (var r in this.attributes) {
        var n = this.attributes[r];
        t.attributes[r] = new pI(n.buffer, n.size, n.normalized, n.type, n.stride, n.start, n.instance);
      }
      return this.indexBuffer && (t.indexBuffer = t.buffers[this.buffers.indexOf(this.indexBuffer)], t.indexBuffer.index = true), t;
    }, e13.merge = function(t) {
      for (var r = new e13(), n = [], i = [], o = [], a, s = 0; s < t.length; s++) {
        a = t[s];
        for (var l = 0; l < a.buffers.length; l++)
          i[l] = i[l] || 0, i[l] += a.buffers[l].data.length, o[l] = 0;
      }
      for (var s = 0; s < a.buffers.length; s++)
        n[s] = new fee[vG(a.buffers[s].data)](i[s]), r.buffers[s] = new wn(n[s]);
      for (var s = 0; s < t.length; s++) {
        a = t[s];
        for (var l = 0; l < a.buffers.length; l++)
          n[l].set(a.buffers[l].data, o[l]), o[l] += a.buffers[l].data.length;
      }
      if (r.attributes = a.attributes, a.indexBuffer) {
        r.indexBuffer = r.buffers[a.buffers.indexOf(a.indexBuffer)], r.indexBuffer.index = true;
        for (var u = 0, c = 0, f = 0, h = 0, s = 0; s < a.buffers.length; s++)
          if (a.buffers[s] !== a.indexBuffer) {
            h = s;
            break;
          }
        for (var s in a.attributes) {
          var d = a.attributes[s];
          (d.buffer | 0) === h && (c += d.size * b5[d.type] / 4);
        }
        for (var s = 0; s < t.length; s++) {
          for (var p = t[s].indexBuffer.data, l = 0; l < p.length; l++)
            r.indexBuffer.data[l + f] += u;
          u += a.buffers[h].data.length / c, f += p.length;
        }
      }
      return r;
    }, e13;
  }()
);
var yG = (
  /** @class */
  function(e13) {
    Ft(t, e13);
    function t() {
      var r = e13.call(this) || this;
      return r.addAttribute("aVertexPosition", new Float32Array([
        0,
        0,
        1,
        0,
        1,
        1,
        0,
        1
      ])).addIndex([0, 1, 3, 2]), r;
    }
    return t;
  }(Xd)
);
var bD = (
  /** @class */
  function(e13) {
    Ft(t, e13);
    function t() {
      var r = e13.call(this) || this;
      return r.vertices = new Float32Array([
        -1,
        -1,
        1,
        -1,
        1,
        1,
        -1,
        1
      ]), r.uvs = new Float32Array([
        0,
        0,
        1,
        0,
        1,
        1,
        0,
        1
      ]), r.vertexBuffer = new wn(r.vertices), r.uvBuffer = new wn(r.uvs), r.addAttribute("aVertexPosition", r.vertexBuffer).addAttribute("aTextureCoord", r.uvBuffer).addIndex([0, 1, 2, 0, 2, 3]), r;
    }
    return t.prototype.map = function(r, n) {
      var i = 0, o = 0;
      return this.uvs[0] = i, this.uvs[1] = o, this.uvs[2] = i + n.width / r.width, this.uvs[3] = o, this.uvs[4] = i + n.width / r.width, this.uvs[5] = o + n.height / r.height, this.uvs[6] = i, this.uvs[7] = o + n.height / r.height, i = n.x, o = n.y, this.vertices[0] = i, this.vertices[1] = o, this.vertices[2] = i + n.width, this.vertices[3] = o, this.vertices[4] = i + n.width, this.vertices[5] = o + n.height, this.vertices[6] = i, this.vertices[7] = o + n.height, this.invalidate(), this;
    }, t.prototype.invalidate = function() {
      return this.vertexBuffer._updateID++, this.uvBuffer._updateID++, this;
    }, t;
  }(Xd)
);
var dee = 0;
var Bl = (
  /** @class */
  function() {
    function e13(t, r) {
      this.uniforms = t, this.group = true, this.syncUniforms = {}, this.dirtyId = 0, this.id = dee++, this.static = !!r;
    }
    return e13.prototype.update = function() {
      this.dirtyId++;
    }, e13.prototype.add = function(t, r, n) {
      this.uniforms[t] = new e13(r, n);
    }, e13.from = function(t, r) {
      return new e13(t, r);
    }, e13;
  }()
);
var _G = (
  /** @class */
  function() {
    function e13() {
      this.renderTexture = null, this.target = null, this.legacy = false, this.resolution = 1, this.sourceFrame = new fr(), this.destinationFrame = new fr(), this.filters = [];
    }
    return e13.prototype.clear = function() {
      this.target = null, this.filters = null, this.renderTexture = null;
    }, e13;
  }()
);
var bG = (
  /** @class */
  function(e13) {
    Ft(t, e13);
    function t(r) {
      var n = e13.call(this, r) || this;
      return n.defaultFilterStack = [{}], n.texturePool = new gG(), n.texturePool.setScreenSize(r.view), n.statePool = [], n.quad = new yG(), n.quadUv = new bD(), n.tempRect = new fr(), n.activeState = {}, n.globalUniforms = new Bl({
        outputFrame: n.tempRect,
        inputSize: new Float32Array(4),
        inputPixel: new Float32Array(4),
        inputClamp: new Float32Array(4),
        resolution: 1,
        // legacy variables
        filterArea: new Float32Array(4),
        filterClamp: new Float32Array(4)
      }, true), n.forceClear = false, n.useMaxPadding = false, n;
    }
    return t.prototype.push = function(r, n) {
      for (var i = this.renderer, o = this.defaultFilterStack, a = this.statePool.pop() || new _G(), s = n[0].resolution, l = n[0].padding, u = n[0].autoFit, c = n[0].legacy, f = 1; f < n.length; f++) {
        var h = n[f];
        s = Math.min(s, h.resolution), l = this.useMaxPadding ? Math.max(l, h.padding) : l + h.padding, u = u && h.autoFit, c = c || h.legacy;
      }
      o.length === 1 && (this.defaultFilterStack[0].renderTexture = i.renderTexture.current), o.push(a), a.resolution = s, a.legacy = c, a.target = r, a.sourceFrame.copyFrom(r.filterArea || r.getBounds(true)), a.sourceFrame.pad(l), u && a.sourceFrame.fit(this.renderer.renderTexture.sourceFrame), a.sourceFrame.ceil(s), a.renderTexture = this.getOptimalFilterTexture(a.sourceFrame.width, a.sourceFrame.height, s), a.filters = n, a.destinationFrame.width = a.renderTexture.width, a.destinationFrame.height = a.renderTexture.height;
      var d = this.tempRect;
      d.width = a.sourceFrame.width, d.height = a.sourceFrame.height, a.renderTexture.filterFrame = a.sourceFrame, i.renderTexture.bind(a.renderTexture, a.sourceFrame, d), i.renderTexture.clear();
    }, t.prototype.pop = function() {
      var r = this.defaultFilterStack, n = r.pop(), i = n.filters;
      this.activeState = n;
      var o = this.globalUniforms.uniforms;
      o.outputFrame = n.sourceFrame, o.resolution = n.resolution;
      var a = o.inputSize, s = o.inputPixel, l = o.inputClamp;
      if (a[0] = n.destinationFrame.width, a[1] = n.destinationFrame.height, a[2] = 1 / a[0], a[3] = 1 / a[1], s[0] = a[0] * n.resolution, s[1] = a[1] * n.resolution, s[2] = 1 / s[0], s[3] = 1 / s[1], l[0] = 0.5 * s[2], l[1] = 0.5 * s[3], l[2] = n.sourceFrame.width * a[2] - 0.5 * s[2], l[3] = n.sourceFrame.height * a[3] - 0.5 * s[3], n.legacy) {
        var u = o.filterArea;
        u[0] = n.destinationFrame.width, u[1] = n.destinationFrame.height, u[2] = n.sourceFrame.x, u[3] = n.sourceFrame.y, o.filterClamp = o.inputClamp;
      }
      this.globalUniforms.update();
      var c = r[r.length - 1];
      if (n.renderTexture.framebuffer.multisample > 1 && this.renderer.framebuffer.blit(), i.length === 1)
        i[0].apply(this, n.renderTexture, c.renderTexture, Bo.BLEND, n), this.returnFilterTexture(n.renderTexture);
      else {
        var f = n.renderTexture, h = this.getOptimalFilterTexture(f.width, f.height, n.resolution);
        h.filterFrame = f.filterFrame;
        var d = 0;
        for (d = 0; d < i.length - 1; ++d) {
          i[d].apply(this, f, h, Bo.CLEAR, n);
          var p = f;
          f = h, h = p;
        }
        i[d].apply(this, f, c.renderTexture, Bo.BLEND, n), this.returnFilterTexture(f), this.returnFilterTexture(h);
      }
      n.clear(), this.statePool.push(n);
    }, t.prototype.bindAndClear = function(r, n) {
      if (n === void 0 && (n = Bo.CLEAR), r && r.filterFrame) {
        var i = this.tempRect;
        i.width = r.filterFrame.width, i.height = r.filterFrame.height, this.renderer.renderTexture.bind(r, r.filterFrame, i);
      } else
        this.renderer.renderTexture.bind(r);
      typeof n == "boolean" && (n = n ? Bo.CLEAR : Bo.BLEND, ze("5.2.1", "Use CLEAR_MODES when using clear applyFilter option")), (n === Bo.CLEAR || n === Bo.BLIT && this.forceClear) && this.renderer.renderTexture.clear();
    }, t.prototype.applyFilter = function(r, n, i, o) {
      var a = this.renderer;
      this.bindAndClear(i, o), r.uniforms.uSampler = n, r.uniforms.filterGlobals = this.globalUniforms, a.state.set(r.state), a.shader.bind(r), r.legacy ? (this.quadUv.map(n._frame, n.filterFrame), a.geometry.bind(this.quadUv), a.geometry.draw(To.TRIANGLES)) : (a.geometry.bind(this.quad), a.geometry.draw(To.TRIANGLE_STRIP));
    }, t.prototype.calculateSpriteMatrix = function(r, n) {
      var i = this.activeState, o = i.sourceFrame, a = i.destinationFrame, s = n._texture.orig, l = r.set(a.width, 0, 0, a.height, o.x, o.y), u = n.worldTransform.copyTo(sn.TEMP_MATRIX);
      return u.invert(), l.prepend(u), l.scale(1 / s.width, 1 / s.height), l.translate(n.anchor.x, n.anchor.y), l;
    }, t.prototype.destroy = function() {
      this.texturePool.clear(false);
    }, t.prototype.getOptimalFilterTexture = function(r, n, i) {
      return i === void 0 && (i = 1), this.texturePool.getOptimalTexture(r, n, i);
    }, t.prototype.getFilterTexture = function(r, n) {
      if (typeof r == "number") {
        var i = r;
        r = n, n = i;
      }
      r = r || this.activeState.renderTexture;
      var o = this.texturePool.getOptimalTexture(r.width, r.height, n || r.resolution);
      return o.filterFrame = r.filterFrame, o;
    }, t.prototype.returnFilterTexture = function(r) {
      this.texturePool.returnTexture(r);
    }, t.prototype.emptyPool = function() {
      this.texturePool.clear(true);
    }, t.prototype.resize = function() {
      this.texturePool.setScreenSize(this.renderer.view);
    }, t;
  }(Fi)
);
var wv = (
  /** @class */
  function() {
    function e13(t) {
      this.renderer = t;
    }
    return e13.prototype.flush = function() {
    }, e13.prototype.destroy = function() {
      this.renderer = null;
    }, e13.prototype.start = function() {
    }, e13.prototype.stop = function() {
      this.flush();
    }, e13.prototype.render = function(t) {
    }, e13;
  }()
);
var TG = (
  /** @class */
  function(e13) {
    Ft(t, e13);
    function t(r) {
      var n = e13.call(this, r) || this;
      return n.emptyRenderer = new wv(r), n.currentRenderer = n.emptyRenderer, n;
    }
    return t.prototype.setObjectRenderer = function(r) {
      this.currentRenderer !== r && (this.currentRenderer.stop(), this.currentRenderer = r, this.currentRenderer.start());
    }, t.prototype.flush = function() {
      this.setObjectRenderer(this.emptyRenderer);
    }, t.prototype.reset = function() {
      this.setObjectRenderer(this.emptyRenderer);
    }, t.prototype.copyBoundTextures = function(r, n) {
      for (var i = this.renderer.texture.boundTextures, o = n - 1; o >= 0; --o)
        r[o] = i[o] || null, r[o] && (r[o]._batchLocation = o);
    }, t.prototype.boundArray = function(r, n, i, o) {
      for (var a = r.elements, s = r.ids, l = r.count, u = 0, c = 0; c < l; c++) {
        var f = a[c], h = f._batchLocation;
        if (h >= 0 && h < o && n[h] === f) {
          s[c] = h;
          continue;
        }
        for (; u < o; ) {
          var d = n[u];
          if (d && d._batchEnabled === i && d._batchLocation === u) {
            u++;
            continue;
          }
          s[c] = u, f._batchLocation = u, n[u] = f;
          break;
        }
      }
    }, t;
  }(Fi)
);
var T5 = 0;
var EG = (
  /** @class */
  function(e13) {
    Ft(t, e13);
    function t(r) {
      var n = e13.call(this, r) || this;
      return n.webGLVersion = 1, n.extensions = {}, n.supports = {
        uint32Indices: false
      }, n.handleContextLost = n.handleContextLost.bind(n), n.handleContextRestored = n.handleContextRestored.bind(n), r.view.addEventListener("webglcontextlost", n.handleContextLost, false), r.view.addEventListener("webglcontextrestored", n.handleContextRestored, false), n;
    }
    return Object.defineProperty(t.prototype, "isLost", {
      /**
       * `true` if the context is lost
       * @member {boolean}
       * @readonly
       */
      get: function() {
        return !this.gl || this.gl.isContextLost();
      },
      enumerable: false,
      configurable: true
    }), t.prototype.contextChange = function(r) {
      this.gl = r, this.renderer.gl = r, this.renderer.CONTEXT_UID = T5++, r.isContextLost() && r.getExtension("WEBGL_lose_context") && r.getExtension("WEBGL_lose_context").restoreContext();
    }, t.prototype.initFromContext = function(r) {
      this.gl = r, this.validateContext(r), this.renderer.gl = r, this.renderer.CONTEXT_UID = T5++, this.renderer.runners.contextChange.emit(r);
    }, t.prototype.initFromOptions = function(r) {
      var n = this.createContext(this.renderer.view, r);
      this.initFromContext(n);
    }, t.prototype.createContext = function(r, n) {
      var i;
      if (ft.PREFER_ENV >= Ba.WEBGL2 && (i = r.getContext("webgl2", n)), i)
        this.webGLVersion = 2;
      else if (this.webGLVersion = 1, i = r.getContext("webgl", n) || r.getContext("experimental-webgl", n), !i)
        throw new Error("This browser does not support WebGL. Try using the canvas renderer");
      return this.gl = i, this.getExtensions(), this.gl;
    }, t.prototype.getExtensions = function() {
      var r = this.gl;
      this.webGLVersion === 1 ? Object.assign(this.extensions, {
        drawBuffers: r.getExtension("WEBGL_draw_buffers"),
        depthTexture: r.getExtension("WEBGL_depth_texture"),
        loseContext: r.getExtension("WEBGL_lose_context"),
        vertexArrayObject: r.getExtension("OES_vertex_array_object") || r.getExtension("MOZ_OES_vertex_array_object") || r.getExtension("WEBKIT_OES_vertex_array_object"),
        anisotropicFiltering: r.getExtension("EXT_texture_filter_anisotropic"),
        uint32ElementIndex: r.getExtension("OES_element_index_uint"),
        // Floats and half-floats
        floatTexture: r.getExtension("OES_texture_float"),
        floatTextureLinear: r.getExtension("OES_texture_float_linear"),
        textureHalfFloat: r.getExtension("OES_texture_half_float"),
        textureHalfFloatLinear: r.getExtension("OES_texture_half_float_linear")
      }) : this.webGLVersion === 2 && Object.assign(this.extensions, {
        anisotropicFiltering: r.getExtension("EXT_texture_filter_anisotropic"),
        // Floats and half-floats
        colorBufferFloat: r.getExtension("EXT_color_buffer_float"),
        floatTextureLinear: r.getExtension("OES_texture_float_linear")
      });
    }, t.prototype.handleContextLost = function(r) {
      r.preventDefault();
    }, t.prototype.handleContextRestored = function() {
      this.renderer.runners.contextChange.emit(this.gl);
    }, t.prototype.destroy = function() {
      var r = this.renderer.view;
      r.removeEventListener("webglcontextlost", this.handleContextLost), r.removeEventListener("webglcontextrestored", this.handleContextRestored), this.gl.useProgram(null), this.extensions.loseContext && this.extensions.loseContext.loseContext();
    }, t.prototype.postrender = function() {
      this.renderer.renderingToScreen && this.gl.flush();
    }, t.prototype.validateContext = function(r) {
      var n = r.getContextAttributes(), i = "WebGL2RenderingContext" in window && r instanceof window.WebGL2RenderingContext;
      i && (this.webGLVersion = 2), n.stencil || console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");
      var o = i || !!r.getExtension("OES_element_index_uint");
      this.supports.uint32Indices = o, o || console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly");
    }, t;
  }(Fi)
);
var SG = (
  /** @class */
  /* @__PURE__ */ function() {
    function e13(t) {
      this.framebuffer = t, this.stencil = null, this.dirtyId = 0, this.dirtyFormat = 0, this.dirtySize = 0, this.multisample = ou.NONE, this.msaaBuffer = null, this.blitFramebuffer = null;
    }
    return e13;
  }()
);
var pee = new fr();
var wG = (
  /** @class */
  function(e13) {
    Ft(t, e13);
    function t(r) {
      var n = e13.call(this, r) || this;
      return n.managedFramebuffers = [], n.unknownFramebuffer = new qb(10, 10), n.msaaSamples = null, n;
    }
    return t.prototype.contextChange = function() {
      var r = this.gl = this.renderer.gl;
      if (this.CONTEXT_UID = this.renderer.CONTEXT_UID, this.current = this.unknownFramebuffer, this.viewport = new fr(), this.hasMRT = true, this.writeDepthTexture = true, this.disposeAll(true), this.renderer.context.webGLVersion === 1) {
        var n = this.renderer.context.extensions.drawBuffers, i = this.renderer.context.extensions.depthTexture;
        ft.PREFER_ENV === Ba.WEBGL_LEGACY && (n = null, i = null), n ? r.drawBuffers = function(o) {
          return n.drawBuffersWEBGL(o);
        } : (this.hasMRT = false, r.drawBuffers = function() {
        }), i || (this.writeDepthTexture = false);
      } else
        this.msaaSamples = r.getInternalformatParameter(r.RENDERBUFFER, r.RGBA8, r.SAMPLES);
    }, t.prototype.bind = function(r, n) {
      var i = this.gl;
      if (r) {
        var o = r.glFramebuffers[this.CONTEXT_UID] || this.initFramebuffer(r);
        this.current !== r && (this.current = r, i.bindFramebuffer(i.FRAMEBUFFER, o.framebuffer)), o.dirtyId !== r.dirtyId && (o.dirtyId = r.dirtyId, o.dirtyFormat !== r.dirtyFormat ? (o.dirtyFormat = r.dirtyFormat, this.updateFramebuffer(r)) : o.dirtySize !== r.dirtySize && (o.dirtySize = r.dirtySize, this.resizeFramebuffer(r)));
        for (var a = 0; a < r.colorTextures.length; a++) {
          var s = r.colorTextures[a];
          this.renderer.texture.unbind(s.parentTextureArray || s);
        }
        r.depthTexture && this.renderer.texture.unbind(r.depthTexture), n ? this.setViewport(n.x, n.y, n.width, n.height) : this.setViewport(0, 0, r.width, r.height);
      } else
        this.current && (this.current = null, i.bindFramebuffer(i.FRAMEBUFFER, null)), n ? this.setViewport(n.x, n.y, n.width, n.height) : this.setViewport(0, 0, this.renderer.width, this.renderer.height);
    }, t.prototype.setViewport = function(r, n, i, o) {
      var a = this.viewport;
      (a.width !== i || a.height !== o || a.x !== r || a.y !== n) && (a.x = r, a.y = n, a.width = i, a.height = o, this.gl.viewport(r, n, i, o));
    }, Object.defineProperty(t.prototype, "size", {
      /**
       * Get the size of the current width and height. Returns object with `width` and `height` values.
       *
       * @member {object}
       * @readonly
       */
      get: function() {
        return this.current ? { x: 0, y: 0, width: this.current.width, height: this.current.height } : { x: 0, y: 0, width: this.renderer.width, height: this.renderer.height };
      },
      enumerable: false,
      configurable: true
    }), t.prototype.clear = function(r, n, i, o, a) {
      a === void 0 && (a = Fg.COLOR | Fg.DEPTH);
      var s = this.gl;
      s.clearColor(r, n, i, o), s.clear(a);
    }, t.prototype.initFramebuffer = function(r) {
      var n = this.gl, i = new SG(n.createFramebuffer());
      return i.multisample = this.detectSamples(r.multisample), r.glFramebuffers[this.CONTEXT_UID] = i, this.managedFramebuffers.push(r), r.disposeRunner.add(this), i;
    }, t.prototype.resizeFramebuffer = function(r) {
      var n = this.gl, i = r.glFramebuffers[this.CONTEXT_UID];
      i.stencil && (n.bindRenderbuffer(n.RENDERBUFFER, i.stencil), n.renderbufferStorage(n.RENDERBUFFER, n.DEPTH_STENCIL, r.width, r.height));
      for (var o = r.colorTextures, a = 0; a < o.length; a++)
        this.renderer.texture.bind(o[a], 0);
      r.depthTexture && this.renderer.texture.bind(r.depthTexture, 0);
    }, t.prototype.updateFramebuffer = function(r) {
      var n = this.gl, i = r.glFramebuffers[this.CONTEXT_UID], o = r.colorTextures, a = o.length;
      n.drawBuffers || (a = Math.min(a, 1)), i.multisample > 1 && (i.msaaBuffer = n.createRenderbuffer(), n.bindRenderbuffer(n.RENDERBUFFER, i.msaaBuffer), n.renderbufferStorageMultisample(n.RENDERBUFFER, i.multisample, n.RGBA8, r.width, r.height), n.framebufferRenderbuffer(n.FRAMEBUFFER, n.COLOR_ATTACHMENT0, n.RENDERBUFFER, i.msaaBuffer));
      for (var s = [], l = 0; l < a; l++)
        if (!(l === 0 && i.multisample > 1)) {
          var u = r.colorTextures[l], c = u.parentTextureArray || u;
          this.renderer.texture.bind(c, 0), n.framebufferTexture2D(n.FRAMEBUFFER, n.COLOR_ATTACHMENT0 + l, u.target, c._glTextures[this.CONTEXT_UID].texture, 0), s.push(n.COLOR_ATTACHMENT0 + l);
        }
      if (s.length > 1 && n.drawBuffers(s), r.depthTexture) {
        var f = this.writeDepthTexture;
        if (f) {
          var h = r.depthTexture;
          this.renderer.texture.bind(h, 0), n.framebufferTexture2D(n.FRAMEBUFFER, n.DEPTH_ATTACHMENT, n.TEXTURE_2D, h._glTextures[this.CONTEXT_UID].texture, 0);
        }
      }
      !i.stencil && (r.stencil || r.depth) && (i.stencil = n.createRenderbuffer(), n.bindRenderbuffer(n.RENDERBUFFER, i.stencil), n.renderbufferStorage(n.RENDERBUFFER, n.DEPTH_STENCIL, r.width, r.height), r.depthTexture || n.framebufferRenderbuffer(n.FRAMEBUFFER, n.DEPTH_STENCIL_ATTACHMENT, n.RENDERBUFFER, i.stencil));
    }, t.prototype.detectSamples = function(r) {
      var n = this.msaaSamples, i = ou.NONE;
      if (r <= 1 || n === null)
        return i;
      for (var o = 0; o < n.length; o++)
        if (n[o] <= r) {
          i = n[o];
          break;
        }
      return i === 1 && (i = ou.NONE), i;
    }, t.prototype.blit = function(r, n, i) {
      var o = this, a = o.current, s = o.renderer, l = o.gl, u = o.CONTEXT_UID;
      if (s.context.webGLVersion === 2 && a) {
        var c = a.glFramebuffers[u];
        if (c) {
          if (!r) {
            if (c.multisample <= 1)
              return;
            c.blitFramebuffer || (c.blitFramebuffer = new qb(a.width, a.height), c.blitFramebuffer.addColorTexture(0, a.colorTextures[0])), r = c.blitFramebuffer, r.width = a.width, r.height = a.height;
          }
          n || (n = pee, n.width = a.width, n.height = a.height), i || (i = n);
          var f = n.width === i.width && n.height === i.height;
          this.bind(r), l.bindFramebuffer(l.READ_FRAMEBUFFER, c.framebuffer), l.blitFramebuffer(n.x, n.y, n.width, n.height, i.x, i.y, i.width, i.height, l.COLOR_BUFFER_BIT, f ? l.NEAREST : l.LINEAR);
        }
      }
    }, t.prototype.disposeFramebuffer = function(r, n) {
      var i = r.glFramebuffers[this.CONTEXT_UID], o = this.gl;
      if (i) {
        delete r.glFramebuffers[this.CONTEXT_UID];
        var a = this.managedFramebuffers.indexOf(r);
        a >= 0 && this.managedFramebuffers.splice(a, 1), r.disposeRunner.remove(this), n || (o.deleteFramebuffer(i.framebuffer), i.stencil && o.deleteRenderbuffer(i.stencil));
      }
    }, t.prototype.disposeAll = function(r) {
      var n = this.managedFramebuffers;
      this.managedFramebuffers = [];
      for (var i = 0; i < n.length; i++)
        this.disposeFramebuffer(n[i], r);
    }, t.prototype.forceStencil = function() {
      var r = this.current;
      if (r) {
        var n = r.glFramebuffers[this.CONTEXT_UID];
        if (!(!n || n.stencil)) {
          r.enableStencil();
          var i = r.width, o = r.height, a = this.gl, s = a.createRenderbuffer();
          a.bindRenderbuffer(a.RENDERBUFFER, s), a.renderbufferStorage(a.RENDERBUFFER, a.DEPTH_STENCIL, i, o), n.stencil = s, a.framebufferRenderbuffer(a.FRAMEBUFFER, a.DEPTH_STENCIL_ATTACHMENT, a.RENDERBUFFER, s);
        }
      }
    }, t.prototype.reset = function() {
      this.current = this.unknownFramebuffer, this.viewport = new fr();
    }, t;
  }(Fi)
);
var mee = (
  /** @class */
  /* @__PURE__ */ function() {
    function e13(t) {
      this.buffer = t || null, this.updateID = -1, this.byteLength = -1, this.refCount = 0;
    }
    return e13;
  }()
);
var QS = { 5126: 4, 5123: 2, 5121: 1 };
var AG = (
  /** @class */
  function(e13) {
    Ft(t, e13);
    function t(r) {
      var n = e13.call(this, r) || this;
      return n._activeGeometry = null, n._activeVao = null, n.hasVao = true, n.hasInstance = true, n.canUseUInt32ElementIndex = false, n.managedGeometries = {}, n.managedBuffers = {}, n;
    }
    return t.prototype.contextChange = function() {
      this.disposeAll(true);
      var r = this.gl = this.renderer.gl, n = this.renderer.context;
      if (this.CONTEXT_UID = this.renderer.CONTEXT_UID, n.webGLVersion !== 2) {
        var i = this.renderer.context.extensions.vertexArrayObject;
        ft.PREFER_ENV === Ba.WEBGL_LEGACY && (i = null), i ? (r.createVertexArray = function() {
          return i.createVertexArrayOES();
        }, r.bindVertexArray = function(a) {
          return i.bindVertexArrayOES(a);
        }, r.deleteVertexArray = function(a) {
          return i.deleteVertexArrayOES(a);
        }) : (this.hasVao = false, r.createVertexArray = function() {
          return null;
        }, r.bindVertexArray = function() {
          return null;
        }, r.deleteVertexArray = function() {
          return null;
        });
      }
      if (n.webGLVersion !== 2) {
        var o = r.getExtension("ANGLE_instanced_arrays");
        o ? (r.vertexAttribDivisor = function(a, s) {
          return o.vertexAttribDivisorANGLE(a, s);
        }, r.drawElementsInstanced = function(a, s, l, u, c) {
          return o.drawElementsInstancedANGLE(a, s, l, u, c);
        }, r.drawArraysInstanced = function(a, s, l, u) {
          return o.drawArraysInstancedANGLE(a, s, l, u);
        }) : this.hasInstance = false;
      }
      this.canUseUInt32ElementIndex = n.webGLVersion === 2 || !!n.extensions.uint32ElementIndex;
    }, t.prototype.bind = function(r, n) {
      n = n || this.renderer.shader.shader;
      var i = this.gl, o = r.glVertexArrayObjects[this.CONTEXT_UID], a = false;
      o || (this.managedGeometries[r.id] = r, r.disposeRunner.add(this), r.glVertexArrayObjects[this.CONTEXT_UID] = o = {}, a = true);
      var s = o[n.program.id] || this.initGeometryVao(r, n.program, a);
      this._activeGeometry = r, this._activeVao !== s && (this._activeVao = s, this.hasVao ? i.bindVertexArray(s) : this.activateVao(r, n.program)), this.updateBuffers();
    }, t.prototype.reset = function() {
      this.unbind();
    }, t.prototype.updateBuffers = function() {
      for (var r = this._activeGeometry, n = this.gl, i = 0; i < r.buffers.length; i++) {
        var o = r.buffers[i], a = o._glBuffers[this.CONTEXT_UID];
        if (o._updateID !== a.updateID) {
          a.updateID = o._updateID;
          var s = o.index ? n.ELEMENT_ARRAY_BUFFER : n.ARRAY_BUFFER;
          if (n.bindBuffer(s, a.buffer), this._boundBuffer = a, a.byteLength >= o.data.byteLength)
            n.bufferSubData(s, 0, o.data);
          else {
            var l = o.static ? n.STATIC_DRAW : n.DYNAMIC_DRAW;
            a.byteLength = o.data.byteLength, n.bufferData(s, o.data, l);
          }
        }
      }
    }, t.prototype.checkCompatibility = function(r, n) {
      var i = r.attributes, o = n.attributeData;
      for (var a in o)
        if (!i[a])
          throw new Error('shader and geometry incompatible, geometry missing the "' + a + '" attribute');
    }, t.prototype.getSignature = function(r, n) {
      var i = r.attributes, o = n.attributeData, a = ["g", r.id];
      for (var s in i)
        o[s] && a.push(s);
      return a.join("-");
    }, t.prototype.initGeometryVao = function(r, n, i) {
      i === void 0 && (i = true), this.checkCompatibility(r, n);
      var o = this.gl, a = this.CONTEXT_UID, s = this.getSignature(r, n), l = r.glVertexArrayObjects[this.CONTEXT_UID], u = l[s];
      if (u)
        return l[n.id] = u, u;
      var c = r.buffers, f = r.attributes, h = {}, d = {};
      for (var p in c)
        h[p] = 0, d[p] = 0;
      for (var p in f)
        !f[p].size && n.attributeData[p] ? f[p].size = n.attributeData[p].size : f[p].size || console.warn("PIXI Geometry attribute '" + p + "' size cannot be determined (likely the bound shader does not have the attribute)"), h[f[p].buffer] += f[p].size * QS[f[p].type];
      for (var p in f) {
        var m = f[p], g = m.size;
        m.stride === void 0 && (h[m.buffer] === g * QS[m.type] ? m.stride = 0 : m.stride = h[m.buffer]), m.start === void 0 && (m.start = d[m.buffer], d[m.buffer] += g * QS[m.type]);
      }
      u = o.createVertexArray(), o.bindVertexArray(u);
      for (var v = 0; v < c.length; v++) {
        var b = c[v];
        b._glBuffers[a] || (b._glBuffers[a] = new mee(o.createBuffer()), this.managedBuffers[b.id] = b, b.disposeRunner.add(this)), i && b._glBuffers[a].refCount++;
      }
      return this.activateVao(r, n), this._activeVao = u, l[n.id] = u, l[s] = u, u;
    }, t.prototype.disposeBuffer = function(r, n) {
      if (this.managedBuffers[r.id]) {
        delete this.managedBuffers[r.id];
        var i = r._glBuffers[this.CONTEXT_UID], o = this.gl;
        r.disposeRunner.remove(this), i && (n || o.deleteBuffer(i.buffer), delete r._glBuffers[this.CONTEXT_UID]);
      }
    }, t.prototype.disposeGeometry = function(r, n) {
      if (this.managedGeometries[r.id]) {
        delete this.managedGeometries[r.id];
        var i = r.glVertexArrayObjects[this.CONTEXT_UID], o = this.gl, a = r.buffers;
        if (r.disposeRunner.remove(this), !!i) {
          for (var s = 0; s < a.length; s++) {
            var l = a[s]._glBuffers[this.CONTEXT_UID];
            l.refCount--, l.refCount === 0 && !n && this.disposeBuffer(a[s], n);
          }
          if (!n) {
            for (var u in i)
              if (u[0] === "g") {
                var c = i[u];
                this._activeVao === c && this.unbind(), o.deleteVertexArray(c);
              }
          }
          delete r.glVertexArrayObjects[this.CONTEXT_UID];
        }
      }
    }, t.prototype.disposeAll = function(r) {
      for (var n = Object.keys(this.managedGeometries), i = 0; i < n.length; i++)
        this.disposeGeometry(this.managedGeometries[n[i]], r);
      n = Object.keys(this.managedBuffers);
      for (var i = 0; i < n.length; i++)
        this.disposeBuffer(this.managedBuffers[n[i]], r);
    }, t.prototype.activateVao = function(r, n) {
      var i = this.gl, o = this.CONTEXT_UID, a = r.buffers, s = r.attributes;
      r.indexBuffer && i.bindBuffer(i.ELEMENT_ARRAY_BUFFER, r.indexBuffer._glBuffers[o].buffer);
      var l = null;
      for (var u in s) {
        var c = s[u], f = a[c.buffer], h = f._glBuffers[o];
        if (n.attributeData[u]) {
          l !== h && (i.bindBuffer(i.ARRAY_BUFFER, h.buffer), l = h);
          var d = n.attributeData[u].location;
          if (i.enableVertexAttribArray(d), i.vertexAttribPointer(d, c.size, c.type || i.FLOAT, c.normalized, c.stride, c.start), c.instance)
            if (this.hasInstance)
              i.vertexAttribDivisor(d, 1);
            else
              throw new Error("geometry error, GPU Instancing is not supported on this device");
        }
      }
    }, t.prototype.draw = function(r, n, i, o) {
      var a = this.gl, s = this._activeGeometry;
      if (s.indexBuffer) {
        var l = s.indexBuffer.data.BYTES_PER_ELEMENT, u = l === 2 ? a.UNSIGNED_SHORT : a.UNSIGNED_INT;
        l === 2 || l === 4 && this.canUseUInt32ElementIndex ? s.instanced ? a.drawElementsInstanced(r, n || s.indexBuffer.data.length, u, (i || 0) * l, o || 1) : a.drawElements(r, n || s.indexBuffer.data.length, u, (i || 0) * l) : console.warn("unsupported index buffer type: uint32");
      } else s.instanced ? a.drawArraysInstanced(r, i, n || s.getSize(), o || 1) : a.drawArrays(r, i, n || s.getSize());
      return this;
    }, t.prototype.unbind = function() {
      this.gl.bindVertexArray(null), this._activeVao = null, this._activeGeometry = null;
    }, t;
  }(Fi)
);
var OG = (
  /** @class */
  function() {
    function e13(t) {
      t === void 0 && (t = null), this.type = ki.NONE, this.autoDetect = true, this.maskObject = t || null, this.pooled = false, this.isMaskData = true, this._stencilCounter = 0, this._scissorCounter = 0, this._scissorRect = null, this._target = null;
    }
    return e13.prototype.reset = function() {
      this.pooled && (this.maskObject = null, this.type = ki.NONE, this.autoDetect = true), this._target = null;
    }, e13.prototype.copyCountersOrReset = function(t) {
      t ? (this._stencilCounter = t._stencilCounter, this._scissorCounter = t._scissorCounter, this._scissorRect = t._scissorRect) : (this._stencilCounter = 0, this._scissorCounter = 0, this._scissorRect = null);
    }, e13;
  }()
);
function E5(e13, t, r) {
  var n = e13.createShader(t);
  return e13.shaderSource(n, r), e13.compileShader(n), n;
}
function IG(e13, t, r, n) {
  var i = E5(e13, e13.VERTEX_SHADER, t), o = E5(e13, e13.FRAGMENT_SHADER, r), a = e13.createProgram();
  if (e13.attachShader(a, i), e13.attachShader(a, o), n)
    for (var s in n)
      e13.bindAttribLocation(a, n[s], s);
  return e13.linkProgram(a), e13.getProgramParameter(a, e13.LINK_STATUS) || (e13.getShaderParameter(i, e13.COMPILE_STATUS) || (console.warn(t), console.error(e13.getShaderInfoLog(i))), e13.getShaderParameter(o, e13.COMPILE_STATUS) || (console.warn(r), console.error(e13.getShaderInfoLog(o))), console.error("Pixi.js Error: Could not initialize shader."), console.error("gl.VALIDATE_STATUS", e13.getProgramParameter(a, e13.VALIDATE_STATUS)), console.error("gl.getError()", e13.getError()), e13.getProgramInfoLog(a) !== "" && console.warn("Pixi.js Warning: gl.getProgramInfoLog()", e13.getProgramInfoLog(a)), e13.deleteProgram(a), a = null), e13.deleteShader(i), e13.deleteShader(o), a;
}
function JS(e13) {
  for (var t = new Array(e13), r = 0; r < t.length; r++)
    t[r] = false;
  return t;
}
function PG(e13, t) {
  switch (e13) {
    case "float":
      return 0;
    case "vec2":
      return new Float32Array(2 * t);
    case "vec3":
      return new Float32Array(3 * t);
    case "vec4":
      return new Float32Array(4 * t);
    case "int":
    case "sampler2D":
    case "sampler2DArray":
      return 0;
    case "ivec2":
      return new Int32Array(2 * t);
    case "ivec3":
      return new Int32Array(3 * t);
    case "ivec4":
      return new Int32Array(4 * t);
    case "bool":
      return false;
    case "bvec2":
      return JS(2 * t);
    case "bvec3":
      return JS(3 * t);
    case "bvec4":
      return JS(4 * t);
    case "mat2":
      return new Float32Array([
        1,
        0,
        0,
        1
      ]);
    case "mat3":
      return new Float32Array([
        1,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        1
      ]);
    case "mat4":
      return new Float32Array([
        1,
        0,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        0,
        1
      ]);
  }
  return null;
}
var CG = {};
var xp = CG;
function xG() {
  if (xp === CG || xp && xp.isContextLost()) {
    var e13 = document.createElement("canvas"), t = void 0;
    ft.PREFER_ENV >= Ba.WEBGL2 && (t = e13.getContext("webgl2", {})), t || (t = e13.getContext("webgl", {}) || e13.getContext("experimental-webgl", {}), t ? t.getExtension("WEBGL_draw_buffers") : t = null), xp = t;
  }
  return xp;
}
var By;
function gee() {
  if (!By) {
    By = Vo.MEDIUM;
    var e13 = xG();
    if (e13 && e13.getShaderPrecisionFormat) {
      var t = e13.getShaderPrecisionFormat(e13.FRAGMENT_SHADER, e13.HIGH_FLOAT);
      By = t.precision ? Vo.HIGH : Vo.MEDIUM;
    }
  }
  return By;
}
function S5(e13, t, r) {
  if (e13.substring(0, 9) !== "precision") {
    var n = t;
    return t === Vo.HIGH && r !== Vo.HIGH && (n = Vo.MEDIUM), "precision " + n + ` float;
` + e13;
  } else if (r !== Vo.HIGH && e13.substring(0, 15) === "precision highp")
    return e13.replace("precision highp", "precision mediump");
  return e13;
}
var vee = {
  float: 1,
  vec2: 2,
  vec3: 3,
  vec4: 4,
  int: 1,
  ivec2: 2,
  ivec3: 3,
  ivec4: 4,
  bool: 1,
  bvec2: 2,
  bvec3: 3,
  bvec4: 4,
  mat2: 4,
  mat3: 9,
  mat4: 16,
  sampler2D: 1
};
function yee(e13) {
  return vee[e13];
}
var Fy = null;
var w5 = {
  FLOAT: "float",
  FLOAT_VEC2: "vec2",
  FLOAT_VEC3: "vec3",
  FLOAT_VEC4: "vec4",
  INT: "int",
  INT_VEC2: "ivec2",
  INT_VEC3: "ivec3",
  INT_VEC4: "ivec4",
  BOOL: "bool",
  BOOL_VEC2: "bvec2",
  BOOL_VEC3: "bvec3",
  BOOL_VEC4: "bvec4",
  FLOAT_MAT2: "mat2",
  FLOAT_MAT3: "mat3",
  FLOAT_MAT4: "mat4",
  SAMPLER_2D: "sampler2D",
  INT_SAMPLER_2D: "sampler2D",
  UNSIGNED_INT_SAMPLER_2D: "sampler2D",
  SAMPLER_CUBE: "samplerCube",
  INT_SAMPLER_CUBE: "samplerCube",
  UNSIGNED_INT_SAMPLER_CUBE: "samplerCube",
  SAMPLER_2D_ARRAY: "sampler2DArray",
  INT_SAMPLER_2D_ARRAY: "sampler2DArray",
  UNSIGNED_INT_SAMPLER_2D_ARRAY: "sampler2DArray"
};
function A5(e13, t) {
  if (!Fy) {
    var r = Object.keys(w5);
    Fy = {};
    for (var n = 0; n < r.length; ++n) {
      var i = r[n];
      Fy[e13[i]] = w5[i];
    }
  }
  return Fy[t];
}
var V_ = [
  // a float cache layer
  {
    test: function(e13) {
      return e13.type === "float" && e13.size === 1;
    },
    code: function(e13) {
      return `
            if(uv["` + e13 + '"] !== ud["' + e13 + `"].value)
            {
                ud["` + e13 + '"].value = uv["' + e13 + `"]
                gl.uniform1f(ud["` + e13 + '"].location, uv["' + e13 + `"])
            }
            `;
    }
  },
  // handling samplers
  {
    test: function(e13) {
      return (e13.type === "sampler2D" || e13.type === "samplerCube" || e13.type === "sampler2DArray") && e13.size === 1 && !e13.isArray;
    },
    code: function(e13) {
      return `t = syncData.textureCount++;

            renderer.texture.bind(uv["` + e13 + `"], t);

            if(ud["` + e13 + `"].value !== t)
            {
                ud["` + e13 + `"].value = t;
                gl.uniform1i(ud["` + e13 + `"].location, t);
; // eslint-disable-line max-len
            }`;
    }
  },
  // uploading pixi matrix object to mat3
  {
    test: function(e13, t) {
      return e13.type === "mat3" && e13.size === 1 && t.a !== void 0;
    },
    code: function(e13) {
      return `
            gl.uniformMatrix3fv(ud["` + e13 + '"].location, false, uv["' + e13 + `"].toArray(true));
            `;
    }
  },
  // uploading a pixi point as a vec2 with caching layer
  {
    test: function(e13, t) {
      return e13.type === "vec2" && e13.size === 1 && t.x !== void 0;
    },
    code: function(e13) {
      return `
                cv = ud["` + e13 + `"].value;
                v = uv["` + e13 + `"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["` + e13 + `"].location, v.x, v.y);
                }`;
    }
  },
  // caching layer for a vec2
  {
    test: function(e13) {
      return e13.type === "vec2" && e13.size === 1;
    },
    code: function(e13) {
      return `
                cv = ud["` + e13 + `"].value;
                v = uv["` + e13 + `"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["` + e13 + `"].location, v[0], v[1]);
                }
            `;
    }
  },
  // upload a pixi rectangle as a vec4 with caching layer
  {
    test: function(e13, t) {
      return e13.type === "vec4" && e13.size === 1 && t.width !== void 0;
    },
    code: function(e13) {
      return `
                cv = ud["` + e13 + `"].value;
                v = uv["` + e13 + `"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["` + e13 + `"].location, v.x, v.y, v.width, v.height)
                }`;
    }
  },
  // a caching layer for vec4 uploading
  {
    test: function(e13) {
      return e13.type === "vec4" && e13.size === 1;
    },
    code: function(e13) {
      return `
                cv = ud["` + e13 + `"].value;
                v = uv["` + e13 + `"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["` + e13 + `"].location, v[0], v[1], v[2], v[3])
                }`;
    }
  }
];
var _ee = {
  float: `
    if(cv !== v)
    {
        cv.v = v;
        gl.uniform1f(location, v)
    }`,
  vec2: `
    if(cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        gl.uniform2f(location, v[0], v[1])
    }`,
  vec3: `
    if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,
  vec4: "gl.uniform4f(location, v[0], v[1], v[2], v[3])",
  int: "gl.uniform1i(location, v)",
  ivec2: "gl.uniform2i(location, v[0], v[1])",
  ivec3: "gl.uniform3i(location, v[0], v[1], v[2])",
  ivec4: "gl.uniform4i(location, v[0], v[1], v[2], v[3])",
  bool: "gl.uniform1i(location, v)",
  bvec2: "gl.uniform2i(location, v[0], v[1])",
  bvec3: "gl.uniform3i(location, v[0], v[1], v[2])",
  bvec4: "gl.uniform4i(location, v[0], v[1], v[2], v[3])",
  mat2: "gl.uniformMatrix2fv(location, false, v)",
  mat3: "gl.uniformMatrix3fv(location, false, v)",
  mat4: "gl.uniformMatrix4fv(location, false, v)",
  sampler2D: "gl.uniform1i(location, v)",
  samplerCube: "gl.uniform1i(location, v)",
  sampler2DArray: "gl.uniform1i(location, v)"
};
var bee = {
  float: "gl.uniform1fv(location, v)",
  vec2: "gl.uniform2fv(location, v)",
  vec3: "gl.uniform3fv(location, v)",
  vec4: "gl.uniform4fv(location, v)",
  mat4: "gl.uniformMatrix4fv(location, false, v)",
  mat3: "gl.uniformMatrix3fv(location, false, v)",
  mat2: "gl.uniformMatrix2fv(location, false, v)",
  int: "gl.uniform1iv(location, v)",
  ivec2: "gl.uniform2iv(location, v)",
  ivec3: "gl.uniform3iv(location, v)",
  ivec4: "gl.uniform4iv(location, v)",
  bool: "gl.uniform1iv(location, v)",
  bvec2: "gl.uniform2iv(location, v)",
  bvec3: "gl.uniform3iv(location, v)",
  bvec4: "gl.uniform4iv(location, v)",
  sampler2D: "gl.uniform1iv(location, v)",
  samplerCube: "gl.uniform1iv(location, v)",
  sampler2DArray: "gl.uniform1iv(location, v)"
};
function Tee(e13, t) {
  var r = [`
        var v = null;
        var cv = null
        var t = 0;
        var gl = renderer.gl
    `];
  for (var n in e13.uniforms) {
    var i = t[n];
    if (!i) {
      e13.uniforms[n].group && r.push(`
                    renderer.shader.syncUniformGroup(uv["` + n + `"], syncData);
                `);
      continue;
    }
    for (var o = e13.uniforms[n], a = false, s = 0; s < V_.length; s++)
      if (V_[s].test(i, o)) {
        r.push(V_[s].code(n, o)), a = true;
        break;
      }
    if (!a) {
      var l = i.size === 1 ? _ee : bee, u = l[i.type].replace("location", 'ud["' + n + '"].location');
      r.push(`
            cv = ud["` + n + `"].value;
            v = uv["` + n + `"];
            ` + u + ";");
    }
  }
  return new Function("ud", "uv", "renderer", "syncData", r.join(`
`));
}
var Eee = [
  "precision mediump float;",
  "void main(void){",
  "float test = 0.1;",
  "%forloop%",
  "gl_FragColor = vec4(0.0);",
  "}"
].join(`
`);
function See(e13) {
  for (var t = "", r = 0; r < e13; ++r)
    r > 0 && (t += `
else `), r < e13 - 1 && (t += "if(test == " + r + ".0){}");
  return t;
}
function kG(e13, t) {
  if (e13 === 0)
    throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");
  for (var r = t.createShader(t.FRAGMENT_SHADER); ; ) {
    var n = Eee.replace(/%forloop%/gi, See(e13));
    if (t.shaderSource(r, n), t.compileShader(r), !t.getShaderParameter(r, t.COMPILE_STATUS))
      e13 = e13 / 2 | 0;
    else
      break;
  }
  return e13;
}
var kp;
function wee() {
  if (typeof kp == "boolean")
    return kp;
  try {
    var e13 = new Function("param1", "param2", "param3", "return param1[param2] === param3;");
    kp = e13({ a: "b" }, "a", "b") === true;
  } catch {
    kp = false;
  }
  return kp;
}
var Aee = `varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`;
var Oee = `attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;
var Iee = 0;
var $y = {};
var Av = (
  /** @class */
  function() {
    function e13(t, r, n) {
      n === void 0 && (n = "pixi-shader"), this.id = Iee++, this.vertexSrc = t || e13.defaultVertexSrc, this.fragmentSrc = r || e13.defaultFragmentSrc, this.vertexSrc = this.vertexSrc.trim(), this.fragmentSrc = this.fragmentSrc.trim(), this.vertexSrc.substring(0, 8) !== "#version" && (n = n.replace(/\s+/g, "-"), $y[n] ? ($y[n]++, n += "-" + $y[n]) : $y[n] = 1, this.vertexSrc = "#define SHADER_NAME " + n + `
` + this.vertexSrc, this.fragmentSrc = "#define SHADER_NAME " + n + `
` + this.fragmentSrc, this.vertexSrc = S5(this.vertexSrc, ft.PRECISION_VERTEX, Vo.HIGH), this.fragmentSrc = S5(this.fragmentSrc, ft.PRECISION_FRAGMENT, gee())), this.extractData(this.vertexSrc, this.fragmentSrc), this.glPrograms = {}, this.syncUniforms = null;
    }
    return e13.prototype.extractData = function(t, r) {
      var n = xG();
      if (n) {
        var i = IG(n, t, r);
        this.attributeData = this.getAttributeData(i, n), this.uniformData = this.getUniformData(i, n), n.deleteProgram(i);
      } else
        this.uniformData = {}, this.attributeData = {};
    }, e13.prototype.getAttributeData = function(t, r) {
      for (var n = {}, i = [], o = r.getProgramParameter(t, r.ACTIVE_ATTRIBUTES), a = 0; a < o; a++) {
        var s = r.getActiveAttrib(t, a), l = A5(r, s.type), u = {
          type: l,
          name: s.name,
          size: yee(l),
          location: 0
        };
        n[s.name] = u, i.push(u);
      }
      i.sort(function(c, f) {
        return c.name > f.name ? 1 : -1;
      });
      for (var a = 0; a < i.length; a++)
        i[a].location = a;
      return n;
    }, e13.prototype.getUniformData = function(t, r) {
      for (var n = {}, i = r.getProgramParameter(t, r.ACTIVE_UNIFORMS), o = 0; o < i; o++) {
        var a = r.getActiveUniform(t, o), s = a.name.replace(/\[.*?\]$/, ""), l = a.name.match(/\[.*?\]$/), u = A5(r, a.type);
        n[s] = {
          type: u,
          size: a.size,
          isArray: l,
          value: PG(u, a.size)
        };
      }
      return n;
    }, Object.defineProperty(e13, "defaultVertexSrc", {
      /**
       * The default vertex shader source
       *
       * @static
       * @constant
       * @member {string}
       */
      get: function() {
        return Oee;
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(e13, "defaultFragmentSrc", {
      /**
       * The default fragment shader source
       *
       * @static
       * @constant
       * @member {string}
       */
      get: function() {
        return Aee;
      },
      enumerable: false,
      configurable: true
    }), e13.from = function(t, r, n) {
      var i = t + r, o = sI[i];
      return o || (sI[i] = o = new e13(t, r, n)), o;
    }, e13;
  }()
);
var Xl = (
  /** @class */
  function() {
    function e13(t, r) {
      this.program = t, r ? r instanceof Bl ? this.uniformGroup = r : this.uniformGroup = new Bl(r) : this.uniformGroup = new Bl({});
      for (var n in t.uniformData)
        this.uniformGroup.uniforms[n] instanceof Array && (this.uniformGroup.uniforms[n] = new Float32Array(this.uniformGroup.uniforms[n]));
    }
    return e13.prototype.checkUniformExists = function(t, r) {
      if (r.uniforms[t])
        return true;
      for (var n in r.uniforms) {
        var i = r.uniforms[n];
        if (i.group && this.checkUniformExists(t, i))
          return true;
      }
      return false;
    }, e13.prototype.destroy = function() {
      this.uniformGroup = null;
    }, Object.defineProperty(e13.prototype, "uniforms", {
      /**
       * Shader uniform values, shortcut for `uniformGroup.uniforms`
       * @readonly
       * @member {object}
       */
      get: function() {
        return this.uniformGroup.uniforms;
      },
      enumerable: false,
      configurable: true
    }), e13.from = function(t, r, n) {
      var i = Av.from(t, r);
      return new e13(i, n);
    }, e13;
  }()
);
var ew = 0;
var tw = 1;
var rw = 2;
var nw = 3;
var iw = 4;
var Kl = (
  /** @class */
  function() {
    function e13() {
      this.data = 0, this.blendMode = _t.NORMAL, this.polygonOffset = 0, this.blend = true;
    }
    return Object.defineProperty(e13.prototype, "blend", {
      /**
       * Activates blending of the computed fragment color values
       *
       * @member {boolean}
       */
      get: function() {
        return !!(this.data & 1 << ew);
      },
      set: function(t) {
        !!(this.data & 1 << ew) !== t && (this.data ^= 1 << ew);
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(e13.prototype, "offsets", {
      /**
       * Activates adding an offset to depth values of polygon's fragments
       *
       * @member {boolean}
       * @default false
       */
      get: function() {
        return !!(this.data & 1 << tw);
      },
      set: function(t) {
        !!(this.data & 1 << tw) !== t && (this.data ^= 1 << tw);
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(e13.prototype, "culling", {
      /**
       * Activates culling of polygons.
       *
       * @member {boolean}
       * @default false
       */
      get: function() {
        return !!(this.data & 1 << rw);
      },
      set: function(t) {
        !!(this.data & 1 << rw) !== t && (this.data ^= 1 << rw);
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(e13.prototype, "depthTest", {
      /**
       * Activates depth comparisons and updates to the depth buffer.
       *
       * @member {boolean}
       * @default false
       */
      get: function() {
        return !!(this.data & 1 << nw);
      },
      set: function(t) {
        !!(this.data & 1 << nw) !== t && (this.data ^= 1 << nw);
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(e13.prototype, "clockwiseFrontFace", {
      /**
       * Specifies whether or not front or back-facing polygons can be culled.
       * @member {boolean}
       * @default false
       */
      get: function() {
        return !!(this.data & 1 << iw);
      },
      set: function(t) {
        !!(this.data & 1 << iw) !== t && (this.data ^= 1 << iw);
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(e13.prototype, "blendMode", {
      /**
       * The blend mode to be applied when this state is set. Apply a value of `PIXI.BLEND_MODES.NORMAL` to reset the blend mode.
       * Setting this mode to anything other than NO_BLEND will automatically switch blending on.
       *
       * @member {number}
       * @default PIXI.BLEND_MODES.NORMAL
       * @see PIXI.BLEND_MODES
       */
      get: function() {
        return this._blendMode;
      },
      set: function(t) {
        this.blend = t !== _t.NONE, this._blendMode = t;
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(e13.prototype, "polygonOffset", {
      /**
       * The polygon offset. Setting this property to anything other than 0 will automatically enable polygon offset fill.
       *
       * @member {number}
       * @default 0
       */
      get: function() {
        return this._polygonOffset;
      },
      set: function(t) {
        this.offsets = !!t, this._polygonOffset = t;
      },
      enumerable: false,
      configurable: true
    }), e13.for2d = function() {
      var t = new e13();
      return t.depthTest = false, t.blend = true, t;
    }, e13;
  }()
);
var Pee = `attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;
var Cee = `varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`;
var Fs = (
  /** @class */
  function(e13) {
    Ft(t, e13);
    function t(r, n, i) {
      var o = this, a = Av.from(r || t.defaultVertexSrc, n || t.defaultFragmentSrc);
      return o = e13.call(this, a, i) || this, o.padding = 0, o.resolution = ft.FILTER_RESOLUTION, o.enabled = true, o.autoFit = true, o.legacy = !!o.program.attributeData.aTextureCoord, o.state = new Kl(), o;
    }
    return t.prototype.apply = function(r, n, i, o, a) {
      r.applyFilter(this, n, i, o);
    }, Object.defineProperty(t.prototype, "blendMode", {
      /**
       * Sets the blendmode of the filter
       *
       * @member {number}
       * @default PIXI.BLEND_MODES.NORMAL
       */
      get: function() {
        return this.state.blendMode;
      },
      set: function(r) {
        this.state.blendMode = r;
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(t, "defaultVertexSrc", {
      /**
       * The default vertex shader source
       *
       * @static
       * @type {string}
       * @constant
       */
      get: function() {
        return Pee;
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(t, "defaultFragmentSrc", {
      /**
       * The default fragment shader source
       *
       * @static
       * @type {string}
       * @constant
       */
      get: function() {
        return Cee;
      },
      enumerable: false,
      configurable: true
    }), t;
  }(Xl)
);
var xee = `attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;
var kee = `varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`;
var O5 = new sn();
var RE = (
  /** @class */
  function() {
    function e13(t, r) {
      this._texture = t, this.mapCoord = new sn(), this.uClampFrame = new Float32Array(4), this.uClampOffset = new Float32Array(2), this._textureID = -1, this._updateID = 0, this.clampOffset = 0, this.clampMargin = typeof r > "u" ? 0.5 : r, this.isSimple = false;
    }
    return Object.defineProperty(e13.prototype, "texture", {
      /**
       * texture property
       * @member {PIXI.Texture}
       */
      get: function() {
        return this._texture;
      },
      set: function(t) {
        this._texture = t, this._textureID = -1;
      },
      enumerable: false,
      configurable: true
    }), e13.prototype.multiplyUvs = function(t, r) {
      r === void 0 && (r = t);
      for (var n = this.mapCoord, i = 0; i < t.length; i += 2) {
        var o = t[i], a = t[i + 1];
        r[i] = o * n.a + a * n.c + n.tx, r[i + 1] = o * n.b + a * n.d + n.ty;
      }
      return r;
    }, e13.prototype.update = function(t) {
      var r = this._texture;
      if (!r || !r.valid || !t && this._textureID === r._updateID)
        return false;
      this._textureID = r._updateID, this._updateID++;
      var n = r._uvs;
      this.mapCoord.set(n.x1 - n.x0, n.y1 - n.y0, n.x3 - n.x0, n.y3 - n.y0, n.x0, n.y0);
      var i = r.orig, o = r.trim;
      o && (O5.set(i.width / o.width, 0, 0, i.height / o.height, -o.x / o.width, -o.y / o.height), this.mapCoord.append(O5));
      var a = r.baseTexture, s = this.uClampFrame, l = this.clampMargin / a.resolution, u = this.clampOffset;
      return s[0] = (r._frame.x + l + u) / a.width, s[1] = (r._frame.y + l + u) / a.height, s[2] = (r._frame.x + r._frame.width - l + u) / a.width, s[3] = (r._frame.y + r._frame.height - l + u) / a.height, this.uClampOffset[0] = u / a.realWidth, this.uClampOffset[1] = u / a.realHeight, this.isSimple = r._frame.width === a.width && r._frame.height === a.height && r.rotate === 0, true;
    }, e13;
  }()
);
var DG = (
  /** @class */
  function(e13) {
    Ft(t, e13);
    function t(r) {
      var n = this, i = new sn();
      return n = e13.call(this, xee, kee) || this, r.renderable = false, n.maskSprite = r, n.maskMatrix = i, n;
    }
    return t.prototype.apply = function(r, n, i, o) {
      var a = this.maskSprite, s = a._texture;
      s.valid && (s.uvMatrix || (s.uvMatrix = new RE(s, 0)), s.uvMatrix.update(), this.uniforms.npmAlpha = s.baseTexture.alphaMode ? 0 : 1, this.uniforms.mask = s, this.uniforms.otherMatrix = r.calculateSpriteMatrix(this.maskMatrix, a).prepend(s.uvMatrix.mapCoord), this.uniforms.alpha = a.worldAlpha, this.uniforms.maskClamp = s.uvMatrix.uClampFrame, r.applyFilter(this, n, i, o));
    }, t;
  }(Fs)
);
var RG = (
  /** @class */
  function(e13) {
    Ft(t, e13);
    function t(r) {
      var n = e13.call(this, r) || this;
      return n.enableScissor = false, n.alphaMaskPool = [], n.maskDataPool = [], n.maskStack = [], n.alphaMaskIndex = 0, n;
    }
    return t.prototype.setMaskStack = function(r) {
      this.maskStack = r, this.renderer.scissor.setMaskStack(r), this.renderer.stencil.setMaskStack(r);
    }, t.prototype.push = function(r, n) {
      var i = n;
      if (!i.isMaskData) {
        var o = this.maskDataPool.pop() || new OG();
        o.pooled = true, o.maskObject = n, i = o;
      }
      switch (i.autoDetect && this.detect(i), i.copyCountersOrReset(this.maskStack[this.maskStack.length - 1]), i._target = r, i.type) {
        case ki.SCISSOR:
          this.maskStack.push(i), this.renderer.scissor.push(i);
          break;
        case ki.STENCIL:
          this.maskStack.push(i), this.renderer.stencil.push(i);
          break;
        case ki.SPRITE:
          i.copyCountersOrReset(null), this.pushSpriteMask(i), this.maskStack.push(i);
          break;
      }
    }, t.prototype.pop = function(r) {
      var n = this.maskStack.pop();
      if (!(!n || n._target !== r)) {
        switch (n.type) {
          case ki.SCISSOR:
            this.renderer.scissor.pop();
            break;
          case ki.STENCIL:
            this.renderer.stencil.pop(n.maskObject);
            break;
          case ki.SPRITE:
            this.popSpriteMask();
            break;
        }
        n.reset(), n.pooled && this.maskDataPool.push(n);
      }
    }, t.prototype.detect = function(r) {
      var n = r.maskObject;
      if (n.isSprite) {
        r.type = ki.SPRITE;
        return;
      }
      if (r.type = ki.STENCIL, this.enableScissor && n.isFastRect && n.isFastRect()) {
        var i = n.worldTransform, o = Math.atan2(i.b, i.a), a = Math.atan2(i.d, i.c);
        o = Math.round(o * (180 / Math.PI) * 100), a = Math.round(a * (180 / Math.PI) * 100) - o, o = (o % 9e3 + 9e3) % 9e3, a = (a % 18e3 + 18e3) % 18e3, o === 0 && a === 9e3 && (r.type = ki.SCISSOR);
      }
    }, t.prototype.pushSpriteMask = function(r) {
      var n = r.maskObject, i = r._target, o = this.alphaMaskPool[this.alphaMaskIndex];
      o || (o = this.alphaMaskPool[this.alphaMaskIndex] = [new DG(n)]), o[0].resolution = this.renderer.resolution, o[0].maskSprite = n;
      var a = i.filterArea;
      i.filterArea = n.getBounds(true), this.renderer.filter.push(i, o), i.filterArea = a, this.alphaMaskIndex++;
    }, t.prototype.popSpriteMask = function() {
      this.renderer.filter.pop(), this.alphaMaskIndex--;
    }, t;
  }(Fi)
);
var NG = (
  /** @class */
  function(e13) {
    Ft(t, e13);
    function t(r) {
      var n = e13.call(this, r) || this;
      return n.maskStack = [], n.glConst = 0, n;
    }
    return t.prototype.getStackLength = function() {
      return this.maskStack.length;
    }, t.prototype.setMaskStack = function(r) {
      var n = this.renderer.gl, i = this.getStackLength();
      this.maskStack = r;
      var o = this.getStackLength();
      o !== i && (o === 0 ? n.disable(this.glConst) : (n.enable(this.glConst), this._useCurrent()));
    }, t.prototype._useCurrent = function() {
    }, t.prototype.destroy = function() {
      e13.prototype.destroy.call(this), this.maskStack = null;
    }, t;
  }(Fi)
);
var MG = (
  /** @class */
  function(e13) {
    Ft(t, e13);
    function t(r) {
      var n = e13.call(this, r) || this;
      return n.glConst = WebGLRenderingContext.SCISSOR_TEST, n;
    }
    return t.prototype.getStackLength = function() {
      var r = this.maskStack[this.maskStack.length - 1];
      return r ? r._scissorCounter : 0;
    }, t.prototype.push = function(r) {
      var n = r.maskObject;
      n.renderable = true;
      var i = r._scissorRect, o = n.getBounds(true), a = this.renderer.gl;
      n.renderable = false, i ? o.fit(i) : a.enable(a.SCISSOR_TEST), r._scissorCounter++, r._scissorRect = o, this._useCurrent();
    }, t.prototype.pop = function() {
      var r = this.renderer.gl;
      this.getStackLength() > 0 ? this._useCurrent() : r.disable(r.SCISSOR_TEST);
    }, t.prototype._useCurrent = function() {
      var r = this.maskStack[this.maskStack.length - 1]._scissorRect, n = this.renderer.renderTexture.current, i = this.renderer.projection, o = i.transform, a = i.sourceFrame, s = i.destinationFrame, l = n ? n.resolution : this.renderer.resolution, u = (r.x - a.x) * l + s.x, c = (r.y - a.y) * l + s.y, f = r.width * l, h = r.height * l;
      o && (u += o.tx * l, c += o.ty * l), n || (c = this.renderer.height - h - c), this.renderer.gl.scissor(u, c, f, h);
    }, t;
  }(NG)
);
var LG = (
  /** @class */
  function(e13) {
    Ft(t, e13);
    function t(r) {
      var n = e13.call(this, r) || this;
      return n.glConst = WebGLRenderingContext.STENCIL_TEST, n;
    }
    return t.prototype.getStackLength = function() {
      var r = this.maskStack[this.maskStack.length - 1];
      return r ? r._stencilCounter : 0;
    }, t.prototype.push = function(r) {
      var n = r.maskObject, i = this.renderer.gl, o = r._stencilCounter;
      o === 0 && (this.renderer.framebuffer.forceStencil(), i.enable(i.STENCIL_TEST)), r._stencilCounter++, i.colorMask(false, false, false, false), i.stencilFunc(i.EQUAL, o, this._getBitwiseMask()), i.stencilOp(i.KEEP, i.KEEP, i.INCR), n.renderable = true, n.render(this.renderer), this.renderer.batch.flush(), n.renderable = false, this._useCurrent();
    }, t.prototype.pop = function(r) {
      var n = this.renderer.gl;
      this.getStackLength() === 0 ? (n.disable(n.STENCIL_TEST), n.clear(n.STENCIL_BUFFER_BIT), n.clearStencil(0)) : (n.colorMask(false, false, false, false), n.stencilOp(n.KEEP, n.KEEP, n.DECR), r.renderable = true, r.render(this.renderer), this.renderer.batch.flush(), r.renderable = false, this._useCurrent());
    }, t.prototype._useCurrent = function() {
      var r = this.renderer.gl;
      r.colorMask(true, true, true, true), r.stencilFunc(r.EQUAL, this.getStackLength(), this._getBitwiseMask()), r.stencilOp(r.KEEP, r.KEEP, r.KEEP);
    }, t.prototype._getBitwiseMask = function() {
      return (1 << this.getStackLength()) - 1;
    }, t;
  }(NG)
);
var BG = (
  /** @class */
  function(e13) {
    Ft(t, e13);
    function t(r) {
      var n = e13.call(this, r) || this;
      return n.destinationFrame = null, n.sourceFrame = null, n.defaultFrame = null, n.projectionMatrix = new sn(), n.transform = null, n;
    }
    return t.prototype.update = function(r, n, i, o) {
      this.destinationFrame = r || this.destinationFrame || this.defaultFrame, this.sourceFrame = n || this.sourceFrame || r, this.calculateProjection(this.destinationFrame, this.sourceFrame, i, o), this.transform && this.projectionMatrix.append(this.transform);
      var a = this.renderer;
      a.globalUniforms.uniforms.projectionMatrix = this.projectionMatrix, a.globalUniforms.update(), a.shader.shader && a.shader.syncUniformGroup(a.shader.shader.uniforms.globals);
    }, t.prototype.calculateProjection = function(r, n, i, o) {
      var a = this.projectionMatrix, s = o ? -1 : 1;
      a.identity(), a.a = 1 / n.width * 2, a.d = s * (1 / n.height * 2), a.tx = -1 - n.x * a.a, a.ty = -s - n.y * a.d;
    }, t.prototype.setTransform = function(r) {
    }, t;
  }(Fi)
);
var gc = new fr();
var Dp = new fr();
var Rp = new fr();
var FG = (
  /** @class */
  function(e13) {
    Ft(t, e13);
    function t(r) {
      var n = e13.call(this, r) || this;
      return n.clearColor = r._backgroundColorRgba, n.defaultMaskStack = [], n.current = null, n.sourceFrame = new fr(), n.destinationFrame = new fr(), n;
    }
    return t.prototype.bind = function(r, n, i) {
      r === void 0 && (r = null);
      var o = this.renderer;
      this.current = r;
      var a, s, l;
      r ? (a = r.baseTexture, l = a.resolution, n || (gc.width = r.frame.width, gc.height = r.frame.height, n = gc), i || (Dp.x = r.frame.x, Dp.y = r.frame.y, Dp.width = n.width, Dp.height = n.height, i = Dp), s = a.framebuffer) : (l = o.resolution, n || (gc.width = o.screen.width, gc.height = o.screen.height, n = gc), i || (i = gc, i.width = n.width, i.height = n.height)), Rp.x = i.x * l, Rp.y = i.y * l, Rp.width = i.width * l, Rp.height = i.height * l, this.renderer.framebuffer.bind(s, Rp), this.renderer.projection.update(i, n, l, !s), r ? this.renderer.mask.setMaskStack(a.maskStack) : this.renderer.mask.setMaskStack(this.defaultMaskStack), this.sourceFrame.copyFrom(n), this.destinationFrame.copyFrom(i);
    }, t.prototype.clear = function(r, n) {
      this.current ? r = r || this.current.baseTexture.clearColor : r = r || this.clearColor, this.renderer.framebuffer.clear(r[0], r[1], r[2], r[3], n);
    }, t.prototype.resize = function() {
      this.bind(null);
    }, t.prototype.reset = function() {
      this.bind(null);
    }, t;
  }(Fi)
);
var Dee = (
  /** @class */
  /* @__PURE__ */ function() {
    function e13() {
    }
    return e13;
  }()
);
var $G = (
  /** @class */
  function() {
    function e13(t, r) {
      this.program = t, this.uniformData = r, this.uniformGroups = {};
    }
    return e13.prototype.destroy = function() {
      this.uniformData = null, this.uniformGroups = null, this.program = null;
    }, e13;
  }()
);
var Ree = 0;
var I5 = { textureCount: 0 };
var HG = (
  /** @class */
  function(e13) {
    Ft(t, e13);
    function t(r) {
      var n = e13.call(this, r) || this;
      return n.destroyed = false, n.systemCheck(), n.gl = null, n.shader = null, n.program = null, n.cache = {}, n.id = Ree++, n;
    }
    return t.prototype.systemCheck = function() {
      if (!wee())
        throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.");
    }, t.prototype.contextChange = function(r) {
      this.gl = r, this.reset();
    }, t.prototype.bind = function(r, n) {
      r.uniforms.globals = this.renderer.globalUniforms;
      var i = r.program, o = i.glPrograms[this.renderer.CONTEXT_UID] || this.generateShader(r);
      return this.shader = r, this.program !== i && (this.program = i, this.gl.useProgram(o.program)), n || (I5.textureCount = 0, this.syncUniformGroup(r.uniformGroup, I5)), o;
    }, t.prototype.setUniforms = function(r) {
      var n = this.shader.program, i = n.glPrograms[this.renderer.CONTEXT_UID];
      n.syncUniforms(i.uniformData, r, this.renderer);
    }, t.prototype.syncUniformGroup = function(r, n) {
      var i = this.getglProgram();
      (!r.static || r.dirtyId !== i.uniformGroups[r.id]) && (i.uniformGroups[r.id] = r.dirtyId, this.syncUniforms(r, i, n));
    }, t.prototype.syncUniforms = function(r, n, i) {
      var o = r.syncUniforms[this.shader.program.id] || this.createSyncGroups(r);
      o(n.uniformData, r.uniforms, this.renderer, i);
    }, t.prototype.createSyncGroups = function(r) {
      var n = this.getSignature(r, this.shader.program.uniformData);
      return this.cache[n] || (this.cache[n] = Tee(r, this.shader.program.uniformData)), r.syncUniforms[this.shader.program.id] = this.cache[n], r.syncUniforms[this.shader.program.id];
    }, t.prototype.getSignature = function(r, n) {
      var i = r.uniforms, o = [];
      for (var a in i)
        o.push(a), n[a] && o.push(n[a].type);
      return o.join("-");
    }, t.prototype.getglProgram = function() {
      return this.shader ? this.shader.program.glPrograms[this.renderer.CONTEXT_UID] : null;
    }, t.prototype.generateShader = function(r) {
      var n = this.gl, i = r.program, o = {};
      for (var a in i.attributeData)
        o[a] = i.attributeData[a].location;
      var s = IG(n, i.vertexSrc, i.fragmentSrc, o), l = {};
      for (var a in i.uniformData) {
        var u = i.uniformData[a];
        l[a] = {
          location: n.getUniformLocation(s, a),
          value: PG(u.type, u.size)
        };
      }
      var c = new $G(s, l);
      return i.glPrograms[this.renderer.CONTEXT_UID] = c, c;
    }, t.prototype.reset = function() {
      this.program = null, this.shader = null;
    }, t.prototype.destroy = function() {
      this.destroyed = true;
    }, t;
  }(Fi)
);
function Nee(e13, t) {
  return t === void 0 && (t = []), t[_t.NORMAL] = [e13.ONE, e13.ONE_MINUS_SRC_ALPHA], t[_t.ADD] = [e13.ONE, e13.ONE], t[_t.MULTIPLY] = [e13.DST_COLOR, e13.ONE_MINUS_SRC_ALPHA, e13.ONE, e13.ONE_MINUS_SRC_ALPHA], t[_t.SCREEN] = [e13.ONE, e13.ONE_MINUS_SRC_COLOR, e13.ONE, e13.ONE_MINUS_SRC_ALPHA], t[_t.OVERLAY] = [e13.ONE, e13.ONE_MINUS_SRC_ALPHA], t[_t.DARKEN] = [e13.ONE, e13.ONE_MINUS_SRC_ALPHA], t[_t.LIGHTEN] = [e13.ONE, e13.ONE_MINUS_SRC_ALPHA], t[_t.COLOR_DODGE] = [e13.ONE, e13.ONE_MINUS_SRC_ALPHA], t[_t.COLOR_BURN] = [e13.ONE, e13.ONE_MINUS_SRC_ALPHA], t[_t.HARD_LIGHT] = [e13.ONE, e13.ONE_MINUS_SRC_ALPHA], t[_t.SOFT_LIGHT] = [e13.ONE, e13.ONE_MINUS_SRC_ALPHA], t[_t.DIFFERENCE] = [e13.ONE, e13.ONE_MINUS_SRC_ALPHA], t[_t.EXCLUSION] = [e13.ONE, e13.ONE_MINUS_SRC_ALPHA], t[_t.HUE] = [e13.ONE, e13.ONE_MINUS_SRC_ALPHA], t[_t.SATURATION] = [e13.ONE, e13.ONE_MINUS_SRC_ALPHA], t[_t.COLOR] = [e13.ONE, e13.ONE_MINUS_SRC_ALPHA], t[_t.LUMINOSITY] = [e13.ONE, e13.ONE_MINUS_SRC_ALPHA], t[_t.NONE] = [0, 0], t[_t.NORMAL_NPM] = [e13.SRC_ALPHA, e13.ONE_MINUS_SRC_ALPHA, e13.ONE, e13.ONE_MINUS_SRC_ALPHA], t[_t.ADD_NPM] = [e13.SRC_ALPHA, e13.ONE, e13.ONE, e13.ONE], t[_t.SCREEN_NPM] = [e13.SRC_ALPHA, e13.ONE_MINUS_SRC_COLOR, e13.ONE, e13.ONE_MINUS_SRC_ALPHA], t[_t.SRC_IN] = [e13.DST_ALPHA, e13.ZERO], t[_t.SRC_OUT] = [e13.ONE_MINUS_DST_ALPHA, e13.ZERO], t[_t.SRC_ATOP] = [e13.DST_ALPHA, e13.ONE_MINUS_SRC_ALPHA], t[_t.DST_OVER] = [e13.ONE_MINUS_DST_ALPHA, e13.ONE], t[_t.DST_IN] = [e13.ZERO, e13.SRC_ALPHA], t[_t.DST_OUT] = [e13.ZERO, e13.ONE_MINUS_SRC_ALPHA], t[_t.DST_ATOP] = [e13.ONE_MINUS_DST_ALPHA, e13.SRC_ALPHA], t[_t.XOR] = [e13.ONE_MINUS_DST_ALPHA, e13.ONE_MINUS_SRC_ALPHA], t[_t.SUBTRACT] = [e13.ONE, e13.ONE, e13.ONE, e13.ONE, e13.FUNC_REVERSE_SUBTRACT, e13.FUNC_ADD], t;
}
var Mee = 0;
var Lee = 1;
var Bee = 2;
var Fee = 3;
var $ee = 4;
var UG = (
  /** @class */
  function(e13) {
    Ft(t, e13);
    function t(r) {
      var n = e13.call(this, r) || this;
      return n.gl = null, n.stateId = 0, n.polygonOffset = 0, n.blendMode = _t.NONE, n._blendEq = false, n.map = [], n.map[Mee] = n.setBlend, n.map[Lee] = n.setOffset, n.map[Bee] = n.setCullFace, n.map[Fee] = n.setDepthTest, n.map[$ee] = n.setFrontFace, n.checks = [], n.defaultState = new Kl(), n.defaultState.blend = true, n;
    }
    return t.prototype.contextChange = function(r) {
      this.gl = r, this.blendModes = Nee(r), this.set(this.defaultState), this.reset();
    }, t.prototype.set = function(r) {
      if (r = r || this.defaultState, this.stateId !== r.data) {
        for (var n = this.stateId ^ r.data, i = 0; n; )
          n & 1 && this.map[i].call(this, !!(r.data & 1 << i)), n = n >> 1, i++;
        this.stateId = r.data;
      }
      for (var i = 0; i < this.checks.length; i++)
        this.checks[i](this, r);
    }, t.prototype.forceState = function(r) {
      r = r || this.defaultState;
      for (var n = 0; n < this.map.length; n++)
        this.map[n].call(this, !!(r.data & 1 << n));
      for (var n = 0; n < this.checks.length; n++)
        this.checks[n](this, r);
      this.stateId = r.data;
    }, t.prototype.setBlend = function(r) {
      this.updateCheck(t.checkBlendMode, r), this.gl[r ? "enable" : "disable"](this.gl.BLEND);
    }, t.prototype.setOffset = function(r) {
      this.updateCheck(t.checkPolygonOffset, r), this.gl[r ? "enable" : "disable"](this.gl.POLYGON_OFFSET_FILL);
    }, t.prototype.setDepthTest = function(r) {
      this.gl[r ? "enable" : "disable"](this.gl.DEPTH_TEST);
    }, t.prototype.setCullFace = function(r) {
      this.gl[r ? "enable" : "disable"](this.gl.CULL_FACE);
    }, t.prototype.setFrontFace = function(r) {
      this.gl.frontFace(this.gl[r ? "CW" : "CCW"]);
    }, t.prototype.setBlendMode = function(r) {
      if (r !== this.blendMode) {
        this.blendMode = r;
        var n = this.blendModes[r], i = this.gl;
        n.length === 2 ? i.blendFunc(n[0], n[1]) : i.blendFuncSeparate(n[0], n[1], n[2], n[3]), n.length === 6 ? (this._blendEq = true, i.blendEquationSeparate(n[4], n[5])) : this._blendEq && (this._blendEq = false, i.blendEquationSeparate(i.FUNC_ADD, i.FUNC_ADD));
      }
    }, t.prototype.setPolygonOffset = function(r, n) {
      this.gl.polygonOffset(r, n);
    }, t.prototype.reset = function() {
      this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL, false), this.forceState(this.defaultState), this._blendEq = true, this.blendMode = -1, this.setBlendMode(0);
    }, t.prototype.updateCheck = function(r, n) {
      var i = this.checks.indexOf(r);
      n && i === -1 ? this.checks.push(r) : !n && i !== -1 && this.checks.splice(i, 1);
    }, t.checkBlendMode = function(r, n) {
      r.setBlendMode(n.blendMode);
    }, t.checkPolygonOffset = function(r, n) {
      r.setPolygonOffset(1, n.polygonOffset);
    }, t;
  }(Fi)
);
var jG = (
  /** @class */
  function(e13) {
    Ft(t, e13);
    function t(r) {
      var n = e13.call(this, r) || this;
      return n.count = 0, n.checkCount = 0, n.maxIdle = ft.GC_MAX_IDLE, n.checkCountMax = ft.GC_MAX_CHECK_COUNT, n.mode = ft.GC_MODE, n;
    }
    return t.prototype.postrender = function() {
      this.renderer.renderingToScreen && (this.count++, this.mode !== Wb.MANUAL && (this.checkCount++, this.checkCount > this.checkCountMax && (this.checkCount = 0, this.run())));
    }, t.prototype.run = function() {
      for (var r = this.renderer.texture, n = r.managedTextures, i = false, o = 0; o < n.length; o++) {
        var a = n[o];
        !a.framebuffer && this.count - a.touched > this.maxIdle && (r.destroyTexture(a, true), n[o] = null, i = true);
      }
      if (i) {
        for (var s = 0, o = 0; o < n.length; o++)
          n[o] !== null && (n[s++] = n[o]);
        n.length = s;
      }
    }, t.prototype.unload = function(r) {
      var n = this.renderer.texture, i = r._texture;
      i && !i.framebuffer && n.destroyTexture(i);
      for (var o = r.children.length - 1; o >= 0; o--)
        this.unload(r.children[o]);
    }, t;
  }(Fi)
);
var X_ = (
  /** @class */
  /* @__PURE__ */ function() {
    function e13(t) {
      this.texture = t, this.width = -1, this.height = -1, this.dirtyId = -1, this.dirtyStyleId = -1, this.mipmap = false, this.wrapMode = 33071, this.type = 6408, this.internalFormat = 5121;
    }
    return e13;
  }()
);
var GG = (
  /** @class */
  function(e13) {
    Ft(t, e13);
    function t(r) {
      var n = e13.call(this, r) || this;
      return n.boundTextures = [], n.currentLocation = -1, n.managedTextures = [], n._unknownBoundTextures = false, n.unknownTexture = new Nr(), n;
    }
    return t.prototype.contextChange = function() {
      var r = this.gl = this.renderer.gl;
      this.CONTEXT_UID = this.renderer.CONTEXT_UID, this.webGLVersion = this.renderer.context.webGLVersion;
      var n = r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS);
      this.boundTextures.length = n;
      for (var i = 0; i < n; i++)
        this.boundTextures[i] = null;
      this.emptyTextures = {};
      var o = new X_(r.createTexture());
      r.bindTexture(r.TEXTURE_2D, o.texture), r.texImage2D(r.TEXTURE_2D, 0, r.RGBA, 1, 1, 0, r.RGBA, r.UNSIGNED_BYTE, new Uint8Array(4)), this.emptyTextures[r.TEXTURE_2D] = o, this.emptyTextures[r.TEXTURE_CUBE_MAP] = new X_(r.createTexture()), r.bindTexture(r.TEXTURE_CUBE_MAP, this.emptyTextures[r.TEXTURE_CUBE_MAP].texture);
      for (var i = 0; i < 6; i++)
        r.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X + i, 0, r.RGBA, 1, 1, 0, r.RGBA, r.UNSIGNED_BYTE, null);
      r.texParameteri(r.TEXTURE_CUBE_MAP, r.TEXTURE_MAG_FILTER, r.LINEAR), r.texParameteri(r.TEXTURE_CUBE_MAP, r.TEXTURE_MIN_FILTER, r.LINEAR);
      for (var i = 0; i < this.boundTextures.length; i++)
        this.bind(null, i);
    }, t.prototype.bind = function(r, n) {
      n === void 0 && (n = 0);
      var i = this.gl;
      if (r) {
        if (r = r.castToBaseTexture(), r.parentTextureArray)
          return;
        if (r.valid) {
          r.touched = this.renderer.textureGC.count;
          var o = r._glTextures[this.CONTEXT_UID] || this.initTexture(r);
          this.boundTextures[n] !== r && (this.currentLocation !== n && (this.currentLocation = n, i.activeTexture(i.TEXTURE0 + n)), i.bindTexture(r.target, o.texture)), o.dirtyId !== r.dirtyId && (this.currentLocation !== n && (this.currentLocation = n, i.activeTexture(i.TEXTURE0 + n)), this.updateTexture(r)), this.boundTextures[n] = r;
        }
      } else
        this.currentLocation !== n && (this.currentLocation = n, i.activeTexture(i.TEXTURE0 + n)), i.bindTexture(i.TEXTURE_2D, this.emptyTextures[i.TEXTURE_2D].texture), this.boundTextures[n] = null;
    }, t.prototype.reset = function() {
      this._unknownBoundTextures = true, this.currentLocation = -1;
      for (var r = 0; r < this.boundTextures.length; r++)
        this.boundTextures[r] = this.unknownTexture;
    }, t.prototype.unbind = function(r) {
      var n = this, i = n.gl, o = n.boundTextures;
      if (this._unknownBoundTextures) {
        this._unknownBoundTextures = false;
        for (var a = 0; a < o.length; a++)
          o[a] === this.unknownTexture && this.bind(null, a);
      }
      for (var a = 0; a < o.length; a++)
        o[a] === r && (this.currentLocation !== a && (i.activeTexture(i.TEXTURE0 + a), this.currentLocation = a), i.bindTexture(r.target, this.emptyTextures[r.target].texture), o[a] = null);
    }, t.prototype.initTexture = function(r) {
      var n = new X_(this.gl.createTexture());
      return n.dirtyId = -1, r._glTextures[this.CONTEXT_UID] = n, this.managedTextures.push(r), r.on("dispose", this.destroyTexture, this), n;
    }, t.prototype.initTextureType = function(r, n) {
      if (n.internalFormat = r.format, n.type = r.type, this.webGLVersion === 2) {
        var i = this.renderer.gl;
        r.type === i.FLOAT && r.format === i.RGBA && (n.internalFormat = i.RGBA32F), r.type === on.HALF_FLOAT && (n.type = i.HALF_FLOAT), n.type === i.HALF_FLOAT && r.format === i.RGBA && (n.internalFormat = i.RGBA16F);
      }
    }, t.prototype.updateTexture = function(r) {
      var n = r._glTextures[this.CONTEXT_UID];
      if (n) {
        var i = this.renderer;
        if (this.initTextureType(r, n), !(r.resource && r.resource.upload(i, r, n))) {
          var o = r.realWidth, a = r.realHeight, s = i.gl;
          (n.width !== o || n.height !== a || n.dirtyId < 0) && (n.width = o, n.height = a, s.texImage2D(r.target, 0, n.internalFormat, o, a, 0, r.format, n.type, null));
        }
        r.dirtyStyleId !== n.dirtyStyleId && this.updateTextureStyle(r), n.dirtyId = r.dirtyId;
      }
    }, t.prototype.destroyTexture = function(r, n) {
      var i = this.gl;
      if (r = r.castToBaseTexture(), r._glTextures[this.CONTEXT_UID] && (this.unbind(r), i.deleteTexture(r._glTextures[this.CONTEXT_UID].texture), r.off("dispose", this.destroyTexture, this), delete r._glTextures[this.CONTEXT_UID], !n)) {
        var o = this.managedTextures.indexOf(r);
        o !== -1 && Kc(this.managedTextures, o, 1);
      }
    }, t.prototype.updateTextureStyle = function(r) {
      var n = r._glTextures[this.CONTEXT_UID];
      n && ((r.mipmap === Wf.POW2 || this.webGLVersion !== 2) && !r.isPowerOfTwo ? n.mipmap = false : n.mipmap = r.mipmap >= 1, this.webGLVersion !== 2 && !r.isPowerOfTwo ? n.wrapMode = ws.CLAMP : n.wrapMode = r.wrapMode, r.resource && r.resource.style(this.renderer, r, n) || this.setStyle(r, n), n.dirtyStyleId = r.dirtyStyleId);
    }, t.prototype.setStyle = function(r, n) {
      var i = this.gl;
      if (n.mipmap && i.generateMipmap(r.target), i.texParameteri(r.target, i.TEXTURE_WRAP_S, n.wrapMode), i.texParameteri(r.target, i.TEXTURE_WRAP_T, n.wrapMode), n.mipmap) {
        i.texParameteri(r.target, i.TEXTURE_MIN_FILTER, r.scaleMode === Ca.LINEAR ? i.LINEAR_MIPMAP_LINEAR : i.NEAREST_MIPMAP_NEAREST);
        var o = this.renderer.context.extensions.anisotropicFiltering;
        if (o && r.anisotropicLevel > 0 && r.scaleMode === Ca.LINEAR) {
          var a = Math.min(r.anisotropicLevel, i.getParameter(o.MAX_TEXTURE_MAX_ANISOTROPY_EXT));
          i.texParameterf(r.target, o.TEXTURE_MAX_ANISOTROPY_EXT, a);
        }
      } else
        i.texParameteri(r.target, i.TEXTURE_MIN_FILTER, r.scaleMode === Ca.LINEAR ? i.LINEAR : i.NEAREST);
      i.texParameteri(r.target, i.TEXTURE_MAG_FILTER, r.scaleMode === Ca.LINEAR ? i.LINEAR : i.NEAREST);
    }, t;
  }(Fi)
);
var Hee = {
  FilterSystem: bG,
  BatchSystem: TG,
  ContextSystem: EG,
  FramebufferSystem: wG,
  GeometrySystem: AG,
  MaskSystem: RG,
  ScissorSystem: MG,
  StencilSystem: LG,
  ProjectionSystem: BG,
  RenderTextureSystem: FG,
  ShaderSystem: HG,
  StateSystem: UG,
  TextureGCSystem: jG,
  TextureSystem: GG
};
var ow = new sn();
var zG = (
  /** @class */
  function(e13) {
    Ft(t, e13);
    function t(r, n) {
      r === void 0 && (r = Vf.UNKNOWN);
      var i = e13.call(this) || this;
      return n = Object.assign({}, ft.RENDER_OPTIONS, n), n.roundPixels && (ft.ROUND_PIXELS = n.roundPixels, ze("5.0.0", "Renderer roundPixels option is deprecated, please use PIXI.settings.ROUND_PIXELS", 2)), i.options = n, i.type = r, i.screen = new fr(0, 0, n.width, n.height), i.view = n.view || document.createElement("canvas"), i.resolution = n.resolution || ft.RESOLUTION, i.transparent = n.transparent, i.autoDensity = n.autoDensity || n.autoResize || false, i.preserveDrawingBuffer = n.preserveDrawingBuffer, i.clearBeforeRender = n.clearBeforeRender, i._backgroundColor = 0, i._backgroundColorRgba = [0, 0, 0, 0], i._backgroundColorString = "#000000", i.backgroundColor = n.backgroundColor || i._backgroundColor, i._lastObjectRendered = null, i.plugins = {}, i;
    }
    return t.prototype.initPlugins = function(r) {
      for (var n in r)
        this.plugins[n] = new r[n](this);
    }, Object.defineProperty(t.prototype, "width", {
      /**
       * Same as view.width, actual number of pixels in the canvas by horizontal.
       *
       * @member {number}
       * @readonly
       * @default 800
       */
      get: function() {
        return this.view.width;
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(t.prototype, "height", {
      /**
       * Same as view.height, actual number of pixels in the canvas by vertical.
       *
       * @member {number}
       * @readonly
       * @default 600
       */
      get: function() {
        return this.view.height;
      },
      enumerable: false,
      configurable: true
    }), t.prototype.resize = function(r, n) {
      this.screen.width = r, this.screen.height = n, this.view.width = r * this.resolution, this.view.height = n * this.resolution, this.autoDensity && (this.view.style.width = r + "px", this.view.style.height = n + "px"), this.emit("resize", r, n);
    }, t.prototype.generateTexture = function(r, n, i, o) {
      o = o || r.getLocalBounds(null, true), o.width === 0 && (o.width = 1), o.height === 0 && (o.height = 1);
      var a = lu.create({
        width: o.width | 0,
        height: o.height | 0,
        scaleMode: n,
        resolution: i
      });
      return ow.tx = -o.x, ow.ty = -o.y, this.render(r, a, false, ow, !!r.parent), a;
    }, t.prototype.destroy = function(r) {
      for (var n in this.plugins)
        this.plugins[n].destroy(), this.plugins[n] = null;
      r && this.view.parentNode && this.view.parentNode.removeChild(this.view);
      var i = this;
      i.plugins = null, i.type = Vf.UNKNOWN, i.view = null, i.screen = null, i._tempDisplayObjectParent = null, i.options = null, this._backgroundColorRgba = null, this._backgroundColorString = null, this._lastObjectRendered = null;
    }, Object.defineProperty(t.prototype, "backgroundColor", {
      /**
       * The background color to fill if not transparent
       *
       * @member {number}
       */
      get: function() {
        return this._backgroundColor;
      },
      set: function(r) {
        this._backgroundColor = r, this._backgroundColorString = sD(r), au(r, this._backgroundColorRgba);
      },
      enumerable: false,
      configurable: true
    }), t;
  }(Vd)
);
var $s = (
  /** @class */
  function(e13) {
    Ft(t, e13);
    function t(r) {
      var n = e13.call(this, Vf.WEBGL, r) || this;
      return r = n.options, n.gl = null, n.CONTEXT_UID = 0, n.runners = {
        destroy: new Ln("destroy"),
        contextChange: new Ln("contextChange"),
        reset: new Ln("reset"),
        update: new Ln("update"),
        postrender: new Ln("postrender"),
        prerender: new Ln("prerender"),
        resize: new Ln("resize")
      }, n.globalUniforms = new Bl({
        projectionMatrix: new sn()
      }, true), n.addSystem(RG, "mask").addSystem(EG, "context").addSystem(UG, "state").addSystem(HG, "shader").addSystem(GG, "texture").addSystem(AG, "geometry").addSystem(wG, "framebuffer").addSystem(MG, "scissor").addSystem(LG, "stencil").addSystem(BG, "projection").addSystem(jG, "textureGC").addSystem(bG, "filter").addSystem(FG, "renderTexture").addSystem(TG, "batch"), n.initPlugins(t.__plugins), r.context ? n.context.initFromContext(r.context) : n.context.initFromOptions({
        alpha: !!n.transparent,
        antialias: r.antialias,
        premultipliedAlpha: n.transparent && n.transparent !== "notMultiplied",
        stencil: true,
        preserveDrawingBuffer: r.preserveDrawingBuffer,
        powerPreference: n.options.powerPreference
      }), n.renderingToScreen = true, V4(n.context.webGLVersion === 2 ? "WebGL 2" : "WebGL 1"), n.resize(n.options.width, n.options.height), n;
    }
    return t.create = function(r) {
      if (X4())
        return new t(r);
      throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.');
    }, t.prototype.addSystem = function(r, n) {
      n || (n = r.name);
      var i = new r(this);
      if (this[n])
        throw new Error('Whoops! The name "' + n + '" is already in use');
      this[n] = i;
      for (var o in this.runners)
        this.runners[o].add(i);
      return this;
    }, t.prototype.render = function(r, n, i, o, a) {
      if (this.renderingToScreen = !n, this.runners.prerender.emit(), this.emit("prerender"), this.projection.transform = o, !this.context.isLost) {
        if (n || (this._lastObjectRendered = r), !a) {
          var s = r.enableTempParent();
          r.updateTransform(), r.disableTempParent(s);
        }
        this.renderTexture.bind(n), this.batch.currentRenderer.start(), (i !== void 0 ? i : this.clearBeforeRender) && this.renderTexture.clear(), r.render(this), this.batch.currentRenderer.flush(), n && n.baseTexture.update(), this.runners.postrender.emit(), this.projection.transform = null, this.emit("postrender");
      }
    }, t.prototype.resize = function(r, n) {
      e13.prototype.resize.call(this, r, n), this.runners.resize.emit(r, n);
    }, t.prototype.reset = function() {
      return this.runners.reset.emit(), this;
    }, t.prototype.clear = function() {
      this.renderTexture.bind(), this.renderTexture.clear();
    }, t.prototype.destroy = function(r) {
      this.runners.destroy.emit();
      for (var n in this.runners)
        this.runners[n].destroy();
      e13.prototype.destroy.call(this, r), this.gl = null;
    }, t.registerPlugin = function(r, n) {
      t.__plugins = t.__plugins || {}, t.__plugins[r] = n;
    }, t;
  }(zG)
);
function VG(e13) {
  return $s.create(e13);
}
var XG = `attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`;
var TD = `attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;
var Kb = (
  /** @class */
  /* @__PURE__ */ function() {
    function e13() {
      this.texArray = null, this.blend = 0, this.type = To.TRIANGLES, this.start = 0, this.size = 0, this.data = null;
    }
    return e13;
  }()
);
var Zb = (
  /** @class */
  function() {
    function e13() {
      this.elements = [], this.ids = [], this.count = 0;
    }
    return e13.prototype.clear = function() {
      for (var t = 0; t < this.count; t++)
        this.elements[t] = null;
      this.count = 0;
    }, e13;
  }()
);
var WG = (
  /** @class */
  function() {
    function e13(t) {
      this.rawBinaryData = new ArrayBuffer(t), this.uint32View = new Uint32Array(this.rawBinaryData), this.float32View = new Float32Array(this.rawBinaryData);
    }
    return Object.defineProperty(e13.prototype, "int8View", {
      /**
       * View on the raw binary data as a `Int8Array`.
       *
       * @member {Int8Array}
       */
      get: function() {
        return this._int8View || (this._int8View = new Int8Array(this.rawBinaryData)), this._int8View;
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(e13.prototype, "uint8View", {
      /**
       * View on the raw binary data as a `Uint8Array`.
       *
       * @member {Uint8Array}
       */
      get: function() {
        return this._uint8View || (this._uint8View = new Uint8Array(this.rawBinaryData)), this._uint8View;
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(e13.prototype, "int16View", {
      /**
       * View on the raw binary data as a `Int16Array`.
       *
       * @member {Int16Array}
       */
      get: function() {
        return this._int16View || (this._int16View = new Int16Array(this.rawBinaryData)), this._int16View;
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(e13.prototype, "uint16View", {
      /**
       * View on the raw binary data as a `Uint16Array`.
       *
       * @member {Uint16Array}
       */
      get: function() {
        return this._uint16View || (this._uint16View = new Uint16Array(this.rawBinaryData)), this._uint16View;
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(e13.prototype, "int32View", {
      /**
       * View on the raw binary data as a `Int32Array`.
       *
       * @member {Int32Array}
       */
      get: function() {
        return this._int32View || (this._int32View = new Int32Array(this.rawBinaryData)), this._int32View;
      },
      enumerable: false,
      configurable: true
    }), e13.prototype.view = function(t) {
      return this[t + "View"];
    }, e13.prototype.destroy = function() {
      this.rawBinaryData = null, this._int8View = null, this._uint8View = null, this._int16View = null, this._uint16View = null, this._int32View = null, this.uint32View = null, this.float32View = null;
    }, e13.sizeOf = function(t) {
      switch (t) {
        case "int8":
        case "uint8":
          return 1;
        case "int16":
        case "uint16":
          return 2;
        case "int32":
        case "uint32":
        case "float32":
          return 4;
        default:
          throw new Error(t + " isn't a valid view type");
      }
    }, e13;
  }()
);
var YG = (
  /** @class */
  function(e13) {
    Ft(t, e13);
    function t(r) {
      var n = e13.call(this, r) || this;
      return n.shaderGenerator = null, n.geometryClass = null, n.vertexSize = null, n.state = Kl.for2d(), n.size = ft.SPRITE_BATCH_SIZE * 4, n._vertexCount = 0, n._indexCount = 0, n._bufferedElements = [], n._bufferedTextures = [], n._bufferSize = 0, n._shader = null, n._packedGeometries = [], n._packedGeometryPoolSize = 2, n._flushId = 0, n._aBuffers = {}, n._iBuffers = {}, n.MAX_TEXTURES = 1, n.renderer.on("prerender", n.onPrerender, n), r.runners.contextChange.add(n), n._dcIndex = 0, n._aIndex = 0, n._iIndex = 0, n._attributeBuffer = null, n._indexBuffer = null, n._tempBoundTextures = [], n;
    }
    return t.prototype.contextChange = function() {
      var r = this.renderer.gl;
      ft.PREFER_ENV === Ba.WEBGL_LEGACY ? this.MAX_TEXTURES = 1 : (this.MAX_TEXTURES = Math.min(r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS), ft.SPRITE_MAX_TEXTURES), this.MAX_TEXTURES = kG(this.MAX_TEXTURES, r)), this._shader = this.shaderGenerator.generateShader(this.MAX_TEXTURES);
      for (var n = 0; n < this._packedGeometryPoolSize; n++)
        this._packedGeometries[n] = new this.geometryClass();
      this.initFlushBuffers();
    }, t.prototype.initFlushBuffers = function() {
      for (var r = t._drawCallPool, n = t._textureArrayPool, i = this.size / 4, o = Math.floor(i / this.MAX_TEXTURES) + 1; r.length < i; )
        r.push(new Kb());
      for (; n.length < o; )
        n.push(new Zb());
      for (var a = 0; a < this.MAX_TEXTURES; a++)
        this._tempBoundTextures[a] = null;
    }, t.prototype.onPrerender = function() {
      this._flushId = 0;
    }, t.prototype.render = function(r) {
      r._texture.valid && (this._vertexCount + r.vertexData.length / 2 > this.size && this.flush(), this._vertexCount += r.vertexData.length / 2, this._indexCount += r.indices.length, this._bufferedTextures[this._bufferSize] = r._texture.baseTexture, this._bufferedElements[this._bufferSize++] = r);
    }, t.prototype.buildTexturesAndDrawCalls = function() {
      var r = this, n = r._bufferedTextures, i = r.MAX_TEXTURES, o = t._textureArrayPool, a = this.renderer.batch, s = this._tempBoundTextures, l = this.renderer.textureGC.count, u = ++Nr._globalBatch, c = 0, f = o[0], h = 0;
      a.copyBoundTextures(s, i);
      for (var d = 0; d < this._bufferSize; ++d) {
        var p = n[d];
        n[d] = null, p._batchEnabled !== u && (f.count >= i && (a.boundArray(f, s, u, i), this.buildDrawCalls(f, h, d), h = d, f = o[++c], ++u), p._batchEnabled = u, p.touched = l, f.elements[f.count++] = p);
      }
      f.count > 0 && (a.boundArray(f, s, u, i), this.buildDrawCalls(f, h, this._bufferSize), ++c, ++u);
      for (var d = 0; d < s.length; d++)
        s[d] = null;
      Nr._globalBatch = u;
    }, t.prototype.buildDrawCalls = function(r, n, i) {
      var o = this, a = o._bufferedElements, s = o._attributeBuffer, l = o._indexBuffer, u = o.vertexSize, c = t._drawCallPool, f = this._dcIndex, h = this._aIndex, d = this._iIndex, p = c[f];
      p.start = this._iIndex, p.texArray = r;
      for (var m = n; m < i; ++m) {
        var g = a[m], v = g._texture.baseTexture, b = cD[v.alphaMode ? 1 : 0][g.blendMode];
        a[m] = null, n < m && p.blend !== b && (p.size = d - p.start, n = m, p = c[++f], p.texArray = r, p.start = d), this.packInterleavedGeometry(g, s, l, h, d), h += g.vertexData.length / 2 * u, d += g.indices.length, p.blend = b;
      }
      n < i && (p.size = d - p.start, ++f), this._dcIndex = f, this._aIndex = h, this._iIndex = d;
    }, t.prototype.bindAndClearTexArray = function(r) {
      for (var n = this.renderer.texture, i = 0; i < r.count; i++)
        n.bind(r.elements[i], r.ids[i]), r.elements[i] = null;
      r.count = 0;
    }, t.prototype.updateGeometry = function() {
      var r = this, n = r._packedGeometries, i = r._attributeBuffer, o = r._indexBuffer;
      ft.CAN_UPLOAD_SAME_BUFFER ? (n[this._flushId]._buffer.update(i.rawBinaryData), n[this._flushId]._indexBuffer.update(o), this.renderer.geometry.updateBuffers()) : (this._packedGeometryPoolSize <= this._flushId && (this._packedGeometryPoolSize++, n[this._flushId] = new this.geometryClass()), n[this._flushId]._buffer.update(i.rawBinaryData), n[this._flushId]._indexBuffer.update(o), this.renderer.geometry.bind(n[this._flushId]), this.renderer.geometry.updateBuffers(), this._flushId++);
    }, t.prototype.drawBatches = function() {
      for (var r = this._dcIndex, n = this.renderer, i = n.gl, o = n.state, a = t._drawCallPool, s = null, l = 0; l < r; l++) {
        var u = a[l], c = u.texArray, f = u.type, h = u.size, d = u.start, p = u.blend;
        s !== c && (s = c, this.bindAndClearTexArray(c)), this.state.blendMode = p, o.set(this.state), i.drawElements(f, h, i.UNSIGNED_SHORT, d * 2);
      }
    }, t.prototype.flush = function() {
      this._vertexCount !== 0 && (this._attributeBuffer = this.getAttributeBuffer(this._vertexCount), this._indexBuffer = this.getIndexBuffer(this._indexCount), this._aIndex = 0, this._iIndex = 0, this._dcIndex = 0, this.buildTexturesAndDrawCalls(), this.updateGeometry(), this.drawBatches(), this._bufferSize = 0, this._vertexCount = 0, this._indexCount = 0);
    }, t.prototype.start = function() {
      this.renderer.state.set(this.state), this.renderer.shader.bind(this._shader), ft.CAN_UPLOAD_SAME_BUFFER && this.renderer.geometry.bind(this._packedGeometries[this._flushId]);
    }, t.prototype.stop = function() {
      this.flush();
    }, t.prototype.destroy = function() {
      for (var r = 0; r < this._packedGeometryPoolSize; r++)
        this._packedGeometries[r] && this._packedGeometries[r].destroy();
      this.renderer.off("prerender", this.onPrerender, this), this._aBuffers = null, this._iBuffers = null, this._packedGeometries = null, this._attributeBuffer = null, this._indexBuffer = null, this._shader && (this._shader.destroy(), this._shader = null), e13.prototype.destroy.call(this);
    }, t.prototype.getAttributeBuffer = function(r) {
      var n = $g(Math.ceil(r / 8)), i = aI(n), o = n * 8;
      this._aBuffers.length <= i && (this._iBuffers.length = i + 1);
      var a = this._aBuffers[o];
      return a || (this._aBuffers[o] = a = new WG(o * this.vertexSize * 4)), a;
    }, t.prototype.getIndexBuffer = function(r) {
      var n = $g(Math.ceil(r / 12)), i = aI(n), o = n * 12;
      this._iBuffers.length <= i && (this._iBuffers.length = i + 1);
      var a = this._iBuffers[i];
      return a || (this._iBuffers[i] = a = new Uint16Array(o)), a;
    }, t.prototype.packInterleavedGeometry = function(r, n, i, o, a) {
      for (var s = n.uint32View, l = n.float32View, u = o / this.vertexSize, c = r.uvs, f = r.indices, h = r.vertexData, d = r._texture.baseTexture._batchLocation, p = Math.min(r.worldAlpha, 1), m = p < 1 && r._texture.baseTexture.alphaMode ? xE(r._tintRGB, p) : r._tintRGB + (p * 255 << 24), g = 0; g < h.length; g += 2)
        l[o++] = h[g], l[o++] = h[g + 1], l[o++] = c[g], l[o++] = c[g + 1], s[o++] = m, l[o++] = d;
      for (var g = 0; g < f.length; g++)
        i[a++] = u + f[g];
    }, t._drawCallPool = [], t._textureArrayPool = [], t;
  }(wv)
);
var qG = (
  /** @class */
  function() {
    function e13(t, r) {
      if (this.vertexSrc = t, this.fragTemplate = r, this.programCache = {}, this.defaultGroupCache = {}, r.indexOf("%count%") < 0)
        throw new Error('Fragment template must contain "%count%".');
      if (r.indexOf("%forloop%") < 0)
        throw new Error('Fragment template must contain "%forloop%".');
    }
    return e13.prototype.generateShader = function(t) {
      if (!this.programCache[t]) {
        for (var r = new Int32Array(t), n = 0; n < t; n++)
          r[n] = n;
        this.defaultGroupCache[t] = Bl.from({ uSamplers: r }, true);
        var i = this.fragTemplate;
        i = i.replace(/%count%/gi, "" + t), i = i.replace(/%forloop%/gi, this.generateSampleSrc(t)), this.programCache[t] = new Av(this.vertexSrc, i);
      }
      var o = {
        tint: new Float32Array([1, 1, 1, 1]),
        translationMatrix: new sn(),
        default: this.defaultGroupCache[t]
      };
      return new Xl(this.programCache[t], o);
    }, e13.prototype.generateSampleSrc = function(t) {
      var r = "";
      r += `
`, r += `
`;
      for (var n = 0; n < t; n++)
        n > 0 && (r += `
else `), n < t - 1 && (r += "if(vTextureId < " + n + ".5)"), r += `
{`, r += `
	color = texture2D(uSamplers[` + n + "], vTextureCoord);", r += `
}`;
      return r += `
`, r += `
`, r;
    }, e13;
  }()
);
var ED = (
  /** @class */
  function(e13) {
    Ft(t, e13);
    function t(r) {
      r === void 0 && (r = false);
      var n = e13.call(this) || this;
      return n._buffer = new wn(null, r, false), n._indexBuffer = new wn(null, r, true), n.addAttribute("aVertexPosition", n._buffer, 2, false, on.FLOAT).addAttribute("aTextureCoord", n._buffer, 2, false, on.FLOAT).addAttribute("aColor", n._buffer, 4, true, on.UNSIGNED_BYTE).addAttribute("aTextureId", n._buffer, 1, true, on.FLOAT).addIndex(n._indexBuffer), n;
    }
    return t;
  }(Xd)
);
var P5 = `precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;
var C5 = `varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`;
var KG = (
  /** @class */
  function() {
    function e13() {
    }
    return e13.create = function(t) {
      var r = Object.assign({
        vertex: P5,
        fragment: C5,
        geometryClass: ED,
        vertexSize: 6
      }, t), n = r.vertex, i = r.fragment, o = r.vertexSize, a = r.geometryClass;
      return (
        /** @class */
        function(s) {
          Ft(l, s);
          function l(u) {
            var c = s.call(this, u) || this;
            return c.shaderGenerator = new qG(n, i), c.geometryClass = a, c.vertexSize = o, c;
          }
          return l;
        }(YG)
      );
    }, Object.defineProperty(e13, "defaultVertexSrc", {
      /**
       * The default vertex shader source
       *
       * @static
       * @type {string}
       * @constant
       */
      get: function() {
        return P5;
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(e13, "defaultFragmentTemplate", {
      /**
       * The default fragment shader source
       *
       * @static
       * @type {string}
       * @constant
       */
      get: function() {
        return C5;
      },
      enumerable: false,
      configurable: true
    }), e13;
  }()
);
var ZG = KG.create();
var Ov = (
  /** @class */
  function() {
    function e13(t) {
      var r = this;
      t = Object.assign({
        forceCanvas: false
      }, t), this.renderer = VG(t), this.stage = new Jo(), e13._plugins.forEach(function(n) {
        n.init.call(r, t);
      });
    }
    return e13.registerPlugin = function(t) {
      e13._plugins.push(t);
    }, e13.prototype.render = function() {
      this.renderer.render(this.stage);
    }, Object.defineProperty(e13.prototype, "view", {
      /**
       * Reference to the renderer's canvas element.
       * @member {HTMLCanvasElement}
       * @readonly
       */
      get: function() {
        return this.renderer.view;
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(e13.prototype, "screen", {
      /**
       * Reference to the renderer's screen rectangle. Its safe to use as `filterArea` or `hitArea` for the whole screen.
       * @member {PIXI.Rectangle}
       * @readonly
       */
      get: function() {
        return this.renderer.screen;
      },
      enumerable: false,
      configurable: true
    }), e13.prototype.destroy = function(t, r) {
      var n = this, i = e13._plugins.slice(0);
      i.reverse(), i.forEach(function(o) {
        o.destroy.call(n);
      }), this.stage.destroy(r), this.stage = null, this.renderer.destroy(t), this.renderer = null;
    }, e13;
  }()
);
Ov._plugins = [];
var Uee = (
  /** @class */
  function() {
    function e13() {
    }
    return e13.init = function(t) {
      var r = this;
      Object.defineProperty(this, "resizeTo", {
        set: function(n) {
          window.removeEventListener("resize", this.queueResize), this._resizeTo = n, n && (window.addEventListener("resize", this.queueResize), this.resize());
        },
        get: function() {
          return this._resizeTo;
        }
      }), this.queueResize = function() {
        r._resizeTo && (r.cancelResize(), r._resizeId = requestAnimationFrame(function() {
          return r.resize();
        }));
      }, this.cancelResize = function() {
        r._resizeId && (cancelAnimationFrame(r._resizeId), r._resizeId = null);
      }, this.resize = function() {
        if (r._resizeTo) {
          r.cancelResize();
          var n, i;
          if (r._resizeTo === window)
            n = window.innerWidth, i = window.innerHeight;
          else {
            var o = r._resizeTo, a = o.clientWidth, s = o.clientHeight;
            n = a, i = s;
          }
          r.renderer.resize(n, i);
        }
      }, this._resizeId = null, this._resizeTo = null, this.resizeTo = t.resizeTo || null;
    }, e13.destroy = function() {
      window.removeEventListener("resize", this.queueResize), this.cancelResize(), this.cancelResize = null, this.queueResize = null, this.resizeTo = null, this.resize = null;
    }, e13;
  }()
);
Ov.registerPlugin(Uee);
var x5 = new fr();
var k5 = 4;
var QG = (
  /** @class */
  function() {
    function e13(t) {
      this.renderer = t, t.extract = this;
    }
    return e13.prototype.image = function(t, r, n) {
      var i = new Image();
      return i.src = this.base64(t, r, n), i;
    }, e13.prototype.base64 = function(t, r, n) {
      return this.canvas(t).toDataURL(r, n);
    }, e13.prototype.canvas = function(t) {
      var r = this.renderer, n, i, o = false, a, s = false;
      t && (t instanceof lu ? a = t : (a = this.renderer.generateTexture(t), s = true)), a ? (n = a.baseTexture.resolution, i = a.frame, o = false, r.renderTexture.bind(a)) : (n = this.renderer.resolution, o = true, i = x5, i.width = this.renderer.width, i.height = this.renderer.height, r.renderTexture.bind(null));
      var l = Math.floor(i.width * n + 1e-4), u = Math.floor(i.height * n + 1e-4), c = new lI(l, u, 1), f = new Uint8Array(k5 * l * u), h = r.gl;
      h.readPixels(i.x * n, i.y * n, l, u, h.RGBA, h.UNSIGNED_BYTE, f);
      var d = c.context.getImageData(0, 0, l, u);
      if (e13.arrayPostDivide(f, d.data), c.context.putImageData(d, 0, 0), o) {
        var p = new lI(c.width, c.height, 1);
        p.context.scale(1, -1), p.context.drawImage(c.canvas, 0, -u), c.destroy(), c = p;
      }
      return s && a.destroy(true), c.canvas;
    }, e13.prototype.pixels = function(t) {
      var r = this.renderer, n, i, o, a = false;
      t && (t instanceof lu ? o = t : (o = this.renderer.generateTexture(t), a = true)), o ? (n = o.baseTexture.resolution, i = o.frame, r.renderTexture.bind(o)) : (n = r.resolution, i = x5, i.width = r.width, i.height = r.height, r.renderTexture.bind(null));
      var s = i.width * n, l = i.height * n, u = new Uint8Array(k5 * s * l), c = r.gl;
      return c.readPixels(i.x * n, i.y * n, s, l, c.RGBA, c.UNSIGNED_BYTE, u), a && o.destroy(true), e13.arrayPostDivide(u, u), u;
    }, e13.prototype.destroy = function() {
      this.renderer.extract = null, this.renderer = null;
    }, e13.arrayPostDivide = function(t, r) {
      for (var n = 0; n < t.length; n += 4) {
        var i = r[n + 3] = t[n + 3];
        i !== 0 ? (r[n] = Math.round(Math.min(t[n] * 255 / i, 255)), r[n + 1] = Math.round(Math.min(t[n + 1] * 255 / i, 255)), r[n + 2] = Math.round(Math.min(t[n + 2] * 255 / i, 255))) : (r[n] = t[n], r[n + 1] = t[n + 1], r[n + 2] = t[n + 2]);
      }
    }, e13;
  }()
);
var aw;
var D5;
function jee() {
  return D5 || (D5 = 1, aw = (e13, t = {}) => {
    if (!e13) return;
    const r = {
      key: [
        "source",
        "protocol",
        "authority",
        "userInfo",
        "user",
        "password",
        "host",
        "port",
        "relative",
        "path",
        "directory",
        "file",
        "query",
        "anchor"
      ],
      q: {
        name: "queryKey",
        parser: /(?:^|&)([^&=]*)=?([^&]*)/g
      },
      parser: {
        strict: /^(?:([^:/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\d*))?))?((((?:[^?#/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,
        loose: /^(?:(?![^:@]+:[^:@/]*@)([^:/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#/]*\.[^?#/.]+(?:[?#]|$)))*\/?)?([^?#/]*))(?:\?([^#]*))?(?:#(.*))?)/
      }
    }, n = r.parser[t.strictMode ? "strict" : "loose"].exec(e13), i = {};
    let o = 14;
    for (; o--; ) i[r.key[o]] = n[o] || "";
    return i[r.q.name] = {}, i[r.key[12]].replace(r.q.parser, function(a, s, l) {
      s && (i[r.q.name][s] = l);
    }), i;
  }), aw;
}
var Gee = jee();
var JG = Ws(Gee);
var Hy = class {
  /**
  * MiniSignalBinding constructor.
  * @constructs MiniSignalBinding
  * @param {Function} fn Event handler to be called.
  * @param {Boolean} [once=false] Should this listener be removed after dispatch
  * @param {Mixed} [thisArg] The context of the callback function.
  * @api private
  */
  constructor(t, r = false, n) {
    this._fn = t, this._once = r, this._thisArg = n, this._next = this._prev = this._owner = null;
  }
  detach() {
    return this._owner === null ? false : (this._owner.detach(this), true);
  }
};
function R5(e13, t) {
  return e13._head ? (e13._tail._next = t, t._prev = e13._tail, e13._tail = t) : (e13._head = t, e13._tail = t), t._owner = e13, t;
}
var fs = class {
  /**
  * MiniSignal constructor.
  * @constructs MiniSignal
  * @api public
  *
  * @example
  * let mySignal = new MiniSignal();
  * let binding = mySignal.add(onSignal);
  * mySignal.dispatch('foo', 'bar');
  * mySignal.detach(binding);
  */
  constructor() {
    this._head = this._tail = void 0;
  }
  /**
  * Return an array of attached MiniSignalBinding.
  *
  * @param {Boolean} [exists=false] We only need to know if there are handlers.
  * @returns {MiniSignalBinding[]|Boolean} Array of attached MiniSignalBinding or Boolean if called with exists = true
  * @api public
  */
  handlers(t = false) {
    let r = this._head;
    if (t) return !!r;
    const n = [];
    for (; r; )
      n.push(r), r = r._next;
    return n;
  }
  /**
  * Return true if node is a MiniSignalBinding attached to this MiniSignal
  *
  * @param {MiniSignalBinding} node Node to check.
  * @returns {Boolean} True if node is attache to mini-signal
  * @api public
  */
  has(t) {
    if (!(t instanceof Hy))
      throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");
    return t._owner === this;
  }
  /**
  * Dispaches a signal to all registered listeners.
  *
  * @returns {Boolean} Indication if we've emitted an event.
  * @api public
  */
  dispatch() {
    let t = this._head;
    if (!t) return false;
    for (; t; )
      t._once && this.detach(t), t._fn.apply(t._thisArg, arguments), t = t._next;
    return true;
  }
  /**
  * Register a new listener.
  *
  * @param {Function} fn Callback function.
  * @param {Mixed} [thisArg] The context of the callback function.
  * @returns {MiniSignalBinding} The MiniSignalBinding node that was added.
  * @api public
  */
  add(t, r = null) {
    if (typeof t != "function")
      throw new Error("MiniSignal#add(): First arg must be a Function.");
    return R5(this, new Hy(t, false, r));
  }
  /**
  * Register a new listener that will be executed only once.
  *
  * @param {Function} fn Callback function.
  * @param {Mixed} [thisArg] The context of the callback function.
  * @returns {MiniSignalBinding} The MiniSignalBinding node that was added.
  * @api public
  */
  once(t, r = null) {
    if (typeof t != "function")
      throw new Error("MiniSignal#once(): First arg must be a Function.");
    return R5(this, new Hy(t, true, r));
  }
  /**
  * Remove binding object.
  *
  * @param {MiniSignalBinding} node The binding node that will be removed.
  * @returns {MiniSignal} The instance on which this method was called.
  * @api public */
  detach(t) {
    if (!(t instanceof Hy))
      throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");
    return t._owner !== this ? this : (t._prev && (t._prev._next = t._next), t._next && (t._next._prev = t._prev), t === this._head ? (this._head = t._next, t._next === null && (this._tail = null)) : t === this._tail && (this._tail = t._prev, this._tail._next = null), t._owner = null, this);
  }
  /**
  * Detach all listeners.
  *
  * @returns {MiniSignal} The instance on which this method was called.
  * @api public
  */
  detachAll() {
    let t = this._head;
    if (!t) return this;
    for (this._head = this._tail = null; t; )
      t._owner = null, t = t._next;
    return this;
  }
};
function vc() {
}
function N5(e13, t, r, n) {
  var i = 0, o = e13.length;
  (function a(s) {
    if (s || i === o) {
      r && r(s);
      return;
    }
    n ? setTimeout(function() {
      t(e13[i++], a);
    }, 1) : t(e13[i++], a);
  })();
}
function zee(e13) {
  return function() {
    if (e13 === null)
      throw new Error("Callback was already called.");
    var r = e13;
    e13 = null, r.apply(this, arguments);
  };
}
function Vee(e13, t) {
  if (t == null)
    t = 1;
  else if (t === 0)
    throw new Error("Concurrency must not be zero");
  var r = 0, n = {
    _tasks: [],
    concurrency: t,
    saturated: vc,
    unsaturated: vc,
    buffer: t / 4,
    empty: vc,
    drain: vc,
    error: vc,
    started: false,
    paused: false,
    push: function(s, l) {
      i(s, false, l);
    },
    kill: function() {
      r = 0, n.drain = vc, n.started = false, n._tasks = [];
    },
    unshift: function(s, l) {
      i(s, true, l);
    },
    process: function() {
      for (; !n.paused && r < n.concurrency && n._tasks.length; ) {
        var s = n._tasks.shift();
        n._tasks.length === 0 && n.empty(), r += 1, r === n.concurrency && n.saturated(), e13(s.data, zee(o(s)));
      }
    },
    length: function() {
      return n._tasks.length;
    },
    running: function() {
      return r;
    },
    idle: function() {
      return n._tasks.length + r === 0;
    },
    pause: function() {
      n.paused !== true && (n.paused = true);
    },
    resume: function() {
      if (n.paused !== false) {
        n.paused = false;
        for (var s = 1; s <= n.concurrency; s++)
          n.process();
      }
    }
  };
  function i(a, s, l) {
    if (l != null && typeof l != "function")
      throw new Error("task callback must be a function");
    if (n.started = true, a == null && n.idle()) {
      setTimeout(function() {
        return n.drain();
      }, 1);
      return;
    }
    var u = {
      data: a,
      callback: typeof l == "function" ? l : vc
    };
    s ? n._tasks.unshift(u) : n._tasks.push(u), setTimeout(function() {
      return n.process();
    }, 1);
  }
  function o(a) {
    return function() {
      r -= 1, a.callback.apply(a, arguments), arguments[0] != null && n.error(arguments[0], a.data), r <= n.concurrency - n.buffer && n.unsaturated(), n.idle() && n.drain(), n.process();
    };
  }
  return n;
}
function Xee(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, n.key, n);
  }
}
function e6(e13, t, r) {
  return t && Xee(e13.prototype, t), e13;
}
var Wee = !!(window.XDomainRequest && !("withCredentials" in new XMLHttpRequest()));
var Uy = null;
var Yee = 0;
var M5 = 200;
var qee = 204;
var Kee = 1223;
var Zee = 2;
function Qee() {
}
var Tt = function() {
  e13.setExtensionLoadType = function(n, i) {
    L5(e13._loadTypeMap, n, i);
  }, e13.setExtensionXhrType = function(n, i) {
    L5(e13._xhrTypeMap, n, i);
  };
  function e13(r, n, i) {
    if (typeof r != "string" || typeof n != "string")
      throw new Error("Both name and url are required for constructing a resource.");
    i = i || {}, this._flags = 0, this._setFlag(e13.STATUS_FLAGS.DATA_URL, n.indexOf("data:") === 0), this.name = r, this.url = n, this.extension = this._getExtension(), this.data = null, this.crossOrigin = i.crossOrigin === true ? "anonymous" : i.crossOrigin, this.timeout = i.timeout || 0, this.loadType = i.loadType || this._determineLoadType(), this.xhrType = i.xhrType, this.metadata = i.metadata || {}, this.error = null, this.xhr = null, this.children = [], this.type = e13.TYPE.UNKNOWN, this.progressChunk = 0, this._dequeue = Qee, this._onLoadBinding = null, this._elementTimer = 0, this._boundComplete = this.complete.bind(this), this._boundOnError = this._onError.bind(this), this._boundOnProgress = this._onProgress.bind(this), this._boundOnTimeout = this._onTimeout.bind(this), this._boundXhrOnError = this._xhrOnError.bind(this), this._boundXhrOnTimeout = this._xhrOnTimeout.bind(this), this._boundXhrOnAbort = this._xhrOnAbort.bind(this), this._boundXhrOnLoad = this._xhrOnLoad.bind(this), this.onStart = new fs(), this.onProgress = new fs(), this.onComplete = new fs(), this.onAfterMiddleware = new fs();
  }
  var t = e13.prototype;
  return t.complete = function() {
    this._clearEvents(), this._finish();
  }, t.abort = function(n) {
    if (!this.error) {
      if (this.error = new Error(n), this._clearEvents(), this.xhr)
        this.xhr.abort();
      else if (this.xdr)
        this.xdr.abort();
      else if (this.data)
        if (this.data.src)
          this.data.src = e13.EMPTY_GIF;
        else
          for (; this.data.firstChild; )
            this.data.removeChild(this.data.firstChild);
      this._finish();
    }
  }, t.load = function(n) {
    var i = this;
    if (!this.isLoading) {
      if (this.isComplete) {
        n && setTimeout(function() {
          return n(i);
        }, 1);
        return;
      } else n && this.onComplete.once(n);
      switch (this._setFlag(e13.STATUS_FLAGS.LOADING, true), this.onStart.dispatch(this), (this.crossOrigin === false || typeof this.crossOrigin != "string") && (this.crossOrigin = this._determineCrossOrigin(this.url)), this.loadType) {
        case e13.LOAD_TYPE.IMAGE:
          this.type = e13.TYPE.IMAGE, this._loadElement("image");
          break;
        case e13.LOAD_TYPE.AUDIO:
          this.type = e13.TYPE.AUDIO, this._loadSourceElement("audio");
          break;
        case e13.LOAD_TYPE.VIDEO:
          this.type = e13.TYPE.VIDEO, this._loadSourceElement("video");
          break;
        case e13.LOAD_TYPE.XHR:
        /* falls through */
        default:
          Wee && this.crossOrigin ? this._loadXdr() : this._loadXhr();
          break;
      }
    }
  }, t._hasFlag = function(n) {
    return (this._flags & n) !== 0;
  }, t._setFlag = function(n, i) {
    this._flags = i ? this._flags | n : this._flags & ~n;
  }, t._clearEvents = function() {
    clearTimeout(this._elementTimer), this.data && this.data.removeEventListener && (this.data.removeEventListener("error", this._boundOnError, false), this.data.removeEventListener("load", this._boundComplete, false), this.data.removeEventListener("progress", this._boundOnProgress, false), this.data.removeEventListener("canplaythrough", this._boundComplete, false)), this.xhr && (this.xhr.removeEventListener ? (this.xhr.removeEventListener("error", this._boundXhrOnError, false), this.xhr.removeEventListener("timeout", this._boundXhrOnTimeout, false), this.xhr.removeEventListener("abort", this._boundXhrOnAbort, false), this.xhr.removeEventListener("progress", this._boundOnProgress, false), this.xhr.removeEventListener("load", this._boundXhrOnLoad, false)) : (this.xhr.onerror = null, this.xhr.ontimeout = null, this.xhr.onprogress = null, this.xhr.onload = null));
  }, t._finish = function() {
    if (this.isComplete)
      throw new Error("Complete called again for an already completed resource.");
    this._setFlag(e13.STATUS_FLAGS.COMPLETE, true), this._setFlag(e13.STATUS_FLAGS.LOADING, false), this.onComplete.dispatch(this);
  }, t._loadElement = function(n) {
    this.metadata.loadElement ? this.data = this.metadata.loadElement : n === "image" && typeof window.Image < "u" ? this.data = new Image() : this.data = document.createElement(n), this.crossOrigin && (this.data.crossOrigin = this.crossOrigin), this.metadata.skipSource || (this.data.src = this.url), this.data.addEventListener("error", this._boundOnError, false), this.data.addEventListener("load", this._boundComplete, false), this.data.addEventListener("progress", this._boundOnProgress, false), this.timeout && (this._elementTimer = setTimeout(this._boundOnTimeout, this.timeout));
  }, t._loadSourceElement = function(n) {
    if (this.metadata.loadElement ? this.data = this.metadata.loadElement : n === "audio" && typeof window.Audio < "u" ? this.data = new Audio() : this.data = document.createElement(n), this.data === null) {
      this.abort("Unsupported element: " + n);
      return;
    }
    if (this.crossOrigin && (this.data.crossOrigin = this.crossOrigin), !this.metadata.skipSource)
      if (navigator.isCocoonJS)
        this.data.src = Array.isArray(this.url) ? this.url[0] : this.url;
      else if (Array.isArray(this.url))
        for (var i = this.metadata.mimeType, o = 0; o < this.url.length; ++o)
          this.data.appendChild(this._createSource(n, this.url[o], Array.isArray(i) ? i[o] : i));
      else {
        var a = this.metadata.mimeType;
        this.data.appendChild(this._createSource(n, this.url, Array.isArray(a) ? a[0] : a));
      }
    this.data.addEventListener("error", this._boundOnError, false), this.data.addEventListener("load", this._boundComplete, false), this.data.addEventListener("progress", this._boundOnProgress, false), this.data.addEventListener("canplaythrough", this._boundComplete, false), this.data.load(), this.timeout && (this._elementTimer = setTimeout(this._boundOnTimeout, this.timeout));
  }, t._loadXhr = function() {
    typeof this.xhrType != "string" && (this.xhrType = this._determineXhrType());
    var n = this.xhr = new XMLHttpRequest();
    n.open("GET", this.url, true), n.timeout = this.timeout, this.xhrType === e13.XHR_RESPONSE_TYPE.JSON || this.xhrType === e13.XHR_RESPONSE_TYPE.DOCUMENT ? n.responseType = e13.XHR_RESPONSE_TYPE.TEXT : n.responseType = this.xhrType, n.addEventListener("error", this._boundXhrOnError, false), n.addEventListener("timeout", this._boundXhrOnTimeout, false), n.addEventListener("abort", this._boundXhrOnAbort, false), n.addEventListener("progress", this._boundOnProgress, false), n.addEventListener("load", this._boundXhrOnLoad, false), n.send();
  }, t._loadXdr = function() {
    typeof this.xhrType != "string" && (this.xhrType = this._determineXhrType());
    var n = this.xhr = new XDomainRequest();
    n.timeout = this.timeout || 5e3, n.onerror = this._boundXhrOnError, n.ontimeout = this._boundXhrOnTimeout, n.onprogress = this._boundOnProgress, n.onload = this._boundXhrOnLoad, n.open("GET", this.url, true), setTimeout(function() {
      return n.send();
    }, 1);
  }, t._createSource = function(n, i, o) {
    o || (o = n + "/" + this._getExtension(i));
    var a = document.createElement("source");
    return a.src = i, a.type = o, a;
  }, t._onError = function(n) {
    this.abort("Failed to load element using: " + n.target.nodeName);
  }, t._onProgress = function(n) {
    n && n.lengthComputable && this.onProgress.dispatch(this, n.loaded / n.total);
  }, t._onTimeout = function() {
    this.abort("Load timed out.");
  }, t._xhrOnError = function() {
    var n = this.xhr;
    this.abort(sw(n) + " Request failed. Status: " + n.status + ', text: "' + n.statusText + '"');
  }, t._xhrOnTimeout = function() {
    var n = this.xhr;
    this.abort(sw(n) + " Request timed out.");
  }, t._xhrOnAbort = function() {
    var n = this.xhr;
    this.abort(sw(n) + " Request was aborted by the user.");
  }, t._xhrOnLoad = function() {
    var n = this.xhr, i = "", o = typeof n.status > "u" ? M5 : n.status;
    (n.responseType === "" || n.responseType === "text" || typeof n.responseType > "u") && (i = n.responseText), o === Yee && (i.length > 0 || n.responseType === e13.XHR_RESPONSE_TYPE.BUFFER) ? o = M5 : o === Kee && (o = qee);
    var a = o / 100 | 0;
    if (a === Zee)
      if (this.xhrType === e13.XHR_RESPONSE_TYPE.TEXT)
        this.data = i, this.type = e13.TYPE.TEXT;
      else if (this.xhrType === e13.XHR_RESPONSE_TYPE.JSON)
        try {
          this.data = JSON.parse(i), this.type = e13.TYPE.JSON;
        } catch (u) {
          this.abort("Error trying to parse loaded json: " + u);
          return;
        }
      else if (this.xhrType === e13.XHR_RESPONSE_TYPE.DOCUMENT)
        try {
          if (window.DOMParser) {
            var s = new DOMParser();
            this.data = s.parseFromString(i, "text/xml");
          } else {
            var l = document.createElement("div");
            l.innerHTML = i, this.data = l;
          }
          this.type = e13.TYPE.XML;
        } catch (u) {
          this.abort("Error trying to parse loaded xml: " + u);
          return;
        }
      else
        this.data = n.response || i;
    else {
      this.abort("[" + n.status + "] " + n.statusText + ": " + n.responseURL);
      return;
    }
    this.complete();
  }, t._determineCrossOrigin = function(n, i) {
    if (n.indexOf("data:") === 0)
      return "";
    if (window.origin !== window.location.origin)
      return "anonymous";
    i = i || window.location, Uy || (Uy = document.createElement("a")), Uy.href = n, n = JG(Uy.href, {
      strictMode: true
    });
    var o = !n.port && i.port === "" || n.port === i.port, a = n.protocol ? n.protocol + ":" : "";
    return n.host !== i.hostname || !o || a !== i.protocol ? "anonymous" : "";
  }, t._determineXhrType = function() {
    return e13._xhrTypeMap[this.extension] || e13.XHR_RESPONSE_TYPE.TEXT;
  }, t._determineLoadType = function() {
    return e13._loadTypeMap[this.extension] || e13.LOAD_TYPE.XHR;
  }, t._getExtension = function() {
    var n = this.url, i = "";
    if (this.isDataUrl) {
      var o = n.indexOf("/");
      i = n.substring(o + 1, n.indexOf(";", o));
    } else {
      var a = n.indexOf("?"), s = n.indexOf("#"), l = Math.min(a > -1 ? a : n.length, s > -1 ? s : n.length);
      n = n.substring(0, l), i = n.substring(n.lastIndexOf(".") + 1);
    }
    return i.toLowerCase();
  }, t._getMimeFromXhrType = function(n) {
    switch (n) {
      case e13.XHR_RESPONSE_TYPE.BUFFER:
        return "application/octet-binary";
      case e13.XHR_RESPONSE_TYPE.BLOB:
        return "application/blob";
      case e13.XHR_RESPONSE_TYPE.DOCUMENT:
        return "application/xml";
      case e13.XHR_RESPONSE_TYPE.JSON:
        return "application/json";
      case e13.XHR_RESPONSE_TYPE.DEFAULT:
      case e13.XHR_RESPONSE_TYPE.TEXT:
      /* falls through */
      default:
        return "text/plain";
    }
  }, e6(e13, [{
    key: "isDataUrl",
    get: function() {
      return this._hasFlag(e13.STATUS_FLAGS.DATA_URL);
    }
    /**
     * Describes if this resource has finished loading. Is true when the resource has completely
     * loaded.
     *
     * @readonly
     * @member {boolean}
     */
  }, {
    key: "isComplete",
    get: function() {
      return this._hasFlag(e13.STATUS_FLAGS.COMPLETE);
    }
    /**
     * Describes if this resource is currently loading. Is true when the resource starts loading,
     * and is false again when complete.
     *
     * @readonly
     * @member {boolean}
     */
  }, {
    key: "isLoading",
    get: function() {
      return this._hasFlag(e13.STATUS_FLAGS.LOADING);
    }
  }]), e13;
}();
Tt.STATUS_FLAGS = {
  NONE: 0,
  DATA_URL: 1,
  COMPLETE: 2,
  LOADING: 4
};
Tt.TYPE = {
  UNKNOWN: 0,
  JSON: 1,
  XML: 2,
  IMAGE: 3,
  AUDIO: 4,
  VIDEO: 5,
  TEXT: 6
};
Tt.LOAD_TYPE = {
  /** Uses XMLHttpRequest to load the resource. */
  XHR: 1,
  /** Uses an `Image` object to load the resource. */
  IMAGE: 2,
  /** Uses an `Audio` object to load the resource. */
  AUDIO: 3,
  /** Uses a `Video` object to load the resource. */
  VIDEO: 4
};
Tt.XHR_RESPONSE_TYPE = {
  /** string */
  DEFAULT: "text",
  /** ArrayBuffer */
  BUFFER: "arraybuffer",
  /** Blob */
  BLOB: "blob",
  /** Document */
  DOCUMENT: "document",
  /** Object */
  JSON: "json",
  /** String */
  TEXT: "text"
};
Tt._loadTypeMap = {
  // images
  gif: Tt.LOAD_TYPE.IMAGE,
  png: Tt.LOAD_TYPE.IMAGE,
  bmp: Tt.LOAD_TYPE.IMAGE,
  jpg: Tt.LOAD_TYPE.IMAGE,
  jpeg: Tt.LOAD_TYPE.IMAGE,
  tif: Tt.LOAD_TYPE.IMAGE,
  tiff: Tt.LOAD_TYPE.IMAGE,
  webp: Tt.LOAD_TYPE.IMAGE,
  tga: Tt.LOAD_TYPE.IMAGE,
  svg: Tt.LOAD_TYPE.IMAGE,
  "svg+xml": Tt.LOAD_TYPE.IMAGE,
  // for SVG data urls
  // audio
  mp3: Tt.LOAD_TYPE.AUDIO,
  ogg: Tt.LOAD_TYPE.AUDIO,
  wav: Tt.LOAD_TYPE.AUDIO,
  // videos
  mp4: Tt.LOAD_TYPE.VIDEO,
  webm: Tt.LOAD_TYPE.VIDEO
};
Tt._xhrTypeMap = {
  // xml
  xhtml: Tt.XHR_RESPONSE_TYPE.DOCUMENT,
  html: Tt.XHR_RESPONSE_TYPE.DOCUMENT,
  htm: Tt.XHR_RESPONSE_TYPE.DOCUMENT,
  xml: Tt.XHR_RESPONSE_TYPE.DOCUMENT,
  tmx: Tt.XHR_RESPONSE_TYPE.DOCUMENT,
  svg: Tt.XHR_RESPONSE_TYPE.DOCUMENT,
  // This was added to handle Tiled Tileset XML, but .tsx is also a TypeScript React Component.
  // Since it is way less likely for people to be loading TypeScript files instead of Tiled files,
  // this should probably be fine.
  tsx: Tt.XHR_RESPONSE_TYPE.DOCUMENT,
  // images
  gif: Tt.XHR_RESPONSE_TYPE.BLOB,
  png: Tt.XHR_RESPONSE_TYPE.BLOB,
  bmp: Tt.XHR_RESPONSE_TYPE.BLOB,
  jpg: Tt.XHR_RESPONSE_TYPE.BLOB,
  jpeg: Tt.XHR_RESPONSE_TYPE.BLOB,
  tif: Tt.XHR_RESPONSE_TYPE.BLOB,
  tiff: Tt.XHR_RESPONSE_TYPE.BLOB,
  webp: Tt.XHR_RESPONSE_TYPE.BLOB,
  tga: Tt.XHR_RESPONSE_TYPE.BLOB,
  // json
  json: Tt.XHR_RESPONSE_TYPE.JSON,
  // text
  text: Tt.XHR_RESPONSE_TYPE.TEXT,
  txt: Tt.XHR_RESPONSE_TYPE.TEXT,
  // fonts
  ttf: Tt.XHR_RESPONSE_TYPE.BUFFER,
  otf: Tt.XHR_RESPONSE_TYPE.BUFFER
};
Tt.EMPTY_GIF = "data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";
function L5(e13, t, r) {
  t && t.indexOf(".") === 0 && (t = t.substring(1)), t && (e13[t] = r);
}
function sw(e13) {
  return e13.toString().replace("object ", "");
}
var Jee = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";
function ete(e13) {
  for (var t = "", r = 0; r < e13.length; ) {
    for (var n = [0, 0, 0], i = [0, 0, 0, 0], o = 0; o < n.length; ++o)
      r < e13.length ? n[o] = e13.charCodeAt(r++) & 255 : n[o] = 0;
    i[0] = n[0] >> 2, i[1] = (n[0] & 3) << 4 | n[1] >> 4, i[2] = (n[1] & 15) << 2 | n[2] >> 6, i[3] = n[2] & 63;
    var a = r - (e13.length - 1);
    switch (a) {
      case 2:
        i[3] = 64, i[2] = 64;
        break;
      case 1:
        i[3] = 64;
        break;
    }
    for (var s = 0; s < i.length; ++s)
      t += Jee.charAt(i[s]);
  }
  return t;
}
var B5 = window.URL || window.webkitURL;
function tte(e13, t) {
  if (!e13.data) {
    t();
    return;
  }
  if (e13.xhr && e13.xhrType === Tt.XHR_RESPONSE_TYPE.BLOB) {
    if (!window.Blob || typeof e13.data == "string") {
      var r = e13.xhr.getResponseHeader("content-type");
      if (r && r.indexOf("image") === 0) {
        e13.data = new Image(), e13.data.src = "data:" + r + ";base64," + ete(e13.xhr.responseText), e13.type = Tt.TYPE.IMAGE, e13.data.onload = function() {
          e13.data.onload = null, t();
        };
        return;
      }
    } else if (e13.data.type.indexOf("image") === 0) {
      var n = B5.createObjectURL(e13.data);
      e13.blob = e13.data, e13.data = new Image(), e13.data.src = n, e13.type = Tt.TYPE.IMAGE, e13.data.onload = function() {
        B5.revokeObjectURL(n), e13.data.onload = null, t();
      };
      return;
    }
  }
  t();
}
var rte = {
  parsing: tte
};
var lw = 100;
var nte = /(#[\w-]+)?$/;
var As = function() {
  function e13(r, n) {
    var i = this;
    r === void 0 && (r = ""), n === void 0 && (n = 10), this.baseUrl = r, this.progress = 0, this.loading = false, this.defaultQueryString = "", this._beforeMiddleware = [], this._afterMiddleware = [], this._resourcesParsing = [], this._boundLoadResource = function(s, l) {
      return i._loadResource(s, l);
    }, this._queue = Vee(this._boundLoadResource, n), this._queue.pause(), this.resources = {}, this.onProgress = new fs(), this.onError = new fs(), this.onLoad = new fs(), this.onStart = new fs(), this.onComplete = new fs();
    for (var o = 0; o < e13._defaultBeforeMiddleware.length; ++o)
      this.pre(e13._defaultBeforeMiddleware[o]);
    for (var a = 0; a < e13._defaultAfterMiddleware.length; ++a)
      this.use(e13._defaultAfterMiddleware[a]);
  }
  var t = e13.prototype;
  return t.add = function(n, i, o, a) {
    if (Array.isArray(n)) {
      for (var s = 0; s < n.length; ++s)
        this.add(n[s]);
      return this;
    }
    if (typeof n == "object" && (a = i || n.callback || n.onComplete, o = n, i = n.url, n = n.name || n.key || n.url), typeof i != "string" && (a = o, o = i, i = n), typeof i != "string")
      throw new Error("No url passed to add resource to loader.");
    if (typeof o == "function" && (a = o, o = null), this.loading && (!o || !o.parentResource))
      throw new Error("Cannot add resources while the loader is running.");
    if (this.resources[n])
      throw new Error('Resource named "' + n + '" already exists.');
    if (i = this._prepareUrl(i), this.resources[n] = new Tt(n, i, o), typeof a == "function" && this.resources[n].onAfterMiddleware.once(a), this.loading) {
      for (var l = o.parentResource, u = [], c = 0; c < l.children.length; ++c)
        l.children[c].isComplete || u.push(l.children[c]);
      var f = l.progressChunk * (u.length + 1), h = f / (u.length + 2);
      l.children.push(this.resources[n]), l.progressChunk = h;
      for (var d = 0; d < u.length; ++d)
        u[d].progressChunk = h;
      this.resources[n].progressChunk = h;
    }
    return this._queue.push(this.resources[n]), this;
  }, t.pre = function(n) {
    return this._beforeMiddleware.push(n), this;
  }, t.use = function(n) {
    return this._afterMiddleware.push(n), this;
  }, t.reset = function() {
    this.progress = 0, this.loading = false, this._queue.kill(), this._queue.pause();
    for (var n in this.resources) {
      var i = this.resources[n];
      i._onLoadBinding && i._onLoadBinding.detach(), i.isLoading && i.abort();
    }
    return this.resources = {}, this;
  }, t.load = function(n) {
    if (typeof n == "function" && this.onComplete.once(n), this.loading)
      return this;
    if (this._queue.idle())
      this._onStart(), this._onComplete();
    else {
      for (var i = this._queue._tasks.length, o = lw / i, a = 0; a < this._queue._tasks.length; ++a)
        this._queue._tasks[a].data.progressChunk = o;
      this._onStart(), this._queue.resume();
    }
    return this;
  }, t._prepareUrl = function(n) {
    var i = JG(n, {
      strictMode: true
    }), o;
    if (i.protocol || !i.path || n.indexOf("//") === 0 ? o = n : this.baseUrl.length && this.baseUrl.lastIndexOf("/") !== this.baseUrl.length - 1 && n.charAt(0) !== "/" ? o = this.baseUrl + "/" + n : o = this.baseUrl + n, this.defaultQueryString) {
      var a = nte.exec(o)[0];
      o = o.substr(0, o.length - a.length), o.indexOf("?") !== -1 ? o += "&" + this.defaultQueryString : o += "?" + this.defaultQueryString, o += a;
    }
    return o;
  }, t._loadResource = function(n, i) {
    var o = this;
    n._dequeue = i, N5(this._beforeMiddleware, function(a, s) {
      a.call(o, n, function() {
        s(n.isComplete ? {} : null);
      });
    }, function() {
      n.isComplete ? o._onLoad(n) : (n._onLoadBinding = n.onComplete.once(o._onLoad, o), n.load());
    }, true);
  }, t._onStart = function() {
    this.progress = 0, this.loading = true, this.onStart.dispatch(this);
  }, t._onComplete = function() {
    this.progress = lw, this.loading = false, this.onComplete.dispatch(this, this.resources);
  }, t._onLoad = function(n) {
    var i = this;
    n._onLoadBinding = null, this._resourcesParsing.push(n), n._dequeue(), N5(this._afterMiddleware, function(o, a) {
      o.call(i, n, a);
    }, function() {
      n.onAfterMiddleware.dispatch(n), i.progress = Math.min(lw, i.progress + n.progressChunk), i.onProgress.dispatch(i, n), n.error ? i.onError.dispatch(n.error, i, n) : i.onLoad.dispatch(i, n), i._resourcesParsing.splice(i._resourcesParsing.indexOf(n), 1), i._queue.idle() && i._resourcesParsing.length === 0 && i._onComplete();
    }, true);
  }, e6(e13, [{
    key: "concurrency",
    get: function() {
      return this._queue.concurrency;
    },
    set: function(n) {
      this._queue.concurrency = n;
    }
  }]), e13;
}();
As._defaultBeforeMiddleware = [];
As._defaultAfterMiddleware = [];
As.pre = function(t) {
  return As._defaultBeforeMiddleware.push(t), As;
};
As.use = function(t) {
  return As._defaultAfterMiddleware.push(t), As;
};
var Xm = Tt;
var mI = function(e13, t) {
  return mI = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
    r.__proto__ = n;
  } || function(r, n) {
    for (var i in n)
      n.hasOwnProperty(i) && (r[i] = n[i]);
  }, mI(e13, t);
};
function ite(e13, t) {
  mI(e13, t);
  function r() {
    this.constructor = e13;
  }
  e13.prototype = t === null ? Object.create(t) : (r.prototype = t.prototype, new r());
}
var t6 = (
  /** @class */
  function() {
    function e13() {
    }
    return e13.use = function(t, r) {
      t.data && t.type === Tt.TYPE.IMAGE && (t.texture = Pt.fromLoader(t.data, t.url, t.name)), r();
    }, e13;
  }()
);
var cu = (
  /** @class */
  function(e13) {
    ite(t, e13);
    function t(r, n) {
      for (var i = e13.call(this, r, n) || this, o = 0; o < t._plugins.length; ++o) {
        var a = t._plugins[o], s = a.pre, l = a.use;
        s && i.pre(s), l && i.use(l);
      }
      return i._protected = false, i;
    }
    return t.prototype.destroy = function() {
      this._protected || this.reset();
    }, Object.defineProperty(t, "shared", {
      /**
       * A premade instance of the loader that can be used to load resources.
       * @name shared
       * @type {PIXI.Loader}
       * @static
       * @memberof PIXI.Loader
       */
      get: function() {
        var r = t._shared;
        return r || (r = new t(), r._protected = true, t._shared = r), r;
      },
      enumerable: false,
      configurable: true
    }), t.registerPlugin = function(r) {
      return t._plugins.push(r), r.add && r.add(), t;
    }, t._plugins = [], t;
  }(As)
);
cu.registerPlugin({ use: rte.parsing });
cu.registerPlugin(t6);
var r6 = (
  /** @class */
  function() {
    function e13() {
    }
    return e13.init = function(t) {
      t = Object.assign({
        sharedLoader: false
      }, t), this.loader = t.sharedLoader ? cu.shared : new cu();
    }, e13.destroy = function() {
      this.loader && (this.loader.destroy(), this.loader = null);
    }, e13;
  }()
);
var gI = function(e13, t) {
  return gI = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
    r.__proto__ = n;
  } || function(r, n) {
    for (var i in n)
      n.hasOwnProperty(i) && (r[i] = n[i]);
  }, gI(e13, t);
};
function n6(e13, t) {
  gI(e13, t);
  function r() {
    this.constructor = e13;
  }
  e13.prototype = t === null ? Object.create(t) : (r.prototype = t.prototype, new r());
}
var ote = (
  /** @class */
  function(e13) {
    n6(t, e13);
    function t(r, n, i, o) {
      r === void 0 && (r = 1500), i === void 0 && (i = 16384), o === void 0 && (o = false);
      var a = e13.call(this) || this, s = 16384;
      return i > s && (i = s), a._properties = [false, true, false, false, false], a._maxSize = r, a._batchSize = i, a._buffers = null, a._bufferUpdateIDs = [], a._updateID = 0, a.interactiveChildren = false, a.blendMode = _t.NORMAL, a.autoResize = o, a.roundPixels = true, a.baseTexture = null, a.setProperties(n), a._tint = 0, a.tintRgb = new Float32Array(4), a.tint = 16777215, a;
    }
    return t.prototype.setProperties = function(r) {
      r && (this._properties[0] = "vertices" in r || "scale" in r ? !!r.vertices || !!r.scale : this._properties[0], this._properties[1] = "position" in r ? !!r.position : this._properties[1], this._properties[2] = "rotation" in r ? !!r.rotation : this._properties[2], this._properties[3] = "uvs" in r ? !!r.uvs : this._properties[3], this._properties[4] = "tint" in r || "alpha" in r ? !!r.tint || !!r.alpha : this._properties[4]);
    }, t.prototype.updateTransform = function() {
      this.displayObjectUpdateTransform();
    }, Object.defineProperty(t.prototype, "tint", {
      /**
       * The tint applied to the container. This is a hex value.
       * A value of 0xFFFFFF will remove any tint effect.
       ** IMPORTANT: This is a WebGL only feature and will be ignored by the canvas renderer.
       * @member {number}
       * @default 0xFFFFFF
       */
      get: function() {
        return this._tint;
      },
      set: function(r) {
        this._tint = r, au(r, this.tintRgb);
      },
      enumerable: false,
      configurable: true
    }), t.prototype.render = function(r) {
      var n = this;
      !this.visible || this.worldAlpha <= 0 || !this.children.length || !this.renderable || (this.baseTexture || (this.baseTexture = this.children[0]._texture.baseTexture, this.baseTexture.valid || this.baseTexture.once("update", function() {
        return n.onChildrenChange(0);
      })), r.batch.setObjectRenderer(r.plugins.particle), r.plugins.particle.render(this));
    }, t.prototype.onChildrenChange = function(r) {
      for (var n = Math.floor(r / this._batchSize); this._bufferUpdateIDs.length < n; )
        this._bufferUpdateIDs.push(0);
      this._bufferUpdateIDs[n] = ++this._updateID;
    }, t.prototype.dispose = function() {
      if (this._buffers) {
        for (var r = 0; r < this._buffers.length; ++r)
          this._buffers[r].destroy();
        this._buffers = null;
      }
    }, t.prototype.destroy = function(r) {
      e13.prototype.destroy.call(this, r), this.dispose(), this._properties = null, this._buffers = null, this._bufferUpdateIDs = null;
    }, t;
  }(Jo)
);
var F5 = (
  /** @class */
  function() {
    function e13(t, r, n) {
      this.geometry = new Xd(), this.indexBuffer = null, this.size = n, this.dynamicProperties = [], this.staticProperties = [];
      for (var i = 0; i < t.length; ++i) {
        var o = t[i];
        o = {
          attributeName: o.attributeName,
          size: o.size,
          uploadFunction: o.uploadFunction,
          type: o.type || on.FLOAT,
          offset: o.offset
        }, r[i] ? this.dynamicProperties.push(o) : this.staticProperties.push(o);
      }
      this.staticStride = 0, this.staticBuffer = null, this.staticData = null, this.staticDataUint32 = null, this.dynamicStride = 0, this.dynamicBuffer = null, this.dynamicData = null, this.dynamicDataUint32 = null, this._updateID = 0, this.initBuffers();
    }
    return e13.prototype.initBuffers = function() {
      var t = this.geometry, r = 0;
      this.indexBuffer = new wn(Y4(this.size), true, true), t.addIndex(this.indexBuffer), this.dynamicStride = 0;
      for (var n = 0; n < this.dynamicProperties.length; ++n) {
        var i = this.dynamicProperties[n];
        i.offset = r, r += i.size, this.dynamicStride += i.size;
      }
      var o = new ArrayBuffer(this.size * this.dynamicStride * 4 * 4);
      this.dynamicData = new Float32Array(o), this.dynamicDataUint32 = new Uint32Array(o), this.dynamicBuffer = new wn(this.dynamicData, false, false);
      var a = 0;
      this.staticStride = 0;
      for (var n = 0; n < this.staticProperties.length; ++n) {
        var i = this.staticProperties[n];
        i.offset = a, a += i.size, this.staticStride += i.size;
      }
      var s = new ArrayBuffer(this.size * this.staticStride * 4 * 4);
      this.staticData = new Float32Array(s), this.staticDataUint32 = new Uint32Array(s), this.staticBuffer = new wn(this.staticData, true, false);
      for (var n = 0; n < this.dynamicProperties.length; ++n) {
        var i = this.dynamicProperties[n];
        t.addAttribute(i.attributeName, this.dynamicBuffer, 0, i.type === on.UNSIGNED_BYTE, i.type, this.dynamicStride * 4, i.offset * 4);
      }
      for (var n = 0; n < this.staticProperties.length; ++n) {
        var i = this.staticProperties[n];
        t.addAttribute(i.attributeName, this.staticBuffer, 0, i.type === on.UNSIGNED_BYTE, i.type, this.staticStride * 4, i.offset * 4);
      }
    }, e13.prototype.uploadDynamic = function(t, r, n) {
      for (var i = 0; i < this.dynamicProperties.length; i++) {
        var o = this.dynamicProperties[i];
        o.uploadFunction(t, r, n, o.type === on.UNSIGNED_BYTE ? this.dynamicDataUint32 : this.dynamicData, this.dynamicStride, o.offset);
      }
      this.dynamicBuffer._updateID++;
    }, e13.prototype.uploadStatic = function(t, r, n) {
      for (var i = 0; i < this.staticProperties.length; i++) {
        var o = this.staticProperties[i];
        o.uploadFunction(t, r, n, o.type === on.UNSIGNED_BYTE ? this.staticDataUint32 : this.staticData, this.staticStride, o.offset);
      }
      this.staticBuffer._updateID++;
    }, e13.prototype.destroy = function() {
      this.indexBuffer = null, this.dynamicProperties = null, this.dynamicBuffer = null, this.dynamicData = null, this.dynamicDataUint32 = null, this.staticProperties = null, this.staticBuffer = null, this.staticData = null, this.staticDataUint32 = null, this.geometry.destroy();
    }, e13;
  }()
);
var ate = `varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`;
var ste = `attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;
var i6 = (
  /** @class */
  function(e13) {
    n6(t, e13);
    function t(r) {
      var n = e13.call(this, r) || this;
      return n.shader = null, n.properties = null, n.tempMatrix = new sn(), n.properties = [
        // verticesData
        {
          attributeName: "aVertexPosition",
          size: 2,
          uploadFunction: n.uploadVertices,
          offset: 0
        },
        // positionData
        {
          attributeName: "aPositionCoord",
          size: 2,
          uploadFunction: n.uploadPosition,
          offset: 0
        },
        // rotationData
        {
          attributeName: "aRotation",
          size: 1,
          uploadFunction: n.uploadRotation,
          offset: 0
        },
        // uvsData
        {
          attributeName: "aTextureCoord",
          size: 2,
          uploadFunction: n.uploadUvs,
          offset: 0
        },
        // tintData
        {
          attributeName: "aColor",
          size: 1,
          type: on.UNSIGNED_BYTE,
          uploadFunction: n.uploadTint,
          offset: 0
        }
      ], n.shader = Xl.from(ste, ate, {}), n.state = Kl.for2d(), n;
    }
    return t.prototype.render = function(r) {
      var n = r.children, i = r._maxSize, o = r._batchSize, a = this.renderer, s = n.length;
      if (s !== 0) {
        s > i && !r.autoResize && (s = i);
        var l = r._buffers;
        l || (l = r._buffers = this.generateBuffers(r));
        var u = n[0]._texture.baseTexture;
        this.state.blendMode = uD(r.blendMode, u.alphaMode), a.state.set(this.state);
        var c = a.gl, f = r.worldTransform.copyTo(this.tempMatrix);
        f.prepend(a.globalUniforms.uniforms.projectionMatrix), this.shader.uniforms.translationMatrix = f.toArray(true), this.shader.uniforms.uColor = W4(r.tintRgb, r.worldAlpha, this.shader.uniforms.uColor, u.alphaMode), this.shader.uniforms.uSampler = u, this.renderer.shader.bind(this.shader);
        for (var h = false, d = 0, p = 0; d < s; d += o, p += 1) {
          var m = s - d;
          m > o && (m = o), p >= l.length && l.push(this._generateOneMoreBuffer(r));
          var g = l[p];
          g.uploadDynamic(n, d, m);
          var v = r._bufferUpdateIDs[p] || 0;
          h = h || g._updateID < v, h && (g._updateID = r._updateID, g.uploadStatic(n, d, m)), a.geometry.bind(g.geometry), c.drawElements(c.TRIANGLES, m * 6, c.UNSIGNED_SHORT, 0);
        }
      }
    }, t.prototype.generateBuffers = function(r) {
      for (var n = [], i = r._maxSize, o = r._batchSize, a = r._properties, s = 0; s < i; s += o)
        n.push(new F5(this.properties, a, o));
      return n;
    }, t.prototype._generateOneMoreBuffer = function(r) {
      var n = r._batchSize, i = r._properties;
      return new F5(this.properties, i, n);
    }, t.prototype.uploadVertices = function(r, n, i, o, a, s) {
      for (var l = 0, u = 0, c = 0, f = 0, h = 0; h < i; ++h) {
        var d = r[n + h], p = d._texture, m = d.scale.x, g = d.scale.y, v = p.trim, b = p.orig;
        v ? (u = v.x - d.anchor.x * b.width, l = u + v.width, f = v.y - d.anchor.y * b.height, c = f + v.height) : (l = b.width * (1 - d.anchor.x), u = b.width * -d.anchor.x, c = b.height * (1 - d.anchor.y), f = b.height * -d.anchor.y), o[s] = u * m, o[s + 1] = f * g, o[s + a] = l * m, o[s + a + 1] = f * g, o[s + a * 2] = l * m, o[s + a * 2 + 1] = c * g, o[s + a * 3] = u * m, o[s + a * 3 + 1] = c * g, s += a * 4;
      }
    }, t.prototype.uploadPosition = function(r, n, i, o, a, s) {
      for (var l = 0; l < i; l++) {
        var u = r[n + l].position;
        o[s] = u.x, o[s + 1] = u.y, o[s + a] = u.x, o[s + a + 1] = u.y, o[s + a * 2] = u.x, o[s + a * 2 + 1] = u.y, o[s + a * 3] = u.x, o[s + a * 3 + 1] = u.y, s += a * 4;
      }
    }, t.prototype.uploadRotation = function(r, n, i, o, a, s) {
      for (var l = 0; l < i; l++) {
        var u = r[n + l].rotation;
        o[s] = u, o[s + a] = u, o[s + a * 2] = u, o[s + a * 3] = u, s += a * 4;
      }
    }, t.prototype.uploadUvs = function(r, n, i, o, a, s) {
      for (var l = 0; l < i; ++l) {
        var u = r[n + l]._texture._uvs;
        u ? (o[s] = u.x0, o[s + 1] = u.y0, o[s + a] = u.x1, o[s + a + 1] = u.y1, o[s + a * 2] = u.x2, o[s + a * 2 + 1] = u.y2, o[s + a * 3] = u.x3, o[s + a * 3 + 1] = u.y3, s += a * 4) : (o[s] = 0, o[s + 1] = 0, o[s + a] = 0, o[s + a + 1] = 0, o[s + a * 2] = 0, o[s + a * 2 + 1] = 0, o[s + a * 3] = 0, o[s + a * 3 + 1] = 0, s += a * 4);
      }
    }, t.prototype.uploadTint = function(r, n, i, o, a, s) {
      for (var l = 0; l < i; ++l) {
        var u = r[n + l], c = u._texture.baseTexture.alphaMode > 0, f = u.alpha, h = f < 1 && c ? xE(u._tintRGB, f) : u._tintRGB + (f * 255 << 24);
        o[s] = h, o[s + a] = h, o[s + a * 2] = h, o[s + a * 3] = h, s += a * 4;
      }
    }, t.prototype.destroy = function() {
      e13.prototype.destroy.call(this), this.shader && (this.shader.destroy(), this.shader = null), this.tempMatrix = null;
    }, t;
  }(wv)
);
var ds;
(function(e13) {
  e13.MITER = "miter", e13.BEVEL = "bevel", e13.ROUND = "round";
})(ds || (ds = {}));
var ps;
(function(e13) {
  e13.BUTT = "butt", e13.ROUND = "round", e13.SQUARE = "square";
})(ps || (ps = {}));
var Kf = {
  adaptive: true,
  maxLength: 10,
  minSegments: 8,
  maxSegments: 2048,
  epsilon: 1e-4,
  _segmentsCount: function(e13, t) {
    if (t === void 0 && (t = 20), !this.adaptive || !e13 || isNaN(e13))
      return t;
    var r = Math.ceil(e13 / this.maxLength);
    return r < this.minSegments ? r = this.minSegments : r > this.maxSegments && (r = this.maxSegments), r;
  }
};
var SD = (
  /** @class */
  function() {
    function e13() {
      this.color = 16777215, this.alpha = 1, this.texture = Pt.WHITE, this.matrix = null, this.visible = false, this.reset();
    }
    return e13.prototype.clone = function() {
      var t = new e13();
      return t.color = this.color, t.alpha = this.alpha, t.texture = this.texture, t.matrix = this.matrix, t.visible = this.visible, t;
    }, e13.prototype.reset = function() {
      this.color = 16777215, this.alpha = 1, this.texture = Pt.WHITE, this.matrix = null, this.visible = false;
    }, e13.prototype.destroy = function() {
      this.texture = null, this.matrix = null;
    }, e13;
  }()
);
var vI = function(e13, t) {
  return vI = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
    r.__proto__ = n;
  } || function(r, n) {
    for (var i in n)
      n.hasOwnProperty(i) && (r[i] = n[i]);
  }, vI(e13, t);
};
function NE(e13, t) {
  vI(e13, t);
  function r() {
    this.constructor = e13;
  }
  e13.prototype = t === null ? Object.create(t) : (r.prototype = t.prototype, new r());
}
var wD = {
  build: function(e13) {
    e13.points = e13.shape.points.slice();
  },
  triangulate: function(e13, t) {
    var r = e13.points, n = e13.holes, i = t.points, o = t.indices;
    if (r.length >= 6) {
      for (var a = [], s = 0; s < n.length; s++) {
        var l = n[s];
        a.push(r.length / 2), r = r.concat(l.points);
      }
      var u = htr(r, a, 2);
      if (!u)
        return;
      for (var c = i.length / 2, s = 0; s < u.length; s += 3)
        o.push(u[s] + c), o.push(u[s + 1] + c), o.push(u[s + 2] + c);
      for (var s = 0; s < r.length; s++)
        i.push(r[s]);
    }
  }
};
var yI = {
  build: function(e13) {
    var t = e13.shape, r = e13.points, n = t.x, i = t.y, o, a;
    if (r.length = 0, e13.type === Wr.CIRC)
      o = t.radius, a = t.radius;
    else {
      var s = e13.shape;
      o = s.width, a = s.height;
    }
    if (!(o === 0 || a === 0)) {
      var l = Math.floor(30 * Math.sqrt(t.radius)) || Math.floor(15 * Math.sqrt(o + a));
      l /= 2.3;
      for (var u = Math.PI * 2 / l, c = 0; c < l - 0.5; c++)
        r.push(n + Math.sin(-u * c) * o, i + Math.cos(-u * c) * a);
      r.push(r[0], r[1]);
    }
  },
  triangulate: function(e13, t) {
    var r = e13.points, n = t.points, i = t.indices, o = n.length / 2, a = o, s = e13.shape, l = e13.matrix, u = s.x, c = s.y;
    n.push(e13.matrix ? l.a * u + l.c * c + l.tx : u, e13.matrix ? l.b * u + l.d * c + l.ty : c);
    for (var f = 0; f < r.length; f += 2)
      n.push(r[f], r[f + 1]), i.push(o++, a, o);
  }
};
var o6 = {
  build: function(e13) {
    var t = e13.shape, r = t.x, n = t.y, i = t.width, o = t.height, a = e13.points;
    a.length = 0, a.push(r, n, r + i, n, r + i, n + o, r, n + o);
  },
  triangulate: function(e13, t) {
    var r = e13.points, n = t.points, i = n.length / 2;
    n.push(r[0], r[1], r[2], r[3], r[6], r[7], r[4], r[5]), t.indices.push(i, i + 1, i + 2, i + 1, i + 2, i + 3);
  }
};
function gh(e13, t, r) {
  var n = t - e13;
  return e13 + n * r;
}
function jy(e13, t, r, n, i, o, a) {
  a === void 0 && (a = []);
  for (var s = 20, l = a, u = 0, c = 0, f = 0, h = 0, d = 0, p = 0, m = 0, g = 0; m <= s; ++m)
    g = m / s, u = gh(e13, r, g), c = gh(t, n, g), f = gh(r, i, g), h = gh(n, o, g), d = gh(u, f, g), p = gh(c, h, g), l.push(d, p);
  return l;
}
var a6 = {
  build: function(e13) {
    var t = e13.shape, r = e13.points, n = t.x, i = t.y, o = t.width, a = t.height, s = Math.max(0, Math.min(t.radius, Math.min(o, a) / 2));
    r.length = 0, s ? (jy(n, i + s, n, i, n + s, i, r), jy(n + o - s, i, n + o, i, n + o, i + s, r), jy(n + o, i + a - s, n + o, i + a, n + o - s, i + a, r), jy(n + s, i + a, n, i + a, n, i + a - s, r)) : r.push(n, i, n + o, i, n + o, i + a, n, i + a);
  },
  triangulate: function(e13, t) {
    for (var r = e13.points, n = t.points, i = t.indices, o = n.length / 2, a = htr(r, null, 2), s = 0, l = a.length; s < l; s += 3)
      i.push(a[s] + o), i.push(a[s + 1] + o), i.push(a[s + 2] + o);
    for (var s = 0, l = r.length; s < l; s++)
      n.push(r[s], r[++s]);
  }
};
function $5(e13, t, r, n, i, o, a, s) {
  var l = e13 - r * i, u = t - n * i, c = e13 + r * o, f = t + n * o, h, d;
  a ? (h = n, d = -r) : (h = -n, d = r);
  var p = l + h, m = u + d, g = c + h, v = f + d;
  return s.push(p, m), s.push(g, v), 2;
}
function vh(e13, t, r, n, i, o, a, s) {
  var l = r - e13, u = n - t, c = Math.atan2(l, u), f = Math.atan2(i - e13, o - t);
  s && c < f ? c += Math.PI * 2 : !s && c > f && (f += Math.PI * 2);
  var h = c, d = f - c, p = Math.abs(d), m = Math.sqrt(l * l + u * u), g = (15 * p * Math.sqrt(m) / Math.PI >> 0) + 1, v = d / g;
  if (h += v, s) {
    a.push(e13, t), a.push(r, n);
    for (var b = 1, y = h; b < g; b++, y += v)
      a.push(e13, t), a.push(e13 + Math.sin(y) * m, t + Math.cos(y) * m);
    a.push(e13, t), a.push(i, o);
  } else {
    a.push(r, n), a.push(e13, t);
    for (var b = 1, y = h; b < g; b++, y += v)
      a.push(e13 + Math.sin(y) * m, t + Math.cos(y) * m), a.push(e13, t);
    a.push(i, o), a.push(e13, t);
  }
  return g * 2;
}
function lte(e13, t) {
  var r = e13.shape, n = e13.points || r.points.slice(), i = t.closePointEps;
  if (n.length !== 0) {
    var o = e13.lineStyle, a = new On(n[0], n[1]), s = new On(n[n.length - 2], n[n.length - 1]), l = r.type !== Wr.POLY || r.closeStroke, u = Math.abs(a.x - s.x) < i && Math.abs(a.y - s.y) < i;
    if (l) {
      n = n.slice(), u && (n.pop(), n.pop(), s.set(n[n.length - 2], n[n.length - 1]));
      var c = (a.x + s.x) * 0.5, f = (s.y + a.y) * 0.5;
      n.unshift(c, f), n.push(c, f);
    }
    var h = t.points, d = n.length / 2, p = n.length, m = h.length / 2, g = o.width / 2, v = g * g, b = o.miterLimit * o.miterLimit, y = n[0], _ = n[1], T = n[2], E = n[3], O = 0, S = 0, P = -(_ - E), C = y - T, w = 0, N = 0, L = Math.sqrt(P * P + C * C);
    P /= L, C /= L, P *= g, C *= g;
    var A = o.alignment, R = (1 - A) * 2, F = A * 2;
    l || (o.cap === ps.ROUND ? p += vh(y - P * (R - F) * 0.5, _ - C * (R - F) * 0.5, y - P * R, _ - C * R, y + P * F, _ + C * F, h, true) + 2 : o.cap === ps.SQUARE && (p += $5(y, _, P, C, R, F, true, h))), h.push(y - P * R, _ - C * R), h.push(y + P * F, _ + C * F);
    for (var $ = 1; $ < d - 1; ++$) {
      y = n[($ - 1) * 2], _ = n[($ - 1) * 2 + 1], T = n[$ * 2], E = n[$ * 2 + 1], O = n[($ + 1) * 2], S = n[($ + 1) * 2 + 1], P = -(_ - E), C = y - T, L = Math.sqrt(P * P + C * C), P /= L, C /= L, P *= g, C *= g, w = -(E - S), N = T - O, L = Math.sqrt(w * w + N * N), w /= L, N /= L, w *= g, N *= g;
      var K = T - y, ie = _ - E, J = T - O, pe = S - E, oe = ie * J - pe * K, q = oe < 0;
      if (Math.abs(oe) < 0.1) {
        h.push(T - P * R, E - C * R), h.push(T + P * F, E + C * F);
        continue;
      }
      var W = (-P + y) * (-C + E) - (-P + T) * (-C + _), se = (-w + O) * (-N + E) - (-w + T) * (-N + S), Te = (K * se - J * W) / oe, Ae = (pe * W - ie * se) / oe, Re = (Te - T) * (Te - T) + (Ae - E) * (Ae - E), Ee = T + (Te - T) * R, Me = E + (Ae - E) * R, Ne = T - (Te - T) * F, Oe = E - (Ae - E) * F, Fe = Math.min(K * K + ie * ie, J * J + pe * pe), Ue = q ? R : F, et = Fe + Ue * Ue * v, ot = Re <= et;
      ot ? o.join === ds.BEVEL || Re / v > b ? (q ? (h.push(Ee, Me), h.push(T + P * F, E + C * F), h.push(Ee, Me), h.push(T + w * F, E + N * F)) : (h.push(T - P * R, E - C * R), h.push(Ne, Oe), h.push(T - w * R, E - N * R), h.push(Ne, Oe)), p += 2) : o.join === ds.ROUND ? q ? (h.push(Ee, Me), h.push(T + P * F, E + C * F), p += vh(T, E, T + P * F, E + C * F, T + w * F, E + N * F, h, true) + 4, h.push(Ee, Me), h.push(T + w * F, E + N * F)) : (h.push(T - P * R, E - C * R), h.push(Ne, Oe), p += vh(T, E, T - P * R, E - C * R, T - w * R, E - N * R, h, false) + 4, h.push(T - w * R, E - N * R), h.push(Ne, Oe)) : (h.push(Ee, Me), h.push(Ne, Oe)) : (h.push(T - P * R, E - C * R), h.push(T + P * F, E + C * F), o.join === ds.BEVEL || Re / v > b || (o.join === ds.ROUND ? q ? p += vh(T, E, T + P * F, E + C * F, T + w * F, E + N * F, h, true) + 2 : p += vh(T, E, T - P * R, E - C * R, T - w * R, E - N * R, h, false) + 2 : (q ? (h.push(Ne, Oe), h.push(Ne, Oe)) : (h.push(Ee, Me), h.push(Ee, Me)), p += 2)), h.push(T - w * R, E - N * R), h.push(T + w * F, E + N * F), p += 2);
    }
    y = n[(d - 2) * 2], _ = n[(d - 2) * 2 + 1], T = n[(d - 1) * 2], E = n[(d - 1) * 2 + 1], P = -(_ - E), C = y - T, L = Math.sqrt(P * P + C * C), P /= L, C /= L, P *= g, C *= g, h.push(T - P * R, E - C * R), h.push(T + P * F, E + C * F), l || (o.cap === ps.ROUND ? p += vh(T - P * (R - F) * 0.5, E - C * (R - F) * 0.5, T - P * R, E - C * R, T + P * F, E + C * F, h, false) + 2 : o.cap === ps.SQUARE && (p += $5(T, E, P, C, R, F, false, h)));
    for (var Ke = t.indices, ht = Kf.epsilon * Kf.epsilon, $ = m; $ < p + m - 2; ++$)
      y = h[$ * 2], _ = h[$ * 2 + 1], T = h[($ + 1) * 2], E = h[($ + 1) * 2 + 1], O = h[($ + 2) * 2], S = h[($ + 2) * 2 + 1], !(Math.abs(y * (E - S) + T * (S - _) + O * (_ - E)) < ht) && Ke.push($, $ + 1, $ + 2);
  }
}
function cte(e13, t) {
  var r = 0, n = e13.shape, i = e13.points || n.points, o = n.type !== Wr.POLY || n.closeStroke;
  if (i.length !== 0) {
    var a = t.points, s = t.indices, l = i.length / 2, u = a.length / 2, c = u;
    for (a.push(i[0], i[1]), r = 1; r < l; r++)
      a.push(i[r * 2], i[r * 2 + 1]), s.push(c, c + 1), c++;
    o && s.push(c, u);
  }
}
function _I(e13, t) {
  e13.lineStyle.native ? cte(e13, t) : lte(e13, t);
}
var s6 = (
  /** @class */
  function(e13) {
    NE(t, e13);
    function t(r, n, i, o, a, s) {
      s === void 0 && (s = 0);
      var l = this;
      a = a || o / 2;
      for (var u = -1 * Math.PI / 2 + s, c = i * 2, f = Yf / c, h = [], d = 0; d < c; d++) {
        var p = d % 2 ? a : o, m = d * f + u;
        h.push(r + p * Math.cos(m), n + p * Math.sin(m));
      }
      return l = e13.call(this, h) || this, l;
    }
    return t;
  }(_f)
);
var bI = (
  /** @class */
  function() {
    function e13() {
    }
    return e13.curveTo = function(t, r, n, i, o, a) {
      var s = a[a.length - 2], l = a[a.length - 1], u = l - r, c = s - t, f = i - r, h = n - t, d = Math.abs(u * h - c * f);
      if (d < 1e-8 || o === 0)
        return (a[a.length - 2] !== t || a[a.length - 1] !== r) && a.push(t, r), null;
      var p = u * u + c * c, m = f * f + h * h, g = u * f + c * h, v = o * Math.sqrt(p) / d, b = o * Math.sqrt(m) / d, y = v * g / p, _ = b * g / m, T = v * h + b * c, E = v * f + b * u, O = c * (b + y), S = u * (b + y), P = h * (v + _), C = f * (v + _), w = Math.atan2(S - E, O - T), N = Math.atan2(C - E, P - T);
      return {
        cx: T + t,
        cy: E + r,
        radius: o,
        startAngle: w,
        endAngle: N,
        anticlockwise: c * f > h * u
      };
    }, e13.arc = function(t, r, n, i, o, a, s, l, u) {
      for (var c = s - a, f = Kf._segmentsCount(Math.abs(c) * o, Math.ceil(Math.abs(c) / Yf) * 40), h = c / (f * 2), d = h * 2, p = Math.cos(h), m = Math.sin(h), g = f - 1, v = g % 1 / g, b = 0; b <= g; ++b) {
        var y = b + v * b, _ = h + a + d * y, T = Math.cos(_), E = -Math.sin(_);
        u.push((p * T + m * E) * o + n, (p * -E + m * T) * o + i);
      }
    }, e13;
  }()
);
var l6 = (
  /** @class */
  function() {
    function e13() {
    }
    return e13.curveLength = function(t, r, n, i, o, a, s, l) {
      for (var u = 10, c = 0, f = 0, h = 0, d = 0, p = 0, m = 0, g = 0, v = 0, b = 0, y = 0, _ = 0, T = t, E = r, O = 1; O <= u; ++O)
        f = O / u, h = f * f, d = h * f, p = 1 - f, m = p * p, g = m * p, v = g * t + 3 * m * f * n + 3 * p * h * o + d * s, b = g * r + 3 * m * f * i + 3 * p * h * a + d * l, y = T - v, _ = E - b, T = v, E = b, c += Math.sqrt(y * y + _ * _);
      return c;
    }, e13.curveTo = function(t, r, n, i, o, a, s) {
      var l = s[s.length - 2], u = s[s.length - 1];
      s.length -= 2;
      var c = Kf._segmentsCount(e13.curveLength(l, u, t, r, n, i, o, a)), f = 0, h = 0, d = 0, p = 0, m = 0;
      s.push(l, u);
      for (var g = 1, v = 0; g <= c; ++g)
        v = g / c, f = 1 - v, h = f * f, d = h * f, p = v * v, m = p * v, s.push(d * l + 3 * h * v * t + 3 * f * p * n + m * o, d * u + 3 * h * v * r + 3 * f * p * i + m * a);
    }, e13;
  }()
);
var c6 = (
  /** @class */
  function() {
    function e13() {
    }
    return e13.curveLength = function(t, r, n, i, o, a) {
      var s = t - 2 * n + o, l = r - 2 * i + a, u = 2 * n - 2 * t, c = 2 * i - 2 * r, f = 4 * (s * s + l * l), h = 4 * (s * u + l * c), d = u * u + c * c, p = 2 * Math.sqrt(f + h + d), m = Math.sqrt(f), g = 2 * f * m, v = 2 * Math.sqrt(d), b = h / m;
      return (g * p + m * h * (p - v) + (4 * d * f - h * h) * Math.log((2 * m + b + p) / (b + v))) / (4 * g);
    }, e13.curveTo = function(t, r, n, i, o) {
      for (var a = o[o.length - 2], s = o[o.length - 1], l = Kf._segmentsCount(e13.curveLength(a, s, t, r, n, i)), u = 0, c = 0, f = 1; f <= l; ++f) {
        var h = f / l;
        u = a + (t - a) * h, c = s + (r - s) * h, o.push(u + (t + (n - t) * h - u) * h, c + (r + (i - r) * h - c) * h);
      }
    }, e13;
  }()
);
var u6 = (
  /** @class */
  function() {
    function e13() {
      this.reset();
    }
    return e13.prototype.begin = function(t, r, n) {
      this.reset(), this.style = t, this.start = r, this.attribStart = n;
    }, e13.prototype.end = function(t, r) {
      this.attribSize = r - this.attribStart, this.size = t - this.start;
    }, e13.prototype.reset = function() {
      this.style = null, this.size = 0, this.start = 0, this.attribStart = 0, this.attribSize = 0;
    }, e13;
  }()
);
var yc;
var W_ = (yc = {}, yc[Wr.POLY] = wD, yc[Wr.CIRC] = yI, yc[Wr.ELIP] = yI, yc[Wr.RECT] = o6, yc[Wr.RREC] = a6, yc);
var TI = [];
var mm = [];
var ute = {
  buildPoly: wD,
  buildCircle: yI,
  buildRectangle: o6,
  buildRoundedRectangle: a6,
  FILL_COMMANDS: W_,
  BATCH_POOL: TI,
  DRAW_CALL_POOL: mm,
  buildLine: _I,
  Star: s6,
  ArcUtils: bI,
  BezierUtils: l6,
  QuadraticUtils: c6,
  BatchPart: u6
};
var EI = (
  /** @class */
  function() {
    function e13(t, r, n, i) {
      r === void 0 && (r = null), n === void 0 && (n = null), i === void 0 && (i = null), this.shape = t, this.lineStyle = n, this.fillStyle = r, this.matrix = i, this.type = t.type, this.points = [], this.holes = [];
    }
    return e13.prototype.clone = function() {
      return new e13(this.shape, this.fillStyle, this.lineStyle, this.matrix);
    }, e13.prototype.destroy = function() {
      this.shape = null, this.holes.length = 0, this.holes = null, this.points.length = 0, this.points = null, this.lineStyle = null, this.fillStyle = null;
    }, e13;
  }()
);
var yh = new On();
var hte = new Ug();
var h6 = (
  /** @class */
  function(e13) {
    NE(t, e13);
    function t() {
      var r = e13.call(this) || this;
      return r.uvsFloat32 = null, r.indicesUint16 = null, r.points = [], r.colors = [], r.uvs = [], r.indices = [], r.textureIds = [], r.graphicsData = [], r.dirty = 0, r.batchDirty = -1, r.cacheDirty = -1, r.clearDirty = 0, r.drawCalls = [], r.batches = [], r.shapeIndex = 0, r._bounds = new Ug(), r.boundsDirty = -1, r.boundsPadding = 0, r.batchable = false, r.indicesUint16 = null, r.uvsFloat32 = null, r.closePointEps = 1e-4, r;
    }
    return Object.defineProperty(t.prototype, "bounds", {
      /**
       * Get the current bounds of the graphic geometry.
       *
       * @member {PIXI.Bounds}
       * @readonly
       */
      get: function() {
        return this.boundsDirty !== this.dirty && (this.boundsDirty = this.dirty, this.calculateBounds()), this._bounds;
      },
      enumerable: false,
      configurable: true
    }), t.prototype.invalidate = function() {
      this.boundsDirty = -1, this.dirty++, this.batchDirty++, this.shapeIndex = 0, this.points.length = 0, this.colors.length = 0, this.uvs.length = 0, this.indices.length = 0, this.textureIds.length = 0;
      for (var r = 0; r < this.drawCalls.length; r++)
        this.drawCalls[r].texArray.clear(), mm.push(this.drawCalls[r]);
      this.drawCalls.length = 0;
      for (var r = 0; r < this.batches.length; r++) {
        var n = this.batches[r];
        n.reset(), TI.push(n);
      }
      this.batches.length = 0;
    }, t.prototype.clear = function() {
      return this.graphicsData.length > 0 && (this.invalidate(), this.clearDirty++, this.graphicsData.length = 0), this;
    }, t.prototype.drawShape = function(r, n, i, o) {
      n === void 0 && (n = null), i === void 0 && (i = null), o === void 0 && (o = null);
      var a = new EI(r, n, i, o);
      return this.graphicsData.push(a), this.dirty++, this;
    }, t.prototype.drawHole = function(r, n) {
      if (n === void 0 && (n = null), !this.graphicsData.length)
        return null;
      var i = new EI(r, null, null, n), o = this.graphicsData[this.graphicsData.length - 1];
      return i.lineStyle = o.lineStyle, o.holes.push(i), this.dirty++, this;
    }, t.prototype.destroy = function() {
      e13.prototype.destroy.call(this);
      for (var r = 0; r < this.graphicsData.length; ++r)
        this.graphicsData[r].destroy();
      this.points.length = 0, this.points = null, this.colors.length = 0, this.colors = null, this.uvs.length = 0, this.uvs = null, this.indices.length = 0, this.indices = null, this.indexBuffer.destroy(), this.indexBuffer = null, this.graphicsData.length = 0, this.graphicsData = null, this.drawCalls.length = 0, this.drawCalls = null, this.batches.length = 0, this.batches = null, this._bounds = null;
    }, t.prototype.containsPoint = function(r) {
      for (var n = this.graphicsData, i = 0; i < n.length; ++i) {
        var o = n[i];
        if (o.fillStyle.visible && o.shape && (o.matrix ? o.matrix.applyInverse(r, yh) : yh.copyFrom(r), o.shape.contains(yh.x, yh.y))) {
          var a = false;
          if (o.holes)
            for (var s = 0; s < o.holes.length; s++) {
              var l = o.holes[s];
              if (l.shape.contains(yh.x, yh.y)) {
                a = true;
                break;
              }
            }
          if (!a)
            return true;
        }
      }
      return false;
    }, t.prototype.updateBatches = function(r) {
      if (!this.graphicsData.length) {
        this.batchable = true;
        return;
      }
      if (this.validateBatching()) {
        this.cacheDirty = this.dirty;
        var n = this.uvs, i = this.graphicsData, o = null, a = null;
        this.batches.length > 0 && (o = this.batches[this.batches.length - 1], a = o.style);
        for (var s = this.shapeIndex; s < i.length; s++) {
          this.shapeIndex++;
          var l = i[s], u = l.fillStyle, c = l.lineStyle, f = W_[l.type];
          f.build(l), l.matrix && this.transformPoints(l.points, l.matrix);
          for (var h = 0; h < 2; h++) {
            var d = h === 0 ? u : c;
            if (d.visible) {
              var p = d.texture.baseTexture, m = this.indices.length, g = this.points.length / 2;
              p.wrapMode = ws.REPEAT, h === 0 ? this.processFill(l) : this.processLine(l);
              var v = this.points.length / 2 - g;
              v !== 0 && (o && !this._compareStyles(a, d) && (o.end(m, g), o = null), o || (o = TI.pop() || new u6(), o.begin(d, m, g), this.batches.push(o), a = d), this.addUvs(this.points, n, d.texture, g, v, d.matrix));
            }
          }
        }
        var b = this.indices.length, y = this.points.length / 2;
        if (o && o.end(b, y), this.batches.length === 0) {
          this.batchable = true;
          return;
        }
        if (this.indicesUint16 && this.indices.length === this.indicesUint16.length)
          this.indicesUint16.set(this.indices);
        else {
          var _ = y > 65535 && r;
          this.indicesUint16 = _ ? new Uint32Array(this.indices) : new Uint16Array(this.indices);
        }
        this.batchable = this.isBatchable(), this.batchable ? this.packBatches() : this.buildDrawCalls();
      }
    }, t.prototype._compareStyles = function(r, n) {
      return !(!r || !n || r.texture.baseTexture !== n.texture.baseTexture || r.color + r.alpha !== n.color + n.alpha || !!r.native != !!n.native);
    }, t.prototype.validateBatching = function() {
      if (this.dirty === this.cacheDirty || !this.graphicsData.length)
        return false;
      for (var r = 0, n = this.graphicsData.length; r < n; r++) {
        var i = this.graphicsData[r], o = i.fillStyle, a = i.lineStyle;
        if (o && !o.texture.baseTexture.valid || a && !a.texture.baseTexture.valid)
          return false;
      }
      return true;
    }, t.prototype.packBatches = function() {
      this.batchDirty++, this.uvsFloat32 = new Float32Array(this.uvs);
      for (var r = this.batches, n = 0, i = r.length; n < i; n++)
        for (var o = r[n], a = 0; a < o.size; a++) {
          var s = o.start + a;
          this.indicesUint16[s] = this.indicesUint16[s] - o.attribStart;
        }
    }, t.prototype.isBatchable = function() {
      if (this.points.length > 65535 * 2)
        return false;
      for (var r = this.batches, n = 0; n < r.length; n++)
        if (r[n].style.native)
          return false;
      return this.points.length < t.BATCHABLE_SIZE * 2;
    }, t.prototype.buildDrawCalls = function() {
      for (var r = ++Nr._globalBatch, n = 0; n < this.drawCalls.length; n++)
        this.drawCalls[n].texArray.clear(), mm.push(this.drawCalls[n]);
      this.drawCalls.length = 0;
      var i = this.colors, o = this.textureIds, a = mm.pop();
      a || (a = new Kb(), a.texArray = new Zb()), a.texArray.count = 0, a.start = 0, a.size = 0, a.type = To.TRIANGLES;
      var s = 0, l = null, u = 0, c = false, f = To.TRIANGLES, h = 0;
      this.drawCalls.push(a);
      for (var n = 0; n < this.batches.length; n++) {
        var d = this.batches[n], p = 8, m = d.style, g = m.texture.baseTexture;
        c !== !!m.native && (c = !!m.native, f = c ? To.LINES : To.TRIANGLES, l = null, s = p, r++), l !== g && (l = g, g._batchEnabled !== r && (s === p && (r++, s = 0, a.size > 0 && (a = mm.pop(), a || (a = new Kb(), a.texArray = new Zb()), this.drawCalls.push(a)), a.start = h, a.size = 0, a.texArray.count = 0, a.type = f), g.touched = 1, g._batchEnabled = r, g._batchLocation = s, g.wrapMode = 10497, a.texArray.elements[a.texArray.count++] = g, s++)), a.size += d.size, h += d.size, u = g._batchLocation, this.addColors(i, m.color, m.alpha, d.attribSize, d.attribStart), this.addTextureIds(o, u, d.attribSize, d.attribStart);
      }
      Nr._globalBatch = r, this.packAttributes();
    }, t.prototype.packAttributes = function() {
      for (var r = this.points, n = this.uvs, i = this.colors, o = this.textureIds, a = new ArrayBuffer(r.length * 3 * 4), s = new Float32Array(a), l = new Uint32Array(a), u = 0, c = 0; c < r.length / 2; c++)
        s[u++] = r[c * 2], s[u++] = r[c * 2 + 1], s[u++] = n[c * 2], s[u++] = n[c * 2 + 1], l[u++] = i[c], s[u++] = o[c];
      this._buffer.update(a), this._indexBuffer.update(this.indicesUint16);
    }, t.prototype.processFill = function(r) {
      if (r.holes.length)
        this.processHoles(r.holes), wD.triangulate(r, this);
      else {
        var n = W_[r.type];
        n.triangulate(r, this);
      }
    }, t.prototype.processLine = function(r) {
      _I(r, this);
      for (var n = 0; n < r.holes.length; n++)
        _I(r.holes[n], this);
    }, t.prototype.processHoles = function(r) {
      for (var n = 0; n < r.length; n++) {
        var i = r[n], o = W_[i.type];
        o.build(i), i.matrix && this.transformPoints(i.points, i.matrix);
      }
    }, t.prototype.calculateBounds = function() {
      var r = this._bounds, n = hte, i = sn.IDENTITY;
      this._bounds.clear(), n.clear();
      for (var o = 0; o < this.graphicsData.length; o++) {
        var a = this.graphicsData[o], s = a.shape, l = a.type, u = a.lineStyle, c = a.matrix || sn.IDENTITY, f = 0;
        if (u && u.visible) {
          var h = u.alignment;
          f = u.width, l === Wr.POLY ? f = f * (0.5 + Math.abs(0.5 - h)) : f = f * Math.max(0, h);
        }
        if (i !== c && (n.isEmpty() || (r.addBoundsMatrix(n, i), n.clear()), i = c), l === Wr.RECT || l === Wr.RREC) {
          var d = s;
          n.addFramePad(d.x, d.y, d.x + d.width, d.y + d.height, f, f);
        } else if (l === Wr.CIRC) {
          var p = s;
          n.addFramePad(p.x, p.y, p.x, p.y, p.radius + f, p.radius + f);
        } else if (l === Wr.ELIP) {
          var m = s;
          n.addFramePad(m.x, m.y, m.x, m.y, m.width + f, m.height + f);
        } else {
          var g = s;
          r.addVerticesMatrix(i, g.points, 0, g.points.length, f, f);
        }
      }
      n.isEmpty() || r.addBoundsMatrix(n, i), r.pad(this.boundsPadding, this.boundsPadding);
    }, t.prototype.transformPoints = function(r, n) {
      for (var i = 0; i < r.length / 2; i++) {
        var o = r[i * 2], a = r[i * 2 + 1];
        r[i * 2] = n.a * o + n.c * a + n.tx, r[i * 2 + 1] = n.b * o + n.d * a + n.ty;
      }
    }, t.prototype.addColors = function(r, n, i, o, a) {
      a === void 0 && (a = 0);
      var s = (n >> 16) + (n & 65280) + ((n & 255) << 16), l = xE(s, i);
      r.length = Math.max(r.length, a + o);
      for (var u = 0; u < o; u++)
        r[a + u] = l;
    }, t.prototype.addTextureIds = function(r, n, i, o) {
      o === void 0 && (o = 0), r.length = Math.max(r.length, o + i);
      for (var a = 0; a < i; a++)
        r[o + a] = n;
    }, t.prototype.addUvs = function(r, n, i, o, a, s) {
      s === void 0 && (s = null);
      for (var l = 0, u = n.length, c = i.frame; l < a; ) {
        var f = r[(o + l) * 2], h = r[(o + l) * 2 + 1];
        if (s) {
          var d = s.a * f + s.c * h + s.tx;
          h = s.b * f + s.d * h + s.ty, f = d;
        }
        l++, n.push(f / c.width, h / c.height);
      }
      var p = i.baseTexture;
      (c.width < p.width || c.height < p.height) && this.adjustUvs(n, i, u, a);
    }, t.prototype.adjustUvs = function(r, n, i, o) {
      for (var a = n.baseTexture, s = 1e-6, l = i + o * 2, u = n.frame, c = u.width / a.width, f = u.height / a.height, h = u.x / u.width, d = u.y / u.height, p = Math.floor(r[i] + s), m = Math.floor(r[i + 1] + s), g = i + 2; g < l; g += 2)
        p = Math.min(p, Math.floor(r[g] + s)), m = Math.min(m, Math.floor(r[g + 1] + s));
      h -= p, d -= m;
      for (var g = i; g < l; g += 2)
        r[g] = (r[g] + h) * c, r[g + 1] = (r[g + 1] + d) * f;
    }, t.BATCHABLE_SIZE = 100, t;
  }(ED)
);
var f6 = (
  /** @class */
  function(e13) {
    NE(t, e13);
    function t() {
      var r = e13 !== null && e13.apply(this, arguments) || this;
      return r.width = 0, r.alignment = 0.5, r.native = false, r.cap = ps.BUTT, r.join = ds.MITER, r.miterLimit = 10, r;
    }
    return t.prototype.clone = function() {
      var r = new t();
      return r.color = this.color, r.alpha = this.alpha, r.texture = this.texture, r.matrix = this.matrix, r.visible = this.visible, r.width = this.width, r.alignment = this.alignment, r.native = this.native, r.cap = this.cap, r.join = this.join, r.miterLimit = this.miterLimit, r;
    }, t.prototype.reset = function() {
      e13.prototype.reset.call(this), this.color = 0, this.alignment = 0.5, this.width = 0, this.native = false;
    }, t;
  }(SD)
);
var fte = new Float32Array(3);
var cw = {};
var AD = (
  /** @class */
  function(e13) {
    NE(t, e13);
    function t(r) {
      r === void 0 && (r = null);
      var n = e13.call(this) || this;
      return n._geometry = r || new h6(), n._geometry.refCount++, n.shader = null, n.state = Kl.for2d(), n._fillStyle = new SD(), n._lineStyle = new f6(), n._matrix = null, n._holeMode = false, n.currentPath = null, n.batches = [], n.batchTint = -1, n.batchDirty = -1, n.vertexData = null, n.pluginName = "batch", n._transformID = -1, n.tint = 16777215, n.blendMode = _t.NORMAL, n;
    }
    return Object.defineProperty(t.prototype, "geometry", {
      /**
       * Includes vertex positions, face indices, normals, colors, UVs, and
       * custom attributes within buffers, reducing the cost of passing all
       * this data to the GPU. Can be shared between multiple Mesh or Graphics objects.
       *
       * @member {PIXI.GraphicsGeometry}
       * @readonly
       */
      get: function() {
        return this._geometry;
      },
      enumerable: false,
      configurable: true
    }), t.prototype.clone = function() {
      return this.finishPoly(), new t(this._geometry);
    }, Object.defineProperty(t.prototype, "blendMode", {
      get: function() {
        return this.state.blendMode;
      },
      /**
       * The blend mode to be applied to the graphic shape. Apply a value of
       * `PIXI.BLEND_MODES.NORMAL` to reset the blend mode.
       *
       * @member {number}
       * @default PIXI.BLEND_MODES.NORMAL;
       * @see PIXI.BLEND_MODES
       */
      set: function(r) {
        this.state.blendMode = r;
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(t.prototype, "tint", {
      /**
       * The tint applied to the graphic shape. This is a hex value. A value of
       * 0xFFFFFF will remove any tint effect.
       *
       * @member {number}
       * @default 0xFFFFFF
       */
      get: function() {
        return this._tint;
      },
      set: function(r) {
        this._tint = r;
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(t.prototype, "fill", {
      /**
       * The current fill style.
       *
       * @member {PIXI.FillStyle}
       * @readonly
       */
      get: function() {
        return this._fillStyle;
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(t.prototype, "line", {
      /**
       * The current line style.
       *
       * @member {PIXI.LineStyle}
       * @readonly
       */
      get: function() {
        return this._lineStyle;
      },
      enumerable: false,
      configurable: true
    }), t.prototype.lineStyle = function(r) {
      if (r === void 0 && (r = null), typeof r == "number") {
        var n = arguments;
        r = {
          width: n[0] || 0,
          color: n[1] || 0,
          alpha: n[2] !== void 0 ? n[2] : 1,
          alignment: n[3] !== void 0 ? n[3] : 0.5,
          native: !!n[4]
        };
      }
      return this.lineTextureStyle(r);
    }, t.prototype.lineTextureStyle = function(r) {
      if (typeof r == "number") {
        ze("v5.2.0", "Please use object-based options for Graphics#lineTextureStyle");
        var n = arguments, i = n[0], o = n[1], a = n[2], s = n[3], l = n[4], u = n[5], c = n[6];
        r = { width: i, texture: o, color: a, alpha: s, matrix: l, alignment: u, native: c }, Object.keys(r).forEach(function(h) {
          return r[h] === void 0 && delete r[h];
        });
      }
      r = Object.assign({
        width: 0,
        texture: Pt.WHITE,
        color: r && r.texture ? 16777215 : 0,
        alpha: 1,
        matrix: null,
        alignment: 0.5,
        native: false,
        cap: ps.BUTT,
        join: ds.MITER,
        miterLimit: 10
      }, r), this.currentPath && this.startPoly();
      var f = r.width > 0 && r.alpha > 0;
      return f ? (r.matrix && (r.matrix = r.matrix.clone(), r.matrix.invert()), Object.assign(this._lineStyle, { visible: f }, r)) : this._lineStyle.reset(), this;
    }, t.prototype.startPoly = function() {
      if (this.currentPath) {
        var r = this.currentPath.points, n = this.currentPath.points.length;
        n > 2 && (this.drawShape(this.currentPath), this.currentPath = new _f(), this.currentPath.closeStroke = false, this.currentPath.points.push(r[n - 2], r[n - 1]));
      } else
        this.currentPath = new _f(), this.currentPath.closeStroke = false;
    }, t.prototype.finishPoly = function() {
      this.currentPath && (this.currentPath.points.length > 2 ? (this.drawShape(this.currentPath), this.currentPath = null) : this.currentPath.points.length = 0);
    }, t.prototype.moveTo = function(r, n) {
      return this.startPoly(), this.currentPath.points[0] = r, this.currentPath.points[1] = n, this;
    }, t.prototype.lineTo = function(r, n) {
      this.currentPath || this.moveTo(0, 0);
      var i = this.currentPath.points, o = i[i.length - 2], a = i[i.length - 1];
      return (o !== r || a !== n) && i.push(r, n), this;
    }, t.prototype._initCurve = function(r, n) {
      r === void 0 && (r = 0), n === void 0 && (n = 0), this.currentPath ? this.currentPath.points.length === 0 && (this.currentPath.points = [r, n]) : this.moveTo(r, n);
    }, t.prototype.quadraticCurveTo = function(r, n, i, o) {
      this._initCurve();
      var a = this.currentPath.points;
      return a.length === 0 && this.moveTo(0, 0), c6.curveTo(r, n, i, o, a), this;
    }, t.prototype.bezierCurveTo = function(r, n, i, o, a, s) {
      return this._initCurve(), l6.curveTo(r, n, i, o, a, s, this.currentPath.points), this;
    }, t.prototype.arcTo = function(r, n, i, o, a) {
      this._initCurve(r, n);
      var s = this.currentPath.points, l = bI.curveTo(r, n, i, o, a, s);
      if (l) {
        var u = l.cx, c = l.cy, f = l.radius, h = l.startAngle, d = l.endAngle, p = l.anticlockwise;
        this.arc(u, c, f, h, d, p);
      }
      return this;
    }, t.prototype.arc = function(r, n, i, o, a, s) {
      if (s === void 0 && (s = false), o === a)
        return this;
      !s && a <= o ? a += Yf : s && o <= a && (o += Yf);
      var l = a - o;
      if (l === 0)
        return this;
      var u = r + Math.cos(o) * i, c = n + Math.sin(o) * i, f = this._geometry.closePointEps, h = this.currentPath ? this.currentPath.points : null;
      if (h) {
        var d = Math.abs(h[h.length - 2] - u), p = Math.abs(h[h.length - 1] - c);
        d < f && p < f || h.push(u, c);
      } else
        this.moveTo(u, c), h = this.currentPath.points;
      return bI.arc(u, c, r, n, i, o, a, s, h), this;
    }, t.prototype.beginFill = function(r, n) {
      return r === void 0 && (r = 0), n === void 0 && (n = 1), this.beginTextureFill({ texture: Pt.WHITE, color: r, alpha: n });
    }, t.prototype.beginTextureFill = function(r) {
      if (r instanceof Pt) {
        ze("v5.2.0", "Please use object-based options for Graphics#beginTextureFill");
        var n = arguments, i = n[0], o = n[1], a = n[2], s = n[3];
        r = { texture: i, color: o, alpha: a, matrix: s }, Object.keys(r).forEach(function(u) {
          return r[u] === void 0 && delete r[u];
        });
      }
      r = Object.assign({
        texture: Pt.WHITE,
        color: 16777215,
        alpha: 1,
        matrix: null
      }, r), this.currentPath && this.startPoly();
      var l = r.alpha > 0;
      return l ? (r.matrix && (r.matrix = r.matrix.clone(), r.matrix.invert()), Object.assign(this._fillStyle, { visible: l }, r)) : this._fillStyle.reset(), this;
    }, t.prototype.endFill = function() {
      return this.finishPoly(), this._fillStyle.reset(), this;
    }, t.prototype.drawRect = function(r, n, i, o) {
      return this.drawShape(new fr(r, n, i, o));
    }, t.prototype.drawRoundedRect = function(r, n, i, o, a) {
      return this.drawShape(new nG(r, n, i, o, a));
    }, t.prototype.drawCircle = function(r, n, i) {
      return this.drawShape(new tG(r, n, i));
    }, t.prototype.drawEllipse = function(r, n, i, o) {
      return this.drawShape(new rG(r, n, i, o));
    }, t.prototype.drawPolygon = function() {
      for (var r = arguments, n = [], i = 0; i < arguments.length; i++)
        n[i] = r[i];
      var o, a = true, s = n[0];
      s.points ? (a = s.closeStroke, o = s.points) : Array.isArray(n[0]) ? o = n[0] : o = n;
      var l = new _f(o);
      return l.closeStroke = a, this.drawShape(l), this;
    }, t.prototype.drawShape = function(r) {
      return this._holeMode ? this._geometry.drawHole(r, this._matrix) : this._geometry.drawShape(r, this._fillStyle.clone(), this._lineStyle.clone(), this._matrix), this;
    }, t.prototype.drawStar = function(r, n, i, o, a, s) {
      return s === void 0 && (s = 0), this.drawPolygon(new s6(r, n, i, o, a, s));
    }, t.prototype.clear = function() {
      return this._geometry.clear(), this._lineStyle.reset(), this._fillStyle.reset(), this._boundsID++, this._matrix = null, this._holeMode = false, this.currentPath = null, this;
    }, t.prototype.isFastRect = function() {
      var r = this._geometry.graphicsData;
      return r.length === 1 && r[0].shape.type === Wr.RECT && !(r[0].lineStyle.visible && r[0].lineStyle.width);
    }, t.prototype._render = function(r) {
      this.finishPoly();
      var n = this._geometry, i = r.context.supports.uint32Indices;
      n.updateBatches(i), n.batchable ? (this.batchDirty !== n.batchDirty && this._populateBatches(), this._renderBatched(r)) : (r.batch.flush(), this._renderDirect(r));
    }, t.prototype._populateBatches = function() {
      var r = this._geometry, n = this.blendMode, i = r.batches.length;
      this.batchTint = -1, this._transformID = -1, this.batchDirty = r.batchDirty, this.batches.length = i, this.vertexData = new Float32Array(r.points);
      for (var o = 0; o < i; o++) {
        var a = r.batches[o], s = a.style.color, l = new Float32Array(this.vertexData.buffer, a.attribStart * 4 * 2, a.attribSize * 2), u = new Float32Array(r.uvsFloat32.buffer, a.attribStart * 4 * 2, a.attribSize * 2), c = new Uint16Array(r.indicesUint16.buffer, a.start * 2, a.size), f = {
          vertexData: l,
          blendMode: n,
          indices: c,
          uvs: u,
          _batchRGB: au(s),
          _tintRGB: s,
          _texture: a.style.texture,
          alpha: a.style.alpha,
          worldAlpha: 1
        };
        this.batches[o] = f;
      }
    }, t.prototype._renderBatched = function(r) {
      if (this.batches.length) {
        r.batch.setObjectRenderer(r.plugins[this.pluginName]), this.calculateVertices(), this.calculateTints();
        for (var n = 0, i = this.batches.length; n < i; n++) {
          var o = this.batches[n];
          o.worldAlpha = this.worldAlpha * o.alpha, r.plugins[this.pluginName].render(o);
        }
      }
    }, t.prototype._renderDirect = function(r) {
      var n = this._resolveDirectShader(r), i = this._geometry, o = this.tint, a = this.worldAlpha, s = n.uniforms, l = i.drawCalls;
      s.translationMatrix = this.transform.worldTransform, s.tint[0] = (o >> 16 & 255) / 255 * a, s.tint[1] = (o >> 8 & 255) / 255 * a, s.tint[2] = (o & 255) / 255 * a, s.tint[3] = a, r.shader.bind(n), r.geometry.bind(i, n), r.state.set(this.state);
      for (var u = 0, c = l.length; u < c; u++)
        this._renderDrawCallDirect(r, i.drawCalls[u]);
    }, t.prototype._renderDrawCallDirect = function(r, n) {
      for (var i = n.texArray, o = n.type, a = n.size, s = n.start, l = i.count, u = 0; u < l; u++)
        r.texture.bind(i.elements[u], u);
      r.geometry.draw(o, a, s);
    }, t.prototype._resolveDirectShader = function(r) {
      var n = this.shader, i = this.pluginName;
      if (!n) {
        if (!cw[i]) {
          for (var o = r.plugins.batch.MAX_TEXTURES, a = new Int32Array(o), s = 0; s < o; s++)
            a[s] = s;
          var l = {
            tint: new Float32Array([1, 1, 1, 1]),
            translationMatrix: new sn(),
            default: Bl.from({ uSamplers: a }, true)
          }, u = r.plugins[i]._shader.program;
          cw[i] = new Xl(u, l);
        }
        n = cw[i];
      }
      return n;
    }, t.prototype._calculateBounds = function() {
      this.finishPoly();
      var r = this._geometry;
      if (r.graphicsData.length) {
        var n = r.bounds, i = n.minX, o = n.minY, a = n.maxX, s = n.maxY;
        this._bounds.addFrame(this.transform, i, o, a, s);
      }
    }, t.prototype.containsPoint = function(r) {
      return this.worldTransform.applyInverse(r, t._TEMP_POINT), this._geometry.containsPoint(t._TEMP_POINT);
    }, t.prototype.calculateTints = function() {
      if (this.batchTint !== this.tint) {
        this.batchTint = this.tint;
        for (var r = au(this.tint, fte), n = 0; n < this.batches.length; n++) {
          var i = this.batches[n], o = i._batchRGB, a = r[0] * o[0] * 255, s = r[1] * o[1] * 255, l = r[2] * o[2] * 255, u = (a << 16) + (s << 8) + (l | 0);
          i._tintRGB = (u >> 16) + (u & 65280) + ((u & 255) << 16);
        }
      }
    }, t.prototype.calculateVertices = function() {
      var r = this.transform._worldID;
      if (this._transformID !== r) {
        this._transformID = r;
        for (var n = this.transform.worldTransform, i = n.a, o = n.b, a = n.c, s = n.d, l = n.tx, u = n.ty, c = this._geometry.points, f = this.vertexData, h = 0, d = 0; d < c.length; d += 2) {
          var p = c[d], m = c[d + 1];
          f[h++] = i * p + a * m + l, f[h++] = s * m + o * p + u;
        }
      }
    }, t.prototype.closePath = function() {
      var r = this.currentPath;
      return r && (r.closeStroke = true), this;
    }, t.prototype.setMatrix = function(r) {
      return this._matrix = r, this;
    }, t.prototype.beginHole = function() {
      return this.finishPoly(), this._holeMode = true, this;
    }, t.prototype.endHole = function() {
      return this.finishPoly(), this._holeMode = false, this;
    }, t.prototype.destroy = function(r) {
      this._geometry.refCount--, this._geometry.refCount === 0 && this._geometry.dispose(), this._matrix = null, this.currentPath = null, this._lineStyle.destroy(), this._lineStyle = null, this._fillStyle.destroy(), this._fillStyle = null, this._geometry = null, this.shader = null, this.vertexData = null, this.batches.length = 0, this.batches = null, e13.prototype.destroy.call(this, r);
    }, t._TEMP_POINT = new On(), t;
  }(Jo)
);
var SI = function(e13, t) {
  return SI = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
    r.__proto__ = n;
  } || function(r, n) {
    for (var i in n)
      n.hasOwnProperty(i) && (r[i] = n[i]);
  }, SI(e13, t);
};
function dte(e13, t) {
  SI(e13, t);
  function r() {
    this.constructor = e13;
  }
  e13.prototype = t === null ? Object.create(t) : (r.prototype = t.prototype, new r());
}
var Np = new On();
var pte = new Uint16Array([0, 1, 2, 0, 2, 3]);
var Wd = (
  /** @class */
  function(e13) {
    dte(t, e13);
    function t(r) {
      var n = e13.call(this) || this;
      return n._anchor = new Hc(n._onAnchorUpdate, n, r ? r.defaultAnchor.x : 0, r ? r.defaultAnchor.y : 0), n._texture = null, n._width = 0, n._height = 0, n._tint = null, n._tintRGB = null, n.tint = 16777215, n.blendMode = _t.NORMAL, n._cachedTint = 16777215, n.uvs = null, n.texture = r || Pt.EMPTY, n.vertexData = new Float32Array(8), n.vertexTrimmedData = null, n._transformID = -1, n._textureID = -1, n._transformTrimmedID = -1, n._textureTrimmedID = -1, n.indices = pte, n.pluginName = "batch", n.isSprite = true, n._roundPixels = ft.ROUND_PIXELS, n;
    }
    return t.prototype._onTextureUpdate = function() {
      this._textureID = -1, this._textureTrimmedID = -1, this._cachedTint = 16777215, this._width && (this.scale.x = $c(this.scale.x) * this._width / this._texture.orig.width), this._height && (this.scale.y = $c(this.scale.y) * this._height / this._texture.orig.height);
    }, t.prototype._onAnchorUpdate = function() {
      this._transformID = -1, this._transformTrimmedID = -1;
    }, t.prototype.calculateVertices = function() {
      var r = this._texture;
      if (!(this._transformID === this.transform._worldID && this._textureID === r._updateID)) {
        this._textureID !== r._updateID && (this.uvs = this._texture._uvs.uvsFloat32), this._transformID = this.transform._worldID, this._textureID = r._updateID;
        var n = this.transform.worldTransform, i = n.a, o = n.b, a = n.c, s = n.d, l = n.tx, u = n.ty, c = this.vertexData, f = r.trim, h = r.orig, d = this._anchor, p = 0, m = 0, g = 0, v = 0;
        if (f ? (m = f.x - d._x * h.width, p = m + f.width, v = f.y - d._y * h.height, g = v + f.height) : (m = -d._x * h.width, p = m + h.width, v = -d._y * h.height, g = v + h.height), c[0] = i * m + a * v + l, c[1] = s * v + o * m + u, c[2] = i * p + a * v + l, c[3] = s * v + o * p + u, c[4] = i * p + a * g + l, c[5] = s * g + o * p + u, c[6] = i * m + a * g + l, c[7] = s * g + o * m + u, this._roundPixels)
          for (var b = ft.RESOLUTION, y = 0; y < c.length; ++y)
            c[y] = Math.round((c[y] * b | 0) / b);
      }
    }, t.prototype.calculateTrimmedVertices = function() {
      if (!this.vertexTrimmedData)
        this.vertexTrimmedData = new Float32Array(8);
      else if (this._transformTrimmedID === this.transform._worldID && this._textureTrimmedID === this._texture._updateID)
        return;
      this._transformTrimmedID = this.transform._worldID, this._textureTrimmedID = this._texture._updateID;
      var r = this._texture, n = this.vertexTrimmedData, i = r.orig, o = this._anchor, a = this.transform.worldTransform, s = a.a, l = a.b, u = a.c, c = a.d, f = a.tx, h = a.ty, d = -o._x * i.width, p = d + i.width, m = -o._y * i.height, g = m + i.height;
      n[0] = s * d + u * m + f, n[1] = c * m + l * d + h, n[2] = s * p + u * m + f, n[3] = c * m + l * p + h, n[4] = s * p + u * g + f, n[5] = c * g + l * p + h, n[6] = s * d + u * g + f, n[7] = c * g + l * d + h;
    }, t.prototype._render = function(r) {
      this.calculateVertices(), r.batch.setObjectRenderer(r.plugins[this.pluginName]), r.plugins[this.pluginName].render(this);
    }, t.prototype._calculateBounds = function() {
      var r = this._texture.trim, n = this._texture.orig;
      !r || r.width === n.width && r.height === n.height ? (this.calculateVertices(), this._bounds.addQuad(this.vertexData)) : (this.calculateTrimmedVertices(), this._bounds.addQuad(this.vertexTrimmedData));
    }, t.prototype.getLocalBounds = function(r) {
      return this.children.length === 0 ? (this._bounds.minX = this._texture.orig.width * -this._anchor._x, this._bounds.minY = this._texture.orig.height * -this._anchor._y, this._bounds.maxX = this._texture.orig.width * (1 - this._anchor._x), this._bounds.maxY = this._texture.orig.height * (1 - this._anchor._y), r || (this._localBoundsRect || (this._localBoundsRect = new fr()), r = this._localBoundsRect), this._bounds.getRectangle(r)) : e13.prototype.getLocalBounds.call(this, r);
    }, t.prototype.containsPoint = function(r) {
      this.worldTransform.applyInverse(r, Np);
      var n = this._texture.orig.width, i = this._texture.orig.height, o = -n * this.anchor.x, a = 0;
      return Np.x >= o && Np.x < o + n && (a = -i * this.anchor.y, Np.y >= a && Np.y < a + i);
    }, t.prototype.destroy = function(r) {
      e13.prototype.destroy.call(this, r), this._texture.off("update", this._onTextureUpdate, this), this._anchor = null;
      var n = typeof r == "boolean" ? r : r && r.texture;
      if (n) {
        var i = typeof r == "boolean" ? r : r && r.baseTexture;
        this._texture.destroy(!!i);
      }
      this._texture = null;
    }, t.from = function(r, n) {
      var i = r instanceof Pt ? r : Pt.from(r, n);
      return new t(i);
    }, Object.defineProperty(t.prototype, "roundPixels", {
      get: function() {
        return this._roundPixels;
      },
      /**
       * If true PixiJS will Math.floor() x/y values when rendering, stopping pixel interpolation.
       * Advantages can include sharper image quality (like text) and faster rendering on canvas.
       * The main disadvantage is movement of objects may appear less smooth.
       * To set the global default, change {@link PIXI.settings.ROUND_PIXELS}
       *
       * @member {boolean}
       * @default false
       */
      set: function(r) {
        this._roundPixels !== r && (this._transformID = -1), this._roundPixels = r;
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(t.prototype, "width", {
      /**
       * The width of the sprite, setting this will actually modify the scale to achieve the value set
       *
       * @member {number}
       */
      get: function() {
        return Math.abs(this.scale.x) * this._texture.orig.width;
      },
      set: function(r) {
        var n = $c(this.scale.x) || 1;
        this.scale.x = n * r / this._texture.orig.width, this._width = r;
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(t.prototype, "height", {
      /**
       * The height of the sprite, setting this will actually modify the scale to achieve the value set
       *
       * @member {number}
       */
      get: function() {
        return Math.abs(this.scale.y) * this._texture.orig.height;
      },
      set: function(r) {
        var n = $c(this.scale.y) || 1;
        this.scale.y = n * r / this._texture.orig.height, this._height = r;
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(t.prototype, "anchor", {
      /**
       * The anchor sets the origin point of the sprite. The default value is taken from the {@link PIXI.Texture|Texture}
       * and passed to the constructor.
       *
       * The default is `(0,0)`, this means the sprite's origin is the top left.
       *
       * Setting the anchor to `(0.5,0.5)` means the sprite's origin is centered.
       *
       * Setting the anchor to `(1,1)` would mean the sprite's origin point will be the bottom right corner.
       *
       * If you pass only single parameter, it will set both x and y to the same value as shown in the example below.
       *
       * @example
       * const sprite = new PIXI.Sprite(texture);
       * sprite.anchor.set(0.5); // This will set the origin to center. (0.5) is same as (0.5, 0.5).
       *
       * @member {PIXI.ObservablePoint}
       */
      get: function() {
        return this._anchor;
      },
      set: function(r) {
        this._anchor.copyFrom(r);
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(t.prototype, "tint", {
      /**
       * The tint applied to the sprite. This is a hex value.
       * A value of 0xFFFFFF will remove any tint effect.
       *
       * @member {number}
       * @default 0xFFFFFF
       */
      get: function() {
        return this._tint;
      },
      set: function(r) {
        this._tint = r, this._tintRGB = (r >> 16) + (r & 65280) + ((r & 255) << 16);
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(t.prototype, "texture", {
      /**
       * The texture that the sprite is using
       *
       * @member {PIXI.Texture}
       */
      get: function() {
        return this._texture;
      },
      set: function(r) {
        this._texture !== r && (this._texture && this._texture.off("update", this._onTextureUpdate, this), this._texture = r || Pt.EMPTY, this._cachedTint = 16777215, this._textureID = -1, this._textureTrimmedID = -1, r && (r.baseTexture.valid ? this._onTextureUpdate() : r.once("update", this._onTextureUpdate, this)));
      },
      enumerable: false,
      configurable: true
    }), t;
  }(Jo)
);
var wI = function(e13, t) {
  return wI = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
    r.__proto__ = n;
  } || function(r, n) {
    for (var i in n)
      n.hasOwnProperty(i) && (r[i] = n[i]);
  }, wI(e13, t);
};
function mte(e13, t) {
  wI(e13, t);
  function r() {
    this.constructor = e13;
  }
  e13.prototype = t === null ? Object.create(t) : (r.prototype = t.prototype, new r());
}
var Zf;
(function(e13) {
  e13[e13.LINEAR_VERTICAL = 0] = "LINEAR_VERTICAL", e13[e13.LINEAR_HORIZONTAL = 1] = "LINEAR_HORIZONTAL";
})(Zf || (Zf = {}));
var uw = {
  align: "left",
  breakWords: false,
  dropShadow: false,
  dropShadowAlpha: 1,
  dropShadowAngle: Math.PI / 6,
  dropShadowBlur: 0,
  dropShadowColor: "black",
  dropShadowDistance: 5,
  fill: "black",
  fillGradientType: Zf.LINEAR_VERTICAL,
  fillGradientStops: [],
  fontFamily: "Arial",
  fontSize: 26,
  fontStyle: "normal",
  fontVariant: "normal",
  fontWeight: "normal",
  letterSpacing: 0,
  lineHeight: 0,
  lineJoin: "miter",
  miterLimit: 10,
  padding: 0,
  stroke: "black",
  strokeThickness: 0,
  textBaseline: "alphabetic",
  trim: false,
  whiteSpace: "pre",
  wordWrap: false,
  wordWrapWidth: 100,
  leading: 0
};
var gte = [
  "serif",
  "sans-serif",
  "monospace",
  "cursive",
  "fantasy",
  "system-ui"
];
var uu = (
  /** @class */
  function() {
    function e13(t) {
      this.styleID = 0, this.reset(), fw(this, t, t);
    }
    return e13.prototype.clone = function() {
      var t = {};
      return fw(t, this, uw), new e13(t);
    }, e13.prototype.reset = function() {
      fw(this, uw, uw);
    }, Object.defineProperty(e13.prototype, "align", {
      /**
       * Alignment for multiline text ('left', 'center' or 'right'), does not affect single line text
       *
       * @member {string}
       */
      get: function() {
        return this._align;
      },
      set: function(t) {
        this._align !== t && (this._align = t, this.styleID++);
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(e13.prototype, "breakWords", {
      /**
       * Indicates if lines can be wrapped within words, it needs wordWrap to be set to true
       *
       * @member {boolean}
       */
      get: function() {
        return this._breakWords;
      },
      set: function(t) {
        this._breakWords !== t && (this._breakWords = t, this.styleID++);
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(e13.prototype, "dropShadow", {
      /**
       * Set a drop shadow for the text
       *
       * @member {boolean}
       */
      get: function() {
        return this._dropShadow;
      },
      set: function(t) {
        this._dropShadow !== t && (this._dropShadow = t, this.styleID++);
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(e13.prototype, "dropShadowAlpha", {
      /**
       * Set alpha for the drop shadow
       *
       * @member {number}
       */
      get: function() {
        return this._dropShadowAlpha;
      },
      set: function(t) {
        this._dropShadowAlpha !== t && (this._dropShadowAlpha = t, this.styleID++);
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(e13.prototype, "dropShadowAngle", {
      /**
       * Set a angle of the drop shadow
       *
       * @member {number}
       */
      get: function() {
        return this._dropShadowAngle;
      },
      set: function(t) {
        this._dropShadowAngle !== t && (this._dropShadowAngle = t, this.styleID++);
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(e13.prototype, "dropShadowBlur", {
      /**
       * Set a shadow blur radius
       *
       * @member {number}
       */
      get: function() {
        return this._dropShadowBlur;
      },
      set: function(t) {
        this._dropShadowBlur !== t && (this._dropShadowBlur = t, this.styleID++);
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(e13.prototype, "dropShadowColor", {
      /**
       * A fill style to be used on the dropshadow e.g 'red', '#00FF00'
       *
       * @member {string|number}
       */
      get: function() {
        return this._dropShadowColor;
      },
      set: function(t) {
        var r = hw(t);
        this._dropShadowColor !== r && (this._dropShadowColor = r, this.styleID++);
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(e13.prototype, "dropShadowDistance", {
      /**
       * Set a distance of the drop shadow
       *
       * @member {number}
       */
      get: function() {
        return this._dropShadowDistance;
      },
      set: function(t) {
        this._dropShadowDistance !== t && (this._dropShadowDistance = t, this.styleID++);
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(e13.prototype, "fill", {
      /**
       * A canvas fillstyle that will be used on the text e.g 'red', '#00FF00'.
       * Can be an array to create a gradient eg ['#000000','#FFFFFF']
       * {@link https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/fillStyle|MDN}
       *
       * @member {string|string[]|number|number[]|CanvasGradient|CanvasPattern}
       */
      get: function() {
        return this._fill;
      },
      set: function(t) {
        var r = hw(t);
        this._fill !== r && (this._fill = r, this.styleID++);
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(e13.prototype, "fillGradientType", {
      /**
       * If fill is an array of colours to create a gradient, this can change the type/direction of the gradient.
       * See {@link PIXI.TEXT_GRADIENT}
       *
       * @member {number}
       */
      get: function() {
        return this._fillGradientType;
      },
      set: function(t) {
        this._fillGradientType !== t && (this._fillGradientType = t, this.styleID++);
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(e13.prototype, "fillGradientStops", {
      /**
       * If fill is an array of colours to create a gradient, this array can set the stop points
       * (numbers between 0 and 1) for the color, overriding the default behaviour of evenly spacing them.
       *
       * @member {number[]}
       */
      get: function() {
        return this._fillGradientStops;
      },
      set: function(t) {
        vte(this._fillGradientStops, t) || (this._fillGradientStops = t, this.styleID++);
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(e13.prototype, "fontFamily", {
      /**
       * The font family
       *
       * @member {string|string[]}
       */
      get: function() {
        return this._fontFamily;
      },
      set: function(t) {
        this.fontFamily !== t && (this._fontFamily = t, this.styleID++);
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(e13.prototype, "fontSize", {
      /**
       * The font size
       * (as a number it converts to px, but as a string, equivalents are '26px','20pt','160%' or '1.6em')
       *
       * @member {number|string}
       */
      get: function() {
        return this._fontSize;
      },
      set: function(t) {
        this._fontSize !== t && (this._fontSize = t, this.styleID++);
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(e13.prototype, "fontStyle", {
      /**
       * The font style
       * ('normal', 'italic' or 'oblique')
       *
       * @member {string}
       */
      get: function() {
        return this._fontStyle;
      },
      set: function(t) {
        this._fontStyle !== t && (this._fontStyle = t, this.styleID++);
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(e13.prototype, "fontVariant", {
      /**
       * The font variant
       * ('normal' or 'small-caps')
       *
       * @member {string}
       */
      get: function() {
        return this._fontVariant;
      },
      set: function(t) {
        this._fontVariant !== t && (this._fontVariant = t, this.styleID++);
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(e13.prototype, "fontWeight", {
      /**
       * The font weight
       * ('normal', 'bold', 'bolder', 'lighter' and '100', '200', '300', '400', '500', '600', '700', 800' or '900')
       *
       * @member {string}
       */
      get: function() {
        return this._fontWeight;
      },
      set: function(t) {
        this._fontWeight !== t && (this._fontWeight = t, this.styleID++);
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(e13.prototype, "letterSpacing", {
      /**
       * The amount of spacing between letters, default is 0
       *
       * @member {number}
       */
      get: function() {
        return this._letterSpacing;
      },
      set: function(t) {
        this._letterSpacing !== t && (this._letterSpacing = t, this.styleID++);
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(e13.prototype, "lineHeight", {
      /**
       * The line height, a number that represents the vertical space that a letter uses
       *
       * @member {number}
       */
      get: function() {
        return this._lineHeight;
      },
      set: function(t) {
        this._lineHeight !== t && (this._lineHeight = t, this.styleID++);
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(e13.prototype, "leading", {
      /**
       * The space between lines
       *
       * @member {number}
       */
      get: function() {
        return this._leading;
      },
      set: function(t) {
        this._leading !== t && (this._leading = t, this.styleID++);
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(e13.prototype, "lineJoin", {
      /**
       * The lineJoin property sets the type of corner created, it can resolve spiked text issues.
       * Default is 'miter' (creates a sharp corner).
       *
       * @member {string}
       */
      get: function() {
        return this._lineJoin;
      },
      set: function(t) {
        this._lineJoin !== t && (this._lineJoin = t, this.styleID++);
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(e13.prototype, "miterLimit", {
      /**
       * The miter limit to use when using the 'miter' lineJoin mode
       * This can reduce or increase the spikiness of rendered text.
       *
       * @member {number}
       */
      get: function() {
        return this._miterLimit;
      },
      set: function(t) {
        this._miterLimit !== t && (this._miterLimit = t, this.styleID++);
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(e13.prototype, "padding", {
      /**
       * Occasionally some fonts are cropped. Adding some padding will prevent this from happening
       * by adding padding to all sides of the text.
       *
       * @member {number}
       */
      get: function() {
        return this._padding;
      },
      set: function(t) {
        this._padding !== t && (this._padding = t, this.styleID++);
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(e13.prototype, "stroke", {
      /**
       * A canvas fillstyle that will be used on the text stroke
       * e.g 'blue', '#FCFF00'
       *
       * @member {string|number}
       */
      get: function() {
        return this._stroke;
      },
      set: function(t) {
        var r = hw(t);
        this._stroke !== r && (this._stroke = r, this.styleID++);
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(e13.prototype, "strokeThickness", {
      /**
       * A number that represents the thickness of the stroke.
       * Default is 0 (no stroke)
       *
       * @member {number}
       */
      get: function() {
        return this._strokeThickness;
      },
      set: function(t) {
        this._strokeThickness !== t && (this._strokeThickness = t, this.styleID++);
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(e13.prototype, "textBaseline", {
      /**
       * The baseline of the text that is rendered.
       *
       * @member {string}
       */
      get: function() {
        return this._textBaseline;
      },
      set: function(t) {
        this._textBaseline !== t && (this._textBaseline = t, this.styleID++);
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(e13.prototype, "trim", {
      /**
       * Trim transparent borders
       *
       * @member {boolean}
       */
      get: function() {
        return this._trim;
      },
      set: function(t) {
        this._trim !== t && (this._trim = t, this.styleID++);
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(e13.prototype, "whiteSpace", {
      /**
       * How newlines and spaces should be handled.
       * Default is 'pre' (preserve, preserve).
       *
       *  value       | New lines     |   Spaces
       *  ---         | ---           |   ---
       * 'normal'     | Collapse      |   Collapse
       * 'pre'        | Preserve      |   Preserve
       * 'pre-line'   | Preserve      |   Collapse
       *
       * @member {string}
       */
      get: function() {
        return this._whiteSpace;
      },
      set: function(t) {
        this._whiteSpace !== t && (this._whiteSpace = t, this.styleID++);
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(e13.prototype, "wordWrap", {
      /**
       * Indicates if word wrap should be used
       *
       * @member {boolean}
       */
      get: function() {
        return this._wordWrap;
      },
      set: function(t) {
        this._wordWrap !== t && (this._wordWrap = t, this.styleID++);
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(e13.prototype, "wordWrapWidth", {
      /**
       * The width at which text will wrap, it needs wordWrap to be set to true
       *
       * @member {number}
       */
      get: function() {
        return this._wordWrapWidth;
      },
      set: function(t) {
        this._wordWrapWidth !== t && (this._wordWrapWidth = t, this.styleID++);
      },
      enumerable: false,
      configurable: true
    }), e13.prototype.toFontString = function() {
      var t = typeof this.fontSize == "number" ? this.fontSize + "px" : this.fontSize, r = this.fontFamily;
      Array.isArray(this.fontFamily) || (r = this.fontFamily.split(","));
      for (var n = r.length - 1; n >= 0; n--) {
        var i = r[n].trim();
        !/([\"\'])[^\'\"]+\1/.test(i) && gte.indexOf(i) < 0 && (i = '"' + i + '"'), r[n] = i;
      }
      return this.fontStyle + " " + this.fontVariant + " " + this.fontWeight + " " + t + " " + r.join(",");
    }, e13;
  }()
);
function H5(e13) {
  return typeof e13 == "number" ? sD(e13) : (typeof e13 == "string" && e13.indexOf("0x") === 0 && (e13 = e13.replace("0x", "#")), e13);
}
function hw(e13) {
  if (Array.isArray(e13)) {
    for (var t = 0; t < e13.length; ++t)
      e13[t] = H5(e13[t]);
    return e13;
  } else
    return H5(e13);
}
function vte(e13, t) {
  if (!Array.isArray(e13) || !Array.isArray(t) || e13.length !== t.length)
    return false;
  for (var r = 0; r < e13.length; ++r)
    if (e13[r] !== t[r])
      return false;
  return true;
}
function fw(e13, t, r) {
  for (var n in r)
    Array.isArray(t[n]) ? e13[n] = t[n].slice() : e13[n] = t[n];
}
var Co = (
  /** @class */
  function() {
    function e13(t, r, n, i, o, a, s, l, u) {
      this.text = t, this.style = r, this.width = n, this.height = i, this.lines = o, this.lineWidths = a, this.lineHeight = s, this.maxLineWidth = l, this.fontProperties = u;
    }
    return e13.measureText = function(t, r, n, i) {
      i === void 0 && (i = e13._canvas), n = n ?? r.wordWrap;
      var o = r.toFontString(), a = e13.measureFont(o);
      a.fontSize === 0 && (a.fontSize = r.fontSize, a.ascent = r.fontSize);
      var s = i.getContext("2d");
      s.font = o;
      for (var l = n ? e13.wordWrap(t, r, i) : t, u = l.split(/(?:\r\n|\r|\n)/), c = new Array(u.length), f = 0, h = 0; h < u.length; h++) {
        var d = s.measureText(u[h]).width + (u[h].length - 1) * r.letterSpacing;
        c[h] = d, f = Math.max(f, d);
      }
      var p = f + r.strokeThickness;
      r.dropShadow && (p += r.dropShadowDistance);
      var m = r.lineHeight || a.fontSize + r.strokeThickness, g = Math.max(m, a.fontSize + r.strokeThickness) + (u.length - 1) * (m + r.leading);
      return r.dropShadow && (g += r.dropShadowDistance), new e13(t, r, p, g, u, c, m + r.leading, f, a);
    }, e13.wordWrap = function(t, r, n) {
      n === void 0 && (n = e13._canvas);
      for (var i = n.getContext("2d"), o = 0, a = "", s = "", l = /* @__PURE__ */ Object.create(null), u = r.letterSpacing, c = r.whiteSpace, f = e13.collapseSpaces(c), h = e13.collapseNewlines(c), d = !f, p = r.wordWrapWidth + u, m = e13.tokenize(t), g = 0; g < m.length; g++) {
        var v = m[g];
        if (e13.isNewline(v)) {
          if (!h) {
            s += e13.addLine(a), d = !f, a = "", o = 0;
            continue;
          }
          v = " ";
        }
        if (f) {
          var b = e13.isBreakingSpace(v), y = e13.isBreakingSpace(a[a.length - 1]);
          if (b && y)
            continue;
        }
        var _ = e13.getFromCache(v, u, l, i);
        if (_ > p)
          if (a !== "" && (s += e13.addLine(a), a = "", o = 0), e13.canBreakWords(v, r.breakWords))
            for (var T = e13.wordWrapSplit(v), E = 0; E < T.length; E++) {
              for (var O = T[E], S = 1; T[E + S]; ) {
                var P = T[E + S], C = O[O.length - 1];
                if (!e13.canBreakChars(C, P, v, E, r.breakWords))
                  O += P;
                else
                  break;
                S++;
              }
              E += O.length - 1;
              var w = e13.getFromCache(O, u, l, i);
              w + o > p && (s += e13.addLine(a), d = false, a = "", o = 0), a += O, o += w;
            }
          else {
            a.length > 0 && (s += e13.addLine(a), a = "", o = 0);
            var N = g === m.length - 1;
            s += e13.addLine(v, !N), d = false, a = "", o = 0;
          }
        else
          _ + o > p && (d = false, s += e13.addLine(a), a = "", o = 0), (a.length > 0 || !e13.isBreakingSpace(v) || d) && (a += v, o += _);
      }
      return s += e13.addLine(a, false), s;
    }, e13.addLine = function(t, r) {
      return r === void 0 && (r = true), t = e13.trimRight(t), t = r ? t + `
` : t, t;
    }, e13.getFromCache = function(t, r, n, i) {
      var o = n[t];
      if (typeof o != "number") {
        var a = t.length * r;
        o = i.measureText(t).width + a, n[t] = o;
      }
      return o;
    }, e13.collapseSpaces = function(t) {
      return t === "normal" || t === "pre-line";
    }, e13.collapseNewlines = function(t) {
      return t === "normal";
    }, e13.trimRight = function(t) {
      if (typeof t != "string")
        return "";
      for (var r = t.length - 1; r >= 0; r--) {
        var n = t[r];
        if (!e13.isBreakingSpace(n))
          break;
        t = t.slice(0, -1);
      }
      return t;
    }, e13.isNewline = function(t) {
      return typeof t != "string" ? false : e13._newlines.indexOf(t.charCodeAt(0)) >= 0;
    }, e13.isBreakingSpace = function(t) {
      return typeof t != "string" ? false : e13._breakingSpaces.indexOf(t.charCodeAt(0)) >= 0;
    }, e13.tokenize = function(t) {
      var r = [], n = "";
      if (typeof t != "string")
        return r;
      for (var i = 0; i < t.length; i++) {
        var o = t[i];
        if (e13.isBreakingSpace(o) || e13.isNewline(o)) {
          n !== "" && (r.push(n), n = ""), r.push(o);
          continue;
        }
        n += o;
      }
      return n !== "" && r.push(n), r;
    }, e13.canBreakWords = function(t, r) {
      return r;
    }, e13.canBreakChars = function(t, r, n, i, o) {
      return true;
    }, e13.wordWrapSplit = function(t) {
      return t.split("");
    }, e13.measureFont = function(t) {
      if (e13._fonts[t])
        return e13._fonts[t];
      var r = {
        ascent: 0,
        descent: 0,
        fontSize: 0
      }, n = e13._canvas, i = e13._context;
      i.font = t;
      var o = e13.METRICS_STRING + e13.BASELINE_SYMBOL, a = Math.ceil(i.measureText(o).width), s = Math.ceil(i.measureText(e13.BASELINE_SYMBOL).width), l = 2 * s;
      s = s * e13.BASELINE_MULTIPLIER | 0, n.width = a, n.height = l, i.fillStyle = "#f00", i.fillRect(0, 0, a, l), i.font = t, i.textBaseline = "alphabetic", i.fillStyle = "#000", i.fillText(o, 0, s);
      var u = i.getImageData(0, 0, a, l).data, c = u.length, f = a * 4, h = 0, d = 0, p = false;
      for (h = 0; h < s; ++h) {
        for (var m = 0; m < f; m += 4)
          if (u[d + m] !== 255) {
            p = true;
            break;
          }
        if (!p)
          d += f;
        else
          break;
      }
      for (r.ascent = s - h, d = c - f, p = false, h = l; h > s; --h) {
        for (var m = 0; m < f; m += 4)
          if (u[d + m] !== 255) {
            p = true;
            break;
          }
        if (!p)
          d -= f;
        else
          break;
      }
      return r.descent = h - s, r.fontSize = r.ascent + r.descent, e13._fonts[t] = r, r;
    }, e13.clearMetrics = function(t) {
      t === void 0 && (t = ""), t ? delete e13._fonts[t] : e13._fonts = {};
    }, e13;
  }()
);
var Qb = function() {
  try {
    var e13 = new OffscreenCanvas(0, 0), t = e13.getContext("2d");
    return t && t.measureText ? e13 : document.createElement("canvas");
  } catch {
    return document.createElement("canvas");
  }
}();
Qb.width = Qb.height = 10;
Co._canvas = Qb;
Co._context = Qb.getContext("2d");
Co._fonts = {};
Co.METRICS_STRING = "|ÉqÅ";
Co.BASELINE_SYMBOL = "M";
Co.BASELINE_MULTIPLIER = 1.4;
Co._newlines = [
  10,
  13
];
Co._breakingSpaces = [
  9,
  32,
  8192,
  8193,
  8194,
  8195,
  8196,
  8197,
  8198,
  8200,
  8201,
  8202,
  8287,
  12288
];
var yte = {
  texture: true,
  children: false,
  baseTexture: true
};
var OD = (
  /** @class */
  function(e13) {
    mte(t, e13);
    function t(r, n, i) {
      var o = this, a = false;
      i || (i = document.createElement("canvas"), a = true), i.width = 3, i.height = 3;
      var s = Pt.from(i);
      return s.orig = new fr(), s.trim = new fr(), o = e13.call(this, s) || this, o._ownCanvas = a, o.canvas = i, o.context = o.canvas.getContext("2d"), o._resolution = ft.RESOLUTION, o._autoResolution = true, o._text = null, o._style = null, o._styleListener = null, o._font = "", o.text = r, o.style = n, o.localStyleID = -1, o;
    }
    return t.prototype.updateText = function(r) {
      var n = this._style;
      if (this.localStyleID !== n.styleID && (this.dirty = true, this.localStyleID = n.styleID), !(!this.dirty && r)) {
        this._font = this._style.toFontString();
        var i = this.context, o = Co.measureText(this._text || " ", this._style, this._style.wordWrap, this.canvas), a = o.width, s = o.height, l = o.lines, u = o.lineHeight, c = o.lineWidths, f = o.maxLineWidth, h = o.fontProperties;
        this.canvas.width = Math.ceil((Math.max(1, a) + n.padding * 2) * this._resolution), this.canvas.height = Math.ceil((Math.max(1, s) + n.padding * 2) * this._resolution), i.scale(this._resolution, this._resolution), i.clearRect(0, 0, this.canvas.width, this.canvas.height), i.font = this._font, i.lineWidth = n.strokeThickness, i.textBaseline = n.textBaseline, i.lineJoin = n.lineJoin, i.miterLimit = n.miterLimit;
        for (var d, p, m = n.dropShadow ? 2 : 1, g = 0; g < m; ++g) {
          var v = n.dropShadow && g === 0, b = v ? Math.ceil(Math.max(1, s) + n.padding * 2) : 0, y = b * this._resolution;
          if (v) {
            i.fillStyle = "black", i.strokeStyle = "black";
            var _ = n.dropShadowColor, T = au(typeof _ == "number" ? _ : lD(_)), E = n.dropShadowBlur * this._resolution, O = n.dropShadowDistance * this._resolution;
            i.shadowColor = "rgba(" + T[0] * 255 + "," + T[1] * 255 + "," + T[2] * 255 + "," + n.dropShadowAlpha + ")", i.shadowBlur = E, i.shadowOffsetX = Math.cos(n.dropShadowAngle) * O, i.shadowOffsetY = Math.sin(n.dropShadowAngle) * O + y;
          } else
            i.fillStyle = this._generateFillStyle(n, l, o), i.strokeStyle = n.stroke, i.shadowColor = "black", i.shadowBlur = 0, i.shadowOffsetX = 0, i.shadowOffsetY = 0;
          for (var S = 0; S < l.length; S++)
            d = n.strokeThickness / 2, p = n.strokeThickness / 2 + S * u + h.ascent, n.align === "right" ? d += f - c[S] : n.align === "center" && (d += (f - c[S]) / 2), n.stroke && n.strokeThickness && this.drawLetterSpacing(l[S], d + n.padding, p + n.padding - b, true), n.fill && this.drawLetterSpacing(l[S], d + n.padding, p + n.padding - b);
        }
        this.updateTexture();
      }
    }, t.prototype.drawLetterSpacing = function(r, n, i, o) {
      o === void 0 && (o = false);
      var a = this._style, s = a.letterSpacing;
      if (s === 0) {
        o ? this.context.strokeText(r, n, i) : this.context.fillText(r, n, i);
        return;
      }
      for (var l = n, u = Array.from ? Array.from(r) : r.split(""), c = this.context.measureText(r).width, f = 0, h = 0; h < u.length; ++h) {
        var d = u[h];
        o ? this.context.strokeText(d, l, i) : this.context.fillText(d, l, i), f = this.context.measureText(r.substring(h + 1)).width, l += c - f + s, c = f;
      }
    }, t.prototype.updateTexture = function() {
      var r = this.canvas;
      if (this._style.trim) {
        var n = K4(r);
        n.data && (r.width = n.width, r.height = n.height, this.context.putImageData(n.data, 0, 0));
      }
      var i = this._texture, o = this._style, a = o.trim ? 0 : o.padding, s = i.baseTexture;
      i.trim.width = i._frame.width = Math.ceil(r.width / this._resolution), i.trim.height = i._frame.height = Math.ceil(r.height / this._resolution), i.trim.x = -a, i.trim.y = -a, i.orig.width = i._frame.width - a * 2, i.orig.height = i._frame.height - a * 2, this._onTextureUpdate(), s.setRealSize(r.width, r.height, this._resolution), this._recursivePostUpdateTransform(), this.dirty = false;
    }, t.prototype._render = function(r) {
      this._autoResolution && this._resolution !== r.resolution && (this._resolution = r.resolution, this.dirty = true), this.updateText(true), e13.prototype._render.call(this, r);
    }, t.prototype.getLocalBounds = function(r) {
      return this.updateText(true), e13.prototype.getLocalBounds.call(this, r);
    }, t.prototype._calculateBounds = function() {
      this.updateText(true), this.calculateVertices(), this._bounds.addQuad(this.vertexData);
    }, t.prototype._generateFillStyle = function(r, n, i) {
      var o = r.fill;
      if (Array.isArray(o)) {
        if (o.length === 1)
          return o[0];
      } else return o;
      var a, s = r.dropShadow ? r.dropShadowDistance : 0, l = r.padding || 0, u = Math.ceil(this.canvas.width / this._resolution) - s - l * 2, c = Math.ceil(this.canvas.height / this._resolution) - s - l * 2, f = o.slice(), h = r.fillGradientStops.slice();
      if (!h.length)
        for (var d = f.length + 1, p = 1; p < d; ++p)
          h.push(p / d);
      if (f.unshift(o[0]), h.unshift(0), f.push(o[o.length - 1]), h.push(1), r.fillGradientType === Zf.LINEAR_VERTICAL) {
        a = this.context.createLinearGradient(u / 2, l, u / 2, c + l);
        for (var m = 0, g = i.fontProperties.fontSize + r.strokeThickness, v = g / c, p = 0; p < n.length; p++)
          for (var b = i.lineHeight * p, y = 0; y < f.length; y++) {
            var _ = 0;
            typeof h[y] == "number" ? _ = h[y] : _ = y / f.length;
            var T = b / c + _ * v, E = Math.max(m, T);
            E = Math.min(E, 1), a.addColorStop(E, f[y]), m = E;
          }
      } else {
        a = this.context.createLinearGradient(l, c / 2, u + l, c / 2);
        for (var O = f.length + 1, S = 1, p = 0; p < f.length; p++) {
          var P = void 0;
          typeof h[p] == "number" ? P = h[p] : P = S / O, a.addColorStop(P, f[p]), S++;
        }
      }
      return a;
    }, t.prototype.destroy = function(r) {
      typeof r == "boolean" && (r = { children: r }), r = Object.assign({}, yte, r), e13.prototype.destroy.call(this, r), this._ownCanvas && (this.canvas.height = this.canvas.width = 0), this.context = null, this.canvas = null, this._style = null;
    }, Object.defineProperty(t.prototype, "width", {
      /**
       * The width of the Text, setting this will actually modify the scale to achieve the value set
       *
       * @member {number}
       */
      get: function() {
        return this.updateText(true), Math.abs(this.scale.x) * this._texture.orig.width;
      },
      set: function(r) {
        this.updateText(true);
        var n = $c(this.scale.x) || 1;
        this.scale.x = n * r / this._texture.orig.width, this._width = r;
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(t.prototype, "height", {
      /**
       * The height of the Text, setting this will actually modify the scale to achieve the value set
       *
       * @member {number}
       */
      get: function() {
        return this.updateText(true), Math.abs(this.scale.y) * this._texture.orig.height;
      },
      set: function(r) {
        this.updateText(true);
        var n = $c(this.scale.y) || 1;
        this.scale.y = n * r / this._texture.orig.height, this._height = r;
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(t.prototype, "style", {
      /**
       * Set the style of the text. Set up an event listener to listen for changes on the style
       * object and mark the text as dirty.
       *
       * @member {object|PIXI.TextStyle}
       */
      get: function() {
        return this._style;
      },
      set: function(r) {
        r = r || {}, r instanceof uu ? this._style = r : this._style = new uu(r), this.localStyleID = -1, this.dirty = true;
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(t.prototype, "text", {
      /**
       * Set the copy for the text object. To split a line you can use '\n'.
       *
       * @member {string}
       */
      get: function() {
        return this._text;
      },
      set: function(r) {
        r = String(r ?? ""), this._text !== r && (this._text = r, this.dirty = true);
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(t.prototype, "resolution", {
      /**
       * The resolution / device pixel ratio of the canvas.
       * This is set to automatically match the renderer resolution by default, but can be overridden by setting manually.
       * @member {number}
       * @default 1
       */
      get: function() {
        return this._resolution;
      },
      set: function(r) {
        this._autoResolution = false, this._resolution !== r && (this._resolution = r, this.dirty = true);
      },
      enumerable: false,
      configurable: true
    }), t;
  }(Wd)
);
ft.UPLOADS_PER_FRAME = 4;
var AI = function(e13, t) {
  return AI = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
    r.__proto__ = n;
  } || function(r, n) {
    for (var i in n)
      n.hasOwnProperty(i) && (r[i] = n[i]);
  }, AI(e13, t);
};
function _te(e13, t) {
  AI(e13, t);
  function r() {
    this.constructor = e13;
  }
  e13.prototype = t === null ? Object.create(t) : (r.prototype = t.prototype, new r());
}
var d6 = (
  /** @class */
  function() {
    function e13(t) {
      this.maxItemsPerFrame = t, this.itemsLeft = 0;
    }
    return e13.prototype.beginFrame = function() {
      this.itemsLeft = this.maxItemsPerFrame;
    }, e13.prototype.allowedToUpload = function() {
      return this.itemsLeft-- > 0;
    }, e13;
  }()
);
function bte(e13, t) {
  var r = false;
  if (e13 && e13._textures && e13._textures.length) {
    for (var n = 0; n < e13._textures.length; n++)
      if (e13._textures[n] instanceof Pt) {
        var i = e13._textures[n].baseTexture;
        t.indexOf(i) === -1 && (t.push(i), r = true);
      }
  }
  return r;
}
function Tte(e13, t) {
  if (e13.baseTexture instanceof Nr) {
    var r = e13.baseTexture;
    return t.indexOf(r) === -1 && t.push(r), true;
  }
  return false;
}
function Ete(e13, t) {
  if (e13._texture && e13._texture instanceof Pt) {
    var r = e13._texture.baseTexture;
    return t.indexOf(r) === -1 && t.push(r), true;
  }
  return false;
}
function Ste(e13, t) {
  return t instanceof OD ? (t.updateText(true), true) : false;
}
function wte(e13, t) {
  if (t instanceof uu) {
    var r = t.toFontString();
    return Co.measureFont(r), true;
  }
  return false;
}
function Ate(e13, t) {
  if (e13 instanceof OD) {
    t.indexOf(e13.style) === -1 && t.push(e13.style), t.indexOf(e13) === -1 && t.push(e13);
    var r = e13._texture.baseTexture;
    return t.indexOf(r) === -1 && t.push(r), true;
  }
  return false;
}
function Ote(e13, t) {
  return e13 instanceof uu ? (t.indexOf(e13) === -1 && t.push(e13), true) : false;
}
var p6 = (
  /** @class */
  function() {
    function e13(t) {
      var r = this;
      this.limiter = new d6(ft.UPLOADS_PER_FRAME), this.renderer = t, this.uploadHookHelper = null, this.queue = [], this.addHooks = [], this.uploadHooks = [], this.completes = [], this.ticking = false, this.delayedTick = function() {
        r.queue && r.prepareItems();
      }, this.registerFindHook(Ate), this.registerFindHook(Ote), this.registerFindHook(bte), this.registerFindHook(Tte), this.registerFindHook(Ete), this.registerUploadHook(Ste), this.registerUploadHook(wte);
    }
    return e13.prototype.upload = function(t, r) {
      typeof t == "function" && (r = t, t = null), t && this.add(t), this.queue.length ? (r && this.completes.push(r), this.ticking || (this.ticking = true, An.system.addOnce(this.tick, this, Fa.UTILITY))) : r && r();
    }, e13.prototype.tick = function() {
      setTimeout(this.delayedTick, 0);
    }, e13.prototype.prepareItems = function() {
      for (this.limiter.beginFrame(); this.queue.length && this.limiter.allowedToUpload(); ) {
        var t = this.queue[0], r = false;
        if (t && !t._destroyed) {
          for (var n = 0, i = this.uploadHooks.length; n < i; n++)
            if (this.uploadHooks[n](this.uploadHookHelper, t)) {
              this.queue.shift(), r = true;
              break;
            }
        }
        r || this.queue.shift();
      }
      if (this.queue.length)
        An.system.addOnce(this.tick, this, Fa.UTILITY);
      else {
        this.ticking = false;
        var o = this.completes.slice(0);
        this.completes.length = 0;
        for (var n = 0, i = o.length; n < i; n++)
          o[n]();
      }
    }, e13.prototype.registerFindHook = function(t) {
      return t && this.addHooks.push(t), this;
    }, e13.prototype.registerUploadHook = function(t) {
      return t && this.uploadHooks.push(t), this;
    }, e13.prototype.add = function(t) {
      for (var r = 0, n = this.addHooks.length; r < n && !this.addHooks[r](t, this.queue); r++)
        ;
      if (t instanceof Jo)
        for (var r = t.children.length - 1; r >= 0; r--)
          this.add(t.children[r]);
      return this;
    }, e13.prototype.destroy = function() {
      this.ticking && An.system.remove(this.tick, this), this.ticking = false, this.addHooks = null, this.uploadHooks = null, this.renderer = null, this.completes = null, this.queue = null, this.limiter = null, this.uploadHookHelper = null;
    }, e13;
  }()
);
function m6(e13, t) {
  return t instanceof Nr ? (t._glTextures[e13.CONTEXT_UID] || e13.texture.bind(t), true) : false;
}
function Ite(e13, t) {
  if (!(t instanceof AD))
    return false;
  var r = t.geometry;
  t.finishPoly(), r.updateBatches();
  for (var n = r.batches, i = 0; i < n.length; i++) {
    var o = n[i].style.texture;
    o && m6(e13, o.baseTexture);
  }
  return r.batchable || e13.geometry.bind(r, t._resolveDirectShader(e13)), true;
}
function Pte(e13, t) {
  return e13 instanceof AD ? (t.push(e13), true) : false;
}
var g6 = (
  /** @class */
  function(e13) {
    _te(t, e13);
    function t(r) {
      var n = e13.call(this, r) || this;
      return n.uploadHookHelper = n.renderer, n.registerFindHook(Pte), n.registerUploadHook(m6), n.registerUploadHook(Ite), n;
    }
    return t;
  }(p6)
);
var Cte = (
  /** @class */
  function() {
    function e13(t) {
      this.maxMilliseconds = t, this.frameStart = 0;
    }
    return e13.prototype.beginFrame = function() {
      this.frameStart = Date.now();
    }, e13.prototype.allowedToUpload = function() {
      return Date.now() - this.frameStart < this.maxMilliseconds;
    }, e13;
  }()
);
var v6 = (
  /** @class */
  function() {
    function e13(t, r, n) {
      n === void 0 && (n = null), this._texture = t instanceof Pt ? t : null, this.baseTexture = t instanceof Nr ? t : this._texture.baseTexture, this.textures = {}, this.animations = {}, this.data = r;
      var i = this.baseTexture.resource;
      this.resolution = this._updateResolution(n || (i ? i.url : null)), this._frames = this.data.frames, this._frameKeys = Object.keys(this._frames), this._batchIndex = 0, this._callback = null;
    }
    return e13.prototype._updateResolution = function(t) {
      t === void 0 && (t = null);
      var r = this.data.meta.scale, n = Hg(t, null);
      return n === null && (n = r !== void 0 ? parseFloat(r) : 1), n !== 1 && this.baseTexture.setResolution(n), n;
    }, e13.prototype.parse = function(t) {
      this._batchIndex = 0, this._callback = t, this._frameKeys.length <= e13.BATCH_SIZE ? (this._processFrames(0), this._processAnimations(), this._parseComplete()) : this._nextBatch();
    }, e13.prototype._processFrames = function(t) {
      for (var r = t, n = e13.BATCH_SIZE; r - t < n && r < this._frameKeys.length; ) {
        var i = this._frameKeys[r], o = this._frames[i], a = o.frame;
        if (a) {
          var s = null, l = null, u = o.trimmed !== false && o.sourceSize ? o.sourceSize : o.frame, c = new fr(0, 0, Math.floor(u.w) / this.resolution, Math.floor(u.h) / this.resolution);
          o.rotated ? s = new fr(Math.floor(a.x) / this.resolution, Math.floor(a.y) / this.resolution, Math.floor(a.h) / this.resolution, Math.floor(a.w) / this.resolution) : s = new fr(Math.floor(a.x) / this.resolution, Math.floor(a.y) / this.resolution, Math.floor(a.w) / this.resolution, Math.floor(a.h) / this.resolution), o.trimmed !== false && o.spriteSourceSize && (l = new fr(Math.floor(o.spriteSourceSize.x) / this.resolution, Math.floor(o.spriteSourceSize.y) / this.resolution, Math.floor(a.w) / this.resolution, Math.floor(a.h) / this.resolution)), this.textures[i] = new Pt(this.baseTexture, s, c, l, o.rotated ? 2 : 0, o.anchor), Pt.addToCache(this.textures[i], i);
        }
        r++;
      }
    }, e13.prototype._processAnimations = function() {
      var t = this.data.animations || {};
      for (var r in t) {
        this.animations[r] = [];
        for (var n = 0; n < t[r].length; n++) {
          var i = t[r][n];
          this.animations[r].push(this.textures[i]);
        }
      }
    }, e13.prototype._parseComplete = function() {
      var t = this._callback;
      this._callback = null, this._batchIndex = 0, t.call(this, this.textures);
    }, e13.prototype._nextBatch = function() {
      var t = this;
      this._processFrames(this._batchIndex * e13.BATCH_SIZE), this._batchIndex++, setTimeout(function() {
        t._batchIndex * e13.BATCH_SIZE < t._frameKeys.length ? t._nextBatch() : (t._processAnimations(), t._parseComplete());
      }, 0);
    }, e13.prototype.destroy = function(t) {
      var r;
      t === void 0 && (t = false);
      for (var n in this.textures)
        this.textures[n].destroy();
      this._frames = null, this._frameKeys = null, this.data = null, this.textures = null, t && ((r = this._texture) === null || r === void 0 || r.destroy(), this.baseTexture.destroy()), this._texture = null, this.baseTexture = null;
    }, e13.BATCH_SIZE = 1e3, e13;
  }()
);
var y6 = (
  /** @class */
  function() {
    function e13() {
    }
    return e13.use = function(t, r) {
      var n = this, i = t.name + "_image";
      if (!t.data || t.type !== Xm.TYPE.JSON || !t.data.frames || n.resources[i]) {
        r();
        return;
      }
      var o = {
        crossOrigin: t.crossOrigin,
        metadata: t.metadata.imageMetadata,
        parentResource: t
      }, a = e13.getResourcePath(t, n.baseUrl);
      n.add(i, a, o, function(l) {
        if (l.error) {
          r(l.error);
          return;
        }
        var u = new v6(l.texture, t.data, t.url);
        u.parse(function() {
          t.spritesheet = u, t.textures = u.textures, r();
        });
      });
    }, e13.getResourcePath = function(t, r) {
      return t.isDataUrl ? t.data.meta.image : z4.resolve(t.url.replace(r, ""), t.data.meta.image);
    }, e13;
  }()
);
var OI = function(e13, t) {
  return OI = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
    r.__proto__ = n;
  } || function(r, n) {
    for (var i in n)
      n.hasOwnProperty(i) && (r[i] = n[i]);
  }, OI(e13, t);
};
function _6(e13, t) {
  OI(e13, t);
  function r() {
    this.constructor = e13;
  }
  e13.prototype = t === null ? Object.create(t) : (r.prototype = t.prototype, new r());
}
var Mp = new On();
var xte = (
  /** @class */
  function(e13) {
    _6(t, e13);
    function t(r, n, i) {
      n === void 0 && (n = 100), i === void 0 && (i = 100);
      var o = e13.call(this, r) || this;
      return o.tileTransform = new fD(), o._width = n, o._height = i, o.uvMatrix = o.texture.uvMatrix || new RE(r), o.pluginName = "tilingSprite", o.uvRespectAnchor = false, o;
    }
    return Object.defineProperty(t.prototype, "clampMargin", {
      /**
       * Changes frame clamping in corresponding textureTransform, shortcut
       * Change to -0.5 to add a pixel to the edge, recommended for transparent trimmed textures in atlas
       *
       * @default 0.5
       * @member {number}
       */
      get: function() {
        return this.uvMatrix.clampMargin;
      },
      set: function(r) {
        this.uvMatrix.clampMargin = r, this.uvMatrix.update(true);
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(t.prototype, "tileScale", {
      /**
       * The scaling of the image that is being tiled
       *
       * @member {PIXI.ObservablePoint}
       */
      get: function() {
        return this.tileTransform.scale;
      },
      set: function(r) {
        this.tileTransform.scale.copyFrom(r);
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(t.prototype, "tilePosition", {
      /**
       * The offset of the image that is being tiled
       *
       * @member {PIXI.ObservablePoint}
       */
      get: function() {
        return this.tileTransform.position;
      },
      set: function(r) {
        this.tileTransform.position.copyFrom(r);
      },
      enumerable: false,
      configurable: true
    }), t.prototype._onTextureUpdate = function() {
      this.uvMatrix && (this.uvMatrix.texture = this._texture), this._cachedTint = 16777215;
    }, t.prototype._render = function(r) {
      var n = this._texture;
      !n || !n.valid || (this.tileTransform.updateLocalTransform(), this.uvMatrix.update(), r.batch.setObjectRenderer(r.plugins[this.pluginName]), r.plugins[this.pluginName].render(this));
    }, t.prototype._calculateBounds = function() {
      var r = this._width * -this._anchor._x, n = this._height * -this._anchor._y, i = this._width * (1 - this._anchor._x), o = this._height * (1 - this._anchor._y);
      this._bounds.addFrame(this.transform, r, n, i, o);
    }, t.prototype.getLocalBounds = function(r) {
      return this.children.length === 0 ? (this._bounds.minX = this._width * -this._anchor._x, this._bounds.minY = this._height * -this._anchor._y, this._bounds.maxX = this._width * (1 - this._anchor._x), this._bounds.maxY = this._height * (1 - this._anchor._y), r || (this._localBoundsRect || (this._localBoundsRect = new fr()), r = this._localBoundsRect), this._bounds.getRectangle(r)) : e13.prototype.getLocalBounds.call(this, r);
    }, t.prototype.containsPoint = function(r) {
      this.worldTransform.applyInverse(r, Mp);
      var n = this._width, i = this._height, o = -n * this.anchor._x;
      if (Mp.x >= o && Mp.x < o + n) {
        var a = -i * this.anchor._y;
        if (Mp.y >= a && Mp.y < a + i)
          return true;
      }
      return false;
    }, t.prototype.destroy = function(r) {
      e13.prototype.destroy.call(this, r), this.tileTransform = null, this.uvMatrix = null;
    }, t.from = function(r, n) {
      return typeof n == "number" && (ze("5.3.0", "TilingSprite.from use options instead of width and height args"), n = { width: n, height: arguments[2] }), new t(Pt.from(r, n), n.width, n.height);
    }, Object.defineProperty(t.prototype, "width", {
      /**
       * The width of the sprite, setting this will actually modify the scale to achieve the value set
       *
       * @member {number}
       */
      get: function() {
        return this._width;
      },
      set: function(r) {
        this._width = r;
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(t.prototype, "height", {
      /**
       * The height of the TilingSprite, setting this will actually modify the scale to achieve the value set
       *
       * @member {number}
       */
      get: function() {
        return this._height;
      },
      set: function(r) {
        this._height = r;
      },
      enumerable: false,
      configurable: true
    }), t;
  }(Wd)
);
var U5 = `attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`;
var kte = `varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture2D(uSampler, coord);
    gl_FragColor = texSample * uColor;
}
`;
var Dte = `varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;
var Gy = new sn();
var b6 = (
  /** @class */
  function(e13) {
    _6(t, e13);
    function t(r) {
      var n = e13.call(this, r) || this, i = { globals: n.renderer.globalUniforms };
      return n.shader = Xl.from(U5, kte, i), n.simpleShader = Xl.from(U5, Dte, i), n.quad = new bD(), n.state = Kl.for2d(), n;
    }
    return t.prototype.render = function(r) {
      var n = this.renderer, i = this.quad, o = i.vertices;
      o[0] = o[6] = r._width * -r.anchor.x, o[1] = o[3] = r._height * -r.anchor.y, o[2] = o[4] = r._width * (1 - r.anchor.x), o[5] = o[7] = r._height * (1 - r.anchor.y), r.uvRespectAnchor && (o = i.uvs, o[0] = o[6] = -r.anchor.x, o[1] = o[3] = -r.anchor.y, o[2] = o[4] = 1 - r.anchor.x, o[5] = o[7] = 1 - r.anchor.y), i.invalidate();
      var a = r._texture, s = a.baseTexture, l = r.tileTransform.localTransform, u = r.uvMatrix, c = s.isPowerOfTwo && a.frame.width === s.width && a.frame.height === s.height;
      c && (s._glTextures[n.CONTEXT_UID] ? c = s.wrapMode !== ws.CLAMP : s.wrapMode === ws.CLAMP && (s.wrapMode = ws.REPEAT));
      var f = c ? this.simpleShader : this.shader, h = a.width, d = a.height, p = r._width, m = r._height;
      Gy.set(l.a * h / p, l.b * h / m, l.c * d / p, l.d * d / m, l.tx / p, l.ty / m), Gy.invert(), c ? Gy.prepend(u.mapCoord) : (f.uniforms.uMapCoord = u.mapCoord.toArray(true), f.uniforms.uClampFrame = u.uClampFrame, f.uniforms.uClampOffset = u.uClampOffset), f.uniforms.uTransform = Gy.toArray(true), f.uniforms.uColor = hD(r.tint, r.worldAlpha, f.uniforms.uColor, s.alphaMode), f.uniforms.translationMatrix = r.transform.worldTransform.toArray(true), f.uniforms.uSampler = a, n.shader.bind(f), n.geometry.bind(i), this.state.blendMode = uD(r.blendMode, s.alphaMode), n.state.set(this.state), n.geometry.draw(this.renderer.gl.TRIANGLES, 6, 0);
    }, t;
  }(wv)
);
var II = function(e13, t) {
  return II = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
    r.__proto__ = n;
  } || function(r, n) {
    for (var i in n)
      n.hasOwnProperty(i) && (r[i] = n[i]);
  }, II(e13, t);
};
function ID(e13, t) {
  II(e13, t);
  function r() {
    this.constructor = e13;
  }
  e13.prototype = t === null ? Object.create(t) : (r.prototype = t.prototype, new r());
}
var T6 = (
  /** @class */
  function() {
    function e13(t, r) {
      this.uvBuffer = t, this.uvMatrix = r, this.data = null, this._bufferUpdateId = -1, this._textureUpdateId = -1, this._updateID = 0;
    }
    return e13.prototype.update = function(t) {
      if (!(!t && this._bufferUpdateId === this.uvBuffer._updateID && this._textureUpdateId === this.uvMatrix._updateID)) {
        this._bufferUpdateId = this.uvBuffer._updateID, this._textureUpdateId = this.uvMatrix._updateID;
        var r = this.uvBuffer.data;
        (!this.data || this.data.length !== r.length) && (this.data = new Float32Array(r.length)), this.uvMatrix.multiplyUvs(r, this.data), this._updateID++;
      }
    }, e13;
  }()
);
var dw = new On();
var j5 = new _f();
var Qf = (
  /** @class */
  function(e13) {
    ID(t, e13);
    function t(r, n, i, o) {
      o === void 0 && (o = To.TRIANGLES);
      var a = e13.call(this) || this;
      return a.geometry = r, r.refCount++, a.shader = n, a.state = i || Kl.for2d(), a.drawMode = o, a.start = 0, a.size = 0, a.uvs = null, a.indices = null, a.vertexData = new Float32Array(1), a.vertexDirty = 0, a._transformID = -1, a._roundPixels = ft.ROUND_PIXELS, a.batchUvs = null, a;
    }
    return Object.defineProperty(t.prototype, "uvBuffer", {
      /**
       * To change mesh uv's, change its uvBuffer data and increment its _updateID.
       * @member {PIXI.Buffer}
       * @readonly
       */
      get: function() {
        return this.geometry.buffers[1];
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(t.prototype, "verticesBuffer", {
      /**
       * To change mesh vertices, change its uvBuffer data and increment its _updateID.
       * Incrementing _updateID is optional because most of Mesh objects do it anyway.
       * @member {PIXI.Buffer}
       * @readonly
       */
      get: function() {
        return this.geometry.buffers[0];
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(t.prototype, "material", {
      get: function() {
        return this.shader;
      },
      /**
       * Alias for {@link PIXI.Mesh#shader}.
       * @member {PIXI.MeshMaterial}
       */
      set: function(r) {
        this.shader = r;
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(t.prototype, "blendMode", {
      get: function() {
        return this.state.blendMode;
      },
      /**
       * The blend mode to be applied to the Mesh. Apply a value of
       * `PIXI.BLEND_MODES.NORMAL` to reset the blend mode.
       *
       * @member {number}
       * @default PIXI.BLEND_MODES.NORMAL;
       * @see PIXI.BLEND_MODES
       */
      set: function(r) {
        this.state.blendMode = r;
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(t.prototype, "roundPixels", {
      get: function() {
        return this._roundPixels;
      },
      /**
       * If true PixiJS will Math.floor() x/y values when rendering, stopping pixel interpolation.
       * Advantages can include sharper image quality (like text) and faster rendering on canvas.
       * The main disadvantage is movement of objects may appear less smooth.
       * To set the global default, change {@link PIXI.settings.ROUND_PIXELS}
       *
       * @member {boolean}
       * @default false
       */
      set: function(r) {
        this._roundPixels !== r && (this._transformID = -1), this._roundPixels = r;
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(t.prototype, "tint", {
      /**
       * The multiply tint applied to the Mesh. This is a hex value. A value of
       * `0xFFFFFF` will remove any tint effect.
       *
       * @member {number}
       * @default 0xFFFFFF
       */
      get: function() {
        return this.shader.tint;
      },
      set: function(r) {
        this.shader.tint = r;
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(t.prototype, "texture", {
      /**
       * The texture that the Mesh uses.
       *
       * @member {PIXI.Texture}
       */
      get: function() {
        return this.shader.texture;
      },
      set: function(r) {
        this.shader.texture = r;
      },
      enumerable: false,
      configurable: true
    }), t.prototype._render = function(r) {
      var n = this.geometry.buffers[0].data;
      this.shader.batchable && this.drawMode === To.TRIANGLES && n.length < t.BATCHABLE_SIZE * 2 ? this._renderToBatch(r) : this._renderDefault(r);
    }, t.prototype._renderDefault = function(r) {
      var n = this.shader;
      n.alpha = this.worldAlpha, n.update && n.update(), r.batch.flush(), n.program.uniformData.translationMatrix && (n.uniforms.translationMatrix = this.transform.worldTransform.toArray(true)), r.shader.bind(n), r.state.set(this.state), r.geometry.bind(this.geometry, n), r.geometry.draw(this.drawMode, this.size, this.start, this.geometry.instanceCount);
    }, t.prototype._renderToBatch = function(r) {
      var n = this.geometry;
      this.shader.uvMatrix && (this.shader.uvMatrix.update(), this.calculateUvs()), this.calculateVertices(), this.indices = n.indexBuffer.data, this._tintRGB = this.shader._tintRGB, this._texture = this.shader.texture;
      var i = this.material.pluginName;
      r.batch.setObjectRenderer(r.plugins[i]), r.plugins[i].render(this);
    }, t.prototype.calculateVertices = function() {
      var r = this.geometry, n = r.buffers[0].data;
      if (!(r.vertexDirtyId === this.vertexDirty && this._transformID === this.transform._worldID)) {
        this._transformID = this.transform._worldID, this.vertexData.length !== n.length && (this.vertexData = new Float32Array(n.length));
        for (var i = this.transform.worldTransform, o = i.a, a = i.b, s = i.c, l = i.d, u = i.tx, c = i.ty, f = this.vertexData, h = 0; h < f.length / 2; h++) {
          var d = n[h * 2], p = n[h * 2 + 1];
          f[h * 2] = o * d + s * p + u, f[h * 2 + 1] = a * d + l * p + c;
        }
        if (this._roundPixels)
          for (var m = ft.RESOLUTION, h = 0; h < f.length; ++h)
            f[h] = Math.round((f[h] * m | 0) / m);
        this.vertexDirty = r.vertexDirtyId;
      }
    }, t.prototype.calculateUvs = function() {
      var r = this.geometry.buffers[1];
      this.shader.uvMatrix.isSimple ? this.uvs = r.data : (this.batchUvs || (this.batchUvs = new T6(r, this.shader.uvMatrix)), this.batchUvs.update(), this.uvs = this.batchUvs.data);
    }, t.prototype._calculateBounds = function() {
      this.calculateVertices(), this._bounds.addVertexData(this.vertexData, 0, this.vertexData.length);
    }, t.prototype.containsPoint = function(r) {
      if (!this.getBounds().contains(r.x, r.y))
        return false;
      this.worldTransform.applyInverse(r, dw);
      for (var n = this.geometry.getBuffer("aVertexPosition").data, i = j5.points, o = this.geometry.getIndex().data, a = o.length, s = this.drawMode === 4 ? 3 : 1, l = 0; l + 2 < a; l += s) {
        var u = o[l] * 2, c = o[l + 1] * 2, f = o[l + 2] * 2;
        if (i[0] = n[u], i[1] = n[u + 1], i[2] = n[c], i[3] = n[c + 1], i[4] = n[f], i[5] = n[f + 1], j5.contains(dw.x, dw.y))
          return true;
      }
      return false;
    }, t.prototype.destroy = function(r) {
      e13.prototype.destroy.call(this, r), this.geometry.refCount--, this.geometry.refCount === 0 && this.geometry.dispose(), this.geometry = null, this.shader = null, this.state = null, this.uvs = null, this.indices = null, this.vertexData = null;
    }, t.BATCHABLE_SIZE = 100, t;
  }(Jo)
);
var Rte = `varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`;
var Nte = `attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;
var Iv = (
  /** @class */
  function(e13) {
    ID(t, e13);
    function t(r, n) {
      var i = this, o = {
        uSampler: r,
        alpha: 1,
        uTextureMatrix: sn.IDENTITY,
        uColor: new Float32Array([1, 1, 1, 1])
      };
      return n = Object.assign({
        tint: 16777215,
        alpha: 1,
        pluginName: "batch"
      }, n), n.uniforms && Object.assign(o, n.uniforms), i = e13.call(this, n.program || Av.from(Nte, Rte), o) || this, i._colorDirty = false, i.uvMatrix = new RE(r), i.batchable = n.program === void 0, i.pluginName = n.pluginName, i.tint = n.tint, i.alpha = n.alpha, i;
    }
    return Object.defineProperty(t.prototype, "texture", {
      /**
       * Reference to the texture being rendered.
       * @member {PIXI.Texture}
       */
      get: function() {
        return this.uniforms.uSampler;
      },
      set: function(r) {
        this.uniforms.uSampler !== r && (this.uniforms.uSampler = r, this.uvMatrix.texture = r);
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(t.prototype, "alpha", {
      get: function() {
        return this._alpha;
      },
      /**
       * This gets automatically set by the object using this.
       *
       * @default 1
       * @member {number}
       */
      set: function(r) {
        r !== this._alpha && (this._alpha = r, this._colorDirty = true);
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(t.prototype, "tint", {
      get: function() {
        return this._tint;
      },
      /**
       * Multiply tint for the material.
       * @member {number}
       * @default 0xFFFFFF
       */
      set: function(r) {
        r !== this._tint && (this._tint = r, this._tintRGB = (r >> 16) + (r & 65280) + ((r & 255) << 16), this._colorDirty = true);
      },
      enumerable: false,
      configurable: true
    }), t.prototype.update = function() {
      if (this._colorDirty) {
        this._colorDirty = false;
        var r = this.texture.baseTexture;
        hD(this._tint, this._alpha, this.uniforms.uColor, r.alphaMode);
      }
      this.uvMatrix.update() && (this.uniforms.uTextureMatrix = this.uvMatrix.mapCoord);
    }, t;
  }(Xl)
);
var Pv = (
  /** @class */
  function(e13) {
    ID(t, e13);
    function t(r, n, i) {
      var o = e13.call(this) || this, a = new wn(r), s = new wn(n, true), l = new wn(i, true, true);
      return o.addAttribute("aVertexPosition", a, 2, false, on.FLOAT).addAttribute("aTextureCoord", s, 2, false, on.FLOAT).addIndex(l), o._updateId = -1, o;
    }
    return Object.defineProperty(t.prototype, "vertexDirtyId", {
      /**
       * If the vertex position is updated.
       * @member {number}
       * @readonly
       * @private
       */
      get: function() {
        return this.buffers[0]._updateID;
      },
      enumerable: false,
      configurable: true
    }), t;
  }(Xd)
);
var PI = function(e13, t) {
  return PI = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
    r.__proto__ = n;
  } || function(r, n) {
    for (var i in n)
      n.hasOwnProperty(i) && (r[i] = n[i]);
  }, PI(e13, t);
};
function Mte(e13, t) {
  PI(e13, t);
  function r() {
    this.constructor = e13;
  }
  e13.prototype = t === null ? Object.create(t) : (r.prototype = t.prototype, new r());
}
var jg = (
  /** @class */
  /* @__PURE__ */ function() {
    function e13() {
      this.info = [], this.common = [], this.page = [], this.char = [], this.kerning = [];
    }
    return e13;
  }()
);
var Lte = (
  /** @class */
  function() {
    function e13() {
    }
    return e13.test = function(t) {
      return typeof t == "string" && t.indexOf("info face=") === 0;
    }, e13.parse = function(t) {
      var r = t.match(/^[a-z]+\s+.+$/gm), n = {
        info: [],
        common: [],
        page: [],
        char: [],
        chars: [],
        kerning: [],
        kernings: []
      };
      for (var i in r) {
        var o = r[i].match(/^[a-z]+/gm)[0], a = r[i].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm), s = {};
        for (var l in a) {
          var u = a[l].split("="), c = u[0], f = u[1].replace(/"/gm, ""), h = parseFloat(f), d = isNaN(h) ? f : h;
          s[c] = d;
        }
        n[o].push(s);
      }
      var p = new jg();
      return n.info.forEach(function(m) {
        return p.info.push({
          face: m.face,
          size: parseInt(m.size, 10)
        });
      }), n.common.forEach(function(m) {
        return p.common.push({
          lineHeight: parseInt(m.lineHeight, 10)
        });
      }), n.page.forEach(function(m) {
        return p.page.push({
          id: parseInt(m.id, 10),
          file: m.file
        });
      }), n.char.forEach(function(m) {
        return p.char.push({
          id: parseInt(m.id, 10),
          page: parseInt(m.page, 10),
          x: parseInt(m.x, 10),
          y: parseInt(m.y, 10),
          width: parseInt(m.width, 10),
          height: parseInt(m.height, 10),
          xoffset: parseInt(m.xoffset, 10),
          yoffset: parseInt(m.yoffset, 10),
          xadvance: parseInt(m.xadvance, 10)
        });
      }), n.kerning.forEach(function(m) {
        return p.kerning.push({
          first: parseInt(m.first, 10),
          second: parseInt(m.second, 10),
          amount: parseInt(m.amount, 10)
        });
      }), p;
    }, e13;
  }()
);
var CI = (
  /** @class */
  function() {
    function e13() {
    }
    return e13.test = function(t) {
      return t instanceof XMLDocument && t.getElementsByTagName("page").length && t.getElementsByTagName("info")[0].getAttribute("face") !== null;
    }, e13.parse = function(t) {
      for (var r = new jg(), n = t.getElementsByTagName("info"), i = t.getElementsByTagName("common"), o = t.getElementsByTagName("page"), a = t.getElementsByTagName("char"), s = t.getElementsByTagName("kerning"), l = 0; l < n.length; l++)
        r.info.push({
          face: n[l].getAttribute("face"),
          size: parseInt(n[l].getAttribute("size"), 10)
        });
      for (var l = 0; l < i.length; l++)
        r.common.push({
          lineHeight: parseInt(i[l].getAttribute("lineHeight"), 10)
        });
      for (var l = 0; l < o.length; l++)
        r.page.push({
          id: parseInt(o[l].getAttribute("id"), 10) || 0,
          file: o[l].getAttribute("file")
        });
      for (var l = 0; l < a.length; l++) {
        var u = a[l];
        r.char.push({
          id: parseInt(u.getAttribute("id"), 10),
          page: parseInt(u.getAttribute("page"), 10) || 0,
          x: parseInt(u.getAttribute("x"), 10),
          y: parseInt(u.getAttribute("y"), 10),
          width: parseInt(u.getAttribute("width"), 10),
          height: parseInt(u.getAttribute("height"), 10),
          xoffset: parseInt(u.getAttribute("xoffset"), 10),
          yoffset: parseInt(u.getAttribute("yoffset"), 10),
          xadvance: parseInt(u.getAttribute("xadvance"), 10)
        });
      }
      for (var l = 0; l < s.length; l++)
        r.kerning.push({
          first: parseInt(s[l].getAttribute("first"), 10),
          second: parseInt(s[l].getAttribute("second"), 10),
          amount: parseInt(s[l].getAttribute("amount"), 10)
        });
      return r;
    }, e13;
  }()
);
var Bte = (
  /** @class */
  function() {
    function e13() {
    }
    return e13.test = function(t) {
      if (typeof t == "string" && t.indexOf("<font>") > -1) {
        var r = new self.DOMParser().parseFromString(t, "text/xml");
        return CI.test(r);
      }
      return false;
    }, e13.parse = function(t) {
      var r = new window.DOMParser().parseFromString(t, "text/xml");
      return CI.parse(r);
    }, e13;
  }()
);
var pw = [
  Lte,
  CI,
  Bte
];
function E6(e13) {
  for (var t = 0; t < pw.length; t++)
    if (pw[t].test(e13))
      return pw[t];
  return null;
}
function Fte(e13, t, r, n, i, o) {
  var a = r.fill;
  if (Array.isArray(a)) {
    if (a.length === 1)
      return a[0];
  } else return a;
  var s, l = r.dropShadow ? r.dropShadowDistance : 0, u = r.padding || 0, c = Math.ceil(e13.width / n) - l - u * 2, f = Math.ceil(e13.height / n) - l - u * 2, h = a.slice(), d = r.fillGradientStops.slice();
  if (!d.length)
    for (var p = h.length + 1, m = 1; m < p; ++m)
      d.push(m / p);
  if (h.unshift(a[0]), d.unshift(0), h.push(a[a.length - 1]), d.push(1), r.fillGradientType === Zf.LINEAR_VERTICAL) {
    s = t.createLinearGradient(c / 2, u, c / 2, f + u);
    for (var g = 0, v = o.fontProperties.fontSize + r.strokeThickness, b = v / f, m = 0; m < i.length; m++)
      for (var y = o.lineHeight * m, _ = 0; _ < h.length; _++) {
        var T = 0;
        typeof d[_] == "number" ? T = d[_] : T = _ / h.length;
        var E = y / f + T * b, O = Math.max(g, E);
        O = Math.min(O, 1), s.addColorStop(O, h[_]), g = O;
      }
  } else {
    s = t.createLinearGradient(u, f / 2, c + u, f / 2);
    for (var S = h.length + 1, P = 1, m = 0; m < h.length; m++) {
      var C = void 0;
      typeof d[m] == "number" ? C = d[m] : C = P / S, s.addColorStop(C, h[m]), P++;
    }
  }
  return s;
}
function $te(e13, t, r, n, i, o, a) {
  var s = r.text, l = r.fontProperties;
  t.translate(n, i), t.scale(o, o);
  var u = a.strokeThickness / 2, c = -(a.strokeThickness / 2);
  if (t.font = a.toFontString(), t.lineWidth = a.strokeThickness, t.textBaseline = a.textBaseline, t.lineJoin = a.lineJoin, t.miterLimit = a.miterLimit, t.fillStyle = Fte(e13, t, a, o, [s], r), t.strokeStyle = a.stroke, a.dropShadow) {
    var f = a.dropShadowColor, h = au(typeof f == "number" ? f : lD(f)), d = a.dropShadowBlur * o, p = a.dropShadowDistance * o;
    t.shadowColor = "rgba(" + h[0] * 255 + "," + h[1] * 255 + "," + h[2] * 255 + "," + a.dropShadowAlpha + ")", t.shadowBlur = d, t.shadowOffsetX = Math.cos(a.dropShadowAngle) * p, t.shadowOffsetY = Math.sin(a.dropShadowAngle) * p;
  } else
    t.shadowColor = "black", t.shadowBlur = 0, t.shadowOffsetX = 0, t.shadowOffsetY = 0;
  a.stroke && a.strokeThickness && t.strokeText(s, u, c + r.lineHeight - l.descent), a.fill && t.fillText(s, u, c + r.lineHeight - l.descent), t.setTransform(1, 0, 0, 1, 0, 0), t.fillStyle = "rgba(0, 0, 0, 0)";
}
function Hte(e13) {
  typeof e13 == "string" && (e13 = [e13]);
  for (var t = [], r = 0, n = e13.length; r < n; r++) {
    var i = e13[r];
    if (Array.isArray(i)) {
      if (i.length !== 2)
        throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got " + i.length + ".");
      var o = i[0].charCodeAt(0), a = i[1].charCodeAt(0);
      if (a < o)
        throw new Error("[BitmapFont]: Invalid character range.");
      for (var s = o, l = a; s <= l; s++)
        t.push(String.fromCharCode(s));
    } else
      t.push.apply(t, i.split(""));
  }
  if (t.length === 0)
    throw new Error("[BitmapFont]: Empty set when resolving characters.");
  return t;
}
var yl = (
  /** @class */
  function() {
    function e13(t, r, n) {
      var i = t.info[0], o = t.common[0], a = t.page[0], s = Hg(a.file), l = {};
      this._ownsTextures = n, this.font = i.face, this.size = i.size, this.lineHeight = o.lineHeight / s, this.chars = {}, this.pageTextures = l;
      for (var u = 0; u < t.page.length; u++) {
        var c = t.page[u], f = c.id, h = c.file;
        l[f] = r instanceof Array ? r[u] : r[h];
      }
      for (var u = 0; u < t.char.length; u++) {
        var d = t.char[u], f = d.id, p = d.page, m = t.char[u], g = m.x, v = m.y, b = m.width, y = m.height, _ = m.xoffset, T = m.yoffset, E = m.xadvance;
        g /= s, v /= s, b /= s, y /= s, _ /= s, T /= s, E /= s;
        var O = new fr(g + l[p].frame.x / s, v + l[p].frame.y / s, b, y);
        this.chars[f] = {
          xOffset: _,
          yOffset: T,
          xAdvance: E,
          kerning: {},
          texture: new Pt(l[p].baseTexture, O),
          page: p
        };
      }
      for (var u = 0; u < t.kerning.length; u++) {
        var S = t.kerning[u], P = S.first, C = S.second, w = S.amount;
        P /= s, C /= s, w /= s, this.chars[C] && (this.chars[C].kerning[P] = w);
      }
    }
    return e13.prototype.destroy = function() {
      for (var t in this.chars)
        this.chars[t].texture.destroy(), this.chars[t].texture = null;
      for (var t in this.pageTextures)
        this._ownsTextures && this.pageTextures[t].destroy(true), this.pageTextures[t] = null;
      this.chars = null, this.pageTextures = null;
    }, e13.install = function(t, r, n) {
      var i;
      if (t instanceof jg)
        i = t;
      else {
        var o = E6(t);
        if (!o)
          throw new Error("Unrecognized data format for font.");
        i = o.parse(t);
      }
      r instanceof Pt && (r = [r]);
      var a = new e13(i, r, n);
      return e13.available[a.font] = a, a;
    }, e13.uninstall = function(t) {
      var r = e13.available[t];
      if (!r)
        throw new Error("No font found named '" + t + "'");
      r.destroy(), delete e13.available[t];
    }, e13.from = function(t, r, n) {
      if (!t)
        throw new Error("[BitmapFont] Property `name` is required.");
      var i = Object.assign({}, e13.defaultOptions, n), o = i.chars, a = i.padding, s = i.resolution, l = i.textureWidth, u = i.textureHeight, c = Hte(o), f = r instanceof uu ? r : new uu(r), h = l, d = new jg();
      d.info[0] = {
        face: f.fontFamily,
        size: f.fontSize
      }, d.common[0] = {
        lineHeight: f.fontSize
      };
      for (var p = 0, m = 0, g, v, b, y = 0, _ = [], T = 0; T < c.length; T++) {
        g || (g = document.createElement("canvas"), g.width = l, g.height = u, v = g.getContext("2d"), b = new Nr(g, { resolution: s }), _.push(new Pt(b)), d.page.push({
          id: _.length - 1,
          file: ""
        }));
        var E = Co.measureText(c[T], f, false, g), O = E.width, S = Math.ceil(E.height), P = Math.ceil((f.fontStyle === "italic" ? 2 : 1) * O);
        if (m >= u - S * s) {
          if (m === 0)
            throw new Error("[BitmapFont] textureHeight " + u + "px is " + ("too small for " + f.fontSize + "px fonts"));
          --T, g = null, v = null, b = null, m = 0, p = 0, y = 0;
          continue;
        }
        if (y = Math.max(S + E.fontProperties.descent, y), P * s + p >= h) {
          --T, m += y * s, m = Math.ceil(m), p = 0, y = 0;
          continue;
        }
        $te(g, v, E, p, m, s, f);
        var C = E.text.charCodeAt(0);
        d.char.push({
          id: C,
          page: _.length - 1,
          x: p / s,
          y: m / s,
          width: P,
          height: S,
          xoffset: 0,
          yoffset: 0,
          xadvance: Math.ceil(O - (f.dropShadow ? f.dropShadowDistance : 0) - (f.stroke ? f.strokeThickness : 0))
        }), p += (P + 2 * a) * s, p = Math.ceil(p);
      }
      var w = new e13(d, _, true);
      return e13.available[t] !== void 0 && e13.uninstall(t), e13.available[t] = w, w;
    }, e13.ALPHA = [["a", "z"], ["A", "Z"], " "], e13.NUMERIC = [["0", "9"]], e13.ALPHANUMERIC = [["a", "z"], ["A", "Z"], ["0", "9"], " "], e13.ASCII = [[" ", "~"]], e13.defaultOptions = {
      resolution: 1,
      textureWidth: 512,
      textureHeight: 512,
      padding: 4,
      chars: e13.ALPHANUMERIC
    }, e13.available = {}, e13;
  }()
);
var G5 = [];
var z5 = [];
var Ute = (
  /** @class */
  function(e13) {
    Mte(t, e13);
    function t(r, n) {
      n === void 0 && (n = {});
      var i = e13.call(this) || this;
      i._tint = 16777215, n.font && (ze("5.3.0", "PIXI.BitmapText constructor style.font property is deprecated."), i._upgradeStyle(n));
      var o = Object.assign({}, t.styleDefaults, n), a = o.align, s = o.tint, l = o.maxWidth, u = o.letterSpacing, c = o.fontName, f = o.fontSize;
      if (!yl.available[c])
        throw new Error('Missing BitmapFont "' + c + '"');
      return i._activePagesMeshData = [], i._textWidth = 0, i._textHeight = 0, i._align = a, i._tint = s, i._fontName = c, i._fontSize = f || yl.available[c].size, i._text = r, i._maxWidth = l, i._maxLineHeight = 0, i._letterSpacing = u, i._anchor = new Hc(function() {
        i.dirty = true;
      }, i, 0, 0), i._roundPixels = ft.ROUND_PIXELS, i.dirty = true, i._textureCache = {}, i;
    }
    return t.prototype.updateText = function() {
      for (var r, n = yl.available[this._fontName], i = this._fontSize / n.size, o = new On(), a = [], s = [], l = this._text.replace(/(?:\r\n|\r)/g, `
`) || " ", u = l.length, c = this._maxWidth * n.size / this._fontSize, f = null, h = 0, d = 0, p = 0, m = -1, g = 0, v = 0, b = 0, y = 0; y < u; y++) {
        var _ = l.charCodeAt(y), T = l.charAt(y);
        if (/(?:\s)/.test(T) && (m = y, g = h), T === "\r" || T === `
`) {
          s.push(h), d = Math.max(d, h), ++p, ++v, o.x = 0, o.y += n.lineHeight, f = null;
          continue;
        }
        var E = n.chars[_];
        if (E) {
          f && E.kerning[f] && (o.x += E.kerning[f]);
          var O = z5.pop() || {
            texture: Pt.EMPTY,
            line: 0,
            charCode: 0,
            position: new On()
          };
          O.texture = E.texture, O.line = p, O.charCode = _, O.position.x = o.x + E.xOffset + this._letterSpacing / 2, O.position.y = o.y + E.yOffset, a.push(O), o.x += E.xAdvance + this._letterSpacing, h = o.x, b = Math.max(b, E.yOffset + E.texture.height), f = _, m !== -1 && c > 0 && o.x > c && (++v, Kc(a, 1 + m - v, 1 + y - m), y = m, m = -1, s.push(g), d = Math.max(d, g), p++, o.x = 0, o.y += n.lineHeight, f = null);
        }
      }
      var S = l.charAt(l.length - 1);
      S !== "\r" && S !== `
` && (/(?:\s)/.test(S) && (h = g), s.push(h), d = Math.max(d, h));
      for (var P = [], y = 0; y <= p; y++) {
        var C = 0;
        this._align === "right" ? C = d - s[y] : this._align === "center" && (C = (d - s[y]) / 2), P.push(C);
      }
      for (var w = a.length, N = {}, L = [], A = this._activePagesMeshData, y = 0; y < A.length; y++)
        G5.push(A[y]);
      for (var y = 0; y < w; y++) {
        var R = a[y].texture, F = R.baseTexture.uid;
        if (!N[F]) {
          var $ = G5.pop();
          if (!$) {
            var K = new Pv(), ie = new Iv(Pt.EMPTY), J = new Qf(K, ie);
            $ = {
              index: 0,
              indexCount: 0,
              vertexCount: 0,
              uvsCount: 0,
              total: 0,
              mesh: J,
              vertices: null,
              uvs: null,
              indices: null
            };
          }
          $.index = 0, $.indexCount = 0, $.vertexCount = 0, $.uvsCount = 0, $.total = 0;
          var pe = this._textureCache;
          pe[F] = pe[F] || new Pt(R.baseTexture), $.mesh.texture = pe[F], $.mesh.tint = this._tint, L.push($), N[F] = $;
        }
        N[F].total++;
      }
      for (var y = 0; y < A.length; y++)
        L.indexOf(A[y]) === -1 && this.removeChild(A[y].mesh);
      for (var y = 0; y < L.length; y++)
        L[y].mesh.parent !== this && this.addChild(L[y].mesh);
      this._activePagesMeshData = L;
      for (var y in N) {
        var $ = N[y], oe = $.total;
        if (!(((r = $.indices) === null || r === void 0 ? void 0 : r.length) > 6 * oe) || $.vertices.length < Qf.BATCHABLE_SIZE * 2)
          $.vertices = new Float32Array(4 * 2 * oe), $.uvs = new Float32Array(4 * 2 * oe), $.indices = new Uint16Array(6 * oe);
        else
          for (var q = $.total, W = $.vertices, se = q * 4 * 2; se < W.length; se++)
            W[se] = 0;
        $.mesh.size = 6 * oe;
      }
      for (var y = 0; y < w; y++) {
        var T = a[y], Te = T.position.x + P[T.line];
        this._roundPixels && (Te = Math.round(Te));
        var Ae = Te * i, Re = T.position.y * i, R = T.texture, Ee = N[R.baseTexture.uid], Me = R.frame, Ne = R._uvs, Oe = Ee.index++;
        Ee.indices[Oe * 6 + 0] = 0 + Oe * 4, Ee.indices[Oe * 6 + 1] = 1 + Oe * 4, Ee.indices[Oe * 6 + 2] = 2 + Oe * 4, Ee.indices[Oe * 6 + 3] = 0 + Oe * 4, Ee.indices[Oe * 6 + 4] = 2 + Oe * 4, Ee.indices[Oe * 6 + 5] = 3 + Oe * 4, Ee.vertices[Oe * 8 + 0] = Ae, Ee.vertices[Oe * 8 + 1] = Re, Ee.vertices[Oe * 8 + 2] = Ae + Me.width * i, Ee.vertices[Oe * 8 + 3] = Re, Ee.vertices[Oe * 8 + 4] = Ae + Me.width * i, Ee.vertices[Oe * 8 + 5] = Re + Me.height * i, Ee.vertices[Oe * 8 + 6] = Ae, Ee.vertices[Oe * 8 + 7] = Re + Me.height * i, Ee.uvs[Oe * 8 + 0] = Ne.x0, Ee.uvs[Oe * 8 + 1] = Ne.y0, Ee.uvs[Oe * 8 + 2] = Ne.x1, Ee.uvs[Oe * 8 + 3] = Ne.y1, Ee.uvs[Oe * 8 + 4] = Ne.x2, Ee.uvs[Oe * 8 + 5] = Ne.y2, Ee.uvs[Oe * 8 + 6] = Ne.x3, Ee.uvs[Oe * 8 + 7] = Ne.y3;
      }
      this._textWidth = d * i, this._textHeight = (o.y + n.lineHeight) * i;
      for (var y in N) {
        var $ = N[y];
        if (this.anchor.x !== 0 || this.anchor.y !== 0)
          for (var Fe = 0, Ue = this._textWidth * this.anchor.x, et = this._textHeight * this.anchor.y, ot = 0; ot < $.total; ot++)
            $.vertices[Fe++] -= Ue, $.vertices[Fe++] -= et, $.vertices[Fe++] -= Ue, $.vertices[Fe++] -= et, $.vertices[Fe++] -= Ue, $.vertices[Fe++] -= et, $.vertices[Fe++] -= Ue, $.vertices[Fe++] -= et;
        this._maxLineHeight = b * i;
        var Ke = $.mesh.geometry.getBuffer("aVertexPosition"), ht = $.mesh.geometry.getBuffer("aTextureCoord"), bt = $.mesh.geometry.getIndex();
        Ke.data = $.vertices, ht.data = $.uvs, bt.data = $.indices, Ke.update(), ht.update(), bt.update();
      }
      for (var y = 0; y < a.length; y++)
        z5.push(a[y]);
    }, t.prototype.updateTransform = function() {
      this.validate(), this.containerUpdateTransform();
    }, t.prototype.getLocalBounds = function() {
      return this.validate(), e13.prototype.getLocalBounds.call(this);
    }, t.prototype.validate = function() {
      this.dirty && (this.updateText(), this.dirty = false);
    }, Object.defineProperty(t.prototype, "tint", {
      /**
       * The tint of the BitmapText object.
       *
       * @member {number}
       * @default 0xffffff
       */
      get: function() {
        return this._tint;
      },
      set: function(r) {
        if (this._tint !== r) {
          this._tint = r;
          for (var n = 0; n < this._activePagesMeshData.length; n++)
            this._activePagesMeshData[n].mesh.tint = r;
        }
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(t.prototype, "align", {
      /**
       * The alignment of the BitmapText object.
       *
       * @member {string}
       * @default 'left'
       */
      get: function() {
        return this._align;
      },
      set: function(r) {
        this._align !== r && (this._align = r, this.dirty = true);
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(t.prototype, "fontName", {
      /**
       * The name of the BitmapFont.
       *
       * @member {string}
       */
      get: function() {
        return this._fontName;
      },
      set: function(r) {
        if (!yl.available[r])
          throw new Error('Missing BitmapFont "' + r + '"');
        this._fontName !== r && (this._fontName = r, this.dirty = true);
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(t.prototype, "fontSize", {
      /**
       * The size of the font to display.
       *
       * @member {number}
       */
      get: function() {
        return this._fontSize;
      },
      set: function(r) {
        this._fontSize !== r && (this._fontSize = r, this.dirty = true);
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(t.prototype, "anchor", {
      /**
       * The anchor sets the origin point of the text.
       *
       * The default is `(0,0)`, this means the text's origin is the top left.
       *
       * Setting the anchor to `(0.5,0.5)` means the text's origin is centered.
       *
       * Setting the anchor to `(1,1)` would mean the text's origin point will be the bottom right corner.
       *
       * @member {PIXI.Point | number}
       */
      get: function() {
        return this._anchor;
      },
      set: function(r) {
        typeof r == "number" ? this._anchor.set(r) : this._anchor.copyFrom(r);
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(t.prototype, "text", {
      /**
       * The text of the BitmapText object.
       *
       * @member {string}
       */
      get: function() {
        return this._text;
      },
      set: function(r) {
        r = String(r ?? ""), this._text !== r && (this._text = r, this.dirty = true);
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(t.prototype, "maxWidth", {
      /**
       * The max width of this bitmap text in pixels. If the text provided is longer than the
       * value provided, line breaks will be automatically inserted in the last whitespace.
       * Disable by setting the value to 0.
       *
       * @member {number}
       */
      get: function() {
        return this._maxWidth;
      },
      set: function(r) {
        this._maxWidth !== r && (this._maxWidth = r, this.dirty = true);
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(t.prototype, "maxLineHeight", {
      /**
       * The max line height. This is useful when trying to use the total height of the Text,
       * i.e. when trying to vertically align.
       *
       * @member {number}
       * @readonly
       */
      get: function() {
        return this.validate(), this._maxLineHeight;
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(t.prototype, "textWidth", {
      /**
       * The width of the overall text, different from fontSize,
       * which is defined in the style object.
       *
       * @member {number}
       * @readonly
       */
      get: function() {
        return this.validate(), this._textWidth;
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(t.prototype, "letterSpacing", {
      /**
       * Additional space between characters.
       *
       * @member {number}
       */
      get: function() {
        return this._letterSpacing;
      },
      set: function(r) {
        this._letterSpacing !== r && (this._letterSpacing = r, this.dirty = true);
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(t.prototype, "roundPixels", {
      /**
       * If true PixiJS will Math.floor() x/y values when rendering, stopping pixel interpolation.
       * Advantages can include sharper image quality (like text) and faster rendering on canvas.
       * The main disadvantage is movement of objects may appear less smooth.
       * To set the global default, change {@link PIXI.settings.ROUND_PIXELS}
       *
       * @member {boolean}
       * @default PIXI.settings.ROUND_PIXELS
       */
      get: function() {
        return this._roundPixels;
      },
      set: function(r) {
        r !== this._roundPixels && (this._roundPixels = r, this.dirty = true);
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(t.prototype, "textHeight", {
      /**
       * The height of the overall text, different from fontSize,
       * which is defined in the style object.
       *
       * @member {number}
       * @readonly
       */
      get: function() {
        return this.validate(), this._textHeight;
      },
      enumerable: false,
      configurable: true
    }), t.prototype._upgradeStyle = function(r) {
      if (typeof r.font == "string") {
        var n = r.font.split(" ");
        r.fontName = n.length === 1 ? n[0] : n.slice(1).join(" "), n.length >= 2 && (r.fontSize = parseInt(n[0], 10));
      } else
        r.fontName = r.font.name, r.fontSize = typeof r.font.size == "number" ? r.font.size : parseInt(r.font.size, 10);
    }, t.prototype.destroy = function(r) {
      var n = this._textureCache;
      for (var i in n) {
        var o = n[i];
        o.destroy(), delete n[i];
      }
      this._textureCache = null, e13.prototype.destroy.call(this, r);
    }, t.registerFont = function(r, n) {
      return ze("5.3.0", "PIXI.BitmapText.registerFont is deprecated, use PIXI.BitmapFont.install"), yl.install(r, n);
    }, Object.defineProperty(t, "fonts", {
      /**
       * Get the list of installed fonts.
       *
       * @see PIXI.BitmapFont.available
       * @deprecated since 5.3.0
       * @static
       * @readonly
       * @member {Object.<string, PIXI.BitmapFont>}
       */
      get: function() {
        return ze("5.3.0", "PIXI.BitmapText.fonts is deprecated, use PIXI.BitmapFont.available"), yl.available;
      },
      enumerable: false,
      configurable: true
    }), t.styleDefaults = {
      align: "left",
      tint: 16777215,
      maxWidth: 0,
      letterSpacing: 0
    }, t;
  }(Jo)
);
var S6 = (
  /** @class */
  function() {
    function e13() {
    }
    return e13.add = function() {
      Xm.setExtensionXhrType("fnt", Xm.XHR_RESPONSE_TYPE.TEXT);
    }, e13.use = function(t, r) {
      var n = E6(t.data);
      if (!n) {
        r();
        return;
      }
      for (var i = e13.getBaseUrl(this, t), o = n.parse(t.data), a = {}, s = function(m) {
        a[m.metadata.pageFile] = m.texture, Object.keys(a).length === o.page.length && (t.bitmapFont = yl.install(o, a, true), r());
      }, l = 0; l < o.page.length; ++l) {
        var u = o.page[l].file, c = i + u, f = false;
        for (var h in this.resources) {
          var d = this.resources[h];
          if (d.url === c) {
            d.metadata.pageFile = u, d.texture ? s(d) : d.onAfterMiddleware.add(s), f = true;
            break;
          }
        }
        if (!f) {
          var p = {
            crossOrigin: t.crossOrigin,
            loadType: Xm.LOAD_TYPE.IMAGE,
            metadata: Object.assign({ pageFile: u }, t.metadata.imageMetadata),
            parentResource: t
          };
          this.add(c, p, s);
        }
      }
    }, e13.getBaseUrl = function(t, r) {
      var n = r.isDataUrl ? "" : e13.dirname(r.url);
      return r.isDataUrl && (n === "." && (n = ""), t.baseUrl && n && t.baseUrl.charAt(t.baseUrl.length - 1) === "/" && (n += "/")), n = n.replace(t.baseUrl, ""), n && n.charAt(n.length - 1) !== "/" && (n += "/"), n;
    }, e13.dirname = function(t) {
      var r = t.replace(/\\/g, "/").replace(/\/$/, "").replace(/\/[^\/]*$/, "");
      return r === t ? "." : r === "" ? "/" : r;
    }, e13;
  }()
);
var xI = function(e13, t) {
  return xI = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
    r.__proto__ = n;
  } || function(r, n) {
    for (var i in n)
      n.hasOwnProperty(i) && (r[i] = n[i]);
  }, xI(e13, t);
};
function jte(e13, t) {
  xI(e13, t);
  function r() {
    this.constructor = e13;
  }
  e13.prototype = t === null ? Object.create(t) : (r.prototype = t.prototype, new r());
}
var Gte = `varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;
var zte = (
  /** @class */
  function(e13) {
    jte(t, e13);
    function t(r) {
      r === void 0 && (r = 1);
      var n = e13.call(this, XG, Gte, { uAlpha: 1 }) || this;
      return n.alpha = r, n;
    }
    return Object.defineProperty(t.prototype, "alpha", {
      /**
       * Coefficient for alpha multiplication
       *
       * @member {number}
       * @default 1
       */
      get: function() {
        return this.uniforms.uAlpha;
      },
      set: function(r) {
        this.uniforms.uAlpha = r;
      },
      enumerable: false,
      configurable: true
    }), t;
  }(Fs)
);
var kI = function(e13, t) {
  return kI = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
    r.__proto__ = n;
  } || function(r, n) {
    for (var i in n)
      n.hasOwnProperty(i) && (r[i] = n[i]);
  }, kI(e13, t);
};
function w6(e13, t) {
  kI(e13, t);
  function r() {
    this.constructor = e13;
  }
  e13.prototype = t === null ? Object.create(t) : (r.prototype = t.prototype, new r());
}
var Vte = `
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;
function Xte(e13, t) {
  var r = Math.ceil(e13 / 2), n = Vte, i = "", o;
  t ? o = "vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);" : o = "vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";
  for (var a = 0; a < e13; a++) {
    var s = o.replace("%index%", a.toString());
    s = s.replace("%sampleIndex%", a - (r - 1) + ".0"), i += s, i += `
`;
  }
  return n = n.replace("%blur%", i), n = n.replace("%size%", e13.toString()), n;
}
var Wte = {
  5: [0.153388, 0.221461, 0.250301],
  7: [0.071303, 0.131514, 0.189879, 0.214607],
  9: [0.028532, 0.067234, 0.124009, 0.179044, 0.20236],
  11: [93e-4, 0.028002, 0.065984, 0.121703, 0.175713, 0.198596],
  13: [2406e-6, 9255e-6, 0.027867, 0.065666, 0.121117, 0.174868, 0.197641],
  15: [489e-6, 2403e-6, 9246e-6, 0.02784, 0.065602, 0.120999, 0.174697, 0.197448]
};
var Yte = [
  "varying vec2 vBlurTexCoords[%size%];",
  "uniform sampler2D uSampler;",
  "void main(void)",
  "{",
  "    gl_FragColor = vec4(0.0);",
  "    %blur%",
  "}"
].join(`
`);
function qte(e13) {
  for (var t = Wte[e13], r = t.length, n = Yte, i = "", o = "gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;", a, s = 0; s < e13; s++) {
    var l = o.replace("%index%", s.toString());
    a = s, s >= r && (a = e13 - s - 1), l = l.replace("%value%", t[a].toString()), i += l, i += `
`;
  }
  return n = n.replace("%blur%", i), n = n.replace("%size%", e13.toString()), n;
}
var V5;
(function(e13) {
  e13[e13.WEBGL_LEGACY = 0] = "WEBGL_LEGACY", e13[e13.WEBGL = 1] = "WEBGL", e13[e13.WEBGL2 = 2] = "WEBGL2";
})(V5 || (V5 = {}));
var X5;
(function(e13) {
  e13[e13.UNKNOWN = 0] = "UNKNOWN", e13[e13.WEBGL = 1] = "WEBGL", e13[e13.CANVAS = 2] = "CANVAS";
})(X5 || (X5 = {}));
var W5;
(function(e13) {
  e13[e13.COLOR = 16384] = "COLOR", e13[e13.DEPTH = 256] = "DEPTH", e13[e13.STENCIL = 1024] = "STENCIL";
})(W5 || (W5 = {}));
var Y5;
(function(e13) {
  e13[e13.NORMAL = 0] = "NORMAL", e13[e13.ADD = 1] = "ADD", e13[e13.MULTIPLY = 2] = "MULTIPLY", e13[e13.SCREEN = 3] = "SCREEN", e13[e13.OVERLAY = 4] = "OVERLAY", e13[e13.DARKEN = 5] = "DARKEN", e13[e13.LIGHTEN = 6] = "LIGHTEN", e13[e13.COLOR_DODGE = 7] = "COLOR_DODGE", e13[e13.COLOR_BURN = 8] = "COLOR_BURN", e13[e13.HARD_LIGHT = 9] = "HARD_LIGHT", e13[e13.SOFT_LIGHT = 10] = "SOFT_LIGHT", e13[e13.DIFFERENCE = 11] = "DIFFERENCE", e13[e13.EXCLUSION = 12] = "EXCLUSION", e13[e13.HUE = 13] = "HUE", e13[e13.SATURATION = 14] = "SATURATION", e13[e13.COLOR = 15] = "COLOR", e13[e13.LUMINOSITY = 16] = "LUMINOSITY", e13[e13.NORMAL_NPM = 17] = "NORMAL_NPM", e13[e13.ADD_NPM = 18] = "ADD_NPM", e13[e13.SCREEN_NPM = 19] = "SCREEN_NPM", e13[e13.NONE = 20] = "NONE", e13[e13.SRC_OVER = 0] = "SRC_OVER", e13[e13.SRC_IN = 21] = "SRC_IN", e13[e13.SRC_OUT = 22] = "SRC_OUT", e13[e13.SRC_ATOP = 23] = "SRC_ATOP", e13[e13.DST_OVER = 24] = "DST_OVER", e13[e13.DST_IN = 25] = "DST_IN", e13[e13.DST_OUT = 26] = "DST_OUT", e13[e13.DST_ATOP = 27] = "DST_ATOP", e13[e13.ERASE = 26] = "ERASE", e13[e13.SUBTRACT = 28] = "SUBTRACT", e13[e13.XOR = 29] = "XOR";
})(Y5 || (Y5 = {}));
var q5;
(function(e13) {
  e13[e13.POINTS = 0] = "POINTS", e13[e13.LINES = 1] = "LINES", e13[e13.LINE_LOOP = 2] = "LINE_LOOP", e13[e13.LINE_STRIP = 3] = "LINE_STRIP", e13[e13.TRIANGLES = 4] = "TRIANGLES", e13[e13.TRIANGLE_STRIP = 5] = "TRIANGLE_STRIP", e13[e13.TRIANGLE_FAN = 6] = "TRIANGLE_FAN";
})(q5 || (q5 = {}));
var K5;
(function(e13) {
  e13[e13.RGBA = 6408] = "RGBA", e13[e13.RGB = 6407] = "RGB", e13[e13.ALPHA = 6406] = "ALPHA", e13[e13.LUMINANCE = 6409] = "LUMINANCE", e13[e13.LUMINANCE_ALPHA = 6410] = "LUMINANCE_ALPHA", e13[e13.DEPTH_COMPONENT = 6402] = "DEPTH_COMPONENT", e13[e13.DEPTH_STENCIL = 34041] = "DEPTH_STENCIL";
})(K5 || (K5 = {}));
var Z5;
(function(e13) {
  e13[e13.TEXTURE_2D = 3553] = "TEXTURE_2D", e13[e13.TEXTURE_CUBE_MAP = 34067] = "TEXTURE_CUBE_MAP", e13[e13.TEXTURE_2D_ARRAY = 35866] = "TEXTURE_2D_ARRAY", e13[e13.TEXTURE_CUBE_MAP_POSITIVE_X = 34069] = "TEXTURE_CUBE_MAP_POSITIVE_X", e13[e13.TEXTURE_CUBE_MAP_NEGATIVE_X = 34070] = "TEXTURE_CUBE_MAP_NEGATIVE_X", e13[e13.TEXTURE_CUBE_MAP_POSITIVE_Y = 34071] = "TEXTURE_CUBE_MAP_POSITIVE_Y", e13[e13.TEXTURE_CUBE_MAP_NEGATIVE_Y = 34072] = "TEXTURE_CUBE_MAP_NEGATIVE_Y", e13[e13.TEXTURE_CUBE_MAP_POSITIVE_Z = 34073] = "TEXTURE_CUBE_MAP_POSITIVE_Z", e13[e13.TEXTURE_CUBE_MAP_NEGATIVE_Z = 34074] = "TEXTURE_CUBE_MAP_NEGATIVE_Z";
})(Z5 || (Z5 = {}));
var Q5;
(function(e13) {
  e13[e13.UNSIGNED_BYTE = 5121] = "UNSIGNED_BYTE", e13[e13.UNSIGNED_SHORT = 5123] = "UNSIGNED_SHORT", e13[e13.UNSIGNED_SHORT_5_6_5 = 33635] = "UNSIGNED_SHORT_5_6_5", e13[e13.UNSIGNED_SHORT_4_4_4_4 = 32819] = "UNSIGNED_SHORT_4_4_4_4", e13[e13.UNSIGNED_SHORT_5_5_5_1 = 32820] = "UNSIGNED_SHORT_5_5_5_1", e13[e13.FLOAT = 5126] = "FLOAT", e13[e13.HALF_FLOAT = 36193] = "HALF_FLOAT";
})(Q5 || (Q5 = {}));
var J5;
(function(e13) {
  e13[e13.NEAREST = 0] = "NEAREST", e13[e13.LINEAR = 1] = "LINEAR";
})(J5 || (J5 = {}));
var eB;
(function(e13) {
  e13[e13.CLAMP = 33071] = "CLAMP", e13[e13.REPEAT = 10497] = "REPEAT", e13[e13.MIRRORED_REPEAT = 33648] = "MIRRORED_REPEAT";
})(eB || (eB = {}));
var tB;
(function(e13) {
  e13[e13.OFF = 0] = "OFF", e13[e13.POW2 = 1] = "POW2", e13[e13.ON = 2] = "ON";
})(tB || (tB = {}));
var rB;
(function(e13) {
  e13[e13.NPM = 0] = "NPM", e13[e13.UNPACK = 1] = "UNPACK", e13[e13.PMA = 2] = "PMA", e13[e13.NO_PREMULTIPLIED_ALPHA = 0] = "NO_PREMULTIPLIED_ALPHA", e13[e13.PREMULTIPLY_ON_UPLOAD = 1] = "PREMULTIPLY_ON_UPLOAD", e13[e13.PREMULTIPLY_ALPHA = 2] = "PREMULTIPLY_ALPHA";
})(rB || (rB = {}));
var Gg;
(function(e13) {
  e13[e13.NO = 0] = "NO", e13[e13.YES = 1] = "YES", e13[e13.AUTO = 2] = "AUTO", e13[e13.BLEND = 0] = "BLEND", e13[e13.CLEAR = 1] = "CLEAR", e13[e13.BLIT = 2] = "BLIT";
})(Gg || (Gg = {}));
var nB;
(function(e13) {
  e13[e13.AUTO = 0] = "AUTO", e13[e13.MANUAL = 1] = "MANUAL";
})(nB || (nB = {}));
var iB;
(function(e13) {
  e13.LOW = "lowp", e13.MEDIUM = "mediump", e13.HIGH = "highp";
})(iB || (iB = {}));
var oB;
(function(e13) {
  e13[e13.NONE = 0] = "NONE", e13[e13.SCISSOR = 1] = "SCISSOR", e13[e13.STENCIL = 2] = "STENCIL", e13[e13.SPRITE = 3] = "SPRITE";
})(oB || (oB = {}));
var aB;
(function(e13) {
  e13[e13.NONE = 0] = "NONE", e13[e13.LOW = 2] = "LOW", e13[e13.MEDIUM = 4] = "MEDIUM", e13[e13.HIGH = 8] = "HIGH";
})(aB || (aB = {}));
var DI = (
  /** @class */
  function(e13) {
    w6(t, e13);
    function t(r, n, i, o, a) {
      n === void 0 && (n = 8), i === void 0 && (i = 4), o === void 0 && (o = ft.FILTER_RESOLUTION), a === void 0 && (a = 5);
      var s = this, l = Xte(a, r), u = qte(a);
      return s = e13.call(
        this,
        // vertex shader
        l,
        // fragment shader
        u
      ) || this, s.horizontal = r, s.resolution = o, s._quality = 0, s.quality = i, s.blur = n, s;
    }
    return t.prototype.apply = function(r, n, i, o) {
      if (i ? this.horizontal ? this.uniforms.strength = 1 / i.width * (i.width / n.width) : this.uniforms.strength = 1 / i.height * (i.height / n.height) : this.horizontal ? this.uniforms.strength = 1 / r.renderer.width * (r.renderer.width / n.width) : this.uniforms.strength = 1 / r.renderer.height * (r.renderer.height / n.height), this.uniforms.strength *= this.strength, this.uniforms.strength /= this.passes, this.passes === 1)
        r.applyFilter(this, n, i, o);
      else {
        var a = r.getFilterTexture(), s = r.renderer, l = n, u = a;
        this.state.blend = false, r.applyFilter(this, l, u, Gg.CLEAR);
        for (var c = 1; c < this.passes - 1; c++) {
          r.bindAndClear(l, Gg.BLIT), this.uniforms.uSampler = u;
          var f = u;
          u = l, l = f, s.shader.bind(this), s.geometry.draw(5);
        }
        this.state.blend = true, r.applyFilter(this, u, i, o), r.returnFilterTexture(a);
      }
    }, Object.defineProperty(t.prototype, "blur", {
      /**
       * Sets the strength of both the blur.
       *
       * @member {number}
       * @default 16
       */
      get: function() {
        return this.strength;
      },
      set: function(r) {
        this.padding = 1 + Math.abs(r) * 2, this.strength = r;
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(t.prototype, "quality", {
      /**
       * Sets the quality of the blur by modifying the number of passes. More passes means higher
       * quaility bluring but the lower the performance.
       *
       * @member {number}
       * @default 4
       */
      get: function() {
        return this._quality;
      },
      set: function(r) {
        this._quality = r, this.passes = r;
      },
      enumerable: false,
      configurable: true
    }), t;
  }(Fs)
);
var Kte = (
  /** @class */
  function(e13) {
    w6(t, e13);
    function t(r, n, i, o) {
      r === void 0 && (r = 8), n === void 0 && (n = 4), i === void 0 && (i = ft.FILTER_RESOLUTION), o === void 0 && (o = 5);
      var a = e13.call(this) || this;
      return a.blurXFilter = new DI(true, r, n, i, o), a.blurYFilter = new DI(false, r, n, i, o), a.resolution = i, a.quality = n, a.blur = r, a.repeatEdgePixels = false, a;
    }
    return t.prototype.apply = function(r, n, i, o) {
      var a = Math.abs(this.blurXFilter.strength), s = Math.abs(this.blurYFilter.strength);
      if (a && s) {
        var l = r.getFilterTexture();
        this.blurXFilter.apply(r, n, l, Gg.CLEAR), this.blurYFilter.apply(r, l, i, o), r.returnFilterTexture(l);
      } else s ? this.blurYFilter.apply(r, n, i, o) : this.blurXFilter.apply(r, n, i, o);
    }, t.prototype.updatePadding = function() {
      this._repeatEdgePixels ? this.padding = 0 : this.padding = Math.max(Math.abs(this.blurXFilter.strength), Math.abs(this.blurYFilter.strength)) * 2;
    }, Object.defineProperty(t.prototype, "blur", {
      /**
       * Sets the strength of both the blurX and blurY properties simultaneously
       *
       * @member {number}
       * @default 2
       */
      get: function() {
        return this.blurXFilter.blur;
      },
      set: function(r) {
        this.blurXFilter.blur = this.blurYFilter.blur = r, this.updatePadding();
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(t.prototype, "quality", {
      /**
       * Sets the number of passes for blur. More passes means higher quaility bluring.
       *
       * @member {number}
       * @default 1
       */
      get: function() {
        return this.blurXFilter.quality;
      },
      set: function(r) {
        this.blurXFilter.quality = this.blurYFilter.quality = r;
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(t.prototype, "blurX", {
      /**
       * Sets the strength of the blurX property
       *
       * @member {number}
       * @default 2
       */
      get: function() {
        return this.blurXFilter.blur;
      },
      set: function(r) {
        this.blurXFilter.blur = r, this.updatePadding();
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(t.prototype, "blurY", {
      /**
       * Sets the strength of the blurY property
       *
       * @member {number}
       * @default 2
       */
      get: function() {
        return this.blurYFilter.blur;
      },
      set: function(r) {
        this.blurYFilter.blur = r, this.updatePadding();
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(t.prototype, "blendMode", {
      /**
       * Sets the blendmode of the filter
       *
       * @member {number}
       * @default PIXI.BLEND_MODES.NORMAL
       */
      get: function() {
        return this.blurYFilter.blendMode;
      },
      set: function(r) {
        this.blurYFilter.blendMode = r;
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(t.prototype, "repeatEdgePixels", {
      /**
       * If set to true the edge of the target will be clamped
       *
       * @member {boolean}
       * @default false
       */
      get: function() {
        return this._repeatEdgePixels;
      },
      set: function(r) {
        this._repeatEdgePixels = r, this.updatePadding();
      },
      enumerable: false,
      configurable: true
    }), t;
  }(Fs)
);
var RI = function(e13, t) {
  return RI = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
    r.__proto__ = n;
  } || function(r, n) {
    for (var i in n)
      n.hasOwnProperty(i) && (r[i] = n[i]);
  }, RI(e13, t);
};
function Zte(e13, t) {
  RI(e13, t);
  function r() {
    this.constructor = e13;
  }
  e13.prototype = t === null ? Object.create(t) : (r.prototype = t.prototype, new r());
}
var Qte = `varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`;
var NI = (
  /** @class */
  function(e13) {
    Zte(t, e13);
    function t() {
      var r = this, n = {
        m: new Float32Array([
          1,
          0,
          0,
          0,
          0,
          0,
          1,
          0,
          0,
          0,
          0,
          0,
          1,
          0,
          0,
          0,
          0,
          0,
          1,
          0
        ]),
        uAlpha: 1
      };
      return r = e13.call(this, TD, Qte, n) || this, r.alpha = 1, r;
    }
    return t.prototype._loadMatrix = function(r, n) {
      n === void 0 && (n = false);
      var i = r;
      n && (this._multiply(i, this.uniforms.m, r), i = this._colorMatrix(i)), this.uniforms.m = i;
    }, t.prototype._multiply = function(r, n, i) {
      return r[0] = n[0] * i[0] + n[1] * i[5] + n[2] * i[10] + n[3] * i[15], r[1] = n[0] * i[1] + n[1] * i[6] + n[2] * i[11] + n[3] * i[16], r[2] = n[0] * i[2] + n[1] * i[7] + n[2] * i[12] + n[3] * i[17], r[3] = n[0] * i[3] + n[1] * i[8] + n[2] * i[13] + n[3] * i[18], r[4] = n[0] * i[4] + n[1] * i[9] + n[2] * i[14] + n[3] * i[19] + n[4], r[5] = n[5] * i[0] + n[6] * i[5] + n[7] * i[10] + n[8] * i[15], r[6] = n[5] * i[1] + n[6] * i[6] + n[7] * i[11] + n[8] * i[16], r[7] = n[5] * i[2] + n[6] * i[7] + n[7] * i[12] + n[8] * i[17], r[8] = n[5] * i[3] + n[6] * i[8] + n[7] * i[13] + n[8] * i[18], r[9] = n[5] * i[4] + n[6] * i[9] + n[7] * i[14] + n[8] * i[19] + n[9], r[10] = n[10] * i[0] + n[11] * i[5] + n[12] * i[10] + n[13] * i[15], r[11] = n[10] * i[1] + n[11] * i[6] + n[12] * i[11] + n[13] * i[16], r[12] = n[10] * i[2] + n[11] * i[7] + n[12] * i[12] + n[13] * i[17], r[13] = n[10] * i[3] + n[11] * i[8] + n[12] * i[13] + n[13] * i[18], r[14] = n[10] * i[4] + n[11] * i[9] + n[12] * i[14] + n[13] * i[19] + n[14], r[15] = n[15] * i[0] + n[16] * i[5] + n[17] * i[10] + n[18] * i[15], r[16] = n[15] * i[1] + n[16] * i[6] + n[17] * i[11] + n[18] * i[16], r[17] = n[15] * i[2] + n[16] * i[7] + n[17] * i[12] + n[18] * i[17], r[18] = n[15] * i[3] + n[16] * i[8] + n[17] * i[13] + n[18] * i[18], r[19] = n[15] * i[4] + n[16] * i[9] + n[17] * i[14] + n[18] * i[19] + n[19], r;
    }, t.prototype._colorMatrix = function(r) {
      var n = new Float32Array(r);
      return n[4] /= 255, n[9] /= 255, n[14] /= 255, n[19] /= 255, n;
    }, t.prototype.brightness = function(r, n) {
      var i = [
        r,
        0,
        0,
        0,
        0,
        0,
        r,
        0,
        0,
        0,
        0,
        0,
        r,
        0,
        0,
        0,
        0,
        0,
        1,
        0
      ];
      this._loadMatrix(i, n);
    }, t.prototype.greyscale = function(r, n) {
      var i = [
        r,
        r,
        r,
        0,
        0,
        r,
        r,
        r,
        0,
        0,
        r,
        r,
        r,
        0,
        0,
        0,
        0,
        0,
        1,
        0
      ];
      this._loadMatrix(i, n);
    }, t.prototype.blackAndWhite = function(r) {
      var n = [
        0.3,
        0.6,
        0.1,
        0,
        0,
        0.3,
        0.6,
        0.1,
        0,
        0,
        0.3,
        0.6,
        0.1,
        0,
        0,
        0,
        0,
        0,
        1,
        0
      ];
      this._loadMatrix(n, r);
    }, t.prototype.hue = function(r, n) {
      r = (r || 0) / 180 * Math.PI;
      var i = Math.cos(r), o = Math.sin(r), a = Math.sqrt, s = 1 / 3, l = a(s), u = i + (1 - i) * s, c = s * (1 - i) - l * o, f = s * (1 - i) + l * o, h = s * (1 - i) + l * o, d = i + s * (1 - i), p = s * (1 - i) - l * o, m = s * (1 - i) - l * o, g = s * (1 - i) + l * o, v = i + s * (1 - i), b = [
        u,
        c,
        f,
        0,
        0,
        h,
        d,
        p,
        0,
        0,
        m,
        g,
        v,
        0,
        0,
        0,
        0,
        0,
        1,
        0
      ];
      this._loadMatrix(b, n);
    }, t.prototype.contrast = function(r, n) {
      var i = (r || 0) + 1, o = -0.5 * (i - 1), a = [
        i,
        0,
        0,
        0,
        o,
        0,
        i,
        0,
        0,
        o,
        0,
        0,
        i,
        0,
        o,
        0,
        0,
        0,
        1,
        0
      ];
      this._loadMatrix(a, n);
    }, t.prototype.saturate = function(r, n) {
      r === void 0 && (r = 0);
      var i = r * 2 / 3 + 1, o = (i - 1) * -0.5, a = [
        i,
        o,
        o,
        0,
        0,
        o,
        i,
        o,
        0,
        0,
        o,
        o,
        i,
        0,
        0,
        0,
        0,
        0,
        1,
        0
      ];
      this._loadMatrix(a, n);
    }, t.prototype.desaturate = function() {
      this.saturate(-1);
    }, t.prototype.negative = function(r) {
      var n = [
        -1,
        0,
        0,
        1,
        0,
        0,
        -1,
        0,
        1,
        0,
        0,
        0,
        -1,
        1,
        0,
        0,
        0,
        0,
        1,
        0
      ];
      this._loadMatrix(n, r);
    }, t.prototype.sepia = function(r) {
      var n = [
        0.393,
        0.7689999,
        0.18899999,
        0,
        0,
        0.349,
        0.6859999,
        0.16799999,
        0,
        0,
        0.272,
        0.5339999,
        0.13099999,
        0,
        0,
        0,
        0,
        0,
        1,
        0
      ];
      this._loadMatrix(n, r);
    }, t.prototype.technicolor = function(r) {
      var n = [
        1.9125277891456083,
        -0.8545344976951645,
        -0.09155508482755585,
        0,
        11.793603434377337,
        -0.3087833385928097,
        1.7658908555458428,
        -0.10601743074722245,
        0,
        -70.35205161461398,
        -0.231103377548616,
        -0.7501899197440212,
        1.847597816108189,
        0,
        30.950940869491138,
        0,
        0,
        0,
        1,
        0
      ];
      this._loadMatrix(n, r);
    }, t.prototype.polaroid = function(r) {
      var n = [
        1.438,
        -0.062,
        -0.062,
        0,
        0,
        -0.122,
        1.378,
        -0.122,
        0,
        0,
        -0.016,
        -0.016,
        1.483,
        0,
        0,
        0,
        0,
        0,
        1,
        0
      ];
      this._loadMatrix(n, r);
    }, t.prototype.toBGR = function(r) {
      var n = [
        0,
        0,
        1,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        0
      ];
      this._loadMatrix(n, r);
    }, t.prototype.kodachrome = function(r) {
      var n = [
        1.1285582396593525,
        -0.3967382283601348,
        -0.03992559172921793,
        0,
        63.72958762196502,
        -0.16404339962244616,
        1.0835251566291304,
        -0.05498805115633132,
        0,
        24.732407896706203,
        -0.16786010706155763,
        -0.5603416277695248,
        1.6014850761964943,
        0,
        35.62982807460946,
        0,
        0,
        0,
        1,
        0
      ];
      this._loadMatrix(n, r);
    }, t.prototype.browni = function(r) {
      var n = [
        0.5997023498159715,
        0.34553243048391263,
        -0.2708298674538042,
        0,
        47.43192855600873,
        -0.037703249837783157,
        0.8609577587992641,
        0.15059552388459913,
        0,
        -36.96841498319127,
        0.24113635128153335,
        -0.07441037908422492,
        0.44972182064877153,
        0,
        -7.562075277591283,
        0,
        0,
        0,
        1,
        0
      ];
      this._loadMatrix(n, r);
    }, t.prototype.vintage = function(r) {
      var n = [
        0.6279345635605994,
        0.3202183420819367,
        -0.03965408211312453,
        0,
        9.651285835294123,
        0.02578397704808868,
        0.6441188644374771,
        0.03259127616149294,
        0,
        7.462829176470591,
        0.0466055556782719,
        -0.0851232987247891,
        0.5241648018700465,
        0,
        5.159190588235296,
        0,
        0,
        0,
        1,
        0
      ];
      this._loadMatrix(n, r);
    }, t.prototype.colorTone = function(r, n, i, o, a) {
      r = r || 0.2, n = n || 0.15, i = i || 16770432, o = o || 3375104;
      var s = (i >> 16 & 255) / 255, l = (i >> 8 & 255) / 255, u = (i & 255) / 255, c = (o >> 16 & 255) / 255, f = (o >> 8 & 255) / 255, h = (o & 255) / 255, d = [
        0.3,
        0.59,
        0.11,
        0,
        0,
        s,
        l,
        u,
        r,
        0,
        c,
        f,
        h,
        n,
        0,
        s - c,
        l - f,
        u - h,
        0,
        0
      ];
      this._loadMatrix(d, a);
    }, t.prototype.night = function(r, n) {
      r = r || 0.1;
      var i = [
        r * -2,
        -r,
        0,
        0,
        0,
        -r,
        0,
        r,
        0,
        0,
        0,
        r,
        r * 2,
        0,
        0,
        0,
        0,
        0,
        1,
        0
      ];
      this._loadMatrix(i, n);
    }, t.prototype.predator = function(r, n) {
      var i = [
        // row 1
        11.224130630493164 * r,
        -4.794486999511719 * r,
        -2.8746118545532227 * r,
        0 * r,
        0.40342438220977783 * r,
        // row 2
        -3.6330697536468506 * r,
        9.193157196044922 * r,
        -2.951810836791992 * r,
        0 * r,
        -1.316135048866272 * r,
        // row 3
        -3.2184197902679443 * r,
        -4.2375030517578125 * r,
        7.476448059082031 * r,
        0 * r,
        0.8044459223747253 * r,
        // row 4
        0,
        0,
        0,
        1,
        0
      ];
      this._loadMatrix(i, n);
    }, t.prototype.lsd = function(r) {
      var n = [
        2,
        -0.4,
        0.5,
        0,
        0,
        -0.5,
        2,
        -0.4,
        0,
        0,
        -0.4,
        -0.5,
        3,
        0,
        0,
        0,
        0,
        0,
        1,
        0
      ];
      this._loadMatrix(n, r);
    }, t.prototype.reset = function() {
      var r = [
        1,
        0,
        0,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        0,
        0,
        1,
        0
      ];
      this._loadMatrix(r, false);
    }, Object.defineProperty(t.prototype, "matrix", {
      /**
       * The matrix of the color matrix filter
       *
       * @member {number[]}
       * @default [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0]
       */
      get: function() {
        return this.uniforms.m;
      },
      set: function(r) {
        this.uniforms.m = r;
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(t.prototype, "alpha", {
      /**
       * The opacity value to use when mixing the original and resultant colors.
       *
       * When the value is 0, the original color is used without modification.
       * When the value is 1, the result color is used.
       * When in the range (0, 1) the color is interpolated between the original and result by this amount.
       *
       * @member {number}
       * @default 1
       */
      get: function() {
        return this.uniforms.uAlpha;
      },
      set: function(r) {
        this.uniforms.uAlpha = r;
      },
      enumerable: false,
      configurable: true
    }), t;
  }(Fs)
);
NI.prototype.grayscale = NI.prototype.greyscale;
var MI = function(e13, t) {
  return MI = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
    r.__proto__ = n;
  } || function(r, n) {
    for (var i in n)
      n.hasOwnProperty(i) && (r[i] = n[i]);
  }, MI(e13, t);
};
function Jte(e13, t) {
  MI(e13, t);
  function r() {
    this.constructor = e13;
  }
  e13.prototype = t === null ? Object.create(t) : (r.prototype = t.prototype, new r());
}
var ere = `varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`;
var tre = `attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;
var rre = (
  /** @class */
  function(e13) {
    Jte(t, e13);
    function t(r, n) {
      var i = this, o = new sn();
      return r.renderable = false, i = e13.call(this, tre, ere, {
        mapSampler: r._texture,
        filterMatrix: o,
        scale: { x: 1, y: 1 },
        rotation: new Float32Array([1, 0, 0, 1])
      }) || this, i.maskSprite = r, i.maskMatrix = o, n == null && (n = 20), i.scale = new On(n, n), i;
    }
    return t.prototype.apply = function(r, n, i, o) {
      this.uniforms.filterMatrix = r.calculateSpriteMatrix(this.maskMatrix, this.maskSprite), this.uniforms.scale.x = this.scale.x, this.uniforms.scale.y = this.scale.y;
      var a = this.maskSprite.worldTransform, s = Math.sqrt(a.a * a.a + a.b * a.b), l = Math.sqrt(a.c * a.c + a.d * a.d);
      s !== 0 && l !== 0 && (this.uniforms.rotation[0] = a.a / s, this.uniforms.rotation[1] = a.b / s, this.uniforms.rotation[2] = a.c / l, this.uniforms.rotation[3] = a.d / l), r.applyFilter(this, n, i, o);
    }, Object.defineProperty(t.prototype, "map", {
      /**
       * The texture used for the displacement map. Must be power of 2 sized texture.
       *
       * @member {PIXI.Texture}
       */
      get: function() {
        return this.uniforms.mapSampler;
      },
      set: function(r) {
        this.uniforms.mapSampler = r;
      },
      enumerable: false,
      configurable: true
    }), t;
  }(Fs)
);
var LI = function(e13, t) {
  return LI = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
    r.__proto__ = n;
  } || function(r, n) {
    for (var i in n)
      n.hasOwnProperty(i) && (r[i] = n[i]);
  }, LI(e13, t);
};
function nre(e13, t) {
  LI(e13, t);
  function r() {
    this.constructor = e13;
  }
  e13.prototype = t === null ? Object.create(t) : (r.prototype = t.prototype, new r());
}
var ire = `
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputPixel;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`;
var ore = `varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputPixel;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`;
var are = (
  /** @class */
  function(e13) {
    nre(t, e13);
    function t() {
      return e13.call(this, ire, ore) || this;
    }
    return t;
  }(Fs)
);
var BI = function(e13, t) {
  return BI = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
    r.__proto__ = n;
  } || function(r, n) {
    for (var i in n)
      n.hasOwnProperty(i) && (r[i] = n[i]);
  }, BI(e13, t);
};
function sre(e13, t) {
  BI(e13, t);
  function r() {
    this.constructor = e13;
  }
  e13.prototype = t === null ? Object.create(t) : (r.prototype = t.prototype, new r());
}
var lre = `precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;
var cre = (
  /** @class */
  function(e13) {
    sre(t, e13);
    function t(r, n) {
      r === void 0 && (r = 0.5), n === void 0 && (n = Math.random());
      var i = e13.call(this, TD, lre, {
        uNoise: 0,
        uSeed: 0
      }) || this;
      return i.noise = r, i.seed = n, i;
    }
    return Object.defineProperty(t.prototype, "noise", {
      /**
       * The amount of noise to apply, this value should be in the range (0, 1].
       *
       * @member {number}
       * @default 0.5
       */
      get: function() {
        return this.uniforms.uNoise;
      },
      set: function(r) {
        this.uniforms.uNoise = r;
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(t.prototype, "seed", {
      /**
       * A seed value to apply to the random noise generation. `Math.random()` is a good value to use.
       *
       * @member {number}
       */
      get: function() {
        return this.uniforms.uSeed;
      },
      set: function(r) {
        this.uniforms.uSeed = r;
      },
      enumerable: false,
      configurable: true
    }), t;
  }(Fs)
);
var A6 = new sn();
ln.prototype._cacheAsBitmap = false;
ln.prototype._cacheData = null;
var ure = (
  /** @class */
  /* @__PURE__ */ function() {
    function e13() {
      this.textureCacheId = null, this.originalRender = null, this.originalRenderCanvas = null, this.originalCalculateBounds = null, this.originalGetLocalBounds = null, this.originalUpdateTransform = null, this.originalDestroy = null, this.originalMask = null, this.originalFilterArea = null, this.originalContainsPoint = null, this.sprite = null;
    }
    return e13;
  }()
);
Object.defineProperties(ln.prototype, {
  /**
   * Set this to true if you want this display object to be cached as a bitmap.
   * This basically takes a snap shot of the display object as it is at that moment. It can
   * provide a performance benefit for complex static displayObjects.
   * To remove simply set this property to `false`
   *
   * IMPORTANT GOTCHA - Make sure that all your textures are preloaded BEFORE setting this property to true
   * as it will take a snapshot of what is currently there. If the textures have not loaded then they will not appear.
   *
   * @member {boolean}
   * @memberof PIXI.DisplayObject#
   */
  cacheAsBitmap: {
    get: function() {
      return this._cacheAsBitmap;
    },
    set: function(e13) {
      if (this._cacheAsBitmap !== e13) {
        this._cacheAsBitmap = e13;
        var t;
        e13 ? (this._cacheData || (this._cacheData = new ure()), t = this._cacheData, t.originalRender = this.render, t.originalRenderCanvas = this.renderCanvas, t.originalUpdateTransform = this.updateTransform, t.originalCalculateBounds = this.calculateBounds, t.originalGetLocalBounds = this.getLocalBounds, t.originalDestroy = this.destroy, t.originalContainsPoint = this.containsPoint, t.originalMask = this._mask, t.originalFilterArea = this.filterArea, this.render = this._renderCached, this.renderCanvas = this._renderCachedCanvas, this.destroy = this._cacheAsBitmapDestroy) : (t = this._cacheData, t.sprite && this._destroyCachedDisplayObject(), this.render = t.originalRender, this.renderCanvas = t.originalRenderCanvas, this.calculateBounds = t.originalCalculateBounds, this.getLocalBounds = t.originalGetLocalBounds, this.destroy = t.originalDestroy, this.updateTransform = t.originalUpdateTransform, this.containsPoint = t.originalContainsPoint, this._mask = t.originalMask, this.filterArea = t.originalFilterArea);
      }
    }
  }
});
ln.prototype._renderCached = function(t) {
  !this.visible || this.worldAlpha <= 0 || !this.renderable || (this._initCachedDisplayObject(t), this._cacheData.sprite.transform._worldID = this.transform._worldID, this._cacheData.sprite.worldAlpha = this.worldAlpha, this._cacheData.sprite._render(t));
};
ln.prototype._initCachedDisplayObject = function(t) {
  if (!(this._cacheData && this._cacheData.sprite)) {
    var r = this.alpha;
    this.alpha = 1, t.batch.flush();
    var n = this.getLocalBounds(null, true).clone();
    if (this.filters) {
      var i = this.filters[0].padding;
      n.pad(i);
    }
    n.ceil(ft.RESOLUTION);
    var o = t.renderTexture.current, a = t.renderTexture.sourceFrame.clone(), s = t.renderTexture.destinationFrame.clone(), l = t.projection.transform, u = lu.create({ width: n.width, height: n.height }), c = "cacheAsBitmap_" + su();
    this._cacheData.textureCacheId = c, Nr.addToCache(u.baseTexture, c), Pt.addToCache(u, c);
    var f = this.transform.localTransform.copyTo(A6).invert().translate(-n.x, -n.y);
    this.render = this._cacheData.originalRender, t.render(this, u, true, f, false), t.projection.transform = l, t.renderTexture.bind(o, a, s), this.render = this._renderCached, this.updateTransform = this.displayObjectUpdateTransform, this.calculateBounds = this._calculateCachedBounds, this.getLocalBounds = this._getCachedLocalBounds, this._mask = null, this.filterArea = null;
    var h = new Wd(u);
    h.transform.worldTransform = this.transform.worldTransform, h.anchor.x = -(n.x / n.width), h.anchor.y = -(n.y / n.height), h.alpha = r, h._bounds = this._bounds, this._cacheData.sprite = h, this.transform._parentID = -1, this.parent ? this.updateTransform() : (this.enableTempParent(), this.updateTransform(), this.disableTempParent(null)), this.containsPoint = h.containsPoint.bind(h);
  }
};
ln.prototype._renderCachedCanvas = function(t) {
  !this.visible || this.worldAlpha <= 0 || !this.renderable || (this._initCachedDisplayObjectCanvas(t), this._cacheData.sprite.worldAlpha = this.worldAlpha, this._cacheData.sprite._renderCanvas(t));
};
ln.prototype._initCachedDisplayObjectCanvas = function(t) {
  if (!(this._cacheData && this._cacheData.sprite)) {
    var r = this.getLocalBounds(null, true), n = this.alpha;
    this.alpha = 1;
    var i = t.context, o = t._projTransform;
    r.ceil(ft.RESOLUTION);
    var a = lu.create({ width: r.width, height: r.height }), s = "cacheAsBitmap_" + su();
    this._cacheData.textureCacheId = s, Nr.addToCache(a.baseTexture, s), Pt.addToCache(a, s);
    var l = A6;
    this.transform.localTransform.copyTo(l), l.invert(), l.tx -= r.x, l.ty -= r.y, this.renderCanvas = this._cacheData.originalRenderCanvas, t.render(this, a, true, l, false), t.context = i, t._projTransform = o, this.renderCanvas = this._renderCachedCanvas, this.updateTransform = this.displayObjectUpdateTransform, this.calculateBounds = this._calculateCachedBounds, this.getLocalBounds = this._getCachedLocalBounds, this._mask = null, this.filterArea = null;
    var u = new Wd(a);
    u.transform.worldTransform = this.transform.worldTransform, u.anchor.x = -(r.x / r.width), u.anchor.y = -(r.y / r.height), u.alpha = n, u._bounds = this._bounds, this._cacheData.sprite = u, this.transform._parentID = -1, this.parent ? this.updateTransform() : (this.parent = t._tempDisplayObjectParent, this.updateTransform(), this.parent = null), this.containsPoint = u.containsPoint.bind(u);
  }
};
ln.prototype._calculateCachedBounds = function() {
  this._bounds.clear(), this._cacheData.sprite.transform._worldID = this.transform._worldID, this._cacheData.sprite._calculateBounds(), this._bounds.updateID = this._boundsID;
};
ln.prototype._getCachedLocalBounds = function() {
  return this._cacheData.sprite.getLocalBounds(null);
};
ln.prototype._destroyCachedDisplayObject = function() {
  this._cacheData.sprite._texture.destroy(true), this._cacheData.sprite = null, Nr.removeFromCache(this._cacheData.textureCacheId), Pt.removeFromCache(this._cacheData.textureCacheId), this._cacheData.textureCacheId = null;
};
ln.prototype._cacheAsBitmapDestroy = function(t) {
  this.cacheAsBitmap = false, this.destroy(t);
};
ln.prototype.name = null;
Jo.prototype.getChildByName = function(t, r) {
  for (var n = 0, i = this.children.length; n < i; n++)
    if (this.children[n].name === t)
      return this.children[n];
  if (r)
    for (var n = 0, i = this.children.length; n < i; n++) {
      var o = this.children[n];
      if (o.getChildByName) {
        var a = this.children[n].getChildByName(t, true);
        if (a)
          return a;
      }
    }
  return null;
};
ln.prototype.getGlobalPosition = function(t, r) {
  return t === void 0 && (t = new On()), r === void 0 && (r = false), this.parent ? this.parent.toGlobal(this.position, t, r) : (t.x = this.position.x, t.y = this.position.y), t;
};
var FI = function(e13, t) {
  return FI = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
    r.__proto__ = n;
  } || function(r, n) {
    for (var i in n)
      n.hasOwnProperty(i) && (r[i] = n[i]);
  }, FI(e13, t);
};
function Yd(e13, t) {
  FI(e13, t);
  function r() {
    this.constructor = e13;
  }
  e13.prototype = t === null ? Object.create(t) : (r.prototype = t.prototype, new r());
}
var O6 = (
  /** @class */
  function(e13) {
    Yd(t, e13);
    function t(r, n, i, o) {
      r === void 0 && (r = 100), n === void 0 && (n = 100), i === void 0 && (i = 10), o === void 0 && (o = 10);
      var a = e13.call(this) || this;
      return a.segWidth = i, a.segHeight = o, a.width = r, a.height = n, a.build(), a;
    }
    return t.prototype.build = function() {
      for (var r = this.segWidth * this.segHeight, n = [], i = [], o = [], a = this.segWidth - 1, s = this.segHeight - 1, l = this.width / a, u = this.height / s, c = 0; c < r; c++) {
        var f = c % this.segWidth, h = c / this.segWidth | 0;
        n.push(f * l, h * u), i.push(f / a, h / s);
      }
      for (var d = a * s, c = 0; c < d; c++) {
        var p = c % a, m = c / a | 0, g = m * this.segWidth + p, v = m * this.segWidth + p + 1, b = (m + 1) * this.segWidth + p, y = (m + 1) * this.segWidth + p + 1;
        o.push(g, v, b, v, y, b);
      }
      this.buffers[0].data = new Float32Array(n), this.buffers[1].data = new Float32Array(i), this.indexBuffer.data = new Uint16Array(o), this.buffers[0].update(), this.buffers[1].update(), this.indexBuffer.update();
    }, t;
  }(Pv)
);
var I6 = (
  /** @class */
  function(e13) {
    Yd(t, e13);
    function t(r, n, i) {
      r === void 0 && (r = 200), i === void 0 && (i = 0);
      var o = e13.call(this, new Float32Array(n.length * 4), new Float32Array(n.length * 4), new Uint16Array((n.length - 1) * 6)) || this;
      return o.points = n, o._width = r, o.textureScale = i, o.build(), o;
    }
    return Object.defineProperty(t.prototype, "width", {
      /**
       * The width (i.e., thickness) of the rope.
       * @member {number}
       * @readOnly
       */
      get: function() {
        return this._width;
      },
      enumerable: false,
      configurable: true
    }), t.prototype.build = function() {
      var r = this.points;
      if (r) {
        var n = this.getBuffer("aVertexPosition"), i = this.getBuffer("aTextureCoord"), o = this.getIndex();
        if (!(r.length < 1)) {
          n.data.length / 4 !== r.length && (n.data = new Float32Array(r.length * 4), i.data = new Float32Array(r.length * 4), o.data = new Uint16Array((r.length - 1) * 6));
          var a = i.data, s = o.data;
          a[0] = 0, a[1] = 0, a[2] = 0, a[3] = 1;
          for (var l = 0, u = r[0], c = this._width * this.textureScale, f = r.length, h = 0; h < f; h++) {
            var d = h * 4;
            if (this.textureScale > 0) {
              var p = u.x - r[h].x, m = u.y - r[h].y, g = Math.sqrt(p * p + m * m);
              u = r[h], l += g / c;
            } else
              l = h / (f - 1);
            a[d] = l, a[d + 1] = 0, a[d + 2] = l, a[d + 3] = 1;
          }
          for (var v = 0, h = 0; h < f - 1; h++) {
            var d = h * 2;
            s[v++] = d, s[v++] = d + 1, s[v++] = d + 2, s[v++] = d + 2, s[v++] = d + 1, s[v++] = d + 3;
          }
          i.update(), o.update(), this.updateVertices();
        }
      }
    }, t.prototype.updateVertices = function() {
      var r = this.points;
      if (!(r.length < 1)) {
        for (var n = r[0], i, o = 0, a = 0, s = this.buffers[0].data, l = r.length, u = 0; u < l; u++) {
          var c = r[u], f = u * 4;
          u < r.length - 1 ? i = r[u + 1] : i = c, a = -(i.x - n.x), o = i.y - n.y;
          var h = Math.sqrt(o * o + a * a), d = this.textureScale > 0 ? this.textureScale * this._width / 2 : this._width / 2;
          o /= h, a /= h, o *= d, a *= d, s[f] = c.x + o, s[f + 1] = c.y + a, s[f + 2] = c.x - o, s[f + 3] = c.y - a, n = c;
        }
        this.buffers[0].update();
      }
    }, t.prototype.update = function() {
      this.textureScale > 0 ? this.build() : this.updateVertices();
    }, t;
  }(Pv)
);
var hre = (
  /** @class */
  function(e13) {
    Yd(t, e13);
    function t(r, n, i) {
      i === void 0 && (i = 0);
      var o = this, a = new I6(r.height, n, i), s = new Iv(r);
      return i > 0 && (r.baseTexture.wrapMode = ws.REPEAT), o = e13.call(this, a, s) || this, o.autoUpdate = true, o;
    }
    return t.prototype._render = function(r) {
      var n = this.geometry;
      (this.autoUpdate || n._width !== this.shader.texture.height) && (n._width = this.shader.texture.height, n.update()), e13.prototype._render.call(this, r);
    }, t;
  }(Qf)
);
var P6 = (
  /** @class */
  function(e13) {
    Yd(t, e13);
    function t(r, n, i) {
      var o = this, a = new O6(r.width, r.height, n, i), s = new Iv(Pt.WHITE);
      return o = e13.call(this, a, s) || this, o.texture = r, o;
    }
    return t.prototype.textureUpdated = function() {
      this._textureID = this.shader.texture._updateID;
      var r = this.geometry;
      r.width = this.shader.texture.width, r.height = this.shader.texture.height, r.build();
    }, Object.defineProperty(t.prototype, "texture", {
      get: function() {
        return this.shader.texture;
      },
      set: function(r) {
        this.shader.texture !== r && (this.shader.texture = r, this._textureID = -1, r.baseTexture.valid ? this.textureUpdated() : r.once("update", this.textureUpdated, this));
      },
      enumerable: false,
      configurable: true
    }), t.prototype._render = function(r) {
      this._textureID !== this.shader.texture._updateID && this.textureUpdated(), e13.prototype._render.call(this, r);
    }, t.prototype.destroy = function(r) {
      this.shader.texture.off("update", this.textureUpdated, this), e13.prototype.destroy.call(this, r);
    }, t;
  }(Qf)
);
var fre = (
  /** @class */
  function(e13) {
    Yd(t, e13);
    function t(r, n, i, o, a) {
      r === void 0 && (r = Pt.EMPTY);
      var s = this, l = new Pv(n, i, o);
      l.getBuffer("aVertexPosition").static = false;
      var u = new Iv(r);
      return s = e13.call(this, l, u, null, a) || this, s.autoUpdate = true, s;
    }
    return Object.defineProperty(t.prototype, "vertices", {
      /**
       * Collection of vertices data.
       * @member {Float32Array}
       */
      get: function() {
        return this.geometry.getBuffer("aVertexPosition").data;
      },
      set: function(r) {
        this.geometry.getBuffer("aVertexPosition").data = r;
      },
      enumerable: false,
      configurable: true
    }), t.prototype._render = function(r) {
      this.autoUpdate && this.geometry.getBuffer("aVertexPosition").update(), e13.prototype._render.call(this, r);
    }, t;
  }(Qf)
);
var zy = 10;
var dre = (
  /** @class */
  function(e13) {
    Yd(t, e13);
    function t(r, n, i, o, a) {
      n === void 0 && (n = zy), i === void 0 && (i = zy), o === void 0 && (o = zy), a === void 0 && (a = zy);
      var s = e13.call(this, Pt.WHITE, 4, 4) || this;
      return s._origWidth = r.orig.width, s._origHeight = r.orig.height, s._width = s._origWidth, s._height = s._origHeight, s._leftWidth = n, s._rightWidth = o, s._topHeight = i, s._bottomHeight = a, s.texture = r, s;
    }
    return t.prototype.textureUpdated = function() {
      this._textureID = this.shader.texture._updateID, this._refresh();
    }, Object.defineProperty(t.prototype, "vertices", {
      get: function() {
        return this.geometry.getBuffer("aVertexPosition").data;
      },
      set: function(r) {
        this.geometry.getBuffer("aVertexPosition").data = r;
      },
      enumerable: false,
      configurable: true
    }), t.prototype.updateHorizontalVertices = function() {
      var r = this.vertices, n = this._getMinScale();
      r[9] = r[11] = r[13] = r[15] = this._topHeight * n, r[17] = r[19] = r[21] = r[23] = this._height - this._bottomHeight * n, r[25] = r[27] = r[29] = r[31] = this._height;
    }, t.prototype.updateVerticalVertices = function() {
      var r = this.vertices, n = this._getMinScale();
      r[2] = r[10] = r[18] = r[26] = this._leftWidth * n, r[4] = r[12] = r[20] = r[28] = this._width - this._rightWidth * n, r[6] = r[14] = r[22] = r[30] = this._width;
    }, t.prototype._getMinScale = function() {
      var r = this._leftWidth + this._rightWidth, n = this._width > r ? 1 : this._width / r, i = this._topHeight + this._bottomHeight, o = this._height > i ? 1 : this._height / i, a = Math.min(n, o);
      return a;
    }, Object.defineProperty(t.prototype, "width", {
      /**
       * The width of the NineSlicePlane, setting this will actually modify the vertices and UV's of this plane
       *
       * @member {number}
       */
      get: function() {
        return this._width;
      },
      set: function(r) {
        this._width = r, this._refresh();
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(t.prototype, "height", {
      /**
       * The height of the NineSlicePlane, setting this will actually modify the vertices and UV's of this plane
       *
       * @member {number}
       */
      get: function() {
        return this._height;
      },
      set: function(r) {
        this._height = r, this._refresh();
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(t.prototype, "leftWidth", {
      /**
       * The width of the left column
       *
       * @member {number}
       */
      get: function() {
        return this._leftWidth;
      },
      set: function(r) {
        this._leftWidth = r, this._refresh();
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(t.prototype, "rightWidth", {
      /**
       * The width of the right column
       *
       * @member {number}
       */
      get: function() {
        return this._rightWidth;
      },
      set: function(r) {
        this._rightWidth = r, this._refresh();
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(t.prototype, "topHeight", {
      /**
       * The height of the top row
       *
       * @member {number}
       */
      get: function() {
        return this._topHeight;
      },
      set: function(r) {
        this._topHeight = r, this._refresh();
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(t.prototype, "bottomHeight", {
      /**
       * The height of the bottom row
       *
       * @member {number}
       */
      get: function() {
        return this._bottomHeight;
      },
      set: function(r) {
        this._bottomHeight = r, this._refresh();
      },
      enumerable: false,
      configurable: true
    }), t.prototype._refresh = function() {
      var r = this.texture, n = this.geometry.buffers[1].data;
      this._origWidth = r.orig.width, this._origHeight = r.orig.height;
      var i = 1 / this._origWidth, o = 1 / this._origHeight;
      n[0] = n[8] = n[16] = n[24] = 0, n[1] = n[3] = n[5] = n[7] = 0, n[6] = n[14] = n[22] = n[30] = 1, n[25] = n[27] = n[29] = n[31] = 1, n[2] = n[10] = n[18] = n[26] = i * this._leftWidth, n[4] = n[12] = n[20] = n[28] = 1 - i * this._rightWidth, n[9] = n[11] = n[13] = n[15] = o * this._topHeight, n[17] = n[19] = n[21] = n[23] = 1 - o * this._bottomHeight, this.updateHorizontalVertices(), this.updateVerticalVertices(), this.geometry.buffers[0].update(), this.geometry.buffers[1].update();
    }, t;
  }(P6)
);
var $I = function(e13, t) {
  return $I = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
    r.__proto__ = n;
  } || function(r, n) {
    for (var i in n)
      n.hasOwnProperty(i) && (r[i] = n[i]);
  }, $I(e13, t);
};
function pre(e13, t) {
  $I(e13, t);
  function r() {
    this.constructor = e13;
  }
  e13.prototype = t === null ? Object.create(t) : (r.prototype = t.prototype, new r());
}
var mre = (
  /** @class */
  function(e13) {
    pre(t, e13);
    function t(r, n) {
      n === void 0 && (n = true);
      var i = e13.call(this, r[0] instanceof Pt ? r[0] : r[0].texture) || this;
      return i._textures = null, i._durations = null, i._autoUpdate = n, i._isConnectedToTicker = false, i.animationSpeed = 1, i.loop = true, i.updateAnchor = false, i.onComplete = null, i.onFrameChange = null, i.onLoop = null, i._currentTime = 0, i._playing = false, i._previousFrame = null, i.textures = r, i;
    }
    return t.prototype.stop = function() {
      this._playing && (this._playing = false, this._autoUpdate && this._isConnectedToTicker && (An.shared.remove(this.update, this), this._isConnectedToTicker = false));
    }, t.prototype.play = function() {
      this._playing || (this._playing = true, this._autoUpdate && !this._isConnectedToTicker && (An.shared.add(this.update, this, Fa.HIGH), this._isConnectedToTicker = true));
    }, t.prototype.gotoAndStop = function(r) {
      this.stop();
      var n = this.currentFrame;
      this._currentTime = r, n !== this.currentFrame && this.updateTexture();
    }, t.prototype.gotoAndPlay = function(r) {
      var n = this.currentFrame;
      this._currentTime = r, n !== this.currentFrame && this.updateTexture(), this.play();
    }, t.prototype.update = function(r) {
      if (this._playing) {
        var n = this.animationSpeed * r, i = this.currentFrame;
        if (this._durations !== null) {
          var o = this._currentTime % 1 * this._durations[this.currentFrame];
          for (o += n / 60 * 1e3; o < 0; )
            this._currentTime--, o += this._durations[this.currentFrame];
          var a = Math.sign(this.animationSpeed * r);
          for (this._currentTime = Math.floor(this._currentTime); o >= this._durations[this.currentFrame]; )
            o -= this._durations[this.currentFrame] * a, this._currentTime += a;
          this._currentTime += o / this._durations[this.currentFrame];
        } else
          this._currentTime += n;
        this._currentTime < 0 && !this.loop ? (this.gotoAndStop(0), this.onComplete && this.onComplete()) : this._currentTime >= this._textures.length && !this.loop ? (this.gotoAndStop(this._textures.length - 1), this.onComplete && this.onComplete()) : i !== this.currentFrame && (this.loop && this.onLoop && (this.animationSpeed > 0 && this.currentFrame < i ? this.onLoop() : this.animationSpeed < 0 && this.currentFrame > i && this.onLoop()), this.updateTexture());
      }
    }, t.prototype.updateTexture = function() {
      var r = this.currentFrame;
      this._previousFrame !== r && (this._previousFrame = r, this._texture = this._textures[r], this._textureID = -1, this._textureTrimmedID = -1, this._cachedTint = 16777215, this.uvs = this._texture._uvs.uvsFloat32, this.updateAnchor && this._anchor.copyFrom(this._texture.defaultAnchor), this.onFrameChange && this.onFrameChange(this.currentFrame));
    }, t.prototype.destroy = function(r) {
      this.stop(), e13.prototype.destroy.call(this, r), this.onComplete = null, this.onFrameChange = null, this.onLoop = null;
    }, t.fromFrames = function(r) {
      for (var n = [], i = 0; i < r.length; ++i)
        n.push(Pt.from(r[i]));
      return new t(n);
    }, t.fromImages = function(r) {
      for (var n = [], i = 0; i < r.length; ++i)
        n.push(Pt.from(r[i]));
      return new t(n);
    }, Object.defineProperty(t.prototype, "totalFrames", {
      /**
       * The total number of frames in the AnimatedSprite. This is the same as number of textures
       * assigned to the AnimatedSprite.
       *
       * @readonly
       * @member {number}
       * @default 0
       */
      get: function() {
        return this._textures.length;
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(t.prototype, "textures", {
      /**
       * The array of textures used for this AnimatedSprite.
       *
       * @member {PIXI.Texture[]|PIXI.AnimatedSprite.FrameObject[]}
       */
      get: function() {
        return this._textures;
      },
      set: function(r) {
        if (r[0] instanceof Pt)
          this._textures = r, this._durations = null;
        else {
          this._textures = [], this._durations = [];
          for (var n = 0; n < r.length; n++)
            this._textures.push(r[n].texture), this._durations.push(r[n].time);
        }
        this._previousFrame = null, this.gotoAndStop(0), this.updateTexture();
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(t.prototype, "currentFrame", {
      /**
      * The AnimatedSprites current frame index.
      *
      * @member {number}
      * @readonly
      */
      get: function() {
        var r = Math.floor(this._currentTime) % this._textures.length;
        return r < 0 && (r += this._textures.length), r;
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(t.prototype, "playing", {
      /**
       * Indicates if the AnimatedSprite is currently playing.
       *
       * @member {boolean}
       * @readonly
       */
      get: function() {
        return this._playing;
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(t.prototype, "autoUpdate", {
      /**
       * Whether to use PIXI.Ticker.shared to auto update animation time
       *
       * @member {boolean}
       */
      get: function() {
        return this._autoUpdate;
      },
      set: function(r) {
        r !== this._autoUpdate && (this._autoUpdate = r, !this._autoUpdate && this._isConnectedToTicker ? (An.shared.remove(this.update, this), this._isConnectedToTicker = false) : this._autoUpdate && !this._isConnectedToTicker && this._playing && (An.shared.add(this.update, this), this._isConnectedToTicker = true));
      },
      enumerable: false,
      configurable: true
    }), t;
  }(Wd)
);
var HI = function(e13, t) {
  return HI = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(r, n) {
    r.__proto__ = n;
  } || function(r, n) {
    for (var i in n)
      n.hasOwnProperty(i) && (r[i] = n[i]);
  }, HI(e13, t);
};
function sB(e13, t) {
  HI(e13, t);
  function r() {
    this.constructor = e13;
  }
  e13.prototype = t === null ? Object.create(t) : (r.prototype = t.prototype, new r());
}
var Qe = "5.0.0";
function gre() {
  var e13 = this;
  Object.defineProperties(e13, {
    /**
     * @constant {RegExp|string} SVG_SIZE
     * @memberof PIXI
     * @see PIXI.resources.SVGResource.SVG_SIZE
     * @deprecated since 5.0.0
     */
    SVG_SIZE: {
      get: function() {
        return ze(Qe, "PIXI.utils.SVG_SIZE property has moved to PIXI.resources.SVGResource.SVG_SIZE"), e13.SVGResource.SVG_SIZE;
      }
    },
    /**
     * @class PIXI.TransformStatic
     * @deprecated since 5.0.0
     * @see PIXI.Transform
     */
    TransformStatic: {
      get: function() {
        return ze(Qe, "PIXI.TransformStatic class has been removed, use PIXI.Transform"), e13.Transform;
      }
    },
    /**
     * @class PIXI.TransformBase
     * @deprecated since 5.0.0
     * @see PIXI.Transform
     */
    TransformBase: {
      get: function() {
        return ze(Qe, "PIXI.TransformBase class has been removed, use PIXI.Transform"), e13.Transform;
      }
    },
    /**
     * Constants that specify the transform type.
     *
     * @static
     * @constant
     * @name TRANSFORM_MODE
     * @memberof PIXI
     * @enum {number}
     * @deprecated since 5.0.0
     * @property {number} STATIC
     * @property {number} DYNAMIC
     */
    TRANSFORM_MODE: {
      get: function() {
        return ze(Qe, "PIXI.TRANSFORM_MODE property has been removed"), { STATIC: 0, DYNAMIC: 1 };
      }
    },
    /**
     * @class PIXI.WebGLRenderer
     * @see PIXI.Renderer
     * @deprecated since 5.0.0
     */
    WebGLRenderer: {
      get: function() {
        return ze(Qe, "PIXI.WebGLRenderer class has moved to PIXI.Renderer"), e13.Renderer;
      }
    },
    /**
     * @class PIXI.CanvasRenderTarget
     * @see PIXI.utils.CanvasRenderTarget
     * @deprecated since 5.0.0
     */
    CanvasRenderTarget: {
      get: function() {
        return ze(Qe, "PIXI.CanvasRenderTarget class has moved to PIXI.utils.CanvasRenderTarget"), e13.utils.CanvasRenderTarget;
      }
    },
    /**
     * @memberof PIXI
     * @name loader
     * @type {PIXI.Loader}
     * @see PIXI.Loader.shared
     * @deprecated since 5.0.0
     */
    loader: {
      get: function() {
        return ze(Qe, "PIXI.loader instance has moved to PIXI.Loader.shared"), e13.Loader.shared;
      }
    },
    /**
     * @class PIXI.FilterManager
     * @see PIXI.systems.FilterSystem
     * @deprecated since 5.0.0
     */
    FilterManager: {
      get: function() {
        return ze(Qe, "PIXI.FilterManager class has moved to PIXI.systems.FilterSystem"), e13.systems.FilterSystem;
      }
    },
    /**
     * @namespace PIXI.CanvasTinter
     * @see PIXI.canvasUtils
     * @deprecated since 5.2.0
     */
    CanvasTinter: {
      get: function() {
        return ze("5.2.0", "PIXI.CanvasTinter namespace has moved to PIXI.canvasUtils"), e13.canvasUtils;
      }
    },
    /**
     * @namespace PIXI.GroupD8
     * @see PIXI.groupD8
     * @deprecated since 5.2.0
     */
    GroupD8: {
      get: function() {
        return ze("5.2.0", "PIXI.GroupD8 namespace has moved to PIXI.groupD8"), e13.groupD8;
      }
    }
  }), e13.accessibility = {}, Object.defineProperties(e13.accessibility, {
    /**
     * @class PIXI.accessibility.AccessibilityManager
     * @deprecated since 5.3.0
     * @see PIXI.AccessibilityManager
     */
    AccessibilityManager: {
      get: function() {
        return ze("5.3.0", "PIXI.accessibility.AccessibilityManager moved to PIXI.AccessibilityManager"), e13.AccessibilityManager;
      }
    }
  }), e13.interaction = {}, Object.defineProperties(e13.interaction, {
    /**
     * @class PIXI.interaction.InteractionManager
     * @deprecated since 5.3.0
     * @see PIXI.InteractionManager
     */
    InteractionManager: {
      get: function() {
        return ze("5.3.0", "PIXI.interaction.InteractionManager moved to PIXI.InteractionManager"), e13.InteractionManager;
      }
    },
    /**
     * @class PIXI.interaction.InteractionData
     * @deprecated since 5.3.0
     * @see PIXI.InteractionData
     */
    InteractionData: {
      get: function() {
        return ze("5.3.0", "PIXI.interaction.InteractionData moved to PIXI.InteractionData"), e13.InteractionData;
      }
    },
    /**
     * @class PIXI.interaction.InteractionEvent
     * @deprecated since 5.3.0
     * @see PIXI.InteractionEvent
     */
    InteractionEvent: {
      get: function() {
        return ze("5.3.0", "PIXI.interaction.InteractionEvent moved to PIXI.InteractionEvent"), e13.InteractionEvent;
      }
    }
  }), e13.prepare = {}, Object.defineProperties(e13.prepare, {
    /**
     * @class PIXI.prepare.BasePrepare
     * @deprecated since 5.2.1
     * @see PIXI.BasePrepare
     */
    BasePrepare: {
      get: function() {
        return ze("5.2.1", "PIXI.prepare.BasePrepare moved to PIXI.BasePrepare"), e13.BasePrepare;
      }
    },
    /**
     * @class PIXI.prepare.Prepare
     * @deprecated since 5.2.1
     * @see PIXI.Prepare
     */
    Prepare: {
      get: function() {
        return ze("5.2.1", "PIXI.prepare.Prepare moved to PIXI.Prepare"), e13.Prepare;
      }
    },
    /**
     * @class PIXI.prepare.CanvasPrepare
     * @deprecated since 5.2.1
     * @see PIXI.CanvasPrepare
     */
    CanvasPrepare: {
      get: function() {
        return ze("5.2.1", "PIXI.prepare.CanvasPrepare moved to PIXI.CanvasPrepare"), e13.CanvasPrepare;
      }
    }
  }), e13.extract = {}, Object.defineProperties(e13.extract, {
    /**
     * @class PIXI.extract.Extract
     * @deprecated since 5.2.1
     * @see PIXI.Extract
     */
    Extract: {
      get: function() {
        return ze("5.2.1", "PIXI.extract.Extract moved to PIXI.Extract"), e13.Extract;
      }
    },
    /**
     * @class PIXI.extract.CanvasExtract
     * @deprecated since 5.2.1
     * @see PIXI.CanvasExtract
     */
    CanvasExtract: {
      get: function() {
        return ze("5.2.1", "PIXI.extract.CanvasExtract moved to PIXI.CanvasExtract"), e13.CanvasExtract;
      }
    }
  }), e13.extras = {}, Object.defineProperties(e13.extras, {
    /**
     * @class PIXI.extras.TilingSprite
     * @see PIXI.TilingSprite
     * @deprecated since 5.0.0
     */
    TilingSprite: {
      get: function() {
        return ze(Qe, "PIXI.extras.TilingSprite class has moved to PIXI.TilingSprite"), e13.TilingSprite;
      }
    },
    /**
     * @class PIXI.extras.TilingSpriteRenderer
     * @see PIXI.TilingSpriteRenderer
     * @deprecated since 5.0.0
     */
    TilingSpriteRenderer: {
      get: function() {
        return ze(Qe, "PIXI.extras.TilingSpriteRenderer class has moved to PIXI.TilingSpriteRenderer"), e13.TilingSpriteRenderer;
      }
    },
    /**
     * @class PIXI.extras.AnimatedSprite
     * @see PIXI.AnimatedSprite
     * @deprecated since 5.0.0
     */
    AnimatedSprite: {
      get: function() {
        return ze(Qe, "PIXI.extras.AnimatedSprite class has moved to PIXI.AnimatedSprite"), e13.AnimatedSprite;
      }
    },
    /**
     * @class PIXI.extras.BitmapText
     * @see PIXI.BitmapText
     * @deprecated since 5.0.0
     */
    BitmapText: {
      get: function() {
        return ze(Qe, "PIXI.extras.BitmapText class has moved to PIXI.BitmapText"), e13.BitmapText;
      }
    }
  }), e13.TilingSprite.fromFrame = function(h, d, p) {
    return ze("5.3.0", "TilingSprite.fromFrame is deprecated, use TilingSprite.from"), e13.TilingSprite.from(h, { width: d, height: p });
  }, e13.TilingSprite.fromImage = function(h, d, p, m) {
    return m === void 0 && (m = {}), ze("5.3.0", "TilingSprite.fromImage is deprecated, use TilingSprite.from"), m && typeof m != "object" && (m = {
      // eslint-disable-next-line prefer-rest-params
      scaleMode: arguments[4],
      resourceOptions: {
        // eslint-disable-next-line prefer-rest-params
        crossorigin: arguments[3]
      }
    }), m.width = d, m.height = p, e13.TilingSprite.from(h, m);
  }, Object.defineProperties(e13.utils, {
    /**
     * @function PIXI.utils.getSvgSize
     * @see PIXI.resources.SVGResource.getSize
     * @deprecated since 5.0.0
     */
    getSvgSize: {
      get: function() {
        return ze(Qe, "PIXI.utils.getSvgSize function has moved to PIXI.resources.SVGResource.getSize"), e13.resources.SVGResource.getSize;
      }
    }
  }), e13.mesh = {}, Object.defineProperties(e13.mesh, {
    /**
     * @class PIXI.mesh.Mesh
     * @see PIXI.SimpleMesh
     * @deprecated since 5.0.0
     */
    Mesh: {
      get: function() {
        return ze(Qe, "PIXI.mesh.Mesh class has moved to PIXI.SimpleMesh"), e13.SimpleMesh;
      }
    },
    /**
     * @class PIXI.mesh.NineSlicePlane
     * @see PIXI.NineSlicePlane
     * @deprecated since 5.0.0
     */
    NineSlicePlane: {
      get: function() {
        return ze(Qe, "PIXI.mesh.NineSlicePlane class has moved to PIXI.NineSlicePlane"), e13.NineSlicePlane;
      }
    },
    /**
     * @class PIXI.mesh.Plane
     * @see PIXI.SimplePlane
     * @deprecated since 5.0.0
     */
    Plane: {
      get: function() {
        return ze(Qe, "PIXI.mesh.Plane class has moved to PIXI.SimplePlane"), e13.SimplePlane;
      }
    },
    /**
     * @class PIXI.mesh.Rope
     * @see PIXI.SimpleRope
     * @deprecated since 5.0.0
     */
    Rope: {
      get: function() {
        return ze(Qe, "PIXI.mesh.Rope class has moved to PIXI.SimpleRope"), e13.SimpleRope;
      }
    },
    /**
     * @class PIXI.mesh.RawMesh
     * @see PIXI.Mesh
     * @deprecated since 5.0.0
     */
    RawMesh: {
      get: function() {
        return ze(Qe, "PIXI.mesh.RawMesh class has moved to PIXI.Mesh"), e13.Mesh;
      }
    },
    /**
     * @class PIXI.mesh.CanvasMeshRenderer
     * @see PIXI.CanvasMeshRenderer
     * @deprecated since 5.0.0
     */
    CanvasMeshRenderer: {
      get: function() {
        return ze(Qe, "PIXI.mesh.CanvasMeshRenderer class has moved to PIXI.CanvasMeshRenderer"), e13.CanvasMeshRenderer;
      }
    },
    /**
     * @class PIXI.mesh.MeshRenderer
     * @see PIXI.MeshRenderer
     * @deprecated since 5.0.0
     */
    MeshRenderer: {
      get: function() {
        return ze(Qe, "PIXI.mesh.MeshRenderer class has moved to PIXI.MeshRenderer"), e13.MeshRenderer;
      }
    }
  }), e13.particles = {}, Object.defineProperties(e13.particles, {
    /**
     * @class PIXI.particles.ParticleContainer
     * @deprecated since 5.0.0
     * @see PIXI.ParticleContainer
     */
    ParticleContainer: {
      get: function() {
        return ze(Qe, "PIXI.particles.ParticleContainer class has moved to PIXI.ParticleContainer"), e13.ParticleContainer;
      }
    },
    /**
     * @class PIXI.particles.ParticleRenderer
     * @deprecated since 5.0.0
     * @see PIXI.ParticleRenderer
     */
    ParticleRenderer: {
      get: function() {
        return ze(Qe, "PIXI.particles.ParticleRenderer class has moved to PIXI.ParticleRenderer"), e13.ParticleRenderer;
      }
    }
  }), e13.ticker = {}, Object.defineProperties(e13.ticker, {
    /**
     * @class PIXI.ticker.Ticker
     * @deprecated since 5.0.0
     * @see PIXI.Ticker
     */
    Ticker: {
      get: function() {
        return ze(Qe, "PIXI.ticker.Ticker class has moved to PIXI.Ticker"), e13.Ticker;
      }
    },
    /**
     * @name PIXI.ticker.shared
     * @type {PIXI.Ticker}
     * @deprecated since 5.0.0
     * @see PIXI.Ticker.shared
     */
    shared: {
      get: function() {
        return ze(Qe, "PIXI.ticker.shared instance has moved to PIXI.Ticker.shared"), e13.Ticker.shared;
      }
    }
  }), e13.loaders = {}, Object.defineProperties(e13.loaders, {
    /**
     * @class PIXI.loaders.Loader
     * @see PIXI.Loader
     * @deprecated since 5.0.0
     */
    Loader: {
      get: function() {
        return ze(Qe, "PIXI.loaders.Loader class has moved to PIXI.Loader"), e13.Loader;
      }
    },
    /**
     * @class PIXI.loaders.Resource
     * @see PIXI.LoaderResource
     * @deprecated since 5.0.0
     */
    Resource: {
      get: function() {
        return ze(Qe, "PIXI.loaders.Resource class has moved to PIXI.LoaderResource"), e13.LoaderResource;
      }
    },
    /**
     * @function PIXI.loaders.bitmapFontParser
     * @see PIXI.BitmapFontLoader.use
     * @deprecated since 5.0.0
     */
    bitmapFontParser: {
      get: function() {
        return ze(Qe, "PIXI.loaders.bitmapFontParser function has moved to PIXI.BitmapFontLoader.use"), e13.BitmapFontLoader.use;
      }
    },
    /**
     * @function PIXI.loaders.parseBitmapFontData
     * @deprecated since 5.0.0
     */
    parseBitmapFontData: {
      get: function() {
        ze(Qe, "PIXI.loaders.parseBitmapFontData function has removed");
      }
    },
    /**
     * @function PIXI.loaders.spritesheetParser
     * @see PIXI.SpritesheetLoader.use
     * @deprecated since 5.0.0
     */
    spritesheetParser: {
      get: function() {
        return ze(Qe, "PIXI.loaders.spritesheetParser function has moved to PIXI.SpritesheetLoader.use"), e13.SpritesheetLoader.use;
      }
    },
    /**
     * @function PIXI.loaders.getResourcePath
     * @see PIXI.SpritesheetLoader.getResourcePath
     * @deprecated since 5.0.0
     */
    getResourcePath: {
      get: function() {
        return ze(Qe, "PIXI.loaders.getResourcePath property has moved to PIXI.SpritesheetLoader.getResourcePath"), e13.SpritesheetLoader.getResourcePath;
      }
    }
  }), e13.Loader.addPixiMiddleware = function(h) {
    return ze(Qe, "PIXI.loaders.Loader.addPixiMiddleware function is deprecated, use PIXI.loaders.Loader.registerPlugin"), e13.loaders.Loader.registerPlugin({ use: h() });
  };
  var t = function(f) {
    return "on" + f.charAt(0).toUpperCase() + f.slice(1);
  };
  Object.assign(e13.Loader.prototype, {
    /**
     * Use the corresponding signal, e.g., event `start`` is signal `onStart`.
     * @method PIXI.Loader#on
     * @deprecated since 5.0.0
     */
    on: function(f) {
      var h = t(f);
      ze(Qe, "PIXI.Loader#on is completely deprecated, use PIXI.Loader#" + h + ".add");
    },
    /**
     * Use the corresponding signal, e.g., event `start`` is signal `onStart`.
     * @method PIXI.Loader#once
     * @deprecated since 5.0.0
     */
    once: function(f) {
      var h = t(f);
      ze(Qe, "PIXI.Loader#once is completely deprecated, use PIXI.Loader#" + h + ".once");
    },
    /**
     * Use the corresponding signal, e.g., event `start`` is signal `onStart`.
     * @method PIXI.Loader#off
     * @deprecated since 5.0.0
     */
    off: function(f) {
      var h = t(f);
      ze(Qe, "PIXI.Loader#off is completely deprecated, use PIXI.Loader#" + h + ".detach");
    }
  }), Object.defineProperty(e13.extract, "WebGLExtract", {
    get: function() {
      return ze(Qe, "PIXI.extract.WebGLExtract method has moved to PIXI.Extract"), e13.Extract;
    }
  }), Object.defineProperty(e13.prepare, "WebGLPrepare", {
    get: function() {
      return ze(Qe, "PIXI.prepare.WebGLPrepare class has moved to PIXI.Prepare"), e13.Prepare;
    }
  }), e13.Container.prototype._renderWebGL = function(h) {
    ze(Qe, "PIXI.Container._renderWebGL method has moved to PIXI.Container._render"), this._render(h);
  }, e13.Container.prototype.renderWebGL = function(h) {
    ze(Qe, "PIXI.Container.renderWebGL method has moved to PIXI.Container.render"), this.render(h);
  }, e13.DisplayObject.prototype.renderWebGL = function(h) {
    ze(Qe, "PIXI.DisplayObject.renderWebGL method has moved to PIXI.DisplayObject.render"), this.render(h);
  }, e13.Container.prototype.renderAdvancedWebGL = function(h) {
    ze(Qe, "PIXI.Container.renderAdvancedWebGL method has moved to PIXI.Container.renderAdvanced"), this.renderAdvanced(h);
  }, Object.defineProperties(e13.settings, {
    /**
     * Default transform type.
     *
     * @static
     * @deprecated since 5.0.0
     * @memberof PIXI.settings
     * @type {PIXI.TRANSFORM_MODE}
     * @default PIXI.TRANSFORM_MODE.STATIC
     */
    TRANSFORM_MODE: {
      get: function() {
        return ze(Qe, "PIXI.settings.TRANSFORM_MODE property has been removed"), 0;
      },
      set: function() {
        ze(Qe, "PIXI.settings.TRANSFORM_MODE property has been removed");
      }
    }
  });
  var r = e13.BaseTexture;
  r.prototype.loadSource = function(h) {
    ze(Qe, "PIXI.BaseTexture.loadSource method has been deprecated");
    var d = e13.resources.autoDetectResource(h);
    d.internal = true, this.setResource(d), this.update();
  };
  var n = false;
  Object.defineProperties(r.prototype, {
    /**
     * @name PIXI.BaseTexture#hasLoaded
     * @type {boolean}
     * @deprecated since 5.0.0
     * @readonly
     * @see PIXI.BaseTexture#valid
     */
    hasLoaded: {
      get: function() {
        return ze(Qe, "PIXI.BaseTexture.hasLoaded property has been removed, use PIXI.BaseTexture.valid"), this.valid;
      }
    },
    /**
     * @name PIXI.BaseTexture#imageUrl
     * @type {string}
     * @deprecated since 5.0.0
     * @see PIXI.resources.ImageResource#url
     */
    imageUrl: {
      get: function() {
        var f;
        return ze(Qe, "PIXI.BaseTexture.imageUrl property has been removed, use PIXI.BaseTexture.resource.url"), (f = this.resource) === null || f === void 0 ? void 0 : f.url;
      },
      set: function(f) {
        ze(Qe, "PIXI.BaseTexture.imageUrl property has been removed, use PIXI.BaseTexture.resource.url"), this.resource && (this.resource.url = f);
      }
    },
    /**
     * @name PIXI.BaseTexture#source
     * @type {HTMLImageElement|HTMLCanvasElement|HTMLVideoElement|SVGElement}
     * @deprecated since 5.0.0
     * @readonly
     * @see PIXI.resources.BaseImageResource#source
     */
    source: {
      get: function() {
        return ze(Qe, "PIXI.BaseTexture.source property has been moved, use `PIXI.BaseTexture.resource.source`"), this.resource.source;
      },
      set: function(f) {
        ze(Qe, "PIXI.BaseTexture.source property has been moved, use `PIXI.BaseTexture.resource.source` if you want to set HTMLCanvasElement. Otherwise, create new BaseTexture."), this.resource && (this.resource.source = f);
      }
    },
    /**
     * @name PIXI.BaseTexture#premultiplyAlpha
     * @type {boolean}
     * @deprecated since 5.2.0
     * @readonly
     * @see PIXI.BaseTexture#alphaMode
     */
    premultiplyAlpha: {
      get: function() {
        return ze("5.2.0", "PIXI.BaseTexture.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"), this.alphaMode !== 0;
      },
      set: function(f) {
        ze("5.2.0", "PIXI.BaseTexture.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"), this.alphaMode = Number(f);
      }
    },
    /**
     * Batch local field, stores current texture location
     *
     * @name PIXI.BaseTexture#_id
     * @deprecated since 5.2.0
     * @type {number}
     * @see PIXI.BaseTexture#_batchLocation
     */
    _id: {
      get: function() {
        return n || (ze("5.2.0", "PIXI.BaseTexture._id batch local field has been changed to `_batchLocation`"), n = true), this._batchLocation;
      },
      set: function(f) {
        this._batchLocation = f;
      }
    }
  }), r.fromImage = function(h, d, p, m) {
    ze(Qe, "PIXI.BaseTexture.fromImage method has been replaced with PIXI.BaseTexture.from");
    var g = { scale: m, crossorigin: d };
    return r.from(h, { scaleMode: p, resourceOptions: g });
  }, r.fromCanvas = function(h, d) {
    return ze(Qe, "PIXI.BaseTexture.fromCanvas method has been replaced with PIXI.BaseTexture.from"), r.from(h, { scaleMode: d });
  }, r.fromSVG = function(h, d, p, m) {
    ze(Qe, "PIXI.BaseTexture.fromSVG method has been replaced with PIXI.BaseTexture.from");
    var g = { scale: m, crossorigin: d };
    return r.from(h, { scaleMode: p, resourceOptions: g });
  }, Object.defineProperties(e13.resources.ImageResource.prototype, {
    /**
     * @name PIXI.resources.ImageResource#premultiplyAlpha
     * @type {boolean}
     * @deprecated since 5.2.0
     * @readonly
     * @see PIXI.resources.ImageResource#alphaMode
     */
    premultiplyAlpha: {
      get: function() {
        return ze("5.2.0", "PIXI.resources.ImageResource.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"), this.alphaMode !== 0;
      },
      set: function(f) {
        ze("5.2.0", "PIXI.resources.ImageResource.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"), this.alphaMode = Number(f);
      }
    }
  }), e13.Point.prototype.copy = function(h) {
    return ze(Qe, "PIXI.Point.copy method has been replaced with PIXI.Point.copyFrom"), this.copyFrom(h);
  }, e13.ObservablePoint.prototype.copy = function(h) {
    return ze(Qe, "PIXI.ObservablePoint.copy method has been replaced with PIXI.ObservablePoint.copyFrom"), this.copyFrom(h);
  }, e13.Rectangle.prototype.copy = function(h) {
    return ze(Qe, "PIXI.Rectangle.copy method has been replaced with PIXI.Rectangle.copyFrom"), this.copyFrom(h);
  }, e13.Matrix.prototype.copy = function(h) {
    return ze(Qe, "PIXI.Matrix.copy method has been replaced with PIXI.Matrix.copyTo"), this.copyTo(h);
  }, e13.systems.StateSystem.prototype.setState = function(h) {
    return ze("v5.1.0", "StateSystem.setState has been renamed to StateSystem.set"), this.set(h);
  }, Object.assign(e13.systems.FilterSystem.prototype, {
    /**
     * @method PIXI.FilterManager#getRenderTarget
     * @deprecated since 5.0.0
     * @see PIXI.systems.FilterSystem#getFilterTexture
     */
    getRenderTarget: function(f, h) {
      return ze(Qe, "PIXI.FilterManager.getRenderTarget method has been replaced with PIXI.systems.FilterSystem#getFilterTexture"), this.getFilterTexture(null, h);
    },
    /**
     * @method PIXI.FilterManager#returnRenderTarget
     * @deprecated since 5.0.0
     * @see PIXI.systems.FilterSystem#returnFilterTexture
     */
    returnRenderTarget: function(f) {
      ze(Qe, "PIXI.FilterManager.returnRenderTarget method has been replaced with PIXI.systems.FilterSystem.returnFilterTexture"), this.returnFilterTexture(f);
    },
    /**
     * @method PIXI.systems.FilterSystem#calculateScreenSpaceMatrix
     * @deprecated since 5.0.0
     * @param {PIXI.Matrix} outputMatrix - the matrix to output to.
     * @return {PIXI.Matrix} The mapped matrix.
     */
    calculateScreenSpaceMatrix: function(f) {
      ze(Qe, "PIXI.systems.FilterSystem.calculateScreenSpaceMatrix method is removed, use `(vTextureCoord * inputSize.xy) + outputFrame.xy` instead");
      var h = f.identity(), d = this.activeState, p = d.sourceFrame, m = d.destinationFrame;
      return h.translate(p.x / m.width, p.y / m.height), h.scale(m.width, m.height), h;
    },
    /**
     * @method PIXI.systems.FilterSystem#calculateNormalizedScreenSpaceMatrix
     * @deprecated since 5.0.0
     * @param {PIXI.Matrix} outputMatrix - The matrix to output to.
     * @return {PIXI.Matrix} The mapped matrix.
     */
    calculateNormalizedScreenSpaceMatrix: function(f) {
      ze(Qe, "PIXI.systems.FilterManager.calculateNormalizedScreenSpaceMatrix method is removed, use `((vTextureCoord * inputSize.xy) + outputFrame.xy) / outputFrame.zw` instead.");
      var h = this.activeState, d = h.sourceFrame, p = h.destinationFrame, m = f.identity();
      m.translate(d.x / p.width, d.y / p.height);
      var g = p.width / d.width, v = p.height / d.height;
      return m.scale(g, v), m;
    }
  }), Object.defineProperties(e13.RenderTexture.prototype, {
    /**
     * @name PIXI.RenderTexture#sourceFrame
     * @type {PIXI.Rectangle}
     * @deprecated since 5.0.0
     * @readonly
     */
    sourceFrame: {
      get: function() {
        return ze(Qe, "PIXI.RenderTexture.sourceFrame property has been removed"), this.filterFrame;
      }
    },
    /**
     * @name PIXI.RenderTexture#size
     * @type {PIXI.Rectangle}
     * @deprecated since 5.0.0
     * @readonly
     */
    size: {
      get: function() {
        return ze(Qe, "PIXI.RenderTexture.size property has been removed"), this._frame;
      }
    }
  });
  var i = (
    /** @class */
    function(f) {
      sB(h, f);
      function h(d, p, m, g) {
        var v = this;
        return ze(Qe, "PIXI.filters.BlurXFilter class is deprecated, use PIXI.filters.BlurFilterPass"), v = f.call(this, true, d, p, m, g) || this, v;
      }
      return h;
    }(e13.filters.BlurFilterPass)
  ), o = (
    /** @class */
    function(f) {
      sB(h, f);
      function h(d, p, m, g) {
        var v = this;
        return ze(Qe, "PIXI.filters.BlurYFilter class is deprecated, use PIXI.filters.BlurFilterPass"), v = f.call(this, false, d, p, m, g) || this, v;
      }
      return h;
    }(e13.filters.BlurFilterPass)
  );
  Object.assign(e13.filters, {
    BlurXFilter: i,
    BlurYFilter: o
  });
  var a = e13.Sprite, s = e13.Texture, l = e13.Graphics;
  l.prototype.generateCanvasTexture || (l.prototype.generateCanvasTexture = function() {
    ze(Qe, 'PIXI.Graphics.generateCanvasTexture method is only available in "pixi.js-legacy"');
  }), Object.defineProperty(l.prototype, "graphicsData", {
    get: function() {
      return ze(Qe, "PIXI.Graphics.graphicsData property is deprecated, use PIXI.Graphics.geometry.graphicsData"), this.geometry.graphicsData;
    }
  });
  function u(f, h, d, p) {
    return ze(Qe, "PIXI.Sprite." + f + " method is deprecated, use PIXI.Sprite.from"), a.from(h, {
      resourceOptions: {
        scale: p,
        crossorigin: d
      }
    });
  }
  a.fromImage = u.bind(null, "fromImage"), a.fromSVG = u.bind(null, "fromSVG"), a.fromCanvas = u.bind(null, "fromCanvas"), a.fromVideo = u.bind(null, "fromVideo"), a.fromFrame = u.bind(null, "fromFrame");
  function c(f, h, d, p) {
    return ze(Qe, "PIXI.Texture." + f + " method is deprecated, use PIXI.Texture.from"), s.from(h, {
      resourceOptions: {
        scale: p,
        crossorigin: d
      }
    });
  }
  s.fromImage = c.bind(null, "fromImage"), s.fromSVG = c.bind(null, "fromSVG"), s.fromCanvas = c.bind(null, "fromCanvas"), s.fromVideo = c.bind(null, "fromVideo"), s.fromFrame = c.bind(null, "fromFrame"), Object.defineProperty(e13.AbstractRenderer.prototype, "autoResize", {
    get: function() {
      return ze(Qe, "PIXI.AbstractRenderer.autoResize property is deprecated, use PIXI.AbstractRenderer.autoDensity"), this.autoDensity;
    },
    set: function(f) {
      ze(Qe, "PIXI.AbstractRenderer.autoResize property is deprecated, use PIXI.AbstractRenderer.autoDensity"), this.autoDensity = f;
    }
  }), Object.defineProperty(e13.Renderer.prototype, "textureManager", {
    get: function() {
      return ze(Qe, "PIXI.Renderer.textureManager property is deprecated, use PIXI.Renderer.texture"), this.texture;
    }
  }), e13.utils.mixins = {
    /**
     * @memberof PIXI.utils.mixins
     * @function mixin
     * @deprecated since 5.0.0
     */
    mixin: function() {
      ze(Qe, "PIXI.utils.mixins.mixin function is no longer available");
    },
    /**
     * @memberof PIXI.utils.mixins
     * @function delayMixin
     * @deprecated since 5.0.0
     */
    delayMixin: function() {
      ze(Qe, "PIXI.utils.mixins.delayMixin function is no longer available");
    },
    /**
     * @memberof PIXI.utils.mixins
     * @function performMixins
     * @deprecated since 5.0.0
     */
    performMixins: function() {
      ze(Qe, "PIXI.utils.mixins.performMixins function is no longer available");
    }
  }, Object.defineProperty(e13.BitmapText.prototype, "font", {
    get: function() {
      return ze("5.3.0", "PIXI.BitmapText.font property is deprecated, use fontName, fontSize, tint or align properties"), {
        name: this._fontName,
        size: this._fontSize,
        tint: this._tint,
        align: this._align
      };
    },
    set: function(f) {
      if (ze("5.3.0", "PIXI.BitmapText.font property is deprecated, use fontName, fontSize, tint or align properties"), !!f) {
        var h = { font: f };
        this._upgradeStyle(h), h.fontSize = h.fontSize || e13.BitmapFont.available[h.fontName].size, this._fontName = h.fontName, this._fontSize = h.fontSize, this.dirty = true;
      }
    }
  });
}
$s.registerPlugin("accessibility", aG);
$s.registerPlugin("extract", QG);
$s.registerPlugin("interaction", uG);
$s.registerPlugin("particle", i6);
$s.registerPlugin("prepare", g6);
$s.registerPlugin("batch", ZG);
$s.registerPlugin("tilingSprite", b6);
cu.registerPlugin(S6);
cu.registerPlugin(y6);
Ov.registerPlugin(sG);
Ov.registerPlugin(r6);
var C6 = "5.3.12";
var vre = {
  AlphaFilter: zte,
  BlurFilter: Kte,
  BlurFilterPass: DI,
  ColorMatrixFilter: NI,
  DisplacementFilter: rre,
  FXAAFilter: are,
  NoiseFilter: cre
};
var x6 = Object.freeze(Object.defineProperty({
  __proto__: null,
  get ALPHA_MODES() {
    return Cs;
  },
  AbstractBatchRenderer: YG,
  AbstractRenderer: zG,
  AccessibilityManager: aG,
  AnimatedSprite: mre,
  AppLoaderPlugin: r6,
  Application: Ov,
  Attribute: pI,
  get BLEND_MODES() {
    return _t;
  },
  get BUFFER_BITS() {
    return Fg;
  },
  BasePrepare: p6,
  BaseRenderTexture: Vm,
  BaseTexture: Nr,
  BatchDrawCall: Kb,
  BatchGeometry: ED,
  BatchPluginFactory: KG,
  BatchRenderer: ZG,
  BatchShaderGenerator: qG,
  BatchTextureArray: Zb,
  BitmapFont: yl,
  BitmapFontData: jg,
  BitmapFontLoader: S6,
  BitmapText: Ute,
  Bounds: Ug,
  Buffer: wn,
  get CLEAR_MODES() {
    return Bo;
  },
  Circle: tG,
  Container: Jo,
  CountLimiter: d6,
  DEG_TO_RAD: eG,
  get DRAW_MODES() {
    return To;
  },
  DisplayObject: ln,
  get ENV() {
    return Ba;
  },
  Ellipse: rG,
  Extract: QG,
  get FORMATS() {
    return Xf;
  },
  FillStyle: SD,
  Filter: Fs,
  FilterState: _G,
  Framebuffer: qb,
  get GC_MODES() {
    return Wb;
  },
  GLFramebuffer: SG,
  GLProgram: $G,
  GLTexture: X_,
  GRAPHICS_CURVES: Kf,
  Geometry: Xd,
  Graphics: AD,
  GraphicsData: EI,
  GraphicsGeometry: h6,
  IGLUniformData: Dee,
  InteractionData: hI,
  InteractionEvent: lG,
  InteractionManager: uG,
  InteractionTrackingData: z_,
  get LINE_CAP() {
    return ps;
  },
  get LINE_JOIN() {
    return ds;
  },
  LineStyle: f6,
  Loader: cu,
  LoaderResource: Xm,
  get MASK_TYPES() {
    return ki;
  },
  get MIPMAP_MODES() {
    return Wf;
  },
  get MSAA_QUALITY() {
    return ou;
  },
  MaskData: OG,
  Matrix: sn,
  Mesh: Qf,
  MeshBatchUvs: T6,
  MeshGeometry: Pv,
  MeshMaterial: Iv,
  NineSlicePlane: dre,
  ObjectRenderer: wv,
  ObservablePoint: Hc,
  PI_2: Yf,
  get PRECISION() {
    return Vo;
  },
  ParticleContainer: ote,
  ParticleRenderer: i6,
  PlaneGeometry: O6,
  Point: On,
  Polygon: _f,
  Prepare: g6,
  Program: Av,
  Quad: yG,
  QuadUv: bD,
  RAD_TO_DEG: J4,
  get RENDERER_TYPE() {
    return Vf;
  },
  Rectangle: fr,
  RenderTexture: lu,
  RenderTexturePool: gG,
  Renderer: $s,
  RopeGeometry: I6,
  RoundedRectangle: nG,
  Runner: Ln,
  get SCALE_MODES() {
    return Ca;
  },
  get SHAPES() {
    return Wr;
  },
  Shader: Xl,
  SimpleMesh: fre,
  SimplePlane: P6,
  SimpleRope: hre,
  Sprite: Wd,
  SpriteMaskFilter: DG,
  Spritesheet: v6,
  SpritesheetLoader: y6,
  State: Kl,
  System: Fi,
  get TARGETS() {
    return Ll;
  },
  get TEXT_GRADIENT() {
    return Zf;
  },
  get TYPES() {
    return on;
  },
  TemporaryDisplayObject: pD,
  Text: OD,
  TextMetrics: Co,
  TextStyle: uu,
  Texture: Pt,
  TextureLoader: t6,
  TextureMatrix: RE,
  TextureUvs: _D,
  Ticker: An,
  TickerPlugin: sG,
  TilingSprite: xte,
  TilingSpriteRenderer: b6,
  TimeLimiter: Cte,
  Transform: fD,
  get UPDATE_PRIORITY() {
    return Fa;
  },
  UniformGroup: Bl,
  VERSION: C6,
  ViewableBuffer: WG,
  get WRAP_MODES() {
    return ws;
  },
  accessibleTarget: oG,
  autoDetectRenderer: VG,
  checkMaxIfStatementsInShader: kG,
  defaultFilterVertex: TD,
  defaultVertex: XG,
  filters: vre,
  graphicsUtils: ute,
  groupD8: Lr,
  interactiveTarget: cG,
  isMobile: bo,
  resources: oee,
  settings: ft,
  systems: Hee,
  uniformParsers: V_,
  useDeprecated: gre,
  utils: WJ
}, Symbol.toStringTag, { value: "Module" }));
(function() {
  try {
    if (typeof document < "u") {
      var e13 = document.createElement("style");
      e13.appendChild(document.createTextNode('._context-menu_18ock_1{position:fixed;background-color:#fffffff2;border:1px solid rgba(0,0,0,.1);border-radius:3px;font-size:12px;cursor:default;padding:3px;box-shadow:0 0 3px #0000001a,0 1px 5px #0000000d}._context-menu-dark_18ock_12{color:#ccc;background-color:#444444f7}._context-menu-icon_18ock_17{display:inline-block;margin-right:3px;vertical-align:middle}._context-menu-icon_18ock_17>svg{width:30px;height:20px}._context-menu-item_18ock_27{padding:2px;white-space:nowrap;border-radius:2px;transition:background .15s cubic-bezier(.25,.1,.25,1),color .15s cubic-bezier(.25,.1,.25,1)}._context-menu-item_18ock_27:hover{background:#337ab7;color:#fff}._context-menu-hr_18ock_38{margin-top:5px;margin-bottom:5px;border:0;border-top:1px solid rgba(0,0,0,.1)}._play-icon_18ock_45{width:12px;height:12px;position:absolute;right:5px}._context-menu-span_18ock_52{margin-right:20px;vertical-align:middle;display:inline-block;line-height:normal;white-space:nowrap}._context-menu-thumbnail_18ock_60{margin-right:10px;border:1px solid #888888}._context-menu-thumbnail-inline_18ock_65{display:inline-block;margin-right:10px;vertical-align:middle}._multitrack-header_1yz7l_1,._multitrack-header-focus_1yz7l_2,._multitrack-header-squeazed_1yz7l_3{position:relative;display:flex;justify-content:space-between;height:24px;margin-top:4px;margin-bottom:4px;color:#999;font-size:12px;line-height:24px;vertical-align:middle;border:0;border-radius:3px;background:#e5e5e5;transition:height .15s cubic-bezier(.25,.1,.25,1),margin .15s cubic-bezier(.25,.1,.25,1)}._multitrack-header-dark_1yz7l_20{background:#222}._multitrack-header-focus_1yz7l_2{height:32px;margin-top:0;margin-bottom:0}._multitrack-header-id_1yz7l_30{padding-left:3px}._multitrack-header-id_1yz7l_30:before{content:"ID:";font-weight:700;padding-right:5px}._multitrack-header-left_1yz7l_39{display:flex;flex-grow:1}._multitrack-header-grabber_1yz7l_44,._multitrack-header-grabber-squeazed_1yz7l_45{display:flex;align-items:center;justify-content:center;width:24px;height:100%;cursor:move;border-radius:3px 0 0 3px;transition:background .15s cubic-bezier(.25,.1,.25,1)}._multitrack-header-grabber_1yz7l_44:hover,._multitrack-header-grabber-squeazed_1yz7l_45:hover{background:#999}._multitrack-header-grabber_1yz7l_44:hover div,._multitrack-header-grabber-squeazed_1yz7l_45:hover div{background:#fff}._multitrack-header-grabber_1yz7l_44 div,._multitrack-header-grabber-squeazed_1yz7l_45 div{width:1px;height:50%;margin:1px;background:#999;transition:background .15s cubic-bezier(.25,.1,.25,1)}._multitrack-header-dark_1yz7l_20 ._multitrack-header-grabber_1yz7l_44 div{background:#666}._multitrack-header-grabber-squeazed_1yz7l_45{width:19.2px}._multitrack-header-search_1yz7l_80{position:relative;flex-grow:1;height:100%;margin-right:12px}._multitrack-header-search_1yz7l_80:after{position:absolute;top:3px;bottom:3px;right:-12px;display:block;content:"";width:1px;margin:0 6px;background:#cccccc}._multitrack-header-dark_1yz7l_20 ._multitrack-header-search_1yz7l_80:after{background:#666}._multitrack-header-nav-list_1yz7l_102,._multitrack-header_1yz7l_1>nav{display:flex}._multitrack-header-icon_1yz7l_107,._multitrack-header-icon-squeazed_1yz7l_108{width:24px;height:100%;padding:6px;transition:background .15s cubic-bezier(.25,.1,.25,1),color .15s cubic-bezier(.25,.1,.25,1)}._multitrack-header-icon_1yz7l_107 g,._multitrack-header-icon-squeazed_1yz7l_108 g{stroke:#999}._multitrack-header-icon_1yz7l_107:hover,._multitrack-header-icon_1yz7l_107:active,._multitrack-header-icon_1yz7l_107:focus,._multitrack-header-icon-squeazed_1yz7l_108:hover,._multitrack-header-icon-squeazed_1yz7l_108:active,._multitrack-header-icon-squeazed_1yz7l_108:focus{color:#fff;background:#337ab7}._multitrack-header-icon_1yz7l_107:hover g,._multitrack-header-icon_1yz7l_107:active g,._multitrack-header-icon_1yz7l_107:focus g,._multitrack-header-icon-squeazed_1yz7l_108:hover g,._multitrack-header-icon-squeazed_1yz7l_108:active g,._multitrack-header-icon-squeazed_1yz7l_108:focus g{stroke:#fff}._multitrack-header-icon_1yz7l_107:last-child,._multitrack-header-icon-squeazed_1yz7l_108:last-child{border-radius:0 3px 3px 0}._mouse-tool-selection_1yz7l_136{color:#fff;border-radius:3px 0 0 3px;background:#337ab7}._multitrack-header-icon-squeazed_1yz7l_108{width:20px 5;padding-left:3px;padding-right:3px}._track-control_w7hx2_1,._track-control-vertical_w7hx2_2{position:absolute;z-index:1;display:flex;background:rgba(255,255,255,.75);right:2px;top:2px;border-radius:2.5px;box-shadow:0 0 0 1px #0000000d,0 0 3px #0000001a;opacity:0;transition:opacity .15s cubic-bezier(.25,.1,.25,1),background .15s cubic-bezier(.25,.1,.25,1),box-shadow .15s cubic-bezier(.25,.1,.25,1)}._track-control-dark_w7hx2_15,._track-control-dark_w7hx2_15 ._track-control-active_w7hx2_16{background:rgba(40,40,40,.85)}._track-control-vertical_w7hx2_2{flex-direction:column-reverse}._track-control-left_w7hx2_24{left:2px;right:auto}._track-control-active_w7hx2_16,._track-control-vertical-active_w7hx2_30{opacity:1;z-index:1}._track-control-active_w7hx2_16:hover,._track-control-vertical-active_w7hx2_30:hover{background:rgb(255,255,255);box-shadow:0 0 0 1px #0000001a,0 0 3px #0003}._track-control-dark_w7hx2_15._track-control-active_w7hx2_16:hover{background:rgba(34,34,34,.95)}._track-control-padding-right_w7hx2_48{right:80px}._track-control-button_w7hx2_52{width:20px;height:20px;padding:4px;cursor:pointer;opacity:.66;transition:background .15s cubic-bezier(.25,.1,.25,1),color .15s cubic-bezier(.25,.1,.25,1),opacity .15s cubic-bezier(.25,.1,.25,1)}._track-control-button_w7hx2_52:hover{color:#fff;background:#337ab7;opacity:1}._track-control-button_w7hx2_52:first-child{border-radius:2.5px 0 0 2.5px}._track-control-button_w7hx2_52:last-child{border-radius:0 2.5px 2.5px 0}._track-control-dark_w7hx2_15 ._track-control-button_w7hx2_52{color:#ccc}._track-control-dark_w7hx2_15 ._track-control-button_w7hx2_52:hover{color:#fff;background:#337ab7;opacity:1}._track-control-button-vertical_w7hx2_81:first-child{border-radius:0 0 2.5px 2.5px}._track-control-button-vertical_w7hx2_81:last-child{border-radius:2.5px 2.5px 0 0}._center-track_fiu64_1{position:relative;background:transparent}._center-track-container_fiu64_6{position:absolute;z-index:1}._track-range-selection_5bcsr_1{position:absolute;z-index:-1;opacity:0;transition:opacity .15s cubic-bezier(.25,.1,.25,1)}._track-range-selection-active_5bcsr_8{z-index:1;opacity:1}._track-range-selection-group-inactive_5bcsr_22{display:none}._track-range-selection-group-brush-selection_5bcsr_26{outline:2px solid rgba(0,0,0,.33);fill:#000;fill-opacity:.1}._drag-listening-div-active_19gkt_1{z-index:10;box-shadow:inset 0 0 3px red}._gallery-tracks_fbxxi_1{position:relative;top:0;left:0;width:100%;height:100%}._gallery-track_fbxxi_1{position:absolute;box-sizing:border-box;top:0;right:0;bottom:0;left:0}._gallery-sub-track_fbxxi_18,._gallery-invisible-track_fbxxi_19{position:absolute}._tiled-plot_1y7td_1{position:relative;flex:1;overflow:hidden}._horizontalList_1y7td_7{display:flex;width:600px;height:300px;white-space:nowrap}._list_1y7td_14{width:400px;height:600px;overflow:hidden;-webkit-overflow-scrolling:touch}._stylizedList_1y7td_21{position:relative;z-index:0;background-color:#f3f3f3;outline:none}._stylizedItem_1y7td_28{position:relative;display:flex;align-items:center;width:100%;background-color:transparent;-webkit-user-select:none;user-select:none;color:#333;font-weight:400}._stylizedHelper_1y7td_39{box-shadow:0 5px 5px -5px #0003,0 -5px 5px -5px #0003;background-color:#fffc;cursor:row-resize}._stylizedHelper_1y7td_39._horizontalItem_1y7td_44{cursor:col-resize}._horizontalItem_1y7td_44{display:flex;flex-shrink:0;align-items:center;justify-content:center}._resizable-track_1y7td_55{width:100%;height:100%}path._domain_1y7td_60{stroke-width:0px}._top-right-handle_cizw2_1,._bottom-right-handle_cizw2_2{border-right:black solid;border-top:black solid}._top-left-handle_cizw2_7,._bottom-left-handle_cizw2_8{border-left:black solid;border-top:black solid}._top-draggable-handle_cizw2_13,._bottom-draggable-handle_cizw2_14,._left-draggable-handle_cizw2_15,._right-draggable-handle_cizw2_16{position:absolute;opacity:0;transition:transform .15s cubic-bezier(.25,.1,.25,1),opacity .15s cubic-bezier(.25,.1,.25,1)}._draggable-div_cizw2_22{background-color:transparent;box-sizing:border-box}._top-draggable-handle-grabber_cizw2_27,._bottom-draggable-handle-grabber_cizw2_28{width:10px;height:4px;border-top:1px solid black;border-bottom:1px solid black}._top-draggable-handle-grabber_cizw2_27,._bottom-draggable-handle-grabber_cizw2_28{margin:4px 7px}._left-draggable-handle-grabber_cizw2_43,._right-draggable-handle-grabber_cizw2_44{width:4px;height:10px;border-left:1px solid black;border-right:1px solid black}._left-draggable-handle-grabber_cizw2_43,._right-draggable-handle-grabber_cizw2_44{margin:7px 4px}._draggable-div_cizw2_22:hover ._top-draggable-handle_cizw2_13,._draggable-div_cizw2_22:hover ._bottom-draggable-handle_cizw2_14,._draggable-div_cizw2_22:hover ._left-draggable-handle_cizw2_15,._draggable-div_cizw2_22:hover ._right-draggable-handle_cizw2_16{opacity:.5;background:rgba(255,255,255,.75);box-shadow:0 0 3px 1px #ffffffbf;border-radius:3px}._top-draggable-handle_cizw2_13:hover,._top-draggable-handle_cizw2_13:active,._bottom-draggable-handle_cizw2_14:hover,._bottom-draggable-handle_cizw2_14:active,._left-draggable-handle_cizw2_15:hover,._left-draggable-handle_cizw2_15:active,._right-draggable-handle_cizw2_16:hover,._right-draggable-handle_cizw2_16:active{opacity:1!important;transform:scale(2)}._top-draggable-handle_cizw2_13:hover ._top-draggable-handle-grabber_cizw2_27,._top-draggable-handle_cizw2_13:hover ._bottom-draggable-handle-grabber_cizw2_28,._top-draggable-handle_cizw2_13:hover ._left-draggable-handle-grabber_cizw2_43,._top-draggable-handle_cizw2_13:hover ._right-draggable-handle-grabber_cizw2_44,._top-draggable-handle_cizw2_13:active ._top-draggable-handle-grabber_cizw2_27,._top-draggable-handle_cizw2_13:active ._bottom-draggable-handle-grabber_cizw2_28,._top-draggable-handle_cizw2_13:active ._left-draggable-handle-grabber_cizw2_43,._top-draggable-handle_cizw2_13:active ._right-draggable-handle-grabber_cizw2_44,._bottom-draggable-handle_cizw2_14:hover ._top-draggable-handle-grabber_cizw2_27,._bottom-draggable-handle_cizw2_14:hover ._bottom-draggable-handle-grabber_cizw2_28,._bottom-draggable-handle_cizw2_14:hover ._left-draggable-handle-grabber_cizw2_43,._bottom-draggable-handle_cizw2_14:hover ._right-draggable-handle-grabber_cizw2_44,._bottom-draggable-handle_cizw2_14:active ._top-draggable-handle-grabber_cizw2_27,._bottom-draggable-handle_cizw2_14:active ._bottom-draggable-handle-grabber_cizw2_28,._bottom-draggable-handle_cizw2_14:active ._left-draggable-handle-grabber_cizw2_43,._bottom-draggable-handle_cizw2_14:active ._right-draggable-handle-grabber_cizw2_44,._left-draggable-handle_cizw2_15:hover ._top-draggable-handle-grabber_cizw2_27,._left-draggable-handle_cizw2_15:hover ._bottom-draggable-handle-grabber_cizw2_28,._left-draggable-handle_cizw2_15:hover ._left-draggable-handle-grabber_cizw2_43,._left-draggable-handle_cizw2_15:hover ._right-draggable-handle-grabber_cizw2_44,._left-draggable-handle_cizw2_15:active ._top-draggable-handle-grabber_cizw2_27,._left-draggable-handle_cizw2_15:active ._bottom-draggable-handle-grabber_cizw2_28,._left-draggable-handle_cizw2_15:active ._left-draggable-handle-grabber_cizw2_43,._left-draggable-handle_cizw2_15:active ._right-draggable-handle-grabber_cizw2_44,._right-draggable-handle_cizw2_16:hover ._top-draggable-handle-grabber_cizw2_27,._right-draggable-handle_cizw2_16:hover ._bottom-draggable-handle-grabber_cizw2_28,._right-draggable-handle_cizw2_16:hover ._left-draggable-handle-grabber_cizw2_43,._right-draggable-handle_cizw2_16:hover ._right-draggable-handle-grabber_cizw2_44,._right-draggable-handle_cizw2_16:active ._top-draggable-handle-grabber_cizw2_27,._right-draggable-handle_cizw2_16:active ._bottom-draggable-handle-grabber_cizw2_28,._right-draggable-handle_cizw2_16:active ._left-draggable-handle-grabber_cizw2_43,._right-draggable-handle_cizw2_16:active ._right-draggable-handle-grabber_cizw2_44{box-shadow:0 0 3px 1px #0089ff;background:#0089ff}._top-draggable-handle_cizw2_13,._bottom-draggable-handle_cizw2_14{height:12px;cursor:row-resize}._left-draggable-handle_cizw2_15,._right-draggable-handle_cizw2_16{width:12px;cursor:col-resize}._horizontal-tiled-plot_1bqkg_1{position:relative}._button_1wnjn_1{display:flex;align-items:center;box-sizing:border-box;padding:.5em;color:#000;font-size:1em;line-height:1em;border:0;border-radius:2.5px;background:#fff;box-shadow:0 0 0 1px #ccc;transition:transform .15s cubic-bezier(.25,.1,.25,1),box-shadow .15s cubic-bezier(.25,.1,.25,1),background .15s cubic-bezier(.25,.1,.25,1);-webkit-appearance:none}._button_1wnjn_1:hover{background:#f2f2f2;box-shadow:0 0 0 1px #ccc}._button_1wnjn_1:focus{box-shadow:0 0 0 2px #0089ff}._button_1wnjn_1:active{transform:scale(.9)}._button_1wnjn_1:hover,._button_1wnjn_1:focus,._button_1wnjn_1:active{cursor:pointer;outline:none}._button-shortcut_1wnjn_35{padding:.1em 5px;color:#999;font-size:.8em;transition:color .15s cubic-bezier(.25,.1,.25,1)}._cross_2ke8w_1{position:relative;width:1em;height:1em}._cross_2ke8w_1:before,._cross_2ke8w_1:after{content:"";display:block;position:absolute;top:50%;left:0;width:1em;height:1px;background:black;transform-origin:center}._cross_2ke8w_1:before{-webkit-transform:translate(0,-50%) rotate(45deg);-moz-transform:translate(0,-50%) rotate(45deg);transform:translateY(-50%) rotate(45deg)}._cross_2ke8w_1:after{-webkit-transform:translate(0,-50%) rotate(-45deg);-moz-transform:translate(0,-50%) rotate(-45deg);transform:translateY(-50%) rotate(-45deg)}._modal-background_zzhoe_1{position:absolute;z-index:1000;top:0;right:0;bottom:0;left:0;background:rgba(0,0,0,.666);animation:_fade-in_zzhoe_1 .2s cubic-bezier(.25,.1,.25,1) 1;transition:opacity .2s cubic-bezier(.25,.1,.25,1)}._modal-hide_zzhoe_13{opacity:0}._modal-wrap_zzhoe_17{position:absolute;top:20px;right:20px;bottom:20px;left:20px}._modal-window_zzhoe_25{position:relative;width:100%;max-width:640px;max-height:100%;margin-left:auto;margin-right:auto;color:#000;border-radius:5px;background:#fff;animation:_fade-scale-in_zzhoe_1 .2s cubic-bezier(.25,.1,.25,1) 1}._modal-window-max-height_zzhoe_38{height:100%}._modal-content_zzhoe_42{padding:10px}@keyframes _fade-in_zzhoe_1{0%{opacity:0}to{opacity:1}}@keyframes _fade-scale-in_zzhoe_1{0%{opacity:0;transform:scale(.5)}to{opacity:1;transform:scale(1)}}._dialog-header_wp50s_1{position:relative;z-index:2;display:flex;justify-content:space-between;margin:0 -10px 10px;padding:0 10px 10px;border-bottom:1px solid #cccccc}._dialog-header_wp50s_1 h3{margin:0;padding:0;font-size:20px;line-height:1em}._dialog-header_wp50s_1 button{font-size:10px}._dialog-main-max-height_wp50s_20{position:absolute;z-index:1;top:40px;right:0;bottom:50px;left:0;padding:10px;overflow:auto}._dialog-footer_wp50s_31,._dialog-footer-max-height_wp50s_31{display:flex;justify-content:space-between;margin:10px -10px 0;padding:10px 10px 0;border-top:1px solid #cccccc}._dialog-footer_wp50s_31 button,._dialog-footer-max-height_wp50s_31 button{font-size:14px}._dialog-footer-max-height_wp50s_31{position:absolute;z-index:2;left:10px;right:10px;bottom:10px}table.table-track-options{border-collapse:collapse;margin-left:auto;margin-right:auto}td.td-track-options{border:1px solid #fff;outline:none;padding:3px;position:relative;font-family:Roboto,sans-serif;font-size:14px;color:#666}.cell-label{position:absolute;left:0;top:0;margin-left:5px;color:#777}.modal-dialog{position:relative;display:table;overflow-y:auto;overflow-x:auto;width:auto;min-width:300px;margin:auto}._track-renderer_11dwb_1{position:relative}._track-renderer-element_11dwb_5,._track-renderer-events_11dwb_6{position:absolute;top:0;right:0;bottom:0;left:0;z-index:-1}._track-renderer-events_11dwb_6{z-index:1}.tileset-finder-label{font-weight:700}.tileset-finder-search-box{margin-left:10px}.tileset-finder-search-bar{display:flex;margin-left:5px;justify-content:space-between;align-items:center}.tileset-finder-checkbox-tree{margin:5px;padding:3px;border:1px solid #aaaaaa;border-radius:5px}.react-checkbox-tree{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:reverse;-ms-flex-direction:row-reverse;flex-direction:row-reverse;font-size:16px}.react-checkbox-tree>ol{-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto}.react-checkbox-tree ol{margin:0;padding-left:0;list-style-type:none}.react-checkbox-tree ol ol{padding-left:24px}.react-checkbox-tree button{line-height:normal;color:inherit}.react-checkbox-tree button:disabled{cursor:not-allowed}.react-checkbox-tree .rct-bare-label{cursor:default}.react-checkbox-tree label{margin-bottom:0;cursor:pointer}.react-checkbox-tree label:hover{background:rgba(51,51,204,.1)}.react-checkbox-tree label:active,.react-checkbox-tree label:focus{background:rgba(51,51,204,.15)}.react-checkbox-tree:not(.rct-native-display) input{display:none}.react-checkbox-tree.rct-native-display input{margin:0 5px}.react-checkbox-tree .rct-icon{display:inline-block;text-align:center;text-rendering:auto;font-family:"Font Awesome 5 Free",FontAwesome,sans-serif;font-weight:400;font-variant:normal;font-style:normal}.rct-disabled>.rct-text>label{opacity:.75;cursor:not-allowed}.rct-disabled>.rct-text>label:hover{background:transparent}.rct-disabled>.rct-text>label:active{background:transparent}.rct-text{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.rct-options{-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;margin-left:.5rem;text-align:right}.rct-option{opacity:.75;border:0;background:none;cursor:pointer;padding:0 4px;font-size:18px}.rct-option:hover{opacity:1}.rct-option+.rct-option{margin-left:2px}.rct-collapse,.rct-checkbox,.rct-node-icon{padding:0 5px}.rct-collapse *,.rct-checkbox *,.rct-node-icon *{display:inline-block;margin:0;width:14px}.rct-collapse{-ms-flex-item-align:stretch;align-self:stretch;border:0;background:none;line-height:normal;color:inherit;font-size:12px}.rct-collapse.rct-collapse-btn{cursor:pointer}.rct-collapse>.rct-icon-expand-close{opacity:.5}.rct-collapse>.rct-icon-expand-close:hover{opacity:1}.rct-native-display .rct-checkbox{display:none}.rct-node-clickable{cursor:pointer}.rct-node-clickable:hover{background:rgba(51,51,204,.1)}.rct-node-clickable:focus{outline:0;background:rgba(51,51,204,.2)}.rct-node-icon{color:#33c}.rct-title{padding:0 5px}.rct-icons-fa4 .rct-icon-expand-close:before{content:""}.rct-icons-fa4 .rct-icon-expand-open:before{content:""}.rct-icons-fa4 .rct-icon-uncheck:before{content:""}.rct-icons-fa4 .rct-icon-check:before{content:""}.rct-icons-fa4 .rct-icon-half-check:before{opacity:.5;content:""}.rct-icons-fa4 .rct-icon-leaf:before{content:""}.rct-icons-fa4 .rct-icon-parent-open:before{content:""}.rct-icons-fa4 .rct-icon-parent-close:before{content:""}.rct-icons-fa4 .rct-icon-expand-all:before{content:""}.rct-icons-fa4 .rct-icon-collapse-all:before{content:""}.rct-icons-fa5 .rct-icon-expand-close:before{font-weight:900;content:""}.rct-icons-fa5 .rct-icon-expand-open:before{font-weight:900;content:""}.rct-icons-fa5 .rct-icon-uncheck:before{content:""}.rct-icons-fa5 .rct-icon-check:before{content:""}.rct-icons-fa5 .rct-icon-half-check:before{opacity:.5;content:""}.rct-icons-fa5 .rct-icon-leaf:before{content:""}.rct-icons-fa5 .rct-icon-parent-open:before{content:""}.rct-icons-fa5 .rct-icon-parent-close:before{content:""}.rct-icons-fa5 .rct-icon-expand-all:before{content:""}.rct-icons-fa5 .rct-icon-collapse-all:before{content:""}.rct-direction-rtl{direction:rtl}.rct-direction-rtl ol ol{padding-right:24px;padding-left:0}.rct-direction-rtl.rct-icons-fa4 .rct-icon-expand-close:before{content:""}.rct-direction-rtl.rct-icons-fa5 .rct-icon-expand-close:before{content:""}.plot-type-selected{background-color:#0000ff4d}.plot-type-container{overflow-y:scroll;margin:5px;padding:3px;border:1px solid #aaaaaa;border-radius:5px;max-height:15vh}.plot-type-container-empty{margin:5px;padding:3px 8px;border:1px solid #aaaaaa;background-color:#e8e8e8;border-radius:5px}.plot-type-item{cursor:pointer}.plot-type-item:not(.plot-type-selected):hover{background-color:#3333cc1a}.track-thumbnail{width:30px;height:20px;display:inline-block;margin-right:10;vertical-align:middle}.track-thumbnail>svg{width:20px;height:20px}._collapse-toggle-icon_ub7s6_1:before{font-family:Glyphicons Halflings;content:"";float:left;padding-right:3px}._collapse-toggle-icon_ub7s6_1._collapsed_ub7s6_9:before{content:""}._modal-title_ub7s6_14{font-family:Roboto;font-weight:700}._modal-container_ub7s6_19{position:relative}._modal-container_ub7s6_19 ._modal_ub7s6_14,._modal-container_ub7s6_19 ._modal-backdrop_ub7s6_23{position:absolute}._modal-dialog_ub7s6_27{position:relative;display:table;overflow-y:auto;overflow-x:auto;width:600px;min-width:300px;margin:auto}._vertical-tiled-plot_f3ho8_1{position:relative}._genome-position-search_1l2sx_1,._genome-position-search-focus_1l2sx_2{position:relative;display:flex;align-items:stretch;height:100%;margin-bottom:0;font-size:13.7142857143px;transition:box-shadow .15s cubic-bezier(.25,.1,.25,1),font-size .15s cubic-bezier(.25,.1,.25,1)}._genome-position-search-focus_1l2sx_2{box-shadow:0 0 0 1px #337ab7,0 0 3px 1px #337ab7}._genome-position-search-bar_1l2sx_16{position:relative;box-sizing:border-box;width:100%;height:100%;padding:3px;color:#666;font-size:inherit;line-height:24px;border:0;border-radius:3px 0 0 3px;background:transparent}._genome-position-search-bar_1l2sx_16:focus{outline:none;color:#000}._genome-position-search-dark_1l2sx_34 ._genome-position-search-bar_1l2sx_16:focus{color:#e5e5e5}._genome-position-search-bar-button_1l2sx_38,._genome-position-search-bar-button-focus_1l2sx_39{display:block;height:100%;padding:0 8px!important;color:#999;border:0!important;border-radius:0!important;background:transparent;transition:background .15s cubic-bezier(.25,.1,.25,1),color .15s cubic-bezier(.25,.1,.25,1)}._genome-position-search-bar-button_1l2sx_38:active,._genome-position-search-bar-button_1l2sx_38:focus,._genome-position-search-bar-button_1l2sx_38:hover,._genome-position-search-bar-button-focus_1l2sx_39:active,._genome-position-search-bar-button-focus_1l2sx_39:focus,._genome-position-search-bar-button-focus_1l2sx_39:hover{color:#fff;background:#337ab7}._genome-position-search-bar-button-focus_1l2sx_39{color:#fff;background:#337ab7}._genome-position-search-bar-icon_1l2sx_62,._genome-position-search-bar-icon-focus_1l2sx_63{display:flex;align-items:center;transition:color .15s cubic-bezier(.25,.1,.25,1)}._genome-position-search-bar-icon_1l2sx_62:first-child,._genome-position-search-bar-icon-focus_1l2sx_63:first-child{margin-left:6px;margin-right:2px}._genome-position-search-bar-icon_1l2sx_62 span,._genome-position-search-bar-icon-focus_1l2sx_63 span{display:block;margin-top:-2px}._genome-position-search-bar-icon-focus_1l2sx_63{color:#337ab7}._genome-position-search-bar-suggestions_1l2sx_83{position:fixed;border-radius:3px;box-shadow:0 0 3px #0000001a,0 1px 5px #0000000d;background-color:#fffffff2;border:1px solid rgba(0,0,0,.1);padding:2px 0;font-size:90%;overflow:auto;max-height:50%}._btn_1l2sx_95{display:inline-block;margin-bottom:0;font-size:13.7142857143px;font-weight:400;line-height:1.42857143;text-align:center;white-space:nowrap;vertical-align:middle;-ms-touch-action:manipulation;touch-action:manipulation;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-image:none;border:1px solid transparent;border-radius:4px}._btn-sm_1l2sx_116{font-size:12px;line-height:1.5;border-radius:3px}._btn-default_1l2sx_122{color:#666;background-color:#fff;border-color:#ccc}._btn-default_1l2sx_122:hover{color:#000;background:#ccc}._btn-default_1l2sx_122:active,._btn-default_1l2sx_122:focus{color:#fff;border-color:#000;background:#000}._genome-position-search_1l2sx_1 ._btn_1l2sx_95{border-radius:0 3px 3px 0}._export-link-dialog-wrapper_p9gxw_1{display:flex}._export-link-dialog-wrapper_p9gxw_1 input{flex-grow:1}._add-track-position-table_wdy5w_1{border-collapse:collapse;margin:5px;color:#666}._add-track-position-table-dark_wdy5w_7{color:#ccc}._add-track-position-other_wdy5w_11{outline:none}._add-track-position-top-center_wdy5w_15{min-width:80px;min-height:20px;text-align:center;outline:none;border-top:1px solid #999;border-left:1px solid #999;border-right:1px solid #999;border-radius:2px 2px 0 0}._add-track-position-top-center_wdy5w_15:hover{color:#fff;background-color:#337ab7}._add-track-position-middle-left_wdy5w_30{min-width:40px;text-align:center;outline:none;border-top:1px solid #999;border-left:1px solid #999;border-bottom:1px solid #999;border-radius:2px 0 0 2px}._add-track-position-middle-left_wdy5w_30:hover{background-color:#337ab7;color:#fff}._add-track-position-middle-right_wdy5w_45{min-width:40px;text-align:center;outline:none;border-top:1px solid #999;border-right:1px solid #999;border-bottom:1px solid #999;border-radius:0 2px 2px 0}._add-track-position-middle-right_wdy5w_45:hover{background-color:#337ab7;color:#fff}._add-track-position-middle-middle_wdy5w_60{text-align:center;outline:none;border:1px solid #999}._add-track-position-middle-middle_wdy5w_60:hover{background-color:#337ab7;color:#fff}._add-track-position-bottom-middle_wdy5w_71{min-height:20px;text-align:center;outline:none;border-left:1px solid #999;border-right:1px solid #999;border-bottom:1px solid #999;border-radius:0 0 2px 2px}._add-track-position-bottom-middle_wdy5w_71:hover{background-color:#337ab7;color:#fff}._add-track-position-span_wdy5w_86{margin:5px}._view-config-editor-header_1hlm6_1{margin:-10px -10px 0;padding:10px;display:flex;justify-content:space-between;background:#f2f2f2}._view-config-editor-header_1hlm6_1 button{display:flex;align-items:center;font-size:14px;background:#f2f2f2}._view-config-editor-header_1hlm6_1 button:hover{background:#e5e5e5}._view-config-editor-header_1hlm6_1 button:hover span{color:#666}._view-config-editor_1hlm6_1{position:absolute;top:50px;right:0;bottom:0;left:0;margin:1px 0 0;padding:0;overflow:auto;font-size:12.5px;height:calc(100% - 80px)}._view-config-log_1hlm6_34{position:absolute;right:0;bottom:0;left:0;margin:1px 0 0;padding:0;min-height:30px;background:#f2f2f2;transition:height .15s cubic-bezier(.25,.1,.25,1)}._view-config-log-header_1hlm6_46{background:#f2f2f2;border-top:1px solid #cccccc;border-bottom:1px solid #cccccc;padding-left:10px;height:30px;display:flex;align-items:center;cursor:pointer;position:sticky;position:-webkit-sticky;top:0}._view-config-log-msg_1hlm6_60{background:#f2f2f2;overflow:auto;height:calc(100% - 30px)}._view-config-log-msg_1hlm6_60 tr,._view-config-log-msg_1hlm6_60 td{outline:none;vertical-align:top}._view-config-log-msg_1hlm6_60 ._title_1hlm6_70{font-weight:700;padding-left:8px;padding-top:8px;width:100px}._view-config-log-msg_1hlm6_60 ._Warning_1hlm6_76{color:orange}._view-config-log-msg_1hlm6_60 ._Success_1hlm6_79{color:green}._view-config-log-msg_1hlm6_60 ._Error_1hlm6_82{color:red}._view-config-log-msg_1hlm6_60 pre{background:white;white-space:pre-wrap;white-space:-moz-pre-wrap;white-space:-pre-wrap;white-space:-o-pre-wrap;word-wrap:break-word}._higlass_1uoq8_1{position:relative}._higlass-dark-theme_1uoq8_5{background:black}._higlass-container-overflow_1uoq8_9,._higlass-scroll-container-overflow_1uoq8_10,._higlass-scroll-container-scroll_1uoq8_11{position:absolute;top:0;right:0;bottom:0;left:0}._higlass-scroll-container-overflow_1uoq8_10{overflow:hidden}._higlass-scroll-container-scroll_1uoq8_11{overflow-x:hidden;overflow-y:auto}._higlass-canvas_1uoq8_28{position:absolute;width:100%;height:100%}._higlass-drawing-surface_1uoq8_34{position:relative}._higlass-svg_1uoq8_38{position:absolute;width:100%;height:100%;left:0;top:0;pointer-events:none}._tiled-area_1uoq8_47{display:flex;flex-direction:column}._track-mouseover-menu_1uoq8_52{position:fixed;z-index:1;margin:17px 0 0 9px;padding:0 .25rem;max-width:50vw;word-wrap:break-word;font-size:.8em;pointer-events:none;background:white;border-radius:.25rem;box-shadow:0 0 0 1px #0000001a,0 0 3px #00000013,0 0 7px #0000000d}.react-grid-layout{position:relative;transition:height .2s ease}.react-grid-item{transition:all .2s ease;transition-property:left,top}.react-grid-item.cssTransforms{transition-property:transform}.react-grid-item.resizing{z-index:1;will-change:width,height}.react-grid-item.react-draggable-dragging{transition:none;z-index:3;will-change:transform}.react-grid-item.react-grid-placeholder{background:red;opacity:.2;transition-duration:.1s;z-index:2;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none}.react-grid-item>.react-resizable-handle{position:absolute;width:20px;height:20px;bottom:0;right:0;cursor:se-resize}.react-grid-item>.react-resizable-handle:after{content:"";position:absolute;right:3px;bottom:3px;width:5px;height:5px;border-right:2px solid rgba(0,0,0,.4);border-bottom:2px solid rgba(0,0,0,.4)}.react-resizable{position:relative}.react-resizable-handle{position:absolute;width:20px;height:20px;background-repeat:no-repeat;background-origin:content-box;box-sizing:border-box;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2IDYiIHN0eWxlPSJiYWNrZ3JvdW5kLWNvbG9yOiNmZmZmZmYwMCIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSI2cHgiIGhlaWdodD0iNnB4Ij48ZyBvcGFjaXR5PSIwLjMwMiI+PHBhdGggZD0iTSA2IDYgTCAwIDYgTCAwIDQuMiBMIDQgNC4yIEwgNC4yIDQuMiBMIDQuMiAwIEwgNiAwIEwgNiA2IEwgNiA2IFoiIGZpbGw9IiMwMDAwMDAiLz48L2c+PC9zdmc+);background-position:bottom right;padding:0 3px 3px 0}.react-resizable-handle-sw{bottom:0;left:0;cursor:sw-resize;transform:rotate(90deg)}.react-resizable-handle-se{bottom:0;right:0;cursor:se-resize}.react-resizable-handle-nw{top:0;left:0;cursor:nw-resize;transform:rotate(180deg)}.react-resizable-handle-ne{top:0;right:0;cursor:ne-resize;transform:rotate(270deg)}.react-resizable-handle-w,.react-resizable-handle-e{top:50%;margin-top:-10px;cursor:ew-resize}.react-resizable-handle-w{left:0;transform:rotate(135deg)}.react-resizable-handle-e{right:0;transform:rotate(315deg)}.react-resizable-handle-n,.react-resizable-handle-s{left:50%;margin-left:-10px;cursor:ns-resize}.react-resizable-handle-n{top:0;transform:rotate(225deg)}.react-resizable-handle-s{bottom:0;transform:rotate(45deg)}code[class*=language-],pre[class*=language-]{color:#393a34;font-family:Consolas,Bitstream Vera Sans Mono,Courier New,Courier,monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:.95em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection,code[class*=language-]::-moz-selection,code[class*=language-] ::-moz-selection{background:#b3d4fc}pre[class*=language-]::selection,pre[class*=language-] ::selection,code[class*=language-]::selection,code[class*=language-] ::selection{background:#b3d4fc}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;border:1px solid #dddddd;background-color:#fff}:not(pre)>code[class*=language-]{padding:1px .2em;background:#f8f8f8;border:1px solid #dddddd}.token.comment,.token.prolog,.token.doctype,.token.cdata{color:#998;font-style:italic}.token.namespace{opacity:.7}.token.string,.token.attr-value{color:#e3116c}.token.punctuation,.token.operator{color:#393a34}.token.entity,.token.url,.token.symbol,.token.number,.token.boolean,.token.variable,.token.constant,.token.property,.token.regex,.token.inserted{color:#36acaa}.token.atrule,.token.keyword,.token.attr-name,.language-autohotkey .token.selector{color:#00a4db}.token.function,.token.deleted,.language-autohotkey .token.tag{color:#9a050f}.token.tag,.token.selector,.language-autohotkey .token.keyword{color:#00009f}.token.important,.token.function,.token.bold{font-weight:700}.token.italic{font-style:italic}.higlass *{box-sizing:border-box}.higlass .react-resizable-handle{z-index:1}')), document.head.appendChild(e13);
    }
  } catch (t) {
    console.error("vite-plugin-css-injected-by-js", t);
  }
})();
var De = typeof globalThis < "u" ? globalThis : typeof window < "u" ? window : typeof globalThis < "u" ? globalThis : typeof self < "u" ? self : {};
function $i(e13) {
  return e13 && e13.__esModule && Object.prototype.hasOwnProperty.call(e13, "default") ? e13.default : e13;
}
function Hs(e13) {
  if (e13.__esModule)
    return e13;
  var t = e13.default;
  if (typeof t == "function") {
    var r = function n() {
      return this instanceof n ? Reflect.construct(t, arguments, this.constructor) : t.apply(this, arguments);
    };
    r.prototype = t.prototype;
  } else
    r = {};
  return Object.defineProperty(r, "__esModule", {
    value: true
  }), Object.keys(e13).forEach(function(n) {
    var i = Object.getOwnPropertyDescriptor(e13, n);
    Object.defineProperty(r, n, i.get ? i : {
      enumerable: true,
      get: function() {
        return e13[n];
      }
    });
  }), r;
}
var k6 = { exports: {} };
var yre = "SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";
var _re = yre;
var bre = _re;
function D6() {
}
function R6() {
}
R6.resetWarningCache = D6;
var Tre = function() {
  function e13(n, i, o, a, s, l) {
    if (l !== bre) {
      var u = new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");
      throw u.name = "Invariant Violation", u;
    }
  }
  e13.isRequired = e13;
  function t() {
    return e13;
  }
  var r = {
    array: e13,
    bigint: e13,
    bool: e13,
    func: e13,
    number: e13,
    object: e13,
    string: e13,
    symbol: e13,
    any: e13,
    arrayOf: t,
    element: e13,
    elementType: e13,
    instanceOf: t,
    node: e13,
    objectOf: t,
    oneOf: t,
    oneOfType: t,
    shape: t,
    exact: t,
    checkPropTypes: R6,
    resetWarningCache: D6
  };
  return r.PropTypes = r, r;
};
k6.exports = Tre();
var Us = k6.exports;
var M = $i(Us);
var UI = "http://www.w3.org/1999/xhtml";
var jI = {
  svg: "http://www.w3.org/2000/svg",
  xhtml: UI,
  xlink: "http://www.w3.org/1999/xlink",
  xml: "http://www.w3.org/XML/1998/namespace",
  xmlns: "http://www.w3.org/2000/xmlns/"
};
function Gu(e13) {
  var t = e13 += "", r = t.indexOf(":");
  return r >= 0 && (t = e13.slice(0, r)) !== "xmlns" && (e13 = e13.slice(r + 1)), jI.hasOwnProperty(t) ? {
    space: jI[t],
    local: e13
  } : e13;
}
function Ere(e13) {
  return function() {
    var t = this.ownerDocument, r = this.namespaceURI;
    return r === UI && t.documentElement.namespaceURI === UI ? t.createElement(e13) : t.createElementNS(r, e13);
  };
}
function Sre(e13) {
  return function() {
    return this.ownerDocument.createElementNS(e13.space, e13.local);
  };
}
function ME(e13) {
  var t = Gu(e13);
  return (t.local ? Sre : Ere)(t);
}
function wre() {
}
function Cv(e13) {
  return e13 == null ? wre : function() {
    return this.querySelector(e13);
  };
}
function Are(e13) {
  typeof e13 != "function" && (e13 = Cv(e13));
  for (var t = this._groups, r = t.length, n = new Array(r), i = 0; i < r; ++i)
    for (var o = t[i], a = o.length, s = n[i] = new Array(a), l, u, c = 0; c < a; ++c)
      (l = o[c]) && (u = e13.call(l, l.__data__, c, o)) && ("__data__" in l && (u.__data__ = l.__data__), s[c] = u);
  return new ei(n, this._parents);
}
function PD(e13) {
  return typeof e13 == "object" && "length" in e13 ? e13 : Array.from(e13);
}
function Ore() {
  return [];
}
function LE(e13) {
  return e13 == null ? Ore : function() {
    return this.querySelectorAll(e13);
  };
}
function Ire(e13) {
  return function() {
    var t = e13.apply(this, arguments);
    return t == null ? [] : PD(t);
  };
}
function Pre(e13) {
  typeof e13 == "function" ? e13 = Ire(e13) : e13 = LE(e13);
  for (var t = this._groups, r = t.length, n = [], i = [], o = 0; o < r; ++o)
    for (var a = t[o], s = a.length, l, u = 0; u < s; ++u)
      (l = a[u]) && (n.push(e13.call(l, l.__data__, u, a)), i.push(l));
  return new ei(n, i);
}
function BE(e13) {
  return function() {
    return this.matches(e13);
  };
}
function N6(e13) {
  return function(t) {
    return t.matches(e13);
  };
}
var Cre = Array.prototype.find;
function xre(e13) {
  return function() {
    return Cre.call(this.children, e13);
  };
}
function kre() {
  return this.firstElementChild;
}
function Dre(e13) {
  return this.select(e13 == null ? kre : xre(typeof e13 == "function" ? e13 : N6(e13)));
}
var Rre = Array.prototype.filter;
function Nre() {
  return this.children;
}
function Mre(e13) {
  return function() {
    return Rre.call(this.children, e13);
  };
}
function Lre(e13) {
  return this.selectAll(e13 == null ? Nre : Mre(typeof e13 == "function" ? e13 : N6(e13)));
}
function Bre(e13) {
  typeof e13 != "function" && (e13 = BE(e13));
  for (var t = this._groups, r = t.length, n = new Array(r), i = 0; i < r; ++i)
    for (var o = t[i], a = o.length, s = n[i] = [], l, u = 0; u < a; ++u)
      (l = o[u]) && e13.call(l, l.__data__, u, o) && s.push(l);
  return new ei(n, this._parents);
}
function M6(e13) {
  return new Array(e13.length);
}
function Fre() {
  return new ei(this._enter || this._groups.map(M6), this._parents);
}
function Jb(e13, t) {
  this.ownerDocument = e13.ownerDocument, this.namespaceURI = e13.namespaceURI, this._next = null, this._parent = e13, this.__data__ = t;
}
Jb.prototype = {
  constructor: Jb,
  appendChild: function(e13) {
    return this._parent.insertBefore(e13, this._next);
  },
  insertBefore: function(e13, t) {
    return this._parent.insertBefore(e13, t);
  },
  querySelector: function(e13) {
    return this._parent.querySelector(e13);
  },
  querySelectorAll: function(e13) {
    return this._parent.querySelectorAll(e13);
  }
};
function $re(e13) {
  return function() {
    return e13;
  };
}
function Hre(e13, t, r, n, i, o) {
  for (var a = 0, s, l = t.length, u = o.length; a < u; ++a)
    (s = t[a]) ? (s.__data__ = o[a], n[a] = s) : r[a] = new Jb(e13, o[a]);
  for (; a < l; ++a)
    (s = t[a]) && (i[a] = s);
}
function Ure(e13, t, r, n, i, o, a) {
  var s, l, u = /* @__PURE__ */ new Map(), c = t.length, f = o.length, h = new Array(c), d;
  for (s = 0; s < c; ++s)
    (l = t[s]) && (h[s] = d = a.call(l, l.__data__, s, t) + "", u.has(d) ? i[s] = l : u.set(d, l));
  for (s = 0; s < f; ++s)
    d = a.call(e13, o[s], s, o) + "", (l = u.get(d)) ? (n[s] = l, l.__data__ = o[s], u.delete(d)) : r[s] = new Jb(e13, o[s]);
  for (s = 0; s < c; ++s)
    (l = t[s]) && u.get(h[s]) === l && (i[s] = l);
}
function jre(e13) {
  return e13.__data__;
}
function Gre(e13, t) {
  if (!arguments.length)
    return Array.from(this, jre);
  var r = t ? Ure : Hre, n = this._parents, i = this._groups;
  typeof e13 != "function" && (e13 = $re(e13));
  for (var o = i.length, a = new Array(o), s = new Array(o), l = new Array(o), u = 0; u < o; ++u) {
    var c = n[u], f = i[u], h = f.length, d = PD(e13.call(c, c && c.__data__, u, n)), p = d.length, m = s[u] = new Array(p), g = a[u] = new Array(p), v = l[u] = new Array(h);
    r(c, f, m, g, v, d, t);
    for (var b = 0, y = 0, _, T; b < p; ++b)
      if (_ = m[b]) {
        for (b >= y && (y = b + 1); !(T = g[y]) && ++y < p; )
          ;
        _._next = T || null;
      }
  }
  return a = new ei(a, n), a._enter = s, a._exit = l, a;
}
function zre() {
  return new ei(this._exit || this._groups.map(M6), this._parents);
}
function Vre(e13, t, r) {
  var n = this.enter(), i = this, o = this.exit();
  return n = typeof e13 == "function" ? e13(n) : n.append(e13 + ""), t != null && (i = t(i)), r == null ? o.remove() : r(o), n && i ? n.merge(i).order() : i;
}
function Xre(e13) {
  if (!(e13 instanceof ei))
    throw new Error("invalid merge");
  for (var t = this._groups, r = e13._groups, n = t.length, i = r.length, o = Math.min(n, i), a = new Array(n), s = 0; s < o; ++s)
    for (var l = t[s], u = r[s], c = l.length, f = a[s] = new Array(c), h, d = 0; d < c; ++d)
      (h = l[d] || u[d]) && (f[d] = h);
  for (; s < n; ++s)
    a[s] = t[s];
  return new ei(a, this._parents);
}
function Wre() {
  for (var e13 = this._groups, t = -1, r = e13.length; ++t < r; )
    for (var n = e13[t], i = n.length - 1, o = n[i], a; --i >= 0; )
      (a = n[i]) && (o && a.compareDocumentPosition(o) ^ 4 && o.parentNode.insertBefore(a, o), o = a);
  return this;
}
function Yre(e13) {
  e13 || (e13 = qre);
  function t(f, h) {
    return f && h ? e13(f.__data__, h.__data__) : !f - !h;
  }
  for (var r = this._groups, n = r.length, i = new Array(n), o = 0; o < n; ++o) {
    for (var a = r[o], s = a.length, l = i[o] = new Array(s), u, c = 0; c < s; ++c)
      (u = a[c]) && (l[c] = u);
    l.sort(t);
  }
  return new ei(i, this._parents).order();
}
function qre(e13, t) {
  return e13 < t ? -1 : e13 > t ? 1 : e13 >= t ? 0 : NaN;
}
function Kre() {
  var e13 = arguments[0];
  return arguments[0] = this, e13.apply(null, arguments), this;
}
function Zre() {
  return Array.from(this);
}
function Qre() {
  for (var e13 = this._groups, t = 0, r = e13.length; t < r; ++t)
    for (var n = e13[t], i = 0, o = n.length; i < o; ++i) {
      var a = n[i];
      if (a)
        return a;
    }
  return null;
}
function Jre() {
  let e13 = 0;
  for (const t of this)
    ++e13;
  return e13;
}
function ene() {
  return !this.node();
}
function tne(e13) {
  for (var t = this._groups, r = 0, n = t.length; r < n; ++r)
    for (var i = t[r], o = 0, a = i.length, s; o < a; ++o)
      (s = i[o]) && e13.call(s, s.__data__, o, i);
  return this;
}
function rne(e13) {
  return function() {
    this.removeAttribute(e13);
  };
}
function nne(e13) {
  return function() {
    this.removeAttributeNS(e13.space, e13.local);
  };
}
function ine(e13, t) {
  return function() {
    this.setAttribute(e13, t);
  };
}
function one(e13, t) {
  return function() {
    this.setAttributeNS(e13.space, e13.local, t);
  };
}
function ane(e13, t) {
  return function() {
    var r = t.apply(this, arguments);
    r == null ? this.removeAttribute(e13) : this.setAttribute(e13, r);
  };
}
function sne(e13, t) {
  return function() {
    var r = t.apply(this, arguments);
    r == null ? this.removeAttributeNS(e13.space, e13.local) : this.setAttributeNS(e13.space, e13.local, r);
  };
}
function lne(e13, t) {
  var r = Gu(e13);
  if (arguments.length < 2) {
    var n = this.node();
    return r.local ? n.getAttributeNS(r.space, r.local) : n.getAttribute(r);
  }
  return this.each((t == null ? r.local ? nne : rne : typeof t == "function" ? r.local ? sne : ane : r.local ? one : ine)(r, t));
}
function CD(e13) {
  return e13.ownerDocument && e13.ownerDocument.defaultView || e13.document && e13 || e13.defaultView;
}
function cne(e13) {
  return function() {
    this.style.removeProperty(e13);
  };
}
function une(e13, t, r) {
  return function() {
    this.style.setProperty(e13, t, r);
  };
}
function hne(e13, t, r) {
  return function() {
    var n = t.apply(this, arguments);
    n == null ? this.style.removeProperty(e13) : this.style.setProperty(e13, n, r);
  };
}
function fne(e13, t, r) {
  return arguments.length > 1 ? this.each((t == null ? cne : typeof t == "function" ? hne : une)(e13, t, r ?? "")) : Io(this.node(), e13);
}
function Io(e13, t) {
  return e13.style.getPropertyValue(t) || CD(e13).getComputedStyle(e13, null).getPropertyValue(t);
}
function dne(e13) {
  return function() {
    delete this[e13];
  };
}
function pne(e13, t) {
  return function() {
    this[e13] = t;
  };
}
function mne(e13, t) {
  return function() {
    var r = t.apply(this, arguments);
    r == null ? delete this[e13] : this[e13] = r;
  };
}
function gne(e13, t) {
  return arguments.length > 1 ? this.each((t == null ? dne : typeof t == "function" ? mne : pne)(e13, t)) : this.node()[e13];
}
function L6(e13) {
  return e13.trim().split(/^|\s+/);
}
function xD(e13) {
  return e13.classList || new B6(e13);
}
function B6(e13) {
  this._node = e13, this._names = L6(e13.getAttribute("class") || "");
}
B6.prototype = {
  add: function(e13) {
    var t = this._names.indexOf(e13);
    t < 0 && (this._names.push(e13), this._node.setAttribute("class", this._names.join(" ")));
  },
  remove: function(e13) {
    var t = this._names.indexOf(e13);
    t >= 0 && (this._names.splice(t, 1), this._node.setAttribute("class", this._names.join(" ")));
  },
  contains: function(e13) {
    return this._names.indexOf(e13) >= 0;
  }
};
function F6(e13, t) {
  for (var r = xD(e13), n = -1, i = t.length; ++n < i; )
    r.add(t[n]);
}
function $6(e13, t) {
  for (var r = xD(e13), n = -1, i = t.length; ++n < i; )
    r.remove(t[n]);
}
function vne(e13) {
  return function() {
    F6(this, e13);
  };
}
function yne(e13) {
  return function() {
    $6(this, e13);
  };
}
function _ne(e13, t) {
  return function() {
    (t.apply(this, arguments) ? F6 : $6)(this, e13);
  };
}
function bne(e13, t) {
  var r = L6(e13 + "");
  if (arguments.length < 2) {
    for (var n = xD(this.node()), i = -1, o = r.length; ++i < o; )
      if (!n.contains(r[i]))
        return false;
    return true;
  }
  return this.each((typeof t == "function" ? _ne : t ? vne : yne)(r, t));
}
function Tne() {
  this.textContent = "";
}
function Ene(e13) {
  return function() {
    this.textContent = e13;
  };
}
function Sne(e13) {
  return function() {
    var t = e13.apply(this, arguments);
    this.textContent = t ?? "";
  };
}
function wne(e13) {
  return arguments.length ? this.each(e13 == null ? Tne : (typeof e13 == "function" ? Sne : Ene)(e13)) : this.node().textContent;
}
function Ane() {
  this.innerHTML = "";
}
function One(e13) {
  return function() {
    this.innerHTML = e13;
  };
}
function Ine(e13) {
  return function() {
    var t = e13.apply(this, arguments);
    this.innerHTML = t ?? "";
  };
}
function Pne(e13) {
  return arguments.length ? this.each(e13 == null ? Ane : (typeof e13 == "function" ? Ine : One)(e13)) : this.node().innerHTML;
}
function Cne() {
  this.nextSibling && this.parentNode.appendChild(this);
}
function xne() {
  return this.each(Cne);
}
function kne() {
  this.previousSibling && this.parentNode.insertBefore(this, this.parentNode.firstChild);
}
function Dne() {
  return this.each(kne);
}
function Rne(e13) {
  var t = typeof e13 == "function" ? e13 : ME(e13);
  return this.select(function() {
    return this.appendChild(t.apply(this, arguments));
  });
}
function Nne() {
  return null;
}
function Mne(e13, t) {
  var r = typeof e13 == "function" ? e13 : ME(e13), n = t == null ? Nne : typeof t == "function" ? t : Cv(t);
  return this.select(function() {
    return this.insertBefore(r.apply(this, arguments), n.apply(this, arguments) || null);
  });
}
function Lne() {
  var e13 = this.parentNode;
  e13 && e13.removeChild(this);
}
function Bne() {
  return this.each(Lne);
}
function Fne() {
  var e13 = this.cloneNode(false), t = this.parentNode;
  return t ? t.insertBefore(e13, this.nextSibling) : e13;
}
function $ne() {
  var e13 = this.cloneNode(true), t = this.parentNode;
  return t ? t.insertBefore(e13, this.nextSibling) : e13;
}
function Hne(e13) {
  return this.select(e13 ? $ne : Fne);
}
function Une(e13) {
  return arguments.length ? this.property("__data__", e13) : this.node().__data__;
}
function jne(e13) {
  return function(t) {
    e13.call(this, t, this.__data__);
  };
}
function Gne(e13) {
  return e13.trim().split(/^|\s+/).map(function(t) {
    var r = "", n = t.indexOf(".");
    return n >= 0 && (r = t.slice(n + 1), t = t.slice(0, n)), {
      type: t,
      name: r
    };
  });
}
function zne(e13) {
  return function() {
    var t = this.__on;
    if (t) {
      for (var r = 0, n = -1, i = t.length, o; r < i; ++r)
        o = t[r], (!e13.type || o.type === e13.type) && o.name === e13.name ? this.removeEventListener(o.type, o.listener, o.options) : t[++n] = o;
      ++n ? t.length = n : delete this.__on;
    }
  };
}
function Vne(e13, t, r) {
  return function() {
    var n = this.__on, i, o = jne(t);
    if (n) {
      for (var a = 0, s = n.length; a < s; ++a)
        if ((i = n[a]).type === e13.type && i.name === e13.name) {
          this.removeEventListener(i.type, i.listener, i.options), this.addEventListener(i.type, i.listener = o, i.options = r), i.value = t;
          return;
        }
    }
    this.addEventListener(e13.type, o, r), i = {
      type: e13.type,
      name: e13.name,
      value: t,
      listener: o,
      options: r
    }, n ? n.push(i) : this.__on = [i];
  };
}
function Xne(e13, t, r) {
  var n = Gne(e13 + ""), i, o = n.length, a;
  if (arguments.length < 2) {
    var s = this.node().__on;
    if (s) {
      for (var l = 0, u = s.length, c; l < u; ++l)
        for (i = 0, c = s[l]; i < o; ++i)
          if ((a = n[i]).type === c.type && a.name === c.name)
            return c.value;
    }
    return;
  }
  for (s = t ? Vne : zne, i = 0; i < o; ++i)
    this.each(s(n[i], t, r));
  return this;
}
function H6(e13, t, r) {
  var n = CD(e13), i = n.CustomEvent;
  typeof i == "function" ? i = new i(t, r) : (i = n.document.createEvent("Event"), r ? (i.initEvent(t, r.bubbles, r.cancelable), i.detail = r.detail) : i.initEvent(t, false, false)), e13.dispatchEvent(i);
}
function Wne(e13, t) {
  return function() {
    return H6(this, e13, t);
  };
}
function Yne(e13, t) {
  return function() {
    return H6(this, e13, t.apply(this, arguments));
  };
}
function qne(e13, t) {
  return this.each((typeof t == "function" ? Yne : Wne)(e13, t));
}
function* Kne() {
  for (var e13 = this._groups, t = 0, r = e13.length; t < r; ++t)
    for (var n = e13[t], i = 0, o = n.length, a; i < o; ++i)
      (a = n[i]) && (yield a);
}
var kD = [null];
function ei(e13, t) {
  this._groups = e13, this._parents = t;
}
function ra() {
  return new ei([[document.documentElement]], kD);
}
function Zne() {
  return this;
}
ei.prototype = ra.prototype = {
  constructor: ei,
  select: Are,
  selectAll: Pre,
  selectChild: Dre,
  selectChildren: Lre,
  filter: Bre,
  data: Gre,
  enter: Fre,
  exit: zre,
  join: Vre,
  merge: Xre,
  selection: Zne,
  order: Wre,
  sort: Yre,
  call: Kre,
  nodes: Zre,
  node: Qre,
  size: Jre,
  empty: ene,
  each: tne,
  attr: lne,
  style: fne,
  property: gne,
  classed: bne,
  text: wne,
  html: Pne,
  raise: xne,
  lower: Dne,
  append: Rne,
  insert: Mne,
  remove: Bne,
  clone: Hne,
  datum: Une,
  on: Xne,
  dispatch: qne,
  [Symbol.iterator]: Kne
};
function Wt(e13) {
  return typeof e13 == "string" ? new ei([[document.querySelector(e13)]], [document.documentElement]) : new ei([[e13]], kD);
}
function Qne(e13) {
  return Wt(ME(e13).call(document.documentElement));
}
var Jne = 0;
function U6() {
  return new GI();
}
function GI() {
  this._ = "@" + (++Jne).toString(36);
}
GI.prototype = U6.prototype = {
  constructor: GI,
  get: function(e13) {
    for (var t = this._; !(t in e13); )
      if (!(e13 = e13.parentNode))
        return;
    return e13[t];
  },
  set: function(e13, t) {
    return e13[this._] = t;
  },
  remove: function(e13) {
    return this._ in e13 && delete e13[this._];
  },
  toString: function() {
    return this._;
  }
};
function j6(e13) {
  let t;
  for (; t = e13.sourceEvent; )
    e13 = t;
  return e13;
}
function vr(e13, t) {
  if (e13 = j6(e13), t === void 0 && (t = e13.currentTarget), t) {
    var r = t.ownerSVGElement || t;
    if (r.createSVGPoint) {
      var n = r.createSVGPoint();
      return n.x = e13.clientX, n.y = e13.clientY, n = n.matrixTransform(t.getScreenCTM().inverse()), [n.x, n.y];
    }
    if (t.getBoundingClientRect) {
      var i = t.getBoundingClientRect();
      return [e13.clientX - i.left - t.clientLeft, e13.clientY - i.top - t.clientTop];
    }
  }
  return [e13.pageX, e13.pageY];
}
function eie(e13, t) {
  return e13.target && (e13 = j6(e13), t === void 0 && (t = e13.currentTarget), e13 = e13.touches || [e13]), Array.from(e13, (r) => vr(r, t));
}
function tie(e13) {
  return typeof e13 == "string" ? new ei([document.querySelectorAll(e13)], [document.documentElement]) : new ei([e13 == null ? [] : PD(e13)], kD);
}
var rie = Object.freeze(Object.defineProperty({
  __proto__: null,
  create: Qne,
  creator: ME,
  local: U6,
  matcher: BE,
  namespace: Gu,
  namespaces: jI,
  pointer: vr,
  pointers: eie,
  select: Wt,
  selectAll: tie,
  selection: ra,
  selector: Cv,
  selectorAll: LE,
  style: Io,
  window: CD
}, Symbol.toStringTag, { value: "Module" }));
function an(e13, t) {
  return e13 < t ? -1 : e13 > t ? 1 : e13 >= t ? 0 : NaN;
}
function qd(e13) {
  let t = e13, r = e13;
  e13.length === 1 && (t = (a, s) => e13(a) - s, r = nie(e13));
  function n(a, s, l, u) {
    for (l == null && (l = 0), u == null && (u = a.length); l < u; ) {
      const c = l + u >>> 1;
      r(a[c], s) < 0 ? l = c + 1 : u = c;
    }
    return l;
  }
  function i(a, s, l, u) {
    for (l == null && (l = 0), u == null && (u = a.length); l < u; ) {
      const c = l + u >>> 1;
      r(a[c], s) > 0 ? u = c : l = c + 1;
    }
    return l;
  }
  function o(a, s, l, u) {
    l == null && (l = 0), u == null && (u = a.length);
    const c = n(a, s, l, u - 1);
    return c > l && t(a[c - 1], s) > -t(a[c], s) ? c - 1 : c;
  }
  return {
    left: n,
    center: o,
    right: i
  };
}
function nie(e13) {
  return (t, r) => an(e13(t), r);
}
function G6(e13) {
  return e13 === null ? NaN : +e13;
}
function* iie(e13, t) {
  if (t === void 0)
    for (let r of e13)
      r != null && (r = +r) >= r && (yield r);
  else {
    let r = -1;
    for (let n of e13)
      (n = t(n, ++r, e13)) != null && (n = +n) >= n && (yield n);
  }
}
var z6 = qd(an);
var V6 = z6.right;
var oie = z6.left;
var aie = qd(G6).center;
var zu = V6;
function FE(e13, t) {
  let r = 0;
  if (t === void 0)
    for (let n of e13)
      n != null && (n = +n) >= n && ++r;
  else {
    let n = -1;
    for (let i of e13)
      (i = t(i, ++n, e13)) != null && (i = +i) >= i && ++r;
  }
  return r;
}
function sie(e13) {
  return e13.length | 0;
}
function lie(e13) {
  return !(e13 > 0);
}
function cie(e13) {
  return typeof e13 != "object" || "length" in e13 ? e13 : Array.from(e13);
}
function uie(e13) {
  return (t) => e13(...t);
}
function hie(...e13) {
  const t = typeof e13[e13.length - 1] == "function" && uie(e13.pop());
  e13 = e13.map(cie);
  const r = e13.map(sie), n = e13.length - 1, i = new Array(n + 1).fill(0), o = [];
  if (n < 0 || r.some(lie))
    return o;
  for (; ; ) {
    o.push(i.map((s, l) => e13[l][s]));
    let a = n;
    for (; ++i[a] === r[a]; ) {
      if (a === 0)
        return t ? o.map(t) : o;
      i[a--] = 0;
    }
  }
}
function fie(e13, t) {
  var r = 0, n = 0;
  return Float64Array.from(e13, t === void 0 ? (i) => r += +i || 0 : (i) => r += +t(i, n++, e13) || 0);
}
function die(e13, t) {
  return t < e13 ? -1 : t > e13 ? 1 : t >= e13 ? 0 : NaN;
}
function DD(e13, t) {
  let r = 0, n, i = 0, o = 0;
  if (t === void 0)
    for (let a of e13)
      a != null && (a = +a) >= a && (n = a - i, i += n / ++r, o += n * (a - i));
  else {
    let a = -1;
    for (let s of e13)
      (s = t(s, ++a, e13)) != null && (s = +s) >= s && (n = s - i, i += n / ++r, o += n * (s - i));
  }
  if (r > 1)
    return o / (r - 1);
}
function RD(e13, t) {
  const r = DD(e13, t);
  return r && Math.sqrt(r);
}
function Y_(e13, t) {
  let r, n;
  if (t === void 0)
    for (const i of e13)
      i != null && (r === void 0 ? i >= i && (r = n = i) : (r > i && (r = i), n < i && (n = i)));
  else {
    let i = -1;
    for (let o of e13)
      (o = t(o, ++i, e13)) != null && (r === void 0 ? o >= o && (r = n = o) : (r > o && (r = o), n < o && (n = o)));
  }
  return [r, n];
}
function pie(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function mie(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, vie(n.key), n);
  }
}
function gie(e13, t, r) {
  return t && mie(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function vie(e13) {
  var t = yie(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function yie(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
var gn = function() {
  function e13() {
    pie(this, e13), this._partials = new Float64Array(32), this._n = 0;
  }
  return gie(e13, [{
    key: "add",
    value: function(r) {
      const n = this._partials;
      let i = 0;
      for (let o = 0; o < this._n && o < 32; o++) {
        const a = n[o], s = r + a, l = Math.abs(r) < Math.abs(a) ? r - (s - a) : a - (s - r);
        l && (n[i++] = l), r = s;
      }
      return n[i] = r, this._n = i + 1, this;
    }
  }, {
    key: "valueOf",
    value: function() {
      const r = this._partials;
      let n = this._n, i, o, a, s = 0;
      if (n > 0) {
        for (s = r[--n]; n > 0 && (i = s, o = r[--n], s = i + o, a = o - (s - i), !a); )
          ;
        n > 0 && (a < 0 && r[n - 1] < 0 || a > 0 && r[n - 1] > 0) && (o = a * 2, i = s + o, o == i - s && (s = i));
      }
      return s;
    }
  }]), e13;
}();
function _ie(e13, t) {
  const r = new gn();
  if (t === void 0)
    for (let n of e13)
      (n = +n) && r.add(n);
  else {
    let n = -1;
    for (let i of e13)
      (i = +t(i, ++n, e13)) && r.add(i);
  }
  return +r;
}
function bie(e13, t) {
  const r = new gn();
  let n = -1;
  return Float64Array.from(e13, t === void 0 ? (i) => r.add(+i || 0) : (i) => r.add(+t(i, ++n, e13) || 0));
}
function X6(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function Tie(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, Eie(n.key), n);
  }
}
function W6(e13, t, r) {
  return t && Tie(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function Eie(e13) {
  var t = Sie(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function Sie(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
function xa() {
  return typeof Reflect < "u" && Reflect.get ? xa = Reflect.get.bind() : xa = function(t, r, n) {
    var i = wie(t, r);
    if (i) {
      var o = Object.getOwnPropertyDescriptor(i, r);
      return o.get ? o.get.call(arguments.length < 3 ? t : n) : o.value;
    }
  }, xa.apply(this, arguments);
}
function wie(e13, t) {
  for (; !Object.prototype.hasOwnProperty.call(e13, t) && (e13 = eo(e13), e13 !== null); )
    ;
  return e13;
}
function Y6(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  e13.prototype = Object.create(t && t.prototype, { constructor: { value: e13, writable: true, configurable: true } }), Object.defineProperty(e13, "prototype", { writable: false }), t && zg(e13, t);
}
function q6(e13) {
  var t = K6();
  return function() {
    var n = eo(e13), i;
    if (t) {
      var o = eo(this).constructor;
      i = Reflect.construct(n, arguments, o);
    } else
      i = n.apply(this, arguments);
    return Aie(this, i);
  };
}
function Aie(e13, t) {
  if (t && (typeof t == "object" || typeof t == "function"))
    return t;
  if (t !== void 0)
    throw new TypeError("Derived constructors may only return object or undefined");
  return ND(e13);
}
function ND(e13) {
  if (e13 === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e13;
}
function e0(e13) {
  var t = typeof Map == "function" ? /* @__PURE__ */ new Map() : void 0;
  return e0 = function(n) {
    if (n === null || !Oie(n))
      return n;
    if (typeof n != "function")
      throw new TypeError("Super expression must either be null or a function");
    if (typeof t < "u") {
      if (t.has(n))
        return t.get(n);
      t.set(n, i);
    }
    function i() {
      return q_(n, arguments, eo(this).constructor);
    }
    return i.prototype = Object.create(n.prototype, { constructor: { value: i, enumerable: false, writable: true, configurable: true } }), zg(i, n);
  }, e0(e13);
}
function q_(e13, t, r) {
  return K6() ? q_ = Reflect.construct.bind() : q_ = function(i, o, a) {
    var s = [null];
    s.push.apply(s, o);
    var l = Function.bind.apply(i, s), u = new l();
    return a && zg(u, a.prototype), u;
  }, q_.apply(null, arguments);
}
function K6() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return false;
  if (typeof Proxy == "function")
    return true;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), true;
  } catch {
    return false;
  }
}
function Oie(e13) {
  try {
    return Function.toString.call(e13).indexOf("[native code]") !== -1;
  } catch {
    return typeof e13 == "function";
  }
}
function zg(e13, t) {
  return zg = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, i) {
    return n.__proto__ = i, n;
  }, zg(e13, t);
}
function eo(e13) {
  return eo = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(r) {
    return r.__proto__ || Object.getPrototypeOf(r);
  }, eo(e13);
}
var t0 = function(e13) {
  Y6(r, e13);
  var t = q6(r);
  function r(n, i = J6) {
    var o;
    if (X6(this, r), o = t.call(this), Object.defineProperties(ND(o), {
      _intern: {
        value: /* @__PURE__ */ new Map()
      },
      _key: {
        value: i
      }
    }), n != null)
      for (const [a, s] of n)
        o.set(a, s);
    return o;
  }
  return W6(r, [{
    key: "get",
    value: function(i) {
      return xa(eo(r.prototype), "get", this).call(this, zI(this, i));
    }
  }, {
    key: "has",
    value: function(i) {
      return xa(eo(r.prototype), "has", this).call(this, zI(this, i));
    }
  }, {
    key: "set",
    value: function(i, o) {
      return xa(eo(r.prototype), "set", this).call(this, Z6(this, i), o);
    }
  }, {
    key: "delete",
    value: function(i) {
      return xa(eo(r.prototype), "delete", this).call(this, Q6(this, i));
    }
  }]), r;
}(e0(Map));
var Iie = function(e13) {
  Y6(r, e13);
  var t = q6(r);
  function r(n, i = J6) {
    var o;
    if (X6(this, r), o = t.call(this), Object.defineProperties(ND(o), {
      _intern: {
        value: /* @__PURE__ */ new Map()
      },
      _key: {
        value: i
      }
    }), n != null)
      for (const a of n)
        o.add(a);
    return o;
  }
  return W6(r, [{
    key: "has",
    value: function(i) {
      return xa(eo(r.prototype), "has", this).call(this, zI(this, i));
    }
  }, {
    key: "add",
    value: function(i) {
      return xa(eo(r.prototype), "add", this).call(this, Z6(this, i));
    }
  }, {
    key: "delete",
    value: function(i) {
      return xa(eo(r.prototype), "delete", this).call(this, Q6(this, i));
    }
  }]), r;
}(e0(Set));
function zI({
  _intern: e13,
  _key: t
}, r) {
  const n = t(r);
  return e13.has(n) ? e13.get(n) : r;
}
function Z6({
  _intern: e13,
  _key: t
}, r) {
  const n = t(r);
  return e13.has(n) ? e13.get(n) : (e13.set(n, r), r);
}
function Q6({
  _intern: e13,
  _key: t
}, r) {
  const n = t(r);
  return e13.has(n) && (r = e13.get(r), e13.delete(n)), r;
}
function J6(e13) {
  return e13 !== null && typeof e13 == "object" ? e13.valueOf() : e13;
}
function Jf(e13) {
  return e13;
}
function ez(e13, ...t) {
  return Kd(e13, Jf, Jf, t);
}
function Pie(e13, ...t) {
  return Kd(e13, Array.from, Jf, t);
}
function tz(e13, t, ...r) {
  return Kd(e13, Jf, t, r);
}
function Cie(e13, t, ...r) {
  return Kd(e13, Array.from, t, r);
}
function xie(e13, ...t) {
  return Kd(e13, Jf, rz, t);
}
function kie(e13, ...t) {
  return Kd(e13, Array.from, rz, t);
}
function rz(e13) {
  if (e13.length !== 1)
    throw new Error("duplicate key");
  return e13[0];
}
function Kd(e13, t, r, n) {
  return function i(o, a) {
    if (a >= n.length)
      return r(o);
    const s = new t0(), l = n[a++];
    let u = -1;
    for (const c of o) {
      const f = l(c, ++u, o), h = s.get(f);
      h ? h.push(c) : s.set(f, [c]);
    }
    for (const [c, f] of s)
      s.set(c, i(f, a));
    return t(s);
  }(e13, 0);
}
function nz(e13, t) {
  return Array.from(t, (r) => e13[r]);
}
function VI(e13, ...t) {
  if (typeof e13[Symbol.iterator] != "function")
    throw new TypeError("values is not iterable");
  e13 = Array.from(e13);
  let [r = an] = t;
  if (r.length === 1 || t.length > 1) {
    const n = Uint32Array.from(e13, (i, o) => o);
    return t.length > 1 ? (t = t.map((i) => e13.map(i)), n.sort((i, o) => {
      for (const a of t) {
        const s = an(a[i], a[o]);
        if (s)
          return s;
      }
    })) : (r = e13.map(r), n.sort((i, o) => an(r[i], r[o]))), nz(e13, n);
  }
  return e13.sort(r);
}
function Die(e13, t, r) {
  return (t.length === 1 ? VI(tz(e13, t, r), ([n, i], [o, a]) => an(i, a) || an(n, o)) : VI(ez(e13, r), ([n, i], [o, a]) => t(i, a) || an(n, o))).map(([n]) => n);
}
var Rie = Array.prototype;
var Nie = Rie.slice;
function Vy(e13) {
  return function() {
    return e13;
  };
}
var XI = Math.sqrt(50);
var WI = Math.sqrt(10);
var YI = Math.sqrt(2);
function hu(e13, t, r) {
  var n, i = -1, o, a, s;
  if (t = +t, e13 = +e13, r = +r, e13 === t && r > 0)
    return [e13];
  if ((n = t < e13) && (o = e13, e13 = t, t = o), (s = xv(e13, t, r)) === 0 || !isFinite(s))
    return [];
  if (s > 0) {
    let l = Math.round(e13 / s), u = Math.round(t / s);
    for (l * s < e13 && ++l, u * s > t && --u, a = new Array(o = u - l + 1); ++i < o; )
      a[i] = (l + i) * s;
  } else {
    s = -s;
    let l = Math.round(e13 * s), u = Math.round(t * s);
    for (l / s < e13 && ++l, u / s > t && --u, a = new Array(o = u - l + 1); ++i < o; )
      a[i] = (l + i) / s;
  }
  return n && a.reverse(), a;
}
function xv(e13, t, r) {
  var n = (t - e13) / Math.max(0, r), i = Math.floor(Math.log(n) / Math.LN10), o = n / Math.pow(10, i);
  return i >= 0 ? (o >= XI ? 10 : o >= WI ? 5 : o >= YI ? 2 : 1) * Math.pow(10, i) : -Math.pow(10, -i) / (o >= XI ? 10 : o >= WI ? 5 : o >= YI ? 2 : 1);
}
function r0(e13, t, r) {
  var n = Math.abs(t - e13) / Math.max(0, r), i = Math.pow(10, Math.floor(Math.log(n) / Math.LN10)), o = n / i;
  return o >= XI ? i *= 10 : o >= WI ? i *= 5 : o >= YI && (i *= 2), t < e13 ? -i : i;
}
function iz(e13, t, r) {
  let n;
  for (; ; ) {
    const i = xv(e13, t, r);
    if (i === n || i === 0 || !isFinite(i))
      return [e13, t];
    i > 0 ? (e13 = Math.floor(e13 / i) * i, t = Math.ceil(t / i) * i) : i < 0 && (e13 = Math.ceil(e13 * i) / i, t = Math.floor(t * i) / i), n = i;
  }
}
function oz(e13) {
  return Math.ceil(Math.log(FE(e13)) / Math.LN2) + 1;
}
function lB() {
  var e13 = Jf, t = Y_, r = oz;
  function n(i) {
    Array.isArray(i) || (i = Array.from(i));
    var o, a = i.length, s, l = new Array(a);
    for (o = 0; o < a; ++o)
      l[o] = e13(i[o], o, i);
    var u = t(l), c = u[0], f = u[1], h = r(l, c, f);
    if (!Array.isArray(h)) {
      const g = f, v = +h;
      if (t === Y_ && ([c, f] = iz(c, f, v)), h = hu(c, f, v), h[h.length - 1] >= f)
        if (g >= f && t === Y_) {
          const b = xv(c, f, v);
          isFinite(b) && (b > 0 ? f = (Math.floor(f / b) + 1) * b : b < 0 && (f = (Math.ceil(f * -b) + 1) / -b));
        } else
          h.pop();
    }
    for (var d = h.length; h[0] <= c; )
      h.shift(), --d;
    for (; h[d - 1] > f; )
      h.pop(), --d;
    var p = new Array(d + 1), m;
    for (o = 0; o <= d; ++o)
      m = p[o] = [], m.x0 = o > 0 ? h[o - 1] : c, m.x1 = o < d ? h[o] : f;
    for (o = 0; o < a; ++o)
      s = l[o], c <= s && s <= f && p[zu(h, s, 0, d)].push(i[o]);
    return p;
  }
  return n.value = function(i) {
    return arguments.length ? (e13 = typeof i == "function" ? i : Vy(i), n) : e13;
  }, n.domain = function(i) {
    return arguments.length ? (t = typeof i == "function" ? i : Vy([i[0], i[1]]), n) : t;
  }, n.thresholds = function(i) {
    return arguments.length ? (r = typeof i == "function" ? i : Array.isArray(i) ? Vy(Nie.call(i)) : Vy(i), n) : r;
  }, n;
}
function qI(e13, t) {
  let r;
  if (t === void 0)
    for (const n of e13)
      n != null && (r < n || r === void 0 && n >= n) && (r = n);
  else {
    let n = -1;
    for (let i of e13)
      (i = t(i, ++n, e13)) != null && (r < i || r === void 0 && i >= i) && (r = i);
  }
  return r;
}
function n0(e13, t) {
  let r;
  if (t === void 0)
    for (const n of e13)
      n != null && (r > n || r === void 0 && n >= n) && (r = n);
  else {
    let n = -1;
    for (let i of e13)
      (i = t(i, ++n, e13)) != null && (r > i || r === void 0 && i >= i) && (r = i);
  }
  return r;
}
function MD(e13, t, r = 0, n = e13.length - 1, i = an) {
  for (; n > r; ) {
    if (n - r > 600) {
      const l = n - r + 1, u = t - r + 1, c = Math.log(l), f = 0.5 * Math.exp(2 * c / 3), h = 0.5 * Math.sqrt(c * f * (l - f) / l) * (u - l / 2 < 0 ? -1 : 1), d = Math.max(r, Math.floor(t - u * f / l + h)), p = Math.min(n, Math.floor(t + (l - u) * f / l + h));
      MD(e13, t, d, p, i);
    }
    const o = e13[t];
    let a = r, s = n;
    for (Lp(e13, r, t), i(e13[n], o) > 0 && Lp(e13, r, n); a < s; ) {
      for (Lp(e13, a, s), ++a, --s; i(e13[a], o) < 0; )
        ++a;
      for (; i(e13[s], o) > 0; )
        --s;
    }
    i(e13[r], o) === 0 ? Lp(e13, r, s) : (++s, Lp(e13, s, n)), s <= t && (r = s + 1), t <= s && (n = s - 1);
  }
  return e13;
}
function Lp(e13, t, r) {
  const n = e13[t];
  e13[t] = e13[r], e13[r] = n;
}
function Vg(e13, t, r) {
  if (e13 = Float64Array.from(iie(e13, r)), !!(n = e13.length)) {
    if ((t = +t) <= 0 || n < 2)
      return n0(e13);
    if (t >= 1)
      return qI(e13);
    var n, i = (n - 1) * t, o = Math.floor(i), a = qI(MD(e13, o).subarray(0, o + 1)), s = n0(e13.subarray(o + 1));
    return a + (s - a) * (i - o);
  }
}
function az(e13, t, r = G6) {
  if (n = e13.length) {
    if ((t = +t) <= 0 || n < 2)
      return +r(e13[0], 0, e13);
    if (t >= 1)
      return +r(e13[n - 1], n - 1, e13);
    var n, i = (n - 1) * t, o = Math.floor(i), a = +r(e13[o], o, e13), s = +r(e13[o + 1], o + 1, e13);
    return a + (s - a) * (i - o);
  }
}
function Mie(e13, t, r) {
  return Math.ceil((r - t) / (2 * (Vg(e13, 0.75) - Vg(e13, 0.25)) * Math.pow(FE(e13), -1 / 3)));
}
function Lie(e13, t, r) {
  return Math.ceil((r - t) / (3.5 * RD(e13) * Math.pow(FE(e13), -1 / 3)));
}
function sz(e13, t) {
  let r, n = -1, i = -1;
  if (t === void 0)
    for (const o of e13)
      ++i, o != null && (r < o || r === void 0 && o >= o) && (r = o, n = i);
  else
    for (let o of e13)
      (o = t(o, ++i, e13)) != null && (r < o || r === void 0 && o >= o) && (r = o, n = i);
  return n;
}
function KI(e13, t) {
  let r = 0, n = 0;
  if (t === void 0)
    for (let i of e13)
      i != null && (i = +i) >= i && (++r, n += i);
  else {
    let i = -1;
    for (let o of e13)
      (o = t(o, ++i, e13)) != null && (o = +o) >= o && (++r, n += o);
  }
  if (r)
    return n / r;
}
function LD(e13, t) {
  return Vg(e13, 0.5, t);
}
function* Bie(e13) {
  for (const t of e13)
    yield* t;
}
function BD(e13) {
  return Array.from(Bie(e13));
}
function lz(e13, t) {
  let r, n = -1, i = -1;
  if (t === void 0)
    for (const o of e13)
      ++i, o != null && (r > o || r === void 0 && o >= o) && (r = o, n = i);
  else
    for (let o of e13)
      (o = t(o, ++i, e13)) != null && (r > o || r === void 0 && o >= o) && (r = o, n = i);
  return n;
}
function Fie(e13, t = $ie) {
  const r = [];
  let n, i = false;
  for (const o of e13)
    i && r.push(t(n, o)), n = o, i = true;
  return r;
}
function $ie(e13, t) {
  return [e13, t];
}
function vi(e13, t, r) {
  e13 = +e13, t = +t, r = (i = arguments.length) < 2 ? (t = e13, e13 = 0, 1) : i < 3 ? 1 : +r;
  for (var n = -1, i = Math.max(0, Math.ceil((t - e13) / r)) | 0, o = new Array(i); ++n < i; )
    o[n] = e13 + n * r;
  return o;
}
function Hie(e13, t = an) {
  let r, n = false;
  if (t.length === 1) {
    let i;
    for (const o of e13) {
      const a = t(o);
      (n ? an(a, i) < 0 : an(a, a) === 0) && (r = o, i = a, n = true);
    }
  } else
    for (const i of e13)
      (n ? t(i, r) < 0 : t(i, i) === 0) && (r = i, n = true);
  return r;
}
function cz(e13, t = an) {
  if (t.length === 1)
    return lz(e13, t);
  let r, n = -1, i = -1;
  for (const o of e13)
    ++i, (n < 0 ? t(o, o) === 0 : t(o, r) < 0) && (r = o, n = i);
  return n;
}
function Uie(e13, t = an) {
  let r, n = false;
  if (t.length === 1) {
    let i;
    for (const o of e13) {
      const a = t(o);
      (n ? an(a, i) > 0 : an(a, a) === 0) && (r = o, i = a, n = true);
    }
  } else
    for (const i of e13)
      (n ? t(i, r) > 0 : t(i, i) === 0) && (r = i, n = true);
  return r;
}
function jie(e13, t = an) {
  if (t.length === 1)
    return sz(e13, t);
  let r, n = -1, i = -1;
  for (const o of e13)
    ++i, (n < 0 ? t(o, o) === 0 : t(o, r) > 0) && (r = o, n = i);
  return n;
}
function Gie(e13, t) {
  const r = cz(e13, t);
  return r < 0 ? void 0 : r;
}
var zie = uz(Math.random);
function uz(e13) {
  return function(r, n = 0, i = r.length) {
    let o = i - (n = +n);
    for (; o; ) {
      const a = e13() * o-- | 0, s = r[o + n];
      r[o + n] = r[a + n], r[a + n] = s;
    }
    return r;
  };
}
function hz(e13, t) {
  let r = 0;
  if (t === void 0)
    for (let n of e13)
      (n = +n) && (r += n);
  else {
    let n = -1;
    for (let i of e13)
      (i = +t(i, ++n, e13)) && (r += i);
  }
  return r;
}
function fz(e13) {
  if (!(o = e13.length))
    return [];
  for (var t = -1, r = n0(e13, Vie), n = new Array(r); ++t < r; )
    for (var i = -1, o, a = n[t] = new Array(o); ++i < o; )
      a[i] = e13[i][t];
  return n;
}
function Vie(e13) {
  return e13.length;
}
function Xie() {
  return fz(arguments);
}
function Wie(e13, t) {
  if (typeof t != "function")
    throw new TypeError("test is not a function");
  let r = -1;
  for (const n of e13)
    if (!t(n, ++r, e13))
      return false;
  return true;
}
function Yie(e13, t) {
  if (typeof t != "function")
    throw new TypeError("test is not a function");
  let r = -1;
  for (const n of e13)
    if (t(n, ++r, e13))
      return true;
  return false;
}
function qie(e13, t) {
  if (typeof t != "function")
    throw new TypeError("test is not a function");
  const r = [];
  let n = -1;
  for (const i of e13)
    t(i, ++n, e13) && r.push(i);
  return r;
}
function Kie(e13, t) {
  if (typeof e13[Symbol.iterator] != "function")
    throw new TypeError("values is not iterable");
  if (typeof t != "function")
    throw new TypeError("mapper is not a function");
  return Array.from(e13, (r, n) => t(r, n, e13));
}
function Zie(e13, t, r) {
  if (typeof t != "function")
    throw new TypeError("reducer is not a function");
  const n = e13[Symbol.iterator]();
  let i, o, a = -1;
  if (arguments.length < 3) {
    if ({
      done: i,
      value: r
    } = n.next(), i)
      return;
    ++a;
  }
  for (; {
    done: i,
    value: o
  } = n.next(), !i; )
    r = t(r, o, ++a, e13);
  return r;
}
function Qie(e13) {
  if (typeof e13[Symbol.iterator] != "function")
    throw new TypeError("values is not iterable");
  return Array.from(e13).reverse();
}
function Jie(e13, ...t) {
  e13 = new Set(e13);
  for (const r of t)
    for (const n of r)
      e13.delete(n);
  return e13;
}
function eoe(e13, t) {
  const r = t[Symbol.iterator](), n = /* @__PURE__ */ new Set();
  for (const i of e13) {
    if (n.has(i))
      return false;
    let o, a;
    for (; ({
      value: o,
      done: a
    } = r.next()) && !a; ) {
      if (Object.is(i, o))
        return false;
      n.add(o);
    }
  }
  return true;
}
function toe(e13) {
  return e13 instanceof Set ? e13 : new Set(e13);
}
function roe(e13, ...t) {
  e13 = new Set(e13), t = t.map(toe);
  e:
    for (const r of e13)
      for (const n of t)
        if (!n.has(r)) {
          e13.delete(r);
          continue e;
        }
  return e13;
}
function dz(e13, t) {
  const r = e13[Symbol.iterator](), n = /* @__PURE__ */ new Set();
  for (const i of t) {
    if (n.has(i))
      continue;
    let o, a;
    for (; {
      value: o,
      done: a
    } = r.next(); ) {
      if (a)
        return false;
      if (n.add(o), Object.is(i, o))
        break;
    }
  }
  return true;
}
function noe(e13, t) {
  return dz(t, e13);
}
function ioe(...e13) {
  const t = /* @__PURE__ */ new Set();
  for (const r of e13)
    for (const n of r)
      t.add(n);
  return t;
}
var ooe = Object.freeze(Object.defineProperty({
  __proto__: null,
  Adder: gn,
  InternMap: t0,
  InternSet: Iie,
  ascending: an,
  bin: lB,
  bisect: zu,
  bisectCenter: aie,
  bisectLeft: oie,
  bisectRight: V6,
  bisector: qd,
  count: FE,
  cross: hie,
  cumsum: fie,
  descending: die,
  deviation: RD,
  difference: Jie,
  disjoint: eoe,
  every: Wie,
  extent: Y_,
  fcumsum: bie,
  filter: qie,
  fsum: _ie,
  greatest: Uie,
  greatestIndex: jie,
  group: ez,
  groupSort: Die,
  groups: Pie,
  histogram: lB,
  index: xie,
  indexes: kie,
  intersection: roe,
  least: Hie,
  leastIndex: cz,
  map: Kie,
  max: qI,
  maxIndex: sz,
  mean: KI,
  median: LD,
  merge: BD,
  min: n0,
  minIndex: lz,
  nice: iz,
  pairs: Fie,
  permute: nz,
  quantile: Vg,
  quantileSorted: az,
  quickselect: MD,
  range: vi,
  reduce: Zie,
  reverse: Qie,
  rollup: tz,
  rollups: Cie,
  scan: Gie,
  shuffle: zie,
  shuffler: uz,
  some: Yie,
  sort: VI,
  subset: noe,
  sum: hz,
  superset: dz,
  thresholdFreedmanDiaconis: Mie,
  thresholdScott: Lie,
  thresholdSturges: oz,
  tickIncrement: xv,
  tickStep: r0,
  ticks: hu,
  transpose: fz,
  union: ioe,
  variance: DD,
  zip: Xie
}, Symbol.toStringTag, { value: "Module" }));
function xo(e13, t) {
  switch (arguments.length) {
    case 0:
      break;
    case 1:
      this.range(e13);
      break;
    default:
      this.range(t).domain(e13);
      break;
  }
  return this;
}
function js(e13, t) {
  switch (arguments.length) {
    case 0:
      break;
    case 1: {
      typeof e13 == "function" ? this.interpolator(e13) : this.range(e13);
      break;
    }
    default: {
      this.domain(e13), typeof t == "function" ? this.interpolator(t) : this.range(t);
      break;
    }
  }
  return this;
}
var ZI = Symbol("implicit");
function FD() {
  var e13 = new t0(), t = [], r = [], n = ZI;
  function i(o) {
    let a = e13.get(o);
    if (a === void 0) {
      if (n !== ZI)
        return n;
      e13.set(o, a = t.push(o) - 1);
    }
    return r[a % r.length];
  }
  return i.domain = function(o) {
    if (!arguments.length)
      return t.slice();
    t = [], e13 = new t0();
    for (const a of o)
      e13.has(a) || e13.set(a, t.push(a) - 1);
    return i;
  }, i.range = function(o) {
    return arguments.length ? (r = Array.from(o), i) : r.slice();
  }, i.unknown = function(o) {
    return arguments.length ? (n = o, i) : n;
  }, i.copy = function() {
    return FD(t, r).unknown(n);
  }, xo.apply(i, arguments), i;
}
function kv() {
  var e13 = FD().unknown(void 0), t = e13.domain, r = e13.range, n = 0, i = 1, o, a, s = false, l = 0, u = 0, c = 0.5;
  delete e13.unknown;
  function f() {
    var h = t().length, d = i < n, p = d ? i : n, m = d ? n : i;
    o = (m - p) / Math.max(1, h - l + u * 2), s && (o = Math.floor(o)), p += (m - p - o * (h - l)) * c, a = o * (1 - l), s && (p = Math.round(p), a = Math.round(a));
    var g = vi(h).map(function(v) {
      return p + o * v;
    });
    return r(d ? g.reverse() : g);
  }
  return e13.domain = function(h) {
    return arguments.length ? (t(h), f()) : t();
  }, e13.range = function(h) {
    return arguments.length ? ([n, i] = h, n = +n, i = +i, f()) : [n, i];
  }, e13.rangeRound = function(h) {
    return [n, i] = h, n = +n, i = +i, s = true, f();
  }, e13.bandwidth = function() {
    return a;
  }, e13.step = function() {
    return o;
  }, e13.round = function(h) {
    return arguments.length ? (s = !!h, f()) : s;
  }, e13.padding = function(h) {
    return arguments.length ? (l = Math.min(1, u = +h), f()) : l;
  }, e13.paddingInner = function(h) {
    return arguments.length ? (l = Math.min(1, h), f()) : l;
  }, e13.paddingOuter = function(h) {
    return arguments.length ? (u = +h, f()) : u;
  }, e13.align = function(h) {
    return arguments.length ? (c = Math.max(0, Math.min(1, h)), f()) : c;
  }, e13.copy = function() {
    return kv(t(), [n, i]).round(s).paddingInner(l).paddingOuter(u).align(c);
  }, xo.apply(f(), arguments);
}
function pz(e13) {
  var t = e13.copy;
  return e13.padding = e13.paddingOuter, delete e13.paddingInner, delete e13.paddingOuter, e13.copy = function() {
    return pz(t());
  }, e13;
}
function aoe() {
  return pz(kv.apply(null, arguments).paddingInner(1));
}
function Zd(e13, t, r) {
  e13.prototype = t.prototype = r, r.constructor = e13;
}
function Dv(e13, t) {
  var r = Object.create(e13.prototype);
  for (var n in t)
    r[n] = t[n];
  return r;
}
function Zl() {
}
var fu = 0.7;
var ed = 1 / fu;
var bf = "\\s*([+-]?\\d+)\\s*";
var Xg = "\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*";
var Na = "\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*";
var soe = /^#([0-9a-f]{3,8})$/;
var loe = new RegExp("^rgb\\(" + [bf, bf, bf] + "\\)$");
var coe = new RegExp("^rgb\\(" + [Na, Na, Na] + "\\)$");
var uoe = new RegExp("^rgba\\(" + [bf, bf, bf, Xg] + "\\)$");
var hoe = new RegExp("^rgba\\(" + [Na, Na, Na, Xg] + "\\)$");
var foe = new RegExp("^hsl\\(" + [Xg, Na, Na] + "\\)$");
var doe = new RegExp("^hsla\\(" + [Xg, Na, Na, Xg] + "\\)$");
var cB = {
  aliceblue: 15792383,
  antiquewhite: 16444375,
  aqua: 65535,
  aquamarine: 8388564,
  azure: 15794175,
  beige: 16119260,
  bisque: 16770244,
  black: 0,
  blanchedalmond: 16772045,
  blue: 255,
  blueviolet: 9055202,
  brown: 10824234,
  burlywood: 14596231,
  cadetblue: 6266528,
  chartreuse: 8388352,
  chocolate: 13789470,
  coral: 16744272,
  cornflowerblue: 6591981,
  cornsilk: 16775388,
  crimson: 14423100,
  cyan: 65535,
  darkblue: 139,
  darkcyan: 35723,
  darkgoldenrod: 12092939,
  darkgray: 11119017,
  darkgreen: 25600,
  darkgrey: 11119017,
  darkkhaki: 12433259,
  darkmagenta: 9109643,
  darkolivegreen: 5597999,
  darkorange: 16747520,
  darkorchid: 10040012,
  darkred: 9109504,
  darksalmon: 15308410,
  darkseagreen: 9419919,
  darkslateblue: 4734347,
  darkslategray: 3100495,
  darkslategrey: 3100495,
  darkturquoise: 52945,
  darkviolet: 9699539,
  deeppink: 16716947,
  deepskyblue: 49151,
  dimgray: 6908265,
  dimgrey: 6908265,
  dodgerblue: 2003199,
  firebrick: 11674146,
  floralwhite: 16775920,
  forestgreen: 2263842,
  fuchsia: 16711935,
  gainsboro: 14474460,
  ghostwhite: 16316671,
  gold: 16766720,
  goldenrod: 14329120,
  gray: 8421504,
  green: 32768,
  greenyellow: 11403055,
  grey: 8421504,
  honeydew: 15794160,
  hotpink: 16738740,
  indianred: 13458524,
  indigo: 4915330,
  ivory: 16777200,
  khaki: 15787660,
  lavender: 15132410,
  lavenderblush: 16773365,
  lawngreen: 8190976,
  lemonchiffon: 16775885,
  lightblue: 11393254,
  lightcoral: 15761536,
  lightcyan: 14745599,
  lightgoldenrodyellow: 16448210,
  lightgray: 13882323,
  lightgreen: 9498256,
  lightgrey: 13882323,
  lightpink: 16758465,
  lightsalmon: 16752762,
  lightseagreen: 2142890,
  lightskyblue: 8900346,
  lightslategray: 7833753,
  lightslategrey: 7833753,
  lightsteelblue: 11584734,
  lightyellow: 16777184,
  lime: 65280,
  limegreen: 3329330,
  linen: 16445670,
  magenta: 16711935,
  maroon: 8388608,
  mediumaquamarine: 6737322,
  mediumblue: 205,
  mediumorchid: 12211667,
  mediumpurple: 9662683,
  mediumseagreen: 3978097,
  mediumslateblue: 8087790,
  mediumspringgreen: 64154,
  mediumturquoise: 4772300,
  mediumvioletred: 13047173,
  midnightblue: 1644912,
  mintcream: 16121850,
  mistyrose: 16770273,
  moccasin: 16770229,
  navajowhite: 16768685,
  navy: 128,
  oldlace: 16643558,
  olive: 8421376,
  olivedrab: 7048739,
  orange: 16753920,
  orangered: 16729344,
  orchid: 14315734,
  palegoldenrod: 15657130,
  palegreen: 10025880,
  paleturquoise: 11529966,
  palevioletred: 14381203,
  papayawhip: 16773077,
  peachpuff: 16767673,
  peru: 13468991,
  pink: 16761035,
  plum: 14524637,
  powderblue: 11591910,
  purple: 8388736,
  rebeccapurple: 6697881,
  red: 16711680,
  rosybrown: 12357519,
  royalblue: 4286945,
  saddlebrown: 9127187,
  salmon: 16416882,
  sandybrown: 16032864,
  seagreen: 3050327,
  seashell: 16774638,
  sienna: 10506797,
  silver: 12632256,
  skyblue: 8900331,
  slateblue: 6970061,
  slategray: 7372944,
  slategrey: 7372944,
  snow: 16775930,
  springgreen: 65407,
  steelblue: 4620980,
  tan: 13808780,
  teal: 32896,
  thistle: 14204888,
  tomato: 16737095,
  turquoise: 4251856,
  violet: 15631086,
  wheat: 16113331,
  white: 16777215,
  whitesmoke: 16119285,
  yellow: 16776960,
  yellowgreen: 10145074
};
Zd(Zl, dn, {
  copy: function(e13) {
    return Object.assign(new this.constructor(), this, e13);
  },
  displayable: function() {
    return this.rgb().displayable();
  },
  hex: uB,
  // Deprecated! Use color.formatHex.
  formatHex: uB,
  formatHsl: poe,
  formatRgb: hB,
  toString: hB
});
function uB() {
  return this.rgb().formatHex();
}
function poe() {
  return mz(this).formatHsl();
}
function hB() {
  return this.rgb().formatRgb();
}
function dn(e13) {
  var t, r;
  return e13 = (e13 + "").trim().toLowerCase(), (t = soe.exec(e13)) ? (r = t[1].length, t = parseInt(t[1], 16), r === 6 ? fB(t) : r === 3 ? new Fn(t >> 8 & 15 | t >> 4 & 240, t >> 4 & 15 | t & 240, (t & 15) << 4 | t & 15, 1) : r === 8 ? Xy(t >> 24 & 255, t >> 16 & 255, t >> 8 & 255, (t & 255) / 255) : r === 4 ? Xy(t >> 12 & 15 | t >> 8 & 240, t >> 8 & 15 | t >> 4 & 240, t >> 4 & 15 | t & 240, ((t & 15) << 4 | t & 15) / 255) : null) : (t = loe.exec(e13)) ? new Fn(t[1], t[2], t[3], 1) : (t = coe.exec(e13)) ? new Fn(t[1] * 255 / 100, t[2] * 255 / 100, t[3] * 255 / 100, 1) : (t = uoe.exec(e13)) ? Xy(t[1], t[2], t[3], t[4]) : (t = hoe.exec(e13)) ? Xy(t[1] * 255 / 100, t[2] * 255 / 100, t[3] * 255 / 100, t[4]) : (t = foe.exec(e13)) ? mB(t[1], t[2] / 100, t[3] / 100, 1) : (t = doe.exec(e13)) ? mB(t[1], t[2] / 100, t[3] / 100, t[4]) : cB.hasOwnProperty(e13) ? fB(cB[e13]) : e13 === "transparent" ? new Fn(NaN, NaN, NaN, 0) : null;
}
function fB(e13) {
  return new Fn(e13 >> 16 & 255, e13 >> 8 & 255, e13 & 255, 1);
}
function Xy(e13, t, r, n) {
  return n <= 0 && (e13 = t = r = NaN), new Fn(e13, t, r, n);
}
function $D(e13) {
  return e13 instanceof Zl || (e13 = dn(e13)), e13 ? (e13 = e13.rgb(), new Fn(e13.r, e13.g, e13.b, e13.opacity)) : new Fn();
}
function td(e13, t, r, n) {
  return arguments.length === 1 ? $D(e13) : new Fn(e13, t, r, n ?? 1);
}
function Fn(e13, t, r, n) {
  this.r = +e13, this.g = +t, this.b = +r, this.opacity = +n;
}
Zd(Fn, td, Dv(Zl, {
  brighter: function(e13) {
    return e13 = e13 == null ? ed : Math.pow(ed, e13), new Fn(this.r * e13, this.g * e13, this.b * e13, this.opacity);
  },
  darker: function(e13) {
    return e13 = e13 == null ? fu : Math.pow(fu, e13), new Fn(this.r * e13, this.g * e13, this.b * e13, this.opacity);
  },
  rgb: function() {
    return this;
  },
  displayable: function() {
    return -0.5 <= this.r && this.r < 255.5 && -0.5 <= this.g && this.g < 255.5 && -0.5 <= this.b && this.b < 255.5 && 0 <= this.opacity && this.opacity <= 1;
  },
  hex: dB,
  // Deprecated! Use color.formatHex.
  formatHex: dB,
  formatRgb: pB,
  toString: pB
}));
function dB() {
  return "#" + mw(this.r) + mw(this.g) + mw(this.b);
}
function pB() {
  var e13 = this.opacity;
  return e13 = isNaN(e13) ? 1 : Math.max(0, Math.min(1, e13)), (e13 === 1 ? "rgb(" : "rgba(") + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + ", " + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + ", " + Math.max(0, Math.min(255, Math.round(this.b) || 0)) + (e13 === 1 ? ")" : ", " + e13 + ")");
}
function mw(e13) {
  return e13 = Math.max(0, Math.min(255, Math.round(e13) || 0)), (e13 < 16 ? "0" : "") + e13.toString(16);
}
function mB(e13, t, r, n) {
  return n <= 0 ? e13 = t = r = NaN : r <= 0 || r >= 1 ? e13 = t = NaN : t <= 0 && (e13 = NaN), new va(e13, t, r, n);
}
function mz(e13) {
  if (e13 instanceof va)
    return new va(e13.h, e13.s, e13.l, e13.opacity);
  if (e13 instanceof Zl || (e13 = dn(e13)), !e13)
    return new va();
  if (e13 instanceof va)
    return e13;
  e13 = e13.rgb();
  var t = e13.r / 255, r = e13.g / 255, n = e13.b / 255, i = Math.min(t, r, n), o = Math.max(t, r, n), a = NaN, s = o - i, l = (o + i) / 2;
  return s ? (t === o ? a = (r - n) / s + (r < n) * 6 : r === o ? a = (n - t) / s + 2 : a = (t - r) / s + 4, s /= l < 0.5 ? o + i : 2 - o - i, a *= 60) : s = l > 0 && l < 1 ? 0 : a, new va(a, s, l, e13.opacity);
}
function gz(e13, t, r, n) {
  return arguments.length === 1 ? mz(e13) : new va(e13, t, r, n ?? 1);
}
function va(e13, t, r, n) {
  this.h = +e13, this.s = +t, this.l = +r, this.opacity = +n;
}
Zd(va, gz, Dv(Zl, {
  brighter: function(e13) {
    return e13 = e13 == null ? ed : Math.pow(ed, e13), new va(this.h, this.s, this.l * e13, this.opacity);
  },
  darker: function(e13) {
    return e13 = e13 == null ? fu : Math.pow(fu, e13), new va(this.h, this.s, this.l * e13, this.opacity);
  },
  rgb: function() {
    var e13 = this.h % 360 + (this.h < 0) * 360, t = isNaN(e13) || isNaN(this.s) ? 0 : this.s, r = this.l, n = r + (r < 0.5 ? r : 1 - r) * t, i = 2 * r - n;
    return new Fn(gw(e13 >= 240 ? e13 - 240 : e13 + 120, i, n), gw(e13, i, n), gw(e13 < 120 ? e13 + 240 : e13 - 120, i, n), this.opacity);
  },
  displayable: function() {
    return (0 <= this.s && this.s <= 1 || isNaN(this.s)) && 0 <= this.l && this.l <= 1 && 0 <= this.opacity && this.opacity <= 1;
  },
  formatHsl: function() {
    var e13 = this.opacity;
    return e13 = isNaN(e13) ? 1 : Math.max(0, Math.min(1, e13)), (e13 === 1 ? "hsl(" : "hsla(") + (this.h || 0) + ", " + (this.s || 0) * 100 + "%, " + (this.l || 0) * 100 + "%" + (e13 === 1 ? ")" : ", " + e13 + ")");
  }
}));
function gw(e13, t, r) {
  return (e13 < 60 ? t + (r - t) * e13 / 60 : e13 < 180 ? r : e13 < 240 ? t + (r - t) * (240 - e13) / 60 : t) * 255;
}
var vz = Math.PI / 180;
var yz = 180 / Math.PI;
var i0 = 18;
var _z = 0.96422;
var bz = 1;
var Tz = 0.82521;
var Ez = 4 / 29;
var Tf = 6 / 29;
var Sz = 3 * Tf * Tf;
var moe = Tf * Tf * Tf;
function wz(e13) {
  if (e13 instanceof qo)
    return new qo(e13.l, e13.a, e13.b, e13.opacity);
  if (e13 instanceof ka)
    return Pz(e13);
  e13 instanceof Fn || (e13 = $D(e13));
  var t = bw(e13.r), r = bw(e13.g), n = bw(e13.b), i = vw((0.2225045 * t + 0.7168786 * r + 0.0606169 * n) / bz), o, a;
  return t === r && r === n ? o = a = i : (o = vw((0.4360747 * t + 0.3850649 * r + 0.1430804 * n) / _z), a = vw((0.0139322 * t + 0.0971045 * r + 0.7141733 * n) / Tz)), new qo(116 * i - 16, 500 * (o - i), 200 * (i - a), e13.opacity);
}
function goe(e13, t) {
  return new qo(e13, 0, 0, t ?? 1);
}
function Az(e13, t, r, n) {
  return arguments.length === 1 ? wz(e13) : new qo(e13, t, r, n ?? 1);
}
function qo(e13, t, r, n) {
  this.l = +e13, this.a = +t, this.b = +r, this.opacity = +n;
}
Zd(qo, Az, Dv(Zl, {
  brighter: function(e13) {
    return new qo(this.l + i0 * (e13 ?? 1), this.a, this.b, this.opacity);
  },
  darker: function(e13) {
    return new qo(this.l - i0 * (e13 ?? 1), this.a, this.b, this.opacity);
  },
  rgb: function() {
    var e13 = (this.l + 16) / 116, t = isNaN(this.a) ? e13 : e13 + this.a / 500, r = isNaN(this.b) ? e13 : e13 - this.b / 200;
    return t = _z * yw(t), e13 = bz * yw(e13), r = Tz * yw(r), new Fn(_w(3.1338561 * t - 1.6168667 * e13 - 0.4906146 * r), _w(-0.9787684 * t + 1.9161415 * e13 + 0.033454 * r), _w(0.0719453 * t - 0.2289914 * e13 + 1.4052427 * r), this.opacity);
  }
}));
function vw(e13) {
  return e13 > moe ? Math.pow(e13, 1 / 3) : e13 / Sz + Ez;
}
function yw(e13) {
  return e13 > Tf ? e13 * e13 * e13 : Sz * (e13 - Ez);
}
function _w(e13) {
  return 255 * (e13 <= 31308e-7 ? 12.92 * e13 : 1.055 * Math.pow(e13, 1 / 2.4) - 0.055);
}
function bw(e13) {
  return (e13 /= 255) <= 0.04045 ? e13 / 12.92 : Math.pow((e13 + 0.055) / 1.055, 2.4);
}
function Oz(e13) {
  if (e13 instanceof ka)
    return new ka(e13.h, e13.c, e13.l, e13.opacity);
  if (e13 instanceof qo || (e13 = wz(e13)), e13.a === 0 && e13.b === 0)
    return new ka(NaN, 0 < e13.l && e13.l < 100 ? 0 : NaN, e13.l, e13.opacity);
  var t = Math.atan2(e13.b, e13.a) * yz;
  return new ka(t < 0 ? t + 360 : t, Math.sqrt(e13.a * e13.a + e13.b * e13.b), e13.l, e13.opacity);
}
function voe(e13, t, r, n) {
  return arguments.length === 1 ? Oz(e13) : new ka(r, t, e13, n ?? 1);
}
function Iz(e13, t, r, n) {
  return arguments.length === 1 ? Oz(e13) : new ka(e13, t, r, n ?? 1);
}
function ka(e13, t, r, n) {
  this.h = +e13, this.c = +t, this.l = +r, this.opacity = +n;
}
function Pz(e13) {
  if (isNaN(e13.h))
    return new qo(e13.l, 0, 0, e13.opacity);
  var t = e13.h * vz;
  return new qo(e13.l, Math.cos(t) * e13.c, Math.sin(t) * e13.c, e13.opacity);
}
Zd(ka, Iz, Dv(Zl, {
  brighter: function(e13) {
    return new ka(this.h, this.c, this.l + i0 * (e13 ?? 1), this.opacity);
  },
  darker: function(e13) {
    return new ka(this.h, this.c, this.l - i0 * (e13 ?? 1), this.opacity);
  },
  rgb: function() {
    return Pz(this).rgb();
  }
}));
var Cz = -0.14861;
var HD = 1.78277;
var UD = -0.29227;
var $E = -0.90649;
var Wg = 1.97294;
var gB = Wg * $E;
var vB = Wg * HD;
var yB = HD * UD - $E * Cz;
function yoe(e13) {
  if (e13 instanceof Zc)
    return new Zc(e13.h, e13.s, e13.l, e13.opacity);
  e13 instanceof Fn || (e13 = $D(e13));
  var t = e13.r / 255, r = e13.g / 255, n = e13.b / 255, i = (yB * n + gB * t - vB * r) / (yB + gB - vB), o = n - i, a = (Wg * (r - i) - UD * o) / $E, s = Math.sqrt(a * a + o * o) / (Wg * i * (1 - i)), l = s ? Math.atan2(a, o) * yz - 120 : NaN;
  return new Zc(l < 0 ? l + 360 : l, s, i, e13.opacity);
}
function xz(e13, t, r, n) {
  return arguments.length === 1 ? yoe(e13) : new Zc(e13, t, r, n ?? 1);
}
function Zc(e13, t, r, n) {
  this.h = +e13, this.s = +t, this.l = +r, this.opacity = +n;
}
Zd(Zc, xz, Dv(Zl, {
  brighter: function(e13) {
    return e13 = e13 == null ? ed : Math.pow(ed, e13), new Zc(this.h, this.s, this.l * e13, this.opacity);
  },
  darker: function(e13) {
    return e13 = e13 == null ? fu : Math.pow(fu, e13), new Zc(this.h, this.s, this.l * e13, this.opacity);
  },
  rgb: function() {
    var e13 = isNaN(this.h) ? 0 : (this.h + 120) * vz, t = +this.l, r = isNaN(this.s) ? 0 : this.s * t * (1 - t), n = Math.cos(e13), i = Math.sin(e13);
    return new Fn(255 * (t + r * (Cz * n + HD * i)), 255 * (t + r * (UD * n + $E * i)), 255 * (t + r * (Wg * n)), this.opacity);
  }
}));
var _oe = Object.freeze(Object.defineProperty({
  __proto__: null,
  color: dn,
  cubehelix: xz,
  gray: goe,
  hcl: Iz,
  hsl: gz,
  lab: Az,
  lch: voe,
  rgb: td
}, Symbol.toStringTag, { value: "Module" }));
var jD = (e13) => () => e13;
function boe(e13, t) {
  return function(r) {
    return e13 + r * t;
  };
}
function Toe(e13, t, r) {
  return e13 = Math.pow(e13, r), t = Math.pow(t, r) - e13, r = 1 / r, function(n) {
    return Math.pow(e13 + n * t, r);
  };
}
function Eoe(e13) {
  return (e13 = +e13) == 1 ? kz : function(t, r) {
    return r - t ? Toe(t, r, e13) : jD(isNaN(t) ? r : t);
  };
}
function kz(e13, t) {
  var r = t - e13;
  return r ? boe(e13, r) : jD(isNaN(e13) ? t : e13);
}
var rd = function e(t) {
  var r = Eoe(t);
  function n(i, o) {
    var a = r((i = td(i)).r, (o = td(o)).r), s = r(i.g, o.g), l = r(i.b, o.b), u = kz(i.opacity, o.opacity);
    return function(c) {
      return i.r = a(c), i.g = s(c), i.b = l(c), i.opacity = u(c), i + "";
    };
  }
  return n.gamma = e, n;
}(1);
function Soe(e13, t) {
  t || (t = []);
  var r = e13 ? Math.min(t.length, e13.length) : 0, n = t.slice(), i;
  return function(o) {
    for (i = 0; i < r; ++i)
      n[i] = e13[i] * (1 - o) + t[i] * o;
    return n;
  };
}
function woe(e13) {
  return ArrayBuffer.isView(e13) && !(e13 instanceof DataView);
}
function Aoe(e13, t) {
  var r = t ? t.length : 0, n = e13 ? Math.min(r, e13.length) : 0, i = new Array(n), o = new Array(r), a;
  for (a = 0; a < n; ++a)
    i[a] = Vu(e13[a], t[a]);
  for (; a < r; ++a)
    o[a] = t[a];
  return function(s) {
    for (a = 0; a < n; ++a)
      o[a] = i[a](s);
    return o;
  };
}
function Ooe(e13, t) {
  var r = /* @__PURE__ */ new Date();
  return e13 = +e13, t = +t, function(n) {
    return r.setTime(e13 * (1 - n) + t * n), r;
  };
}
function vo(e13, t) {
  return e13 = +e13, t = +t, function(r) {
    return e13 * (1 - r) + t * r;
  };
}
function Ioe(e13, t) {
  var r = {}, n = {}, i;
  (e13 === null || typeof e13 != "object") && (e13 = {}), (t === null || typeof t != "object") && (t = {});
  for (i in t)
    i in e13 ? r[i] = Vu(e13[i], t[i]) : n[i] = t[i];
  return function(o) {
    for (i in r)
      n[i] = r[i](o);
    return n;
  };
}
var QI = /[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;
var Tw = new RegExp(QI.source, "g");
function Poe(e13) {
  return function() {
    return e13;
  };
}
function Coe(e13) {
  return function(t) {
    return e13(t) + "";
  };
}
function GD(e13, t) {
  var r = QI.lastIndex = Tw.lastIndex = 0, n, i, o, a = -1, s = [], l = [];
  for (e13 = e13 + "", t = t + ""; (n = QI.exec(e13)) && (i = Tw.exec(t)); )
    (o = i.index) > r && (o = t.slice(r, o), s[a] ? s[a] += o : s[++a] = o), (n = n[0]) === (i = i[0]) ? s[a] ? s[a] += i : s[++a] = i : (s[++a] = null, l.push({
      i: a,
      x: vo(n, i)
    })), r = Tw.lastIndex;
  return r < t.length && (o = t.slice(r), s[a] ? s[a] += o : s[++a] = o), s.length < 2 ? l[0] ? Coe(l[0].x) : Poe(t) : (t = l.length, function(u) {
    for (var c = 0, f; c < t; ++c)
      s[(f = l[c]).i] = f.x(u);
    return s.join("");
  });
}
function Vu(e13, t) {
  var r = typeof t, n;
  return t == null || r === "boolean" ? jD(t) : (r === "number" ? vo : r === "string" ? (n = dn(t)) ? (t = n, rd) : GD : t instanceof dn ? rd : t instanceof Date ? Ooe : woe(t) ? Soe : Array.isArray(t) ? Aoe : typeof t.valueOf != "function" && typeof t.toString != "function" || isNaN(t) ? Ioe : vo)(e13, t);
}
function zD(e13, t) {
  return e13 = +e13, t = +t, function(r) {
    return Math.round(e13 * (1 - r) + t * r);
  };
}
var _B = 180 / Math.PI;
var JI = {
  translateX: 0,
  translateY: 0,
  rotate: 0,
  skewX: 0,
  scaleX: 1,
  scaleY: 1
};
function Dz(e13, t, r, n, i, o) {
  var a, s, l;
  return (a = Math.sqrt(e13 * e13 + t * t)) && (e13 /= a, t /= a), (l = e13 * r + t * n) && (r -= e13 * l, n -= t * l), (s = Math.sqrt(r * r + n * n)) && (r /= s, n /= s, l /= s), e13 * n < t * r && (e13 = -e13, t = -t, l = -l, a = -a), {
    translateX: i,
    translateY: o,
    rotate: Math.atan2(t, e13) * _B,
    skewX: Math.atan(l) * _B,
    scaleX: a,
    scaleY: s
  };
}
var Wy;
function xoe(e13) {
  const t = new (typeof DOMMatrix == "function" ? DOMMatrix : WebKitCSSMatrix)(e13 + "");
  return t.isIdentity ? JI : Dz(t.a, t.b, t.c, t.d, t.e, t.f);
}
function koe(e13) {
  return e13 == null || (Wy || (Wy = document.createElementNS("http://www.w3.org/2000/svg", "g")), Wy.setAttribute("transform", e13), !(e13 = Wy.transform.baseVal.consolidate())) ? JI : (e13 = e13.matrix, Dz(e13.a, e13.b, e13.c, e13.d, e13.e, e13.f));
}
function Rz(e13, t, r, n) {
  function i(u) {
    return u.length ? u.pop() + " " : "";
  }
  function o(u, c, f, h, d, p) {
    if (u !== f || c !== h) {
      var m = d.push("translate(", null, t, null, r);
      p.push({
        i: m - 4,
        x: vo(u, f)
      }, {
        i: m - 2,
        x: vo(c, h)
      });
    } else (f || h) && d.push("translate(" + f + t + h + r);
  }
  function a(u, c, f, h) {
    u !== c ? (u - c > 180 ? c += 360 : c - u > 180 && (u += 360), h.push({
      i: f.push(i(f) + "rotate(", null, n) - 2,
      x: vo(u, c)
    })) : c && f.push(i(f) + "rotate(" + c + n);
  }
  function s(u, c, f, h) {
    u !== c ? h.push({
      i: f.push(i(f) + "skewX(", null, n) - 2,
      x: vo(u, c)
    }) : c && f.push(i(f) + "skewX(" + c + n);
  }
  function l(u, c, f, h, d, p) {
    if (u !== f || c !== h) {
      var m = d.push(i(d) + "scale(", null, ",", null, ")");
      p.push({
        i: m - 4,
        x: vo(u, f)
      }, {
        i: m - 2,
        x: vo(c, h)
      });
    } else (f !== 1 || h !== 1) && d.push(i(d) + "scale(" + f + "," + h + ")");
  }
  return function(u, c) {
    var f = [], h = [];
    return u = e13(u), c = e13(c), o(u.translateX, u.translateY, c.translateX, c.translateY, f, h), a(u.rotate, c.rotate, f, h), s(u.skewX, c.skewX, f, h), l(u.scaleX, u.scaleY, c.scaleX, c.scaleY, f, h), u = c = null, function(d) {
      for (var p = -1, m = h.length, g; ++p < m; )
        f[(g = h[p]).i] = g.x(d);
      return f.join("");
    };
  };
}
var Nz = Rz(xoe, "px, ", "px)", "deg)");
var Mz = Rz(koe, ", ", ")", ")");
var Doe = 1e-12;
function bB(e13) {
  return ((e13 = Math.exp(e13)) + 1 / e13) / 2;
}
function Roe(e13) {
  return ((e13 = Math.exp(e13)) - 1 / e13) / 2;
}
function Noe(e13) {
  return ((e13 = Math.exp(2 * e13)) - 1) / (e13 + 1);
}
var Moe = function e2(t, r, n) {
  function i(o, a) {
    var s = o[0], l = o[1], u = o[2], c = a[0], f = a[1], h = a[2], d = c - s, p = f - l, m = d * d + p * p, g, v;
    if (m < Doe)
      v = Math.log(h / u) / t, g = function(O) {
        return [s + O * d, l + O * p, u * Math.exp(t * O * v)];
      };
    else {
      var b = Math.sqrt(m), y = (h * h - u * u + n * m) / (2 * u * r * b), _ = (h * h - u * u - n * m) / (2 * h * r * b), T = Math.log(Math.sqrt(y * y + 1) - y), E = Math.log(Math.sqrt(_ * _ + 1) - _);
      v = (E - T) / t, g = function(O) {
        var S = O * v, P = bB(T), C = u / (r * b) * (P * Noe(t * S + T) - Roe(T));
        return [s + C * d, l + C * p, u * P / bB(t * S + T)];
      };
    }
    return g.duration = v * 1e3 * t / Math.SQRT2, g;
  }
  return i.rho = function(o) {
    var a = Math.max(1e-3, +o), s = a * a, l = s * s;
    return e2(a, s, l);
  }, i;
}(Math.SQRT2, 2, 4);
function Loe(e13, t) {
  t === void 0 && (t = e13, e13 = Vu);
  for (var r = 0, n = t.length - 1, i = t[0], o = new Array(n < 0 ? 0 : n); r < n; )
    o[r] = e13(i, i = t[++r]);
  return function(a) {
    var s = Math.max(0, Math.min(n - 1, Math.floor(a *= n)));
    return o[s](a - s);
  };
}
function Boe(e13) {
  return function() {
    return e13;
  };
}
function o0(e13) {
  return +e13;
}
var TB = [0, 1];
function yi(e13) {
  return e13;
}
function eP(e13, t) {
  return (t -= e13 = +e13) ? function(r) {
    return (r - e13) / t;
  } : Boe(isNaN(t) ? NaN : 0.5);
}
function Foe(e13, t) {
  var r;
  return e13 > t && (r = e13, e13 = t, t = r), function(n) {
    return Math.max(e13, Math.min(t, n));
  };
}
function $oe(e13, t, r) {
  var n = e13[0], i = e13[1], o = t[0], a = t[1];
  return i < n ? (n = eP(i, n), o = r(a, o)) : (n = eP(n, i), o = r(o, a)), function(s) {
    return o(n(s));
  };
}
function Hoe(e13, t, r) {
  var n = Math.min(e13.length, t.length) - 1, i = new Array(n), o = new Array(n), a = -1;
  for (e13[n] < e13[0] && (e13 = e13.slice().reverse(), t = t.slice().reverse()); ++a < n; )
    i[a] = eP(e13[a], e13[a + 1]), o[a] = r(t[a], t[a + 1]);
  return function(s) {
    var l = zu(e13, s, 1, n) - 1;
    return o[l](i[l](s));
  };
}
function Rv(e13, t) {
  return t.domain(e13.domain()).range(e13.range()).interpolate(e13.interpolate()).clamp(e13.clamp()).unknown(e13.unknown());
}
function HE() {
  var e13 = TB, t = TB, r = Vu, n, i, o, a = yi, s, l, u;
  function c() {
    var h = Math.min(e13.length, t.length);
    return a !== yi && (a = Foe(e13[0], e13[h - 1])), s = h > 2 ? Hoe : $oe, l = u = null, f;
  }
  function f(h) {
    return h == null || isNaN(h = +h) ? o : (l || (l = s(e13.map(n), t, r)))(n(a(h)));
  }
  return f.invert = function(h) {
    return a(i((u || (u = s(t, e13.map(n), vo)))(h)));
  }, f.domain = function(h) {
    return arguments.length ? (e13 = Array.from(h, o0), c()) : e13.slice();
  }, f.range = function(h) {
    return arguments.length ? (t = Array.from(h), c()) : t.slice();
  }, f.rangeRound = function(h) {
    return t = Array.from(h), r = zD, c();
  }, f.clamp = function(h) {
    return arguments.length ? (a = h ? true : yi, c()) : a !== yi;
  }, f.interpolate = function(h) {
    return arguments.length ? (r = h, c()) : r;
  }, f.unknown = function(h) {
    return arguments.length ? (o = h, f) : o;
  }, function(h, d) {
    return n = h, i = d, c();
  };
}
function VD() {
  return HE()(yi, yi);
}
function Uoe(e13) {
  return Math.abs(e13 = Math.round(e13)) >= 1e21 ? e13.toLocaleString("en").replace(/,/g, "") : e13.toString(10);
}
function a0(e13, t) {
  if ((r = (e13 = t ? e13.toExponential(t - 1) : e13.toExponential()).indexOf("e")) < 0)
    return null;
  var r, n = e13.slice(0, r);
  return [n.length > 1 ? n[0] + n.slice(2) : n, +e13.slice(r + 1)];
}
function nd(e13) {
  return e13 = a0(Math.abs(e13)), e13 ? e13[1] : NaN;
}
function joe(e13, t) {
  return function(r, n) {
    for (var i = r.length, o = [], a = 0, s = e13[0], l = 0; i > 0 && s > 0 && (l + s + 1 > n && (s = Math.max(1, n - l)), o.push(r.substring(i -= s, i + s)), !((l += s + 1) > n)); )
      s = e13[a = (a + 1) % e13.length];
    return o.reverse().join(t);
  };
}
function Goe(e13) {
  return function(t) {
    return t.replace(/[0-9]/g, function(r) {
      return e13[+r];
    });
  };
}
var zoe = /^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;
function id(e13) {
  if (!(t = zoe.exec(e13)))
    throw new Error("invalid format: " + e13);
  var t;
  return new UE({
    fill: t[1],
    align: t[2],
    sign: t[3],
    symbol: t[4],
    zero: t[5],
    width: t[6],
    comma: t[7],
    precision: t[8] && t[8].slice(1),
    trim: t[9],
    type: t[10]
  });
}
id.prototype = UE.prototype;
function UE(e13) {
  this.fill = e13.fill === void 0 ? " " : e13.fill + "", this.align = e13.align === void 0 ? ">" : e13.align + "", this.sign = e13.sign === void 0 ? "-" : e13.sign + "", this.symbol = e13.symbol === void 0 ? "" : e13.symbol + "", this.zero = !!e13.zero, this.width = e13.width === void 0 ? void 0 : +e13.width, this.comma = !!e13.comma, this.precision = e13.precision === void 0 ? void 0 : +e13.precision, this.trim = !!e13.trim, this.type = e13.type === void 0 ? "" : e13.type + "";
}
UE.prototype.toString = function() {
  return this.fill + this.align + this.sign + this.symbol + (this.zero ? "0" : "") + (this.width === void 0 ? "" : Math.max(1, this.width | 0)) + (this.comma ? "," : "") + (this.precision === void 0 ? "" : "." + Math.max(0, this.precision | 0)) + (this.trim ? "~" : "") + this.type;
};
function Voe(e13) {
  e:
    for (var t = e13.length, r = 1, n = -1, i; r < t; ++r)
      switch (e13[r]) {
        case ".":
          n = i = r;
          break;
        case "0":
          n === 0 && (n = r), i = r;
          break;
        default:
          if (!+e13[r])
            break e;
          n > 0 && (n = 0);
          break;
      }
  return n > 0 ? e13.slice(0, n) + e13.slice(i + 1) : e13;
}
var Lz;
function Xoe(e13, t) {
  var r = a0(e13, t);
  if (!r)
    return e13 + "";
  var n = r[0], i = r[1], o = i - (Lz = Math.max(-8, Math.min(8, Math.floor(i / 3))) * 3) + 1, a = n.length;
  return o === a ? n : o > a ? n + new Array(o - a + 1).join("0") : o > 0 ? n.slice(0, o) + "." + n.slice(o) : "0." + new Array(1 - o).join("0") + a0(e13, Math.max(0, t + o - 1))[0];
}
function EB(e13, t) {
  var r = a0(e13, t);
  if (!r)
    return e13 + "";
  var n = r[0], i = r[1];
  return i < 0 ? "0." + new Array(-i).join("0") + n : n.length > i + 1 ? n.slice(0, i + 1) + "." + n.slice(i + 1) : n + new Array(i - n.length + 2).join("0");
}
var SB = {
  "%": (e13, t) => (e13 * 100).toFixed(t),
  b: (e13) => Math.round(e13).toString(2),
  c: (e13) => e13 + "",
  d: Uoe,
  e: (e13, t) => e13.toExponential(t),
  f: (e13, t) => e13.toFixed(t),
  g: (e13, t) => e13.toPrecision(t),
  o: (e13) => Math.round(e13).toString(8),
  p: (e13, t) => EB(e13 * 100, t),
  r: EB,
  s: Xoe,
  X: (e13) => Math.round(e13).toString(16).toUpperCase(),
  x: (e13) => Math.round(e13).toString(16)
};
function wB(e13) {
  return e13;
}
var AB = Array.prototype.map;
var OB = ["y", "z", "a", "f", "p", "n", "µ", "m", "", "k", "M", "G", "T", "P", "E", "Z", "Y"];
function Bz(e13) {
  var t = e13.grouping === void 0 || e13.thousands === void 0 ? wB : joe(AB.call(e13.grouping, Number), e13.thousands + ""), r = e13.currency === void 0 ? "" : e13.currency[0] + "", n = e13.currency === void 0 ? "" : e13.currency[1] + "", i = e13.decimal === void 0 ? "." : e13.decimal + "", o = e13.numerals === void 0 ? wB : Goe(AB.call(e13.numerals, String)), a = e13.percent === void 0 ? "%" : e13.percent + "", s = e13.minus === void 0 ? "−" : e13.minus + "", l = e13.nan === void 0 ? "NaN" : e13.nan + "";
  function u(f) {
    f = id(f);
    var h = f.fill, d = f.align, p = f.sign, m = f.symbol, g = f.zero, v = f.width, b = f.comma, y = f.precision, _ = f.trim, T = f.type;
    T === "n" ? (b = true, T = "g") : SB[T] || (y === void 0 && (y = 12), _ = true, T = "g"), (g || h === "0" && d === "=") && (g = true, h = "0", d = "=");
    var E = m === "$" ? r : m === "#" && /[boxX]/.test(T) ? "0" + T.toLowerCase() : "", O = m === "$" ? n : /[%p]/.test(T) ? a : "", S = SB[T], P = /[defgprs%]/.test(T);
    y = y === void 0 ? 6 : /[gprs]/.test(T) ? Math.max(1, Math.min(21, y)) : Math.max(0, Math.min(20, y));
    function C(w) {
      var N = E, L = O, A, R, F;
      if (T === "c")
        L = S(w) + L, w = "";
      else {
        w = +w;
        var $ = w < 0 || 1 / w < 0;
        if (w = isNaN(w) ? l : S(Math.abs(w), y), _ && (w = Voe(w)), $ && +w == 0 && p !== "+" && ($ = false), N = ($ ? p === "(" ? p : s : p === "-" || p === "(" ? "" : p) + N, L = (T === "s" ? OB[8 + Lz / 3] : "") + L + ($ && p === "(" ? ")" : ""), P) {
          for (A = -1, R = w.length; ++A < R; )
            if (F = w.charCodeAt(A), 48 > F || F > 57) {
              L = (F === 46 ? i + w.slice(A + 1) : w.slice(A)) + L, w = w.slice(0, A);
              break;
            }
        }
      }
      b && !g && (w = t(w, 1 / 0));
      var K = N.length + w.length + L.length, ie = K < v ? new Array(v - K + 1).join(h) : "";
      switch (b && g && (w = t(ie + w, ie.length ? v - L.length : 1 / 0), ie = ""), d) {
        case "<":
          w = N + w + L + ie;
          break;
        case "=":
          w = N + ie + w + L;
          break;
        case "^":
          w = ie.slice(0, K = ie.length >> 1) + N + w + L + ie.slice(K);
          break;
        default:
          w = ie + N + w + L;
          break;
      }
      return o(w);
    }
    return C.toString = function() {
      return f + "";
    }, C;
  }
  function c(f, h) {
    var d = u((f = id(f), f.type = "f", f)), p = Math.max(-8, Math.min(8, Math.floor(nd(h) / 3))) * 3, m = Math.pow(10, -p), g = OB[8 + p / 3];
    return function(v) {
      return d(m * v) + g;
    };
  }
  return {
    format: u,
    formatPrefix: c
  };
}
var Yy;
var ro;
var Xu;
Fz({
  thousands: ",",
  grouping: [3],
  currency: ["$", ""]
});
function Fz(e13) {
  return Yy = Bz(e13), ro = Yy.format, Xu = Yy.formatPrefix, Yy;
}
function $z(e13) {
  return Math.max(0, -nd(Math.abs(e13)));
}
function Qd(e13, t) {
  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(nd(t) / 3))) * 3 - nd(Math.abs(e13)));
}
function Hz(e13, t) {
  return e13 = Math.abs(e13), t = Math.abs(t) - e13, Math.max(0, nd(t) - nd(e13)) + 1;
}
var Woe = Object.freeze(Object.defineProperty({
  __proto__: null,
  FormatSpecifier: UE,
  get format() {
    return ro;
  },
  formatDefaultLocale: Fz,
  formatLocale: Bz,
  get formatPrefix() {
    return Xu;
  },
  formatSpecifier: id,
  precisionFixed: $z,
  precisionPrefix: Qd,
  precisionRound: Hz
}, Symbol.toStringTag, { value: "Module" }));
function Uz(e13, t, r, n) {
  var i = r0(e13, t, r), o;
  switch (n = id(n ?? ",f"), n.type) {
    case "s": {
      var a = Math.max(Math.abs(e13), Math.abs(t));
      return n.precision == null && !isNaN(o = Qd(i, a)) && (n.precision = o), Xu(n, a);
    }
    case "":
    case "e":
    case "g":
    case "p":
    case "r": {
      n.precision == null && !isNaN(o = Hz(i, Math.max(Math.abs(e13), Math.abs(t)))) && (n.precision = o - (n.type === "e"));
      break;
    }
    case "f":
    case "%": {
      n.precision == null && !isNaN(o = $z(i)) && (n.precision = o - (n.type === "%") * 2);
      break;
    }
  }
  return ro(n);
}
function Ql(e13) {
  var t = e13.domain;
  return e13.ticks = function(r) {
    var n = t();
    return hu(n[0], n[n.length - 1], r ?? 10);
  }, e13.tickFormat = function(r, n) {
    var i = t();
    return Uz(i[0], i[i.length - 1], r ?? 10, n);
  }, e13.nice = function(r) {
    r == null && (r = 10);
    var n = t(), i = 0, o = n.length - 1, a = n[i], s = n[o], l, u, c = 10;
    for (s < a && (u = a, a = s, s = u, u = i, i = o, o = u); c-- > 0; ) {
      if (u = xv(a, s, r), u === l)
        return n[i] = a, n[o] = s, t(n);
      if (u > 0)
        a = Math.floor(a / u) * u, s = Math.ceil(s / u) * u;
      else if (u < 0)
        a = Math.ceil(a * u) / u, s = Math.floor(s * u) / u;
      else
        break;
      l = u;
    }
    return e13;
  }, e13;
}
function It() {
  var e13 = VD();
  return e13.copy = function() {
    return Rv(e13, It());
  }, xo.apply(e13, arguments), Ql(e13);
}
function jz(e13) {
  var t;
  function r(n) {
    return n == null || isNaN(n = +n) ? t : n;
  }
  return r.invert = r, r.domain = r.range = function(n) {
    return arguments.length ? (e13 = Array.from(n, o0), r) : e13.slice();
  }, r.unknown = function(n) {
    return arguments.length ? (t = n, r) : t;
  }, r.copy = function() {
    return jz(e13).unknown(t);
  }, e13 = arguments.length ? Array.from(e13, o0) : [0, 1], Ql(r);
}
function Gz(e13, t) {
  e13 = e13.slice();
  var r = 0, n = e13.length - 1, i = e13[r], o = e13[n], a;
  return o < i && (a = r, r = n, n = a, a = i, i = o, o = a), e13[r] = t.floor(i), e13[n] = t.ceil(o), e13;
}
function IB(e13) {
  return Math.log(e13);
}
function PB(e13) {
  return Math.exp(e13);
}
function Yoe(e13) {
  return -Math.log(-e13);
}
function qoe(e13) {
  return -Math.exp(-e13);
}
function Koe(e13) {
  return isFinite(e13) ? +("1e" + e13) : e13 < 0 ? 0 : e13;
}
function Zoe(e13) {
  return e13 === 10 ? Koe : e13 === Math.E ? Math.exp : (t) => Math.pow(e13, t);
}
function Qoe(e13) {
  return e13 === Math.E ? Math.log : e13 === 10 && Math.log10 || e13 === 2 && Math.log2 || (e13 = Math.log(e13), (t) => Math.log(t) / e13);
}
function CB(e13) {
  return (t, r) => -e13(-t, r);
}
function XD(e13) {
  const t = e13(IB, PB), r = t.domain;
  let n = 10, i, o;
  function a() {
    return i = Qoe(n), o = Zoe(n), r()[0] < 0 ? (i = CB(i), o = CB(o), e13(Yoe, qoe)) : e13(IB, PB), t;
  }
  return t.base = function(s) {
    return arguments.length ? (n = +s, a()) : n;
  }, t.domain = function(s) {
    return arguments.length ? (r(s), a()) : r();
  }, t.ticks = (s) => {
    const l = r();
    let u = l[0], c = l[l.length - 1];
    const f = c < u;
    f && ([u, c] = [c, u]);
    let h = i(u), d = i(c), p, m;
    const g = s == null ? 10 : +s;
    let v = [];
    if (!(n % 1) && d - h < g) {
      if (h = Math.floor(h), d = Math.ceil(d), u > 0) {
        for (; h <= d; ++h)
          for (p = 1; p < n; ++p)
            if (m = h < 0 ? p / o(-h) : p * o(h), !(m < u)) {
              if (m > c)
                break;
              v.push(m);
            }
      } else
        for (; h <= d; ++h)
          for (p = n - 1; p >= 1; --p)
            if (m = h > 0 ? p / o(-h) : p * o(h), !(m < u)) {
              if (m > c)
                break;
              v.push(m);
            }
      v.length * 2 < g && (v = hu(u, c, g));
    } else
      v = hu(h, d, Math.min(d - h, g)).map(o);
    return f ? v.reverse() : v;
  }, t.tickFormat = (s, l) => {
    if (s == null && (s = 10), l == null && (l = n === 10 ? "s" : ","), typeof l != "function" && (!(n % 1) && (l = id(l)).precision == null && (l.trim = true), l = ro(l)), s === 1 / 0)
      return l;
    const u = Math.max(1, n * s / t.ticks().length);
    return (c) => {
      let f = c / o(Math.round(i(c)));
      return f * n < n - 0.5 && (f *= n), f <= u ? l(c) : "";
    };
  }, t.nice = () => r(Gz(r(), {
    floor: (s) => o(Math.floor(i(s))),
    ceil: (s) => o(Math.ceil(i(s)))
  })), t;
}
function Jl() {
  const e13 = XD(HE()).domain([1, 10]);
  return e13.copy = () => Rv(e13, Jl()).base(e13.base()), xo.apply(e13, arguments), e13;
}
function xB(e13) {
  return function(t) {
    return Math.sign(t) * Math.log1p(Math.abs(t / e13));
  };
}
function kB(e13) {
  return function(t) {
    return Math.sign(t) * Math.expm1(Math.abs(t)) * e13;
  };
}
function WD(e13) {
  var t = 1, r = e13(xB(t), kB(t));
  return r.constant = function(n) {
    return arguments.length ? e13(xB(t = +n), kB(t)) : t;
  }, Ql(r);
}
function zz() {
  var e13 = WD(HE());
  return e13.copy = function() {
    return Rv(e13, zz()).constant(e13.constant());
  }, xo.apply(e13, arguments);
}
function DB(e13) {
  return function(t) {
    return t < 0 ? -Math.pow(-t, e13) : Math.pow(t, e13);
  };
}
function Joe(e13) {
  return e13 < 0 ? -Math.sqrt(-e13) : Math.sqrt(e13);
}
function eae(e13) {
  return e13 < 0 ? -e13 * e13 : e13 * e13;
}
function YD(e13) {
  var t = e13(yi, yi), r = 1;
  function n() {
    return r === 1 ? e13(yi, yi) : r === 0.5 ? e13(Joe, eae) : e13(DB(r), DB(1 / r));
  }
  return t.exponent = function(i) {
    return arguments.length ? (r = +i, n()) : r;
  }, Ql(t);
}
function qD() {
  var e13 = YD(HE());
  return e13.copy = function() {
    return Rv(e13, qD()).exponent(e13.exponent());
  }, xo.apply(e13, arguments), e13;
}
function tae() {
  return qD.apply(null, arguments).exponent(0.5);
}
function RB(e13) {
  return Math.sign(e13) * e13 * e13;
}
function rae(e13) {
  return Math.sign(e13) * Math.sqrt(Math.abs(e13));
}
function Vz() {
  var e13 = VD(), t = [0, 1], r = false, n;
  function i(o) {
    var a = rae(e13(o));
    return isNaN(a) ? n : r ? Math.round(a) : a;
  }
  return i.invert = function(o) {
    return e13.invert(RB(o));
  }, i.domain = function(o) {
    return arguments.length ? (e13.domain(o), i) : e13.domain();
  }, i.range = function(o) {
    return arguments.length ? (e13.range((t = Array.from(o, o0)).map(RB)), i) : t.slice();
  }, i.rangeRound = function(o) {
    return i.range(o).round(true);
  }, i.round = function(o) {
    return arguments.length ? (r = !!o, i) : r;
  }, i.clamp = function(o) {
    return arguments.length ? (e13.clamp(o), i) : e13.clamp();
  }, i.unknown = function(o) {
    return arguments.length ? (n = o, i) : n;
  }, i.copy = function() {
    return Vz(e13.domain(), t).round(r).clamp(e13.clamp()).unknown(n);
  }, xo.apply(i, arguments), Ql(i);
}
function s0() {
  var e13 = [], t = [], r = [], n;
  function i() {
    var a = 0, s = Math.max(1, t.length);
    for (r = new Array(s - 1); ++a < s; )
      r[a - 1] = az(e13, a / s);
    return o;
  }
  function o(a) {
    return a == null || isNaN(a = +a) ? n : t[zu(r, a)];
  }
  return o.invertExtent = function(a) {
    var s = t.indexOf(a);
    return s < 0 ? [NaN, NaN] : [s > 0 ? r[s - 1] : e13[0], s < r.length ? r[s] : e13[e13.length - 1]];
  }, o.domain = function(a) {
    if (!arguments.length)
      return e13.slice();
    e13 = [];
    for (let s of a)
      s != null && !isNaN(s = +s) && e13.push(s);
    return e13.sort(an), i();
  }, o.range = function(a) {
    return arguments.length ? (t = Array.from(a), i()) : t.slice();
  }, o.unknown = function(a) {
    return arguments.length ? (n = a, o) : n;
  }, o.quantiles = function() {
    return r.slice();
  }, o.copy = function() {
    return s0().domain(e13).range(t).unknown(n);
  }, xo.apply(o, arguments);
}
function Xz() {
  var e13 = 0, t = 1, r = 1, n = [0.5], i = [0, 1], o;
  function a(l) {
    return l != null && l <= l ? i[zu(n, l, 0, r)] : o;
  }
  function s() {
    var l = -1;
    for (n = new Array(r); ++l < r; )
      n[l] = ((l + 1) * t - (l - r) * e13) / (r + 1);
    return a;
  }
  return a.domain = function(l) {
    return arguments.length ? ([e13, t] = l, e13 = +e13, t = +t, s()) : [e13, t];
  }, a.range = function(l) {
    return arguments.length ? (r = (i = Array.from(l)).length - 1, s()) : i.slice();
  }, a.invertExtent = function(l) {
    var u = i.indexOf(l);
    return u < 0 ? [NaN, NaN] : u < 1 ? [e13, n[0]] : u >= r ? [n[r - 1], t] : [n[u - 1], n[u]];
  }, a.unknown = function(l) {
    return arguments.length && (o = l), a;
  }, a.thresholds = function() {
    return n.slice();
  }, a.copy = function() {
    return Xz().domain([e13, t]).range(i).unknown(o);
  }, xo.apply(Ql(a), arguments);
}
function Wz() {
  var e13 = [0.5], t = [0, 1], r, n = 1;
  function i(o) {
    return o != null && o <= o ? t[zu(e13, o, 0, n)] : r;
  }
  return i.domain = function(o) {
    return arguments.length ? (e13 = Array.from(o), n = Math.min(e13.length, t.length - 1), i) : e13.slice();
  }, i.range = function(o) {
    return arguments.length ? (t = Array.from(o), n = Math.min(e13.length, t.length - 1), i) : t.slice();
  }, i.invertExtent = function(o) {
    var a = t.indexOf(o);
    return [e13[a - 1], e13[a]];
  }, i.unknown = function(o) {
    return arguments.length ? (r = o, i) : r;
  }, i.copy = function() {
    return Wz().domain(e13).range(t).unknown(r);
  }, xo.apply(i, arguments);
}
var Ew = /* @__PURE__ */ new Date();
var Sw = /* @__PURE__ */ new Date();
function yn(e13, t, r, n) {
  function i(o) {
    return e13(o = arguments.length === 0 ? /* @__PURE__ */ new Date() : /* @__PURE__ */ new Date(+o)), o;
  }
  return i.floor = (o) => (e13(o = /* @__PURE__ */ new Date(+o)), o), i.ceil = (o) => (e13(o = new Date(o - 1)), t(o, 1), e13(o), o), i.round = (o) => {
    const a = i(o), s = i.ceil(o);
    return o - a < s - o ? a : s;
  }, i.offset = (o, a) => (t(o = /* @__PURE__ */ new Date(+o), a == null ? 1 : Math.floor(a)), o), i.range = (o, a, s) => {
    const l = [];
    if (o = i.ceil(o), s = s == null ? 1 : Math.floor(s), !(o < a) || !(s > 0))
      return l;
    let u;
    do
      l.push(u = /* @__PURE__ */ new Date(+o)), t(o, s), e13(o);
    while (u < o && o < a);
    return l;
  }, i.filter = (o) => yn((a) => {
    if (a >= a)
      for (; e13(a), !o(a); )
        a.setTime(a - 1);
  }, (a, s) => {
    if (a >= a)
      if (s < 0)
        for (; ++s <= 0; )
          for (; t(a, -1), !o(a); )
            ;
      else
        for (; --s >= 0; )
          for (; t(a, 1), !o(a); )
            ;
  }), r && (i.count = (o, a) => (Ew.setTime(+o), Sw.setTime(+a), e13(Ew), e13(Sw), Math.floor(r(Ew, Sw))), i.every = (o) => (o = Math.floor(o), !isFinite(o) || !(o > 0) ? null : o > 1 ? i.filter(n ? (a) => n(a) % o === 0 : (a) => i.count(0, a) % o === 0) : i)), i;
}
var l0 = yn(() => {
}, (e13, t) => {
  e13.setTime(+e13 + t);
}, (e13, t) => t - e13);
l0.every = (e13) => (e13 = Math.floor(e13), !isFinite(e13) || !(e13 > 0) ? null : e13 > 1 ? yn((t) => {
  t.setTime(Math.floor(t / e13) * e13);
}, (t, r) => {
  t.setTime(+t + r * e13);
}, (t, r) => (r - t) / e13) : l0);
l0.range;
var ms = 1e3;
var Eo = ms * 60;
var gs = Eo * 60;
var ks = gs * 24;
var KD = ks * 7;
var NB = ks * 30;
var ww = ks * 365;
var Uc = yn((e13) => {
  e13.setTime(e13 - e13.getMilliseconds());
}, (e13, t) => {
  e13.setTime(+e13 + t * ms);
}, (e13, t) => (t - e13) / ms, (e13) => e13.getUTCSeconds());
Uc.range;
var ZD = yn((e13) => {
  e13.setTime(e13 - e13.getMilliseconds() - e13.getSeconds() * ms);
}, (e13, t) => {
  e13.setTime(+e13 + t * Eo);
}, (e13, t) => (t - e13) / Eo, (e13) => e13.getMinutes());
ZD.range;
var QD = yn((e13) => {
  e13.setUTCSeconds(0, 0);
}, (e13, t) => {
  e13.setTime(+e13 + t * Eo);
}, (e13, t) => (t - e13) / Eo, (e13) => e13.getUTCMinutes());
QD.range;
var JD = yn((e13) => {
  e13.setTime(e13 - e13.getMilliseconds() - e13.getSeconds() * ms - e13.getMinutes() * Eo);
}, (e13, t) => {
  e13.setTime(+e13 + t * gs);
}, (e13, t) => (t - e13) / gs, (e13) => e13.getHours());
JD.range;
var eR = yn((e13) => {
  e13.setUTCMinutes(0, 0, 0);
}, (e13, t) => {
  e13.setTime(+e13 + t * gs);
}, (e13, t) => (t - e13) / gs, (e13) => e13.getUTCHours());
eR.range;
var Nv = yn((e13) => e13.setHours(0, 0, 0, 0), (e13, t) => e13.setDate(e13.getDate() + t), (e13, t) => (t - e13 - (t.getTimezoneOffset() - e13.getTimezoneOffset()) * Eo) / ks, (e13) => e13.getDate() - 1);
Nv.range;
var jE = yn((e13) => {
  e13.setUTCHours(0, 0, 0, 0);
}, (e13, t) => {
  e13.setUTCDate(e13.getUTCDate() + t);
}, (e13, t) => (t - e13) / ks, (e13) => e13.getUTCDate() - 1);
jE.range;
var Yz = yn((e13) => {
  e13.setUTCHours(0, 0, 0, 0);
}, (e13, t) => {
  e13.setUTCDate(e13.getUTCDate() + t);
}, (e13, t) => (t - e13) / ks, (e13) => Math.floor(e13 / ks));
Yz.range;
function Wu(e13) {
  return yn((t) => {
    t.setDate(t.getDate() - (t.getDay() + 7 - e13) % 7), t.setHours(0, 0, 0, 0);
  }, (t, r) => {
    t.setDate(t.getDate() + r * 7);
  }, (t, r) => (r - t - (r.getTimezoneOffset() - t.getTimezoneOffset()) * Eo) / KD);
}
var GE = Wu(0);
var c0 = Wu(1);
var nae = Wu(2);
var iae = Wu(3);
var od = Wu(4);
var oae = Wu(5);
var aae = Wu(6);
GE.range;
c0.range;
nae.range;
iae.range;
od.range;
oae.range;
aae.range;
function Yu(e13) {
  return yn((t) => {
    t.setUTCDate(t.getUTCDate() - (t.getUTCDay() + 7 - e13) % 7), t.setUTCHours(0, 0, 0, 0);
  }, (t, r) => {
    t.setUTCDate(t.getUTCDate() + r * 7);
  }, (t, r) => (r - t) / KD);
}
var zE = Yu(0);
var u0 = Yu(1);
var sae = Yu(2);
var lae = Yu(3);
var ad = Yu(4);
var cae = Yu(5);
var uae = Yu(6);
zE.range;
u0.range;
sae.range;
lae.range;
ad.range;
cae.range;
uae.range;
var tR = yn((e13) => {
  e13.setDate(1), e13.setHours(0, 0, 0, 0);
}, (e13, t) => {
  e13.setMonth(e13.getMonth() + t);
}, (e13, t) => t.getMonth() - e13.getMonth() + (t.getFullYear() - e13.getFullYear()) * 12, (e13) => e13.getMonth());
tR.range;
var rR = yn((e13) => {
  e13.setUTCDate(1), e13.setUTCHours(0, 0, 0, 0);
}, (e13, t) => {
  e13.setUTCMonth(e13.getUTCMonth() + t);
}, (e13, t) => t.getUTCMonth() - e13.getUTCMonth() + (t.getUTCFullYear() - e13.getUTCFullYear()) * 12, (e13) => e13.getUTCMonth());
rR.range;
var Ds = yn((e13) => {
  e13.setMonth(0, 1), e13.setHours(0, 0, 0, 0);
}, (e13, t) => {
  e13.setFullYear(e13.getFullYear() + t);
}, (e13, t) => t.getFullYear() - e13.getFullYear(), (e13) => e13.getFullYear());
Ds.every = (e13) => !isFinite(e13 = Math.floor(e13)) || !(e13 > 0) ? null : yn((t) => {
  t.setFullYear(Math.floor(t.getFullYear() / e13) * e13), t.setMonth(0, 1), t.setHours(0, 0, 0, 0);
}, (t, r) => {
  t.setFullYear(t.getFullYear() + r * e13);
});
Ds.range;
var Rs = yn((e13) => {
  e13.setUTCMonth(0, 1), e13.setUTCHours(0, 0, 0, 0);
}, (e13, t) => {
  e13.setUTCFullYear(e13.getUTCFullYear() + t);
}, (e13, t) => t.getUTCFullYear() - e13.getUTCFullYear(), (e13) => e13.getUTCFullYear());
Rs.every = (e13) => !isFinite(e13 = Math.floor(e13)) || !(e13 > 0) ? null : yn((t) => {
  t.setUTCFullYear(Math.floor(t.getUTCFullYear() / e13) * e13), t.setUTCMonth(0, 1), t.setUTCHours(0, 0, 0, 0);
}, (t, r) => {
  t.setUTCFullYear(t.getUTCFullYear() + r * e13);
});
Rs.range;
function qz(e13, t, r, n, i, o) {
  const a = [[Uc, 1, ms], [Uc, 5, 5 * ms], [Uc, 15, 15 * ms], [Uc, 30, 30 * ms], [o, 1, Eo], [o, 5, 5 * Eo], [o, 15, 15 * Eo], [o, 30, 30 * Eo], [i, 1, gs], [i, 3, 3 * gs], [i, 6, 6 * gs], [i, 12, 12 * gs], [n, 1, ks], [n, 2, 2 * ks], [r, 1, KD], [t, 1, NB], [t, 3, 3 * NB], [e13, 1, ww]];
  function s(u, c, f) {
    const h = c < u;
    h && ([u, c] = [c, u]);
    const d = f && typeof f.range == "function" ? f : l(u, c, f), p = d ? d.range(u, +c + 1) : [];
    return h ? p.reverse() : p;
  }
  function l(u, c, f) {
    const h = Math.abs(c - u) / f, d = qd(([, , g]) => g).right(a, h);
    if (d === a.length)
      return e13.every(r0(u / ww, c / ww, f));
    if (d === 0)
      return l0.every(Math.max(r0(u, c, f), 1));
    const [p, m] = a[h / a[d - 1][2] < a[d][2] / h ? d - 1 : d];
    return p.every(m);
  }
  return [s, l];
}
var [hae, fae] = qz(Rs, rR, zE, Yz, eR, QD);
var [dae, pae] = qz(Ds, tR, GE, Nv, JD, ZD);
function Aw(e13) {
  if (0 <= e13.y && e13.y < 100) {
    var t = new Date(-1, e13.m, e13.d, e13.H, e13.M, e13.S, e13.L);
    return t.setFullYear(e13.y), t;
  }
  return new Date(e13.y, e13.m, e13.d, e13.H, e13.M, e13.S, e13.L);
}
function Ow(e13) {
  if (0 <= e13.y && e13.y < 100) {
    var t = new Date(Date.UTC(-1, e13.m, e13.d, e13.H, e13.M, e13.S, e13.L));
    return t.setUTCFullYear(e13.y), t;
  }
  return new Date(Date.UTC(e13.y, e13.m, e13.d, e13.H, e13.M, e13.S, e13.L));
}
function Bp(e13, t, r) {
  return {
    y: e13,
    m: t,
    d: r,
    H: 0,
    M: 0,
    S: 0,
    L: 0
  };
}
function mae(e13) {
  var t = e13.dateTime, r = e13.date, n = e13.time, i = e13.periods, o = e13.days, a = e13.shortDays, s = e13.months, l = e13.shortMonths, u = Fp(i), c = $p(i), f = Fp(o), h = $p(o), d = Fp(a), p = $p(a), m = Fp(s), g = $p(s), v = Fp(l), b = $p(l), y = {
    a: $,
    A: K,
    b: ie,
    B: J,
    c: null,
    d: HB,
    e: HB,
    f: Fae,
    g: Yae,
    G: Kae,
    H: Mae,
    I: Lae,
    j: Bae,
    L: Kz,
    m: $ae,
    M: Hae,
    p: pe,
    q: oe,
    Q: GB,
    s: zB,
    S: Uae,
    u: jae,
    U: Gae,
    V: zae,
    w: Vae,
    W: Xae,
    x: null,
    X: null,
    y: Wae,
    Y: qae,
    Z: Zae,
    "%": jB
  }, _ = {
    a: q,
    A: W,
    b: se,
    B: Te,
    c: null,
    d: UB,
    e: UB,
    f: tse,
    g: hse,
    G: dse,
    H: Qae,
    I: Jae,
    j: ese,
    L: Qz,
    m: rse,
    M: nse,
    p: Ae,
    q: Re,
    Q: GB,
    s: zB,
    S: ise,
    u: ose,
    U: ase,
    V: sse,
    w: lse,
    W: cse,
    x: null,
    X: null,
    y: use,
    Y: fse,
    Z: pse,
    "%": jB
  }, T = {
    a: C,
    A: w,
    b: N,
    B: L,
    c: A,
    d: FB,
    e: FB,
    f: kae,
    g: BB,
    G: LB,
    H: $B,
    I: $B,
    j: Iae,
    L: xae,
    m: Oae,
    M: Pae,
    p: P,
    q: Aae,
    Q: Rae,
    s: Nae,
    S: Cae,
    u: bae,
    U: Tae,
    V: Eae,
    w: _ae,
    W: Sae,
    x: R,
    X: F,
    y: BB,
    Y: LB,
    Z: wae,
    "%": Dae
  };
  y.x = E(r, y), y.X = E(n, y), y.c = E(t, y), _.x = E(r, _), _.X = E(n, _), _.c = E(t, _);
  function E(Ee, Me) {
    return function(Ne) {
      var Oe = [], Fe = -1, Ue = 0, et = Ee.length, ot, Ke, ht;
      for (Ne instanceof Date || (Ne = /* @__PURE__ */ new Date(+Ne)); ++Fe < et; )
        Ee.charCodeAt(Fe) === 37 && (Oe.push(Ee.slice(Ue, Fe)), (Ke = MB[ot = Ee.charAt(++Fe)]) != null ? ot = Ee.charAt(++Fe) : Ke = ot === "e" ? " " : "0", (ht = Me[ot]) && (ot = ht(Ne, Ke)), Oe.push(ot), Ue = Fe + 1);
      return Oe.push(Ee.slice(Ue, Fe)), Oe.join("");
    };
  }
  function O(Ee, Me) {
    return function(Ne) {
      var Oe = Bp(1900, void 0, 1), Fe = S(Oe, Ee, Ne += "", 0), Ue, et;
      if (Fe != Ne.length)
        return null;
      if ("Q" in Oe)
        return new Date(Oe.Q);
      if ("s" in Oe)
        return new Date(Oe.s * 1e3 + ("L" in Oe ? Oe.L : 0));
      if (Me && !("Z" in Oe) && (Oe.Z = 0), "p" in Oe && (Oe.H = Oe.H % 12 + Oe.p * 12), Oe.m === void 0 && (Oe.m = "q" in Oe ? Oe.q : 0), "V" in Oe) {
        if (Oe.V < 1 || Oe.V > 53)
          return null;
        "w" in Oe || (Oe.w = 1), "Z" in Oe ? (Ue = Ow(Bp(Oe.y, 0, 1)), et = Ue.getUTCDay(), Ue = et > 4 || et === 0 ? u0.ceil(Ue) : u0(Ue), Ue = jE.offset(Ue, (Oe.V - 1) * 7), Oe.y = Ue.getUTCFullYear(), Oe.m = Ue.getUTCMonth(), Oe.d = Ue.getUTCDate() + (Oe.w + 6) % 7) : (Ue = Aw(Bp(Oe.y, 0, 1)), et = Ue.getDay(), Ue = et > 4 || et === 0 ? c0.ceil(Ue) : c0(Ue), Ue = Nv.offset(Ue, (Oe.V - 1) * 7), Oe.y = Ue.getFullYear(), Oe.m = Ue.getMonth(), Oe.d = Ue.getDate() + (Oe.w + 6) % 7);
      } else ("W" in Oe || "U" in Oe) && ("w" in Oe || (Oe.w = "u" in Oe ? Oe.u % 7 : "W" in Oe ? 1 : 0), et = "Z" in Oe ? Ow(Bp(Oe.y, 0, 1)).getUTCDay() : Aw(Bp(Oe.y, 0, 1)).getDay(), Oe.m = 0, Oe.d = "W" in Oe ? (Oe.w + 6) % 7 + Oe.W * 7 - (et + 5) % 7 : Oe.w + Oe.U * 7 - (et + 6) % 7);
      return "Z" in Oe ? (Oe.H += Oe.Z / 100 | 0, Oe.M += Oe.Z % 100, Ow(Oe)) : Aw(Oe);
    };
  }
  function S(Ee, Me, Ne, Oe) {
    for (var Fe = 0, Ue = Me.length, et = Ne.length, ot, Ke; Fe < Ue; ) {
      if (Oe >= et)
        return -1;
      if (ot = Me.charCodeAt(Fe++), ot === 37) {
        if (ot = Me.charAt(Fe++), Ke = T[ot in MB ? Me.charAt(Fe++) : ot], !Ke || (Oe = Ke(Ee, Ne, Oe)) < 0)
          return -1;
      } else if (ot != Ne.charCodeAt(Oe++))
        return -1;
    }
    return Oe;
  }
  function P(Ee, Me, Ne) {
    var Oe = u.exec(Me.slice(Ne));
    return Oe ? (Ee.p = c.get(Oe[0].toLowerCase()), Ne + Oe[0].length) : -1;
  }
  function C(Ee, Me, Ne) {
    var Oe = d.exec(Me.slice(Ne));
    return Oe ? (Ee.w = p.get(Oe[0].toLowerCase()), Ne + Oe[0].length) : -1;
  }
  function w(Ee, Me, Ne) {
    var Oe = f.exec(Me.slice(Ne));
    return Oe ? (Ee.w = h.get(Oe[0].toLowerCase()), Ne + Oe[0].length) : -1;
  }
  function N(Ee, Me, Ne) {
    var Oe = v.exec(Me.slice(Ne));
    return Oe ? (Ee.m = b.get(Oe[0].toLowerCase()), Ne + Oe[0].length) : -1;
  }
  function L(Ee, Me, Ne) {
    var Oe = m.exec(Me.slice(Ne));
    return Oe ? (Ee.m = g.get(Oe[0].toLowerCase()), Ne + Oe[0].length) : -1;
  }
  function A(Ee, Me, Ne) {
    return S(Ee, t, Me, Ne);
  }
  function R(Ee, Me, Ne) {
    return S(Ee, r, Me, Ne);
  }
  function F(Ee, Me, Ne) {
    return S(Ee, n, Me, Ne);
  }
  function $(Ee) {
    return a[Ee.getDay()];
  }
  function K(Ee) {
    return o[Ee.getDay()];
  }
  function ie(Ee) {
    return l[Ee.getMonth()];
  }
  function J(Ee) {
    return s[Ee.getMonth()];
  }
  function pe(Ee) {
    return i[+(Ee.getHours() >= 12)];
  }
  function oe(Ee) {
    return 1 + ~~(Ee.getMonth() / 3);
  }
  function q(Ee) {
    return a[Ee.getUTCDay()];
  }
  function W(Ee) {
    return o[Ee.getUTCDay()];
  }
  function se(Ee) {
    return l[Ee.getUTCMonth()];
  }
  function Te(Ee) {
    return s[Ee.getUTCMonth()];
  }
  function Ae(Ee) {
    return i[+(Ee.getUTCHours() >= 12)];
  }
  function Re(Ee) {
    return 1 + ~~(Ee.getUTCMonth() / 3);
  }
  return {
    format: function(Ee) {
      var Me = E(Ee += "", y);
      return Me.toString = function() {
        return Ee;
      }, Me;
    },
    parse: function(Ee) {
      var Me = O(Ee += "", false);
      return Me.toString = function() {
        return Ee;
      }, Me;
    },
    utcFormat: function(Ee) {
      var Me = E(Ee += "", _);
      return Me.toString = function() {
        return Ee;
      }, Me;
    },
    utcParse: function(Ee) {
      var Me = O(Ee += "", true);
      return Me.toString = function() {
        return Ee;
      }, Me;
    }
  };
}
var MB = {
  "-": "",
  _: " ",
  0: "0"
};
var Pn = /^\s*\d+/;
var gae = /^%/;
var vae = /[\\^$*+?|[\]().{}]/g;
function lr(e13, t, r) {
  var n = e13 < 0 ? "-" : "", i = (n ? -e13 : e13) + "", o = i.length;
  return n + (o < r ? new Array(r - o + 1).join(t) + i : i);
}
function yae(e13) {
  return e13.replace(vae, "\\$&");
}
function Fp(e13) {
  return new RegExp("^(?:" + e13.map(yae).join("|") + ")", "i");
}
function $p(e13) {
  return new Map(e13.map((t, r) => [t.toLowerCase(), r]));
}
function _ae(e13, t, r) {
  var n = Pn.exec(t.slice(r, r + 1));
  return n ? (e13.w = +n[0], r + n[0].length) : -1;
}
function bae(e13, t, r) {
  var n = Pn.exec(t.slice(r, r + 1));
  return n ? (e13.u = +n[0], r + n[0].length) : -1;
}
function Tae(e13, t, r) {
  var n = Pn.exec(t.slice(r, r + 2));
  return n ? (e13.U = +n[0], r + n[0].length) : -1;
}
function Eae(e13, t, r) {
  var n = Pn.exec(t.slice(r, r + 2));
  return n ? (e13.V = +n[0], r + n[0].length) : -1;
}
function Sae(e13, t, r) {
  var n = Pn.exec(t.slice(r, r + 2));
  return n ? (e13.W = +n[0], r + n[0].length) : -1;
}
function LB(e13, t, r) {
  var n = Pn.exec(t.slice(r, r + 4));
  return n ? (e13.y = +n[0], r + n[0].length) : -1;
}
function BB(e13, t, r) {
  var n = Pn.exec(t.slice(r, r + 2));
  return n ? (e13.y = +n[0] + (+n[0] > 68 ? 1900 : 2e3), r + n[0].length) : -1;
}
function wae(e13, t, r) {
  var n = /^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r, r + 6));
  return n ? (e13.Z = n[1] ? 0 : -(n[2] + (n[3] || "00")), r + n[0].length) : -1;
}
function Aae(e13, t, r) {
  var n = Pn.exec(t.slice(r, r + 1));
  return n ? (e13.q = n[0] * 3 - 3, r + n[0].length) : -1;
}
function Oae(e13, t, r) {
  var n = Pn.exec(t.slice(r, r + 2));
  return n ? (e13.m = n[0] - 1, r + n[0].length) : -1;
}
function FB(e13, t, r) {
  var n = Pn.exec(t.slice(r, r + 2));
  return n ? (e13.d = +n[0], r + n[0].length) : -1;
}
function Iae(e13, t, r) {
  var n = Pn.exec(t.slice(r, r + 3));
  return n ? (e13.m = 0, e13.d = +n[0], r + n[0].length) : -1;
}
function $B(e13, t, r) {
  var n = Pn.exec(t.slice(r, r + 2));
  return n ? (e13.H = +n[0], r + n[0].length) : -1;
}
function Pae(e13, t, r) {
  var n = Pn.exec(t.slice(r, r + 2));
  return n ? (e13.M = +n[0], r + n[0].length) : -1;
}
function Cae(e13, t, r) {
  var n = Pn.exec(t.slice(r, r + 2));
  return n ? (e13.S = +n[0], r + n[0].length) : -1;
}
function xae(e13, t, r) {
  var n = Pn.exec(t.slice(r, r + 3));
  return n ? (e13.L = +n[0], r + n[0].length) : -1;
}
function kae(e13, t, r) {
  var n = Pn.exec(t.slice(r, r + 6));
  return n ? (e13.L = Math.floor(n[0] / 1e3), r + n[0].length) : -1;
}
function Dae(e13, t, r) {
  var n = gae.exec(t.slice(r, r + 1));
  return n ? r + n[0].length : -1;
}
function Rae(e13, t, r) {
  var n = Pn.exec(t.slice(r));
  return n ? (e13.Q = +n[0], r + n[0].length) : -1;
}
function Nae(e13, t, r) {
  var n = Pn.exec(t.slice(r));
  return n ? (e13.s = +n[0], r + n[0].length) : -1;
}
function HB(e13, t) {
  return lr(e13.getDate(), t, 2);
}
function Mae(e13, t) {
  return lr(e13.getHours(), t, 2);
}
function Lae(e13, t) {
  return lr(e13.getHours() % 12 || 12, t, 2);
}
function Bae(e13, t) {
  return lr(1 + Nv.count(Ds(e13), e13), t, 3);
}
function Kz(e13, t) {
  return lr(e13.getMilliseconds(), t, 3);
}
function Fae(e13, t) {
  return Kz(e13, t) + "000";
}
function $ae(e13, t) {
  return lr(e13.getMonth() + 1, t, 2);
}
function Hae(e13, t) {
  return lr(e13.getMinutes(), t, 2);
}
function Uae(e13, t) {
  return lr(e13.getSeconds(), t, 2);
}
function jae(e13) {
  var t = e13.getDay();
  return t === 0 ? 7 : t;
}
function Gae(e13, t) {
  return lr(GE.count(Ds(e13) - 1, e13), t, 2);
}
function Zz(e13) {
  var t = e13.getDay();
  return t >= 4 || t === 0 ? od(e13) : od.ceil(e13);
}
function zae(e13, t) {
  return e13 = Zz(e13), lr(od.count(Ds(e13), e13) + (Ds(e13).getDay() === 4), t, 2);
}
function Vae(e13) {
  return e13.getDay();
}
function Xae(e13, t) {
  return lr(c0.count(Ds(e13) - 1, e13), t, 2);
}
function Wae(e13, t) {
  return lr(e13.getFullYear() % 100, t, 2);
}
function Yae(e13, t) {
  return e13 = Zz(e13), lr(e13.getFullYear() % 100, t, 2);
}
function qae(e13, t) {
  return lr(e13.getFullYear() % 1e4, t, 4);
}
function Kae(e13, t) {
  var r = e13.getDay();
  return e13 = r >= 4 || r === 0 ? od(e13) : od.ceil(e13), lr(e13.getFullYear() % 1e4, t, 4);
}
function Zae(e13) {
  var t = e13.getTimezoneOffset();
  return (t > 0 ? "-" : (t *= -1, "+")) + lr(t / 60 | 0, "0", 2) + lr(t % 60, "0", 2);
}
function UB(e13, t) {
  return lr(e13.getUTCDate(), t, 2);
}
function Qae(e13, t) {
  return lr(e13.getUTCHours(), t, 2);
}
function Jae(e13, t) {
  return lr(e13.getUTCHours() % 12 || 12, t, 2);
}
function ese(e13, t) {
  return lr(1 + jE.count(Rs(e13), e13), t, 3);
}
function Qz(e13, t) {
  return lr(e13.getUTCMilliseconds(), t, 3);
}
function tse(e13, t) {
  return Qz(e13, t) + "000";
}
function rse(e13, t) {
  return lr(e13.getUTCMonth() + 1, t, 2);
}
function nse(e13, t) {
  return lr(e13.getUTCMinutes(), t, 2);
}
function ise(e13, t) {
  return lr(e13.getUTCSeconds(), t, 2);
}
function ose(e13) {
  var t = e13.getUTCDay();
  return t === 0 ? 7 : t;
}
function ase(e13, t) {
  return lr(zE.count(Rs(e13) - 1, e13), t, 2);
}
function Jz(e13) {
  var t = e13.getUTCDay();
  return t >= 4 || t === 0 ? ad(e13) : ad.ceil(e13);
}
function sse(e13, t) {
  return e13 = Jz(e13), lr(ad.count(Rs(e13), e13) + (Rs(e13).getUTCDay() === 4), t, 2);
}
function lse(e13) {
  return e13.getUTCDay();
}
function cse(e13, t) {
  return lr(u0.count(Rs(e13) - 1, e13), t, 2);
}
function use(e13, t) {
  return lr(e13.getUTCFullYear() % 100, t, 2);
}
function hse(e13, t) {
  return e13 = Jz(e13), lr(e13.getUTCFullYear() % 100, t, 2);
}
function fse(e13, t) {
  return lr(e13.getUTCFullYear() % 1e4, t, 4);
}
function dse(e13, t) {
  var r = e13.getUTCDay();
  return e13 = r >= 4 || r === 0 ? ad(e13) : ad.ceil(e13), lr(e13.getUTCFullYear() % 1e4, t, 4);
}
function pse() {
  return "+0000";
}
function jB() {
  return "%";
}
function GB(e13) {
  return +e13;
}
function zB(e13) {
  return Math.floor(+e13 / 1e3);
}
var _h;
var e8;
var t8;
mse({
  dateTime: "%x, %X",
  date: "%-m/%-d/%Y",
  time: "%-I:%M:%S %p",
  periods: ["AM", "PM"],
  days: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
  shortDays: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
  months: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
  shortMonths: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"]
});
function mse(e13) {
  return _h = mae(e13), e8 = _h.format, _h.parse, t8 = _h.utcFormat, _h.utcParse, _h;
}
function gse(e13) {
  return new Date(e13);
}
function vse(e13) {
  return e13 instanceof Date ? +e13 : +/* @__PURE__ */ new Date(+e13);
}
function nR(e13, t, r, n, i, o, a, s, l, u) {
  var c = VD(), f = c.invert, h = c.domain, d = u(".%L"), p = u(":%S"), m = u("%I:%M"), g = u("%I %p"), v = u("%a %d"), b = u("%b %d"), y = u("%B"), _ = u("%Y");
  function T(E) {
    return (l(E) < E ? d : s(E) < E ? p : a(E) < E ? m : o(E) < E ? g : n(E) < E ? i(E) < E ? v : b : r(E) < E ? y : _)(E);
  }
  return c.invert = function(E) {
    return new Date(f(E));
  }, c.domain = function(E) {
    return arguments.length ? h(Array.from(E, vse)) : h().map(gse);
  }, c.ticks = function(E) {
    var O = h();
    return e13(O[0], O[O.length - 1], E ?? 10);
  }, c.tickFormat = function(E, O) {
    return O == null ? T : u(O);
  }, c.nice = function(E) {
    var O = h();
    return (!E || typeof E.range != "function") && (E = t(O[0], O[O.length - 1], E ?? 10)), E ? h(Gz(O, E)) : c;
  }, c.copy = function() {
    return Rv(c, nR(e13, t, r, n, i, o, a, s, l, u));
  }, c;
}
function yse() {
  return xo.apply(nR(dae, pae, Ds, tR, GE, Nv, JD, ZD, Uc, e8).domain([new Date(2e3, 0, 1), new Date(2e3, 0, 2)]), arguments);
}
function _se() {
  return xo.apply(nR(hae, fae, Rs, rR, zE, jE, eR, QD, Uc, t8).domain([Date.UTC(2e3, 0, 1), Date.UTC(2e3, 0, 2)]), arguments);
}
function VE() {
  var e13 = 0, t = 1, r, n, i, o, a = yi, s = false, l;
  function u(f) {
    return f == null || isNaN(f = +f) ? l : a(i === 0 ? 0.5 : (f = (o(f) - r) * i, s ? Math.max(0, Math.min(1, f)) : f));
  }
  u.domain = function(f) {
    return arguments.length ? ([e13, t] = f, r = o(e13 = +e13), n = o(t = +t), i = r === n ? 0 : 1 / (n - r), u) : [e13, t];
  }, u.clamp = function(f) {
    return arguments.length ? (s = !!f, u) : s;
  }, u.interpolator = function(f) {
    return arguments.length ? (a = f, u) : a;
  };
  function c(f) {
    return function(h) {
      var d, p;
      return arguments.length ? ([d, p] = h, a = f(d, p), u) : [a(0), a(1)];
    };
  }
  return u.range = c(Vu), u.rangeRound = c(zD), u.unknown = function(f) {
    return arguments.length ? (l = f, u) : l;
  }, function(f) {
    return o = f, r = f(e13), n = f(t), i = r === n ? 0 : 1 / (n - r), u;
  };
}
function ec(e13, t) {
  return t.domain(e13.domain()).interpolator(e13.interpolator()).clamp(e13.clamp()).unknown(e13.unknown());
}
function r8() {
  var e13 = Ql(VE()(yi));
  return e13.copy = function() {
    return ec(e13, r8());
  }, js.apply(e13, arguments);
}
function n8() {
  var e13 = XD(VE()).domain([1, 10]);
  return e13.copy = function() {
    return ec(e13, n8()).base(e13.base());
  }, js.apply(e13, arguments);
}
function i8() {
  var e13 = WD(VE());
  return e13.copy = function() {
    return ec(e13, i8()).constant(e13.constant());
  }, js.apply(e13, arguments);
}
function iR() {
  var e13 = YD(VE());
  return e13.copy = function() {
    return ec(e13, iR()).exponent(e13.exponent());
  }, js.apply(e13, arguments);
}
function bse() {
  return iR.apply(null, arguments).exponent(0.5);
}
function o8() {
  var e13 = [], t = yi;
  function r(n) {
    if (n != null && !isNaN(n = +n))
      return t((zu(e13, n, 1) - 1) / (e13.length - 1));
  }
  return r.domain = function(n) {
    if (!arguments.length)
      return e13.slice();
    e13 = [];
    for (let i of n)
      i != null && !isNaN(i = +i) && e13.push(i);
    return e13.sort(an), r;
  }, r.interpolator = function(n) {
    return arguments.length ? (t = n, r) : t;
  }, r.range = function() {
    return e13.map((n, i) => t(i / (e13.length - 1)));
  }, r.quantiles = function(n) {
    return Array.from({
      length: n + 1
    }, (i, o) => Vg(e13, o / n));
  }, r.copy = function() {
    return o8(t).domain(e13);
  }, js.apply(r, arguments);
}
function XE() {
  var e13 = 0, t = 0.5, r = 1, n = 1, i, o, a, s, l, u = yi, c, f = false, h;
  function d(m) {
    return isNaN(m = +m) ? h : (m = 0.5 + ((m = +c(m)) - o) * (n * m < n * o ? s : l), u(f ? Math.max(0, Math.min(1, m)) : m));
  }
  d.domain = function(m) {
    return arguments.length ? ([e13, t, r] = m, i = c(e13 = +e13), o = c(t = +t), a = c(r = +r), s = i === o ? 0 : 0.5 / (o - i), l = o === a ? 0 : 0.5 / (a - o), n = o < i ? -1 : 1, d) : [e13, t, r];
  }, d.clamp = function(m) {
    return arguments.length ? (f = !!m, d) : f;
  }, d.interpolator = function(m) {
    return arguments.length ? (u = m, d) : u;
  };
  function p(m) {
    return function(g) {
      var v, b, y;
      return arguments.length ? ([v, b, y] = g, u = Loe(m, [v, b, y]), d) : [u(0), u(0.5), u(1)];
    };
  }
  return d.range = p(Vu), d.rangeRound = p(zD), d.unknown = function(m) {
    return arguments.length ? (h = m, d) : h;
  }, function(m) {
    return c = m, i = m(e13), o = m(t), a = m(r), s = i === o ? 0 : 0.5 / (o - i), l = o === a ? 0 : 0.5 / (a - o), n = o < i ? -1 : 1, d;
  };
}
function a8() {
  var e13 = Ql(XE()(yi));
  return e13.copy = function() {
    return ec(e13, a8());
  }, js.apply(e13, arguments);
}
function s8() {
  var e13 = XD(XE()).domain([0.1, 1, 10]);
  return e13.copy = function() {
    return ec(e13, s8()).base(e13.base());
  }, js.apply(e13, arguments);
}
function l8() {
  var e13 = WD(XE());
  return e13.copy = function() {
    return ec(e13, l8()).constant(e13.constant());
  }, js.apply(e13, arguments);
}
function oR() {
  var e13 = YD(XE());
  return e13.copy = function() {
    return ec(e13, oR()).exponent(e13.exponent());
  }, js.apply(e13, arguments);
}
function Tse() {
  return oR.apply(null, arguments).exponent(0.5);
}
var Ese = Object.freeze(Object.defineProperty({
  __proto__: null,
  scaleBand: kv,
  scaleDiverging: a8,
  scaleDivergingLog: s8,
  scaleDivergingPow: oR,
  scaleDivergingSqrt: Tse,
  scaleDivergingSymlog: l8,
  scaleIdentity: jz,
  scaleImplicit: ZI,
  scaleLinear: It,
  scaleLog: Jl,
  scaleOrdinal: FD,
  scalePoint: aoe,
  scalePow: qD,
  scaleQuantile: s0,
  scaleQuantize: Xz,
  scaleRadial: Vz,
  scaleSequential: r8,
  scaleSequentialLog: n8,
  scaleSequentialPow: iR,
  scaleSequentialQuantile: o8,
  scaleSequentialSqrt: bse,
  scaleSequentialSymlog: i8,
  scaleSqrt: tae,
  scaleSymlog: zz,
  scaleThreshold: Wz,
  scaleTime: yse,
  scaleUtc: _se,
  tickFormat: Uz
}, Symbol.toStringTag, { value: "Module" }));
var Mv = {};
var qy;
var Sse = new Uint8Array(16);
function c8() {
  if (!qy && (qy = typeof crypto < "u" && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto < "u" && typeof msCrypto.getRandomValues == "function" && msCrypto.getRandomValues.bind(msCrypto), !qy))
    throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");
  return qy(Sse);
}
var wse = /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;
function WE(e13) {
  return typeof e13 == "string" && wse.test(e13);
}
var kn = [];
for (Iw = 0; Iw < 256; ++Iw)
  kn.push((Iw + 256).toString(16).substr(1));
var Iw;
function YE(e13) {
  var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0, r = (kn[e13[t + 0]] + kn[e13[t + 1]] + kn[e13[t + 2]] + kn[e13[t + 3]] + "-" + kn[e13[t + 4]] + kn[e13[t + 5]] + "-" + kn[e13[t + 6]] + kn[e13[t + 7]] + "-" + kn[e13[t + 8]] + kn[e13[t + 9]] + "-" + kn[e13[t + 10]] + kn[e13[t + 11]] + kn[e13[t + 12]] + kn[e13[t + 13]] + kn[e13[t + 14]] + kn[e13[t + 15]]).toLowerCase();
  if (!WE(r))
    throw TypeError("Stringified UUID is invalid");
  return r;
}
var VB;
var Pw;
var Cw = 0;
var xw = 0;
function Ase(e13, t, r) {
  var n = t && r || 0, i = t || new Array(16);
  e13 = e13 || {};
  var o = e13.node || VB, a = e13.clockseq !== void 0 ? e13.clockseq : Pw;
  if (o == null || a == null) {
    var s = e13.random || (e13.rng || c8)();
    o == null && (o = VB = [s[0] | 1, s[1], s[2], s[3], s[4], s[5]]), a == null && (a = Pw = (s[6] << 8 | s[7]) & 16383);
  }
  var l = e13.msecs !== void 0 ? e13.msecs : Date.now(), u = e13.nsecs !== void 0 ? e13.nsecs : xw + 1, c = l - Cw + (u - xw) / 1e4;
  if (c < 0 && e13.clockseq === void 0 && (a = a + 1 & 16383), (c < 0 || l > Cw) && e13.nsecs === void 0 && (u = 0), u >= 1e4)
    throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");
  Cw = l, xw = u, Pw = a, l += 122192928e5;
  var f = ((l & 268435455) * 1e4 + u) % 4294967296;
  i[n++] = f >>> 24 & 255, i[n++] = f >>> 16 & 255, i[n++] = f >>> 8 & 255, i[n++] = f & 255;
  var h = l / 4294967296 * 1e4 & 268435455;
  i[n++] = h >>> 8 & 255, i[n++] = h & 255, i[n++] = h >>> 24 & 15 | 16, i[n++] = h >>> 16 & 255, i[n++] = a >>> 8 | 128, i[n++] = a & 255;
  for (var d = 0; d < 6; ++d)
    i[n + d] = o[d];
  return t || YE(i);
}
function u8(e13) {
  if (!WE(e13))
    throw TypeError("Invalid UUID");
  var t, r = new Uint8Array(16);
  return r[0] = (t = parseInt(e13.slice(0, 8), 16)) >>> 24, r[1] = t >>> 16 & 255, r[2] = t >>> 8 & 255, r[3] = t & 255, r[4] = (t = parseInt(e13.slice(9, 13), 16)) >>> 8, r[5] = t & 255, r[6] = (t = parseInt(e13.slice(14, 18), 16)) >>> 8, r[7] = t & 255, r[8] = (t = parseInt(e13.slice(19, 23), 16)) >>> 8, r[9] = t & 255, r[10] = (t = parseInt(e13.slice(24, 36), 16)) / 1099511627776 & 255, r[11] = t / 4294967296 & 255, r[12] = t >>> 24 & 255, r[13] = t >>> 16 & 255, r[14] = t >>> 8 & 255, r[15] = t & 255, r;
}
function Ose(e13) {
  e13 = unescape(encodeURIComponent(e13));
  for (var t = [], r = 0; r < e13.length; ++r)
    t.push(e13.charCodeAt(r));
  return t;
}
var Ise = "6ba7b810-9dad-11d1-80b4-00c04fd430c8";
var Pse = "6ba7b811-9dad-11d1-80b4-00c04fd430c8";
function h8(e13, t, r) {
  function n(i, o, a, s) {
    if (typeof i == "string" && (i = Ose(i)), typeof o == "string" && (o = u8(o)), o.length !== 16)
      throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");
    var l = new Uint8Array(16 + i.length);
    if (l.set(o), l.set(i, o.length), l = r(l), l[6] = l[6] & 15 | t, l[8] = l[8] & 63 | 128, a) {
      s = s || 0;
      for (var u = 0; u < 16; ++u)
        a[s + u] = l[u];
      return a;
    }
    return YE(l);
  }
  try {
    n.name = e13;
  } catch {
  }
  return n.DNS = Ise, n.URL = Pse, n;
}
function Cse(e13) {
  if (typeof e13 == "string") {
    var t = unescape(encodeURIComponent(e13));
    e13 = new Uint8Array(t.length);
    for (var r = 0; r < t.length; ++r)
      e13[r] = t.charCodeAt(r);
  }
  return xse(kse(Dse(e13), e13.length * 8));
}
function xse(e13) {
  for (var t = [], r = e13.length * 32, n = "0123456789abcdef", i = 0; i < r; i += 8) {
    var o = e13[i >> 5] >>> i % 32 & 255, a = parseInt(n.charAt(o >>> 4 & 15) + n.charAt(o & 15), 16);
    t.push(a);
  }
  return t;
}
function f8(e13) {
  return (e13 + 64 >>> 9 << 4) + 14 + 1;
}
function kse(e13, t) {
  e13[t >> 5] |= 128 << t % 32, e13[f8(t) - 1] = t;
  for (var r = 1732584193, n = -271733879, i = -1732584194, o = 271733878, a = 0; a < e13.length; a += 16) {
    var s = r, l = n, u = i, c = o;
    r = Xn(r, n, i, o, e13[a], 7, -680876936), o = Xn(o, r, n, i, e13[a + 1], 12, -389564586), i = Xn(i, o, r, n, e13[a + 2], 17, 606105819), n = Xn(n, i, o, r, e13[a + 3], 22, -1044525330), r = Xn(r, n, i, o, e13[a + 4], 7, -176418897), o = Xn(o, r, n, i, e13[a + 5], 12, 1200080426), i = Xn(i, o, r, n, e13[a + 6], 17, -1473231341), n = Xn(n, i, o, r, e13[a + 7], 22, -45705983), r = Xn(r, n, i, o, e13[a + 8], 7, 1770035416), o = Xn(o, r, n, i, e13[a + 9], 12, -1958414417), i = Xn(i, o, r, n, e13[a + 10], 17, -42063), n = Xn(n, i, o, r, e13[a + 11], 22, -1990404162), r = Xn(r, n, i, o, e13[a + 12], 7, 1804603682), o = Xn(o, r, n, i, e13[a + 13], 12, -40341101), i = Xn(i, o, r, n, e13[a + 14], 17, -1502002290), n = Xn(n, i, o, r, e13[a + 15], 22, 1236535329), r = Wn(r, n, i, o, e13[a + 1], 5, -165796510), o = Wn(o, r, n, i, e13[a + 6], 9, -1069501632), i = Wn(i, o, r, n, e13[a + 11], 14, 643717713), n = Wn(n, i, o, r, e13[a], 20, -373897302), r = Wn(r, n, i, o, e13[a + 5], 5, -701558691), o = Wn(o, r, n, i, e13[a + 10], 9, 38016083), i = Wn(i, o, r, n, e13[a + 15], 14, -660478335), n = Wn(n, i, o, r, e13[a + 4], 20, -405537848), r = Wn(r, n, i, o, e13[a + 9], 5, 568446438), o = Wn(o, r, n, i, e13[a + 14], 9, -1019803690), i = Wn(i, o, r, n, e13[a + 3], 14, -187363961), n = Wn(n, i, o, r, e13[a + 8], 20, 1163531501), r = Wn(r, n, i, o, e13[a + 13], 5, -1444681467), o = Wn(o, r, n, i, e13[a + 2], 9, -51403784), i = Wn(i, o, r, n, e13[a + 7], 14, 1735328473), n = Wn(n, i, o, r, e13[a + 12], 20, -1926607734), r = Yn(r, n, i, o, e13[a + 5], 4, -378558), o = Yn(o, r, n, i, e13[a + 8], 11, -2022574463), i = Yn(i, o, r, n, e13[a + 11], 16, 1839030562), n = Yn(n, i, o, r, e13[a + 14], 23, -35309556), r = Yn(r, n, i, o, e13[a + 1], 4, -1530992060), o = Yn(o, r, n, i, e13[a + 4], 11, 1272893353), i = Yn(i, o, r, n, e13[a + 7], 16, -155497632), n = Yn(n, i, o, r, e13[a + 10], 23, -1094730640), r = Yn(r, n, i, o, e13[a + 13], 4, 681279174), o = Yn(o, r, n, i, e13[a], 11, -358537222), i = Yn(i, o, r, n, e13[a + 3], 16, -722521979), n = Yn(n, i, o, r, e13[a + 6], 23, 76029189), r = Yn(r, n, i, o, e13[a + 9], 4, -640364487), o = Yn(o, r, n, i, e13[a + 12], 11, -421815835), i = Yn(i, o, r, n, e13[a + 15], 16, 530742520), n = Yn(n, i, o, r, e13[a + 2], 23, -995338651), r = qn(r, n, i, o, e13[a], 6, -198630844), o = qn(o, r, n, i, e13[a + 7], 10, 1126891415), i = qn(i, o, r, n, e13[a + 14], 15, -1416354905), n = qn(n, i, o, r, e13[a + 5], 21, -57434055), r = qn(r, n, i, o, e13[a + 12], 6, 1700485571), o = qn(o, r, n, i, e13[a + 3], 10, -1894986606), i = qn(i, o, r, n, e13[a + 10], 15, -1051523), n = qn(n, i, o, r, e13[a + 1], 21, -2054922799), r = qn(r, n, i, o, e13[a + 8], 6, 1873313359), o = qn(o, r, n, i, e13[a + 15], 10, -30611744), i = qn(i, o, r, n, e13[a + 6], 15, -1560198380), n = qn(n, i, o, r, e13[a + 13], 21, 1309151649), r = qn(r, n, i, o, e13[a + 4], 6, -145523070), o = qn(o, r, n, i, e13[a + 11], 10, -1120210379), i = qn(i, o, r, n, e13[a + 2], 15, 718787259), n = qn(n, i, o, r, e13[a + 9], 21, -343485551), r = Cl(r, s), n = Cl(n, l), i = Cl(i, u), o = Cl(o, c);
  }
  return [r, n, i, o];
}
function Dse(e13) {
  if (e13.length === 0)
    return [];
  for (var t = e13.length * 8, r = new Uint32Array(f8(t)), n = 0; n < t; n += 8)
    r[n >> 5] |= (e13[n / 8] & 255) << n % 32;
  return r;
}
function Cl(e13, t) {
  var r = (e13 & 65535) + (t & 65535), n = (e13 >> 16) + (t >> 16) + (r >> 16);
  return n << 16 | r & 65535;
}
function Rse(e13, t) {
  return e13 << t | e13 >>> 32 - t;
}
function qE(e13, t, r, n, i, o) {
  return Cl(Rse(Cl(Cl(t, e13), Cl(n, o)), i), r);
}
function Xn(e13, t, r, n, i, o, a) {
  return qE(t & r | ~t & n, e13, t, i, o, a);
}
function Wn(e13, t, r, n, i, o, a) {
  return qE(t & n | r & ~n, e13, t, i, o, a);
}
function Yn(e13, t, r, n, i, o, a) {
  return qE(t ^ r ^ n, e13, t, i, o, a);
}
function qn(e13, t, r, n, i, o, a) {
  return qE(r ^ (t | ~n), e13, t, i, o, a);
}
var Nse = h8("v3", 48, Cse);
var Mse = Nse;
function Lse(e13, t, r) {
  e13 = e13 || {};
  var n = e13.random || (e13.rng || c8)();
  if (n[6] = n[6] & 15 | 64, n[8] = n[8] & 63 | 128, t) {
    r = r || 0;
    for (var i = 0; i < 16; ++i)
      t[r + i] = n[i];
    return t;
  }
  return YE(n);
}
function Bse(e13, t, r, n) {
  switch (e13) {
    case 0:
      return t & r ^ ~t & n;
    case 1:
      return t ^ r ^ n;
    case 2:
      return t & r ^ t & n ^ r & n;
    case 3:
      return t ^ r ^ n;
  }
}
function kw(e13, t) {
  return e13 << t | e13 >>> 32 - t;
}
function Fse(e13) {
  var t = [1518500249, 1859775393, 2400959708, 3395469782], r = [1732584193, 4023233417, 2562383102, 271733878, 3285377520];
  if (typeof e13 == "string") {
    var n = unescape(encodeURIComponent(e13));
    e13 = [];
    for (var i = 0; i < n.length; ++i)
      e13.push(n.charCodeAt(i));
  } else Array.isArray(e13) || (e13 = Array.prototype.slice.call(e13));
  e13.push(128);
  for (var o = e13.length / 4 + 2, a = Math.ceil(o / 16), s = new Array(a), l = 0; l < a; ++l) {
    for (var u = new Uint32Array(16), c = 0; c < 16; ++c)
      u[c] = e13[l * 64 + c * 4] << 24 | e13[l * 64 + c * 4 + 1] << 16 | e13[l * 64 + c * 4 + 2] << 8 | e13[l * 64 + c * 4 + 3];
    s[l] = u;
  }
  s[a - 1][14] = (e13.length - 1) * 8 / Math.pow(2, 32), s[a - 1][14] = Math.floor(s[a - 1][14]), s[a - 1][15] = (e13.length - 1) * 8 & 4294967295;
  for (var f = 0; f < a; ++f) {
    for (var h = new Uint32Array(80), d = 0; d < 16; ++d)
      h[d] = s[f][d];
    for (var p = 16; p < 80; ++p)
      h[p] = kw(h[p - 3] ^ h[p - 8] ^ h[p - 14] ^ h[p - 16], 1);
    for (var m = r[0], g = r[1], v = r[2], b = r[3], y = r[4], _ = 0; _ < 80; ++_) {
      var T = Math.floor(_ / 20), E = kw(m, 5) + Bse(T, g, v, b) + y + t[T] + h[_] >>> 0;
      y = b, b = v, v = kw(g, 30) >>> 0, g = m, m = E;
    }
    r[0] = r[0] + m >>> 0, r[1] = r[1] + g >>> 0, r[2] = r[2] + v >>> 0, r[3] = r[3] + b >>> 0, r[4] = r[4] + y >>> 0;
  }
  return [r[0] >> 24 & 255, r[0] >> 16 & 255, r[0] >> 8 & 255, r[0] & 255, r[1] >> 24 & 255, r[1] >> 16 & 255, r[1] >> 8 & 255, r[1] & 255, r[2] >> 24 & 255, r[2] >> 16 & 255, r[2] >> 8 & 255, r[2] & 255, r[3] >> 24 & 255, r[3] >> 16 & 255, r[3] >> 8 & 255, r[3] & 255, r[4] >> 24 & 255, r[4] >> 16 & 255, r[4] >> 8 & 255, r[4] & 255];
}
var $se = h8("v5", 80, Fse);
var Hse = $se;
var Use = "00000000-0000-0000-0000-000000000000";
function jse(e13) {
  if (!WE(e13))
    throw TypeError("Invalid UUID");
  return parseInt(e13.substr(14, 1), 16);
}
var Gse = Object.freeze(Object.defineProperty({
  __proto__: null,
  NIL: Use,
  parse: u8,
  stringify: YE,
  v1: Ase,
  v3: Mse,
  v4: Lse,
  v5: Hse,
  validate: WE,
  version: jse
}, Symbol.toStringTag, { value: "Module" }));
var zse = Hs(Gse);
var KE = zse;
var aR = typeof Buffer < "u" ? (e13) => Buffer.from(e13).toString("base64") : (e13) => btoa(String.fromCharCode(...e13));
var Vse = typeof Buffer < "u" ? (e13) => Buffer.from(e13, "base64") : (e13) => Uint8Array.from(atob(e13), (t) => t.charCodeAt(0));
Mv.encode = function(e13) {
  var t = KE.parse(e13), r = aR(t), n = r.replace(/\+/g, "-").replace(/\//g, "_").substring(0, 22);
  return n;
};
Mv.decode = function(e13) {
  var t = e13.replace(/-/g, "+").replace(/_/g, "/") + "==";
  return KE.stringify(Vse(t));
};
Mv.v4 = function() {
  var e13 = KE.v4(null, new Uint8Array(16)), t = aR(e13), r = t.replace(/\+/g, "-").replace(/\//g, "_").substring(0, 22);
  return r;
};
Mv.nice = function() {
  var e13 = KE.v4(null, new Uint8Array(16));
  e13[0] = e13[0] & 127;
  var t = aR(e13), r = t.replace(/\+/g, "-").replace(/\//g, "_").substring(0, 22);
  return r;
};
var Xse = Mv;
var Gt = $i(Xse);
var d8 = { exports: {} };
var ZE = {};
var h0 = { exports: {} };
h0.exports;
(function(e13, t) {
  var r = 200, n = "__lodash_hash_undefined__", i = 1, o = 2, a = 9007199254740991, s = "[object Arguments]", l = "[object Array]", u = "[object AsyncFunction]", c = "[object Boolean]", f = "[object Date]", h = "[object Error]", d = "[object Function]", p = "[object GeneratorFunction]", m = "[object Map]", g = "[object Number]", v = "[object Null]", b = "[object Object]", y = "[object Promise]", _ = "[object Proxy]", T = "[object RegExp]", E = "[object Set]", O = "[object String]", S = "[object Symbol]", P = "[object Undefined]", C = "[object WeakMap]", w = "[object ArrayBuffer]", N = "[object DataView]", L = "[object Float32Array]", A = "[object Float64Array]", R = "[object Int8Array]", F = "[object Int16Array]", $ = "[object Int32Array]", K = "[object Uint8Array]", ie = "[object Uint8ClampedArray]", J = "[object Uint16Array]", pe = "[object Uint32Array]", oe = /[\\^$.*+?()[\]{}|]/g, q = /^\[object .+?Constructor\]$/, W = /^(?:0|[1-9]\d*)$/, se = {};
  se[L] = se[A] = se[R] = se[F] = se[$] = se[K] = se[ie] = se[J] = se[pe] = true, se[s] = se[l] = se[w] = se[c] = se[N] = se[f] = se[h] = se[d] = se[m] = se[g] = se[b] = se[T] = se[E] = se[O] = se[C] = false;
  var Te = typeof globalThis == "object" && globalThis && globalThis.Object === Object && globalThis, Ae = typeof self == "object" && self && self.Object === Object && self, Re = Te || Ae || Function("return this")(), Ee = t && !t.nodeType && t, Me = Ee && true && e13 && !e13.nodeType && e13, Ne = Me && Me.exports === Ee, Oe = Ne && Te.process, Fe = function() {
    try {
      return Oe && Oe.binding && Oe.binding("util");
    } catch {
    }
  }(), Ue = Fe && Fe.isTypedArray;
  function et(le, Pe) {
    for (var je = -1, nt = le == null ? 0 : le.length, xr = 0, Nt = []; ++je < nt; ) {
      var Vr = le[je];
      Pe(Vr, je, le) && (Nt[xr++] = Vr);
    }
    return Nt;
  }
  function ot(le, Pe) {
    for (var je = -1, nt = Pe.length, xr = le.length; ++je < nt; )
      le[xr + je] = Pe[je];
    return le;
  }
  function Ke(le, Pe) {
    for (var je = -1, nt = le == null ? 0 : le.length; ++je < nt; )
      if (Pe(le[je], je, le))
        return true;
    return false;
  }
  function ht(le, Pe) {
    for (var je = -1, nt = Array(le); ++je < le; )
      nt[je] = Pe(je);
    return nt;
  }
  function bt(le) {
    return function(Pe) {
      return le(Pe);
    };
  }
  function $t(le, Pe) {
    return le.has(Pe);
  }
  function rn(le, Pe) {
    return le == null ? void 0 : le[Pe];
  }
  function Ht(le) {
    var Pe = -1, je = Array(le.size);
    return le.forEach(function(nt, xr) {
      je[++Pe] = [xr, nt];
    }), je;
  }
  function xe(le, Pe) {
    return function(je) {
      return le(Pe(je));
    };
  }
  function ne(le) {
    var Pe = -1, je = Array(le.size);
    return le.forEach(function(nt) {
      je[++Pe] = nt;
    }), je;
  }
  var ce = Array.prototype, _e = Function.prototype, ee = Object.prototype, de = Re["__core-js_shared__"], Ce = _e.toString, ke = ee.hasOwnProperty, Ve = function() {
    var le = /[^.]+$/.exec(de && de.keys && de.keys.IE_PROTO || "");
    return le ? "Symbol(src)_1." + le : "";
  }(), We = ee.toString, Ze = RegExp("^" + Ce.call(ke).replace(oe, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$"), rt = Ne ? Re.Buffer : void 0, ut = Re.Symbol, Dt = Re.Uint8Array, gt = ee.propertyIsEnumerable, pr = ce.splice, H = ut ? ut.toStringTag : void 0, x = Object.getOwnPropertySymbols, B = rt ? rt.isBuffer : void 0, Q = xe(Object.keys, Object), ge = dh(Re, "DataView"), Z = dh(Re, "Map"), Y = dh(Re, "Promise"), j = dh(Re, "Set"), G = dh(Re, "WeakMap"), ue = dh(Object, "create"), ye = dc(ge), ve = dc(Z), Se = dc(Y), me = dc(j), be = dc(G), z = ut ? ut.prototype : void 0, U = z ? z.valueOf : void 0;
  function ae(le) {
    var Pe = -1, je = le == null ? 0 : le.length;
    for (this.clear(); ++Pe < je; ) {
      var nt = le[Pe];
      this.set(nt[0], nt[1]);
    }
  }
  function we() {
    this.__data__ = ue ? ue(null) : {}, this.size = 0;
  }
  function Ie(le) {
    var Pe = this.has(le) && delete this.__data__[le];
    return this.size -= Pe ? 1 : 0, Pe;
  }
  function Ye(le) {
    var Pe = this.__data__;
    if (ue) {
      var je = Pe[le];
      return je === n ? void 0 : je;
    }
    return ke.call(Pe, le) ? Pe[le] : void 0;
  }
  function qe(le) {
    var Pe = this.__data__;
    return ue ? Pe[le] !== void 0 : ke.call(Pe, le);
  }
  function dt(le, Pe) {
    var je = this.__data__;
    return this.size += this.has(le) ? 0 : 1, je[le] = ue && Pe === void 0 ? n : Pe, this;
  }
  ae.prototype.clear = we, ae.prototype.delete = Ie, ae.prototype.get = Ye, ae.prototype.has = qe, ae.prototype.set = dt;
  function At(le) {
    var Pe = -1, je = le == null ? 0 : le.length;
    for (this.clear(); ++Pe < je; ) {
      var nt = le[Pe];
      this.set(nt[0], nt[1]);
    }
  }
  function Yt() {
    this.__data__ = [], this.size = 0;
  }
  function Et(le) {
    var Pe = this.__data__, je = Cn(Pe, le);
    if (je < 0)
      return false;
    var nt = Pe.length - 1;
    return je == nt ? Pe.pop() : pr.call(Pe, je, 1), --this.size, true;
  }
  function Ut(le) {
    var Pe = this.__data__, je = Cn(Pe, le);
    return je < 0 ? void 0 : Pe[je][1];
  }
  function or(le) {
    return Cn(this.__data__, le) > -1;
  }
  function pt(le, Pe) {
    var je = this.__data__, nt = Cn(je, le);
    return nt < 0 ? (++this.size, je.push([le, Pe])) : je[nt][1] = Pe, this;
  }
  At.prototype.clear = Yt, At.prototype.delete = Et, At.prototype.get = Ut, At.prototype.has = or, At.prototype.set = pt;
  function zt(le) {
    var Pe = -1, je = le == null ? 0 : le.length;
    for (this.clear(); ++Pe < je; ) {
      var nt = le[Pe];
      this.set(nt[0], nt[1]);
    }
  }
  function ar() {
    this.size = 0, this.__data__ = {
      hash: new ae(),
      map: new (Z || At)(),
      string: new ae()
    };
  }
  function cr(le) {
    var Pe = Oy(this, le).delete(le);
    return this.size -= Pe ? 1 : 0, Pe;
  }
  function Cr(le) {
    return Oy(this, le).get(le);
  }
  function zn(le) {
    return Oy(this, le).has(le);
  }
  function Xe(le, Pe) {
    var je = Oy(this, le), nt = je.size;
    return je.set(le, Pe), this.size += je.size == nt ? 0 : 1, this;
  }
  zt.prototype.clear = ar, zt.prototype.delete = cr, zt.prototype.get = Cr, zt.prototype.has = zn, zt.prototype.set = Xe;
  function it(le) {
    var Pe = -1, je = le == null ? 0 : le.length;
    for (this.__data__ = new zt(); ++Pe < je; )
      this.add(le[Pe]);
  }
  function Rt(le) {
    return this.__data__.set(le, n), this;
  }
  function Ot(le) {
    return this.__data__.has(le);
  }
  it.prototype.add = it.prototype.push = Rt, it.prototype.has = Ot;
  function vt(le) {
    var Pe = this.__data__ = new At(le);
    this.size = Pe.size;
  }
  function qt() {
    this.__data__ = new At(), this.size = 0;
  }
  function xt(le) {
    var Pe = this.__data__, je = Pe.delete(le);
    return this.size = Pe.size, je;
  }
  function Mt(le) {
    return this.__data__.get(le);
  }
  function Kt(le) {
    return this.__data__.has(le);
  }
  function ur(le, Pe) {
    var je = this.__data__;
    if (je instanceof At) {
      var nt = je.__data__;
      if (!Z || nt.length < r - 1)
        return nt.push([le, Pe]), this.size = ++je.size, this;
      je = this.__data__ = new zt(nt);
    }
    return je.set(le, Pe), this.size = je.size, this;
  }
  vt.prototype.clear = qt, vt.prototype.delete = xt, vt.prototype.get = Mt, vt.prototype.has = Kt, vt.prototype.set = ur;
  function hr(le, Pe) {
    var je = Iy(le), nt = !je && hJ(le), xr = !je && !nt && $S(le), Nt = !je && !nt && !xr && XL(le), Vr = je || nt || xr || Nt, bn = Vr ? ht(le.length, String) : [], xn = bn.length;
    for (var Hr in le)
      ke.call(le, Hr) && !(Vr && // Safari 9 has enumerable `arguments.length` in strict mode.
      (Hr == "length" || // Node.js 0.10 has enumerable non-index properties on buffers.
      xr && (Hr == "offset" || Hr == "parent") || // PhantomJS 2 has enumerable non-index properties on typed arrays.
      Nt && (Hr == "buffer" || Hr == "byteLength" || Hr == "byteOffset") || // Skip index properties.
      aJ(Hr, xn))) && bn.push(Hr);
    return bn;
  }
  function Cn(le, Pe) {
    for (var je = le.length; je--; )
      if (jL(le[je][0], Pe))
        return je;
    return -1;
  }
  function oo(le, Pe, je) {
    var nt = Pe(le);
    return Iy(le) ? nt : ot(nt, je(le));
  }
  function Qs(le) {
    return le == null ? le === void 0 ? P : v : H && H in Object(le) ? iJ(le) : uJ(le);
  }
  function Pp(le) {
    return Cp(le) && Qs(le) == s;
  }
  function Js(le, Pe, je, nt, xr) {
    return le === Pe ? true : le == null || Pe == null || !Cp(le) && !Cp(Pe) ? le !== le && Pe !== Pe : QQ(le, Pe, je, nt, Js, xr);
  }
  function QQ(le, Pe, je, nt, xr, Nt) {
    var Vr = Iy(le), bn = Iy(Pe), xn = Vr ? l : el(le), Hr = bn ? l : el(Pe);
    xn = xn == s ? b : xn, Hr = Hr == s ? b : Hr;
    var Gi = xn == b, ko = Hr == b, Vn = xn == Hr;
    if (Vn && $S(le)) {
      if (!$S(Pe))
        return false;
      Vr = true, Gi = false;
    }
    if (Vn && !Gi)
      return Nt || (Nt = new vt()), Vr || XL(le) ? HL(le, Pe, je, nt, xr, Nt) : rJ(le, Pe, xn, je, nt, xr, Nt);
    if (!(je & i)) {
      var ao = Gi && ke.call(le, "__wrapped__"), so = ko && ke.call(Pe, "__wrapped__");
      if (ao || so) {
        var tl = ao ? le.value() : le, Za = so ? Pe.value() : Pe;
        return Nt || (Nt = new vt()), xr(tl, Za, je, nt, Nt);
      }
    }
    return Vn ? (Nt || (Nt = new vt()), nJ(le, Pe, je, nt, xr, Nt)) : false;
  }
  function JQ(le) {
    if (!VL(le) || lJ(le))
      return false;
    var Pe = GL(le) ? Ze : q;
    return Pe.test(dc(le));
  }
  function eJ(le) {
    return Cp(le) && zL(le.length) && !!se[Qs(le)];
  }
  function tJ(le) {
    if (!cJ(le))
      return Q(le);
    var Pe = [];
    for (var je in Object(le))
      ke.call(le, je) && je != "constructor" && Pe.push(je);
    return Pe;
  }
  function HL(le, Pe, je, nt, xr, Nt) {
    var Vr = je & i, bn = le.length, xn = Pe.length;
    if (bn != xn && !(Vr && xn > bn))
      return false;
    var Hr = Nt.get(le);
    if (Hr && Nt.get(Pe))
      return Hr == Pe;
    var Gi = -1, ko = true, Vn = je & o ? new it() : void 0;
    for (Nt.set(le, Pe), Nt.set(Pe, le); ++Gi < bn; ) {
      var ao = le[Gi], so = Pe[Gi];
      if (nt)
        var tl = Vr ? nt(so, ao, Gi, Pe, le, Nt) : nt(ao, so, Gi, le, Pe, Nt);
      if (tl !== void 0) {
        if (tl)
          continue;
        ko = false;
        break;
      }
      if (Vn) {
        if (!Ke(Pe, function(Za, pc) {
          if (!$t(Vn, pc) && (ao === Za || xr(ao, Za, je, nt, Nt)))
            return Vn.push(pc);
        })) {
          ko = false;
          break;
        }
      } else if (!(ao === so || xr(ao, so, je, nt, Nt))) {
        ko = false;
        break;
      }
    }
    return Nt.delete(le), Nt.delete(Pe), ko;
  }
  function rJ(le, Pe, je, nt, xr, Nt, Vr) {
    switch (je) {
      case N:
        if (le.byteLength != Pe.byteLength || le.byteOffset != Pe.byteOffset)
          return false;
        le = le.buffer, Pe = Pe.buffer;
      case w:
        return !(le.byteLength != Pe.byteLength || !Nt(new Dt(le), new Dt(Pe)));
      case c:
      case f:
      case g:
        return jL(+le, +Pe);
      case h:
        return le.name == Pe.name && le.message == Pe.message;
      case T:
      case O:
        return le == Pe + "";
      case m:
        var bn = Ht;
      case E:
        var xn = nt & i;
        if (bn || (bn = ne), le.size != Pe.size && !xn)
          return false;
        var Hr = Vr.get(le);
        if (Hr)
          return Hr == Pe;
        nt |= o, Vr.set(le, Pe);
        var Gi = HL(bn(le), bn(Pe), nt, xr, Nt, Vr);
        return Vr.delete(le), Gi;
      case S:
        if (U)
          return U.call(le) == U.call(Pe);
    }
    return false;
  }
  function nJ(le, Pe, je, nt, xr, Nt) {
    var Vr = je & i, bn = UL(le), xn = bn.length, Hr = UL(Pe), Gi = Hr.length;
    if (xn != Gi && !Vr)
      return false;
    for (var ko = xn; ko--; ) {
      var Vn = bn[ko];
      if (!(Vr ? Vn in Pe : ke.call(Pe, Vn)))
        return false;
    }
    var ao = Nt.get(le);
    if (ao && Nt.get(Pe))
      return ao == Pe;
    var so = true;
    Nt.set(le, Pe), Nt.set(Pe, le);
    for (var tl = Vr; ++ko < xn; ) {
      Vn = bn[ko];
      var Za = le[Vn], pc = Pe[Vn];
      if (nt)
        var WL = Vr ? nt(pc, Za, Vn, Pe, le, Nt) : nt(Za, pc, Vn, le, Pe, Nt);
      if (!(WL === void 0 ? Za === pc || xr(Za, pc, je, nt, Nt) : WL)) {
        so = false;
        break;
      }
      tl || (tl = Vn == "constructor");
    }
    if (so && !tl) {
      var Py = le.constructor, Cy = Pe.constructor;
      Py != Cy && "constructor" in le && "constructor" in Pe && !(typeof Py == "function" && Py instanceof Py && typeof Cy == "function" && Cy instanceof Cy) && (so = false);
    }
    return Nt.delete(le), Nt.delete(Pe), so;
  }
  function UL(le) {
    return oo(le, pJ, oJ);
  }
  function Oy(le, Pe) {
    var je = le.__data__;
    return sJ(Pe) ? je[typeof Pe == "string" ? "string" : "hash"] : je.map;
  }
  function dh(le, Pe) {
    var je = rn(le, Pe);
    return JQ(je) ? je : void 0;
  }
  function iJ(le) {
    var Pe = ke.call(le, H), je = le[H];
    try {
      le[H] = void 0;
      var nt = true;
    } catch {
    }
    var xr = We.call(le);
    return nt && (Pe ? le[H] = je : delete le[H]), xr;
  }
  var oJ = x ? function(le) {
    return le == null ? [] : (le = Object(le), et(x(le), function(Pe) {
      return gt.call(le, Pe);
    }));
  } : mJ, el = Qs;
  (ge && el(new ge(new ArrayBuffer(1))) != N || Z && el(new Z()) != m || Y && el(Y.resolve()) != y || j && el(new j()) != E || G && el(new G()) != C) && (el = function(le) {
    var Pe = Qs(le), je = Pe == b ? le.constructor : void 0, nt = je ? dc(je) : "";
    if (nt)
      switch (nt) {
        case ye:
          return N;
        case ve:
          return m;
        case Se:
          return y;
        case me:
          return E;
        case be:
          return C;
      }
    return Pe;
  });
  function aJ(le, Pe) {
    return Pe = Pe ?? a, !!Pe && (typeof le == "number" || W.test(le)) && le > -1 && le % 1 == 0 && le < Pe;
  }
  function sJ(le) {
    var Pe = typeof le;
    return Pe == "string" || Pe == "number" || Pe == "symbol" || Pe == "boolean" ? le !== "__proto__" : le === null;
  }
  function lJ(le) {
    return !!Ve && Ve in le;
  }
  function cJ(le) {
    var Pe = le && le.constructor, je = typeof Pe == "function" && Pe.prototype || ee;
    return le === je;
  }
  function uJ(le) {
    return We.call(le);
  }
  function dc(le) {
    if (le != null) {
      try {
        return Ce.call(le);
      } catch {
      }
      try {
        return le + "";
      } catch {
      }
    }
    return "";
  }
  function jL(le, Pe) {
    return le === Pe || le !== le && Pe !== Pe;
  }
  var hJ = Pp(/* @__PURE__ */ function() {
    return arguments;
  }()) ? Pp : function(le) {
    return Cp(le) && ke.call(le, "callee") && !gt.call(le, "callee");
  }, Iy = Array.isArray;
  function fJ(le) {
    return le != null && zL(le.length) && !GL(le);
  }
  var $S = B || gJ;
  function dJ(le, Pe) {
    return Js(le, Pe);
  }
  function GL(le) {
    if (!VL(le))
      return false;
    var Pe = Qs(le);
    return Pe == d || Pe == p || Pe == u || Pe == _;
  }
  function zL(le) {
    return typeof le == "number" && le > -1 && le % 1 == 0 && le <= a;
  }
  function VL(le) {
    var Pe = typeof le;
    return le != null && (Pe == "object" || Pe == "function");
  }
  function Cp(le) {
    return le != null && typeof le == "object";
  }
  var XL = Ue ? bt(Ue) : eJ;
  function pJ(le) {
    return fJ(le) ? hr(le) : tJ(le);
  }
  function mJ() {
    return [];
  }
  function gJ() {
    return false;
  }
  e13.exports = dJ;
})(h0, h0.exports);
var QE = h0.exports;
var p8 = { exports: {} };
(function(e13) {
  (function() {
    var t = {}.hasOwnProperty;
    function r() {
      for (var n = [], i = 0; i < arguments.length; i++) {
        var o = arguments[i];
        if (o) {
          var a = typeof o;
          if (a === "string" || a === "number")
            n.push(o);
          else if (Array.isArray(o)) {
            if (o.length) {
              var s = r.apply(null, o);
              s && n.push(s);
            }
          } else if (a === "object") {
            if (o.toString !== Object.prototype.toString && !o.toString.toString().includes("[native code]")) {
              n.push(o.toString());
              continue;
            }
            for (var l in o)
              t.call(o, l) && o[l] && n.push(l);
          }
        }
      }
      return n.join(" ");
    }
    e13.exports ? (r.default = r, e13.exports = r) : window.classNames = r;
  })();
})(p8);
var m8 = p8.exports;
var dr = {};
dr.__esModule = true;
dr.noop = void 0;
var Wse = Object.assign || function(e13) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t];
    for (var n in r)
      Object.prototype.hasOwnProperty.call(r, n) && (e13[n] = r[n]);
  }
  return e13;
};
dr.bottom = f0;
dr.cloneLayout = Zse;
dr.cloneLayoutItem = Ef;
dr.childrenEqual = Qse;
dr.collides = JE;
dr.compact = v8;
dr.compactItem = y8;
dr.correctBounds = _8;
dr.getLayoutItem = b8;
dr.getFirstCollision = Sf;
dr.getAllCollisions = T8;
dr.getStatics = sR;
dr.moveElement = nP;
dr.moveElementAwayFromCollision = iP;
dr.perc = ele;
dr.setTransform = tle;
dr.setTopLeft = rle;
dr.sortLayoutItems = lR;
dr.sortLayoutItemsByRowCol = E8;
dr.sortLayoutItemsByColRow = S8;
dr.synchronizeLayoutWithChildren = nle;
dr.validateLayout = ile;
dr.autoBindHandlers = ole;
var Yse = QE;
var qse = g8(Yse);
var Kse = import_react.default;
var tP = g8(Kse);
function g8(e13) {
  return e13 && e13.__esModule ? e13 : {
    default: e13
  };
}
function f0(e13) {
  for (var t = 0, r = void 0, n = 0, i = e13.length; n < i; n++)
    r = e13[n].y + e13[n].h, r > t && (t = r);
  return t;
}
function Zse(e13) {
  for (var t = Array(e13.length), r = 0, n = e13.length; r < n; r++)
    t[r] = Ef(e13[r]);
  return t;
}
function Ef(e13) {
  return {
    w: e13.w,
    h: e13.h,
    x: e13.x,
    y: e13.y,
    i: e13.i,
    minW: e13.minW,
    maxW: e13.maxW,
    minH: e13.minH,
    maxH: e13.maxH,
    moved: !!e13.moved,
    static: !!e13.static,
    // These can be null
    isDraggable: e13.isDraggable,
    isResizable: e13.isResizable
  };
}
function Qse(e13, t) {
  return (0, qse.default)(tP.default.Children.map(e13, function(r) {
    return r.key;
  }), tP.default.Children.map(t, function(r) {
    return r.key;
  }));
}
function JE(e13, t) {
  return !(e13 === t || e13.x + e13.w <= t.x || e13.x >= t.x + t.w || e13.y + e13.h <= t.y || e13.y >= t.y + t.h);
}
function v8(e13, t, r) {
  for (var n = sR(e13), i = lR(e13, t), o = Array(e13.length), a = 0, s = i.length; a < s; a++) {
    var l = Ef(i[a]);
    l.static || (l = y8(n, l, t, r, i), n.push(l)), o[e13.indexOf(i[a])] = l, l.moved = false;
  }
  return o;
}
var Jse = {
  x: "w",
  y: "h"
};
function rP(e13, t, r, n) {
  var i = Jse[n];
  t[n] += 1;
  for (var o = e13.indexOf(t), a = o + 1; a < e13.length; a++) {
    var s = e13[a];
    if (!s.static) {
      if (s.y > t.y + t.h)
        break;
      JE(t, s) && rP(e13, s, r + t[i], n);
    }
  }
  t[n] = r;
}
function y8(e13, t, r, n, i) {
  var o = r === "vertical", a = r === "horizontal";
  if (o)
    for (t.y = Math.min(f0(e13), t.y); t.y > 0 && !Sf(e13, t); )
      t.y--;
  else if (a)
    for (t.y = Math.min(f0(e13), t.y); t.x > 0 && !Sf(e13, t); )
      t.x--;
  for (var s = void 0; s = Sf(e13, t); )
    a ? rP(i, t, s.x + s.w, "x") : rP(i, t, s.y + s.h, "y"), a && t.x + t.w > n && (t.x = n - t.w, t.y++);
  return t;
}
function _8(e13, t) {
  for (var r = sR(e13), n = 0, i = e13.length; n < i; n++) {
    var o = e13[n];
    if (o.x + o.w > t.cols && (o.x = t.cols - o.w), o.x < 0 && (o.x = 0, o.w = t.cols), !o.static)
      r.push(o);
    else
      for (; Sf(r, o); )
        o.y++;
  }
  return e13;
}
function b8(e13, t) {
  for (var r = 0, n = e13.length; r < n; r++)
    if (e13[r].i === t)
      return e13[r];
}
function Sf(e13, t) {
  for (var r = 0, n = e13.length; r < n; r++)
    if (JE(e13[r], t))
      return e13[r];
}
function T8(e13, t) {
  return e13.filter(function(r) {
    return JE(r, t);
  });
}
function sR(e13) {
  return e13.filter(function(t) {
    return t.static;
  });
}
function nP(e13, t, r, n, i, o, a, s) {
  if (t.static || t.y === n && t.x === r)
    return e13;
  "" + t.i + String(r) + String(n) + t.x + t.y;
  var l = t.x, u = t.y;
  typeof r == "number" && (t.x = r), typeof n == "number" && (t.y = n), t.moved = true;
  var c = lR(e13, a), f = a === "vertical" && typeof n == "number" ? u >= n : a === "horizontal" && typeof r == "number" ? l >= r : false;
  f && (c = c.reverse());
  var h = T8(c, t);
  if (o && h.length)
    return "" + t.i, t.x = l, t.y = u, t.moved = false, e13;
  for (var d = 0, p = h.length; d < p; d++) {
    var m = h[d];
    "" + t.i + t.x + t.y + m.i + m.x + m.y, !m.moved && (m.static ? e13 = iP(e13, m, t, i, a) : e13 = iP(e13, t, m, i, a));
  }
  return e13;
}
function iP(e13, t, r, n, i, o) {
  var a = i === "horizontal", s = i === "vertical", l = false;
  if (n) {
    n = false;
    var u = {
      x: a ? Math.max(t.x - r.w, 0) : r.x,
      y: s ? Math.max(t.y - r.h, 0) : r.y,
      w: r.w,
      h: r.h,
      i: "-1"
    };
    if (!Sf(e13, u))
      return "" + r.i + u.x + u.y, nP(e13, r, a ? u.x : void 0, s ? u.y : void 0, n, l, i);
  }
  return nP(e13, r, a ? r.x + 1 : void 0, s ? r.y + 1 : void 0, n, l, i);
}
function ele(e13) {
  return e13 * 100 + "%";
}
function tle(e13) {
  var t = e13.top, r = e13.left, n = e13.width, i = e13.height, o = "translate(" + r + "px," + t + "px)";
  return {
    transform: o,
    WebkitTransform: o,
    MozTransform: o,
    msTransform: o,
    OTransform: o,
    width: n + "px",
    height: i + "px",
    position: "absolute"
  };
}
function rle(e13) {
  var t = e13.top, r = e13.left, n = e13.width, i = e13.height;
  return {
    top: t + "px",
    left: r + "px",
    width: n + "px",
    height: i + "px",
    position: "absolute"
  };
}
function lR(e13, t) {
  return t === "horizontal" ? S8(e13) : E8(e13);
}
function E8(e13) {
  return [].concat(e13).sort(function(t, r) {
    return t.y > r.y || t.y === r.y && t.x > r.x ? 1 : t.y === r.y && t.x === r.x ? 0 : -1;
  });
}
function S8(e13) {
  return [].concat(e13).sort(function(t, r) {
    return t.x > r.x || t.x === r.x && t.y > r.y ? 1 : -1;
  });
}
function nle(e13, t, r, n) {
  e13 = e13 || [];
  var i = [];
  return tP.default.Children.forEach(t, function(o, a) {
    var s = b8(e13, String(o.key));
    if (s)
      i[a] = Ef(s);
    else {
      var l = o.props["data-grid"] || o.props._grid;
      l ? i[a] = Ef(Wse({}, l, {
        i: o.key
      })) : i[a] = Ef({
        w: 1,
        h: 1,
        x: 0,
        y: f0(i),
        i: String(o.key)
      });
    }
  }), i = _8(i, {
    cols: r
  }), i = v8(i, n, r), i;
}
function ile(e13) {
  var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : "Layout", r = ["x", "y", "w", "h"];
  if (!Array.isArray(e13))
    throw new Error(t + " must be an array!");
  for (var n = 0, i = e13.length; n < i; n++) {
    for (var o = e13[n], a = 0; a < r.length; a++)
      if (typeof o[r[a]] != "number")
        throw new Error("ReactGridLayout: " + t + "[" + n + "]." + r[a] + " must be a number!");
    if (o.i && typeof o.i != "string")
      throw new Error("ReactGridLayout: " + t + "[" + n + "].i must be a string!");
    if (o.static !== void 0 && typeof o.static != "boolean")
      throw new Error("ReactGridLayout: " + t + "[" + n + "].static must be a boolean!");
  }
}
function ole(e13, t) {
  t.forEach(function(r) {
    return e13[r] = e13[r].bind(e13);
  });
}
dr.noop = function() {
};
var cR = {};
var w8 = { exports: {} };
(function(e13, t) {
  (function(r, n) {
    e13.exports = n(import_react_dom.default, import_react.default);
  })(De, function(r, n) {
    r = r && r.hasOwnProperty("default") ? r.default : r, n = n && n.hasOwnProperty("default") ? n.default : n;
    function i(j, G) {
      return G = {
        exports: {}
      }, j(G, G.exports), G.exports;
    }
    function o(j) {
      return function() {
        return j;
      };
    }
    var a = function() {
    };
    a.thatReturns = o, a.thatReturnsFalse = o(false), a.thatReturnsTrue = o(true), a.thatReturnsNull = o(null), a.thatReturnsThis = function() {
      return this;
    }, a.thatReturnsArgument = function(j) {
      return j;
    };
    var s = a, l = function(G) {
    };
    l = function(G) {
      if (G === void 0)
        throw new Error("invariant requires an error message argument");
    };
    function u(j, G, ue, ye, ve, Se, me, be) {
      if (l(G), !j) {
        var z;
        if (G === void 0)
          z = new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");
        else {
          var U = [ue, ye, ve, Se, me, be], ae = 0;
          z = new Error(G.replace(/%s/g, function() {
            return U[ae++];
          })), z.name = "Invariant Violation";
        }
        throw z.framesToPop = 1, z;
      }
    }
    var c = u, f = s;
    {
      var h = function(G) {
        for (var ue = arguments.length, ye = Array(ue > 1 ? ue - 1 : 0), ve = 1; ve < ue; ve++)
          ye[ve - 1] = arguments[ve];
        var Se = 0, me = "Warning: " + G.replace(/%s/g, function() {
          return ye[Se++];
        });
        typeof console < "u" && console.error(me);
        try {
          throw new Error(me);
        } catch {
        }
      };
      f = function(G, ue) {
        if (ue === void 0)
          throw new Error("`warning(condition, format, ...args)` requires a warning message argument");
        if (ue.indexOf("Failed Composite propType: ") !== 0 && !G) {
          for (var ye = arguments.length, ve = Array(ye > 2 ? ye - 2 : 0), Se = 2; Se < ye; Se++)
            ve[Se - 2] = arguments[Se];
          h.apply(void 0, [ue].concat(ve));
        }
      };
    }
    var d = f;
    var p = Object.getOwnPropertySymbols, m = Object.prototype.hasOwnProperty, g = Object.prototype.propertyIsEnumerable;
    function v(j) {
      if (j == null)
        throw new TypeError("Object.assign cannot be called with null or undefined");
      return Object(j);
    }
    function b() {
      try {
        if (!Object.assign)
          return false;
        var j = new String("abc");
        if (j[5] = "de", Object.getOwnPropertyNames(j)[0] === "5")
          return false;
        for (var G = {}, ue = 0; ue < 10; ue++)
          G["_" + String.fromCharCode(ue)] = ue;
        var ye = Object.getOwnPropertyNames(G).map(function(Se) {
          return G[Se];
        });
        if (ye.join("") !== "0123456789")
          return false;
        var ve = {};
        return "abcdefghijklmnopqrst".split("").forEach(function(Se) {
          ve[Se] = Se;
        }), Object.keys(Object.assign({}, ve)).join("") === "abcdefghijklmnopqrst";
      } catch {
        return false;
      }
    }
    var y = b() ? Object.assign : function(j, G) {
      for (var ue, ye = v(j), ve, Se = 1; Se < arguments.length; Se++) {
        ue = Object(arguments[Se]);
        for (var me in ue)
          m.call(ue, me) && (ye[me] = ue[me]);
        if (p) {
          ve = p(ue);
          for (var be = 0; be < ve.length; be++)
            g.call(ue, ve[be]) && (ye[ve[be]] = ue[ve[be]]);
        }
      }
      return ye;
    }, _ = "SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED", T = _, E = c, O = d, S = T, P = {};
    function C(j, G, ue, ye, ve) {
      for (var Se in j)
        if (j.hasOwnProperty(Se)) {
          var me;
          try {
            E(typeof j[Se] == "function", "%s: %s type `%s` is invalid; it must be a function, usually from the `prop-types` package, but received `%s`.", ye || "React class", ue, Se, typeof j[Se]), me = j[Se](G, Se, ye, ue, null, S);
          } catch (z) {
            me = z;
          }
          if (O(!me || me instanceof Error, "%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).", ye || "React class", ue, Se, typeof me), me instanceof Error && !(me.message in P)) {
            P[me.message] = true;
            var be = ve ? ve() : "";
            O(false, "Failed %s type: %s%s", ue, me.message, be ?? "");
          }
        }
    }
    var w = C, N = function(j, G) {
      var ue = typeof Symbol == "function" && Symbol.iterator, ye = "@@iterator";
      function ve(Xe) {
        var it = Xe && (ue && Xe[ue] || Xe[ye]);
        if (typeof it == "function")
          return it;
      }
      var Se = "<<anonymous>>", me = {
        array: ae("array"),
        bool: ae("boolean"),
        func: ae("function"),
        number: ae("number"),
        object: ae("object"),
        string: ae("string"),
        symbol: ae("symbol"),
        any: we(),
        arrayOf: Ie,
        element: Ye(),
        instanceOf: qe,
        node: Et(),
        objectOf: At,
        oneOf: dt,
        oneOfType: Yt,
        shape: Ut,
        exact: or
      };
      function be(Xe, it) {
        return Xe === it ? Xe !== 0 || 1 / Xe === 1 / it : Xe !== Xe && it !== it;
      }
      function z(Xe) {
        this.message = Xe, this.stack = "";
      }
      z.prototype = Error.prototype;
      function U(Xe) {
        var it = {}, Rt = 0;
        function Ot(qt, xt, Mt, Kt, ur, hr, Cn) {
          if (Kt = Kt || Se, hr = hr || Mt, Cn !== T) {
            if (G)
              c(false, "Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");
            else if (typeof console < "u") {
              var oo = Kt + ":" + Mt;
              !it[oo] && // Avoid spamming the console because they are often not actionable except for lib authors
              Rt < 3 && (d(false, "You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.", hr, Kt), it[oo] = true, Rt++);
            }
          }
          return xt[Mt] == null ? qt ? xt[Mt] === null ? new z("The " + ur + " `" + hr + "` is marked as required " + ("in `" + Kt + "`, but its value is `null`.")) : new z("The " + ur + " `" + hr + "` is marked as required in " + ("`" + Kt + "`, but its value is `undefined`.")) : null : Xe(xt, Mt, Kt, ur, hr);
        }
        var vt = Ot.bind(null, false);
        return vt.isRequired = Ot.bind(null, true), vt;
      }
      function ae(Xe) {
        function it(Rt, Ot, vt, qt, xt, Mt) {
          var Kt = Rt[Ot], ur = ar(Kt);
          if (ur !== Xe) {
            var hr = cr(Kt);
            return new z("Invalid " + qt + " `" + xt + "` of type " + ("`" + hr + "` supplied to `" + vt + "`, expected ") + ("`" + Xe + "`."));
          }
          return null;
        }
        return U(it);
      }
      function we() {
        return U(s.thatReturnsNull);
      }
      function Ie(Xe) {
        function it(Rt, Ot, vt, qt, xt) {
          if (typeof Xe != "function")
            return new z("Property `" + xt + "` of component `" + vt + "` has invalid PropType notation inside arrayOf.");
          var Mt = Rt[Ot];
          if (!Array.isArray(Mt)) {
            var Kt = ar(Mt);
            return new z("Invalid " + qt + " `" + xt + "` of type " + ("`" + Kt + "` supplied to `" + vt + "`, expected an array."));
          }
          for (var ur = 0; ur < Mt.length; ur++) {
            var hr = Xe(Mt, ur, vt, qt, xt + "[" + ur + "]", T);
            if (hr instanceof Error)
              return hr;
          }
          return null;
        }
        return U(it);
      }
      function Ye() {
        function Xe(it, Rt, Ot, vt, qt) {
          var xt = it[Rt];
          if (!j(xt)) {
            var Mt = ar(xt);
            return new z("Invalid " + vt + " `" + qt + "` of type " + ("`" + Mt + "` supplied to `" + Ot + "`, expected a single ReactElement."));
          }
          return null;
        }
        return U(Xe);
      }
      function qe(Xe) {
        function it(Rt, Ot, vt, qt, xt) {
          if (!(Rt[Ot] instanceof Xe)) {
            var Mt = Xe.name || Se, Kt = zn(Rt[Ot]);
            return new z("Invalid " + qt + " `" + xt + "` of type " + ("`" + Kt + "` supplied to `" + vt + "`, expected ") + ("instance of `" + Mt + "`."));
          }
          return null;
        }
        return U(it);
      }
      function dt(Xe) {
        if (!Array.isArray(Xe))
          return d(false, "Invalid argument supplied to oneOf, expected an instance of array."), s.thatReturnsNull;
        function it(Rt, Ot, vt, qt, xt) {
          for (var Mt = Rt[Ot], Kt = 0; Kt < Xe.length; Kt++)
            if (be(Mt, Xe[Kt]))
              return null;
          var ur = JSON.stringify(Xe);
          return new z("Invalid " + qt + " `" + xt + "` of value `" + Mt + "` " + ("supplied to `" + vt + "`, expected one of " + ur + "."));
        }
        return U(it);
      }
      function At(Xe) {
        function it(Rt, Ot, vt, qt, xt) {
          if (typeof Xe != "function")
            return new z("Property `" + xt + "` of component `" + vt + "` has invalid PropType notation inside objectOf.");
          var Mt = Rt[Ot], Kt = ar(Mt);
          if (Kt !== "object")
            return new z("Invalid " + qt + " `" + xt + "` of type " + ("`" + Kt + "` supplied to `" + vt + "`, expected an object."));
          for (var ur in Mt)
            if (Mt.hasOwnProperty(ur)) {
              var hr = Xe(Mt, ur, vt, qt, xt + "." + ur, T);
              if (hr instanceof Error)
                return hr;
            }
          return null;
        }
        return U(it);
      }
      function Yt(Xe) {
        if (!Array.isArray(Xe))
          return d(false, "Invalid argument supplied to oneOfType, expected an instance of array."), s.thatReturnsNull;
        for (var it = 0; it < Xe.length; it++) {
          var Rt = Xe[it];
          if (typeof Rt != "function")
            return d(false, "Invalid argument supplied to oneOfType. Expected an array of check functions, but received %s at index %s.", Cr(Rt), it), s.thatReturnsNull;
        }
        function Ot(vt, qt, xt, Mt, Kt) {
          for (var ur = 0; ur < Xe.length; ur++) {
            var hr = Xe[ur];
            if (hr(vt, qt, xt, Mt, Kt, T) == null)
              return null;
          }
          return new z("Invalid " + Mt + " `" + Kt + "` supplied to " + ("`" + xt + "`."));
        }
        return U(Ot);
      }
      function Et() {
        function Xe(it, Rt, Ot, vt, qt) {
          return pt(it[Rt]) ? null : new z("Invalid " + vt + " `" + qt + "` supplied to " + ("`" + Ot + "`, expected a ReactNode."));
        }
        return U(Xe);
      }
      function Ut(Xe) {
        function it(Rt, Ot, vt, qt, xt) {
          var Mt = Rt[Ot], Kt = ar(Mt);
          if (Kt !== "object")
            return new z("Invalid " + qt + " `" + xt + "` of type `" + Kt + "` " + ("supplied to `" + vt + "`, expected `object`."));
          for (var ur in Xe) {
            var hr = Xe[ur];
            if (hr) {
              var Cn = hr(Mt, ur, vt, qt, xt + "." + ur, T);
              if (Cn)
                return Cn;
            }
          }
          return null;
        }
        return U(it);
      }
      function or(Xe) {
        function it(Rt, Ot, vt, qt, xt) {
          var Mt = Rt[Ot], Kt = ar(Mt);
          if (Kt !== "object")
            return new z("Invalid " + qt + " `" + xt + "` of type `" + Kt + "` " + ("supplied to `" + vt + "`, expected `object`."));
          var ur = y({}, Rt[Ot], Xe);
          for (var hr in ur) {
            var Cn = Xe[hr];
            if (!Cn)
              return new z("Invalid " + qt + " `" + xt + "` key `" + hr + "` supplied to `" + vt + "`.\nBad object: " + JSON.stringify(Rt[Ot], null, "  ") + `
Valid keys: ` + JSON.stringify(Object.keys(Xe), null, "  "));
            var oo = Cn(Mt, hr, vt, qt, xt + "." + hr, T);
            if (oo)
              return oo;
          }
          return null;
        }
        return U(it);
      }
      function pt(Xe) {
        switch (typeof Xe) {
          case "number":
          case "string":
          case "undefined":
            return true;
          case "boolean":
            return !Xe;
          case "object":
            if (Array.isArray(Xe))
              return Xe.every(pt);
            if (Xe === null || j(Xe))
              return true;
            var it = ve(Xe);
            if (it) {
              var Rt = it.call(Xe), Ot;
              if (it !== Xe.entries) {
                for (; !(Ot = Rt.next()).done; )
                  if (!pt(Ot.value))
                    return false;
              } else
                for (; !(Ot = Rt.next()).done; ) {
                  var vt = Ot.value;
                  if (vt && !pt(vt[1]))
                    return false;
                }
            } else
              return false;
            return true;
          default:
            return false;
        }
      }
      function zt(Xe, it) {
        return Xe === "symbol" || it["@@toStringTag"] === "Symbol" || typeof Symbol == "function" && it instanceof Symbol;
      }
      function ar(Xe) {
        var it = typeof Xe;
        return Array.isArray(Xe) ? "array" : Xe instanceof RegExp ? "object" : zt(it, Xe) ? "symbol" : it;
      }
      function cr(Xe) {
        if (typeof Xe > "u" || Xe === null)
          return "" + Xe;
        var it = ar(Xe);
        if (it === "object") {
          if (Xe instanceof Date)
            return "date";
          if (Xe instanceof RegExp)
            return "regexp";
        }
        return it;
      }
      function Cr(Xe) {
        var it = cr(Xe);
        switch (it) {
          case "array":
          case "object":
            return "an " + it;
          case "boolean":
          case "date":
          case "regexp":
            return "a " + it;
          default:
            return it;
        }
      }
      function zn(Xe) {
        return !Xe.constructor || !Xe.constructor.name ? Se : Xe.constructor.name;
      }
      return me.checkPropTypes = w, me.PropTypes = me, me;
    }, L = i(function(j) {
      {
        var G = typeof Symbol == "function" && Symbol.for && Symbol.for("react.element") || 60103, ue = function(ve) {
          return typeof ve == "object" && ve !== null && ve.$$typeof === G;
        }, ye = true;
        j.exports = N(ue, ye);
      }
    }), A = i(function(j) {
      (function() {
        var G = {}.hasOwnProperty;
        function ue() {
          for (var ye = [], ve = 0; ve < arguments.length; ve++) {
            var Se = arguments[ve];
            if (Se) {
              var me = typeof Se;
              if (me === "string" || me === "number")
                ye.push(Se);
              else if (Array.isArray(Se))
                ye.push(ue.apply(null, Se));
              else if (me === "object")
                for (var be in Se)
                  G.call(Se, be) && Se[be] && ye.push(be);
            }
          }
          return ye.join(" ");
        }
        j.exports ? j.exports = ue : window.classNames = ue;
      })();
    });
    function R(j, G) {
      for (var ue = 0, ye = j.length; ue < ye; ue++)
        if (G.apply(G, [j[ue], ue, j]))
          return j[ue];
    }
    function F(j) {
      return typeof j == "function" || Object.prototype.toString.call(j) === "[object Function]";
    }
    function $(j) {
      return typeof j == "number" && !isNaN(j);
    }
    function K(j) {
      return parseInt(j, 10);
    }
    function ie(j, G, ue) {
      if (j[G])
        return new Error("Invalid prop " + G + " passed to " + ue + " - do not set this, set it on the child.");
    }
    var J = ["Moz", "Webkit", "O", "ms"];
    function pe() {
      var j = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : "transform";
      if (typeof window > "u" || typeof window.document > "u")
        return "";
      var G = window.document.documentElement.style;
      if (j in G)
        return "";
      for (var ue = 0; ue < J.length; ue++)
        if (oe(j, J[ue]) in G)
          return J[ue];
      return "";
    }
    function oe(j, G) {
      return G ? "" + G + q(j) : j;
    }
    function q(j) {
      for (var G = "", ue = true, ye = 0; ye < j.length; ye++)
        ue ? (G += j[ye].toUpperCase(), ue = false) : j[ye] === "-" ? ue = true : G += j[ye];
      return G;
    }
    var W = pe(), se = function(j, G) {
      if (!(j instanceof G))
        throw new TypeError("Cannot call a class as a function");
    }, Te = /* @__PURE__ */ function() {
      function j(G, ue) {
        for (var ye = 0; ye < ue.length; ye++) {
          var ve = ue[ye];
          ve.enumerable = ve.enumerable || false, ve.configurable = true, "value" in ve && (ve.writable = true), Object.defineProperty(G, ve.key, ve);
        }
      }
      return function(G, ue, ye) {
        return ue && j(G.prototype, ue), ye && j(G, ye), G;
      };
    }(), Ae = function(j, G, ue) {
      return G in j ? Object.defineProperty(j, G, {
        value: ue,
        enumerable: true,
        configurable: true,
        writable: true
      }) : j[G] = ue, j;
    }, Re = Object.assign || function(j) {
      for (var G = 1; G < arguments.length; G++) {
        var ue = arguments[G];
        for (var ye in ue)
          Object.prototype.hasOwnProperty.call(ue, ye) && (j[ye] = ue[ye]);
      }
      return j;
    }, Ee = function(j, G) {
      if (typeof G != "function" && G !== null)
        throw new TypeError("Super expression must either be null or a function, not " + typeof G);
      j.prototype = Object.create(G && G.prototype, {
        constructor: {
          value: j,
          enumerable: false,
          writable: true,
          configurable: true
        }
      }), G && (Object.setPrototypeOf ? Object.setPrototypeOf(j, G) : j.__proto__ = G);
    }, Me = function(j, G) {
      if (!j)
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      return G && (typeof G == "object" || typeof G == "function") ? G : j;
    }, Ne = /* @__PURE__ */ function() {
      function j(G, ue) {
        var ye = [], ve = true, Se = false, me = void 0;
        try {
          for (var be = G[Symbol.iterator](), z; !(ve = (z = be.next()).done) && (ye.push(z.value), !(ue && ye.length === ue)); ve = true)
            ;
        } catch (U) {
          Se = true, me = U;
        } finally {
          try {
            !ve && be.return && be.return();
          } finally {
            if (Se)
              throw me;
          }
        }
        return ye;
      }
      return function(G, ue) {
        if (Array.isArray(G))
          return G;
        if (Symbol.iterator in Object(G))
          return j(G, ue);
        throw new TypeError("Invalid attempt to destructure non-iterable instance");
      };
    }(), Oe = "";
    function Fe(j, G) {
      return Oe || (Oe = R(["matches", "webkitMatchesSelector", "mozMatchesSelector", "msMatchesSelector", "oMatchesSelector"], function(ue) {
        return F(j[ue]);
      })), F(j[Oe]) ? j[Oe](G) : false;
    }
    function Ue(j, G, ue) {
      var ye = j;
      do {
        if (Fe(ye, G))
          return true;
        if (ye === ue)
          return false;
        ye = ye.parentNode;
      } while (ye);
      return false;
    }
    function et(j, G, ue) {
      j && (j.attachEvent ? j.attachEvent("on" + G, ue) : j.addEventListener ? j.addEventListener(G, ue, true) : j["on" + G] = ue);
    }
    function ot(j, G, ue) {
      j && (j.detachEvent ? j.detachEvent("on" + G, ue) : j.removeEventListener ? j.removeEventListener(G, ue, true) : j["on" + G] = null);
    }
    function Ke(j) {
      var G = j.clientHeight, ue = j.ownerDocument.defaultView.getComputedStyle(j);
      return G += K(ue.borderTopWidth), G += K(ue.borderBottomWidth), G;
    }
    function ht(j) {
      var G = j.clientWidth, ue = j.ownerDocument.defaultView.getComputedStyle(j);
      return G += K(ue.borderLeftWidth), G += K(ue.borderRightWidth), G;
    }
    function bt(j) {
      var G = j.clientHeight, ue = j.ownerDocument.defaultView.getComputedStyle(j);
      return G -= K(ue.paddingTop), G -= K(ue.paddingBottom), G;
    }
    function $t(j) {
      var G = j.clientWidth, ue = j.ownerDocument.defaultView.getComputedStyle(j);
      return G -= K(ue.paddingLeft), G -= K(ue.paddingRight), G;
    }
    function rn(j, G) {
      var ue = G === G.ownerDocument.body, ye = ue ? {
        left: 0,
        top: 0
      } : G.getBoundingClientRect(), ve = j.clientX + G.scrollLeft - ye.left, Se = j.clientY + G.scrollTop - ye.top;
      return {
        x: ve,
        y: Se
      };
    }
    function Ht(j, G) {
      var ue = ne(j, G, "px");
      return Ae({}, oe("transform", W), ue);
    }
    function xe(j, G) {
      var ue = ne(j, G, "");
      return ue;
    }
    function ne(j, G, ue) {
      var ye = j.x, ve = j.y, Se = "translate(" + ye + ue + "," + ve + ue + ")";
      if (G) {
        var me = "" + (typeof G.x == "string" ? G.x : G.x + ue), be = "" + (typeof G.y == "string" ? G.y : G.y + ue);
        Se = "translate(" + me + ", " + be + ")" + Se;
      }
      return Se;
    }
    function ce(j, G) {
      return j.targetTouches && R(j.targetTouches, function(ue) {
        return G === ue.identifier;
      }) || j.changedTouches && R(j.changedTouches, function(ue) {
        return G === ue.identifier;
      });
    }
    function _e(j) {
      if (j.targetTouches && j.targetTouches[0])
        return j.targetTouches[0].identifier;
      if (j.changedTouches && j.changedTouches[0])
        return j.changedTouches[0].identifier;
    }
    function ee(j) {
      if (j) {
        var G = j.getElementById("react-draggable-style-el");
        G || (G = j.createElement("style"), G.type = "text/css", G.id = "react-draggable-style-el", G.innerHTML = `.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`, G.innerHTML += `.react-draggable-transparent-selection *::selection {all: inherit;}
`, j.getElementsByTagName("head")[0].appendChild(G)), j.body && ke(j.body, "react-draggable-transparent-selection");
      }
    }
    function de(j) {
      try {
        j && j.body && Ve(j.body, "react-draggable-transparent-selection"), j.selection ? j.selection.empty() : window.getSelection().removeAllRanges();
      } catch {
      }
    }
    function Ce() {
      var j = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
      return Re({
        touchAction: "none"
      }, j);
    }
    function ke(j, G) {
      j.classList ? j.classList.add(G) : j.className.match(new RegExp("(?:^|\\s)" + G + "(?!\\S)")) || (j.className += " " + G);
    }
    function Ve(j, G) {
      j.classList ? j.classList.remove(G) : j.className = j.className.replace(new RegExp("(?:^|\\s)" + G + "(?!\\S)", "g"), "");
    }
    function We(j, G, ue) {
      if (!j.props.bounds)
        return [G, ue];
      var ye = j.props.bounds;
      ye = typeof ye == "string" ? ye : H(ye);
      var ve = x(j);
      if (typeof ye == "string") {
        var Se = ve.ownerDocument, me = Se.defaultView, be = void 0;
        if (ye === "parent" ? be = ve.parentNode : be = Se.querySelector(ye), !(be instanceof me.HTMLElement))
          throw new Error('Bounds selector "' + ye + '" could not find an element.');
        var z = me.getComputedStyle(ve), U = me.getComputedStyle(be);
        ye = {
          left: -ve.offsetLeft + K(U.paddingLeft) + K(z.marginLeft),
          top: -ve.offsetTop + K(U.paddingTop) + K(z.marginTop),
          right: $t(be) - ht(ve) - ve.offsetLeft + K(U.paddingRight) - K(z.marginRight),
          bottom: bt(be) - Ke(ve) - ve.offsetTop + K(U.paddingBottom) - K(z.marginBottom)
        };
      }
      return $(ye.right) && (G = Math.min(G, ye.right)), $(ye.bottom) && (ue = Math.min(ue, ye.bottom)), $(ye.left) && (G = Math.max(G, ye.left)), $(ye.top) && (ue = Math.max(ue, ye.top)), [G, ue];
    }
    function Ze(j, G, ue) {
      var ye = Math.round(G / j[0]) * j[0], ve = Math.round(ue / j[1]) * j[1];
      return [ye, ve];
    }
    function rt(j) {
      return j.props.axis === "both" || j.props.axis === "x";
    }
    function ut(j) {
      return j.props.axis === "both" || j.props.axis === "y";
    }
    function Dt(j, G, ue) {
      var ye = typeof G == "number" ? ce(j, G) : null;
      if (typeof G == "number" && !ye)
        return null;
      var ve = x(ue), Se = ue.props.offsetParent || ve.offsetParent || ve.ownerDocument.body;
      return rn(ye || j, Se);
    }
    function gt(j, G, ue) {
      var ye = j.state, ve = !$(ye.lastX), Se = x(j);
      return ve ? {
        node: Se,
        deltaX: 0,
        deltaY: 0,
        lastX: G,
        lastY: ue,
        x: G,
        y: ue
      } : {
        node: Se,
        deltaX: G - ye.lastX,
        deltaY: ue - ye.lastY,
        lastX: ye.lastX,
        lastY: ye.lastY,
        x: G,
        y: ue
      };
    }
    function pr(j, G) {
      var ue = j.props.scale;
      return {
        node: G.node,
        x: j.state.x + G.deltaX / ue,
        y: j.state.y + G.deltaY / ue,
        deltaX: G.deltaX / ue,
        deltaY: G.deltaY / ue,
        lastX: j.state.x,
        lastY: j.state.y
      };
    }
    function H(j) {
      return {
        left: j.left,
        top: j.top,
        right: j.right,
        bottom: j.bottom
      };
    }
    function x(j) {
      var G = r.findDOMNode(j);
      if (!G)
        throw new Error("<DraggableCore>: Unmounted during event!");
      return G;
    }
    function B() {
    }
    var Q = {
      touch: {
        start: "touchstart",
        move: "touchmove",
        stop: "touchend"
      },
      mouse: {
        start: "mousedown",
        move: "mousemove",
        stop: "mouseup"
      }
    }, ge = Q.mouse, Z = function(j) {
      Ee(G, j);
      function G() {
        var ue, ye, ve, Se;
        se(this, G);
        for (var me = arguments.length, be = Array(me), z = 0; z < me; z++)
          be[z] = arguments[z];
        return Se = (ye = (ve = Me(this, (ue = G.__proto__ || Object.getPrototypeOf(G)).call.apply(ue, [this].concat(be))), ve), ve.state = {
          dragging: false,
          // Used while dragging to determine deltas.
          lastX: NaN,
          lastY: NaN,
          touchIdentifier: null
        }, ve.handleDragStart = function(U) {
          if (ve.props.onMouseDown(U), !ve.props.allowAnyClick && typeof U.button == "number" && U.button !== 0)
            return false;
          var ae = r.findDOMNode(ve);
          if (!ae || !ae.ownerDocument || !ae.ownerDocument.body)
            throw new Error("<DraggableCore> not mounted on DragStart!");
          var we = ae.ownerDocument;
          if (!(ve.props.disabled || !(U.target instanceof we.defaultView.Node) || ve.props.handle && !Ue(U.target, ve.props.handle, ae) || ve.props.cancel && Ue(U.target, ve.props.cancel, ae))) {
            var Ie = _e(U);
            ve.setState({
              touchIdentifier: Ie
            });
            var Ye = Dt(U, Ie, ve);
            if (Ye != null) {
              var qe = Ye.x, dt = Ye.y, At = gt(ve, qe, dt);
              ve.props.onStart;
              var Yt = ve.props.onStart(U, At);
              Yt !== false && (ve.props.enableUserSelectHack && ee(we), ve.setState({
                dragging: true,
                lastX: qe,
                lastY: dt
              }), et(we, ge.move, ve.handleDrag), et(we, ge.stop, ve.handleDragStop));
            }
          }
        }, ve.handleDrag = function(U) {
          U.type === "touchmove" && U.preventDefault();
          var ae = Dt(U, ve.state.touchIdentifier, ve);
          if (ae != null) {
            var we = ae.x, Ie = ae.y;
            if (Array.isArray(ve.props.grid)) {
              var Ye = we - ve.state.lastX, qe = Ie - ve.state.lastY, dt = Ze(ve.props.grid, Ye, qe), At = Ne(dt, 2);
              if (Ye = At[0], qe = At[1], !Ye && !qe)
                return;
              we = ve.state.lastX + Ye, Ie = ve.state.lastY + qe;
            }
            var Yt = gt(ve, we, Ie), Et = ve.props.onDrag(U, Yt);
            if (Et === false) {
              try {
                ve.handleDragStop(new MouseEvent("mouseup"));
              } catch {
                var Ut = document.createEvent("MouseEvents");
                Ut.initMouseEvent("mouseup", true, true, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null), ve.handleDragStop(Ut);
              }
              return;
            }
            ve.setState({
              lastX: we,
              lastY: Ie
            });
          }
        }, ve.handleDragStop = function(U) {
          if (ve.state.dragging) {
            var ae = Dt(U, ve.state.touchIdentifier, ve);
            if (ae != null) {
              var we = ae.x, Ie = ae.y, Ye = gt(ve, we, Ie), qe = r.findDOMNode(ve);
              qe && ve.props.enableUserSelectHack && de(qe.ownerDocument), ve.setState({
                dragging: false,
                lastX: NaN,
                lastY: NaN
              }), ve.props.onStop(U, Ye), qe && (ot(qe.ownerDocument, ge.move, ve.handleDrag), ot(qe.ownerDocument, ge.stop, ve.handleDragStop));
            }
          }
        }, ve.onMouseDown = function(U) {
          return ge = Q.mouse, ve.handleDragStart(U);
        }, ve.onMouseUp = function(U) {
          return ge = Q.mouse, ve.handleDragStop(U);
        }, ve.onTouchStart = function(U) {
          return ge = Q.touch, ve.handleDragStart(U);
        }, ve.onTouchEnd = function(U) {
          return ge = Q.touch, ve.handleDragStop(U);
        }, ye), Me(ve, Se);
      }
      return Te(G, [{
        key: "componentWillUnmount",
        value: function() {
          var ye = r.findDOMNode(this);
          if (ye) {
            var ve = ye.ownerDocument;
            ot(ve, Q.mouse.move, this.handleDrag), ot(ve, Q.touch.move, this.handleDrag), ot(ve, Q.mouse.stop, this.handleDragStop), ot(ve, Q.touch.stop, this.handleDragStop), this.props.enableUserSelectHack && de(ve);
          }
        }
        // Same as onMouseDown (start drag), but now consider this a touch device.
      }, {
        key: "render",
        value: function() {
          return n.cloneElement(n.Children.only(this.props.children), {
            style: Ce(this.props.children.props.style),
            // Note: mouseMove handler is attached to document so it will still function
            // when the user drags quickly and leaves the bounds of the element.
            onMouseDown: this.onMouseDown,
            onTouchStart: this.onTouchStart,
            onMouseUp: this.onMouseUp,
            onTouchEnd: this.onTouchEnd
          });
        }
      }]), G;
    }(n.Component);
    Z.displayName = "DraggableCore", Z.propTypes = {
      /**
       * `allowAnyClick` allows dragging using any mouse button.
       * By default, we only accept the left button.
       *
       * Defaults to `false`.
       */
      allowAnyClick: L.bool,
      /**
       * `disabled`, if true, stops the <Draggable> from dragging. All handlers,
       * with the exception of `onMouseDown`, will not fire.
       */
      disabled: L.bool,
      /**
       * By default, we add 'user-select:none' attributes to the document body
       * to prevent ugly text selection during drag. If this is causing problems
       * for your app, set this to `false`.
       */
      enableUserSelectHack: L.bool,
      /**
       * `offsetParent`, if set, uses the passed DOM node to compute drag offsets
       * instead of using the parent node.
       */
      offsetParent: function(G, ue) {
        if (G[ue] && G[ue].nodeType !== 1)
          throw new Error("Draggable's offsetParent must be a DOM Node.");
      },
      /**
       * `grid` specifies the x and y that dragging should snap to.
       */
      grid: L.arrayOf(L.number),
      /**
       * `scale` specifies the scale of the area you are dragging inside of. It allows
       * the drag deltas to scale correctly with how far zoomed in/out you are.
       */
      scale: L.number,
      /**
       * `handle` specifies a selector to be used as the handle that initiates drag.
       *
       * Example:
       *
       * ```jsx
       *   let App = React.createClass({
       *       render: function () {
       *         return (
       *            <Draggable handle=".handle">
       *              <div>
       *                  <div className="handle">Click me to drag</div>
       *                  <div>This is some other content</div>
       *              </div>
       *           </Draggable>
       *         );
       *       }
       *   });
       * ```
       */
      handle: L.string,
      /**
       * `cancel` specifies a selector to be used to prevent drag initialization.
       *
       * Example:
       *
       * ```jsx
       *   let App = React.createClass({
       *       render: function () {
       *           return(
       *               <Draggable cancel=".cancel">
       *                   <div>
       *                     <div className="cancel">You can't drag from here</div>
       *                     <div>Dragging here works fine</div>
       *                   </div>
       *               </Draggable>
       *           );
       *       }
       *   });
       * ```
       */
      cancel: L.string,
      /**
       * Called when dragging starts.
       * If this function returns the boolean false, dragging will be canceled.
       */
      onStart: L.func,
      /**
       * Called while dragging.
       * If this function returns the boolean false, dragging will be canceled.
       */
      onDrag: L.func,
      /**
       * Called when dragging stops.
       * If this function returns the boolean false, the drag will remain active.
       */
      onStop: L.func,
      /**
       * A workaround option which can be passed if onMouseDown needs to be accessed,
       * since it'll always be blocked (as there is internal use of onMouseDown)
       */
      onMouseDown: L.func,
      /**
       * These properties should be defined on the child, not here.
       */
      className: ie,
      style: ie,
      transform: ie
    }, Z.defaultProps = {
      allowAnyClick: false,
      // by default only accept left click
      cancel: null,
      disabled: false,
      enableUserSelectHack: true,
      offsetParent: null,
      handle: null,
      grid: null,
      transform: null,
      onStart: function() {
      },
      onDrag: function() {
      },
      onStop: function() {
      },
      onMouseDown: function() {
      }
    };
    var Y = function(j) {
      Ee(G, j);
      function G(ue) {
        se(this, G);
        var ye = Me(this, (G.__proto__ || Object.getPrototypeOf(G)).call(this, ue));
        return ye.onDragStart = function(ve, Se) {
          var me = ye.props.onStart(ve, pr(ye, Se));
          if (me === false)
            return false;
          ye.setState({
            dragging: true,
            dragged: true
          });
        }, ye.onDrag = function(ve, Se) {
          if (!ye.state.dragging)
            return false;
          var me = pr(ye, Se), be = {
            x: me.x,
            y: me.y
          };
          if (ye.props.bounds) {
            var z = be.x, U = be.y;
            be.x += ye.state.slackX, be.y += ye.state.slackY;
            var ae = We(ye, be.x, be.y), we = Ne(ae, 2), Ie = we[0], Ye = we[1];
            be.x = Ie, be.y = Ye, be.slackX = ye.state.slackX + (z - be.x), be.slackY = ye.state.slackY + (U - be.y), me.x = be.x, me.y = be.y, me.deltaX = be.x - ye.state.x, me.deltaY = be.y - ye.state.y;
          }
          var qe = ye.props.onDrag(ve, me);
          if (qe === false)
            return false;
          ye.setState(be);
        }, ye.onDragStop = function(ve, Se) {
          if (!ye.state.dragging)
            return false;
          var me = ye.props.onStop(ve, pr(ye, Se));
          if (me === false)
            return false;
          var be = {
            dragging: false,
            slackX: 0,
            slackY: 0
          }, z = !!ye.props.position;
          if (z) {
            var U = ye.props.position, ae = U.x, we = U.y;
            be.x = ae, be.y = we;
          }
          ye.setState(be);
        }, ye.state = {
          // Whether or not we are currently dragging.
          dragging: false,
          // Whether or not we have been dragged before.
          dragged: false,
          // Current transform x and y.
          x: ue.position ? ue.position.x : ue.defaultPosition.x,
          y: ue.position ? ue.position.y : ue.defaultPosition.y,
          // Used for compensating for out-of-bounds drags
          slackX: 0,
          slackY: 0,
          // Can only determine if SVG after mounting
          isElementSVG: false
        }, ue.position && !(ue.onDrag || ue.onStop) && console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."), ye;
      }
      return Te(G, [{
        key: "componentDidMount",
        value: function() {
          typeof window.SVGElement < "u" && r.findDOMNode(this) instanceof window.SVGElement && this.setState({
            isElementSVG: true
          });
        }
      }, {
        key: "componentWillReceiveProps",
        value: function(ye) {
          ye.position && (!this.props.position || ye.position.x !== this.props.position.x || ye.position.y !== this.props.position.y) && this.setState({
            x: ye.position.x,
            y: ye.position.y
          });
        }
      }, {
        key: "componentWillUnmount",
        value: function() {
          this.setState({
            dragging: false
          });
        }
      }, {
        key: "render",
        value: function() {
          var ye, ve = {}, Se = null, me = !!this.props.position, be = !me || this.state.dragging, z = this.props.position || this.props.defaultPosition, U = {
            // Set left if horizontal drag is enabled
            x: rt(this) && be ? this.state.x : z.x,
            // Set top if vertical drag is enabled
            y: ut(this) && be ? this.state.y : z.y
          };
          this.state.isElementSVG ? Se = xe(U, this.props.positionOffset) : ve = Ht(U, this.props.positionOffset);
          var ae = this.props, we = ae.defaultClassName, Ie = ae.defaultClassNameDragging, Ye = ae.defaultClassNameDragged, qe = n.Children.only(this.props.children), dt = A(qe.props.className || "", we, (ye = {}, Ae(ye, Ie, this.state.dragging), Ae(ye, Ye, this.state.dragged), ye));
          return n.createElement(Z, Re({}, this.props, {
            onStart: this.onDragStart,
            onDrag: this.onDrag,
            onStop: this.onDragStop
          }), n.cloneElement(qe, {
            className: dt,
            style: Re({}, qe.props.style, ve),
            transform: Se
          }));
        }
      }]), G;
    }(n.Component);
    return Y.displayName = "Draggable", Y.propTypes = Re({}, Z.propTypes, {
      /**
       * `axis` determines which axis the draggable can move.
       *
       *  Note that all callbacks will still return data as normal. This only
       *  controls flushing to the DOM.
       *
       * 'both' allows movement horizontally and vertically.
       * 'x' limits movement to horizontal axis.
       * 'y' limits movement to vertical axis.
       * 'none' limits all movement.
       *
       * Defaults to 'both'.
       */
      axis: L.oneOf(["both", "x", "y", "none"]),
      /**
       * `bounds` determines the range of movement available to the element.
       * Available values are:
       *
       * 'parent' restricts movement within the Draggable's parent node.
       *
       * Alternatively, pass an object with the following properties, all of which are optional:
       *
       * {left: LEFT_BOUND, right: RIGHT_BOUND, bottom: BOTTOM_BOUND, top: TOP_BOUND}
       *
       * All values are in px.
       *
       * Example:
       *
       * ```jsx
       *   let App = React.createClass({
       *       render: function () {
       *         return (
       *            <Draggable bounds={{right: 300, bottom: 300}}>
       *              <div>Content</div>
       *           </Draggable>
       *         );
       *       }
       *   });
       * ```
       */
      bounds: L.oneOfType([L.shape({
        left: L.number,
        right: L.number,
        top: L.number,
        bottom: L.number
      }), L.string, L.oneOf([false])]),
      defaultClassName: L.string,
      defaultClassNameDragging: L.string,
      defaultClassNameDragged: L.string,
      /**
       * `defaultPosition` specifies the x and y that the dragged item should start at
       *
       * Example:
       *
       * ```jsx
       *      let App = React.createClass({
       *          render: function () {
       *              return (
       *                  <Draggable defaultPosition={{x: 25, y: 25}}>
       *                      <div>I start with transformX: 25px and transformY: 25px;</div>
       *                  </Draggable>
       *              );
       *          }
       *      });
       * ```
       */
      defaultPosition: L.shape({
        x: L.number,
        y: L.number
      }),
      positionOffset: L.shape({
        x: L.oneOfType([L.number, L.string]),
        y: L.oneOfType([L.number, L.string])
      }),
      /**
       * `position`, if present, defines the current position of the element.
       *
       *  This is similar to how form elements in React work - if no `position` is supplied, the component
       *  is uncontrolled.
       *
       * Example:
       *
       * ```jsx
       *      let App = React.createClass({
       *          render: function () {
       *              return (
       *                  <Draggable position={{x: 25, y: 25}}>
       *                      <div>I start with transformX: 25px and transformY: 25px;</div>
       *                  </Draggable>
       *              );
       *          }
       *      });
       * ```
       */
      position: L.shape({
        x: L.number,
        y: L.number
      }),
      /**
       * These properties should be defined on the child, not here.
       */
      className: ie,
      style: ie,
      transform: ie
    }), Y.defaultProps = Re({}, Z.defaultProps, {
      axis: "both",
      bounds: false,
      defaultClassName: "react-draggable",
      defaultClassNameDragging: "react-draggable-dragging",
      defaultClassNameDragged: "react-draggable-dragged",
      defaultPosition: {
        x: 0,
        y: 0
      },
      position: null,
      scale: 1
    }), Y.default = Y, Y.DraggableCore = Z, Y;
  });
})(w8);
var ale = w8.exports;
var e1 = { exports: {} };
var Lv = {};
var t1 = { exports: {} };
var A8 = {};
function O8(e13) {
  var t, r, n = "";
  if (typeof e13 == "string" || typeof e13 == "number")
    n += e13;
  else if (typeof e13 == "object")
    if (Array.isArray(e13))
      for (t = 0; t < e13.length; t++)
        e13[t] && (r = O8(e13[t])) && (n && (n += " "), n += r);
    else
      for (t in e13)
        e13[t] && (n && (n += " "), n += t);
  return n;
}
function nr() {
  for (var e13, t, r = 0, n = ""; r < arguments.length; )
    (e13 = arguments[r++]) && (t = O8(e13)) && (n && (n += " "), n += t);
  return n;
}
var sle = Object.freeze(Object.defineProperty({
  __proto__: null,
  clsx: nr,
  default: nr
}, Symbol.toStringTag, { value: "Module" }));
var lle = Hs(sle);
var Kr = {};
var Va = {};
Object.defineProperty(Va, "__esModule", {
  value: true
});
Va.dontSetMe = dle;
Va.findInArray = cle;
Va.int = fle;
Va.isFunction = ule;
Va.isNum = hle;
function cle(e13, t) {
  for (let r = 0, n = e13.length; r < n; r++)
    if (t.apply(t, [e13[r], r, e13]))
      return e13[r];
}
function ule(e13) {
  return typeof e13 == "function" || Object.prototype.toString.call(e13) === "[object Function]";
}
function hle(e13) {
  return typeof e13 == "number" && !isNaN(e13);
}
function fle(e13) {
  return parseInt(e13, 10);
}
function dle(e13, t, r) {
  if (e13[t])
    return new Error("Invalid prop ".concat(t, " passed to ").concat(r, " - do not set this, set it on the child."));
}
var qu = {};
Object.defineProperty(qu, "__esModule", {
  value: true
});
qu.browserPrefixToKey = P8;
qu.browserPrefixToStyle = ple;
qu.default = void 0;
qu.getPrefix = I8;
var Dw = ["Moz", "Webkit", "O", "ms"];
function I8() {
  var e13;
  let t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : "transform";
  if (typeof window > "u")
    return "";
  const r = (e13 = window.document) === null || e13 === void 0 || (e13 = e13.documentElement) === null || e13 === void 0 ? void 0 : e13.style;
  if (!r || t in r)
    return "";
  for (let n = 0; n < Dw.length; n++)
    if (P8(t, Dw[n]) in r)
      return Dw[n];
  return "";
}
function P8(e13, t) {
  return t ? "".concat(t).concat(mle(e13)) : e13;
}
function ple(e13, t) {
  return t ? "-".concat(t.toLowerCase(), "-").concat(e13) : e13;
}
function mle(e13) {
  let t = "", r = true;
  for (let n = 0; n < e13.length; n++)
    r ? (t += e13[n].toUpperCase(), r = false) : e13[n] === "-" ? r = true : t += e13[n];
  return t;
}
qu.default = I8();
Object.defineProperty(Kr, "__esModule", {
  value: true
});
Kr.addClassName = k8;
Kr.addEvent = yle;
Kr.addUserSelectStyles = Cle;
Kr.createCSSTransform = Ale;
Kr.createSVGTransform = Ole;
Kr.getTouch = Ile;
Kr.getTouchIdentifier = Ple;
Kr.getTranslation = uR;
Kr.innerHeight = Ele;
Kr.innerWidth = Sle;
Kr.matchesSelector = x8;
Kr.matchesSelectorAndParentsTo = vle;
Kr.offsetXYFromParent = wle;
Kr.outerHeight = ble;
Kr.outerWidth = Tle;
Kr.removeClassName = D8;
Kr.removeEvent = _le;
Kr.removeUserSelectStyles = xle;
var no = Va;
var XB = gle(qu);
function C8(e13) {
  if (typeof WeakMap != "function")
    return null;
  var t = /* @__PURE__ */ new WeakMap(), r = /* @__PURE__ */ new WeakMap();
  return (C8 = function(n) {
    return n ? r : t;
  })(e13);
}
function gle(e13, t) {
  if (e13 && e13.__esModule)
    return e13;
  if (e13 === null || typeof e13 != "object" && typeof e13 != "function")
    return {
      default: e13
    };
  var r = C8(t);
  if (r && r.has(e13))
    return r.get(e13);
  var n = {}, i = Object.defineProperty && Object.getOwnPropertyDescriptor;
  for (var o in e13)
    if (o !== "default" && Object.prototype.hasOwnProperty.call(e13, o)) {
      var a = i ? Object.getOwnPropertyDescriptor(e13, o) : null;
      a && (a.get || a.set) ? Object.defineProperty(n, o, a) : n[o] = e13[o];
    }
  return n.default = e13, r && r.set(e13, n), n;
}
var Ky = "";
function x8(e13, t) {
  return Ky || (Ky = (0, no.findInArray)(["matches", "webkitMatchesSelector", "mozMatchesSelector", "msMatchesSelector", "oMatchesSelector"], function(r) {
    return (0, no.isFunction)(e13[r]);
  })), (0, no.isFunction)(e13[Ky]) ? e13[Ky](t) : false;
}
function vle(e13, t, r) {
  let n = e13;
  do {
    if (x8(n, t))
      return true;
    if (n === r)
      return false;
    n = n.parentNode;
  } while (n);
  return false;
}
function yle(e13, t, r, n) {
  if (!e13)
    return;
  const i = {
    capture: true,
    ...n
  };
  e13.addEventListener ? e13.addEventListener(t, r, i) : e13.attachEvent ? e13.attachEvent("on" + t, r) : e13["on" + t] = r;
}
function _le(e13, t, r, n) {
  if (!e13)
    return;
  const i = {
    capture: true,
    ...n
  };
  e13.removeEventListener ? e13.removeEventListener(t, r, i) : e13.detachEvent ? e13.detachEvent("on" + t, r) : e13["on" + t] = null;
}
function ble(e13) {
  let t = e13.clientHeight;
  const r = e13.ownerDocument.defaultView.getComputedStyle(e13);
  return t += (0, no.int)(r.borderTopWidth), t += (0, no.int)(r.borderBottomWidth), t;
}
function Tle(e13) {
  let t = e13.clientWidth;
  const r = e13.ownerDocument.defaultView.getComputedStyle(e13);
  return t += (0, no.int)(r.borderLeftWidth), t += (0, no.int)(r.borderRightWidth), t;
}
function Ele(e13) {
  let t = e13.clientHeight;
  const r = e13.ownerDocument.defaultView.getComputedStyle(e13);
  return t -= (0, no.int)(r.paddingTop), t -= (0, no.int)(r.paddingBottom), t;
}
function Sle(e13) {
  let t = e13.clientWidth;
  const r = e13.ownerDocument.defaultView.getComputedStyle(e13);
  return t -= (0, no.int)(r.paddingLeft), t -= (0, no.int)(r.paddingRight), t;
}
function wle(e13, t, r) {
  const i = t === t.ownerDocument.body ? {
    left: 0,
    top: 0
  } : t.getBoundingClientRect(), o = (e13.clientX + t.scrollLeft - i.left) / r, a = (e13.clientY + t.scrollTop - i.top) / r;
  return {
    x: o,
    y: a
  };
}
function Ale(e13, t) {
  const r = uR(e13, t, "px");
  return {
    [(0, XB.browserPrefixToKey)("transform", XB.default)]: r
  };
}
function Ole(e13, t) {
  return uR(e13, t, "");
}
function uR(e13, t, r) {
  let {
    x: n,
    y: i
  } = e13, o = "translate(".concat(n).concat(r, ",").concat(i).concat(r, ")");
  if (t) {
    const a = "".concat(typeof t.x == "string" ? t.x : t.x + r), s = "".concat(typeof t.y == "string" ? t.y : t.y + r);
    o = "translate(".concat(a, ", ").concat(s, ")") + o;
  }
  return o;
}
function Ile(e13, t) {
  return e13.targetTouches && (0, no.findInArray)(e13.targetTouches, (r) => t === r.identifier) || e13.changedTouches && (0, no.findInArray)(e13.changedTouches, (r) => t === r.identifier);
}
function Ple(e13) {
  if (e13.targetTouches && e13.targetTouches[0])
    return e13.targetTouches[0].identifier;
  if (e13.changedTouches && e13.changedTouches[0])
    return e13.changedTouches[0].identifier;
}
function Cle(e13) {
  if (!e13)
    return;
  let t = e13.getElementById("react-draggable-style-el");
  t || (t = e13.createElement("style"), t.type = "text/css", t.id = "react-draggable-style-el", t.innerHTML = `.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`, t.innerHTML += `.react-draggable-transparent-selection *::selection {all: inherit;}
`, e13.getElementsByTagName("head")[0].appendChild(t)), e13.body && k8(e13.body, "react-draggable-transparent-selection");
}
function xle(e13) {
  if (e13)
    try {
      if (e13.body && D8(e13.body, "react-draggable-transparent-selection"), e13.selection)
        e13.selection.empty();
      else {
        const t = (e13.defaultView || window).getSelection();
        t && t.type !== "Caret" && t.removeAllRanges();
      }
    } catch {
    }
}
function k8(e13, t) {
  e13.classList ? e13.classList.add(t) : e13.className.match(new RegExp("(?:^|\\s)".concat(t, "(?!\\S)"))) || (e13.className += " ".concat(t));
}
function D8(e13, t) {
  e13.classList ? e13.classList.remove(t) : e13.className = e13.className.replace(new RegExp("(?:^|\\s)".concat(t, "(?!\\S)"), "g"), "");
}
var Xa = {};
Object.defineProperty(Xa, "__esModule", {
  value: true
});
Xa.canDragX = Rle;
Xa.canDragY = Nle;
Xa.createCoreData = Lle;
Xa.createDraggableData = Ble;
Xa.getBoundPosition = kle;
Xa.getControlPosition = Mle;
Xa.snapToGrid = Dle;
var Vi = Va;
var uf = Kr;
function kle(e13, t, r) {
  if (!e13.props.bounds)
    return [t, r];
  let {
    bounds: n
  } = e13.props;
  n = typeof n == "string" ? n : Fle(n);
  const i = hR(e13);
  if (typeof n == "string") {
    const {
      ownerDocument: o
    } = i, a = o.defaultView;
    let s;
    if (n === "parent" ? s = i.parentNode : s = o.querySelector(n), !(s instanceof a.HTMLElement))
      throw new Error('Bounds selector "' + n + '" could not find an element.');
    const l = s, u = a.getComputedStyle(i), c = a.getComputedStyle(l);
    n = {
      left: -i.offsetLeft + (0, Vi.int)(c.paddingLeft) + (0, Vi.int)(u.marginLeft),
      top: -i.offsetTop + (0, Vi.int)(c.paddingTop) + (0, Vi.int)(u.marginTop),
      right: (0, uf.innerWidth)(l) - (0, uf.outerWidth)(i) - i.offsetLeft + (0, Vi.int)(c.paddingRight) - (0, Vi.int)(u.marginRight),
      bottom: (0, uf.innerHeight)(l) - (0, uf.outerHeight)(i) - i.offsetTop + (0, Vi.int)(c.paddingBottom) - (0, Vi.int)(u.marginBottom)
    };
  }
  return (0, Vi.isNum)(n.right) && (t = Math.min(t, n.right)), (0, Vi.isNum)(n.bottom) && (r = Math.min(r, n.bottom)), (0, Vi.isNum)(n.left) && (t = Math.max(t, n.left)), (0, Vi.isNum)(n.top) && (r = Math.max(r, n.top)), [t, r];
}
function Dle(e13, t, r) {
  const n = Math.round(t / e13[0]) * e13[0], i = Math.round(r / e13[1]) * e13[1];
  return [n, i];
}
function Rle(e13) {
  return e13.props.axis === "both" || e13.props.axis === "x";
}
function Nle(e13) {
  return e13.props.axis === "both" || e13.props.axis === "y";
}
function Mle(e13, t, r) {
  const n = typeof t == "number" ? (0, uf.getTouch)(e13, t) : null;
  if (typeof t == "number" && !n)
    return null;
  const i = hR(r), o = r.props.offsetParent || i.offsetParent || i.ownerDocument.body;
  return (0, uf.offsetXYFromParent)(n || e13, o, r.props.scale);
}
function Lle(e13, t, r) {
  const n = !(0, Vi.isNum)(e13.lastX), i = hR(e13);
  return n ? {
    node: i,
    deltaX: 0,
    deltaY: 0,
    lastX: t,
    lastY: r,
    x: t,
    y: r
  } : {
    node: i,
    deltaX: t - e13.lastX,
    deltaY: r - e13.lastY,
    lastX: e13.lastX,
    lastY: e13.lastY,
    x: t,
    y: r
  };
}
function Ble(e13, t) {
  const r = e13.props.scale;
  return {
    node: t.node,
    x: e13.state.x + t.deltaX / r,
    y: e13.state.y + t.deltaY / r,
    deltaX: t.deltaX / r,
    deltaY: t.deltaY / r,
    lastX: e13.state.x,
    lastY: e13.state.y
  };
}
function Fle(e13) {
  return {
    left: e13.left,
    top: e13.top,
    right: e13.right,
    bottom: e13.bottom
  };
}
function hR(e13) {
  const t = e13.findDOMNode();
  if (!t)
    throw new Error("<DraggableCore>: Unmounted during event!");
  return t;
}
var r1 = {};
var n1 = {};
Object.defineProperty(n1, "__esModule", {
  value: true
});
n1.default = $le;
function $le() {
}
function Hle(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function Ule(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, Gle(n.key), n);
  }
}
function jle(e13, t, r) {
  return t && Ule(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function Gle(e13) {
  var t = zle(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function zle(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
function Vle(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  e13.prototype = Object.create(t && t.prototype, { constructor: { value: e13, writable: true, configurable: true } }), Object.defineProperty(e13, "prototype", { writable: false }), t && oP(e13, t);
}
function oP(e13, t) {
  return oP = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, i) {
    return n.__proto__ = i, n;
  }, oP(e13, t);
}
function Xle(e13) {
  var t = Yle();
  return function() {
    var n = d0(e13), i;
    if (t) {
      var o = d0(this).constructor;
      i = Reflect.construct(n, arguments, o);
    } else
      i = n.apply(this, arguments);
    return Wle(this, i);
  };
}
function Wle(e13, t) {
  if (t && (typeof t == "object" || typeof t == "function"))
    return t;
  if (t !== void 0)
    throw new TypeError("Derived constructors may only return object or undefined");
  return cn(e13);
}
function cn(e13) {
  if (e13 === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e13;
}
function Yle() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return false;
  if (typeof Proxy == "function")
    return true;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), true;
  } catch {
    return false;
  }
}
function d0(e13) {
  return d0 = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(r) {
    return r.__proto__ || Object.getPrototypeOf(r);
  }, d0(e13);
}
Object.defineProperty(r1, "__esModule", {
  value: true
});
r1.default = void 0;
var Rw = Kle(import_react.default);
var Oi = fR(Us);
var qle = fR(import_react_dom.default);
var Kn = Kr;
var rl = Xa;
var Nw = Va;
var Hp = fR(n1);
function fR(e13) {
  return e13 && e13.__esModule ? e13 : {
    default: e13
  };
}
function R8(e13) {
  if (typeof WeakMap != "function")
    return null;
  var t = /* @__PURE__ */ new WeakMap(), r = /* @__PURE__ */ new WeakMap();
  return (R8 = function(n) {
    return n ? r : t;
  })(e13);
}
function Kle(e13, t) {
  if (e13 && e13.__esModule)
    return e13;
  if (e13 === null || typeof e13 != "object" && typeof e13 != "function")
    return {
      default: e13
    };
  var r = R8(t);
  if (r && r.has(e13))
    return r.get(e13);
  var n = {}, i = Object.defineProperty && Object.getOwnPropertyDescriptor;
  for (var o in e13)
    if (o !== "default" && Object.prototype.hasOwnProperty.call(e13, o)) {
      var a = i ? Object.getOwnPropertyDescriptor(e13, o) : null;
      a && (a.get || a.set) ? Object.defineProperty(n, o, a) : n[o] = e13[o];
    }
  return n.default = e13, r && r.set(e13, n), n;
}
function li(e13, t, r) {
  return t = Zle(t), t in e13 ? Object.defineProperty(e13, t, {
    value: r,
    enumerable: true,
    configurable: true,
    writable: true
  }) : e13[t] = r, e13;
}
function Zle(e13) {
  var t = Qle(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function Qle(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e13);
}
var No = {
  touch: {
    start: "touchstart",
    move: "touchmove",
    stop: "touchend"
  },
  mouse: {
    start: "mousedown",
    move: "mousemove",
    stop: "mouseup"
  }
};
var nl = No.mouse;
var i1 = function(e13) {
  Vle(r, e13);
  var t = Xle(r);
  function r() {
    var n;
    return Hle(this, r), n = t.apply(this, arguments), li(cn(n), "dragging", false), li(cn(n), "lastX", NaN), li(cn(n), "lastY", NaN), li(cn(n), "touchIdentifier", null), li(cn(n), "mounted", false), li(cn(n), "handleDragStart", (i) => {
      if (n.props.onMouseDown(i), !n.props.allowAnyClick && typeof i.button == "number" && i.button !== 0)
        return false;
      const o = n.findDOMNode();
      if (!o || !o.ownerDocument || !o.ownerDocument.body)
        throw new Error("<DraggableCore> not mounted on DragStart!");
      const {
        ownerDocument: a
      } = o;
      if (n.props.disabled || !(i.target instanceof a.defaultView.Node) || n.props.handle && !(0, Kn.matchesSelectorAndParentsTo)(i.target, n.props.handle, o) || n.props.cancel && (0, Kn.matchesSelectorAndParentsTo)(i.target, n.props.cancel, o))
        return;
      i.type === "touchstart" && i.preventDefault();
      const s = (0, Kn.getTouchIdentifier)(i);
      n.touchIdentifier = s;
      const l = (0, rl.getControlPosition)(i, s, cn(n));
      if (l == null)
        return;
      const {
        x: u,
        y: c
      } = l, f = (0, rl.createCoreData)(cn(n), u, c);
      (0, Hp.default)("DraggableCore: handleDragStart: %j", f), (0, Hp.default)("calling", n.props.onStart), !(n.props.onStart(i, f) === false || n.mounted === false) && (n.props.enableUserSelectHack && (0, Kn.addUserSelectStyles)(a), n.dragging = true, n.lastX = u, n.lastY = c, (0, Kn.addEvent)(a, nl.move, n.handleDrag), (0, Kn.addEvent)(a, nl.stop, n.handleDragStop));
    }), li(cn(n), "handleDrag", (i) => {
      const o = (0, rl.getControlPosition)(i, n.touchIdentifier, cn(n));
      if (o == null)
        return;
      let {
        x: a,
        y: s
      } = o;
      if (Array.isArray(n.props.grid)) {
        let c = a - n.lastX, f = s - n.lastY;
        if ([c, f] = (0, rl.snapToGrid)(n.props.grid, c, f), !c && !f)
          return;
        a = n.lastX + c, s = n.lastY + f;
      }
      const l = (0, rl.createCoreData)(cn(n), a, s);
      if ((0, Hp.default)("DraggableCore: handleDrag: %j", l), n.props.onDrag(i, l) === false || n.mounted === false) {
        try {
          n.handleDragStop(new MouseEvent("mouseup"));
        } catch {
          const f = document.createEvent("MouseEvents");
          f.initMouseEvent("mouseup", true, true, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null), n.handleDragStop(f);
        }
        return;
      }
      n.lastX = a, n.lastY = s;
    }), li(cn(n), "handleDragStop", (i) => {
      if (!n.dragging)
        return;
      const o = (0, rl.getControlPosition)(i, n.touchIdentifier, cn(n));
      if (o == null)
        return;
      let {
        x: a,
        y: s
      } = o;
      if (Array.isArray(n.props.grid)) {
        let f = a - n.lastX || 0, h = s - n.lastY || 0;
        [f, h] = (0, rl.snapToGrid)(n.props.grid, f, h), a = n.lastX + f, s = n.lastY + h;
      }
      const l = (0, rl.createCoreData)(cn(n), a, s);
      if (n.props.onStop(i, l) === false || n.mounted === false)
        return false;
      const c = n.findDOMNode();
      c && n.props.enableUserSelectHack && (0, Kn.removeUserSelectStyles)(c.ownerDocument), (0, Hp.default)("DraggableCore: handleDragStop: %j", l), n.dragging = false, n.lastX = NaN, n.lastY = NaN, c && ((0, Hp.default)("DraggableCore: Removing handlers"), (0, Kn.removeEvent)(c.ownerDocument, nl.move, n.handleDrag), (0, Kn.removeEvent)(c.ownerDocument, nl.stop, n.handleDragStop));
    }), li(cn(n), "onMouseDown", (i) => (nl = No.mouse, n.handleDragStart(i))), li(cn(n), "onMouseUp", (i) => (nl = No.mouse, n.handleDragStop(i))), li(cn(n), "onTouchStart", (i) => (nl = No.touch, n.handleDragStart(i))), li(cn(n), "onTouchEnd", (i) => (nl = No.touch, n.handleDragStop(i))), n;
  }
  return jle(r, [{
    key: "componentDidMount",
    value: function() {
      this.mounted = true;
      const i = this.findDOMNode();
      i && (0, Kn.addEvent)(i, No.touch.start, this.onTouchStart, {
        passive: false
      });
    }
  }, {
    key: "componentWillUnmount",
    value: function() {
      this.mounted = false;
      const i = this.findDOMNode();
      if (i) {
        const {
          ownerDocument: o
        } = i;
        (0, Kn.removeEvent)(o, No.mouse.move, this.handleDrag), (0, Kn.removeEvent)(o, No.touch.move, this.handleDrag), (0, Kn.removeEvent)(o, No.mouse.stop, this.handleDragStop), (0, Kn.removeEvent)(o, No.touch.stop, this.handleDragStop), (0, Kn.removeEvent)(i, No.touch.start, this.onTouchStart, {
          passive: false
        }), this.props.enableUserSelectHack && (0, Kn.removeUserSelectStyles)(o);
      }
    }
    // React Strict Mode compatibility: if `nodeRef` is passed, we will use it instead of trying to find
    // the underlying DOM node ourselves. See the README for more information.
  }, {
    key: "findDOMNode",
    value: function() {
      var i, o;
      return (i = this.props) !== null && i !== void 0 && i.nodeRef ? (o = this.props) === null || o === void 0 || (o = o.nodeRef) === null || o === void 0 ? void 0 : o.current : qle.default.findDOMNode(this);
    }
  }, {
    key: "render",
    value: function() {
      return Rw.cloneElement(Rw.Children.only(this.props.children), {
        // Note: mouseMove handler is attached to document so it will still function
        // when the user drags quickly and leaves the bounds of the element.
        onMouseDown: this.onMouseDown,
        onMouseUp: this.onMouseUp,
        // onTouchStart is added on `componentDidMount` so they can be added with
        // {passive: false}, which allows it to cancel. See
        // https://developers.google.com/web/updates/2017/01/scrolling-intervention
        onTouchEnd: this.onTouchEnd
      });
    }
  }]), r;
}(
  Rw.Component
  /*:: <DraggableCoreProps>*/
);
r1.default = i1;
li(i1, "displayName", "DraggableCore");
li(i1, "propTypes", {
  /**
   * `allowAnyClick` allows dragging using any mouse button.
   * By default, we only accept the left button.
   *
   * Defaults to `false`.
   */
  allowAnyClick: Oi.default.bool,
  children: Oi.default.node.isRequired,
  /**
   * `disabled`, if true, stops the <Draggable> from dragging. All handlers,
   * with the exception of `onMouseDown`, will not fire.
   */
  disabled: Oi.default.bool,
  /**
   * By default, we add 'user-select:none' attributes to the document body
   * to prevent ugly text selection during drag. If this is causing problems
   * for your app, set this to `false`.
   */
  enableUserSelectHack: Oi.default.bool,
  /**
   * `offsetParent`, if set, uses the passed DOM node to compute drag offsets
   * instead of using the parent node.
   */
  offsetParent: function(e13, t) {
    if (e13[t] && e13[t].nodeType !== 1)
      throw new Error("Draggable's offsetParent must be a DOM Node.");
  },
  /**
   * `grid` specifies the x and y that dragging should snap to.
   */
  grid: Oi.default.arrayOf(Oi.default.number),
  /**
   * `handle` specifies a selector to be used as the handle that initiates drag.
   *
   * Example:
   *
   * ```jsx
   *   let App = React.createClass({
   *       render: function () {
   *         return (
   *            <Draggable handle=".handle">
   *              <div>
   *                  <div className="handle">Click me to drag</div>
   *                  <div>This is some other content</div>
   *              </div>
   *           </Draggable>
   *         );
   *       }
   *   });
   * ```
   */
  handle: Oi.default.string,
  /**
   * `cancel` specifies a selector to be used to prevent drag initialization.
   *
   * Example:
   *
   * ```jsx
   *   let App = React.createClass({
   *       render: function () {
   *           return(
   *               <Draggable cancel=".cancel">
   *                   <div>
   *                     <div className="cancel">You can't drag from here</div>
   *                     <div>Dragging here works fine</div>
   *                   </div>
   *               </Draggable>
   *           );
   *       }
   *   });
   * ```
   */
  cancel: Oi.default.string,
  /* If running in React Strict mode, ReactDOM.findDOMNode() is deprecated.
   * Unfortunately, in order for <Draggable> to work properly, we need raw access
   * to the underlying DOM node. If you want to avoid the warning, pass a `nodeRef`
   * as in this example:
   *
   * function MyComponent() {
   *   const nodeRef = React.useRef(null);
   *   return (
   *     <Draggable nodeRef={nodeRef}>
   *       <div ref={nodeRef}>Example Target</div>
   *     </Draggable>
   *   );
   * }
   *
   * This can be used for arbitrarily nested components, so long as the ref ends up
   * pointing to the actual child DOM node and not a custom component.
   */
  nodeRef: Oi.default.object,
  /**
   * Called when dragging starts.
   * If this function returns the boolean false, dragging will be canceled.
   */
  onStart: Oi.default.func,
  /**
   * Called while dragging.
   * If this function returns the boolean false, dragging will be canceled.
   */
  onDrag: Oi.default.func,
  /**
   * Called when dragging stops.
   * If this function returns the boolean false, the drag will remain active.
   */
  onStop: Oi.default.func,
  /**
   * A workaround option which can be passed if onMouseDown needs to be accessed,
   * since it'll always be blocked (as there is internal use of onMouseDown)
   */
  onMouseDown: Oi.default.func,
  /**
   * `scale`, if set, applies scaling while dragging an element
   */
  scale: Oi.default.number,
  /**
   * These properties should be defined on the child, not here.
   */
  className: Nw.dontSetMe,
  style: Nw.dontSetMe,
  transform: Nw.dontSetMe
});
li(i1, "defaultProps", {
  allowAnyClick: false,
  // by default only accept left click
  disabled: false,
  enableUserSelectHack: true,
  onStart: function() {
  },
  onDrag: function() {
  },
  onStop: function() {
  },
  onMouseDown: function() {
  },
  scale: 1
});
(function(e13) {
  function t(A, R) {
    if (!(A instanceof R))
      throw new TypeError("Cannot call a class as a function");
  }
  function r(A, R) {
    for (var F = 0; F < R.length; F++) {
      var $ = R[F];
      $.enumerable = $.enumerable || false, $.configurable = true, "value" in $ && ($.writable = true), Object.defineProperty(A, i($.key), $);
    }
  }
  function n(A, R, F) {
    return R && r(A.prototype, R), F && r(A, F), Object.defineProperty(A, "prototype", { writable: false }), A;
  }
  function i(A) {
    var R = o(A, "string");
    return typeof R == "symbol" ? R : String(R);
  }
  function o(A, R) {
    if (typeof A != "object" || A === null)
      return A;
    var F = A[Symbol.toPrimitive];
    if (F !== void 0) {
      var $ = F.call(A, R);
      if (typeof $ != "object")
        return $;
      throw new TypeError("@@toPrimitive must return a primitive value.");
    }
    return String(A);
  }
  function a(A, R) {
    if (typeof R != "function" && R !== null)
      throw new TypeError("Super expression must either be null or a function");
    A.prototype = Object.create(R && R.prototype, { constructor: { value: A, writable: true, configurable: true } }), Object.defineProperty(A, "prototype", { writable: false }), R && s(A, R);
  }
  function s(A, R) {
    return s = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function($, K) {
      return $.__proto__ = K, $;
    }, s(A, R);
  }
  function l(A) {
    var R = f();
    return function() {
      var $ = h(A), K;
      if (R) {
        var ie = h(this).constructor;
        K = Reflect.construct($, arguments, ie);
      } else
        K = $.apply(this, arguments);
      return u(this, K);
    };
  }
  function u(A, R) {
    if (R && (typeof R == "object" || typeof R == "function"))
      return R;
    if (R !== void 0)
      throw new TypeError("Derived constructors may only return object or undefined");
    return c(A);
  }
  function c(A) {
    if (A === void 0)
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    return A;
  }
  function f() {
    if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
      return false;
    if (typeof Proxy == "function")
      return true;
    try {
      return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
      })), true;
    } catch {
      return false;
    }
  }
  function h(A) {
    return h = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(F) {
      return F.__proto__ || Object.getPrototypeOf(F);
    }, h(A);
  }
  Object.defineProperty(e13, "__esModule", {
    value: true
  }), Object.defineProperty(e13, "DraggableCore", {
    enumerable: true,
    get: function() {
      return _.default;
    }
  }), e13.default = void 0;
  var d = S(import_react.default), p = E(Us), m = E(import_react_dom.default), g = E(lle), v = Kr, b = Xa, y = Va, _ = E(r1), T = E(n1);
  function E(A) {
    return A && A.__esModule ? A : {
      default: A
    };
  }
  function O(A) {
    if (typeof WeakMap != "function")
      return null;
    var R = /* @__PURE__ */ new WeakMap(), F = /* @__PURE__ */ new WeakMap();
    return (O = function($) {
      return $ ? F : R;
    })(A);
  }
  function S(A, R) {
    if (A && A.__esModule)
      return A;
    if (A === null || typeof A != "object" && typeof A != "function")
      return {
        default: A
      };
    var F = O(R);
    if (F && F.has(A))
      return F.get(A);
    var $ = {}, K = Object.defineProperty && Object.getOwnPropertyDescriptor;
    for (var ie in A)
      if (ie !== "default" && Object.prototype.hasOwnProperty.call(A, ie)) {
        var J = K ? Object.getOwnPropertyDescriptor(A, ie) : null;
        J && (J.get || J.set) ? Object.defineProperty($, ie, J) : $[ie] = A[ie];
      }
    return $.default = A, F && F.set(A, $), $;
  }
  function P() {
    return P = Object.assign ? Object.assign.bind() : function(A) {
      for (var R = 1; R < arguments.length; R++) {
        var F = arguments[R];
        for (var $ in F)
          Object.prototype.hasOwnProperty.call(F, $) && (A[$] = F[$]);
      }
      return A;
    }, P.apply(this, arguments);
  }
  function C(A, R, F) {
    return R = w(R), R in A ? Object.defineProperty(A, R, {
      value: F,
      enumerable: true,
      configurable: true,
      writable: true
    }) : A[R] = F, A;
  }
  function w(A) {
    var R = N(A, "string");
    return typeof R == "symbol" ? R : String(R);
  }
  function N(A, R) {
    if (typeof A != "object" || A === null)
      return A;
    var F = A[Symbol.toPrimitive];
    if (F !== void 0) {
      var $ = F.call(A, R);
      if (typeof $ != "object")
        return $;
      throw new TypeError("@@toPrimitive must return a primitive value.");
    }
    return (R === "string" ? String : Number)(A);
  }
  let L = function(A) {
    a(F, A);
    var R = l(F);
    function F($) {
      var K;
      return t(this, F), K = R.call(this, $), C(c(K), "onDragStart", (ie, J) => {
        if ((0, T.default)("Draggable: onDragStart: %j", J), K.props.onStart(ie, (0, b.createDraggableData)(c(K), J)) === false)
          return false;
        K.setState({
          dragging: true,
          dragged: true
        });
      }), C(c(K), "onDrag", (ie, J) => {
        if (!K.state.dragging)
          return false;
        (0, T.default)("Draggable: onDrag: %j", J);
        const pe = (0, b.createDraggableData)(c(K), J), oe = {
          x: pe.x,
          y: pe.y,
          slackX: 0,
          slackY: 0
        };
        if (K.props.bounds) {
          const {
            x: W,
            y: se
          } = oe;
          oe.x += K.state.slackX, oe.y += K.state.slackY;
          const [Te, Ae] = (0, b.getBoundPosition)(c(K), oe.x, oe.y);
          oe.x = Te, oe.y = Ae, oe.slackX = K.state.slackX + (W - oe.x), oe.slackY = K.state.slackY + (se - oe.y), pe.x = oe.x, pe.y = oe.y, pe.deltaX = oe.x - K.state.x, pe.deltaY = oe.y - K.state.y;
        }
        if (K.props.onDrag(ie, pe) === false)
          return false;
        K.setState(oe);
      }), C(c(K), "onDragStop", (ie, J) => {
        if (!K.state.dragging || K.props.onStop(ie, (0, b.createDraggableData)(c(K), J)) === false)
          return false;
        (0, T.default)("Draggable: onDragStop: %j", J);
        const oe = {
          dragging: false,
          slackX: 0,
          slackY: 0
        };
        if (!!K.props.position) {
          const {
            x: W,
            y: se
          } = K.props.position;
          oe.x = W, oe.y = se;
        }
        K.setState(oe);
      }), K.state = {
        // Whether or not we are currently dragging.
        dragging: false,
        // Whether or not we have been dragged before.
        dragged: false,
        // Current transform x and y.
        x: $.position ? $.position.x : $.defaultPosition.x,
        y: $.position ? $.position.y : $.defaultPosition.y,
        prevPropsPosition: {
          ...$.position
        },
        // Used for compensating for out-of-bounds drags
        slackX: 0,
        slackY: 0,
        // Can only determine if SVG after mounting
        isElementSVG: false
      }, $.position && !($.onDrag || $.onStop) && console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."), K;
    }
    return n(F, [{
      key: "componentDidMount",
      value: function() {
        typeof window.SVGElement < "u" && this.findDOMNode() instanceof window.SVGElement && this.setState({
          isElementSVG: true
        });
      }
    }, {
      key: "componentWillUnmount",
      value: function() {
        this.setState({
          dragging: false
        });
      }
      // React Strict Mode compatibility: if `nodeRef` is passed, we will use it instead of trying to find
      // the underlying DOM node ourselves. See the README for more information.
    }, {
      key: "findDOMNode",
      value: function() {
        var K, ie;
        return (K = (ie = this.props) === null || ie === void 0 || (ie = ie.nodeRef) === null || ie === void 0 ? void 0 : ie.current) !== null && K !== void 0 ? K : m.default.findDOMNode(this);
      }
    }, {
      key: "render",
      value: function() {
        const {
          axis: K,
          bounds: ie,
          children: J,
          defaultPosition: pe,
          defaultClassName: oe,
          defaultClassNameDragging: q,
          defaultClassNameDragged: W,
          position: se,
          positionOffset: Te,
          scale: Ae,
          ...Re
        } = this.props;
        let Ee = {}, Me = null;
        const Oe = !!!se || this.state.dragging, Fe = se || pe, Ue = {
          // Set left if horizontal drag is enabled
          x: (0, b.canDragX)(this) && Oe ? this.state.x : Fe.x,
          // Set top if vertical drag is enabled
          y: (0, b.canDragY)(this) && Oe ? this.state.y : Fe.y
        };
        this.state.isElementSVG ? Me = (0, v.createSVGTransform)(Ue, Te) : Ee = (0, v.createCSSTransform)(Ue, Te);
        const et = (0, g.default)(J.props.className || "", oe, {
          [q]: this.state.dragging,
          [W]: this.state.dragged
        });
        return d.createElement(_.default, P({}, Re, {
          onStart: this.onDragStart,
          onDrag: this.onDrag,
          onStop: this.onDragStop
        }), d.cloneElement(d.Children.only(J), {
          className: et,
          style: {
            ...J.props.style,
            ...Ee
          },
          transform: Me
        }));
      }
    }], [{
      key: "getDerivedStateFromProps",
      value: (
        // React 16.3+
        // Arity (props, state)
        function(K, ie) {
          let {
            position: J
          } = K, {
            prevPropsPosition: pe
          } = ie;
          return J && (!pe || J.x !== pe.x || J.y !== pe.y) ? ((0, T.default)("Draggable: getDerivedStateFromProps %j", {
            position: J,
            prevPropsPosition: pe
          }), {
            x: J.x,
            y: J.y,
            prevPropsPosition: {
              ...J
            }
          }) : null;
        }
      )
    }]), F;
  }(
    d.Component
    /*:: <DraggableProps, DraggableState>*/
  );
  e13.default = L, C(L, "displayName", "Draggable"), C(L, "propTypes", {
    // Accepts all props <DraggableCore> accepts.
    ..._.default.propTypes,
    /**
     * `axis` determines which axis the draggable can move.
     *
     *  Note that all callbacks will still return data as normal. This only
     *  controls flushing to the DOM.
     *
     * 'both' allows movement horizontally and vertically.
     * 'x' limits movement to horizontal axis.
     * 'y' limits movement to vertical axis.
     * 'none' limits all movement.
     *
     * Defaults to 'both'.
     */
    axis: p.default.oneOf(["both", "x", "y", "none"]),
    /**
     * `bounds` determines the range of movement available to the element.
     * Available values are:
     *
     * 'parent' restricts movement within the Draggable's parent node.
     *
     * Alternatively, pass an object with the following properties, all of which are optional:
     *
     * {left: LEFT_BOUND, right: RIGHT_BOUND, bottom: BOTTOM_BOUND, top: TOP_BOUND}
     *
     * All values are in px.
     *
     * Example:
     *
     * ```jsx
     *   let App = React.createClass({
     *       render: function () {
     *         return (
     *            <Draggable bounds={{right: 300, bottom: 300}}>
     *              <div>Content</div>
     *           </Draggable>
     *         );
     *       }
     *   });
     * ```
     */
    bounds: p.default.oneOfType([p.default.shape({
      left: p.default.number,
      right: p.default.number,
      top: p.default.number,
      bottom: p.default.number
    }), p.default.string, p.default.oneOf([false])]),
    defaultClassName: p.default.string,
    defaultClassNameDragging: p.default.string,
    defaultClassNameDragged: p.default.string,
    /**
     * `defaultPosition` specifies the x and y that the dragged item should start at
     *
     * Example:
     *
     * ```jsx
     *      let App = React.createClass({
     *          render: function () {
     *              return (
     *                  <Draggable defaultPosition={{x: 25, y: 25}}>
     *                      <div>I start with transformX: 25px and transformY: 25px;</div>
     *                  </Draggable>
     *              );
     *          }
     *      });
     * ```
     */
    defaultPosition: p.default.shape({
      x: p.default.number,
      y: p.default.number
    }),
    positionOffset: p.default.shape({
      x: p.default.oneOfType([p.default.number, p.default.string]),
      y: p.default.oneOfType([p.default.number, p.default.string])
    }),
    /**
     * `position`, if present, defines the current position of the element.
     *
     *  This is similar to how form elements in React work - if no `position` is supplied, the component
     *  is uncontrolled.
     *
     * Example:
     *
     * ```jsx
     *      let App = React.createClass({
     *          render: function () {
     *              return (
     *                  <Draggable position={{x: 25, y: 25}}>
     *                      <div>I start with transformX: 25px and transformY: 25px;</div>
     *                  </Draggable>
     *              );
     *          }
     *      });
     * ```
     */
    position: p.default.shape({
      x: p.default.number,
      y: p.default.number
    }),
    /**
     * These properties should be defined on the child, not here.
     */
    className: y.dontSetMe,
    style: y.dontSetMe,
    transform: y.dontSetMe
  }), C(L, "defaultProps", {
    ..._.default.defaultProps,
    axis: "both",
    bounds: false,
    defaultClassName: "react-draggable",
    defaultClassNameDragging: "react-draggable-dragging",
    defaultClassNameDragged: "react-draggable-dragged",
    defaultPosition: {
      x: 0,
      y: 0
    },
    scale: 1
  });
})(A8);
var {
  default: N8,
  DraggableCore: Jle
} = A8;
t1.exports = N8;
t1.exports.default = N8;
t1.exports.DraggableCore = Jle;
var ece = t1.exports;
var dR = {};
dR.__esModule = true;
dR.cloneElement = ice;
var tce = rce(import_react.default);
function rce(e13) {
  return e13 && e13.__esModule ? e13 : {
    default: e13
  };
}
function WB(e13, t) {
  var r = Object.keys(e13);
  if (Object.getOwnPropertySymbols) {
    var n = Object.getOwnPropertySymbols(e13);
    t && (n = n.filter(function(i) {
      return Object.getOwnPropertyDescriptor(e13, i).enumerable;
    })), r.push.apply(r, n);
  }
  return r;
}
function YB(e13) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t] != null ? arguments[t] : {};
    t % 2 ? WB(Object(r), true).forEach(function(n) {
      nce(e13, n, r[n]);
    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e13, Object.getOwnPropertyDescriptors(r)) : WB(Object(r)).forEach(function(n) {
      Object.defineProperty(e13, n, Object.getOwnPropertyDescriptor(r, n));
    });
  }
  return e13;
}
function nce(e13, t, r) {
  return t in e13 ? Object.defineProperty(e13, t, {
    value: r,
    enumerable: true,
    configurable: true,
    writable: true
  }) : e13[t] = r, e13;
}
function ice(e13, t) {
  return t.style && e13.props.style && (t.style = YB(YB({}, e13.props.style), t.style)), t.className && e13.props.className && (t.className = e13.props.className + " " + t.className), tce.default.cloneElement(e13, t);
}
var Bv = {};
Bv.__esModule = true;
Bv.resizableProps = void 0;
var Vt = oce(Us);
function oce(e13) {
  return e13 && e13.__esModule ? e13 : {
    default: e13
  };
}
var ace = {
  /*
  * Restricts resizing to a particular axis (default: 'both')
  * 'both' - allows resizing by width or height
  * 'x' - only allows the width to be changed
  * 'y' - only allows the height to be changed
  * 'none' - disables resizing altogether
  * */
  axis: Vt.default.oneOf(["both", "x", "y", "none"]),
  className: Vt.default.string,
  /*
  * Require that one and only one child be present.
  * */
  children: Vt.default.element.isRequired,
  /*
  * These will be passed wholesale to react-draggable's DraggableCore
  * */
  draggableOpts: Vt.default.shape({
    allowAnyClick: Vt.default.bool,
    cancel: Vt.default.string,
    children: Vt.default.node,
    disabled: Vt.default.bool,
    enableUserSelectHack: Vt.default.bool,
    offsetParent: Vt.default.node,
    grid: Vt.default.arrayOf(Vt.default.number),
    handle: Vt.default.string,
    nodeRef: Vt.default.object,
    onStart: Vt.default.func,
    onDrag: Vt.default.func,
    onStop: Vt.default.func,
    onMouseDown: Vt.default.func,
    scale: Vt.default.number
  }),
  /*
  * Initial height
  * */
  height: Vt.default.number.isRequired,
  /*
  * Customize cursor resize handle
  * */
  handle: Vt.default.oneOfType([Vt.default.node, Vt.default.func]),
  /*
  * If you change this, be sure to update your css
  * */
  handleSize: Vt.default.arrayOf(Vt.default.number),
  lockAspectRatio: Vt.default.bool,
  /*
  * Max X & Y measure
  * */
  maxConstraints: Vt.default.arrayOf(Vt.default.number),
  /*
  * Min X & Y measure
  * */
  minConstraints: Vt.default.arrayOf(Vt.default.number),
  /*
  * Called on stop resize event
  * */
  onResizeStop: Vt.default.func,
  /*
  * Called on start resize event
  * */
  onResizeStart: Vt.default.func,
  /*
  * Called on resize event
  * */
  onResize: Vt.default.func,
  /*
  * Defines which resize handles should be rendered (default: 'se')
  * 's' - South handle (bottom-center)
  * 'w' - West handle (left-center)
  * 'e' - East handle (right-center)
  * 'n' - North handle (top-center)
  * 'sw' - Southwest handle (bottom-left)
  * 'nw' - Northwest handle (top-left)
  * 'se' - Southeast handle (bottom-right)
  * 'ne' - Northeast handle (top-center)
  * */
  resizeHandles: Vt.default.arrayOf(Vt.default.oneOf(["s", "w", "e", "n", "sw", "nw", "se", "ne"])),
  /*
  * If `transform: scale(n)` is set on the parent, this should be set to `n`.
  * */
  transformScale: Vt.default.number,
  /*
   * Initial width
   */
  width: Vt.default.number.isRequired
};
Bv.resizableProps = ace;
Lv.__esModule = true;
Lv.default = void 0;
var Mw = uce(import_react.default);
var sce = ece;
var lce = dR;
var cce = Bv;
function uce(e13) {
  return e13 && e13.__esModule ? e13 : {
    default: e13
  };
}
function aP() {
  return aP = Object.assign || function(e13) {
    for (var t = 1; t < arguments.length; t++) {
      var r = arguments[t];
      for (var n in r)
        Object.prototype.hasOwnProperty.call(r, n) && (e13[n] = r[n]);
    }
    return e13;
  }, aP.apply(this, arguments);
}
function qB(e13, t) {
  var r = Object.keys(e13);
  if (Object.getOwnPropertySymbols) {
    var n = Object.getOwnPropertySymbols(e13);
    t && (n = n.filter(function(i) {
      return Object.getOwnPropertyDescriptor(e13, i).enumerable;
    })), r.push.apply(r, n);
  }
  return r;
}
function KB(e13) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t] != null ? arguments[t] : {};
    t % 2 ? qB(Object(r), true).forEach(function(n) {
      wf(e13, n, r[n]);
    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e13, Object.getOwnPropertyDescriptors(r)) : qB(Object(r)).forEach(function(n) {
      Object.defineProperty(e13, n, Object.getOwnPropertyDescriptor(r, n));
    });
  }
  return e13;
}
function hce(e13, t) {
  if (e13 == null)
    return {};
  var r = {}, n = Object.keys(e13), i, o;
  for (o = 0; o < n.length; o++)
    i = n[o], !(t.indexOf(i) >= 0) && (r[i] = e13[i]);
  return r;
}
function Lw(e13) {
  if (e13 === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e13;
}
function fce(e13, t) {
  e13.prototype = Object.create(t.prototype), e13.prototype.constructor = e13, e13.__proto__ = t;
}
function wf(e13, t, r) {
  return t in e13 ? Object.defineProperty(e13, t, {
    value: r,
    enumerable: true,
    configurable: true,
    writable: true
  }) : e13[t] = r, e13;
}
var pR = function(e13) {
  fce(t, e13);
  function t() {
    for (var n, i = arguments.length, o = new Array(i), a = 0; a < i; a++)
      o[a] = arguments[a];
    return n = e13.call.apply(e13, [this].concat(o)) || this, wf(Lw(n), "state", void 0), wf(Lw(n), "lastHandleRect", null), wf(Lw(n), "slack", null), n;
  }
  var r = t.prototype;
  return r.componentWillUnmount = function() {
    this.resetData();
  }, r.lockAspectRatio = function(i, o, a) {
    return o = i / a, i = o * a, [i, o];
  }, r.resetData = function() {
    this.lastHandleRect = this.slack = null;
  }, r.runConstraints = function(i, o) {
    var a = [this.props.minConstraints, this.props.maxConstraints], s = a[0], l = a[1];
    if (!s && !l)
      return [i, o];
    if (this.props.lockAspectRatio) {
      var u = o === this.props.height;
      if (u) {
        var c = this.props.width / this.props.height;
        o = i / c, i = o * c;
      } else {
        var f = this.props.height / this.props.width;
        i = o / f, o = i * f;
      }
    }
    var h = i, d = o, p = this.slack || [0, 0], m = p[0], g = p[1];
    return i += m, o += g, s && (i = Math.max(s[0], i), o = Math.max(s[1], o)), l && (i = Math.min(l[0], i), o = Math.min(l[1], o)), this.slack = [m + (h - i), g + (d - o)], [i, o];
  }, r.resizeHandler = function(i, o) {
    var a = this;
    return function(s, l) {
      var u = l.node, c = l.deltaX, f = l.deltaY;
      i === "onResizeStart" && a.resetData();
      var h = (a.props.axis === "both" || a.props.axis === "x") && o !== "n" && o !== "s", d = (a.props.axis === "both" || a.props.axis === "y") && o !== "e" && o !== "w";
      if (!(!h && !d)) {
        var p = o[0], m = o[o.length - 1], g = u.getBoundingClientRect();
        if (a.lastHandleRect != null) {
          if (m === "w") {
            var v = g.left - a.lastHandleRect.left;
            c += v;
          }
          if (p === "n") {
            var b = g.top - a.lastHandleRect.top;
            f += b;
          }
        }
        a.lastHandleRect = g, m === "w" && (c = -c), p === "n" && (f = -f);
        var y = a.props.width + (h ? c / a.props.transformScale : 0), _ = a.props.height + (d ? f / a.props.transformScale : 0), T = a.runConstraints(y, _);
        y = T[0], _ = T[1];
        var E = y !== a.props.width || _ !== a.props.height, O = typeof a.props[i] == "function" ? a.props[i] : null, S = i === "onResize" && !E;
        O && !S && (typeof s.persist == "function" && s.persist(), O(s, {
          node: u,
          size: {
            width: y,
            height: _
          },
          handle: o
        })), i === "onResizeStop" && a.resetData();
      }
    };
  }, r.renderResizeHandle = function(i) {
    var o = this.props.handle;
    return o ? typeof o == "function" ? o(i) : o : Mw.default.createElement("span", {
      className: "react-resizable-handle react-resizable-handle-" + i
    });
  }, r.render = function() {
    var i = this, o = this.props, a = o.children, s = o.className, l = o.draggableOpts;
    o.width, o.height, o.handle, o.handleSize, o.lockAspectRatio, o.axis, o.minConstraints, o.maxConstraints, o.onResize, o.onResizeStop, o.onResizeStart;
    var u = o.resizeHandles;
    o.transformScale;
    var c = hce(o, ["children", "className", "draggableOpts", "width", "height", "handle", "handleSize", "lockAspectRatio", "axis", "minConstraints", "maxConstraints", "onResize", "onResizeStop", "onResizeStart", "resizeHandles", "transformScale"]);
    return (0, lce.cloneElement)(a, KB(KB({}, c), {}, {
      className: (s ? s + " " : "") + "react-resizable",
      children: [].concat(a.props.children, u.map(function(f) {
        return Mw.default.createElement(sce.DraggableCore, aP({}, l, {
          key: "resizableHandle-" + f,
          onStop: i.resizeHandler("onResizeStop", f),
          onStart: i.resizeHandler("onResizeStart", f),
          onDrag: i.resizeHandler("onResize", f)
        }), i.renderResizeHandle(f));
      }))
    }));
  }, t;
}(Mw.default.Component);
Lv.default = pR;
wf(pR, "propTypes", cce.resizableProps);
wf(pR, "defaultProps", {
  handleSize: [20, 20],
  lockAspectRatio: false,
  axis: "both",
  minConstraints: [20, 20],
  maxConstraints: [1 / 0, 1 / 0],
  resizeHandles: ["se"],
  transformScale: 1
});
var o1 = {};
o1.__esModule = true;
o1.default = void 0;
var Bw = gce(import_react.default);
var dce = M8(Us);
var pce = M8(Lv);
var mce = Bv;
function M8(e13) {
  return e13 && e13.__esModule ? e13 : {
    default: e13
  };
}
function L8() {
  if (typeof WeakMap != "function")
    return null;
  var e13 = /* @__PURE__ */ new WeakMap();
  return L8 = function() {
    return e13;
  }, e13;
}
function gce(e13) {
  if (e13 && e13.__esModule)
    return e13;
  if (e13 === null || typeof e13 != "object" && typeof e13 != "function")
    return {
      default: e13
    };
  var t = L8();
  if (t && t.has(e13))
    return t.get(e13);
  var r = {}, n = Object.defineProperty && Object.getOwnPropertyDescriptor;
  for (var i in e13)
    if (Object.prototype.hasOwnProperty.call(e13, i)) {
      var o = n ? Object.getOwnPropertyDescriptor(e13, i) : null;
      o && (o.get || o.set) ? Object.defineProperty(r, i, o) : r[i] = e13[i];
    }
  return r.default = e13, t && t.set(e13, r), r;
}
function sP() {
  return sP = Object.assign || function(e13) {
    for (var t = 1; t < arguments.length; t++) {
      var r = arguments[t];
      for (var n in r)
        Object.prototype.hasOwnProperty.call(r, n) && (e13[n] = r[n]);
    }
    return e13;
  }, sP.apply(this, arguments);
}
function ZB(e13, t) {
  var r = Object.keys(e13);
  if (Object.getOwnPropertySymbols) {
    var n = Object.getOwnPropertySymbols(e13);
    t && (n = n.filter(function(i) {
      return Object.getOwnPropertyDescriptor(e13, i).enumerable;
    })), r.push.apply(r, n);
  }
  return r;
}
function p0(e13) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t] != null ? arguments[t] : {};
    t % 2 ? ZB(Object(r), true).forEach(function(n) {
      m0(e13, n, r[n]);
    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e13, Object.getOwnPropertyDescriptors(r)) : ZB(Object(r)).forEach(function(n) {
      Object.defineProperty(e13, n, Object.getOwnPropertyDescriptor(r, n));
    });
  }
  return e13;
}
function vce(e13, t) {
  if (e13 == null)
    return {};
  var r = {}, n = Object.keys(e13), i, o;
  for (o = 0; o < n.length; o++)
    i = n[o], !(t.indexOf(i) >= 0) && (r[i] = e13[i]);
  return r;
}
function QB(e13) {
  if (e13 === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e13;
}
function yce(e13, t) {
  e13.prototype = Object.create(t.prototype), e13.prototype.constructor = e13, e13.__proto__ = t;
}
function m0(e13, t, r) {
  return t in e13 ? Object.defineProperty(e13, t, {
    value: r,
    enumerable: true,
    configurable: true,
    writable: true
  }) : e13[t] = r, e13;
}
var B8 = function(e13) {
  yce(t, e13);
  function t() {
    for (var n, i = arguments.length, o = new Array(i), a = 0; a < i; a++)
      o[a] = arguments[a];
    return n = e13.call.apply(e13, [this].concat(o)) || this, m0(QB(n), "state", {
      width: n.props.width,
      height: n.props.height,
      propsWidth: n.props.width,
      propsHeight: n.props.height
    }), m0(QB(n), "onResize", function(s, l) {
      var u = l.size;
      n.props.onResize ? (s.persist && s.persist(), n.setState(u, function() {
        return n.props.onResize && n.props.onResize(s, l);
      })) : n.setState(u);
    }), n;
  }
  t.getDerivedStateFromProps = function(i, o) {
    return o.propsWidth !== i.width || o.propsHeight !== i.height ? {
      width: i.width,
      height: i.height,
      propsWidth: i.width,
      propsHeight: i.height
    } : null;
  };
  var r = t.prototype;
  return r.render = function() {
    var i = this.props, o = i.handle, a = i.handleSize;
    i.onResize;
    var s = i.onResizeStart, l = i.onResizeStop, u = i.draggableOpts, c = i.minConstraints, f = i.maxConstraints, h = i.lockAspectRatio, d = i.axis;
    i.width, i.height;
    var p = i.resizeHandles, m = i.style, g = i.transformScale, v = vce(i, ["handle", "handleSize", "onResize", "onResizeStart", "onResizeStop", "draggableOpts", "minConstraints", "maxConstraints", "lockAspectRatio", "axis", "width", "height", "resizeHandles", "style", "transformScale"]);
    return Bw.createElement(pce.default, {
      axis: d,
      draggableOpts: u,
      handle: o,
      handleSize: a,
      height: this.state.height,
      lockAspectRatio: h,
      maxConstraints: f,
      minConstraints: c,
      onResizeStart: s,
      onResize: this.onResize,
      onResizeStop: l,
      resizeHandles: p,
      transformScale: g,
      width: this.state.width
    }, Bw.createElement("div", sP({}, v, {
      style: p0(p0({}, m), {}, {
        width: this.state.width + "px",
        height: this.state.height + "px"
      })
    })));
  }, t;
}(Bw.Component);
o1.default = B8;
m0(B8, "propTypes", p0(p0({}, mce.resizableProps), {}, {
  children: dce.default.element
}));
e1.exports = function() {
  throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable");
};
e1.exports.Resizable = Lv.default;
e1.exports.ResizableBox = o1.default;
var _ce = e1.exports;
cR.__esModule = true;
var bce = Object.assign || function(e13) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t];
    for (var n in r)
      Object.prototype.hasOwnProperty.call(r, n) && (e13[n] = r[n]);
  }
  return e13;
};
var Tce = import_react.default;
var Up = mR(Tce);
var Ece = Us;
var kr = mR(Ece);
var Sce = ale;
var wce = _ce;
var Zy = dr;
var Ace = m8;
var Oce = mR(Ace);
function mR(e13) {
  return e13 && e13.__esModule ? e13 : {
    default: e13
  };
}
function Ice(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function JB(e13, t) {
  if (!e13)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return t && (typeof t == "object" || typeof t == "function") ? t : e13;
}
function Pce(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function, not " + typeof t);
  e13.prototype = Object.create(t && t.prototype, {
    constructor: {
      value: e13,
      enumerable: false,
      writable: true,
      configurable: true
    }
  }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e13, t) : e13.__proto__ = t);
}
var gR = function(e13) {
  Pce(t, e13);
  function t() {
    var r, n, i;
    Ice(this, t);
    for (var o = arguments.length, a = Array(o), s = 0; s < o; s++)
      a[s] = arguments[s];
    return i = (r = (n = JB(this, e13.call.apply(e13, [this].concat(a))), n), n.state = {
      resizing: null,
      dragging: null,
      className: ""
    }, r), JB(n, i);
  }
  return t.prototype.calcColWidth = function() {
    var n = this.props, i = n.margin, o = n.containerPadding, a = n.containerWidth, s = n.cols;
    return (a - i[0] * (s - 1) - o[0] * 2) / s;
  }, t.prototype.calcPosition = function(n, i, o, a, s) {
    var l = this.props, u = l.margin, c = l.containerPadding, f = l.rowHeight, h = this.calcColWidth(), d = {
      left: Math.round((h + u[0]) * n + c[0]),
      top: Math.round((f + u[1]) * i + c[1]),
      // 0 * Infinity === NaN, which causes problems with resize constraints;
      // Fix this if it occurs.
      // Note we do it here rather than later because Math.round(Infinity) causes deopt
      width: o === 1 / 0 ? o : Math.round(h * o + Math.max(0, o - 1) * u[0]),
      height: a === 1 / 0 ? a : Math.round(f * a + Math.max(0, a - 1) * u[1])
    };
    return s && s.resizing && (d.width = Math.round(s.resizing.width), d.height = Math.round(s.resizing.height)), s && s.dragging && (d.top = Math.round(s.dragging.top), d.left = Math.round(s.dragging.left)), d;
  }, t.prototype.calcXY = function(n, i) {
    var o = this.props, a = o.margin, s = o.cols, l = o.rowHeight, u = o.w, c = o.h, f = o.maxRows, h = this.calcColWidth(), d = Math.round((i - a[0]) / (h + a[0])), p = Math.round((n - a[1]) / (l + a[1]));
    return d = Math.max(Math.min(d, s - u), 0), p = Math.max(Math.min(p, f - c), 0), {
      x: d,
      y: p
    };
  }, t.prototype.calcWH = function(n) {
    var i = n.height, o = n.width, a = this.props, s = a.margin, l = a.maxRows, u = a.cols, c = a.rowHeight, f = a.x, h = a.y, d = this.calcColWidth(), p = Math.round((o + s[0]) / (d + s[0])), m = Math.round((i + s[1]) / (c + s[1]));
    return p = Math.max(Math.min(p, u - f), 0), m = Math.max(Math.min(m, l - h), 0), {
      w: p,
      h: m
    };
  }, t.prototype.createStyle = function(n) {
    var i = this.props, o = i.usePercentages, a = i.containerWidth, s = i.useCSSTransforms, l = void 0;
    return s ? l = (0, Zy.setTransform)(n) : (l = (0, Zy.setTopLeft)(n), o && (l.left = (0, Zy.perc)(n.left / a), l.width = (0, Zy.perc)(n.width / a))), l;
  }, t.prototype.mixinDraggable = function(n) {
    return Up.default.createElement(Sce.DraggableCore, {
      onStart: this.onDragHandler("onDragStart"),
      onDrag: this.onDragHandler("onDrag"),
      onStop: this.onDragHandler("onDragStop"),
      handle: this.props.handle,
      cancel: ".react-resizable-handle" + (this.props.cancel ? "," + this.props.cancel : "")
    }, n);
  }, t.prototype.mixinResizable = function(n, i) {
    var o = this.props, a = o.cols, s = o.x, l = o.minW, u = o.minH, c = o.maxW, f = o.maxH, h = this.calcPosition(0, 0, a - s, 0).width, d = this.calcPosition(0, 0, l, u), p = this.calcPosition(0, 0, c, f), m = [d.width, d.height], g = [Math.min(p.width, h), Math.min(p.height, 1 / 0)];
    return Up.default.createElement(wce.Resizable, {
      width: i.width,
      height: i.height,
      minConstraints: m,
      maxConstraints: g,
      onResizeStop: this.onResizeHandler("onResizeStop"),
      onResizeStart: this.onResizeHandler("onResizeStart"),
      onResize: this.onResizeHandler("onResize")
    }, n);
  }, t.prototype.onDragHandler = function(n) {
    var i = this;
    return function(o, a) {
      var s = a.node, l = a.deltaX, u = a.deltaY, c = i.props[n];
      if (c) {
        var f = {
          top: 0,
          left: 0
        };
        switch (n) {
          case "onDragStart": {
            var h = s.offsetParent;
            if (!h)
              return;
            var d = h.getBoundingClientRect(), p = s.getBoundingClientRect();
            f.left = p.left - d.left + h.scrollLeft, f.top = p.top - d.top + h.scrollTop, i.setState({
              dragging: f
            });
            break;
          }
          case "onDrag":
            if (!i.state.dragging)
              throw new Error("onDrag called before onDragStart.");
            f.left = i.state.dragging.left + l, f.top = i.state.dragging.top + u, i.setState({
              dragging: f
            });
            break;
          case "onDragStop":
            if (!i.state.dragging)
              throw new Error("onDragEnd called before onDragStart.");
            f.left = i.state.dragging.left, f.top = i.state.dragging.top, i.setState({
              dragging: null
            });
            break;
          default:
            throw new Error("onDragHandler called with unrecognized handlerName: " + n);
        }
        var m = i.calcXY(f.top, f.left), g = m.x, v = m.y;
        return c.call(i, i.props.i, g, v, {
          e: o,
          node: s,
          newPosition: f
        });
      }
    };
  }, t.prototype.onResizeHandler = function(n) {
    var i = this;
    return function(o, a) {
      var s = a.node, l = a.size, u = i.props[n];
      if (u) {
        var c = i.props, f = c.cols, h = c.x, d = c.i, p = c.maxW, m = c.minW, g = c.maxH, v = c.minH, b = i.calcWH(l), y = b.w, _ = b.h;
        y = Math.min(y, f - h), y = Math.max(y, 1), y = Math.max(Math.min(y, p), m), _ = Math.max(Math.min(_, g), v), i.setState({
          resizing: n === "onResizeStop" ? null : l
        }), u.call(i, d, y, _, {
          e: o,
          node: s,
          size: l
        });
      }
    };
  }, t.prototype.render = function() {
    var n = this.props, i = n.x, o = n.y, a = n.w, s = n.h, l = n.isDraggable, u = n.isResizable, c = n.useCSSTransforms, f = this.calcPosition(i, o, a, s, this.state), h = Up.default.Children.only(this.props.children), d = Up.default.cloneElement(h, {
      className: (0, Oce.default)("react-grid-item", h.props.className, this.props.className, {
        static: this.props.static,
        resizing: !!this.state.resizing,
        "react-draggable": l,
        "react-draggable-dragging": !!this.state.dragging,
        cssTransforms: c
      }),
      // We can set the width and height on the child, but unfortunately we can't set the position.
      style: bce({}, this.props.style, h.props.style, this.createStyle(f))
    });
    return u && (d = this.mixinResizable(d, f)), l && (d = this.mixinDraggable(d)), d;
  }, t;
}(Up.default.Component);
gR.propTypes = {
  // Children must be only a single element
  children: kr.default.element,
  // General grid attributes
  cols: kr.default.number.isRequired,
  containerWidth: kr.default.number.isRequired,
  rowHeight: kr.default.number.isRequired,
  margin: kr.default.array.isRequired,
  maxRows: kr.default.number.isRequired,
  containerPadding: kr.default.array.isRequired,
  // These are all in grid units
  x: kr.default.number.isRequired,
  y: kr.default.number.isRequired,
  w: kr.default.number.isRequired,
  h: kr.default.number.isRequired,
  // All optional
  minW: function(t, r) {
    var n = t[r];
    if (typeof n != "number")
      return new Error("minWidth not Number");
    if (n > t.w || n > t.maxW)
      return new Error("minWidth larger than item width/maxWidth");
  },
  maxW: function(t, r) {
    var n = t[r];
    if (typeof n != "number")
      return new Error("maxWidth not Number");
    if (n < t.w || n < t.minW)
      return new Error("maxWidth smaller than item width/minWidth");
  },
  minH: function(t, r) {
    var n = t[r];
    if (typeof n != "number")
      return new Error("minHeight not Number");
    if (n > t.h || n > t.maxH)
      return new Error("minHeight larger than item height/maxHeight");
  },
  maxH: function(t, r) {
    var n = t[r];
    if (typeof n != "number")
      return new Error("maxHeight not Number");
    if (n < t.h || n < t.minH)
      return new Error("maxHeight smaller than item height/minHeight");
  },
  // ID is nice to have for callbacks
  i: kr.default.string.isRequired,
  // Functions
  onDragStop: kr.default.func,
  onDragStart: kr.default.func,
  onDrag: kr.default.func,
  onResizeStop: kr.default.func,
  onResizeStart: kr.default.func,
  onResize: kr.default.func,
  // Flags
  isDraggable: kr.default.bool.isRequired,
  isResizable: kr.default.bool.isRequired,
  static: kr.default.bool,
  // Use CSS transforms instead of top/left
  useCSSTransforms: kr.default.bool.isRequired,
  // Others
  className: kr.default.string,
  // Selector for draggable handle
  handle: kr.default.string,
  // Selector for draggable cancel (see react-draggable)
  cancel: kr.default.string
};
gR.defaultProps = {
  className: "",
  cancel: "",
  handle: "",
  minH: 1,
  minW: 1,
  maxH: 1 / 0,
  maxW: 1 / 0
};
cR.default = gR;
ZE.__esModule = true;
var eF = Object.assign || function(e13) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t];
    for (var n in r)
      Object.prototype.hasOwnProperty.call(r, n) && (e13[n] = r[n]);
  }
  return e13;
};
var Cce = import_react.default;
var Rc = Fv(Cce);
var xce = Us;
var Dr = Fv(xce);
var kce = QE;
var tF = Fv(kce);
var Dce = m8;
var Rce = Fv(Dce);
var gr = dr;
var Nce = cR;
var rF = Fv(Nce);
function Fv(e13) {
  return e13 && e13.__esModule ? e13 : {
    default: e13
  };
}
function Mce(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function Lce(e13, t) {
  if (!e13)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return t && (typeof t == "object" || typeof t == "function") ? t : e13;
}
function Bce(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function, not " + typeof t);
  e13.prototype = Object.create(t && t.prototype, {
    constructor: {
      value: e13,
      enumerable: false,
      writable: true,
      configurable: true
    }
  }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e13, t) : e13.__proto__ = t);
}
var a1 = function(e13) {
  Bce(t, e13);
  function t(r, n) {
    Mce(this, t);
    var i = Lce(this, e13.call(this, r, n));
    return Fce.call(i), (0, gr.autoBindHandlers)(i, ["onDragStart", "onDrag", "onDragStop", "onResizeStart", "onResize", "onResizeStop"]), i;
  }
  return t.prototype.componentDidMount = function() {
    this.setState({
      mounted: true
    }), this.onLayoutMaybeChanged(this.state.layout, this.props.layout);
  }, t.prototype.componentWillReceiveProps = function(n) {
    var i = void 0;
    if (!(0, tF.default)(n.layout, this.props.layout) || n.compactType !== this.props.compactType ? i = n.layout : (0, gr.childrenEqual)(this.props.children, n.children) || (i = this.state.layout), i) {
      var o = (0, gr.synchronizeLayoutWithChildren)(i, n.children, n.cols, this.compactType(n)), a = this.state.layout;
      this.setState({
        layout: o
      }), this.onLayoutMaybeChanged(o, a);
    }
  }, t.prototype.containerHeight = function() {
    if (this.props.autoSize) {
      var n = (0, gr.bottom)(this.state.layout), i = this.props.containerPadding ? this.props.containerPadding[1] : this.props.margin[1];
      return n * this.props.rowHeight + (n - 1) * this.props.margin[1] + i * 2 + "px";
    }
  }, t.prototype.compactType = function(n) {
    return n || (n = this.props), n.verticalCompact === false ? null : n.compactType;
  }, t.prototype.onDragStart = function(n, i, o, a) {
    var s = a.e, l = a.node, u = this.state.layout, c = (0, gr.getLayoutItem)(u, n);
    if (c)
      return this.setState({
        oldDragItem: (0, gr.cloneLayoutItem)(c),
        oldLayout: this.state.layout
      }), this.props.onDragStart(u, c, c, null, s, l);
  }, t.prototype.onDrag = function(n, i, o, a) {
    var s = a.e, l = a.node, u = this.state.oldDragItem, c = this.state.layout, f = this.props.cols, h = (0, gr.getLayoutItem)(c, n);
    if (h) {
      var d = {
        w: h.w,
        h: h.h,
        x: h.x,
        y: h.y,
        placeholder: true,
        i: n
      }, p = true;
      c = (0, gr.moveElement)(c, h, i, o, p, this.props.preventCollision, this.compactType(), f), this.props.onDrag(c, u, h, d, s, l), this.setState({
        layout: (0, gr.compact)(c, this.compactType(), f),
        activeDrag: d
      });
    }
  }, t.prototype.onDragStop = function(n, i, o, a) {
    var s = a.e, l = a.node, u = this.state.oldDragItem, c = this.state.layout, f = this.props, h = f.cols, d = f.preventCollision, p = (0, gr.getLayoutItem)(c, n);
    if (p) {
      var m = true;
      c = (0, gr.moveElement)(c, p, i, o, m, d, this.compactType(), h), this.props.onDragStop(c, u, p, null, s, l);
      var g = (0, gr.compact)(c, this.compactType(), h), v = this.state.oldLayout;
      this.setState({
        activeDrag: null,
        layout: g,
        oldDragItem: null,
        oldLayout: null
      }), this.onLayoutMaybeChanged(g, v);
    }
  }, t.prototype.onLayoutMaybeChanged = function(n, i) {
    i || (i = this.state.layout), (0, tF.default)(i, n) || this.props.onLayoutChange(n);
  }, t.prototype.onResizeStart = function(n, i, o, a) {
    var s = a.e, l = a.node, u = this.state.layout, c = (0, gr.getLayoutItem)(u, n);
    c && (this.setState({
      oldResizeItem: (0, gr.cloneLayoutItem)(c),
      oldLayout: this.state.layout
    }), this.props.onResizeStart(u, c, c, null, s, l));
  }, t.prototype.onResize = function(n, i, o, a) {
    var s = a.e, l = a.node, u = this.state, c = u.layout, f = u.oldResizeItem, h = this.props, d = h.cols, p = h.preventCollision, m = (0, gr.getLayoutItem)(c, n);
    if (m) {
      var g = void 0;
      if (p) {
        var v = (0, gr.getAllCollisions)(c, eF({}, m, {
          w: i,
          h: o
        })).filter(function(T) {
          return T.i !== m.i;
        });
        if (g = v.length > 0, g) {
          var b = 1 / 0, y = 1 / 0;
          v.forEach(function(T) {
            T.x > m.x && (b = Math.min(b, T.x)), T.y > m.y && (y = Math.min(y, T.y));
          }), Number.isFinite(b) && (m.w = b - m.x), Number.isFinite(y) && (m.h = y - m.y);
        }
      }
      g || (m.w = i, m.h = o);
      var _ = {
        w: m.w,
        h: m.h,
        x: m.x,
        y: m.y,
        static: true,
        i: n
      };
      this.props.onResize(c, f, m, _, s, l), this.setState({
        layout: (0, gr.compact)(c, this.compactType(), d),
        activeDrag: _
      });
    }
  }, t.prototype.onResizeStop = function(n, i, o, a) {
    var s = a.e, l = a.node, u = this.state, c = u.layout, f = u.oldResizeItem, h = this.props.cols, d = (0, gr.getLayoutItem)(c, n);
    this.props.onResizeStop(c, f, d, null, s, l);
    var p = (0, gr.compact)(c, this.compactType(), h), m = this.state.oldLayout;
    this.setState({
      activeDrag: null,
      layout: p,
      oldResizeItem: null,
      oldLayout: null
    }), this.onLayoutMaybeChanged(p, m);
  }, t.prototype.placeholder = function() {
    var n = this.state.activeDrag;
    if (!n)
      return null;
    var i = this.props, o = i.width, a = i.cols, s = i.margin, l = i.containerPadding, u = i.rowHeight, c = i.maxRows, f = i.useCSSTransforms;
    return Rc.default.createElement(rF.default, {
      w: n.w,
      h: n.h,
      x: n.x,
      y: n.y,
      i: n.i,
      className: "react-grid-placeholder",
      containerWidth: o,
      cols: a,
      margin: s,
      containerPadding: l || s,
      maxRows: c,
      rowHeight: u,
      isDraggable: false,
      isResizable: false,
      useCSSTransforms: f
    }, Rc.default.createElement("div", null));
  }, t.prototype.processGridItem = function(n) {
    if (!(!n || !n.key)) {
      var i = (0, gr.getLayoutItem)(this.state.layout, String(n.key));
      if (!i)
        return null;
      var o = this.props, a = o.width, s = o.cols, l = o.margin, u = o.containerPadding, c = o.rowHeight, f = o.maxRows, h = o.isDraggable, d = o.isResizable, p = o.useCSSTransforms, m = o.draggableCancel, g = o.draggableHandle, v = this.state.mounted, b = !!(!i.static && h && (i.isDraggable || i.isDraggable == null)), y = !!(!i.static && d && (i.isResizable || i.isResizable == null));
      return Rc.default.createElement(rF.default, {
        containerWidth: a,
        cols: s,
        margin: l,
        containerPadding: u || l,
        maxRows: f,
        rowHeight: c,
        cancel: m,
        handle: g,
        onDragStop: this.onDragStop,
        onDragStart: this.onDragStart,
        onDrag: this.onDrag,
        onResizeStart: this.onResizeStart,
        onResize: this.onResize,
        onResizeStop: this.onResizeStop,
        isDraggable: b,
        isResizable: y,
        useCSSTransforms: p && v,
        usePercentages: !v,
        w: i.w,
        h: i.h,
        x: i.x,
        y: i.y,
        i: i.i,
        minH: i.minH,
        minW: i.minW,
        maxH: i.maxH,
        maxW: i.maxW,
        static: i.static
      }, n);
    }
  }, t.prototype.render = function() {
    var n = this, i = this.props, o = i.className, a = i.style, s = (0, Rce.default)("react-grid-layout", o), l = eF({
      height: this.containerHeight()
    }, a);
    return Rc.default.createElement("div", {
      className: s,
      style: l
    }, Rc.default.Children.map(this.props.children, function(u) {
      return n.processGridItem(u);
    }), this.placeholder());
  }, t;
}(Rc.default.Component);
a1.displayName = "ReactGridLayout";
a1.propTypes = {
  //
  // Basic props
  //
  className: Dr.default.string,
  style: Dr.default.object,
  // This can be set explicitly. If it is not set, it will automatically
  // be set to the container width. Note that resizes will *not* cause this to adjust.
  // If you need that behavior, use WidthProvider.
  width: Dr.default.number,
  // If true, the container height swells and contracts to fit contents
  autoSize: Dr.default.bool,
  // # of cols.
  cols: Dr.default.number,
  // A selector that will not be draggable.
  draggableCancel: Dr.default.string,
  // A selector for the draggable handler
  draggableHandle: Dr.default.string,
  // Deprecated
  verticalCompact: function(t) {
    t.verticalCompact;
  },
  // Choose vertical or hotizontal compaction
  compactType: Dr.default.oneOf(["vertical", "horizontal"]),
  // layout is an array of object with the format:
  // {x: Number, y: Number, w: Number, h: Number, i: String}
  layout: function(t) {
    var r = t.layout;
    r !== void 0 && (0, gr.validateLayout)(r, "layout");
  },
  //
  // Grid Dimensions
  //
  // Margin between items [x, y] in px
  margin: Dr.default.arrayOf(Dr.default.number),
  // Padding inside the container [x, y] in px
  containerPadding: Dr.default.arrayOf(Dr.default.number),
  // Rows have a static height, but you can change this based on breakpoints if you like
  rowHeight: Dr.default.number,
  // Default Infinity, but you can specify a max here if you like.
  // Note that this isn't fully fleshed out and won't error if you specify a layout that
  // extends beyond the row capacity. It will, however, not allow users to drag/resize
  // an item past the barrier. They can push items beyond the barrier, though.
  // Intentionally not documented for this reason.
  maxRows: Dr.default.number,
  //
  // Flags
  //
  isDraggable: Dr.default.bool,
  isResizable: Dr.default.bool,
  // If true, grid items won't change position when being dragged over.
  preventCollision: Dr.default.bool,
  // Use CSS transforms instead of top/left
  useCSSTransforms: Dr.default.bool,
  //
  // Callbacks
  //
  // Callback so you can save the layout. Calls after each drag & resize stops.
  onLayoutChange: Dr.default.func,
  // Calls when drag starts. Callback is of the signature (layout, oldItem, newItem, placeholder, e, ?node).
  // All callbacks below have the same signature. 'start' and 'stop' callbacks omit the 'placeholder'.
  onDragStart: Dr.default.func,
  // Calls on each drag movement.
  onDrag: Dr.default.func,
  // Calls when drag is complete.
  onDragStop: Dr.default.func,
  //Calls when resize starts.
  onResizeStart: Dr.default.func,
  // Calls when resize movement happens.
  onResize: Dr.default.func,
  // Calls when resize is complete.
  onResizeStop: Dr.default.func,
  //
  // Other validations
  //
  // Children must not have duplicate keys.
  children: function(t, r) {
    var n = t[r], i = {};
    Rc.default.Children.forEach(n, function(o) {
      if (i[o.key])
        throw new Error('Duplicate child key "' + o.key + '" found! This will cause problems in ReactGridLayout.');
      i[o.key] = true;
    });
  }
};
a1.defaultProps = {
  autoSize: true,
  cols: 12,
  className: "",
  style: {},
  draggableHandle: "",
  draggableCancel: "",
  containerPadding: null,
  rowHeight: 150,
  maxRows: 1 / 0,
  // infinite vertical growth
  layout: [],
  margin: [10, 10],
  isDraggable: true,
  isResizable: true,
  useCSSTransforms: true,
  verticalCompact: true,
  compactType: "vertical",
  preventCollision: false,
  onLayoutChange: gr.noop,
  onDragStart: gr.noop,
  onDrag: gr.noop,
  onDragStop: gr.noop,
  onResizeStart: gr.noop,
  onResize: gr.noop,
  onResizeStop: gr.noop
};
var Fce = function() {
  this.state = {
    activeDrag: null,
    layout: (0, gr.synchronizeLayoutWithChildren)(
      this.props.layout,
      this.props.children,
      this.props.cols,
      // Legacy support for verticalCompact: false
      this.compactType()
    ),
    mounted: false,
    oldDragItem: null,
    oldLayout: null,
    oldResizeItem: null
  };
};
ZE.default = a1;
var vR = {};
var Ku = {};
Ku.__esModule = true;
Ku.getBreakpointFromWidth = $ce;
Ku.getColsFromBreakpoint = Hce;
Ku.findOrGenerateResponsiveLayout = Uce;
Ku.sortBreakpoints = yR;
var Qy = dr;
function $ce(e13, t) {
  for (var r = yR(e13), n = r[0], i = 1, o = r.length; i < o; i++) {
    var a = r[i];
    t > e13[a] && (n = a);
  }
  return n;
}
function Hce(e13, t) {
  if (!t[e13])
    throw new Error("ResponsiveReactGridLayout: `cols` entry for breakpoint " + e13 + " is missing!");
  return t[e13];
}
function Uce(e13, t, r, n, i, o) {
  if (e13[r])
    return (0, Qy.cloneLayout)(e13[r]);
  for (var a = e13[n], s = yR(t), l = s.slice(s.indexOf(r)), u = 0, c = l.length; u < c; u++) {
    var f = l[u];
    if (e13[f]) {
      a = e13[f];
      break;
    }
  }
  return a = (0, Qy.cloneLayout)(a || []), (0, Qy.compact)((0, Qy.correctBounds)(a, {
    cols: i
  }), o, i);
}
function yR(e13) {
  var t = Object.keys(e13);
  return t.sort(function(r, n) {
    return e13[r] - e13[n];
  });
}
vR.__esModule = true;
var nF = Object.assign || function(e13) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t];
    for (var n in r)
      Object.prototype.hasOwnProperty.call(r, n) && (e13[n] = r[n]);
  }
  return e13;
};
var jce = import_react.default;
var iF = s1(jce);
var Gce = Us;
var _c = s1(Gce);
var zce = QE;
var Fw = s1(zce);
var Af = dr;
var bc = Ku;
var Vce = ZE;
var Xce = s1(Vce);
function s1(e13) {
  return e13 && e13.__esModule ? e13 : {
    default: e13
  };
}
function Wce(e13, t) {
  var r = {};
  for (var n in e13)
    t.indexOf(n) >= 0 || Object.prototype.hasOwnProperty.call(e13, n) && (r[n] = e13[n]);
  return r;
}
function Yce(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function oF(e13, t) {
  if (!e13)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return t && (typeof t == "object" || typeof t == "function") ? t : e13;
}
function qce(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function, not " + typeof t);
  e13.prototype = Object.create(t && t.prototype, {
    constructor: {
      value: e13,
      enumerable: false,
      writable: true,
      configurable: true
    }
  }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e13, t) : e13.__proto__ = t);
}
var aF = function(t) {
  return Object.prototype.toString.call(t);
};
var _R = function(e13) {
  qce(t, e13);
  function t() {
    var r, n, i;
    Yce(this, t);
    for (var o = arguments.length, a = Array(o), s = 0; s < o; s++)
      a[s] = arguments[s];
    return i = (r = (n = oF(this, e13.call.apply(e13, [this].concat(a))), n), n.state = n.generateInitialState(), n.onLayoutChange = function(l) {
      var u;
      n.props.onLayoutChange(l, nF({}, n.props.layouts, (u = {}, u[n.state.breakpoint] = l, u)));
    }, r), oF(n, i);
  }
  return t.prototype.generateInitialState = function() {
    var n = this.props, i = n.width, o = n.breakpoints, a = n.layouts, s = n.cols, l = (0, bc.getBreakpointFromWidth)(o, i), u = (0, bc.getColsFromBreakpoint)(l, s), c = this.props.verticalCompact === false ? null : this.props.compactType, f = (0, bc.findOrGenerateResponsiveLayout)(a, o, l, l, u, c);
    return {
      layout: f,
      breakpoint: l,
      cols: u
    };
  }, t.prototype.componentWillReceiveProps = function(n) {
    if (n.width != this.props.width || n.breakpoint !== this.props.breakpoint || !(0, Fw.default)(n.breakpoints, this.props.breakpoints) || !(0, Fw.default)(n.cols, this.props.cols))
      this.onWidthChange(n);
    else if (!(0, Fw.default)(n.layouts, this.props.layouts)) {
      var i = this.state, o = i.breakpoint, a = i.cols, s = (0, bc.findOrGenerateResponsiveLayout)(n.layouts, n.breakpoints, o, o, a, n.compactType);
      this.setState({
        layout: s
      });
    }
  }, t.prototype.onWidthChange = function(n) {
    var i = n.breakpoints, o = n.cols, a = n.layouts, s = n.compactType, l = n.breakpoint || (0, bc.getBreakpointFromWidth)(n.breakpoints, n.width), u = this.state.breakpoint;
    if (u !== l || this.props.breakpoints !== i || this.props.cols !== o) {
      u in a || (a[u] = (0, Af.cloneLayout)(this.state.layout));
      var c = (0, bc.getColsFromBreakpoint)(l, o), f = (0, bc.findOrGenerateResponsiveLayout)(a, i, l, u, c, s);
      f = (0, Af.synchronizeLayoutWithChildren)(f, n.children, c, s), a[l] = f, this.props.onLayoutChange(f, a), this.props.onBreakpointChange(l, c), this.props.onWidthChange(n.width, n.margin, c, n.containerPadding), this.setState({
        breakpoint: l,
        layout: f,
        cols: c
      });
    }
  }, t.prototype.render = function() {
    var n = this.props;
    n.breakpoint, n.breakpoints, n.cols, n.layouts, n.onBreakpointChange, n.onLayoutChange, n.onWidthChange;
    var i = Wce(n, ["breakpoint", "breakpoints", "cols", "layouts", "onBreakpointChange", "onLayoutChange", "onWidthChange"]);
    return iF.default.createElement(Xce.default, nF({}, i, {
      onLayoutChange: this.onLayoutChange,
      layout: this.state.layout,
      cols: this.state.cols
    }));
  }, t;
}(iF.default.Component);
_R.propTypes = {
  //
  // Basic props
  //
  // Optional, but if you are managing width yourself you may want to set the breakpoint
  // yourself as well.
  breakpoint: _c.default.string,
  // {name: pxVal}, e.g. {lg: 1200, md: 996, sm: 768, xs: 480}
  breakpoints: _c.default.object,
  // # of cols. This is a breakpoint -> cols map
  cols: _c.default.object,
  // layouts is an object mapping breakpoints to layouts.
  // e.g. {lg: Layout, md: Layout, ...}
  layouts: function(t, r) {
    if (aF(t[r]) !== "[object Object]")
      throw new Error("Layout property must be an object. Received: " + aF(t[r]));
    Object.keys(t[r]).forEach(function(n) {
      if (!(n in t.breakpoints))
        throw new Error("Each key in layouts must align with a key in breakpoints.");
      (0, Af.validateLayout)(t.layouts[n], "layouts." + n);
    });
  },
  // The width of this component.
  // Required in this propTypes stanza because generateInitialState() will fail without it.
  width: _c.default.number.isRequired,
  //
  // Callbacks
  //
  // Calls back with breakpoint and new # cols
  onBreakpointChange: _c.default.func,
  // Callback so you can save the layout.
  // Calls back with (currentLayout, allLayouts). allLayouts are keyed by breakpoint.
  onLayoutChange: _c.default.func,
  // Calls back with (containerWidth, margin, cols, containerPadding)
  onWidthChange: _c.default.func
};
_R.defaultProps = {
  breakpoints: {
    lg: 1200,
    md: 996,
    sm: 768,
    xs: 480,
    xxs: 0
  },
  cols: {
    lg: 12,
    md: 10,
    sm: 6,
    xs: 4,
    xxs: 2
  },
  layouts: {},
  onBreakpointChange: Af.noop,
  onLayoutChange: Af.noop,
  onWidthChange: Af.noop
};
vR.default = _R;
var bR = {};
bR.__esModule = true;
var Kce = Object.assign || function(e13) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t];
    for (var n in r)
      Object.prototype.hasOwnProperty.call(r, n) && (e13[n] = r[n]);
  }
  return e13;
};
bR.default = oue;
var Zce = import_react.default;
var $w = TR(Zce);
var Qce = Us;
var Jce = TR(Qce);
var eue = import_react_dom.default;
var tue = TR(eue);
function TR(e13) {
  return e13 && e13.__esModule ? e13 : {
    default: e13
  };
}
function rue(e13, t) {
  var r = {};
  for (var n in e13)
    t.indexOf(n) >= 0 || Object.prototype.hasOwnProperty.call(e13, n) && (r[n] = e13[n]);
  return r;
}
function nue(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function sF(e13, t) {
  if (!e13)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return t && (typeof t == "object" || typeof t == "function") ? t : e13;
}
function iue(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function, not " + typeof t);
  e13.prototype = Object.create(t && t.prototype, {
    constructor: {
      value: e13,
      enumerable: false,
      writable: true,
      configurable: true
    }
  }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e13, t) : e13.__proto__ = t);
}
function oue(e13) {
  var t, r;
  return r = t = function(n) {
    iue(i, n);
    function i() {
      var o, a, s;
      nue(this, i);
      for (var l = arguments.length, u = Array(l), c = 0; c < l; c++)
        u[c] = arguments[c];
      return s = (o = (a = sF(this, n.call.apply(n, [this].concat(u))), a), a.state = {
        width: 1280
      }, a.mounted = false, a.onWindowResize = function() {
        if (a.mounted) {
          var f = tue.default.findDOMNode(a);
          f instanceof HTMLElement && a.setState({
            width: f.offsetWidth
          });
        }
      }, o), sF(a, s);
    }
    return i.prototype.componentDidMount = function() {
      this.mounted = true, window.addEventListener("resize", this.onWindowResize), this.onWindowResize();
    }, i.prototype.componentWillUnmount = function() {
      this.mounted = false, window.removeEventListener("resize", this.onWindowResize);
    }, i.prototype.render = function() {
      var a = this.props, s = a.measureBeforeMount, l = rue(a, ["measureBeforeMount"]);
      return s && !this.mounted ? $w.default.createElement("div", {
        className: this.props.className,
        style: this.props.style
      }) : $w.default.createElement(e13, Kce({}, l, this.state));
    }, i;
  }($w.default.Component), t.defaultProps = {
    measureBeforeMount: false
  }, t.propTypes = {
    // If true, will not render children until mounted. Useful for getting the exact width before
    // rendering, to prevent any unsightly resizing.
    measureBeforeMount: Jce.default.bool
  }, r;
}
(function(e13) {
  e13.exports = ZE.default, e13.exports.utils = dr, e13.exports.Responsive = vR.default, e13.exports.Responsive.utils = Ku, e13.exports.WidthProvider = bR.default;
})(d8);
var aue = d8.exports;
var sue = $i(aue);
var F8 = { exports: {} };
(function(e13, t) {
  (function(r, n) {
    e13.exports = n();
  })(typeof window < "u" ? window : De, function() {
    if (typeof window > "u")
      return null;
    var r = typeof window < "u" && window.Math == Math ? window : typeof self < "u" && self.Math == Math ? self : Function("return this")(), n = r.requestAnimationFrame || r.mozRequestAnimationFrame || r.webkitRequestAnimationFrame || function(c) {
      return r.setTimeout(c, 20);
    }, i = r.cancelAnimationFrame || r.mozCancelAnimationFrame || r.webkitCancelAnimationFrame || function(c) {
      r.clearTimeout(c);
    };
    function o(c, f) {
      var h = Object.prototype.toString.call(c), d = h === "[object Array]" || h === "[object NodeList]" || h === "[object HTMLCollection]" || h === "[object Object]" || typeof jQuery < "u" && c instanceof jQuery || typeof Elements < "u" && c instanceof Elements, p = 0, m = c.length;
      if (d)
        for (; p < m; p++)
          f(c[p]);
      else
        f(c);
    }
    function a(c) {
      if (!c.getBoundingClientRect)
        return {
          width: c.offsetWidth,
          height: c.offsetHeight
        };
      var f = c.getBoundingClientRect();
      return {
        width: Math.round(f.width),
        height: Math.round(f.height)
      };
    }
    function s(c, f) {
      Object.keys(f).forEach(function(h) {
        c.style[h] = f[h];
      });
    }
    var l = function(c, f) {
      var h = 0;
      function d() {
        var m = [];
        this.add = function(b) {
          m.push(b);
        };
        var g, v;
        this.call = function(b) {
          for (g = 0, v = m.length; g < v; g++)
            m[g].call(this, b);
        }, this.remove = function(b) {
          var y = [];
          for (g = 0, v = m.length; g < v; g++)
            m[g] !== b && y.push(m[g]);
          m = y;
        }, this.length = function() {
          return m.length;
        };
      }
      function p(m, g) {
        if (m) {
          if (m.resizedAttached) {
            m.resizedAttached.add(g);
            return;
          }
          m.resizedAttached = new d(), m.resizedAttached.add(g), m.resizeSensor = document.createElement("div"), m.resizeSensor.dir = "ltr", m.resizeSensor.className = "resize-sensor";
          var v = {
            pointerEvents: "none",
            position: "absolute",
            left: "0px",
            top: "0px",
            right: "0px",
            bottom: "0px",
            overflow: "hidden",
            zIndex: "-1",
            visibility: "hidden",
            maxWidth: "100%"
          }, b = {
            position: "absolute",
            left: "0px",
            top: "0px",
            transition: "0s"
          };
          s(m.resizeSensor, v);
          var y = document.createElement("div");
          y.className = "resize-sensor-expand", s(y, v);
          var _ = document.createElement("div");
          s(_, b), y.appendChild(_);
          var T = document.createElement("div");
          T.className = "resize-sensor-shrink", s(T, v);
          var E = document.createElement("div");
          s(E, b), s(E, {
            width: "200%",
            height: "200%"
          }), T.appendChild(E), m.resizeSensor.appendChild(y), m.resizeSensor.appendChild(T), m.appendChild(m.resizeSensor);
          var O = window.getComputedStyle(m), S = O ? O.getPropertyValue("position") : null;
          S !== "absolute" && S !== "relative" && S !== "fixed" && S !== "sticky" && (m.style.position = "relative");
          var P = false, C = 0, w = a(m), N = 0, L = 0, A = true;
          h = 0;
          var R = function() {
            var J = m.offsetWidth, pe = m.offsetHeight;
            _.style.width = J + 10 + "px", _.style.height = pe + 10 + "px", y.scrollLeft = J + 10, y.scrollTop = pe + 10, T.scrollLeft = J + 10, T.scrollTop = pe + 10;
          }, F = function() {
            if (A) {
              var J = m.offsetWidth === 0 && m.offsetHeight === 0;
              if (J) {
                h || (h = n(function() {
                  h = 0, F();
                }));
                return;
              } else
                A = false;
            }
            R();
          };
          m.resizeSensor.resetSensor = F;
          var $ = function() {
            C = 0, P && (N = w.width, L = w.height, m.resizedAttached && m.resizedAttached.call(w));
          }, K = function() {
            w = a(m), P = w.width !== N || w.height !== L, P && !C && (C = n($)), F();
          }, ie = function(J, pe, oe) {
            J.attachEvent ? J.attachEvent("on" + pe, oe) : J.addEventListener(pe, oe);
          };
          ie(y, "scroll", K), ie(T, "scroll", K), h = n(function() {
            h = 0, F();
          });
        }
      }
      o(c, function(m) {
        p(m, f);
      }), this.detach = function(m) {
        h || (i(h), h = 0), l.detach(c, m);
      }, this.reset = function() {
        c.resizeSensor.resetSensor();
      };
    };
    if (l.reset = function(c) {
      o(c, function(f) {
        f.resizeSensor.resetSensor();
      });
    }, l.detach = function(c, f) {
      o(c, function(h) {
        h && (h.resizedAttached && typeof f == "function" && (h.resizedAttached.remove(f), h.resizedAttached.length()) || h.resizeSensor && (h.contains(h.resizeSensor) && h.removeChild(h.resizeSensor), delete h.resizeSensor, delete h.resizedAttached));
      });
    }, typeof MutationObserver < "u") {
      var u = new MutationObserver(function(c) {
        for (var f in c)
          if (c.hasOwnProperty(f))
            for (var h = c[f].addedNodes, d = 0; d < h.length; d++)
              h[d].resizeSensor && l.reset(h[d]);
      });
      document.addEventListener("DOMContentLoaded", function(c) {
        u.observe(document.body, {
          childList: true,
          subtree: true
        });
      });
    }
    return l;
  });
})(F8);
var $8 = F8.exports;
var H8 = { exports: {} };
(function(e13, t) {
  (function(r, n) {
    e13.exports = n($8);
  })(typeof window < "u" ? window : De, function(r) {
    var n = function() {
      var o, a = {}, s = [];
      function l(O) {
        O || (O = document.documentElement);
        var S = window.getComputedStyle(O, null).fontSize;
        return parseFloat(S) || 16;
      }
      function u(O) {
        if (!O.getBoundingClientRect)
          return {
            width: O.offsetWidth,
            height: O.offsetHeight
          };
        var S = O.getBoundingClientRect();
        return {
          width: Math.round(S.width),
          height: Math.round(S.height)
        };
      }
      function c(O, S) {
        var P = S.split(/\d/), C = P[P.length - 1];
        switch (S = parseFloat(S), C) {
          case "px":
            return S;
          case "em":
            return S * l(O);
          case "rem":
            return S * l();
          case "vw":
            return S * document.documentElement.clientWidth / 100;
          case "vh":
            return S * document.documentElement.clientHeight / 100;
          case "vmin":
          case "vmax":
            var w = document.documentElement.clientWidth / 100, N = document.documentElement.clientHeight / 100, L = Math[C === "vmin" ? "min" : "max"];
            return S * L(w, N);
          default:
            return S;
        }
      }
      function f(O, S) {
        this.element = O;
        var P, C, w, N, L, A, R, F, $ = ["min-width", "min-height", "max-width", "max-height"];
        this.call = function() {
          w = u(this.element), A = {};
          for (P in a[S])
            a[S].hasOwnProperty(P) && (C = a[S][P], N = c(this.element, C.value), L = C.property === "width" ? w.width : w.height, F = C.mode + "-" + C.property, R = "", C.mode === "min" && L >= N && (R += C.value), C.mode === "max" && L <= N && (R += C.value), A[F] || (A[F] = ""), R && (" " + A[F] + " ").indexOf(" " + R + " ") === -1 && (A[F] += " " + R));
          for (var K in $)
            $.hasOwnProperty(K) && (A[$[K]] ? this.element.setAttribute($[K], A[$[K]].substr(1)) : this.element.removeAttribute($[K]));
        };
      }
      function h(O, S) {
        O.elementQueriesSetupInformation || (O.elementQueriesSetupInformation = new f(O, S)), O.elementQueriesSensor || (O.elementQueriesSensor = new r(O, function() {
          O.elementQueriesSetupInformation.call();
        }));
      }
      function d(O, S, P, C) {
        if (typeof a[O] > "u") {
          a[O] = [];
          var w = s.length;
          o.innerHTML += `
` + O + " {animation: 0.1s element-queries;}", o.innerHTML += `
` + O + " > .resize-sensor {min-width: " + w + "px;}", s.push(O);
        }
        a[O].push({
          mode: S,
          property: P,
          value: C
        });
      }
      function p(O) {
        var S;
        if (document.querySelectorAll && (S = O ? O.querySelectorAll.bind(O) : document.querySelectorAll.bind(document)), !S && typeof $$ < "u" && (S = $$), !S && typeof jQuery < "u" && (S = jQuery), !S)
          throw "No document.querySelectorAll, jQuery or Mootools's $$ found.";
        return S;
      }
      function m(O) {
        var S = p(O);
        for (var P in a)
          if (a.hasOwnProperty(P))
            for (var C = S(P, O), w = 0, N = C.length; w < N; w++)
              h(C[w], P);
      }
      function g(O) {
        var S = [], P = [], C = [], w = 0, N = -1, L = [];
        for (var A in O.children)
          if (O.children.hasOwnProperty(A) && O.children[A].tagName && O.children[A].tagName.toLowerCase() === "img") {
            S.push(O.children[A]);
            var R = O.children[A].getAttribute("min-width") || O.children[A].getAttribute("data-min-width"), F = O.children[A].getAttribute("data-src") || O.children[A].getAttribute("url");
            C.push(F);
            var $ = {
              minWidth: R
            };
            P.push($), R ? O.children[A].style.display = "none" : (w = S.length - 1, O.children[A].style.display = "block");
          }
        N = w;
        function K() {
          var ie = false, J;
          for (J in S)
            S.hasOwnProperty(J) && P[J].minWidth && O.offsetWidth > P[J].minWidth && (ie = J);
          if (ie || (ie = w), N !== ie)
            if (L[ie])
              S[N].style.display = "none", S[ie].style.display = "block", N = ie;
            else {
              var pe = new Image();
              pe.onload = function() {
                S[ie].src = C[ie], S[N].style.display = "none", S[ie].style.display = "block", L[ie] = true, N = ie;
              }, pe.src = C[ie];
            }
          else
            S[ie].src = C[ie];
        }
        O.resizeSensorInstance = new r(O, K), K();
      }
      function v() {
        for (var O = p(), S = O("[data-responsive-image],[responsive-image]"), P = 0, C = S.length; P < C; P++)
          g(S[P]);
      }
      var b = /,?[\s\t]*([^,\n]*?)((?:\[[\s\t]*?(?:min|max)-(?:width|height)[\s\t]*?[~$\^]?=[\s\t]*?"[^"]*?"[\s\t]*?])+)([^,\n\s\{]*)/mgi, y = /\[[\s\t]*?(min|max)-(width|height)[\s\t]*?[~$\^]?=[\s\t]*?"([^"]*?)"[\s\t]*?]/mgi;
      function _(O) {
        var S, P, C, w;
        for (O = O.replace(/'/g, '"'); (S = b.exec(O)) !== null; )
          for (P = S[1] + S[3], C = S[2]; (w = y.exec(C)) !== null; )
            d(P, w[1], w[2], w[3]);
      }
      function T(O) {
        var S = "";
        if (O)
          if (typeof O == "string")
            O = O.toLowerCase(), (O.indexOf("min-width") !== -1 || O.indexOf("max-width") !== -1) && _(O);
          else
            for (var P = 0, C = O.length; P < C; P++)
              O[P].type === 1 ? (S = O[P].selectorText || O[P].cssText, (S.indexOf("min-height") !== -1 || S.indexOf("max-height") !== -1 || S.indexOf("min-width") !== -1 || S.indexOf("max-width") !== -1) && _(S)) : O[P].type === 4 ? T(O[P].cssRules || O[P].rules) : O[P].type === 3 && O[P].styleSheet.hasOwnProperty("cssRules") && T(O[P].styleSheet.cssRules);
      }
      var E = false;
      this.init = function() {
        var O = "animationstart";
        typeof document.documentElement.style.webkitAnimationName < "u" ? O = "webkitAnimationStart" : typeof document.documentElement.style.MozAnimationName < "u" ? O = "mozanimationstart" : typeof document.documentElement.style.OAnimationName < "u" && (O = "oanimationstart"), document.body.addEventListener(O, function(C) {
          var w = C.target, N = w && window.getComputedStyle(w, null), L = N && N.getPropertyValue("animation-name"), A = L && L.indexOf("element-queries") !== -1;
          if (A) {
            w.elementQueriesSensor = new r(w, function() {
              w.elementQueriesSetupInformation && w.elementQueriesSetupInformation.call();
            });
            var R = window.getComputedStyle(w.resizeSensor, null), F = R.getPropertyValue("min-width");
            F = parseInt(F.replace("px", "")), h(C.target, s[F]);
          }
        }), E || (o = document.createElement("style"), o.type = "text/css", o.innerHTML = "[responsive-image] > img, [data-responsive-image] {overflow: hidden; padding: 0; } [responsive-image] > img, [data-responsive-image] > img {width: 100%;}", o.innerHTML += `
@keyframes element-queries { 0% { visibility: inherit; } }`, document.getElementsByTagName("head")[0].appendChild(o), E = true);
        for (var S = 0, P = document.styleSheets.length; S < P; S++)
          try {
            document.styleSheets[S].href && document.styleSheets[S].href.indexOf("file://") === 0 && console.warn("CssElementQueries: unable to parse local css files, " + document.styleSheets[S].href), T(document.styleSheets[S].cssRules || document.styleSheets[S].rules || document.styleSheets[S].cssText);
          } catch {
          }
        v();
      }, this.findElementQueriesElements = function(O) {
        m(O);
      }, this.update = function() {
        this.init();
      };
    };
    n.update = function() {
      n.instance.update();
    }, n.detach = function(o) {
      o.elementQueriesSetupInformation ? (o.elementQueriesSensor.detach(), delete o.elementQueriesSetupInformation, delete o.elementQueriesSensor) : o.resizeSensorInstance && (o.resizeSensorInstance.detach(), delete o.resizeSensorInstance);
    }, n.init = function() {
      n.instance || (n.instance = new n()), n.instance.init();
    };
    var i = function(o) {
      if (document.addEventListener)
        document.addEventListener("DOMContentLoaded", o, false);
      else if (/KHTML|WebKit|iCab/i.test(navigator.userAgent))
        var a = setInterval(function() {
          /loaded|complete/i.test(document.readyState) && (o(), clearInterval(a));
        }, 10);
      else
        window.onload = o;
    };
    return n.findElementQueriesElements = function(o) {
      n.instance.findElementQueriesElements(o);
    }, n.listen = function() {
      i(n.init);
    }, n;
  });
})(H8);
var lue = H8.exports;
var g0 = {
  ResizeSensor: $8,
  ElementQueries: lue
};
function l1(e13) {
  var t = "    ";
  if (isNaN(parseInt(e13)))
    t = e13;
  else
    switch (e13) {
      case 1:
        t = " ";
        break;
      case 2:
        t = "  ";
        break;
      case 3:
        t = "   ";
        break;
      case 4:
        t = "    ";
        break;
      case 5:
        t = "     ";
        break;
      case 6:
        t = "      ";
        break;
      case 7:
        t = "       ";
        break;
      case 8:
        t = "        ";
        break;
      case 9:
        t = "         ";
        break;
      case 10:
        t = "          ";
        break;
      case 11:
        t = "           ";
        break;
      case 12:
        t = "            ";
        break;
    }
  for (var r = [`
`], n = 0; n < 100; n++)
    r.push(r[n] + t);
  return r;
}
function Gs() {
  this.step = "    ", this.shift = l1(this.step);
}
Gs.prototype.xml = function(e13, t) {
  var r = e13.replace(/>\s{0,}</g, "><").replace(/</g, "~::~<").replace(/\s*xmlns\:/g, "~::~xmlns:").replace(/\s*xmlns\=/g, "~::~xmlns=").split("~::~"), n = r.length, i = false, o = 0, a = "", s = 0, l = t ? l1(t) : this.shift;
  for (s = 0; s < n; s++)
    r[s].search(/<!/) > -1 ? (a += l[o] + r[s], i = true, (r[s].search(/-->/) > -1 || r[s].search(/\]>/) > -1 || r[s].search(/!DOCTYPE/) > -1) && (i = false)) : r[s].search(/-->/) > -1 || r[s].search(/\]>/) > -1 ? (a += r[s], i = false) : /^<\w/.exec(r[s - 1]) && /^<\/\w/.exec(r[s]) && /^<[\w:\-\.\,]+/.exec(r[s - 1]) == /^<\/[\w:\-\.\,]+/.exec(r[s])[0].replace("/", "") ? (a += r[s], i || o--) : r[s].search(/<\w/) > -1 && r[s].search(/<\//) == -1 && r[s].search(/\/>/) == -1 ? a = i ? a += r[s] : a += l[o++] + r[s] : r[s].search(/<\w/) > -1 && r[s].search(/<\//) > -1 ? a = i ? a += r[s] : a += l[o] + r[s] : r[s].search(/<\//) > -1 ? a = i ? a += r[s] : a += l[--o] + r[s] : r[s].search(/\/>/) > -1 ? a = i ? a += r[s] : a += l[o] + r[s] : r[s].search(/<\?/) > -1 || r[s].search(/xmlns\:/) > -1 || r[s].search(/xmlns\=/) > -1 ? a += l[o] + r[s] : a += r[s];
  return a[0] == `
` ? a.slice(1) : a;
};
Gs.prototype.json = function(e13, r) {
  var r = r || this.step;
  return typeof JSON > "u" ? e13 : typeof e13 == "string" ? JSON.stringify(JSON.parse(e13), null, r) : typeof e13 == "object" ? JSON.stringify(e13, null, r) : e13;
};
Gs.prototype.css = function(e13, t) {
  var r = e13.replace(/\s{1,}/g, " ").replace(/\{/g, "{~::~").replace(/\}/g, "~::~}~::~").replace(/\;/g, ";~::~").replace(/\/\*/g, "~::~/*").replace(/\*\//g, "*/~::~").replace(/~::~\s{0,}~::~/g, "~::~").split("~::~"), n = r.length, i = 0, o = "", a = 0, s = t ? l1(t) : this.shift;
  for (a = 0; a < n; a++)
    /\{/.exec(r[a]) ? o += s[i++] + r[a] : /\}/.exec(r[a]) ? o += s[--i] + r[a] : (/\*\\/.exec(r[a]), o += s[i] + r[a]);
  return o.replace(/^\n{1,}/, "");
};
function cue(e13, t) {
  return t - (e13.replace(/\(/g, "").length - e13.replace(/\)/g, "").length);
}
function uue(e13, t) {
  return e13.replace(/\s{1,}/g, " ").replace(/ AND /ig, "~::~" + t + t + "AND ").replace(/ BETWEEN /ig, "~::~" + t + "BETWEEN ").replace(/ CASE /ig, "~::~" + t + "CASE ").replace(/ ELSE /ig, "~::~" + t + "ELSE ").replace(/ END /ig, "~::~" + t + "END ").replace(/ FROM /ig, "~::~FROM ").replace(/ GROUP\s{1,}BY/ig, "~::~GROUP BY ").replace(/ HAVING /ig, "~::~HAVING ").replace(/ IN /ig, " IN ").replace(/ JOIN /ig, "~::~JOIN ").replace(/ CROSS~::~{1,}JOIN /ig, "~::~CROSS JOIN ").replace(/ INNER~::~{1,}JOIN /ig, "~::~INNER JOIN ").replace(/ LEFT~::~{1,}JOIN /ig, "~::~LEFT JOIN ").replace(/ RIGHT~::~{1,}JOIN /ig, "~::~RIGHT JOIN ").replace(/ ON /ig, "~::~" + t + "ON ").replace(/ OR /ig, "~::~" + t + t + "OR ").replace(/ ORDER\s{1,}BY/ig, "~::~ORDER BY ").replace(/ OVER /ig, "~::~" + t + "OVER ").replace(/\(\s{0,}SELECT /ig, "~::~(SELECT ").replace(/\)\s{0,}SELECT /ig, ")~::~SELECT ").replace(/ THEN /ig, " THEN~::~" + t).replace(/ UNION /ig, "~::~UNION~::~").replace(/ USING /ig, "~::~USING ").replace(/ WHEN /ig, "~::~" + t + "WHEN ").replace(/ WHERE /ig, "~::~WHERE ").replace(/ WITH /ig, "~::~WITH ").replace(/ ALL /ig, " ALL ").replace(/ AS /ig, " AS ").replace(/ ASC /ig, " ASC ").replace(/ DESC /ig, " DESC ").replace(/ DISTINCT /ig, " DISTINCT ").replace(/ EXISTS /ig, " EXISTS ").replace(/ NOT /ig, " NOT ").replace(/ NULL /ig, " NULL ").replace(/ LIKE /ig, " LIKE ").replace(/\s{0,}SELECT /ig, "SELECT ").replace(/\s{0,}UPDATE /ig, "UPDATE ").replace(/ SET /ig, " SET ").replace(/~::~{1,}/g, "~::~").split("~::~");
}
Gs.prototype.sql = function(e13, t) {
  var r = e13.replace(/\s{1,}/g, " ").replace(/\'/ig, "~::~'").split("~::~"), n = r.length, i = [], o = 0, a = this.step, s = 0, l = "", u = 0, c = t ? l1(t) : this.shift;
  for (u = 0; u < n; u++)
    u % 2 ? i = i.concat(r[u]) : i = i.concat(uue(r[u], a));
  for (n = i.length, u = 0; u < n; u++)
    s = cue(i[u], s), /\s{0,}\s{0,}SELECT\s{0,}/.exec(i[u]) && (i[u] = i[u].replace(/\,/g, `,
` + a + a)), /\s{0,}\s{0,}SET\s{0,}/.exec(i[u]) && (i[u] = i[u].replace(/\,/g, `,
` + a + a)), /\s{0,}\(\s{0,}SELECT\s{0,}/.exec(i[u]) ? (o++, l += c[o] + i[u]) : /\'/.exec(i[u]) ? (s < 1 && o && o--, l += i[u]) : (l += c[o] + i[u], s < 1 && o && o--);
  return l = l.replace(/^\n{1,}/, "").replace(/\n{1,}/g, `
`), l;
};
Gs.prototype.xmlmin = function(e13, t) {
  var r = t ? e13 : e13.replace(/\<![ \r\n\t]*(--([^\-]|[\r\n]|-[^\-])*--[ \r\n\t]*)\>/g, "").replace(/[ \r\n\t]{1,}xmlns/g, " xmlns");
  return r.replace(/>\s{0,}</g, "><");
};
Gs.prototype.jsonmin = function(e13) {
  return typeof JSON > "u" ? e13 : JSON.stringify(JSON.parse(e13), null, 0);
};
Gs.prototype.cssmin = function(e13, t) {
  var r = t ? e13 : e13.replace(/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*+\//g, "");
  return r.replace(/\s{1,}/g, " ").replace(/\{\s{1,}/g, "{").replace(/\}\s{1,}/g, "}").replace(/\;\s{1,}/g, ";").replace(/\/\*\s{1,}/g, "/*").replace(/\*\/\s{1,}/g, "*/");
};
Gs.prototype.sqlmin = function(e13) {
  return e13.replace(/\s{1,}/g, " ").replace(/\s{1,}\(/, "(").replace(/\s{1,}\)/, ")");
};
var hue = new Gs();
var fue = $i(hue);
var due = function(t, r) {
  if (r = r.split(":")[0], t = +t, !t)
    return false;
  switch (r) {
    case "http":
    case "ws":
      return t !== 80;
    case "https":
    case "wss":
      return t !== 443;
    case "ftp":
      return t !== 21;
    case "gopher":
      return t !== 70;
    case "file":
      return false;
  }
  return t !== 0;
};
var ER = {};
var pue = Object.prototype.hasOwnProperty;
var mue;
function lF(e13) {
  try {
    return decodeURIComponent(e13.replace(/\+/g, " "));
  } catch {
    return null;
  }
}
function cF(e13) {
  try {
    return encodeURIComponent(e13);
  } catch {
    return null;
  }
}
function gue(e13) {
  for (var t = /([^=?#&]+)=?([^&]*)/g, r = {}, n; n = t.exec(e13); ) {
    var i = lF(n[1]), o = lF(n[2]);
    i === null || o === null || i in r || (r[i] = o);
  }
  return r;
}
function vue(e13, t) {
  t = t || "";
  var r = [], n, i;
  typeof t != "string" && (t = "?");
  for (i in e13)
    if (pue.call(e13, i)) {
      if (n = e13[i], !n && (n === null || n === mue || isNaN(n)) && (n = ""), i = cF(i), n = cF(n), i === null || n === null)
        continue;
      r.push(i + "=" + n);
    }
  return r.length ? t + r.join("&") : "";
}
ER.stringify = vue;
ER.parse = gue;
var U8 = due;
var c1 = ER;
var yue = /^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/;
var j8 = /[\n\r\t]/g;
var _ue = /^[A-Za-z][A-Za-z0-9+-.]*:\/\//;
var G8 = /:\d+$/;
var bue = /^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i;
var Tue = /^[a-zA-Z]:/;
function SR(e13) {
  return (e13 || "").toString().replace(yue, "");
}
var lP = [
  ["#", "hash"],
  // Extract from the back.
  ["?", "query"],
  // Extract from the back.
  function(t, r) {
    return Ma(r.protocol) ? t.replace(/\\/g, "/") : t;
  },
  ["/", "pathname"],
  // Extract from the back.
  ["@", "auth", 1],
  // Extract from the front.
  [NaN, "host", void 0, 1, 1],
  // Set left over value.
  [/:(\d*)$/, "port", void 0, 1],
  // RegExp the back.
  [NaN, "hostname", void 0, 1, 1]
  // Set left over.
];
var uF = {
  hash: 1,
  query: 1
};
function z8(e13) {
  var t;
  typeof window < "u" ? t = window : typeof globalThis < "u" ? t = globalThis : typeof self < "u" ? t = self : t = {};
  var r = t.location || {};
  e13 = e13 || r;
  var n = {}, i = typeof e13, o;
  if (e13.protocol === "blob:")
    n = new $a(unescape(e13.pathname), {});
  else if (i === "string") {
    n = new $a(e13, {});
    for (o in uF)
      delete n[o];
  } else if (i === "object") {
    for (o in e13)
      o in uF || (n[o] = e13[o]);
    n.slashes === void 0 && (n.slashes = _ue.test(e13.href));
  }
  return n;
}
function Ma(e13) {
  return e13 === "file:" || e13 === "ftp:" || e13 === "http:" || e13 === "https:" || e13 === "ws:" || e13 === "wss:";
}
function V8(e13, t) {
  e13 = SR(e13), e13 = e13.replace(j8, ""), t = t || {};
  var r = bue.exec(e13), n = r[1] ? r[1].toLowerCase() : "", i = !!r[2], o = !!r[3], a = 0, s;
  return i ? o ? (s = r[2] + r[3] + r[4], a = r[2].length + r[3].length) : (s = r[2] + r[4], a = r[2].length) : o ? (s = r[3] + r[4], a = r[3].length) : s = r[4], n === "file:" ? a >= 2 && (s = s.slice(2)) : Ma(n) ? s = r[4] : n ? i && (s = s.slice(2)) : a >= 2 && Ma(t.protocol) && (s = r[4]), {
    protocol: n,
    slashes: i || Ma(n),
    slashesCount: a,
    rest: s
  };
}
function Eue(e13, t) {
  if (e13 === "")
    return t;
  for (var r = (t || "/").split("/").slice(0, -1).concat(e13.split("/")), n = r.length, i = r[n - 1], o = false, a = 0; n--; )
    r[n] === "." ? r.splice(n, 1) : r[n] === ".." ? (r.splice(n, 1), a++) : a && (n === 0 && (o = true), r.splice(n, 1), a--);
  return o && r.unshift(""), (i === "." || i === "..") && r.push(""), r.join("/");
}
function $a(e13, t, r) {
  if (e13 = SR(e13), e13 = e13.replace(j8, ""), !(this instanceof $a))
    return new $a(e13, t, r);
  var n, i, o, a, s, l, u = lP.slice(), c = typeof t, f = this, h = 0;
  for (c !== "object" && c !== "string" && (r = t, t = null), r && typeof r != "function" && (r = c1.parse), t = z8(t), i = V8(e13 || "", t), n = !i.protocol && !i.slashes, f.slashes = i.slashes || n && t.slashes, f.protocol = i.protocol || t.protocol || "", e13 = i.rest, (i.protocol === "file:" && (i.slashesCount !== 2 || Tue.test(e13)) || !i.slashes && (i.protocol || i.slashesCount < 2 || !Ma(f.protocol))) && (u[3] = [/(.*)/, "pathname"]); h < u.length; h++) {
    if (a = u[h], typeof a == "function") {
      e13 = a(e13, f);
      continue;
    }
    o = a[0], l = a[1], o !== o ? f[l] = e13 : typeof o == "string" ? (s = o === "@" ? e13.lastIndexOf(o) : e13.indexOf(o), ~s && (typeof a[2] == "number" ? (f[l] = e13.slice(0, s), e13 = e13.slice(s + a[2])) : (f[l] = e13.slice(s), e13 = e13.slice(0, s)))) : (s = o.exec(e13)) && (f[l] = s[1], e13 = e13.slice(0, s.index)), f[l] = f[l] || n && a[3] && t[l] || "", a[4] && (f[l] = f[l].toLowerCase());
  }
  r && (f.query = r(f.query)), n && t.slashes && f.pathname.charAt(0) !== "/" && (f.pathname !== "" || t.pathname !== "") && (f.pathname = Eue(f.pathname, t.pathname)), f.pathname.charAt(0) !== "/" && Ma(f.protocol) && (f.pathname = "/" + f.pathname), U8(f.port, f.protocol) || (f.host = f.hostname, f.port = ""), f.username = f.password = "", f.auth && (s = f.auth.indexOf(":"), ~s ? (f.username = f.auth.slice(0, s), f.username = encodeURIComponent(decodeURIComponent(f.username)), f.password = f.auth.slice(s + 1), f.password = encodeURIComponent(decodeURIComponent(f.password))) : f.username = encodeURIComponent(decodeURIComponent(f.auth)), f.auth = f.password ? f.username + ":" + f.password : f.username), f.origin = f.protocol !== "file:" && Ma(f.protocol) && f.host ? f.protocol + "//" + f.host : "null", f.href = f.toString();
}
function Sue(e13, t, r) {
  var n = this;
  switch (e13) {
    case "query":
      typeof t == "string" && t.length && (t = (r || c1.parse)(t)), n[e13] = t;
      break;
    case "port":
      n[e13] = t, U8(t, n.protocol) ? t && (n.host = n.hostname + ":" + t) : (n.host = n.hostname, n[e13] = "");
      break;
    case "hostname":
      n[e13] = t, n.port && (t += ":" + n.port), n.host = t;
      break;
    case "host":
      n[e13] = t, G8.test(t) ? (t = t.split(":"), n.port = t.pop(), n.hostname = t.join(":")) : (n.hostname = t, n.port = "");
      break;
    case "protocol":
      n.protocol = t.toLowerCase(), n.slashes = !r;
      break;
    case "pathname":
    case "hash":
      if (t) {
        var i = e13 === "pathname" ? "/" : "#";
        n[e13] = t.charAt(0) !== i ? i + t : t;
      } else
        n[e13] = t;
      break;
    case "username":
    case "password":
      n[e13] = encodeURIComponent(t);
      break;
    case "auth":
      var o = t.indexOf(":");
      ~o ? (n.username = t.slice(0, o), n.username = encodeURIComponent(decodeURIComponent(n.username)), n.password = t.slice(o + 1), n.password = encodeURIComponent(decodeURIComponent(n.password))) : n.username = encodeURIComponent(decodeURIComponent(t));
  }
  for (var a = 0; a < lP.length; a++) {
    var s = lP[a];
    s[4] && (n[s[1]] = n[s[1]].toLowerCase());
  }
  return n.auth = n.password ? n.username + ":" + n.password : n.username, n.origin = n.protocol !== "file:" && Ma(n.protocol) && n.host ? n.protocol + "//" + n.host : "null", n.href = n.toString(), n;
}
function wue(e13) {
  (!e13 || typeof e13 != "function") && (e13 = c1.stringify);
  var t, r = this, n = r.host, i = r.protocol;
  i && i.charAt(i.length - 1) !== ":" && (i += ":");
  var o = i + (r.protocol && r.slashes || Ma(r.protocol) ? "//" : "");
  return r.username ? (o += r.username, r.password && (o += ":" + r.password), o += "@") : r.password ? (o += ":" + r.password, o += "@") : r.protocol !== "file:" && Ma(r.protocol) && !n && r.pathname !== "/" && (o += "@"), (n[n.length - 1] === ":" || G8.test(r.hostname) && !r.port) && (n += ":"), o += n + r.pathname, t = typeof r.query == "object" ? e13(r.query) : r.query, t && (o += t.charAt(0) !== "?" ? "?" + t : t), r.hash && (o += r.hash), o;
}
$a.prototype = {
  set: Sue,
  toString: wue
};
$a.extractProtocol = V8;
$a.location = z8;
$a.trimLeft = SR;
$a.qs = c1;
var Aue = $a;
var Oue = $i(Aue);
var X8 = (() => {
  try {
    return new window.BroadcastChannel("pub-sub-es");
  } catch {
    return {
      postMessage: () => {
      }
    };
  }
})();
var wR = (e13, t) => t ? e13.toLowerCase() : e13;
var W8 = (e13, {
  caseInsensitive: t
} = {}) => (r, n, i = 1 / 0) => {
  const o = wR(r, t);
  return e13[o] || (e13[o] = [], e13.__times__[o] = []), e13[o].push(n), e13.__times__[o].push(+i || 1 / 0), {
    event: o,
    handler: n
  };
};
var AR = (e13, {
  caseInsensitive: t
} = {}) => (r, n) => {
  typeof r == "object" && (n = r.handler, r = r.event);
  const i = wR(r, t);
  if (!e13[i])
    return;
  const o = e13[i].indexOf(n);
  o === -1 || o >= e13[i].length || (e13[i].splice(o, 1), e13.__times__[i].splice(o, 1));
};
var hF = (e13, t) => () => {
  e13.forEach((r) => r(t));
};
var Y8 = (e13, {
  isGlobal: t,
  caseInsensitive: r,
  async: n
} = {}) => {
  const i = AR(e13);
  return (o, a, s = {}) => {
    const l = wR(o, r);
    if (!e13[l])
      return;
    const u = [...e13[l]];
    if (u.forEach((c, f) => {
      --e13.__times__[l][f] < 1 && i(l, c);
    }), n || s.async ? setTimeout(hF(u, a), 0) : hF(u, a)(), t && !s.isNoGlobalBroadcast)
      try {
        X8.postMessage({
          event: l,
          news: a
        });
      } catch (c) {
        if (c instanceof DOMException)
          console.warn(`Could not broadcast '${l}' globally. Payload is not clonable.`);
        else
          throw c;
      }
  };
};
var q8 = (e13) => () => {
  Object.keys(e13).filter((t) => t[0] !== "_").forEach((t) => {
    e13[t] = void 0, e13.__times__[t] = void 0, delete e13[t], delete e13.__times__[t];
  });
};
var K8 = () => ({
  __times__: {}
});
var u1 = (e13 = {}) => {
  const t = e13.async || false, r = e13.caseInsensitive || false, n = e13.stack || K8();
  return n.__times__ || (n.__times__ = {}), {
    publish: Y8(n, {
      async: t,
      caseInsensitive: r
    }),
    subscribe: W8(n, {
      caseInsensitive: r
    }),
    unsubscribe: AR(n, {
      caseInsensitive: r
    }),
    clear: q8(n),
    stack: n
  };
};
var jp = K8();
var Wm = {
  publish: Y8(jp, {
    isGlobal: true
  }),
  subscribe: W8(jp),
  unsubscribe: AR(jp),
  clear: q8(jp),
  stack: jp
};
X8.onmessage = ({
  data: {
    event: e13,
    news: t
  }
}) => Wm.publish(e13, t, {
  isNoGlobalBroadcast: true
});
var St = {
  "context-menu": "_context-menu_18ock_1",
  "context-menu-dark": "_context-menu-dark_18ock_12",
  "context-menu-icon": "_context-menu-icon_18ock_17",
  "context-menu-item": "_context-menu-item_18ock_27",
  "context-menu-hr": "_context-menu-hr_18ock_38",
  "play-icon": "_play-icon_18ock_45",
  "context-menu-span": "_context-menu-span_18ock_52"
};
function Ct(e13) {
  return import_react.default.createElement("div", {
    "data-menu-item-for": typeof e13.children == "string" ? e13.children : null,
    className: St["context-menu-item"],
    onClick: (t) => e13.onClick(t),
    onMouseEnter: (t) => e13.onMouseEnter(t),
    onMouseLeave: (t) => e13.onMouseLeave(t),
    role: "button",
    tabIndex: 0
  }, import_react.default.createElement("span", {
    className: St["context-menu-span"]
  }, e13.children));
}
Ct.defaultProps = {
  onMouseEnter: () => {
  },
  onMouseLeave: () => {
  }
};
Ct.propTypes = {
  children: M.node.isRequired,
  onClick: M.func.isRequired,
  onMouseEnter: M.func,
  onMouseLeave: M.func
};
var Iue = {
  value: () => {
  }
};
function Jd() {
  for (var e13 = 0, t = arguments.length, r = {}, n; e13 < t; ++e13) {
    if (!(n = arguments[e13] + "") || n in r || /[\s.]/.test(n))
      throw new Error("illegal type: " + n);
    r[n] = [];
  }
  return new K_(r);
}
function K_(e13) {
  this._ = e13;
}
function Pue(e13, t) {
  return e13.trim().split(/^|\s+/).map(function(r) {
    var n = "", i = r.indexOf(".");
    if (i >= 0 && (n = r.slice(i + 1), r = r.slice(0, i)), r && !t.hasOwnProperty(r))
      throw new Error("unknown type: " + r);
    return {
      type: r,
      name: n
    };
  });
}
K_.prototype = Jd.prototype = {
  constructor: K_,
  on: function(e13, t) {
    var r = this._, n = Pue(e13 + "", r), i, o = -1, a = n.length;
    if (arguments.length < 2) {
      for (; ++o < a; )
        if ((i = (e13 = n[o]).type) && (i = Cue(r[i], e13.name)))
          return i;
      return;
    }
    if (t != null && typeof t != "function")
      throw new Error("invalid callback: " + t);
    for (; ++o < a; )
      if (i = (e13 = n[o]).type)
        r[i] = fF(r[i], e13.name, t);
      else if (t == null)
        for (i in r)
          r[i] = fF(r[i], e13.name, null);
    return this;
  },
  copy: function() {
    var e13 = {}, t = this._;
    for (var r in t)
      e13[r] = t[r].slice();
    return new K_(e13);
  },
  call: function(e13, t) {
    if ((i = arguments.length - 2) > 0)
      for (var r = new Array(i), n = 0, i, o; n < i; ++n)
        r[n] = arguments[n + 2];
    if (!this._.hasOwnProperty(e13))
      throw new Error("unknown type: " + e13);
    for (o = this._[e13], n = 0, i = o.length; n < i; ++n)
      o[n].value.apply(t, r);
  },
  apply: function(e13, t, r) {
    if (!this._.hasOwnProperty(e13))
      throw new Error("unknown type: " + e13);
    for (var n = this._[e13], i = 0, o = n.length; i < o; ++i)
      n[i].value.apply(t, r);
  }
};
function Cue(e13, t) {
  for (var r = 0, n = e13.length, i; r < n; ++r)
    if ((i = e13[r]).name === t)
      return i.value;
}
function fF(e13, t, r) {
  for (var n = 0, i = e13.length; n < i; ++n)
    if (e13[n].name === t) {
      e13[n] = Iue, e13 = e13.slice(0, n).concat(e13.slice(n + 1));
      break;
    }
  return r != null && e13.push({
    name: t,
    value: r
  }), e13;
}
function Hw(e13) {
  e13.stopImmediatePropagation();
}
function Of(e13) {
  e13.preventDefault(), e13.stopImmediatePropagation();
}
function h1(e13) {
  var t = e13.document.documentElement, r = Wt(e13).on("dragstart.drag", Of, true);
  "onselectstart" in t ? r.on("selectstart.drag", Of, true) : (t.__noselect = t.style.MozUserSelect, t.style.MozUserSelect = "none");
}
function f1(e13, t) {
  var r = e13.document.documentElement, n = Wt(e13).on("dragstart.drag", null);
  t && (n.on("click.drag", Of, true), setTimeout(function() {
    n.on("click.drag", null);
  }, 0)), "onselectstart" in r ? n.on("selectstart.drag", null) : (r.style.MozUserSelect = r.__noselect, delete r.__noselect);
}
var Jy = (e13) => () => e13;
function cP(e13, {
  sourceEvent: t,
  subject: r,
  target: n,
  identifier: i,
  active: o,
  x: a,
  y: s,
  dx: l,
  dy: u,
  dispatch: c
}) {
  Object.defineProperties(this, {
    type: {
      value: e13,
      enumerable: true,
      configurable: true
    },
    sourceEvent: {
      value: t,
      enumerable: true,
      configurable: true
    },
    subject: {
      value: r,
      enumerable: true,
      configurable: true
    },
    target: {
      value: n,
      enumerable: true,
      configurable: true
    },
    identifier: {
      value: i,
      enumerable: true,
      configurable: true
    },
    active: {
      value: o,
      enumerable: true,
      configurable: true
    },
    x: {
      value: a,
      enumerable: true,
      configurable: true
    },
    y: {
      value: s,
      enumerable: true,
      configurable: true
    },
    dx: {
      value: l,
      enumerable: true,
      configurable: true
    },
    dy: {
      value: u,
      enumerable: true,
      configurable: true
    },
    _: {
      value: c
    }
  });
}
cP.prototype.on = function() {
  var e13 = this._.on.apply(this._, arguments);
  return e13 === this._ ? this : e13;
};
function xue(e13) {
  return !e13.ctrlKey && !e13.button;
}
function kue() {
  return this.parentNode;
}
function Due(e13, t) {
  return t ?? {
    x: e13.x,
    y: e13.y
  };
}
function Rue() {
  return navigator.maxTouchPoints || "ontouchstart" in this;
}
function os() {
  var e13 = xue, t = kue, r = Due, n = Rue, i = {}, o = Jd("start", "drag", "end"), a = 0, s, l, u, c, f = 0;
  function h(_) {
    _.on("mousedown.drag", d).filter(n).on("touchstart.drag", g).on("touchmove.drag", v).on("touchend.drag touchcancel.drag", b).style("touch-action", "none").style("-webkit-tap-highlight-color", "rgba(0,0,0,0)");
  }
  function d(_, T) {
    if (!(c || !e13.call(this, _, T))) {
      var E = y(this, t.call(this, _, T), _, T, "mouse");
      E && (Wt(_.view).on("mousemove.drag", p, true).on("mouseup.drag", m, true), h1(_.view), Hw(_), u = false, s = _.clientX, l = _.clientY, E("start", _));
    }
  }
  function p(_) {
    if (Of(_), !u) {
      var T = _.clientX - s, E = _.clientY - l;
      u = T * T + E * E > f;
    }
    i.mouse("drag", _);
  }
  function m(_) {
    Wt(_.view).on("mousemove.drag mouseup.drag", null), f1(_.view, u), Of(_), i.mouse("end", _);
  }
  function g(_, T) {
    if (e13.call(this, _, T)) {
      var E = _.changedTouches, O = t.call(this, _, T), S = E.length, P, C;
      for (P = 0; P < S; ++P)
        (C = y(this, O, _, T, E[P].identifier, E[P])) && (Hw(_), C("start", _, E[P]));
    }
  }
  function v(_) {
    var T = _.changedTouches, E = T.length, O, S;
    for (O = 0; O < E; ++O)
      (S = i[T[O].identifier]) && (Of(_), S("drag", _, T[O]));
  }
  function b(_) {
    var T = _.changedTouches, E = T.length, O, S;
    for (c && clearTimeout(c), c = setTimeout(function() {
      c = null;
    }, 500), O = 0; O < E; ++O)
      (S = i[T[O].identifier]) && (Hw(_), S("end", _, T[O]));
  }
  function y(_, T, E, O, S, P) {
    var C = o.copy(), w = vr(P || E, T), N, L, A;
    if ((A = r.call(_, new cP("beforestart", {
      sourceEvent: E,
      target: h,
      identifier: S,
      active: a,
      x: w[0],
      y: w[1],
      dx: 0,
      dy: 0,
      dispatch: C
    }), O)) != null)
      return N = A.x - w[0] || 0, L = A.y - w[1] || 0, function R(F, $, K) {
        var ie = w, J;
        switch (F) {
          case "start":
            i[S] = R, J = a++;
            break;
          case "end":
            delete i[S], --a;
          case "drag":
            w = vr(K || $, T), J = a;
            break;
        }
        C.call(F, _, new cP(F, {
          sourceEvent: $,
          subject: A,
          target: h,
          identifier: S,
          active: J,
          x: w[0] + N,
          y: w[1] + L,
          dx: w[0] - ie[0],
          dy: w[1] - ie[1],
          dispatch: C
        }), O);
      };
  }
  return h.filter = function(_) {
    return arguments.length ? (e13 = typeof _ == "function" ? _ : Jy(!!_), h) : e13;
  }, h.container = function(_) {
    return arguments.length ? (t = typeof _ == "function" ? _ : Jy(_), h) : t;
  }, h.subject = function(_) {
    return arguments.length ? (r = typeof _ == "function" ? _ : Jy(_), h) : r;
  }, h.touchable = function(_) {
    return arguments.length ? (n = typeof _ == "function" ? _ : Jy(!!_), h) : n;
  }, h.on = function() {
    var _ = o.on.apply(o, arguments);
    return _ === o ? h : _;
  }, h.clickDistance = function(_) {
    return arguments.length ? (f = (_ = +_) * _, h) : Math.sqrt(f);
  }, h;
}
var Nue = Object.freeze(Object.defineProperty({
  __proto__: null,
  drag: os,
  dragDisable: h1,
  dragEnable: f1
}, Symbol.toStringTag, { value: "Module" }));
var sd = 0;
var gm = 0;
var Gp = 0;
var Z8 = 1e3;
var v0;
var vm;
var y0 = 0;
var du = 0;
var d1 = 0;
var Yg = typeof performance == "object" && performance.now ? performance : Date;
var Q8 = typeof window == "object" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(e13) {
  setTimeout(e13, 17);
};
function OR() {
  return du || (Q8(Mue), du = Yg.now() + d1);
}
function Mue() {
  du = 0;
}
function _0() {
  this._call = this._time = this._next = null;
}
_0.prototype = J8.prototype = {
  constructor: _0,
  restart: function(e13, t, r) {
    if (typeof e13 != "function")
      throw new TypeError("callback is not a function");
    r = (r == null ? OR() : +r) + (t == null ? 0 : +t), !this._next && vm !== this && (vm ? vm._next = this : v0 = this, vm = this), this._call = e13, this._time = r, uP();
  },
  stop: function() {
    this._call && (this._call = null, this._time = 1 / 0, uP());
  }
};
function J8(e13, t, r) {
  var n = new _0();
  return n.restart(e13, t, r), n;
}
function Lue() {
  OR(), ++sd;
  for (var e13 = v0, t; e13; )
    (t = du - e13._time) >= 0 && e13._call.call(null, t), e13 = e13._next;
  --sd;
}
function dF() {
  du = (y0 = Yg.now()) + d1, sd = gm = 0;
  try {
    Lue();
  } finally {
    sd = 0, Fue(), du = 0;
  }
}
function Bue() {
  var e13 = Yg.now(), t = e13 - y0;
  t > Z8 && (d1 -= t, y0 = e13);
}
function Fue() {
  for (var e13, t = v0, r, n = 1 / 0; t; )
    t._call ? (n > t._time && (n = t._time), e13 = t, t = t._next) : (r = t._next, t._next = null, t = e13 ? e13._next = r : v0 = r);
  vm = e13, uP(n);
}
function uP(e13) {
  if (!sd) {
    gm && (gm = clearTimeout(gm));
    var t = e13 - du;
    t > 24 ? (e13 < 1 / 0 && (gm = setTimeout(dF, e13 - Yg.now() - d1)), Gp && (Gp = clearInterval(Gp))) : (Gp || (y0 = Yg.now(), Gp = setInterval(Bue, Z8)), sd = 1, Q8(dF));
  }
}
function pF(e13, t, r) {
  var n = new _0();
  return t = t == null ? 0 : +t, n.restart((i) => {
    n.stop(), e13(i + t);
  }, t, r), n;
}
var $ue = Jd("start", "end", "cancel", "interrupt");
var Hue = [];
var e9 = 0;
var mF = 1;
var hP = 2;
var Z_ = 3;
var gF = 4;
var fP = 5;
var Q_ = 6;
function p1(e13, t, r, n, i, o) {
  var a = e13.__transition;
  if (!a)
    e13.__transition = {};
  else if (r in a)
    return;
  Uue(e13, r, {
    name: t,
    index: n,
    // For context during callback.
    group: i,
    // For context during callback.
    on: $ue,
    tween: Hue,
    time: o.time,
    delay: o.delay,
    duration: o.duration,
    ease: o.ease,
    timer: null,
    state: e9
  });
}
function IR(e13, t) {
  var r = na(e13, t);
  if (r.state > e9)
    throw new Error("too late; already scheduled");
  return r;
}
function Wa(e13, t) {
  var r = na(e13, t);
  if (r.state > Z_)
    throw new Error("too late; already running");
  return r;
}
function na(e13, t) {
  var r = e13.__transition;
  if (!r || !(r = r[t]))
    throw new Error("transition not found");
  return r;
}
function Uue(e13, t, r) {
  var n = e13.__transition, i;
  n[t] = r, r.timer = J8(o, 0, r.time);
  function o(u) {
    r.state = mF, r.timer.restart(a, r.delay, r.time), r.delay <= u && a(u - r.delay);
  }
  function a(u) {
    var c, f, h, d;
    if (r.state !== mF)
      return l();
    for (c in n)
      if (d = n[c], d.name === r.name) {
        if (d.state === Z_)
          return pF(a);
        d.state === gF ? (d.state = Q_, d.timer.stop(), d.on.call("interrupt", e13, e13.__data__, d.index, d.group), delete n[c]) : +c < t && (d.state = Q_, d.timer.stop(), d.on.call("cancel", e13, e13.__data__, d.index, d.group), delete n[c]);
      }
    if (pF(function() {
      r.state === Z_ && (r.state = gF, r.timer.restart(s, r.delay, r.time), s(u));
    }), r.state = hP, r.on.call("start", e13, e13.__data__, r.index, r.group), r.state === hP) {
      for (r.state = Z_, i = new Array(h = r.tween.length), c = 0, f = -1; c < h; ++c)
        (d = r.tween[c].value.call(e13, e13.__data__, r.index, r.group)) && (i[++f] = d);
      i.length = f + 1;
    }
  }
  function s(u) {
    for (var c = u < r.duration ? r.ease.call(null, u / r.duration) : (r.timer.restart(l), r.state = fP, 1), f = -1, h = i.length; ++f < h; )
      i[f].call(e13, c);
    r.state === fP && (r.on.call("end", e13, e13.__data__, r.index, r.group), l());
  }
  function l() {
    r.state = Q_, r.timer.stop(), delete n[t];
    for (var u in n)
      return;
    delete e13.__transition;
  }
}
function dP(e13, t) {
  var r = e13.__transition, n, i, o = true, a;
  if (r) {
    t = t == null ? null : t + "";
    for (a in r) {
      if ((n = r[a]).name !== t) {
        o = false;
        continue;
      }
      i = n.state > hP && n.state < fP, n.state = Q_, n.timer.stop(), n.on.call(i ? "interrupt" : "cancel", e13, e13.__data__, n.index, n.group), delete r[a];
    }
    o && delete e13.__transition;
  }
}
function jue(e13) {
  return this.each(function() {
    dP(this, e13);
  });
}
function Gue(e13, t) {
  var r, n;
  return function() {
    var i = Wa(this, e13), o = i.tween;
    if (o !== r) {
      n = r = o;
      for (var a = 0, s = n.length; a < s; ++a)
        if (n[a].name === t) {
          n = n.slice(), n.splice(a, 1);
          break;
        }
    }
    i.tween = n;
  };
}
function zue(e13, t, r) {
  var n, i;
  if (typeof r != "function")
    throw new Error();
  return function() {
    var o = Wa(this, e13), a = o.tween;
    if (a !== n) {
      i = (n = a).slice();
      for (var s = {
        name: t,
        value: r
      }, l = 0, u = i.length; l < u; ++l)
        if (i[l].name === t) {
          i[l] = s;
          break;
        }
      l === u && i.push(s);
    }
    o.tween = i;
  };
}
function Vue(e13, t) {
  var r = this._id;
  if (e13 += "", arguments.length < 2) {
    for (var n = na(this.node(), r).tween, i = 0, o = n.length, a; i < o; ++i)
      if ((a = n[i]).name === e13)
        return a.value;
    return null;
  }
  return this.each((t == null ? Gue : zue)(r, e13, t));
}
function PR(e13, t, r) {
  var n = e13._id;
  return e13.each(function() {
    var i = Wa(this, n);
    (i.value || (i.value = {}))[t] = r.apply(this, arguments);
  }), function(i) {
    return na(i, n).value[t];
  };
}
function t9(e13, t) {
  var r;
  return (typeof t == "number" ? vo : t instanceof dn ? rd : (r = dn(t)) ? (t = r, rd) : GD)(e13, t);
}
function Xue(e13) {
  return function() {
    this.removeAttribute(e13);
  };
}
function Wue(e13) {
  return function() {
    this.removeAttributeNS(e13.space, e13.local);
  };
}
function Yue(e13, t, r) {
  var n, i = r + "", o;
  return function() {
    var a = this.getAttribute(e13);
    return a === i ? null : a === n ? o : o = t(n = a, r);
  };
}
function que(e13, t, r) {
  var n, i = r + "", o;
  return function() {
    var a = this.getAttributeNS(e13.space, e13.local);
    return a === i ? null : a === n ? o : o = t(n = a, r);
  };
}
function Kue(e13, t, r) {
  var n, i, o;
  return function() {
    var a, s = r(this), l;
    return s == null ? void this.removeAttribute(e13) : (a = this.getAttribute(e13), l = s + "", a === l ? null : a === n && l === i ? o : (i = l, o = t(n = a, s)));
  };
}
function Zue(e13, t, r) {
  var n, i, o;
  return function() {
    var a, s = r(this), l;
    return s == null ? void this.removeAttributeNS(e13.space, e13.local) : (a = this.getAttributeNS(e13.space, e13.local), l = s + "", a === l ? null : a === n && l === i ? o : (i = l, o = t(n = a, s)));
  };
}
function Que(e13, t) {
  var r = Gu(e13), n = r === "transform" ? Mz : t9;
  return this.attrTween(e13, typeof t == "function" ? (r.local ? Zue : Kue)(r, n, PR(this, "attr." + e13, t)) : t == null ? (r.local ? Wue : Xue)(r) : (r.local ? que : Yue)(r, n, t));
}
function Jue(e13, t) {
  return function(r) {
    this.setAttribute(e13, t.call(this, r));
  };
}
function ehe(e13, t) {
  return function(r) {
    this.setAttributeNS(e13.space, e13.local, t.call(this, r));
  };
}
function the(e13, t) {
  var r, n;
  function i() {
    var o = t.apply(this, arguments);
    return o !== n && (r = (n = o) && ehe(e13, o)), r;
  }
  return i._value = t, i;
}
function rhe(e13, t) {
  var r, n;
  function i() {
    var o = t.apply(this, arguments);
    return o !== n && (r = (n = o) && Jue(e13, o)), r;
  }
  return i._value = t, i;
}
function nhe(e13, t) {
  var r = "attr." + e13;
  if (arguments.length < 2)
    return (r = this.tween(r)) && r._value;
  if (t == null)
    return this.tween(r, null);
  if (typeof t != "function")
    throw new Error();
  var n = Gu(e13);
  return this.tween(r, (n.local ? the : rhe)(n, t));
}
function ihe(e13, t) {
  return function() {
    IR(this, e13).delay = +t.apply(this, arguments);
  };
}
function ohe(e13, t) {
  return t = +t, function() {
    IR(this, e13).delay = t;
  };
}
function ahe(e13) {
  var t = this._id;
  return arguments.length ? this.each((typeof e13 == "function" ? ihe : ohe)(t, e13)) : na(this.node(), t).delay;
}
function she(e13, t) {
  return function() {
    Wa(this, e13).duration = +t.apply(this, arguments);
  };
}
function lhe(e13, t) {
  return t = +t, function() {
    Wa(this, e13).duration = t;
  };
}
function che(e13) {
  var t = this._id;
  return arguments.length ? this.each((typeof e13 == "function" ? she : lhe)(t, e13)) : na(this.node(), t).duration;
}
function uhe(e13, t) {
  if (typeof t != "function")
    throw new Error();
  return function() {
    Wa(this, e13).ease = t;
  };
}
function hhe(e13) {
  var t = this._id;
  return arguments.length ? this.each(uhe(t, e13)) : na(this.node(), t).ease;
}
function fhe(e13, t) {
  return function() {
    var r = t.apply(this, arguments);
    if (typeof r != "function")
      throw new Error();
    Wa(this, e13).ease = r;
  };
}
function dhe(e13) {
  if (typeof e13 != "function")
    throw new Error();
  return this.each(fhe(this._id, e13));
}
function phe(e13) {
  typeof e13 != "function" && (e13 = BE(e13));
  for (var t = this._groups, r = t.length, n = new Array(r), i = 0; i < r; ++i)
    for (var o = t[i], a = o.length, s = n[i] = [], l, u = 0; u < a; ++u)
      (l = o[u]) && e13.call(l, l.__data__, u, o) && s.push(l);
  return new Ns(n, this._parents, this._name, this._id);
}
function mhe(e13) {
  if (e13._id !== this._id)
    throw new Error();
  for (var t = this._groups, r = e13._groups, n = t.length, i = r.length, o = Math.min(n, i), a = new Array(n), s = 0; s < o; ++s)
    for (var l = t[s], u = r[s], c = l.length, f = a[s] = new Array(c), h, d = 0; d < c; ++d)
      (h = l[d] || u[d]) && (f[d] = h);
  for (; s < n; ++s)
    a[s] = t[s];
  return new Ns(a, this._parents, this._name, this._id);
}
function ghe(e13) {
  return (e13 + "").trim().split(/^|\s+/).every(function(t) {
    var r = t.indexOf(".");
    return r >= 0 && (t = t.slice(0, r)), !t || t === "start";
  });
}
function vhe(e13, t, r) {
  var n, i, o = ghe(t) ? IR : Wa;
  return function() {
    var a = o(this, e13), s = a.on;
    s !== n && (i = (n = s).copy()).on(t, r), a.on = i;
  };
}
function yhe(e13, t) {
  var r = this._id;
  return arguments.length < 2 ? na(this.node(), r).on.on(e13) : this.each(vhe(r, e13, t));
}
function _he(e13) {
  return function() {
    var t = this.parentNode;
    for (var r in this.__transition)
      if (+r !== e13)
        return;
    t && t.removeChild(this);
  };
}
function bhe() {
  return this.on("end.remove", _he(this._id));
}
function The(e13) {
  var t = this._name, r = this._id;
  typeof e13 != "function" && (e13 = Cv(e13));
  for (var n = this._groups, i = n.length, o = new Array(i), a = 0; a < i; ++a)
    for (var s = n[a], l = s.length, u = o[a] = new Array(l), c, f, h = 0; h < l; ++h)
      (c = s[h]) && (f = e13.call(c, c.__data__, h, s)) && ("__data__" in c && (f.__data__ = c.__data__), u[h] = f, p1(u[h], t, r, h, u, na(c, r)));
  return new Ns(o, this._parents, t, r);
}
function Ehe(e13) {
  var t = this._name, r = this._id;
  typeof e13 != "function" && (e13 = LE(e13));
  for (var n = this._groups, i = n.length, o = [], a = [], s = 0; s < i; ++s)
    for (var l = n[s], u = l.length, c, f = 0; f < u; ++f)
      if (c = l[f]) {
        for (var h = e13.call(c, c.__data__, f, l), d, p = na(c, r), m = 0, g = h.length; m < g; ++m)
          (d = h[m]) && p1(d, t, r, m, h, p);
        o.push(h), a.push(c);
      }
  return new Ns(o, a, t, r);
}
var She = ra.prototype.constructor;
function whe() {
  return new She(this._groups, this._parents);
}
function Ahe(e13, t) {
  var r, n, i;
  return function() {
    var o = Io(this, e13), a = (this.style.removeProperty(e13), Io(this, e13));
    return o === a ? null : o === r && a === n ? i : i = t(r = o, n = a);
  };
}
function r9(e13) {
  return function() {
    this.style.removeProperty(e13);
  };
}
function Ohe(e13, t, r) {
  var n, i = r + "", o;
  return function() {
    var a = Io(this, e13);
    return a === i ? null : a === n ? o : o = t(n = a, r);
  };
}
function Ihe(e13, t, r) {
  var n, i, o;
  return function() {
    var a = Io(this, e13), s = r(this), l = s + "";
    return s == null && (l = s = (this.style.removeProperty(e13), Io(this, e13))), a === l ? null : a === n && l === i ? o : (i = l, o = t(n = a, s));
  };
}
function Phe(e13, t) {
  var r, n, i, o = "style." + t, a = "end." + o, s;
  return function() {
    var l = Wa(this, e13), u = l.on, c = l.value[o] == null ? s || (s = r9(t)) : void 0;
    (u !== r || i !== c) && (n = (r = u).copy()).on(a, i = c), l.on = n;
  };
}
function Che(e13, t, r) {
  var n = (e13 += "") == "transform" ? Nz : t9;
  return t == null ? this.styleTween(e13, Ahe(e13, n)).on("end.style." + e13, r9(e13)) : typeof t == "function" ? this.styleTween(e13, Ihe(e13, n, PR(this, "style." + e13, t))).each(Phe(this._id, e13)) : this.styleTween(e13, Ohe(e13, n, t), r).on("end.style." + e13, null);
}
function xhe(e13, t, r) {
  return function(n) {
    this.style.setProperty(e13, t.call(this, n), r);
  };
}
function khe(e13, t, r) {
  var n, i;
  function o() {
    var a = t.apply(this, arguments);
    return a !== i && (n = (i = a) && xhe(e13, a, r)), n;
  }
  return o._value = t, o;
}
function Dhe(e13, t, r) {
  var n = "style." + (e13 += "");
  if (arguments.length < 2)
    return (n = this.tween(n)) && n._value;
  if (t == null)
    return this.tween(n, null);
  if (typeof t != "function")
    throw new Error();
  return this.tween(n, khe(e13, t, r ?? ""));
}
function Rhe(e13) {
  return function() {
    this.textContent = e13;
  };
}
function Nhe(e13) {
  return function() {
    var t = e13(this);
    this.textContent = t ?? "";
  };
}
function Mhe(e13) {
  return this.tween("text", typeof e13 == "function" ? Nhe(PR(this, "text", e13)) : Rhe(e13 == null ? "" : e13 + ""));
}
function Lhe(e13) {
  return function(t) {
    this.textContent = e13.call(this, t);
  };
}
function Bhe(e13) {
  var t, r;
  function n() {
    var i = e13.apply(this, arguments);
    return i !== r && (t = (r = i) && Lhe(i)), t;
  }
  return n._value = e13, n;
}
function Fhe(e13) {
  var t = "text";
  if (arguments.length < 1)
    return (t = this.tween(t)) && t._value;
  if (e13 == null)
    return this.tween(t, null);
  if (typeof e13 != "function")
    throw new Error();
  return this.tween(t, Bhe(e13));
}
function $he() {
  for (var e13 = this._name, t = this._id, r = n9(), n = this._groups, i = n.length, o = 0; o < i; ++o)
    for (var a = n[o], s = a.length, l, u = 0; u < s; ++u)
      if (l = a[u]) {
        var c = na(l, t);
        p1(l, e13, r, u, a, {
          time: c.time + c.delay + c.duration,
          delay: 0,
          duration: c.duration,
          ease: c.ease
        });
      }
  return new Ns(n, this._parents, e13, r);
}
function Hhe() {
  var e13, t, r = this, n = r._id, i = r.size();
  return new Promise(function(o, a) {
    var s = {
      value: a
    }, l = {
      value: function() {
        --i === 0 && o();
      }
    };
    r.each(function() {
      var u = Wa(this, n), c = u.on;
      c !== e13 && (t = (e13 = c).copy(), t._.cancel.push(s), t._.interrupt.push(s), t._.end.push(l)), u.on = t;
    }), i === 0 && o();
  });
}
var Uhe = 0;
function Ns(e13, t, r, n) {
  this._groups = e13, this._parents = t, this._name = r, this._id = n;
}
function n9() {
  return ++Uhe;
}
var Tc = ra.prototype;
Ns.prototype = {
  constructor: Ns,
  select: The,
  selectAll: Ehe,
  filter: phe,
  merge: mhe,
  selection: whe,
  transition: $he,
  call: Tc.call,
  nodes: Tc.nodes,
  node: Tc.node,
  size: Tc.size,
  empty: Tc.empty,
  each: Tc.each,
  on: yhe,
  attr: Que,
  attrTween: nhe,
  style: Che,
  styleTween: Dhe,
  text: Mhe,
  textTween: Fhe,
  remove: bhe,
  tween: Vue,
  delay: ahe,
  duration: che,
  ease: hhe,
  easeVarying: dhe,
  end: Hhe,
  [Symbol.iterator]: Tc[Symbol.iterator]
};
function jhe(e13) {
  return ((e13 *= 2) <= 1 ? e13 * e13 * e13 : (e13 -= 2) * e13 * e13 + 2) / 2;
}
var Ghe = {
  time: null,
  // Set on use.
  delay: 0,
  duration: 250,
  ease: jhe
};
function zhe(e13, t) {
  for (var r; !(r = e13.__transition) || !(r = r[t]); )
    if (!(e13 = e13.parentNode))
      throw new Error(`transition ${t} not found`);
  return r;
}
function Vhe(e13) {
  var t, r;
  e13 instanceof Ns ? (t = e13._id, e13 = e13._name) : (t = n9(), (r = Ghe).time = OR(), e13 = e13 == null ? null : e13 + "");
  for (var n = this._groups, i = n.length, o = 0; o < i; ++o)
    for (var a = n[o], s = a.length, l, u = 0; u < s; ++u)
      (l = a[u]) && p1(l, e13, t, u, a, r || zhe(l, t));
  return new Ns(n, this._parents, e13, t);
}
ra.prototype.interrupt = jue;
ra.prototype.transition = Vhe;
var Uw = (e13) => () => e13;
function Xhe(e13, {
  sourceEvent: t,
  target: r,
  selection: n,
  mode: i,
  dispatch: o
}) {
  Object.defineProperties(this, {
    type: {
      value: e13,
      enumerable: true,
      configurable: true
    },
    sourceEvent: {
      value: t,
      enumerable: true,
      configurable: true
    },
    target: {
      value: r,
      enumerable: true,
      configurable: true
    },
    selection: {
      value: n,
      enumerable: true,
      configurable: true
    },
    mode: {
      value: i,
      enumerable: true,
      configurable: true
    },
    _: {
      value: o
    }
  });
}
function Whe(e13) {
  e13.stopImmediatePropagation();
}
function jw(e13) {
  e13.preventDefault(), e13.stopImmediatePropagation();
}
var vF = {
  name: "drag"
};
var Gw = {
  name: "space"
};
var bh = {
  name: "handle"
};
var Th = {
  name: "center"
};
var {
  abs: yF,
  max: Zn,
  min: Qn
} = Math;
function _F(e13) {
  return [+e13[0], +e13[1]];
}
function pP(e13) {
  return [_F(e13[0]), _F(e13[1])];
}
var J_ = {
  name: "x",
  handles: ["w", "e"].map(qg),
  input: function(e13, t) {
    return e13 == null ? null : [[+e13[0], t[0][1]], [+e13[1], t[1][1]]];
  },
  output: function(e13) {
    return e13 && [e13[0][0], e13[1][0]];
  }
};
var eb = {
  name: "y",
  handles: ["n", "s"].map(qg),
  input: function(e13, t) {
    return e13 == null ? null : [[t[0][0], +e13[0]], [t[1][0], +e13[1]]];
  },
  output: function(e13) {
    return e13 && [e13[0][1], e13[1][1]];
  }
};
var Yhe = {
  name: "xy",
  handles: ["n", "w", "e", "s", "nw", "ne", "sw", "se"].map(qg),
  input: function(e13) {
    return e13 == null ? null : pP(e13);
  },
  output: function(e13) {
    return e13;
  }
};
var Ja = {
  overlay: "crosshair",
  selection: "move",
  n: "ns-resize",
  e: "ew-resize",
  s: "ns-resize",
  w: "ew-resize",
  nw: "nwse-resize",
  ne: "nesw-resize",
  se: "nwse-resize",
  sw: "nesw-resize"
};
var bF = {
  e: "w",
  w: "e",
  nw: "ne",
  ne: "nw",
  se: "sw",
  sw: "se"
};
var TF = {
  n: "s",
  s: "n",
  nw: "sw",
  ne: "se",
  se: "ne",
  sw: "nw"
};
var qhe = {
  overlay: 1,
  selection: 1,
  n: null,
  e: 1,
  s: null,
  w: -1,
  nw: -1,
  ne: 1,
  se: 1,
  sw: -1
};
var Khe = {
  overlay: 1,
  selection: 1,
  n: -1,
  e: null,
  s: 1,
  w: null,
  nw: -1,
  ne: -1,
  se: 1,
  sw: 1
};
function qg(e13) {
  return {
    type: e13
  };
}
function Zhe(e13) {
  return !e13.ctrlKey && !e13.button;
}
function Qhe() {
  var e13 = this.ownerSVGElement || this;
  return e13.hasAttribute("viewBox") ? (e13 = e13.viewBox.baseVal, [[e13.x, e13.y], [e13.x + e13.width, e13.y + e13.height]]) : [[0, 0], [e13.width.baseVal.value, e13.height.baseVal.value]];
}
function Jhe() {
  return navigator.maxTouchPoints || "ontouchstart" in this;
}
function zw(e13) {
  for (; !e13.__brush; )
    if (!(e13 = e13.parentNode))
      return;
  return e13.__brush;
}
function efe(e13) {
  return e13[0][0] === e13[1][0] || e13[0][1] === e13[1][1];
}
function tfe(e13) {
  var t = e13.__brush;
  return t ? t.dim.output(t.selection) : null;
}
function m1() {
  return xR(J_);
}
function $v() {
  return xR(eb);
}
function CR() {
  return xR(Yhe);
}
function xR(e13) {
  var t = Qhe, r = Zhe, n = Jhe, i = true, o = Jd("start", "brush", "end"), a = 6, s;
  function l(g) {
    var v = g.property("__brush", m).selectAll(".overlay").data([qg("overlay")]);
    v.enter().append("rect").attr("class", "overlay").attr("pointer-events", "all").attr("cursor", Ja.overlay).merge(v).each(function() {
      var y = zw(this).extent;
      Wt(this).attr("x", y[0][0]).attr("y", y[0][1]).attr("width", y[1][0] - y[0][0]).attr("height", y[1][1] - y[0][1]);
    }), g.selectAll(".selection").data([qg("selection")]).enter().append("rect").attr("class", "selection").attr("cursor", Ja.selection).attr("fill", "#777").attr("fill-opacity", 0.3).attr("stroke", "#fff").attr("shape-rendering", "crispEdges");
    var b = g.selectAll(".handle").data(e13.handles, function(y) {
      return y.type;
    });
    b.exit().remove(), b.enter().append("rect").attr("class", function(y) {
      return "handle handle--" + y.type;
    }).attr("cursor", function(y) {
      return Ja[y.type];
    }), g.each(u).attr("fill", "none").attr("pointer-events", "all").on("mousedown.brush", h).filter(n).on("touchstart.brush", h).on("touchmove.brush", d).on("touchend.brush touchcancel.brush", p).style("touch-action", "none").style("-webkit-tap-highlight-color", "rgba(0,0,0,0)");
  }
  l.move = function(g, v) {
    g.tween ? g.on("start.brush", function(b) {
      c(this, arguments).beforestart().start(b);
    }).on("interrupt.brush end.brush", function(b) {
      c(this, arguments).end(b);
    }).tween("brush", function() {
      var b = this, y = b.__brush, _ = c(b, arguments), T = y.selection, E = e13.input(typeof v == "function" ? v.apply(this, arguments) : v, y.extent), O = Vu(T, E);
      function S(P) {
        y.selection = P === 1 && E === null ? null : O(P), u.call(b), _.brush();
      }
      return T !== null && E !== null ? S : S(1);
    }) : g.each(function() {
      var b = this, y = arguments, _ = b.__brush, T = e13.input(typeof v == "function" ? v.apply(b, y) : v, _.extent), E = c(b, y).beforestart();
      dP(b), _.selection = T === null ? null : T, u.call(b), E.start().brush().end();
    });
  }, l.clear = function(g) {
    l.move(g, null);
  };
  function u() {
    var g = Wt(this), v = zw(this).selection;
    v ? (g.selectAll(".selection").style("display", null).attr("x", v[0][0]).attr("y", v[0][1]).attr("width", v[1][0] - v[0][0]).attr("height", v[1][1] - v[0][1]), g.selectAll(".handle").style("display", null).attr("x", function(b) {
      return b.type[b.type.length - 1] === "e" ? v[1][0] - a / 2 : v[0][0] - a / 2;
    }).attr("y", function(b) {
      return b.type[0] === "s" ? v[1][1] - a / 2 : v[0][1] - a / 2;
    }).attr("width", function(b) {
      return b.type === "n" || b.type === "s" ? v[1][0] - v[0][0] + a : a;
    }).attr("height", function(b) {
      return b.type === "e" || b.type === "w" ? v[1][1] - v[0][1] + a : a;
    })) : g.selectAll(".selection,.handle").style("display", "none").attr("x", null).attr("y", null).attr("width", null).attr("height", null);
  }
  function c(g, v, b) {
    var y = g.__brush.emitter;
    return y && (!b || !y.clean) ? y : new f(g, v, b);
  }
  function f(g, v, b) {
    this.that = g, this.args = v, this.state = g.__brush, this.active = 0, this.clean = b;
  }
  f.prototype = {
    beforestart: function() {
      return ++this.active === 1 && (this.state.emitter = this, this.starting = true), this;
    },
    start: function(g, v) {
      return this.starting ? (this.starting = false, this.emit("start", g, v)) : this.emit("brush", g), this;
    },
    brush: function(g, v) {
      return this.emit("brush", g, v), this;
    },
    end: function(g, v) {
      return --this.active === 0 && (delete this.state.emitter, this.emit("end", g, v)), this;
    },
    emit: function(g, v, b) {
      var y = Wt(this.that).datum();
      o.call(g, this.that, new Xhe(g, {
        sourceEvent: v,
        target: l,
        selection: e13.output(this.state.selection),
        mode: b,
        dispatch: o
      }), y);
    }
  };
  function h(g) {
    if (s && !g.touches || !r.apply(this, arguments))
      return;
    var v = this, b = g.target.__data__.type, y = (i && g.metaKey ? b = "overlay" : b) === "selection" ? vF : i && g.altKey ? Th : bh, _ = e13 === eb ? null : qhe[b], T = e13 === J_ ? null : Khe[b], E = zw(v), O = E.extent, S = E.selection, P = O[0][0], C, w, N = O[0][1], L, A, R = O[1][0], F, $, K = O[1][1], ie, J, pe = 0, oe = 0, q, W = _ && T && i && g.shiftKey, se, Te, Ae = Array.from(g.touches || [g], (Ke) => {
      const ht = Ke.identifier;
      return Ke = vr(Ke, v), Ke.point0 = Ke.slice(), Ke.identifier = ht, Ke;
    });
    if (b === "overlay") {
      S && (q = true);
      const Ke = [Ae[0], Ae[1] || Ae[0]];
      E.selection = S = [[C = e13 === eb ? P : Qn(Ke[0][0], Ke[1][0]), L = e13 === J_ ? N : Qn(Ke[0][1], Ke[1][1])], [F = e13 === eb ? R : Zn(Ke[0][0], Ke[1][0]), ie = e13 === J_ ? K : Zn(Ke[0][1], Ke[1][1])]], Ae.length > 1 && Fe();
    } else
      C = S[0][0], L = S[0][1], F = S[1][0], ie = S[1][1];
    w = C, A = L, $ = F, J = ie;
    var Re = Wt(v).attr("pointer-events", "none"), Ee = Re.selectAll(".overlay").attr("cursor", Ja[b]);
    dP(v);
    var Me = c(v, arguments, true).beforestart();
    if (g.touches)
      Me.moved = Oe, Me.ended = Ue;
    else {
      var Ne = Wt(g.view).on("mousemove.brush", Oe, true).on("mouseup.brush", Ue, true);
      i && Ne.on("keydown.brush", et, true).on("keyup.brush", ot, true), h1(g.view);
    }
    u.call(v), Me.start(g, y.name);
    function Oe(Ke) {
      for (const ht of Ke.changedTouches || [Ke])
        for (const bt of Ae)
          bt.identifier === ht.identifier && (bt.cur = vr(ht, v));
      if (W && !se && !Te && Ae.length === 1) {
        const ht = Ae[0];
        yF(ht.cur[0] - ht[0]) > yF(ht.cur[1] - ht[1]) ? Te = true : se = true;
      }
      for (const ht of Ae)
        ht.cur && (ht[0] = ht.cur[0], ht[1] = ht.cur[1]);
      q = true, jw(Ke), Fe(Ke);
    }
    function Fe(Ke) {
      const ht = Ae[0], bt = ht.point0;
      var $t;
      switch (pe = ht[0] - bt[0], oe = ht[1] - bt[1], y) {
        case Gw:
        case vF: {
          _ && (pe = Zn(P - C, Qn(R - F, pe)), w = C + pe, $ = F + pe), T && (oe = Zn(N - L, Qn(K - ie, oe)), A = L + oe, J = ie + oe);
          break;
        }
        case bh: {
          Ae[1] ? (_ && (w = Zn(P, Qn(R, Ae[0][0])), $ = Zn(P, Qn(R, Ae[1][0])), _ = 1), T && (A = Zn(N, Qn(K, Ae[0][1])), J = Zn(N, Qn(K, Ae[1][1])), T = 1)) : (_ < 0 ? (pe = Zn(P - C, Qn(R - C, pe)), w = C + pe, $ = F) : _ > 0 && (pe = Zn(P - F, Qn(R - F, pe)), w = C, $ = F + pe), T < 0 ? (oe = Zn(N - L, Qn(K - L, oe)), A = L + oe, J = ie) : T > 0 && (oe = Zn(N - ie, Qn(K - ie, oe)), A = L, J = ie + oe));
          break;
        }
        case Th: {
          _ && (w = Zn(P, Qn(R, C - pe * _)), $ = Zn(P, Qn(R, F + pe * _))), T && (A = Zn(N, Qn(K, L - oe * T)), J = Zn(N, Qn(K, ie + oe * T)));
          break;
        }
      }
      $ < w && (_ *= -1, $t = C, C = F, F = $t, $t = w, w = $, $ = $t, b in bF && Ee.attr("cursor", Ja[b = bF[b]])), J < A && (T *= -1, $t = L, L = ie, ie = $t, $t = A, A = J, J = $t, b in TF && Ee.attr("cursor", Ja[b = TF[b]])), E.selection && (S = E.selection), se && (w = S[0][0], $ = S[1][0]), Te && (A = S[0][1], J = S[1][1]), (S[0][0] !== w || S[0][1] !== A || S[1][0] !== $ || S[1][1] !== J) && (E.selection = [[w, A], [$, J]], u.call(v), Me.brush(Ke, y.name));
    }
    function Ue(Ke) {
      if (Whe(Ke), Ke.touches) {
        if (Ke.touches.length)
          return;
        s && clearTimeout(s), s = setTimeout(function() {
          s = null;
        }, 500);
      } else
        f1(Ke.view, q), Ne.on("keydown.brush keyup.brush mousemove.brush mouseup.brush", null);
      Re.attr("pointer-events", "all"), Ee.attr("cursor", Ja.overlay), E.selection && (S = E.selection), efe(S) && (E.selection = null, u.call(v)), Me.end(Ke, y.name);
    }
    function et(Ke) {
      switch (Ke.keyCode) {
        case 16: {
          W = _ && T;
          break;
        }
        case 18: {
          y === bh && (_ && (F = $ - pe * _, C = w + pe * _), T && (ie = J - oe * T, L = A + oe * T), y = Th, Fe());
          break;
        }
        case 32: {
          (y === bh || y === Th) && (_ < 0 ? F = $ - pe : _ > 0 && (C = w - pe), T < 0 ? ie = J - oe : T > 0 && (L = A - oe), y = Gw, Ee.attr("cursor", Ja.selection), Fe());
          break;
        }
        default:
          return;
      }
      jw(Ke);
    }
    function ot(Ke) {
      switch (Ke.keyCode) {
        case 16: {
          W && (se = Te = W = false, Fe());
          break;
        }
        case 18: {
          y === Th && (_ < 0 ? F = $ : _ > 0 && (C = w), T < 0 ? ie = J : T > 0 && (L = A), y = bh, Fe());
          break;
        }
        case 32: {
          y === Gw && (Ke.altKey ? (_ && (F = $ - pe * _, C = w + pe * _), T && (ie = J - oe * T, L = A + oe * T), y = Th) : (_ < 0 ? F = $ : _ > 0 && (C = w), T < 0 ? ie = J : T > 0 && (L = A), y = bh), Ee.attr("cursor", Ja[b]), Fe());
          break;
        }
        default:
          return;
      }
      jw(Ke);
    }
  }
  function d(g) {
    c(this, arguments).moved(g);
  }
  function p(g) {
    c(this, arguments).ended(g);
  }
  function m() {
    var g = this.__brush || {
      selection: null
    };
    return g.extent = pP(t.apply(this, arguments)), g.dim = e13, g;
  }
  return l.extent = function(g) {
    return arguments.length ? (t = typeof g == "function" ? g : Uw(pP(g)), l) : t;
  }, l.filter = function(g) {
    return arguments.length ? (r = typeof g == "function" ? g : Uw(!!g), l) : r;
  }, l.touchable = function(g) {
    return arguments.length ? (n = typeof g == "function" ? g : Uw(!!g), l) : n;
  }, l.handleSize = function(g) {
    return arguments.length ? (a = +g, l) : a;
  }, l.keyModifiers = function(g) {
    return arguments.length ? (i = !!g, l) : i;
  }, l.on = function() {
    var g = o.on.apply(o, arguments);
    return g === o ? l : g;
  }, l;
}
var rfe = Object.freeze(Object.defineProperty({
  __proto__: null,
  brush: CR,
  brushSelection: tfe,
  brushX: m1,
  brushY: $v
}, Symbol.toStringTag, { value: "Module" }));
function Kg() {
  return Kg = Object.assign ? Object.assign.bind() : function(e13) {
    for (var t = 1; t < arguments.length; t++) {
      var r = arguments[t];
      for (var n in r)
        Object.prototype.hasOwnProperty.call(r, n) && (e13[n] = r[n]);
    }
    return e13;
  }, Kg.apply(this, arguments);
}
function nfe(e13) {
  if (Array.isArray(e13))
    return e13;
}
function ife(e13, t) {
  var r = e13 == null ? null : typeof Symbol < "u" && e13[Symbol.iterator] || e13["@@iterator"];
  if (r != null) {
    var n, i, o, a, s = [], l = true, u = false;
    try {
      if (o = (r = r.call(e13)).next, t !== 0) for (; !(l = (n = o.call(r)).done) && (s.push(n.value), s.length !== t); l = true)
        ;
    } catch (c) {
      u = true, i = c;
    } finally {
      try {
        if (!l && r.return != null && (a = r.return(), Object(a) !== a))
          return;
      } finally {
        if (u)
          throw i;
      }
    }
    return s;
  }
}
function mP(e13, t) {
  (t == null || t > e13.length) && (t = e13.length);
  for (var r = 0, n = new Array(t); r < t; r++)
    n[r] = e13[r];
  return n;
}
function i9(e13, t) {
  if (e13) {
    if (typeof e13 == "string")
      return mP(e13, t);
    var r = Object.prototype.toString.call(e13).slice(8, -1);
    if (r === "Object" && e13.constructor && (r = e13.constructor.name), r === "Map" || r === "Set")
      return Array.from(e13);
    if (r === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))
      return mP(e13, t);
  }
}
function ofe() {
  throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function o9(e13, t) {
  return nfe(e13) || ife(e13, t) || i9(e13, t) || ofe();
}
function ld(e13) {
  "@babel/helpers - typeof";
  return ld = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function(t) {
    return typeof t;
  } : function(t) {
    return t && typeof Symbol == "function" && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t;
  }, ld(e13);
}
function afe(e13, t) {
  if (ld(e13) !== "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (ld(n) !== "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return (t === "string" ? String : Number)(e13);
}
function a9(e13) {
  var t = afe(e13, "string");
  return ld(t) === "symbol" ? t : String(t);
}
function br(e13, t, r) {
  return t = a9(t), t in e13 ? Object.defineProperty(e13, t, {
    value: r,
    enumerable: true,
    configurable: true,
    writable: true
  }) : e13[t] = r, e13;
}
function Vw(e13) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t] != null ? Object(arguments[t]) : {}, n = Object.keys(r);
    typeof Object.getOwnPropertySymbols == "function" && n.push.apply(n, Object.getOwnPropertySymbols(r).filter(function(i) {
      return Object.getOwnPropertyDescriptor(r, i).enumerable;
    })), n.forEach(function(i) {
      br(e13, i, r[i]);
    });
  }
  return e13;
}
function Hv(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function sfe(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, a9(n.key), n);
  }
}
function Uv(e13, t, r) {
  return t && sfe(e13.prototype, t), Object.defineProperty(e13, "prototype", {
    writable: false
  }), e13;
}
function Zt(e13) {
  if (e13 === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e13;
}
function kR(e13, t) {
  if (t && (ld(t) === "object" || typeof t == "function"))
    return t;
  if (t !== void 0)
    throw new TypeError("Derived constructors may only return object or undefined");
  return Zt(e13);
}
function Zg(e13) {
  return Zg = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(r) {
    return r.__proto__ || Object.getPrototypeOf(r);
  }, Zg(e13);
}
function gP(e13, t) {
  return gP = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, i) {
    return n.__proto__ = i, n;
  }, gP(e13, t);
}
function DR(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  e13.prototype = Object.create(t && t.prototype, {
    constructor: {
      value: e13,
      writable: true,
      configurable: true
    }
  }), Object.defineProperty(e13, "prototype", {
    writable: false
  }), t && gP(e13, t);
}
var lfe = function(e13, t, r, n, i, o, a, s) {
  if (!e13) {
    var l;
    if (t === void 0)
      l = new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");
    else {
      var u = [r, n, i, o, a, s], c = 0;
      l = new Error(t.replace(/%s/g, function() {
        return u[c++];
      })), l.name = "Invariant Violation";
    }
    throw l.framesToPop = 1, l;
  }
};
var cfe = lfe;
var pu = $i(cfe);
function ufe(e13) {
  if (Array.isArray(e13))
    return mP(e13);
}
function hfe(e13) {
  if (typeof Symbol < "u" && e13[Symbol.iterator] != null || e13["@@iterator"] != null)
    return Array.from(e13);
}
function ffe() {
  throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function dfe(e13) {
  return ufe(e13) || hfe(e13) || i9(e13) || ffe();
}
var pfe = function() {
  function e13() {
    Hv(this, e13), br(this, "refs", {});
  }
  return Uv(e13, [{
    key: "add",
    value: function(r, n) {
      this.refs[r] || (this.refs[r] = []), this.refs[r].push(n);
    }
  }, {
    key: "remove",
    value: function(r, n) {
      var i = this.getIndex(r, n);
      i !== -1 && this.refs[r].splice(i, 1);
    }
  }, {
    key: "isActive",
    value: function() {
      return this.active;
    }
  }, {
    key: "getActive",
    value: function() {
      var r = this;
      return this.refs[this.active.collection].find(function(n) {
        var i = n.node;
        return i.sortableInfo.index == r.active.index;
      });
    }
  }, {
    key: "getIndex",
    value: function(r, n) {
      return this.refs[r].indexOf(n);
    }
  }, {
    key: "getOrderedRefs",
    value: function() {
      var r = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : this.active.collection;
      return this.refs[r].sort(mfe);
    }
  }]), e13;
}();
function mfe(e13, t) {
  var r = e13.node.sortableInfo.index, n = t.node.sortableInfo.index;
  return r - n;
}
function gfe(e13, t, r) {
  return e13 = e13.slice(), e13.splice(r < 0 ? e13.length + r : r, 0, e13.splice(t, 1)[0]), e13;
}
function s9(e13, t) {
  return Object.keys(e13).reduce(function(r, n) {
    return t.indexOf(n) === -1 && (r[n] = e13[n]), r;
  }, {});
}
var Eh = {
  end: ["touchend", "touchcancel", "mouseup"],
  move: ["touchmove", "mousemove"],
  start: ["touchstart", "mousedown"]
};
var l9 = function() {
  if (typeof window > "u" || typeof document > "u")
    return "";
  var e13 = window.getComputedStyle(document.documentElement, "") || ["-moz-hidden-iframe"], t = (Array.prototype.slice.call(e13).join("").match(/-(moz|webkit|ms)-/) || e13.OLink === "" && ["", "o"])[1];
  switch (t) {
    case "ms":
      return "ms";
    default:
      return t && t.length ? t[0].toUpperCase() + t.substr(1) : "";
  }
}();
function e_(e13, t) {
  Object.keys(t).forEach(function(r) {
    e13.style[r] = t[r];
  });
}
function t_(e13, t) {
  e13.style["".concat(l9, "Transform")] = t == null ? "" : "translate3d(".concat(t.x, "px,").concat(t.y, "px,0)");
}
function Xw(e13, t) {
  e13.style["".concat(l9, "TransitionDuration")] = t == null ? "" : "".concat(t, "ms");
}
function ym(e13, t) {
  for (; e13; ) {
    if (t(e13))
      return e13;
    e13 = e13.parentNode;
  }
  return null;
}
function EF(e13, t, r) {
  return Math.max(e13, Math.min(r, t));
}
function hf(e13) {
  return e13.substr(-2) === "px" ? parseFloat(e13) : 0;
}
function vfe(e13) {
  var t = window.getComputedStyle(e13);
  return {
    bottom: hf(t.marginBottom),
    left: hf(t.marginLeft),
    right: hf(t.marginRight),
    top: hf(t.marginTop)
  };
}
function RR(e13, t) {
  var r = t.displayName || t.name;
  return r ? "".concat(e13, "(").concat(r, ")") : e13;
}
function Ww(e13, t) {
  var r = e13.getBoundingClientRect();
  return {
    top: r.top + t.top,
    left: r.left + t.left
  };
}
function zp(e13) {
  return e13.touches && e13.touches.length ? {
    x: e13.touches[0].pageX,
    y: e13.touches[0].pageY
  } : e13.changedTouches && e13.changedTouches.length ? {
    x: e13.changedTouches[0].pageX,
    y: e13.changedTouches[0].pageY
  } : {
    x: e13.pageX,
    y: e13.pageY
  };
}
function yfe(e13) {
  return e13.touches && e13.touches.length || e13.changedTouches && e13.changedTouches.length;
}
function tb(e13, t) {
  var r = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {
    left: 0,
    top: 0
  };
  if (e13) {
    var n = {
      left: r.left + e13.offsetLeft,
      top: r.top + e13.offsetTop
    };
    return e13.parentNode === t ? n : tb(e13.parentNode, t, n);
  }
}
function _fe(e13, t, r) {
  return e13 < r && e13 > t ? e13 - 1 : e13 > r && e13 < t ? e13 + 1 : e13;
}
function SF(e13) {
  var t = e13.lockOffset, r = e13.width, n = e13.height, i = t, o = t, a = "px";
  if (typeof t == "string") {
    var s = /^[+-]?\d*(?:\.\d*)?(px|%)$/.exec(t);
    pu(s !== null, 'lockOffset value should be a number or a string of a number followed by "px" or "%". Given %s', t), i = parseFloat(t), o = parseFloat(t), a = s[1];
  }
  return pu(isFinite(i) && isFinite(o), "lockOffset value should be a finite. Given %s", t), a === "%" && (i = i * r / 100, o = o * n / 100), {
    x: i,
    y: o
  };
}
function bfe(e13) {
  var t = e13.height, r = e13.width, n = e13.lockOffset, i = Array.isArray(n) ? n : [n, n];
  pu(i.length === 2, "lockOffset prop of SortableContainer should be a single value or an array of exactly two values. Given %s", n);
  var o = o9(i, 2), a = o[0], s = o[1];
  return [SF({
    height: t,
    lockOffset: a,
    width: r
  }), SF({
    height: t,
    lockOffset: s,
    width: r
  })];
}
function Tfe(e13) {
  var t = window.getComputedStyle(e13), r = /(auto|scroll)/, n = ["overflow", "overflowX", "overflowY"];
  return n.find(function(i) {
    return r.test(t[i]);
  });
}
function c9(e13) {
  return e13 instanceof HTMLElement ? Tfe(e13) ? e13 : c9(e13.parentNode) : null;
}
function Efe(e13) {
  var t = window.getComputedStyle(e13);
  return t.display === "grid" ? {
    x: hf(t.gridColumnGap),
    y: hf(t.gridRowGap)
  } : {
    x: 0,
    y: 0
  };
}
var Ec = {
  ESC: 27,
  SPACE: 32,
  LEFT: 37,
  UP: 38,
  RIGHT: 39,
  DOWN: 40
};
var Bc = {
  Anchor: "A",
  Button: "BUTTON",
  Canvas: "CANVAS",
  Input: "INPUT",
  Option: "OPTION",
  Textarea: "TEXTAREA",
  Select: "SELECT"
};
function Sfe(e13) {
  var t = "input, textarea, select, canvas, [contenteditable]", r = e13.querySelectorAll(t), n = e13.cloneNode(true), i = dfe(n.querySelectorAll(t));
  return i.forEach(function(o, a) {
    if (o.type !== "file" && (o.value = r[a].value), o.type === "radio" && o.name && (o.name = "__sortableClone__".concat(o.name)), o.tagName === Bc.Canvas && r[a].width > 0 && r[a].height > 0) {
      var s = o.getContext("2d");
      s.drawImage(r[a], 0, 0);
    }
  }), n;
}
function vP(e13) {
  var t, r, n = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {
    withRef: false
  };
  return r = t = function(i) {
    DR(o, i);
    function o() {
      return Hv(this, o), kR(this, Zg(o).apply(this, arguments));
    }
    return Uv(o, [{
      key: "componentDidMount",
      value: function() {
        var s = (0, import_react_dom.findDOMNode)(this);
        s.sortableHandle = true;
      }
    }, {
      key: "getWrappedInstance",
      value: function() {
        return pu(n.withRef, "To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableHandle() call"), this.refs.wrappedInstance;
      }
    }, {
      key: "render",
      value: function() {
        var s = n.withRef ? "wrappedInstance" : null;
        return (0, import_react.createElement)(e13, Kg({
          ref: s
        }, this.props));
      }
    }]), o;
  }(import_react.Component), br(t, "displayName", RR("sortableHandle", e13)), r;
}
function wF(e13) {
  return e13.sortableHandle != null;
}
var wfe = function() {
  function e13(t, r) {
    Hv(this, e13), this.container = t, this.onScrollCallback = r;
  }
  return Uv(e13, [{
    key: "clear",
    value: function() {
      this.interval != null && (clearInterval(this.interval), this.interval = null);
    }
  }, {
    key: "update",
    value: function(r) {
      var n = this, i = r.translate, o = r.minTranslate, a = r.maxTranslate, s = r.width, l = r.height, u = {
        x: 0,
        y: 0
      }, c = {
        x: 1,
        y: 1
      }, f = {
        x: 10,
        y: 10
      }, h = this.container, d = h.scrollTop, p = h.scrollLeft, m = h.scrollHeight, g = h.scrollWidth, v = h.clientHeight, b = h.clientWidth, y = d === 0, _ = m - d - v === 0, T = p === 0, E = g - p - b === 0;
      i.y >= a.y - l / 2 && !_ ? (u.y = 1, c.y = f.y * Math.abs((a.y - l / 2 - i.y) / l)) : i.x >= a.x - s / 2 && !E ? (u.x = 1, c.x = f.x * Math.abs((a.x - s / 2 - i.x) / s)) : i.y <= o.y + l / 2 && !y ? (u.y = -1, c.y = f.y * Math.abs((i.y - l / 2 - o.y) / l)) : i.x <= o.x + s / 2 && !T && (u.x = -1, c.x = f.x * Math.abs((i.x - s / 2 - o.x) / s)), this.interval && (this.clear(), this.isAutoScrolling = false), (u.x !== 0 || u.y !== 0) && (this.interval = setInterval(function() {
        n.isAutoScrolling = true;
        var O = {
          left: c.x * u.x,
          top: c.y * u.y
        };
        n.container.scrollTop += O.top, n.container.scrollLeft += O.left, n.onScrollCallback(O);
      }, 5));
    }
  }]), e13;
}();
function Afe(e13) {
  var t = e13.node;
  return {
    height: t.offsetHeight,
    width: t.offsetWidth
  };
}
function Ofe(e13) {
  var t = [Bc.Input, Bc.Textarea, Bc.Select, Bc.Option, Bc.Button];
  return !!(t.indexOf(e13.target.tagName) !== -1 || ym(e13.target, function(r) {
    return r.contentEditable === "true";
  }));
}
var u9 = {
  axis: M.oneOf(["x", "y", "xy"]),
  contentWindow: M.any,
  disableAutoscroll: M.bool,
  distance: M.number,
  getContainer: M.func,
  getHelperDimensions: M.func,
  helperClass: M.string,
  helperContainer: M.oneOfType([M.func, typeof HTMLElement > "u" ? M.any : M.instanceOf(HTMLElement)]),
  hideSortableGhost: M.bool,
  keyboardSortingTransitionDuration: M.number,
  lockAxis: M.string,
  lockOffset: M.oneOfType([M.number, M.string, M.arrayOf(M.oneOfType([M.number, M.string]))]),
  lockToContainerEdges: M.bool,
  onSortEnd: M.func,
  onSortMove: M.func,
  onSortOver: M.func,
  onSortStart: M.func,
  pressDelay: M.number,
  pressThreshold: M.number,
  keyCodes: M.shape({
    lift: M.arrayOf(M.number),
    drop: M.arrayOf(M.number),
    cancel: M.arrayOf(M.number),
    up: M.arrayOf(M.number),
    down: M.arrayOf(M.number)
  }),
  shouldCancelStart: M.func,
  transitionDuration: M.number,
  updateBeforeSortStart: M.func,
  useDragHandle: M.bool,
  useWindowAsScrollContainer: M.bool
};
var h9 = {
  lift: [Ec.SPACE],
  drop: [Ec.SPACE],
  cancel: [Ec.ESC],
  up: [Ec.UP, Ec.LEFT],
  down: [Ec.DOWN, Ec.RIGHT]
};
var Ife = {
  axis: "y",
  disableAutoscroll: false,
  distance: 0,
  getHelperDimensions: Afe,
  hideSortableGhost: true,
  lockOffset: "50%",
  lockToContainerEdges: false,
  pressDelay: 0,
  pressThreshold: 5,
  keyCodes: h9,
  shouldCancelStart: Ofe,
  transitionDuration: 300,
  useWindowAsScrollContainer: false
};
var Pfe = Object.keys(u9);
function Cfe(e13) {
  pu(!(e13.distance && e13.pressDelay), "Attempted to set both `pressDelay` and `distance` on SortableContainer, you may only use one or the other, not both at the same time.");
}
function xfe(e13, t) {
  try {
    var r = e13();
  } catch (n) {
    return t(true, n);
  }
  return r && r.then ? r.then(t.bind(null, false), t.bind(null, true)) : t(false, value);
}
function kfe(e13) {
  var t, r, n = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {
    withRef: false
  };
  return r = t = function(i) {
    DR(o, i);
    function o(a) {
      var s;
      return Hv(this, o), s = kR(this, Zg(o).call(this, a)), br(Zt(Zt(s)), "state", {}), br(Zt(Zt(s)), "handleStart", function(l) {
        var u = s.props, c = u.distance, f = u.shouldCancelStart;
        if (!(l.button === 2 || f(l))) {
          s.touched = true, s.position = zp(l);
          var h = ym(l.target, function(b) {
            return b.sortableInfo != null;
          });
          if (h && h.sortableInfo && s.nodeIsChild(h) && !s.state.sorting) {
            var d = s.props.useDragHandle, p = h.sortableInfo, m = p.index, g = p.collection, v = p.disabled;
            if (v || d && !ym(l.target, wF))
              return;
            s.manager.active = {
              collection: g,
              index: m
            }, !yfe(l) && l.target.tagName === Bc.Anchor && l.preventDefault(), c || (s.props.pressDelay === 0 ? s.handlePress(l) : s.pressTimer = setTimeout(function() {
              return s.handlePress(l);
            }, s.props.pressDelay));
          }
        }
      }), br(Zt(Zt(s)), "nodeIsChild", function(l) {
        return l.sortableInfo.manager === s.manager;
      }), br(Zt(Zt(s)), "handleMove", function(l) {
        var u = s.props, c = u.distance, f = u.pressThreshold;
        if (!s.state.sorting && s.touched && !s._awaitingUpdateBeforeSortStart) {
          var h = zp(l), d = {
            x: s.position.x - h.x,
            y: s.position.y - h.y
          }, p = Math.abs(d.x) + Math.abs(d.y);
          s.delta = d, !c && (!f || p >= f) ? (clearTimeout(s.cancelTimer), s.cancelTimer = setTimeout(s.cancel, 0)) : c && p >= c && s.manager.isActive() && s.handlePress(l);
        }
      }), br(Zt(Zt(s)), "handleEnd", function() {
        s.touched = false, s.cancel();
      }), br(Zt(Zt(s)), "cancel", function() {
        var l = s.props.distance, u = s.state.sorting;
        u || (l || clearTimeout(s.pressTimer), s.manager.active = null);
      }), br(Zt(Zt(s)), "handlePress", function(l) {
        try {
          var u = s.manager.getActive(), c = function() {
            if (u) {
              var f = function() {
                var P = _.sortableInfo.index, C = vfe(_), w = Efe(s.container), N = s.scrollContainer.getBoundingClientRect(), L = p({
                  index: P,
                  node: _,
                  collection: T
                });
                if (s.node = _, s.margin = C, s.gridGap = w, s.width = L.width, s.height = L.height, s.marginOffset = {
                  x: s.margin.left + s.margin.right + s.gridGap.x,
                  y: Math.max(s.margin.top, s.margin.bottom, s.gridGap.y)
                }, s.boundingClientRect = _.getBoundingClientRect(), s.containerBoundingRect = N, s.index = P, s.newIndex = P, s.axis = {
                  x: d.indexOf("x") >= 0,
                  y: d.indexOf("y") >= 0
                }, s.offsetEdge = tb(_, s.container), E ? s.initialOffset = zp(Vw({}, l, {
                  pageX: s.boundingClientRect.left,
                  pageY: s.boundingClientRect.top
                })) : s.initialOffset = zp(l), s.initialScroll = {
                  left: s.scrollContainer.scrollLeft,
                  top: s.scrollContainer.scrollTop
                }, s.initialWindowScroll = {
                  left: window.pageXOffset,
                  top: window.pageYOffset
                }, s.helper = s.helperContainer.appendChild(Sfe(_)), e_(s.helper, {
                  boxSizing: "border-box",
                  height: "".concat(s.height, "px"),
                  left: "".concat(s.boundingClientRect.left - C.left, "px"),
                  pointerEvents: "none",
                  position: "fixed",
                  top: "".concat(s.boundingClientRect.top - C.top, "px"),
                  width: "".concat(s.width, "px")
                }), E && s.helper.focus(), g && (s.sortableGhost = _, e_(_, {
                  opacity: 0,
                  visibility: "hidden"
                })), s.minTranslate = {}, s.maxTranslate = {}, E) {
                  var A = y ? {
                    top: 0,
                    left: 0,
                    width: s.contentWindow.innerWidth,
                    height: s.contentWindow.innerHeight
                  } : s.containerBoundingRect, R = A.top, F = A.left, $ = A.width, K = A.height, ie = R + K, J = F + $;
                  s.axis.x && (s.minTranslate.x = F - s.boundingClientRect.left, s.maxTranslate.x = J - (s.boundingClientRect.left + s.width)), s.axis.y && (s.minTranslate.y = R - s.boundingClientRect.top, s.maxTranslate.y = ie - (s.boundingClientRect.top + s.height));
                } else
                  s.axis.x && (s.minTranslate.x = (y ? 0 : N.left) - s.boundingClientRect.left - s.width / 2, s.maxTranslate.x = (y ? s.contentWindow.innerWidth : N.left + N.width) - s.boundingClientRect.left - s.width / 2), s.axis.y && (s.minTranslate.y = (y ? 0 : N.top) - s.boundingClientRect.top - s.height / 2, s.maxTranslate.y = (y ? s.contentWindow.innerHeight : N.top + N.height) - s.boundingClientRect.top - s.height / 2);
                m && m.split(" ").forEach(function(pe) {
                  return s.helper.classList.add(pe);
                }), s.listenerNode = l.touches ? _ : s.contentWindow, E ? (s.listenerNode.addEventListener("wheel", s.handleKeyEnd, true), s.listenerNode.addEventListener("mousedown", s.handleKeyEnd, true), s.listenerNode.addEventListener("keydown", s.handleKeyDown)) : (Eh.move.forEach(function(pe) {
                  return s.listenerNode.addEventListener(pe, s.handleSortMove, false);
                }), Eh.end.forEach(function(pe) {
                  return s.listenerNode.addEventListener(pe, s.handleSortEnd, false);
                })), s.setState({
                  sorting: true,
                  sortingIndex: P
                }), b && b({
                  node: _,
                  index: P,
                  collection: T,
                  isKeySorting: E,
                  nodes: s.manager.getOrderedRefs(),
                  helper: s.helper
                }, l), E && s.keyMove(0);
              }, h = s.props, d = h.axis, p = h.getHelperDimensions, m = h.helperClass, g = h.hideSortableGhost, v = h.updateBeforeSortStart, b = h.onSortStart, y = h.useWindowAsScrollContainer, _ = u.node, T = u.collection, E = s.manager.isKeySorting, O = function() {
                if (typeof v == "function") {
                  s._awaitingUpdateBeforeSortStart = true;
                  var S = xfe(function() {
                    var P = _.sortableInfo.index;
                    return Promise.resolve(v({
                      collection: T,
                      index: P,
                      node: _,
                      isKeySorting: E
                    }, l)).then(function() {
                    });
                  }, function(P, C) {
                    if (s._awaitingUpdateBeforeSortStart = false, P)
                      throw C;
                    return C;
                  });
                  if (S && S.then)
                    return S.then(function() {
                    });
                }
              }();
              return O && O.then ? O.then(f) : f(O);
            }
          }();
          return Promise.resolve(c && c.then ? c.then(function() {
          }) : void 0);
        } catch (f) {
          return Promise.reject(f);
        }
      }), br(Zt(Zt(s)), "handleSortMove", function(l) {
        var u = s.props.onSortMove;
        typeof l.preventDefault == "function" && l.preventDefault(), s.updateHelperPosition(l), s.animateNodes(), s.autoscroll(), u && u(l);
      }), br(Zt(Zt(s)), "handleSortEnd", function(l) {
        var u = s.props, c = u.hideSortableGhost, f = u.onSortEnd, h = s.manager, d = h.active.collection, p = h.isKeySorting, m = s.manager.getOrderedRefs();
        s.listenerNode && (p ? (s.listenerNode.removeEventListener("wheel", s.handleKeyEnd, true), s.listenerNode.removeEventListener("mousedown", s.handleKeyEnd, true), s.listenerNode.removeEventListener("keydown", s.handleKeyDown)) : (Eh.move.forEach(function(_) {
          return s.listenerNode.removeEventListener(_, s.handleSortMove);
        }), Eh.end.forEach(function(_) {
          return s.listenerNode.removeEventListener(_, s.handleSortEnd);
        }))), s.helper.parentNode.removeChild(s.helper), c && s.sortableGhost && e_(s.sortableGhost, {
          opacity: "",
          visibility: ""
        });
        for (var g = 0, v = m.length; g < v; g++) {
          var b = m[g], y = b.node;
          b.edgeOffset = null, b.boundingClientRect = null, t_(y, null), Xw(y, null), b.translate = null;
        }
        s.autoScroller.clear(), s.manager.active = null, s.manager.isKeySorting = false, s.setState({
          sorting: false,
          sortingIndex: null
        }), typeof f == "function" && f({
          collection: d,
          newIndex: s.newIndex,
          oldIndex: s.index,
          isKeySorting: p,
          nodes: m
        }, l), s.touched = false;
      }), br(Zt(Zt(s)), "autoscroll", function() {
        var l = s.props.disableAutoscroll, u = s.manager.isKeySorting;
        if (l) {
          s.autoScroller.clear();
          return;
        }
        if (u) {
          var c = Vw({}, s.translate), f = 0, h = 0;
          s.axis.x && (c.x = Math.min(s.maxTranslate.x, Math.max(s.minTranslate.x, s.translate.x)), f = s.translate.x - c.x), s.axis.y && (c.y = Math.min(s.maxTranslate.y, Math.max(s.minTranslate.y, s.translate.y)), h = s.translate.y - c.y), s.translate = c, t_(s.helper, s.translate), s.scrollContainer.scrollLeft += f, s.scrollContainer.scrollTop += h;
          return;
        }
        s.autoScroller.update({
          height: s.height,
          maxTranslate: s.maxTranslate,
          minTranslate: s.minTranslate,
          translate: s.translate,
          width: s.width
        });
      }), br(Zt(Zt(s)), "onAutoScroll", function(l) {
        s.translate.x += l.left, s.translate.y += l.top, s.animateNodes();
      }), br(Zt(Zt(s)), "handleKeyDown", function(l) {
        var u = l.keyCode, c = s.props, f = c.shouldCancelStart, h = c.keyCodes, d = h === void 0 ? {} : h, p = Vw({}, h9, d);
        s.manager.active && !s.manager.isKeySorting || !s.manager.active && (!p.lift.includes(u) || f(l) || !s.isValidSortingTarget(l)) || (l.stopPropagation(), l.preventDefault(), p.lift.includes(u) && !s.manager.active ? s.keyLift(l) : p.drop.includes(u) && s.manager.active ? s.keyDrop(l) : p.cancel.includes(u) ? (s.newIndex = s.manager.active.index, s.keyDrop(l)) : p.up.includes(u) ? s.keyMove(-1) : p.down.includes(u) && s.keyMove(1));
      }), br(Zt(Zt(s)), "keyLift", function(l) {
        var u = l.target, c = ym(u, function(p) {
          return p.sortableInfo != null;
        }), f = c.sortableInfo, h = f.index, d = f.collection;
        s.initialFocusedNode = u, s.manager.isKeySorting = true, s.manager.active = {
          index: h,
          collection: d
        }, s.handlePress(l);
      }), br(Zt(Zt(s)), "keyMove", function(l) {
        var u = s.manager.getOrderedRefs(), c = u[u.length - 1].node.sortableInfo.index, f = s.newIndex + l, h = s.newIndex;
        if (!(f < 0 || f > c)) {
          s.prevIndex = h, s.newIndex = f;
          var d = _fe(s.newIndex, s.prevIndex, s.index), p = u.find(function(E) {
            var O = E.node;
            return O.sortableInfo.index === d;
          }), m = p.node, g = s.containerScrollDelta, v = p.boundingClientRect || Ww(m, g), b = p.translate || {
            x: 0,
            y: 0
          }, y = {
            top: v.top + b.y - g.top,
            left: v.left + b.x - g.left
          }, _ = h < f, T = {
            x: _ && s.axis.x ? m.offsetWidth - s.width : 0,
            y: _ && s.axis.y ? m.offsetHeight - s.height : 0
          };
          s.handleSortMove({
            pageX: y.left + T.x,
            pageY: y.top + T.y,
            ignoreTransition: l === 0
          });
        }
      }), br(Zt(Zt(s)), "keyDrop", function(l) {
        s.handleSortEnd(l), s.initialFocusedNode && s.initialFocusedNode.focus();
      }), br(Zt(Zt(s)), "handleKeyEnd", function(l) {
        s.manager.active && s.keyDrop(l);
      }), br(Zt(Zt(s)), "isValidSortingTarget", function(l) {
        var u = s.props.useDragHandle, c = l.target, f = ym(c, function(h) {
          return h.sortableInfo != null;
        });
        return f && f.sortableInfo && !f.sortableInfo.disabled && (u ? wF(c) : c.sortableInfo);
      }), Cfe(a), s.manager = new pfe(), s.events = {
        end: s.handleEnd,
        move: s.handleMove,
        start: s.handleStart
      }, s;
    }
    return Uv(o, [{
      key: "getChildContext",
      value: function() {
        return {
          manager: this.manager
        };
      }
    }, {
      key: "componentDidMount",
      value: function() {
        var s = this, l = this.props.useWindowAsScrollContainer, u = this.getContainer();
        Promise.resolve(u).then(function(c) {
          s.container = c, s.document = s.container.ownerDocument || document;
          var f = s.props.contentWindow || s.document.defaultView || window;
          s.contentWindow = typeof f == "function" ? f() : f, s.scrollContainer = l ? s.document.scrollingElement || s.document.documentElement : c9(s.container) || s.container, s.autoScroller = new wfe(s.scrollContainer, s.onAutoScroll), Object.keys(s.events).forEach(function(h) {
            return Eh[h].forEach(function(d) {
              return s.container.addEventListener(d, s.events[h], false);
            });
          }), s.container.addEventListener("keydown", s.handleKeyDown);
        });
      }
    }, {
      key: "componentWillUnmount",
      value: function() {
        var s = this;
        this.helper && this.helper.parentNode && this.helper.parentNode.removeChild(this.helper), this.container && (Object.keys(this.events).forEach(function(l) {
          return Eh[l].forEach(function(u) {
            return s.container.removeEventListener(u, s.events[l]);
          });
        }), this.container.removeEventListener("keydown", this.handleKeyDown));
      }
    }, {
      key: "updateHelperPosition",
      value: function(s) {
        var l = this.props, u = l.lockAxis, c = l.lockOffset, f = l.lockToContainerEdges, h = l.transitionDuration, d = l.keyboardSortingTransitionDuration, p = d === void 0 ? h : d, m = this.manager.isKeySorting, g = s.ignoreTransition, v = zp(s), b = {
          x: v.x - this.initialOffset.x,
          y: v.y - this.initialOffset.y
        };
        if (b.y -= window.pageYOffset - this.initialWindowScroll.top, b.x -= window.pageXOffset - this.initialWindowScroll.left, this.translate = b, f) {
          var y = bfe({
            height: this.height,
            lockOffset: c,
            width: this.width
          }), _ = o9(y, 2), T = _[0], E = _[1], O = {
            x: this.width / 2 - T.x,
            y: this.height / 2 - T.y
          }, S = {
            x: this.width / 2 - E.x,
            y: this.height / 2 - E.y
          };
          b.x = EF(this.minTranslate.x + O.x, this.maxTranslate.x - S.x, b.x), b.y = EF(this.minTranslate.y + O.y, this.maxTranslate.y - S.y, b.y);
        }
        u === "x" ? b.y = 0 : u === "y" && (b.x = 0), m && p && !g && Xw(this.helper, p), t_(this.helper, b);
      }
    }, {
      key: "animateNodes",
      value: function() {
        var s = this.props, l = s.transitionDuration, u = s.hideSortableGhost, c = s.onSortOver, f = this.containerScrollDelta, h = this.windowScrollDelta, d = this.manager.getOrderedRefs(), p = {
          left: this.offsetEdge.left + this.translate.x + f.left,
          top: this.offsetEdge.top + this.translate.y + f.top
        }, m = this.manager.isKeySorting, g = this.newIndex;
        this.newIndex = null;
        for (var v = 0, b = d.length; v < b; v++) {
          var y = d[v].node, _ = y.sortableInfo.index, T = y.offsetWidth, E = y.offsetHeight, O = {
            height: this.height > E ? E / 2 : this.height / 2,
            width: this.width > T ? T / 2 : this.width / 2
          }, S = m && _ > this.index && _ <= g, P = m && _ < this.index && _ >= g, C = {
            x: 0,
            y: 0
          }, w = d[v].edgeOffset;
          w || (w = tb(y, this.container), d[v].edgeOffset = w, m && (d[v].boundingClientRect = Ww(y, f)));
          var N = v < d.length - 1 && d[v + 1], L = v > 0 && d[v - 1];
          if (N && !N.edgeOffset && (N.edgeOffset = tb(N.node, this.container), m && (N.boundingClientRect = Ww(N.node, f))), _ === this.index) {
            u && (this.sortableGhost = y, e_(y, {
              opacity: 0,
              visibility: "hidden"
            }));
            continue;
          }
          l && Xw(y, l), this.axis.x ? this.axis.y ? P || _ < this.index && (p.left + h.left - O.width <= w.left && p.top + h.top <= w.top + O.height || p.top + h.top + O.height <= w.top) ? (C.x = this.width + this.marginOffset.x, w.left + C.x > this.containerBoundingRect.width - O.width && N && (C.x = N.edgeOffset.left - w.left, C.y = N.edgeOffset.top - w.top), this.newIndex === null && (this.newIndex = _)) : (S || _ > this.index && (p.left + h.left + O.width >= w.left && p.top + h.top + O.height >= w.top || p.top + h.top + O.height >= w.top + E)) && (C.x = -(this.width + this.marginOffset.x), w.left + C.x < this.containerBoundingRect.left + O.width && L && (C.x = L.edgeOffset.left - w.left, C.y = L.edgeOffset.top - w.top), this.newIndex = _) : S || _ > this.index && p.left + h.left + O.width >= w.left ? (C.x = -(this.width + this.marginOffset.x), this.newIndex = _) : (P || _ < this.index && p.left + h.left <= w.left + O.width) && (C.x = this.width + this.marginOffset.x, this.newIndex == null && (this.newIndex = _)) : this.axis.y && (S || _ > this.index && p.top + h.top + O.height >= w.top ? (C.y = -(this.height + this.marginOffset.y), this.newIndex = _) : (P || _ < this.index && p.top + h.top <= w.top + O.height) && (C.y = this.height + this.marginOffset.y, this.newIndex == null && (this.newIndex = _))), t_(y, C), d[v].translate = C;
        }
        this.newIndex == null && (this.newIndex = this.index), m && (this.newIndex = g);
        var A = m ? this.prevIndex : g;
        c && this.newIndex !== A && c({
          collection: this.manager.active.collection,
          index: this.index,
          newIndex: this.newIndex,
          oldIndex: A,
          isKeySorting: m,
          nodes: d,
          helper: this.helper
        });
      }
    }, {
      key: "getWrappedInstance",
      value: function() {
        return pu(n.withRef, "To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableContainer() call"), this.refs.wrappedInstance;
      }
    }, {
      key: "getContainer",
      value: function() {
        var s = this.props.getContainer;
        return typeof s != "function" ? (0, import_react_dom.findDOMNode)(this) : s(n.withRef ? this.getWrappedInstance() : void 0);
      }
    }, {
      key: "render",
      value: function() {
        var s = n.withRef ? "wrappedInstance" : null;
        return (0, import_react.createElement)(e13, Kg({
          ref: s
        }, s9(this.props, Pfe)));
      }
    }, {
      key: "helperContainer",
      get: function() {
        var s = this.props.helperContainer;
        return typeof s == "function" ? s() : this.props.helperContainer || this.document.body;
      }
    }, {
      key: "containerScrollDelta",
      get: function() {
        var s = this.props.useWindowAsScrollContainer;
        return s ? {
          left: 0,
          top: 0
        } : {
          left: this.scrollContainer.scrollLeft - this.initialScroll.left,
          top: this.scrollContainer.scrollTop - this.initialScroll.top
        };
      }
    }, {
      key: "windowScrollDelta",
      get: function() {
        return {
          left: this.contentWindow.pageXOffset - this.initialWindowScroll.left,
          top: this.contentWindow.pageYOffset - this.initialWindowScroll.top
        };
      }
    }]), o;
  }(import_react.Component), br(t, "displayName", RR("sortableList", e13)), br(t, "defaultProps", Ife), br(t, "propTypes", u9), br(t, "childContextTypes", {
    manager: M.object.isRequired
  }), r;
}
var f9 = {
  index: M.number.isRequired,
  collection: M.oneOfType([M.number, M.string]),
  disabled: M.bool
};
var Dfe = Object.keys(f9);
function d9(e13) {
  var t, r, n = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {
    withRef: false
  };
  return r = t = function(i) {
    DR(o, i);
    function o() {
      return Hv(this, o), kR(this, Zg(o).apply(this, arguments));
    }
    return Uv(o, [{
      key: "componentDidMount",
      value: function() {
        this.register();
      }
    }, {
      key: "componentDidUpdate",
      value: function(s) {
        this.node && (s.index !== this.props.index && (this.node.sortableInfo.index = this.props.index), s.disabled !== this.props.disabled && (this.node.sortableInfo.disabled = this.props.disabled)), s.collection !== this.props.collection && (this.unregister(s.collection), this.register());
      }
    }, {
      key: "componentWillUnmount",
      value: function() {
        this.unregister();
      }
    }, {
      key: "register",
      value: function() {
        var s = this.props, l = s.collection, u = s.disabled, c = s.index, f = (0, import_react_dom.findDOMNode)(this);
        f.sortableInfo = {
          collection: l,
          disabled: u,
          index: c,
          manager: this.context.manager
        }, this.node = f, this.ref = {
          node: f
        }, this.context.manager.add(l, this.ref);
      }
    }, {
      key: "unregister",
      value: function() {
        var s = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : this.props.collection;
        this.context.manager.remove(s, this.ref);
      }
    }, {
      key: "getWrappedInstance",
      value: function() {
        return pu(n.withRef, "To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableElement() call"), this.refs.wrappedInstance;
      }
    }, {
      key: "render",
      value: function() {
        var s = n.withRef ? "wrappedInstance" : null;
        return (0, import_react.createElement)(e13, Kg({
          ref: s
        }, s9(this.props, Dfe)));
      }
    }]), o;
  }(import_react.Component), br(t, "displayName", RR("sortableElement", e13)), br(t, "contextTypes", {
    manager: M.object.isRequired
  }), br(t, "propTypes", f9), br(t, "defaultProps", {
    collection: 0
  }), r;
}
var p9 = qd((e13) => e13.pos).left;
var pn = (e13, t) => {
  if (!t || !t.cumPositions || !t.cumPositions.length)
    return null;
  let r = p9(t.cumPositions, e13);
  const n = t.cumPositions[t.cumPositions.length - 1].chr, i = t.chromLengths[n];
  r > 0 && (r -= 1);
  let o = Math.floor(e13 - t.cumPositions[r].pos), a = 0;
  return o < 0 && (a = o - 1, o = 1), r === t.cumPositions.length - 1 && o > i && (a = o - i, o = i), [t.cumPositions[r].chr, o, a, r];
};
var m9 = (e13, t) => (r) => r % e13 * t + Math.floor(r / e13);
var Rfe = (e13) => e13;
var g9 = (e13, t, r = Rfe) => e13.map((n, i) => n + t[r(i)]);
var Nfe = "http://www.w3.org/2000/svg";
var b0 = (e13, t) => {
  if (e13.namespaceURI === Nfe) {
    const r = e13.getAttribute("class");
    return !!r && !!r.match(new RegExp(`(\\s|^)${t}(\\s|$)`));
  }
  return e13.classList ? e13.classList.contains(t) : !!e13.className.match(new RegExp(`(\\s|^)${t}(\\s|$)`));
};
var Mfe = "http://www.w3.org/2000/svg";
var Lfe = (e13, t) => {
  if (e13.namespaceURI === Mfe) {
    if (!b0(e13, t)) {
      const r = e13.getAttribute("class") || "";
      e13.setAttribute("class", `${r} ${t}`);
    }
  } else e13.classList ? e13.classList.add(t) : b0(e13, t) || (e13.className += ` ${t}`);
};
var Bfe = (e13, t, r) => {
  const n = document.createElement("canvas");
  return new Promise((i, o) => {
    const a = new window.Image();
    a.onload = () => {
      n.width = t || a.width, n.height = r || a.height;
      const s = n.getContext("2d");
      if (!s) {
        o(new Error("Could not get canvas context"));
        return;
      }
      s.drawImage(a, 0, 0), i(n);
    }, a.onerror = () => {
      o(new Error("Could not convert base64 to canvas"));
    }, a.src = `data:image/png;base64,${e13}`;
  });
};
var T0 = (e13, t, r) => r.chrPositions[e13].pos + t;
var v9 = (e13) => {
  if (!(e13 instanceof Event))
    throw new Error("Event must be an instance of Event");
  const t = new e13.constructor(e13.type, e13);
  return t.sourceUid = e13.sourceUid, t.forwarded = e13.forwarded, t;
};
var Wl = (e13, t = false) => {
  const r = e13.map((a, s) => s * (255 / (e13.length - 1))), n = It().domain(r).range(e13), o = vi(t ? 255 : 254, -1, -1).map(n).map((a) => {
    const s = td(a);
    return [s.r, s.g, s.b, s.opacity * 255];
  });
  return o.length < 256 && o.push([255, 255, 255, 0]), o;
};
var _m = 0;
var bm = 5;
var y9 = 10;
var _9 = 10;
var b9 = 300;
var E0 = "move";
var yo = "select";
var yP = 100;
var S0 = 10;
var T9 = 110;
var Tm = 3e3;
var Em = "locationListenerPrefix";
var E9 = 1e3;
var _P = "http://higlass.io/api/v1";
var S9 = 400;
var w9 = 300;
var bP = (
  /** @type {const} */
  ["top", "left", "right", "bottom", "center", "whole", "gallery"]
);
var A9 = 20;
var O9 = 20;
var w0 = Symbol("Light theme");
var wr = Symbol("Dark theme");
var Ffe = w0;
var Ge = {
  PIXI: x6
};
var uo = {
  "multitrack-header": "_multitrack-header_1yz7l_1",
  "multitrack-header-focus": "_multitrack-header-focus_1yz7l_2",
  "multitrack-header-squeazed": "_multitrack-header-squeazed_1yz7l_3",
  "multitrack-header-dark": "_multitrack-header-dark_1yz7l_20",
  "multitrack-header-id": "_multitrack-header-id_1yz7l_30",
  "multitrack-header-left": "_multitrack-header-left_1yz7l_39",
  "multitrack-header-grabber": "_multitrack-header-grabber_1yz7l_44",
  "multitrack-header-grabber-squeazed": "_multitrack-header-grabber-squeazed_1yz7l_45",
  "multitrack-header-search": "_multitrack-header-search_1yz7l_80",
  "multitrack-header-nav-list": "_multitrack-header-nav-list_1yz7l_102",
  "multitrack-header-icon": "_multitrack-header-icon_1yz7l_107",
  "multitrack-header-icon-squeazed": "_multitrack-header-icon-squeazed_1yz7l_108",
  "mouse-tool-selection": "_mouse-tool-selection_1yz7l_136"
};
var $fe = {
  id: "cog",
  paths: ["M466.895 305.125c-26.863-46.527-10.708-106.152 36.076-133.244l-50.313-87.146c-14.375 8.427-31.088 13.259-48.923 13.259-53.768 0-97.354-43.873-97.354-97.995h-100.629c0.133 16.705-4.037 33.641-12.979 49.126-26.862 46.528-86.578 62.351-133.431 35.379l-50.312 87.146c14.485 8.236 27.025 20.294 35.943 35.739 26.819 46.454 10.756 105.96-35.854 133.112l50.313 87.146c14.325-8.348 30.958-13.127 48.7-13.127 53.598 0 97.072 43.596 97.35 97.479h100.627c-0.043-16.537 4.136-33.285 12.983-48.609 26.818-46.453 86.388-62.297 133.207-35.506l50.313-87.145c-14.39-8.233-26.846-20.249-35.717-35.614zM256 359.666c-57.254 0-103.668-46.412-103.668-103.667 0-57.254 46.413-103.667 103.668-103.667s103.666 46.413 103.666 103.667c-0.001 57.255-46.412 103.667-103.666 103.667z"],
  viewBox: "0 0 512 512"
};
var Hfe = {
  id: "cross",
  paths: ["M507.331 411.33c-0.002-0.002-0.004-0.004-0.006-0.005l-155.322-155.325 155.322-155.325c0.002-0.002 0.004-0.003 0.006-0.005 1.672-1.673 2.881-3.627 3.656-5.708 2.123-5.688 0.912-12.341-3.662-16.915l-73.373-73.373c-4.574-4.573-11.225-5.783-16.914-3.66-2.080 0.775-4.035 1.984-5.709 3.655 0 0.002-0.002 0.003-0.004 0.005l-155.324 155.326-155.324-155.325c-0.002-0.002-0.003-0.003-0.005-0.005-1.673-1.671-3.627-2.88-5.707-3.655-5.69-2.124-12.341-0.913-16.915 3.66l-73.374 73.374c-4.574 4.574-5.784 11.226-3.661 16.914 0.776 2.080 1.985 4.036 3.656 5.708 0.002 0.001 0.003 0.003 0.005 0.005l155.325 155.324-155.325 155.326c-0.001 0.002-0.003 0.003-0.004 0.005-1.671 1.673-2.88 3.627-3.657 5.707-2.124 5.688-0.913 12.341 3.661 16.915l73.374 73.373c4.575 4.574 11.226 5.784 16.915 3.661 2.080-0.776 4.035-1.985 5.708-3.656 0.001-0.002 0.003-0.003 0.005-0.005l155.324-155.325 155.324 155.325c0.002 0.001 0.004 0.003 0.006 0.004 1.674 1.672 3.627 2.881 5.707 3.657 5.689 2.123 12.342 0.913 16.914-3.661l73.373-73.374c4.574-4.574 5.785-11.227 3.662-16.915-0.776-2.080-1.985-4.034-3.657-5.707z"],
  viewBox: "0 0 512 512"
};
var Ufe = {
  id: "enlarge",
  paths: ["M512 0h-208l80 80-96 96 48 48 96-96 80 80z", "M512 512v-208l-80 80-96-96-48 48 96 96-80 80z", "M0 512h208l-80-80 96-96-48-48-96 96-80-80z", "M0 0v208l80-80 96 96 48-48-96-96 80-80z"],
  viewBox: "0 0 512 512"
};
var jfe = {
  id: "minus",
  paths: ["M0 208v96c0 8.836 7.164 16 16 16h480c8.836 0 16-7.164 16-16v-96c0-8.836-7.164-16-16-16h-480c-8.836 0-16 7.164-16 16z"],
  viewBox: "0 0 512 512"
};
var Gfe = {
  id: "move",
  paths: ["M512,260.096L405.5,161.79v49.155H301.061v-104.45h49.149L251.904,0L160.77,106.495h49.15v104.45H106.495V161.79L0,260.096l106.495,91.135v-49.149h104.45v104.45H161.79L251.904,512l98.306-106.5h-49.149V301.061H405.5v49.149L512,260.096z"],
  viewBox: "0 0 512 512"
};
var zfe = {
  id: "play",
  paths: ["M96 64l320 192-320 192z"],
  viewBox: "0 0 512 512"
};
var Vfe = {
  id: "plus",
  paths: ["M496 192h-176v-176c0-8.836-7.164-16-16-16h-96c-8.836 0-16 7.164-16 16v176h-176c-8.836 0-16 7.164-16 16v96c0 8.836 7.164 16 16 16h176v176c0 8.836 7.164 16 16 16h96c8.836 0 16-7.164 16-16v-176h176c8.836 0 16-7.164 16-16v-96c0-8.836-7.164-16-16-16z"],
  viewBox: "0 0 512 512"
};
var Xfe = {
  id: "copy",
  paths: ["M607.5 672v-448.5h-351v448.5h351zM607.5 160.5c34.5 0 64.5 28.5 64.5 63v448.5c0 34.5-30 64.5-64.5 64.5h-351c-34.5 0-64.5-30-64.5-64.5v-448.5c0-34.5 30-63 64.5-63h351zM511.5 31.5v64.5h-384v448.5h-63v-448.5c0-34.5 28.5-64.5 63-64.5h384z"],
  viewBox: "0 0 712 712"
};
var Wfe = {
  id: "select",
  viewBox: "0 0 16 16",
  paths: ["M2 14h2v1H1v-3h1v2zm8 1H6v-1h4v1zm5 0h-3v-1h2v-2h1v3zm0-5h-1V6h1v4zM2 10H1V6h1v4zm13-6h-1V2h-2V1h3v3zM4 2H2v2H1V1h3v1zm6 0H6V1h4.03L10 2z"]
};
var Yfe = {
  id: "check_square_o",
  viewBox: "0 0 1792 1792",
  paths: ["M1472 930v318q0 119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119 84.5-203.5t203.5-84.5h832q63 0 117 25 15 7 18 23 3 17-9 29l-49 49q-10 10-23 10-3 0-9-2-23-6-45-6h-832q-66 0-113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113-47t47-113v-254q0-13 9-22l64-64q10-10 23-10 6 0 12 3 20 8 20 29zm231-489l-814 814q-24 24-57 24t-57-24l-430-430q-24-24-24-57t24-57l110-110q24-24 57-24t57 24l263 263 647-647q24-24 57-24t57 24l110 110q24 24 24 57t-24 57z"]
};
var qfe = {
  id: "square_o",
  viewBox: "0 0 1792 1792",
  paths: ["M1312 256h-832q-66 0-113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113-47t47-113v-832q0-66-47-113t-113-47zm288 160v832q0 119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119 84.5-203.5t203.5-84.5h832q119 0 203.5 84.5t84.5 203.5z"]
};
var Kfe = {
  id: "file_o",
  viewBox: "0 0 1792 1792",
  paths: ["M1596 380q28 28 48 76t20 88v1152q0 40-28 68t-68 28h-1344q-40 0-68-28t-28-68v-1600q0-40 28-68t68-28h896q40 0 88 20t76 48zm-444-244v376h376q-10-29-22-41l-313-313q-12-12-41-22zm384 1528v-1024h-416q-40 0-68-28t-28-68v-416h-768v1536h1280z"]
};
var Zfe = {
  id: "chevron_right",
  viewBox: "0 0 1792 1792",
  paths: ["M1363 877l-742 742q-19 19-45 19t-45-19l-166-166q-19-19-19-45t19-45l531-531-531-531q-19-19-19-45t19-45l166-166q19-19 45-19t45 19l742 742q19 19 19 45t-19 45z"]
};
var Qfe = {
  id: "chevron_down",
  viewBox: "0 0 1792 1792",
  paths: ["M1683 808l-742 741q-19 19-45 19t-45-19l-742-741q-19-19-19-45.5t19-45.5l166-165q19-19 45-19t45 19l531 531 531-531q19-19 45-19t45 19l166 165q19 19 19 45.5t-19 45.5z"]
};
var Jfe = {
  id: "folder_o",
  viewBox: "0 0 1792 1792",
  paths: ["M1600 1312v-704q0-40-28-68t-68-28h-704q-40 0-68-28t-28-68v-64q0-40-28-68t-68-28h-320q-40 0-68 28t-28 68v960q0 40 28 68t68 28h1216q40 0 68-28t28-68zm128-704v704q0 92-66 158t-158 66h-1216q-92 0-158-66t-66-158v-960q0-92 66-158t158-66h320q92 0 158 66t66 158v32h672q92 0 158 66t66 158z"]
};
var ede = {
  id: "folder_open_o",
  viewBox: "0 0 1792 1792",
  paths: ["M1845 931q0-35-53-35h-1088q-40 0-85.5 21.5t-71.5 52.5l-294 363q-18 24-18 40 0 35 53 35h1088q40 0 86-22t71-53l294-363q18-22 18-39zm-1141-163h768v-160q0-40-28-68t-68-28h-576q-40 0-68-28t-28-68v-64q0-40-28-68t-68-28h-320q-40 0-68 28t-28 68v853l256-315q44-53 116-87.5t140-34.5zm1269 163q0 62-46 120l-295 363q-43 53-116 87.5t-140 34.5h-1088q-92 0-158-66t-66-158v-960q0-92 66-158t158-66h320q92 0 158 66t66 158v32h544q92 0 158 66t66 158v160h192q54 0 99 24.5t67 70.5q15 32 15 68z"]
};
var tde = [$fe, Hfe, Ufe, jfe, Gfe, zfe, Vfe, Xfe, Wfe, Yfe, qfe, Kfe, Jfe, ede, Zfe, Qfe];
var ia = new DOMParser();
var rde = '<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="1.5"><path d="M4 2.1L.5 3.5v12l5-2 5 2 5-2v-12l-5 2-3.17-1.268M10.5 3.5v12" fill="none" stroke="currentColor"/><path d="M5.5 13.5v-7" fill="none" stroke="currentColor" stroke-width=".9969299999999999"/><path d="M5.494 0c-1.803 0-3.26 1.496-3.26 3.35 0 .427.124.97.264 1.343L5.5 11l3.003-6.306c.142-.375.263-.916.263-1.342C8.766 1.496 7.3 0 5.494 0zM5.5 4.64c-.76 0-1.375-.616-1.375-1.374 0-.76.616-1.376 1.375-1.376.76 0 1.374.616 1.374 1.376 0 .758-.614 1.375-1.374 1.375z" fill="currentColor"/></svg>';
var NR = ia.parseFromString(rde, "text/xml").documentElement;
var nde = `
<svg width="20px" height="20px" viewBox="0 0 20 20">
  <rect x="0" y="3" width="4" height="14" fill="#637993"/>
  <rect x="4" y="3" width="2" height="14" fill="#c7d1de"/>
  <rect x="6" y="3" width="5" height="14" fill="#3c5068"/>
  <rect x="11" y="3" width="3" height="14" fill="#92a3ba"/>
  <rect x="14" y="3" width="2" height="14" fill="#000000"/>
  <rect x="16" y="3" width="4" height="14" fill="#637993"/>
</svg>
`;
var ide = ia.parseFromString(nde, "text/xml").documentElement;
var ode = `
<svg width="20px" height="20px" viewBox="0 0 135 85" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <title>line</title>
    <defs></defs>
    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <polyline id="Path" stroke="#4990E2" stroke-width="8" points="2 45.5625 20.7460938 6.3359375 36.828125 86.6484375 59.8945312 17.5742188 79.0390625 70.703125 99.9335938 27 112.769531 81.1601562 132.078125 3"></polyline>
    </g>
</svg>
`;
var ade = ia.parseFromString(ode, "text/xml").documentElement;
var sde = `
<svg width="20px" height="20px" viewBox="0 0 60 60" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <!-- Generator: Sketch 41 (35326) - http://www.bohemiancoding.com/sketch -->
    <title>2d-tiles-icon</title>
    <desc>Created with Sketch.</desc>
    <defs>
        <rect id="tiles2DIconStr-path-1" x="0" y="0" width="30" height="30"></rect>
        <mask id="tiles2DIconStr-mask-2" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="30" height="30" fill="white">
            <use xlink:href="#tiles2DIconStr-path-1"></use>
        </mask>
        <rect id="tiles2DIconStr-path-3" x="0" y="30" width="30" height="30"></rect>
        <mask id="tiles2DIconStr-mask-4" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="30" height="30" fill="white">
            <use xlink:href="#tiles2DIconStr-path-3"></use>
        </mask>
        <rect id="tiles2DIconStr-path-5" x="30" y="0" width="30" height="30"></rect>
        <mask id="tiles2DIconStr-mask-6" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="30" height="30" fill="white">
            <use xlink:href="#tiles2DIconStr-path-5"></use>
        </mask>
        <rect id="tiles2DIconStr-path-7" x="30" y="30" width="30" height="30"></rect>
        <mask id="tiles2DIconStr-mask-8" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="30" height="30" fill="white">
            <use xlink:href="#tiles2DIconStr-path-7"></use>
        </mask>
    </defs>
    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <use id="Rectangle" stroke="#979797" mask="url(#tiles2DIconStr-mask-2)" stroke-width="6" fill="#EEE0E0" xlink:href="#tiles2DIconStr-path-1"></use>
        <use id="Rectangle" stroke="#979797" mask="url(#tiles2DIconStr-mask-4)" stroke-width="6" fill="#EEE0E0" xlink:href="#tiles2DIconStr-path-3"></use>
        <use id="Rectangle" stroke="#979797" mask="url(#tiles2DIconStr-mask-6)" stroke-width="6" fill="#EEE0E0" xlink:href="#tiles2DIconStr-path-5"></use>
        <use id="Rectangle" stroke="#979797" mask="url(#tiles2DIconStr-mask-8)" stroke-width="6" fill="#EEE0E0" xlink:href="#tiles2DIconStr-path-7"></use>
    </g>
</svg>
`;
var AF = ia.parseFromString(sde, "text/xml").documentElement;
var lde = `
<svg width="20px" height="20px" viewBox="0 0 90 90" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <!-- Generator: Sketch 41 (35326) - http://www.bohemiancoding.com/sketch -->
    <title>2d-heatmap</title>
    <desc>Created with Sketch.</desc>
    <defs>
        <rect id="heatmap2DStr-path-1" x="0" y="0" width="30" height="30"></rect>
        <rect id="heatmap2DStr-path-2" x="30" y="0" width="30" height="30"></rect>
        <rect id="heatmap2DStr-path-3" x="60" y="0" width="30" height="30"></rect>
        <rect id="heatmap2DStr-path-4" x="0" y="30" width="30" height="30"></rect>
        <rect id="heatmap2DStr-path-5" x="30" y="30" width="30" height="30"></rect>
        <rect id="heatmap2DStr-path-6" x="60" y="30" width="30" height="30"></rect>
        <rect id="heatmap2DStr-path-7" x="0" y="60" width="30" height="30"></rect>
        <rect id="heatmap2DStr-path-8" x="30" y="60" width="30" height="30"></rect>
        <rect id="heatmap2DStr-path-9" x="60" y="60" width="30" height="30"></rect>
    </defs>
    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <use id="Rectangle" fill="#858372" xlink:href="#heatmap2DStr-path-1"></use>
        <use id="Rectangle" fill="#BBBAA4" xlink:href="#heatmap2DStr-path-2"></use>
        <use id="Rectangle" fill="#ECECD5" xlink:href="#heatmap2DStr-path-3"></use>
        <use id="Rectangle" fill="#BCBD9E" xlink:href="#heatmap2DStr-path-4"></use>
        <use id="Rectangle" fill="#817C7C" xlink:href="#heatmap2DStr-path-5"></use>
        <use id="Rectangle" fill="#BBBAA4" xlink:href="#heatmap2DStr-path-6"></use>
        <use id="Rectangle" fill="#ECECD5" xlink:href="#heatmap2DStr-path-7"></use>
        <use id="Rectangle" fill="#BBBAA4" xlink:href="#heatmap2DStr-path-8"></use>
        <use id="Rectangle" fill="#7B7777" xlink:href="#heatmap2DStr-path-9"></use>
    </g>
</svg>
`;
var OF = ia.parseFromString(lde, "text/xml").documentElement;
var I9 = `
<svg width="20px" height="20px" viewBox="0 0 77 33" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <!-- Generator: Sketch 41 (35326) - http://www.bohemiancoding.com/sketch -->
    <title>axis-1d</title>
    <desc>Created with Sketch.</desc>
    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <polyline id="Path" stroke="#979797" stroke-width="8" transform="translate(38.258485, 27.557860) scale(1, -1) translate(-38.258485, -27.557860) " points="4 27.05786 36.7512307 27.05786 72.5169695 27.05786"></polyline>
        <path d="M38,24.484375 L38,3" id="Path-2" stroke="#979797" stroke-width="4"></path>
    </g>
</svg>
`;
var cde = ia.parseFromString(I9, "text/xml").documentElement;
var ude = Wt(ia.parseFromString(I9, "text/xml").documentElement).style("transform", "rotate(90deg)").node();
var hde = `
<svg width="20px" height="20px" viewBox="0 0 171 116" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <!-- Generator: Sketch 41 (35326) - http://www.bohemiancoding.com/sketch -->
    <title>gene-annotations</title>
    <desc>Created with Sketch.</desc>
    <defs>
        <rect id="geneAnnotations-path-1" x="34" y="0" width="24" height="116"></rect>
        <mask id="geneAnnotations-mask-2" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="24" height="116" fill="white">
            <use xlink:href="#geneAnnotations-path-1"></use>
        </mask>
        <rect id="geneAnnotations-path-3" x="80" y="0" width="56" height="116"></rect>
        <mask id="geneAnnotations-mask-4" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="56" height="116" fill="white">
            <use xlink:href="#geneAnnotations-path-3"></use>
        </mask>
        <rect id="geneAnnotations-path-5" x="147" y="40" width="24" height="35"></rect>
        <mask id="geneAnnotations-mask-6" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="24" height="35" fill="white">
            <use xlink:href="#geneAnnotations-path-5"></use>
        </mask>
    </defs>
    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <path d="M12.71875,58 L147.10172,58" id="Path" stroke="#979797" stroke-width="8"></path>
        <use id="Rectangle" stroke="#979797" mask="url(#geneAnnotations-mask-2)" stroke-width="4" fill="#DDDD66" xlink:href="#geneAnnotations-path-1"></use>
        <use id="Rectangle" stroke="#979797" mask="url(#geneAnnotations-mask-4)" stroke-width="4" fill="#DDDD66" xlink:href="#geneAnnotations-path-3"></use>
        <use id="Rectangle" stroke="#979797" mask="url(#geneAnnotations-mask-6)" stroke-width="4" fill="#DDDD66" xlink:href="#geneAnnotations-path-5"></use>
        <polygon id="Triangle" stroke="#979797" fill="#D8D8D8" points="25 57.5 1 75 1 40"></polygon>
    </g>
</svg>
`;
var fde = ia.parseFromString(hde, "text/xml").documentElement;
var P9 = `
<svg width="20px" height="20px" viewBox="0 0 180 90" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <!-- Generator: Sketch 42 (36781) - http://www.bohemiancoding.com/sketch -->
    <title>1d-tiles-icon</title>
    <desc>Created with Sketch.</desc>
    <defs>
        <rect id="tiles1DIconStr-path-1" x="0" y="0" width="90" height="90"></rect>
        <mask id="tiles1DIconStr-mask-2" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="90" height="90" fill="white">
            <use xlink:href="#tiles1DIconStr-path-1"></use>
        </mask>
        <rect id="tiles1DIconStr-path-3" x="90" y="0" width="90" height="90"></rect>
        <mask id="tiles1DIconStr-mask-4" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="90" height="90" fill="white">
            <use xlink:href="#tiles1DIconStr-path-3"></use>
        </mask>
    </defs>
    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <use id="Rectangle" stroke="#979797" mask="url(#tiles1DIconStr-mask-2)" stroke-width="12" fill="#E6D5D5" xlink:href="#tiles1DIconStr-path-1"></use>
        <use id="Rectangle" stroke="#979797" mask="url(#tiles1DIconStr-mask-4)" stroke-width="12" fill="#E6D5D5" xlink:href="#tiles1DIconStr-path-3"></use>
    </g>
</svg>
`;
var dde = ia.parseFromString(P9, "text/xml").documentElement;
var pde = Wt(ia.parseFromString(P9, "text/xml").documentElement).style("transform", "rotate(90deg)").node();
var mde = `
<svg width="20px" height="20px" viewBox="0 0 111 111" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <!-- Generator: Sketch 42 (36781) - http://www.bohemiancoding.com/sketch -->
    <title>arrowhead-domains</title>
    <desc>Created with Sketch.</desc>
    <defs>
        <rect id="arrowHeadDomainsStr-path-1" x="0" y="0" width="90" height="90"></rect>
        <mask id="arrowHeadDomainsStr-mask-2" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="90" height="90" fill="white">
            <use xlink:href="#arrowHeadDomainsStr-path-1"></use>
        </mask>
        <rect id="arrowHeadDomainsStr-path-3" x="52" y="52" width="59" height="59"></rect>
        <mask id="arrowHeadDomainsStr-mask-4" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="59" height="59" fill="white">
            <use xlink:href="#arrowHeadDomainsStr-path-3"></use>
        </mask>
    </defs>
    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" fill-opacity="0">
        <use id="Rectangle" stroke="#979797" mask="url(#arrowHeadDomainsStr-mask-2)" stroke-width="22" fill="#D8D8D8" xlink:href="#arrowHeadDomainsStr-path-1"></use>
        <use id="Rectangle" stroke="#979797" mask="url(#arrowHeadDomainsStr-mask-4)" stroke-width="22" fill="#D8D8D8" xlink:href="#arrowHeadDomainsStr-path-3"></use>
    </g>
</svg>
`;
var Vp = ia.parseFromString(mde, "text/xml").documentElement;
function C9({
  theStyle: e13,
  onClick: t
}) {
  return import_react.default.createElement("svg", {
    className: uo[e13],
    viewBox: "0 0 12 13",
    onClick: t,
    xmlns: "http://www.w3.org/2000/svg"
  }, import_react.default.createElement("g", {
    fill: "none",
    stroke: "#6c6c6c",
    strokeWidth: "2"
  }, import_react.default.createElement("path", {
    d: "M11.29 11.71l-4-4"
  }), import_react.default.createElement("circle", {
    cx: "5",
    cy: "5",
    r: "4"
  })));
}
C9.propTypes = {
  theStyle: M.string,
  onClick: M.func
};
var IF = {
  type: "osm-tiles",
  datatype: ["map-tiles"],
  local: true,
  orientation: "2d",
  hidden: true,
  name: "OSM Tiles",
  thumbnail: NR,
  availableOptions: ["minPos", "maxPos", "maxZoom", "labelPosition", "labelLeftMargin", "labelRightMargin", "labelTopMargin", "labelBottomMargin", "name"],
  defaultOptions: {
    minPos: -180,
    maxPos: 180,
    maxZoom: 19,
    labelPosition: "bottomRight",
    labelLeftMargin: 0,
    labelRightMargin: 0,
    labelTopMargin: 0,
    labelBottomMargin: 0
  }
};
var PF = {
  type: "mapbox-tiles",
  datatype: ["map-tiles"],
  local: true,
  orientation: "2d",
  hidden: true,
  name: "Mapbox Tiles",
  thumbnail: NR,
  availableOptions: ["style", "labelPosition", "labelLeftMargin", "labelRightMargin", "labelTopMargin", "labelBottomMargin", "name"],
  defaultOptions: {
    style: "mapbox.streets",
    labelPosition: "bottomRight",
    labelLeftMargin: 0,
    labelRightMargin: 0,
    labelTopMargin: 0,
    labelBottomMargin: 0
  }
};
var mu = [IF, {
  ...IF,
  type: "osm"
}, PF, {
  ...PF,
  type: "mapbox"
}, {
  type: "left-axis",
  datatype: ["axis"],
  local: true,
  orientation: "1d-vertical",
  name: "Left Axis",
  thumbnail: ude,
  availableOptions: ["minWidth"],
  defaultOptions: {
    minWidth: 100
  }
}, {
  type: "top-axis",
  datatype: ["axis"],
  local: true,
  orientation: "1d-horizontal",
  name: "Top Axis",
  thumbnail: cde,
  defaultOptions: {}
}, {
  type: "horizontal-rule",
  datatype: ["x-coord"],
  local: true,
  orientation: "whole",
  name: "Horizontal Rule",
  thumbnail: null,
  availableOptions: ["color"],
  defaultOptions: {
    color: "black"
  }
}, {
  type: "vertical-rule",
  datatype: ["y-coord"],
  local: true,
  orientation: "whole",
  name: "Vertical Rule",
  thumbnail: null,
  availableOptions: ["color"],
  defaultOptions: {
    color: "black"
  }
}, {
  type: "cross-rule",
  datatype: ["xy-coord"],
  local: true,
  orientation: "whole",
  name: "Cross Rule",
  thumbnail: null,
  availableOptions: ["color"],
  defaultOptions: {
    color: "black"
  }
}, {
  type: "simple-svg",
  datatype: [],
  local: false,
  orientation: "2d",
  exportable: true,
  availableOptions: ["minWidth", "minHeight"],
  defaultOptions: {
    minWidth: 100,
    minHeight: 100
  }
}, {
  type: "heatmap",
  datatype: ["matrix"],
  local: false,
  orientation: "2d",
  thumbnail: OF,
  exportable: true,
  availableOptions: ["backgroundColor", "labelPosition", "labelLeftMargin", "labelRightMargin", "labelTopMargin", "labelBottomMargin", "labelShowResolution", "labelShowAssembly", "labelColor", "labelTextOpacity", "labelBackgroundOpacity", "colorRange", "colorbarBackgroundColor", "maxZoom", "minWidth", "minHeight", "dataTransform", "colorbarPosition", "trackBorderWidth", "trackBorderColor", "heatmapValueScaling", "showMousePosition", "mousePositionColor", "showTooltip", "extent", "zeroValueColor"],
  defaultOptions: {
    backgroundColor: "#eeeeee",
    labelPosition: "bottomRight",
    labelLeftMargin: 0,
    labelRightMargin: 0,
    labelTopMargin: 0,
    labelBottomMargin: 0,
    labelShowResolution: true,
    labelShowAssembly: true,
    colorRange: [
      // corresponding to the fall colormap
      "white",
      "rgba(245,166,35,1.0)",
      "rgba(208,2,27,1.0)",
      "black"
    ],
    colorbarBackgroundColor: "#ffffff",
    maxZoom: null,
    minWidth: 100,
    minHeight: 100,
    colorbarPosition: "topRight",
    trackBorderWidth: 0,
    trackBorderColor: "black",
    heatmapValueScaling: "log",
    showMousePosition: false,
    mousePositionColor: "#000000",
    showTooltip: false,
    extent: "full",
    zeroValueColor: null
  },
  defaultOptionsByTheme: {
    [wr]: {
      backgroundColor: "#000000",
      colorRange: [
        // corresponding to the inverted fall colormap
        "black",
        "rgba(208,2,27,1.0)",
        "rgba(245,166,35,1.0)",
        "white"
      ],
      colorbarBackgroundColor: "#000000",
      labelColor: "#ffffff",
      labelBackgroundColor: "#000000",
      trackBorderColor: "#ffffff",
      mousePositionColor: "#ffffff"
    }
  }
}, {
  type: "linear-heatmap",
  aliases: ["horizontal-heatmap", "vertical-heatmap"],
  datatype: ["matrix"],
  local: false,
  orientation: "1d-horizontal",
  rotatable: true,
  thumbnail: OF,
  defaultOptions: {
    backgroundColor: "#eeeeee",
    labelPosition: "bottomRight",
    labelLeftMargin: 0,
    labelRightMargin: 0,
    labelTopMargin: 0,
    labelBottomMargin: 0,
    labelShowResolution: true,
    labelShowAssembly: true,
    labelColor: "black",
    colorRange: [
      // corresponding to the fall colormap
      "white",
      "rgba(245,166,35,1.0)",
      "rgba(208,2,27,1.0)",
      "black"
    ],
    maxZoom: null,
    minWidth: 100,
    minHeight: 40,
    trackBorderWidth: 0,
    trackBorderColor: "black"
  },
  availableOptions: ["backgroundColor", "labelPosition", "labelLeftMargin", "labelRightMargin", "labelTopMargin", "labelBottomMargin", "labelShowResolution", "labelShowAssembly", "labelColor", "labelTextOpacity", "labelBackgroundOpacity", "colorRange", "maxZoom", "minWidth", "minHeight", "dataTransform", "oneDHeatmapFlipped", "colorbarPosition", "trackBorderWidth", "trackBorderColor", "heatmapValueScaling"]
}, {
  type: "line",
  aliases: ["horizontal-line", "vertical-line"],
  datatype: ["vector"],
  local: false,
  orientation: "1d-horizontal",
  rotatable: true,
  thumbnail: ade,
  availableOptions: ["labelPosition", "labelLeftMargin", "labelRightMargin", "labelTopMargin", "labelBottomMargin", "labelShowResolution", "labelShowAssembly", "labelColor", "labelTextOpacity", "labelBackgroundColor", "labelBackgroundOpacity", "axisLabelFormatting", "axisPositionHorizontal", "axisMargin", "lineStrokeWidth", "lineStrokeColor", "valueScaling", "valueScaleMin", "valueScaleMax", "trackBorderWidth", "trackBorderColor", "trackType", "showMousePosition", "showTooltip", "mousePositionColor", "aggregationMode", "minHeight"],
  defaultOptions: {
    labelColor: "black",
    labelPosition: "topLeft",
    labelLeftMargin: 0,
    labelRightMargin: 0,
    labelTopMargin: 0,
    labelBottomMargin: 0,
    labelBackgroundColor: "white",
    labelShowResolution: false,
    labelShowAssembly: true,
    axisLabelFormatting: "scientific",
    axisPositionHorizontal: "right",
    lineStrokeColor: "blue",
    lineStrokeWidth: 1,
    valueScaling: "linear",
    trackBorderWidth: 0,
    trackBorderColor: "black",
    labelTextOpacity: 0.4,
    showMousePosition: false,
    minHeight: 20,
    mousePositionColor: "#000000",
    showTooltip: false
  },
  defaultOptionsByTheme: {
    [wr]: {
      labelColor: "#ffffff",
      labelBackgroundColor: "#000000",
      trackBorderColor: "#ffffff",
      mousePositionColor: "#ffffff"
    }
  }
}, {
  type: "1d-heatmap",
  aliases: ["horizontal-1d-heatmap", "vertical-1d-heatmap"],
  datatype: ["vector"],
  local: false,
  orientation: "1d-horizontal",
  rotatable: true,
  thumbnail: ide,
  availableOptions: ["labelPosition", "labelLeftMargin", "labelRightMargin", "labelTopMargin", "labelBottomMargin", "labelShowResolution", "labelShowAssembly", "labelColor", "labelTextOpacity", "labelBackgroundOpacity", "axisPositionHorizontal", "axisMargin", "colorRange", "valueScaling", "trackBorderWidth", "trackBorderColor", "trackType", "showMousePosition", "showTooltip", "mousePositionColor", "aggregationMode"],
  defaultOptions: {
    labelColor: "black",
    labelPosition: "topLeft",
    labelLeftMargin: 0,
    labelRightMargin: 0,
    labelTopMargin: 0,
    labelBottomMargin: 0,
    labelShowResolution: false,
    labelShowAssembly: true,
    axisPositionHorizontal: "right",
    colorRange: [
      // corresponding to the fall colormap
      "white",
      "rgba(245,166,35,1.0)",
      "rgba(208,2,27,1.0)",
      "black"
    ],
    valueScaling: "linear",
    trackBorderWidth: 0,
    trackBorderColor: "black",
    labelTextOpacity: 0.4,
    showMousePosition: false,
    mousePositionColor: "#000000",
    showTooltip: false
  }
}, {
  type: "vector-heatmap",
  aliases: ["horizontal-vector-heatmap", "vertical-vector-heatmap"],
  datatype: ["vector"],
  local: false,
  orientation: "1d-horizontal",
  rotatable: true,
  minHeight: 1,
  thumbnail: null,
  availableOptions: ["labelPosition", "labelLeftMargin", "labelRightMargin", "labelTopMargin", "labelBottomMargin", "labelShowResolution", "labelShowAssembly", "labelColor", "valueScaling", "labelTextOpacity", "labelBackgroundOpacity", "colorRange", "trackBorderWidth", "trackBorderColor", "trackType", "heatmapValueScaling"],
  defaultOptions: {
    labelPosition: "topLeft",
    labelLeftMargin: 0,
    labelRightMargin: 0,
    labelTopMargin: 0,
    labelBottomMargin: 0,
    labelShowResolution: false,
    labelShowAssembly: true,
    labelColor: "black",
    labelTextOpacity: 0.4,
    valueScaling: "linear",
    trackBorderWidth: 0,
    trackBorderColor: "black",
    heatmapValueScaling: "log"
  }
}, {
  type: "multivec",
  aliases: ["horizontal-multivec", "vertical-multivec"],
  datatype: ["multivec"],
  local: false,
  orientation: "1d-horizontal",
  rotatable: true,
  thumbnail: null,
  availableOptions: ["labelPosition", "labelLeftMargin", "labelRightMargin", "labelTopMargin", "labelBottomMargin", "labelShowResolution", "labelShowAssembly", "labelColor", "minHeight", "valueScaling", "labelTextOpacity", "labelBackgroundOpacity", "colorRange", "trackBorderWidth", "trackBorderColor", "trackType", "heatmapValueScaling", "selectRows", "selectRowsAggregationMode", "selectRowsAggregationWithRelativeHeight", "selectRowsAggregationMethod", "colorbarBackgroundColor", "colorbarPosition", "zeroValueColor"],
  defaultOptions: {
    labelPosition: "topLeft",
    labelLeftMargin: 0,
    labelRightMargin: 0,
    labelTopMargin: 0,
    labelBottomMargin: 0,
    labelShowResolution: true,
    labelShowAssembly: true,
    labelColor: "black",
    labelTextOpacity: 0.4,
    minHeight: 100,
    valueScaling: "linear",
    trackBorderWidth: 0,
    trackBorderColor: "black",
    heatmapValueScaling: "log",
    selectRows: null,
    selectRowsAggregationMode: "mean",
    selectRowsAggregationWithRelativeHeight: true,
    selectRowsAggregationMethod: "client",
    colorbarBackgroundColor: "#ffffff",
    colorbarPosition: "topRight",
    zeroValueColor: null
  },
  defaultOptionsByTheme: {
    [wr]: {
      colorbarBackgroundColor: "#000000"
    }
  }
}, {
  type: "point",
  aliases: ["horizontal-point", "vertical-point"],
  datatype: ["vector"],
  local: false,
  orientation: "1d-horizontal",
  rotatable: true,
  availableOptions: ["labelPosition", "labelLeftMargin", "labelRightMargin", "labelTopMargin", "labelBottomMargin", "labelShowResolution", "labelShowAssembly", "labelColor", "labelTextOpacity", "labelBackgroundOpacity", "axisLabelFormatting", "axisPositionHorizontal", "axisMargin", "pointColor", "pointSize", "valueScaling", "trackBorderWidth", "trackBorderColor"],
  defaultOptions: {
    labelColor: "black",
    labelPosition: "topLeft",
    labelLeftMargin: 0,
    labelRightMargin: 0,
    labelTopMargin: 0,
    labelBottomMargin: 0,
    labelShowResolution: false,
    labelShowAssembly: true,
    axisLabelFormatting: "scientific",
    axisPositionHorizontal: "right",
    pointColor: "red",
    pointSize: 3,
    valueScaling: "linear",
    trackBorderWidth: 0,
    trackBorderColor: "black",
    labelTextOpacity: 0.4
  }
}, {
  type: "divergent-bar",
  aliases: ["horizontal-divergent-bar", "vertical-divergent-bar"],
  datatype: ["vector"],
  local: false,
  orientation: "1d-horizontal",
  rotatable: true,
  availableOptions: ["labelPosition", "labelLeftMargin", "labelRightMargin", "labelTopMargin", "labelBottomMargin", "labelShowResolution", "labelShowAssembly", "labelColor", "labelTextOpacity", "labelBackgroundOpacity", "axisLabelFormatting", "axisPositionHorizontal", "axisMargin", "barFillColorTop", "barFillColorBottom", "valueScaling", "trackBorderWidth", "trackBorderColor", "barOpacity"],
  defaultOptions: {
    labelColor: "black",
    labelPosition: "topLeft",
    labelLeftMargin: 0,
    labelRightMargin: 0,
    labelTopMargin: 0,
    labelBottomMargin: 0,
    labelShowResolution: false,
    labelShowAssembly: true,
    axisPositionHorizontal: "right",
    axisLabelFormatting: "scientific",
    barFillColorBottom: "red",
    barFillColorTop: "green",
    valueScaling: "linear",
    trackBorderWidth: 0,
    trackBorderColor: "black",
    labelTextOpacity: 0.4,
    barOpacity: 1
  }
}, {
  type: "bar",
  aliases: ["horizontal-bar", "vertical-bar"],
  datatype: ["vector"],
  local: false,
  orientation: "1d-horizontal",
  rotatable: true,
  availableOptions: ["align", "labelPosition", "labelLeftMargin", "labelRightMargin", "labelTopMargin", "labelBottomMargin", "labelShowResolution", "labelShowAssembly", "labelColor", "labelTextOpacity", "labelBackgroundOpacity", "axisLabelFormatting", "axisPositionHorizontal", "axisMargin", "barFillColor", "colorRange", "colorRangeGradient", "valueScaling", "valueScaleMin", "valueScaleMax", "trackBorderWidth", "trackBorderColor", "barOpacity", "showMousePosition", "showTooltip", "aggregationMode", "zeroLineVisible", "zeroLineColor", "zeroLineOpacity"],
  defaultOptions: {
    align: "bottom",
    labelColor: "[glyph-color]",
    labelPosition: "topLeft",
    labelLeftMargin: 0,
    labelRightMargin: 0,
    labelTopMargin: 0,
    labelBottomMargin: 0,
    labelShowResolution: false,
    labelShowAssembly: true,
    axisLabelFormatting: "scientific",
    axisPositionHorizontal: "right",
    barFillColor: "darkgreen",
    valueScaling: "linear",
    trackBorderWidth: 0,
    trackBorderColor: "black",
    labelTextOpacity: 0.4,
    barOpacity: 1
  }
}, {
  type: "2d-tiles",
  datatype: ["matrix"],
  local: false,
  orientation: "2d",
  name: "2D Tile Outlines",
  thumbnail: AF
}, {
  type: "1d-value-interval",
  aliases: ["horizontal-1d-value-interval", "vertical-1d-value-interval"],
  datatype: ["bed-value"],
  local: false,
  orientation: "1d-horizontal",
  rotatable: true,
  name: "1D Rectangles",
  availableOptions: ["labelPosition", "labelLeftMargin", "labelRightMargin", "labelTopMargin", "labelBottomMargin", "labelColor", "labelTextOpacity", "labelBackgroundOpacity", "axisPositionHorizontal", "axisMargin"],
  defaultOptions: {
    labelColor: "black",
    labelPosition: "bottomLeft",
    labelLeftMargin: 0,
    labelRightMargin: 0,
    labelTopMargin: 0,
    labelBottomMargin: 0,
    axisPositionHorizontal: "left",
    lineStrokeColor: "blue",
    valueScaling: "linear"
  }
}, {
  type: "stacked-interval",
  aliases: ["top-stacked-interval", "left-stacked-interval"],
  datatype: ["stacked-interval"],
  local: false,
  orientation: "1d-horizontal",
  rotatable: true,
  thumbnail: "horizontal-stacked-interval.png",
  availableOptions: ["labelPosition", "labelLeftMargin", "labelRightMargin", "labelTopMargin", "labelBottomMargin", "labelColor", "labelTextOpacity", "labelBackgroundOpacity"]
}, {
  type: "viewport-projection-vertical",
  datatype: ["1d-projection"],
  local: true,
  hidden: true,
  projection: true,
  orientation: "1d-vertical",
  name: "Viewport Projection",
  thumbnail: "viewport-projection-center.png",
  availableOptions: ["projectionFillColor", "projectionStrokeColor", "strokeWidth"],
  defaultOptions: {
    projectionFillColor: "#777",
    projectionStrokeColor: "#777",
    projectionFillOpacity: 0.3,
    projectionStrokeOpacity: 0.7,
    strokeWidth: 1
  }
}, {
  type: "viewport-projection-horizontal",
  datatype: ["1d-projection"],
  local: true,
  hidden: true,
  projection: true,
  orientation: "1d-horizontal",
  name: "Viewport Projection",
  thumbnail: "viewport-projection-center.png",
  availableOptions: ["projectionFillColor", "projectionStrokeColor", "strokeWidth"],
  defaultOptions: {
    projectionFillColor: "#777",
    projectionStrokeColor: "#777",
    projectionFillOpacity: 0.3,
    projectionStrokeOpacity: 0.7,
    strokeWidth: 1
  }
}, {
  type: "viewport-projection-center",
  datatype: ["2d-projection"],
  local: true,
  hidden: true,
  projection: true,
  orientation: "2d",
  name: "Viewport Projection",
  thumbnail: "viewport-projection-center.png",
  availableOptions: ["projectionFillColor", "projectionStrokeColor", "strokeWidth"],
  defaultOptions: {
    projectionFillColor: "#777",
    projectionStrokeColor: "#777",
    projectionFillOpacity: 0.3,
    projectionStrokeOpacity: 0.7,
    strokeWidth: 1
  }
}, {
  type: "gene-annotations",
  aliases: ["horizontal-gene-annotations", "vertical-gene-annotations"],
  datatype: ["gene-annotation"],
  local: false,
  defaultHeight: 90,
  defaultWidth: 90,
  rotatable: true,
  orientation: "1d-horizontal",
  name: "Gene Annotations",
  thumbnail: fde,
  availableOptions: ["labelPosition", "labelLeftMargin", "labelRightMargin", "labelTopMargin", "labelBottomMargin", "labelColor", "labelTextOpacity", "labelBackgroundColor", "labelBackgroundOpacity", "minHeight", "plusStrandColor", "minusStrandColor", "trackBorderWidth", "trackBorderColor", "showMousePosition", "mousePositionColor", "fontSize", "geneAnnotationHeight", "geneLabelPosition", "geneStrandSpacing"],
  defaultOptions: {
    fontSize: 10,
    labelColor: "black",
    labelBackgroundColor: "#ffffff",
    labelPosition: "hidden",
    labelLeftMargin: 0,
    labelRightMargin: 0,
    labelTopMargin: 0,
    labelBottomMargin: 0,
    minHeight: 24,
    plusStrandColor: "blue",
    minusStrandColor: "red",
    trackBorderWidth: 0,
    trackBorderColor: "black",
    showMousePosition: false,
    mousePositionColor: "#000000",
    geneAnnotationHeight: 16,
    geneLabelPosition: "outside",
    geneStrandSpacing: 4
  },
  defaultOptionsByTheme: {
    [wr]: {
      labelColor: "#ffffff",
      labelBackgroundColor: "#000000",
      trackBorderColor: "#ffffff",
      mousePositionColor: "#ffffff",
      plusStrandColor: "#40a0ff"
    }
  }
}, {
  type: "arrowhead-domains",
  datatype: ["arrowhead-domains"],
  local: false,
  orientation: "2d",
  name: "Arrowhead Domains",
  thumbnail: Vp,
  availableOptions: ["labelPosition", "labelLeftMargin", "labelRightMargin", "labelTopMargin", "labelBottomMargin", "labelColor", "labelTextOpacity", "labelBackgroundOpacity", "trackBorderWidth", "trackBorderColor"],
  defaultOptions: {
    labelColor: "black",
    labelPosition: "hidden",
    labelLeftMargin: 0,
    labelRightMargin: 0,
    labelTopMargin: 0,
    labelBottomMargin: 0,
    trackBorderWidth: 0,
    trackBorderColor: "black"
  }
}, {
  type: "linear-2d-rectangle-domains",
  aliases: ["horizontal-2d-rectangle-domains", "vertical-2d-rectangle-domains"],
  datatype: ["2d-rectangle-domains"],
  local: false,
  orientation: "1d-horizontal",
  rotatable: true,
  name: "Horizontal 2D Rectangle Domains",
  thumbnail: Vp,
  availableOptions: ["labelPosition", "labelLeftMargin", "labelRightMargin", "labelTopMargin", "labelBottomMargin", "labelColor", "labelTextOpacity", "labelBackgroundOpacity", "trackBorderWidth", "trackBorderColor", "rectangleDomainFillColor", "rectangleDomainStrokeColor", "rectangleDomainOpacity", "minSquareSize"],
  defaultOptions: {
    labelColor: "black",
    labelPosition: "bottomLeft",
    labelLeftMargin: 0,
    labelRightMargin: 0,
    labelTopMargin: 0,
    labelBottomMargin: 0,
    trackBorderWidth: 0,
    trackBorderColor: "black",
    rectangleDomainFillColor: "grey",
    rectangleDomainStrokeColor: "black",
    rectangleDomainOpacity: 0.6,
    minSquareSize: "none"
  }
}, {
  type: "2d-rectangle-domains",
  datatype: ["2d-rectangle-domains"],
  local: false,
  orientation: "2d",
  name: "2D Rectangle Domains",
  thumbnail: Vp,
  availableOptions: ["flipDiagonal", "labelPosition", "labelLeftMargin", "labelRightMargin", "labelTopMargin", "labelBottomMargin", "labelColor", "labelTextOpacity", "labelBackgroundOpacity", "trackBorderWidth", "trackBorderColor", "rectangleDomainFillColor", "rectangleDomainFillOpacity", "rectangleDomainStrokeColor", "rectangleDomainOpacity", "minSquareSize"],
  defaultOptions: {
    flipDiagonal: "none",
    labelColor: "black",
    labelPosition: "hidden",
    labelLeftMargin: 0,
    labelRightMargin: 0,
    labelTopMargin: 0,
    labelBottomMargin: 0,
    trackBorderWidth: 0,
    trackBorderColor: "black",
    rectangleDomainFillColor: "grey",
    rectangleDomainFillOpacity: 0.4,
    rectangleDomainStrokeColor: "black",
    rectangleDomainOpacity: 0.6,
    minSquareSize: "none"
  }
}, {
  type: "horizontal-1d-annotations",
  datatype: ["nothing"],
  // Unfortunately one has to specify something here
  local: false,
  orientation: "1d-horizontal",
  name: "Horizontal 1D Annotations",
  thumbnail: null,
  availableOptions: ["fill", "fillOpacity", "stroke", "strokeOpacity", "strokeWidth", "strokePos", "regions"],
  defaultOptions: {
    fill: "red",
    fillOpacity: 0.2,
    stroke: "red",
    strokeOpacity: 0,
    strokeWidth: 1,
    regions: [],
    strokePos: []
  }
}, {
  type: "vertical-1d-annotations",
  datatype: ["nothing"],
  // Unfortunately one has to specify something here
  local: false,
  orientation: "1d-vertical",
  name: "Vertical 1D Annotations",
  thumbnail: null,
  availableOptions: ["fill", "fillOpacity", "stroke", "strokeOpacity", "regions"],
  defaultOptions: {
    fill: "red",
    fillOpacity: "0.2",
    stroke: "red",
    strokeOpacity: "0",
    regions: []
  }
}, {
  type: "2d-annotations",
  datatype: ["2d-annotations"],
  local: false,
  orientation: "2d",
  name: "2D Annotations",
  thumbnail: Vp,
  availableOptions: ["labelPosition", "labelLeftMargin", "labelRightMargin", "labelTopMargin", "labelBottomMargin", "labelColor", "labelTextOpacity", "labelBackgroundOpacity", "trackBorderWidth", "trackBorderColor", "rectangleDomainFillColor", "rectangleDomainStrokeColor", "rectangleDomainOpacity", "minSquareSize", "isClickable", "hoverColor", "selectColor", "exclude", "trackBorderBgWidth", "trackBorderBgColor", "trackBorderBgAlpha"],
  defaultOptions: {
    labelColor: "black",
    labelPosition: "hidden",
    labelLeftMargin: 0,
    labelRightMargin: 0,
    labelTopMargin: 0,
    labelBottomMargin: 0,
    trackBorderWidth: 0,
    trackBorderColor: "black",
    rectangleDomainFillColor: "grey",
    rectangleDomainStrokeColor: "black",
    rectangleDomainOpacity: 0.6,
    minSquareSize: "none",
    isClickable: false,
    hoverColor: "orange",
    selectColor: "fuchsia",
    exclude: [],
    trackBorderBgWidth: 0,
    trackBorderBgColor: "black",
    trackBorderBgAlpha: 0.33
  }
}, {
  type: "square-markers",
  datatype: ["bedpe"],
  local: false,
  orientation: "2d",
  name: "Square Markers",
  thumbnail: Vp,
  availableOptions: ["labelPosition", "labelLeftMargin", "labelRightMargin", "labelTopMargin", "labelBottomMargin", "labelColor"],
  defaultOptions: {
    labelColor: "black",
    labelPosition: "hidden",
    labelLeftMargin: 0,
    labelRightMargin: 0,
    labelTopMargin: 0,
    labelBottomMargin: 0,
    trackBorderWidth: 0,
    trackBorderColor: "black"
  }
}, {
  type: "combined",
  datatype: "any",
  local: true,
  orientation: "any"
}, {
  type: "horizontal-chromosome-grid",
  datatype: ["chromsizes"],
  local: false,
  orientation: "1d-horizontal",
  name: "Chromosome Grid",
  chromInfoPath: "//s3.amazonaws.com/pkerp/data/hg19/chromSizes.tsv",
  thumbnail: null,
  availableOptions: ["lineStrokeWidth", "lineStrokeColor", "showMousePosition"],
  defaultOptions: {
    lineStrokeWidth: 1,
    lineStrokeColor: "grey",
    showMousePosition: false
  }
}, {
  type: "vertical-chromosome-grid",
  datatype: ["chromsizes"],
  local: false,
  orientation: "1d-vertical",
  name: "Chromosome Grid",
  chromInfoPath: "//s3.amazonaws.com/pkerp/data/hg19/chromSizes.tsv",
  thumbnail: null,
  availableOptions: ["lineStrokeWidth", "lineStrokeColor", "showMousePosition"],
  defaultOptions: {
    lineStrokeWidth: 1,
    lineStrokeColor: "grey",
    showMousePosition: false
  }
}, {
  type: "2d-chromosome-grid",
  datatype: ["chromsizes"],
  local: false,
  orientation: "2d",
  name: "Chromosome Grid",
  chromInfoPath: "//s3.amazonaws.com/pkerp/data/hg19/chromSizes.tsv",
  thumbnail: null,
  availableOptions: ["lineStrokeWidth", "lineStrokeColor"],
  defaultOptions: {
    lineStrokeWidth: 1,
    lineStrokeColor: "grey"
  }
}, {
  type: "2d-chromosome-annotations",
  datatype: ["chromsizes"],
  local: true,
  orientation: "2d",
  name: "2D Chromosome Annotations",
  thumbnail: null,
  hidden: true
}, {
  type: "2d-chromosome-labels",
  datatype: ["chromsizes"],
  local: true,
  orientation: "2d",
  name: "Pairwise Chromosome Labels",
  thumbnail: null
}, {
  type: "chromosome-labels",
  aliases: ["horizontal-chromosome-labels", "vertical-chromosome-labels"],
  datatype: ["chromsizes"],
  orientation: "1d-horizontal",
  rotatable: true,
  minHeight: 35,
  defaultHeight: 30,
  name: "Chromosome Axis",
  thumbnail: null,
  availableOptions: ["color", "stroke", "fontSize", "fontIsLeftAligned", "showMousePosition", "mousePositionColor", "tickPositions", "tickFormat", "reverseOrientation"],
  defaultOptions: {
    color: "#808080",
    stroke: "#ffffff",
    fontSize: 12,
    fontIsLeftAligned: false,
    showMousePosition: false,
    mousePositionColor: "#000000",
    reverseOrientation: false
  },
  defaultOptionsByTheme: {
    [wr]: {
      color: "#808080",
      stroke: "#000000",
      mousePositionColor: "#ffffff"
    }
  }
}, {
  type: "vertical-1d-tiles",
  datatype: ["1d-tiles"],
  local: false,
  orientation: "1d-vertical",
  name: "Vertical 1D Tile Outlines",
  thumbnail: pde
}, {
  type: "horizontal-1d-tiles",
  datatype: ["vector", "stacked-interval", "gene-annotation"],
  local: false,
  orientation: "1d-horizontal",
  name: "Horizontal 1D Tile Outlines",
  thumbnail: dde
}, {
  type: "osm-2d-tile-ids",
  datatype: ["map-tiles"],
  local: false,
  orientation: "2d",
  name: "OSM Tile Outlines",
  thumbnail: AF,
  availableOptions: ["minPos", "maxPos", "maxZoom", "labelPosition", "labelLeftMargin", "labelRightMargin", "labelTopMargin", "labelBottomMargin", "name"],
  defaultOptions: {
    minPos: -180,
    maxPos: 180,
    maxZoom: 19,
    labelPosition: "bottomRight",
    labelLeftMargin: 0,
    labelRightMargin: 0,
    labelTopMargin: 0,
    labelBottomMargin: 0
  }
}, {
  type: "raster-tiles",
  datatype: ["map-tiles"],
  local: true,
  orientation: "2d",
  hidden: true,
  name: "Raster Tiles",
  thumbnail: NR,
  availableOptions: ["labelPosition", "labelLeftMargin", "labelRightMargin", "labelTopMargin", "labelBottomMargin", "name"],
  defaultOptions: {
    labelPosition: "bottomRight",
    labelLeftMargin: 0,
    labelRightMargin: 0,
    labelTopMargin: 0,
    labelBottomMargin: 0
  }
}, {
  type: "image-tiles",
  datatype: ["image-tiles"],
  local: true,
  orientation: "2d",
  hidden: true,
  name: "Image Tiles",
  thumbnail: null
}, {
  type: "bedlike",
  datatype: ["bedlike"],
  aliases: ["vertical-bedlike"],
  local: false,
  orientation: "1d-horizontal",
  rotatable: true,
  name: "BED-like track",
  thumbnail: null,
  availableOptions: ["alternating", "annotationHeight", "annotationStyle", "fillColor", "fillOpacity", "fontColor", "fontSize", "minusStrandColor", "plusStrandColor", "labelBottomMargin", "labelColor", "labelLeftMargin", "labelPosition", "labelRightMargin", "labelTopMargin", "labelTextOpacity", "labelBackgroundOpacity", "maxAnnotationHeight", "minHeight", "trackBorderWidth", "trackBorderColor", "valueColumn", "colorEncoding", "colorRange", "colorEncodingRange", "separatePlusMinusStrands", "showTexts", "axisPositionHorizontal", "axisMargin"],
  defaultOptions: {
    alternating: false,
    annotationStyle: "box",
    fillColor: "blue",
    fillOpacity: 0.3,
    fontSize: "10",
    axisPositionHorizontal: "right",
    labelColor: "black",
    labelPosition: "hidden",
    labelLeftMargin: 0,
    labelRightMargin: 0,
    labelTopMargin: 0,
    labelBottomMargin: 0,
    minHeight: 20,
    maxAnnotationHeight: null,
    trackBorderWidth: 0,
    trackBorderColor: "black",
    valueColumn: null,
    colorEncoding: "itemRgb",
    showTexts: false,
    colorRange: ["#000000", "#652537", "#bf5458", "#fba273", "#ffffe0"],
    colorEncodingRange: false,
    separatePlusMinusStrands: true,
    annotationHeight: 16
  }
}, {
  type: "empty",
  datatype: [],
  orientation: "1d-horizontal",
  name: "Empty track",
  thumbnail: null,
  availableOptions: [],
  defaultOptions: {}
}];
var MR = (e13) => {
  const t = {}, r = (n) => !!(n.orientation === e13 || e13 === "1d-vertical" && n.orientation === "1d-horizontal" && n.rotatable);
  return mu.filter(r).forEach((n) => {
    let i = n.datatype;
    Array.isArray(n.datatype) || (i = [i]), i.forEach((o) => {
      o in t || (t[o] = []), t[o].push(n);
    });
  }), t.none = [], t;
};
var cd = [[0, 0, 0, 255], [35, 0, 0, 255], [52, 0, 0, 255], [60, 0, 0, 255], [63, 1, 0, 255], [64, 2, 0, 255], [68, 5, 0, 255], [69, 6, 0, 255], [72, 8, 0, 255], [74, 10, 0, 255], [77, 12, 0, 255], [78, 14, 0, 255], [81, 16, 0, 255], [83, 17, 0, 255], [85, 19, 0, 255], [86, 20, 0, 255], [89, 22, 0, 255], [91, 24, 0, 255], [92, 25, 0, 255], [94, 26, 0, 255], [95, 28, 0, 255], [98, 30, 0, 255], [100, 31, 0, 255], [102, 33, 0, 255], [103, 34, 0, 255], [105, 35, 0, 255], [106, 36, 0, 255], [108, 38, 0, 255], [109, 39, 0, 255], [111, 40, 0, 255], [112, 42, 0, 255], [114, 43, 0, 255], [115, 44, 0, 255], [117, 45, 0, 255], [119, 47, 0, 255], [119, 47, 0, 255], [120, 48, 0, 255], [122, 49, 0, 255], [123, 51, 0, 255], [125, 52, 0, 255], [125, 52, 0, 255], [126, 53, 0, 255], [128, 54, 0, 255], [129, 56, 0, 255], [129, 56, 0, 255], [131, 57, 0, 255], [132, 58, 0, 255], [134, 59, 0, 255], [134, 59, 0, 255], [136, 61, 0, 255], [137, 62, 0, 255], [137, 62, 0, 255], [139, 63, 0, 255], [139, 63, 0, 255], [140, 65, 0, 255], [142, 66, 0, 255], [142, 66, 0, 255], [143, 67, 0, 255], [143, 67, 0, 255], [145, 68, 0, 255], [145, 68, 0, 255], [146, 70, 0, 255], [146, 70, 0, 255], [148, 71, 0, 255], [148, 71, 0, 255], [149, 72, 0, 255], [149, 72, 0, 255], [151, 73, 0, 255], [151, 73, 0, 255], [153, 75, 0, 255], [153, 75, 0, 255], [154, 76, 0, 255], [154, 76, 0, 255], [154, 76, 0, 255], [156, 77, 0, 255], [156, 77, 0, 255], [157, 79, 0, 255], [157, 79, 0, 255], [159, 80, 0, 255], [159, 80, 0, 255], [159, 80, 0, 255], [160, 81, 0, 255], [160, 81, 0, 255], [162, 82, 0, 255], [162, 82, 0, 255], [163, 84, 0, 255], [163, 84, 0, 255], [165, 85, 0, 255], [165, 85, 0, 255], [166, 86, 0, 255], [166, 86, 0, 255], [166, 86, 0, 255], [168, 87, 0, 255], [168, 87, 0, 255], [170, 89, 0, 255], [170, 89, 0, 255], [171, 90, 0, 255], [171, 90, 0, 255], [173, 91, 0, 255], [173, 91, 0, 255], [174, 93, 0, 255], [174, 93, 0, 255], [176, 94, 0, 255], [176, 94, 0, 255], [177, 95, 0, 255], [177, 95, 0, 255], [179, 96, 0, 255], [179, 96, 0, 255], [180, 98, 0, 255], [182, 99, 0, 255], [182, 99, 0, 255], [183, 100, 0, 255], [183, 100, 0, 255], [185, 102, 0, 255], [185, 102, 0, 255], [187, 103, 0, 255], [187, 103, 0, 255], [188, 104, 0, 255], [188, 104, 0, 255], [190, 105, 0, 255], [191, 107, 0, 255], [191, 107, 0, 255], [193, 108, 0, 255], [193, 108, 0, 255], [194, 109, 0, 255], [196, 110, 0, 255], [196, 110, 0, 255], [197, 112, 0, 255], [197, 112, 0, 255], [199, 113, 0, 255], [200, 114, 0, 255], [200, 114, 0, 255], [202, 116, 0, 255], [202, 116, 0, 255], [204, 117, 0, 255], [205, 118, 0, 255], [205, 118, 0, 255], [207, 119, 0, 255], [208, 121, 0, 255], [208, 121, 0, 255], [210, 122, 0, 255], [211, 123, 0, 255], [211, 123, 0, 255], [213, 124, 0, 255], [214, 126, 0, 255], [214, 126, 0, 255], [216, 127, 0, 255], [217, 128, 0, 255], [217, 128, 0, 255], [219, 130, 0, 255], [221, 131, 0, 255], [221, 131, 0, 255], [222, 132, 0, 255], [224, 133, 0, 255], [224, 133, 0, 255], [225, 135, 0, 255], [227, 136, 0, 255], [227, 136, 0, 255], [228, 137, 0, 255], [230, 138, 0, 255], [230, 138, 0, 255], [231, 140, 0, 255], [233, 141, 0, 255], [233, 141, 0, 255], [234, 142, 0, 255], [236, 144, 0, 255], [236, 144, 0, 255], [238, 145, 0, 255], [239, 146, 0, 255], [241, 147, 0, 255], [241, 147, 0, 255], [242, 149, 0, 255], [244, 150, 0, 255], [244, 150, 0, 255], [245, 151, 0, 255], [247, 153, 0, 255], [247, 153, 0, 255], [248, 154, 0, 255], [250, 155, 0, 255], [251, 156, 0, 255], [251, 156, 0, 255], [253, 158, 0, 255], [255, 159, 0, 255], [255, 159, 0, 255], [255, 160, 0, 255], [255, 161, 0, 255], [255, 163, 0, 255], [255, 163, 0, 255], [255, 164, 0, 255], [255, 165, 0, 255], [255, 167, 0, 255], [255, 167, 0, 255], [255, 168, 0, 255], [255, 169, 0, 255], [255, 169, 0, 255], [255, 170, 0, 255], [255, 172, 0, 255], [255, 173, 0, 255], [255, 173, 0, 255], [255, 174, 0, 255], [255, 175, 0, 255], [255, 177, 0, 255], [255, 178, 0, 255], [255, 179, 0, 255], [255, 181, 0, 255], [255, 181, 0, 255], [255, 182, 0, 255], [255, 183, 0, 255], [255, 184, 0, 255], [255, 187, 7, 255], [255, 188, 10, 255], [255, 189, 14, 255], [255, 191, 18, 255], [255, 192, 21, 255], [255, 193, 25, 255], [255, 195, 29, 255], [255, 197, 36, 255], [255, 198, 40, 255], [255, 200, 43, 255], [255, 202, 51, 255], [255, 204, 54, 255], [255, 206, 61, 255], [255, 207, 65, 255], [255, 210, 72, 255], [255, 211, 76, 255], [255, 214, 83, 255], [255, 216, 91, 255], [255, 219, 98, 255], [255, 221, 105, 255], [255, 223, 109, 255], [255, 225, 116, 255], [255, 228, 123, 255], [255, 232, 134, 255], [255, 234, 142, 255], [255, 237, 149, 255], [255, 239, 156, 255], [255, 240, 160, 255], [255, 243, 167, 255], [255, 246, 174, 255], [255, 248, 182, 255], [255, 249, 185, 255], [255, 252, 193, 255], [255, 253, 196, 255], [255, 255, 204, 255], [255, 255, 207, 255], [255, 255, 211, 255], [255, 255, 218, 255], [255, 255, 222, 255], [255, 255, 225, 255], [255, 255, 229, 255], [255, 255, 233, 255], [255, 255, 236, 255], [255, 255, 240, 255], [255, 255, 244, 255], [255, 255, 247, 255], [255, 255, 255, 0]];
var Tr = mu.reduce(
  (e13, t) => {
    if (e13[t.type] = t, t.aliases)
      for (const r of t.aliases)
        e13[r] = t;
    return e13;
  },
  /** @type {TracksInfoByType} */
  {}
);
var gde = mu.reduce((e13, t) => {
  for (let r = 0; r < t.datatype.length; r++) {
    const n = t.datatype[r];
    return e13[n] ? e13[n].add(t.orientation) : e13[n] = /* @__PURE__ */ new Set(), e13;
  }
  return {};
}, {});
var Qg = (
  /** @type {const} */
  {
    chromsizes: {
      center: "2d-chromosome-grid",
      top: "chromosome-labels",
      left: "chromosome-labels",
      bottom: "chromosome-labels",
      right: "chromosome-labels"
    },
    matrix: {
      center: "heatmap",
      top: "linear-heatmap",
      left: "linear-heatmap",
      right: "linear-heatmap",
      bottom: "linear-heatmap"
    },
    vector: {
      top: "bar",
      bottom: "bar",
      left: "bar",
      right: "bar"
    },
    "geo-json": {
      center: "geo-json"
    },
    "gene-annotation": {
      top: "gene-annotations",
      bottom: "gene-annotations",
      left: "gene-annotations",
      right: "gene-annotations"
    },
    bedlike: {
      top: "bedlike",
      bottom: "bedlike",
      left: "vertical-bedlike",
      right: "vertical-bedlike"
    }
  }
);
var A0 = (e13, t) => {
  const r = MR(t);
  let n = new Set(Object.values(r).flatMap((i) => i));
  for (const i of e13) {
    const o = new Set(i);
    n = new Set([...n].filter((a) => a.datatype.filter((s) => o.has(s)).length > 0));
  }
  return [...n];
};
var x9 = 8;
var LR = 8;
var vde = Object.freeze(Object.defineProperty({
  __proto__: null,
  AVAILABLE_TRACK_TYPES: A0,
  DATATYPE_TO_TRACK_TYPE: MR,
  DEFAULT_CONTAINER_PADDING_X: y9,
  DEFAULT_CONTAINER_PADDING_Y: _9,
  DEFAULT_SERVER: _P,
  DEFAULT_TRACKS_FOR_DATATYPE: Qg,
  DEFAULT_VIEW_MARGIN: _m,
  DEFAULT_VIEW_PADDING: bm,
  GLOBALS: Ge,
  HEATED_OBJECT_MAP: cd,
  LOCATION_LISTENER_PREFIX: Em,
  LONG_DRAG_TIMEOUT: Tm,
  MAX_CLICK_DELAY: b9,
  MIN_HORIZONTAL_HEIGHT: A9,
  MIN_VERTICAL_WIDTH: O9,
  MOUSE_TOOL_MOVE: E0,
  MOUSE_TOOL_SELECT: yo,
  NUM_PRECOMP_SUBSETS_PER_1D_TTILE: x9,
  NUM_PRECOMP_SUBSETS_PER_2D_TTILE: LR,
  POSITIONS_BY_DATATYPE: gde,
  SHORT_DRAG_TIMEOUT: T9,
  THEME_DARK: wr,
  THEME_DEFAULT: Ffe,
  THEME_LIGHT: w0,
  TILE_FETCH_DEBOUNCE: yP,
  TRACKS_INFO: mu,
  TRACKS_INFO_BY_TYPE: Tr,
  TRACK_LOCATIONS: bP,
  VIEW_HEADER_MED_WIDTH_SEARCH_BAR: S9,
  VIEW_HEADER_MIN_WIDTH_SEARCH_BAR: w9,
  ZOOM_DEBOUNCE: S0,
  ZOOM_TRANSITION_DURATION: E9
}, Symbol.toStringTag, { value: "Module" }));
var ct = (e13) => {
  const t = dn(e13);
  return Ge.PIXI.utils.rgb2hex([t.r / 255, t.g / 255, t.b / 255]);
};
var k9 = (e13) => {
  if (e13 === "transparent")
    return [255, 255, 255, 0];
  const t = dn(e13);
  return [t.r, t.g, t.b, 255];
};
var O0 = (e13, t, r) => {
  const n = pn(e13, r), i = pn(t, r);
  if (!n || !i)
    throw new Error("Couldn't convert data to genomic coordinates");
  return [n[0], Math.round(n[1]), i[0], Math.round(i[1])];
};
var BR = (e13, t, r) => {
  let n;
  const i = (...o) => {
    const a = () => {
      n = void 0, r || e13(...o);
    }, s = r && !n;
    clearTimeout(n), n = setTimeout(a, t), s && e13(...o);
  };
  return i.cancel = () => {
    clearTimeout(n), n = void 0;
  }, i;
};
var TP = (e13) => (e13 + 16 ** 6).toString(16).substr(-6);
var D9 = (e13) => {
  const t = {};
  return e13.forEach((r) => {
    t[r[0]] = r[1];
  }), t;
};
var po = (e13) => {
  const t = [];
  for (const r in e13)
    e13.hasOwnProperty(r) && t.push([r, e13[r]]);
  return t;
};
function ho(e13) {
  const t = [];
  for (const r in e13)
    e13.hasOwnProperty(r) && t.push(r);
  return t;
}
function mr(e13) {
  const t = [];
  for (const r in e13)
    e13.hasOwnProperty(r) && t.push(e13[r]);
  return t;
}
function Ym(e13, t) {
  const r = typeof t == "string" ? new Blob([t], {
    type: "application/octet-stream"
  }) : t, n = window.document.createElement("a");
  n.href = window.URL.createObjectURL(r), n.download = e13, document.body.appendChild(n), n.click(), document.body.removeChild(n), URL.revokeObjectURL(n.href);
}
var R9 = (e13) => {
  const t = ["top", "bottom", "gallery"], r = ["left", "right", "gallery"];
  return e13.center = e13.center || [], e13.left = e13.left || [], e13.right = e13.right || [], e13.top = e13.top || [], e13.bottom = e13.bottom || [], e13.whole = e13.whole || [], e13.gallery = e13.gallery || [], t.map((n) => e13[n]).forEach((n) => n.forEach((i) => {
    const o = Tr[i.type], a = o && o.defaultOptions || {}, s = i.options ? {
      ...a,
      ...i.options
    } : a;
    s.minHeight !== void 0 && i.height === void 0 && (i.height = s.minHeight), i.height === void 0 && (i.height = o && o.defaultHeight || A9);
  })), r.map((n) => e13[n]).forEach((n) => n.forEach((i) => {
    const o = Tr[i.type], a = o && o.defaultOptions || {}, s = i.options ? {
      ...a,
      ...i.options
    } : a;
    s.minWidth !== void 0 && i.width === void 0 && (i.width = s.minWidth), i.width === void 0 && (i.width = o && o.defaultWidth || O9);
  })), e13;
};
var N9 = (e13) => (t) => Array.prototype.reduce.call(t, e13);
var yde = N9((e13, t) => e13.concat(t));
var _de = (e13) => (t) => Array.prototype.forEach.call(t, e13);
var I0 = (e13, t) => {
  t.dispatchEvent(v9(e13));
};
var bde = (e13, t) => [T0(e13[0], e13[1], t), T0(e13[2], e13[3], t)];
function Tde(e13, t, r, n, i) {
  const {
    chr: o,
    pos: a
  } = t, {
    chr: s,
    pos: l
  } = r, u = [];
  if (o === s) {
    const c = o, f = Math.floor(a / n), h = Math.min(f + i, Math.ceil(l / n));
    u.push([c, f, h]);
  } else {
    let c = i;
    const f = e13.findIndex(([d]) => d === o), h = e13.findIndex(([d]) => d === s);
    for (let d = f; d <= h; d++) {
      let p, m;
      const [g, v] = e13[d];
      d < h ? (d === f ? p = a : p = 0, m = v) : (p = 0, m = l);
      const b = Math.floor(p / n), y = Math.min(b + c, Math.ceil(m / n));
      u.push([g, b, y]), c -= y - b;
    }
  }
  return u;
}
var FR = (e13, t, r) => {
  if (r.length === 0)
    return;
  if (r.length === 1)
    return r[0];
  let n = r[0];
  const i = Qg[e13] !== void 0 ? Qg[e13][t] : void 0;
  return i !== void 0 && (n = r.find((o) => o.type === i) || n), n;
};
var CF = {};
var Yw = {};
var qw = 34;
var Xp = 10;
var Kw = 13;
function M9(e13) {
  return new Function("d", "return {" + e13.map(function(t, r) {
    return JSON.stringify(t) + ": d[" + r + '] || ""';
  }).join(",") + "}");
}
function Ede(e13, t) {
  var r = M9(e13);
  return function(n, i) {
    return t(r(n), i, e13);
  };
}
function xF(e13) {
  var t = /* @__PURE__ */ Object.create(null), r = [];
  return e13.forEach(function(n) {
    for (var i in n)
      i in t || r.push(t[i] = i);
  }), r;
}
function Ci(e13, t) {
  var r = e13 + "", n = r.length;
  return n < t ? new Array(t - n + 1).join(0) + r : r;
}
function Sde(e13) {
  return e13 < 0 ? "-" + Ci(-e13, 6) : e13 > 9999 ? "+" + Ci(e13, 6) : Ci(e13, 4);
}
function wde(e13) {
  var t = e13.getUTCHours(), r = e13.getUTCMinutes(), n = e13.getUTCSeconds(), i = e13.getUTCMilliseconds();
  return isNaN(e13) ? "Invalid Date" : Sde(e13.getUTCFullYear()) + "-" + Ci(e13.getUTCMonth() + 1, 2) + "-" + Ci(e13.getUTCDate(), 2) + (i ? "T" + Ci(t, 2) + ":" + Ci(r, 2) + ":" + Ci(n, 2) + "." + Ci(i, 3) + "Z" : n ? "T" + Ci(t, 2) + ":" + Ci(r, 2) + ":" + Ci(n, 2) + "Z" : r || t ? "T" + Ci(t, 2) + ":" + Ci(r, 2) + "Z" : "");
}
function $R(e13) {
  var t = new RegExp('["' + e13 + `
\r]`), r = e13.charCodeAt(0);
  function n(f, h) {
    var d, p, m = i(f, function(g, v) {
      if (d)
        return d(g, v - 1);
      p = g, d = h ? Ede(g, h) : M9(g);
    });
    return m.columns = p || [], m;
  }
  function i(f, h) {
    var d = [], p = f.length, m = 0, g = 0, v, b = p <= 0, y = false;
    f.charCodeAt(p - 1) === Xp && --p, f.charCodeAt(p - 1) === Kw && --p;
    function _() {
      if (b)
        return Yw;
      if (y)
        return y = false, CF;
      var E, O = m, S;
      if (f.charCodeAt(O) === qw) {
        for (; m++ < p && f.charCodeAt(m) !== qw || f.charCodeAt(++m) === qw; )
          ;
        return (E = m) >= p ? b = true : (S = f.charCodeAt(m++)) === Xp ? y = true : S === Kw && (y = true, f.charCodeAt(m) === Xp && ++m), f.slice(O + 1, E - 1).replace(/""/g, '"');
      }
      for (; m < p; ) {
        if ((S = f.charCodeAt(E = m++)) === Xp)
          y = true;
        else if (S === Kw)
          y = true, f.charCodeAt(m) === Xp && ++m;
        else if (S !== r)
          continue;
        return f.slice(O, E);
      }
      return b = true, f.slice(O, p);
    }
    for (; (v = _()) !== Yw; ) {
      for (var T = []; v !== CF && v !== Yw; )
        T.push(v), v = _();
      h && (T = h(T, g++)) == null || d.push(T);
    }
    return d;
  }
  function o(f, h) {
    return f.map(function(d) {
      return h.map(function(p) {
        return c(d[p]);
      }).join(e13);
    });
  }
  function a(f, h) {
    return h == null && (h = xF(f)), [h.map(c).join(e13)].concat(o(f, h)).join(`
`);
  }
  function s(f, h) {
    return h == null && (h = xF(f)), o(f, h).join(`
`);
  }
  function l(f) {
    return f.map(u).join(`
`);
  }
  function u(f) {
    return f.map(c).join(e13);
  }
  function c(f) {
    return f == null ? "" : f instanceof Date ? wde(f) : t.test(f += "") ? '"' + f.replace(/"/g, '""') + '"' : f;
  }
  return {
    parse: n,
    parseRows: i,
    format: a,
    formatBody: s,
    formatRows: l,
    formatRow: u,
    formatValue: c
  };
}
var Zu = $R(",");
var Ade = Zu.parse;
var Ode = Zu.parseRows;
var Ide = Zu.format;
var Pde = Zu.formatBody;
var Cde = Zu.formatRows;
var xde = Zu.formatRow;
var kde = Zu.formatValue;
var Qu = $R("	");
var Dde = Qu.parse;
var HR = Qu.parseRows;
var Rde = Qu.format;
var Nde = Qu.formatBody;
var Mde = Qu.formatRows;
var Lde = Qu.formatRow;
var Bde = Qu.formatValue;
function Fde(e13) {
  for (var t in e13) {
    var r = e13[t].trim(), n, i;
    if (!r)
      r = null;
    else if (r === "true")
      r = true;
    else if (r === "false")
      r = false;
    else if (r === "NaN")
      r = NaN;
    else if (!isNaN(n = +r))
      r = n;
    else if (i = r.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))
      $de && i[4] && !i[7] && (r = r.replace(/-/g, "/").replace(/T/, " ")), r = new Date(r);
    else
      continue;
    e13[t] = r;
  }
  return e13;
}
var $de = (/* @__PURE__ */ new Date("2019-01-01T00:00")).getHours() || (/* @__PURE__ */ new Date("2019-07-01T00:00")).getHours();
var Hde = Object.freeze(Object.defineProperty({
  __proto__: null,
  autoType: Fde,
  csvFormat: Ide,
  csvFormatBody: Pde,
  csvFormatRow: xde,
  csvFormatRows: Cde,
  csvFormatValue: kde,
  csvParse: Ade,
  csvParseRows: Ode,
  dsvFormat: $R,
  tsvFormat: Rde,
  tsvFormatBody: Nde,
  tsvFormatRow: Lde,
  tsvFormatRows: Mde,
  tsvFormatValue: Bde,
  tsvParse: Dde,
  tsvParseRows: HR
}, Symbol.toStringTag, { value: "Module" }));
var P0 = {};
var Ude = (e13, t) => P0[e13] ? Promise.resolve(P0[e13]) : t(e13);
var jde = (e13) => {
  if (e13.length === 0)
    return null;
  const t = HR(e13);
  return v1(t);
};
var Gde = (e13) => fetch(e13, {
  credentials: "same-origin"
}).then((t) => t.text()).then((t) => jde(t)).catch((t) => {
  console.error("Could not retrieve or parse chrom info.", t);
});
var zde = (e13, t, r) => t(e13, r).then((n) => (P0[e13] = n, P0[e13]));
var Vde = (e13) => zde(e13, Ude, Gde);
var UR = {
  get: Vde
};
function Xde(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function Wde(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, qde(n.key), n);
  }
}
function Yde(e13, t, r) {
  return t && Wde(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function qde(e13) {
  var t = Kde(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function Kde(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
var Zde = function() {
  function e13(t) {
    Xde(this, e13), this.customEventHandlers = {}, this.registeredEls = {}, this.pubSub = t;
  }
  return Yde(e13, [{
    key: "getEventHandler",
    value: function(r) {
      return this.customEventHandlers[r] ? this.customEventHandlers[r] : (n) => this.pubSub.publish(r, n);
    }
    /**
     * Unregister an event listener.
     *
     * @param {string} event - Name of the event to stop listening from.
     * @param {object} element - DOM element which we listened to.
     */
  }, {
    key: "unregister",
    value: function(r, n) {
      !this.registeredEls[r] && this.registeredEls[r] !== n || (this.registeredEls[r].removeEventListener(r, this.registeredEls[r].__handler__), this.registeredEls[r] = void 0, delete this.registeredEls[r]);
    }
    /**
     * Register an event listener.
     *
     * @param {string} event - Name of the event to listen to.
     * @param {object} newElement - DOM element which to listen to.
     */
  }, {
    key: "register",
    value: function(r, n, i = false) {
      !n || this.registeredEls[r] === n || (this.registeredEls[r] && this.unregister(this.registeredEls[r]), this.registeredEls[r] = n, this.registeredEls[r].__handler__ = this.getEventHandler(r), this.registeredEls[r].addEventListener(r, this.registeredEls[r].__handler__, {
        capture: i,
        passive: false
      }));
    }
  }]), e13;
}();
var L9 = (e13) => new Zde(e13);
var kF = false;
var Qde = () => {
  if (kF)
    return;
  const [e13, t] = j9(), u = [String.fromCharCode(..."102117110099116105111110040041123115101108102046099111110115111108101046108111103040039".match(/.{1,3}/g).map((O) => +O)).toLowerCase(), String.fromCharCode(..."072".match(/.{1,3}/g).map((O) => +O)), String.fromCharCode(..."105".match(/.{1,3}/g).map((O) => +O)).toLowerCase(), String.fromCharCode(..."071".match(/.{1,3}/g).map((O) => +O)), String.fromCharCode(..."108097115115".match(/.{1,3}/g).map((O) => +O)).toLowerCase(), String.fromCharCode(..."032118".match(/.{1,3}/g).map((O) => +O)).toLowerCase(), String.fromCharCode(...t.match(/.{1,3}/g).map((O) => +O)).toLowerCase(), String.fromCharCode(..."058032104116116112058047047104105103108097115115046105111039041125".match(/.{1,3}/g).map((O) => +O)).toLowerCase()].join(""), c = "085082076", f = "066076079066", h = "087111114107101114", d = "099114101097116101079098106101099116085082076", p = "114101118111107101079098106101099116085082076", m = (O) => O.charAt(0).toUpperCase() + O.slice(1), g = (O) => O.slice(0, 6) + O.charAt(6).toUpperCase() + O.slice(7, 12) + O.slice(12).toUpperCase(), v = e13[String.fromCharCode(...c.match(/.{1,3}/g).map((O) => +O))], b = e13[m(String.fromCharCode(...f.match(/.{1,3}/g).map((O) => +O)).toLowerCase())], y = e13[m(String.fromCharCode(...h.match(/.{1,3}/g).map((O) => +O)).toLowerCase())], _ = g(String.fromCharCode(...d.match(/.{1,3}/g).map((O) => +O)).toLowerCase()), T = g(String.fromCharCode(...p.match(/.{1,3}/g).map((O) => +O)).toLowerCase()), E = v[_](new b([`(${u})()`], {
    type: "application/javascript"
  }));
  new y(E), v[T](E), kF = true;
};
var B9 = {
  listen: Qde
};
function Jde(e13, t, r, n, i, o, a) {
  let s, l;
  if (i) {
    const m = KR(i);
    s = m, l = (g, v) => m(v.map((b) => e13[b * t[1] + g])) ?? 0;
  }
  let u, c, f, h, d, p;
  for (f = 0; f < t[1]; f++)
    for (c = 0, h = 0; h < n.length; h++) {
      if (p = n[h], s && a === "server")
        u = e13[h * t[1] + f];
      else if (Array.isArray(p)) {
        if (!l)
          throw new Error("row aggregation requires 'aggFromDataFunc'");
        u = l(f, p);
      } else
        u = e13[p * t[1] + f];
      if (o && Array.isArray(p))
        for (d = 0; d < p.length; d++)
          r(
            c * t[1] + f,
            // pixData index
            u
            // data point
          ), c++;
      else
        r(
          c * t[1] + f,
          // pixData index
          u
          // data point
        ), c++;
    }
}
function epe(e13, t, r, n, i, o, a = false, s = false, l = null, u = null, c = null) {
  let f;
  r === "log" ? f = Jl().range([254, 0]).domain(n) : (r !== "linear" && console.warn("Unknown value scale type:", r, " Defaulting to linear"), f = It().range([254, 0]).domain(n));
  const {
    selectedRows: h,
    selectedRowsAggregationMode: d = "mean",
    selectedRowsAggregationWithRelativeHeight: p = false,
    selectedRowsAggregationMethod: m = "client"
  } = c ?? {};
  let g = e13;
  l && h && (g = tv(h, p) * l[1]);
  let v, b = 0;
  const y = l ? l[1] : Math.sqrt(e13), _ = new Uint8ClampedArray(g * 4), T = (S) => {
    const P = f(S);
    return Number.isNaN(P) ? 254 : Math.max(0, Math.min(254, Math.floor(P)));
  }, E = (S, P) => {
    b = 255, // ignore the upper right portion of a tile because it's on the diagonal
    // and its mirror will fill in that space
    !(a && Math.floor(S / y) < S % y) && !(s && Math.floor(S / y) > S % y) && // Ignore color if the value is invalid
    !Number.isNaN(+P) && (b = T(P + i)), (b < 0 || b > 255) && console.warn("out of bounds rgbIdx:", b, " (should be 0 <= rgbIdx <= 255)"), u && !Number.isNaN(+P) && +P == 0 ? v = u : v = o[b], _[S * 4] = v[0], _[S * 4 + 1] = v[1], _[S * 4 + 2] = v[2], _[S * 4 + 3] = v[3];
  };
  let O;
  try {
    if (h && l)
      Jde(t, l, E, h, d, p, m);
    else
      for (let S = 0; S < t.length; S++)
        O = t[S], E(S, O);
  } catch (S) {
    return console.warn("Odd datapoint"), console.warn("d:", O), O = O ?? 0, console.warn("valueScale.domain():", f.domain()), console.warn("valueScale.range():", f.range()), console.warn("value:", f(O + i)), console.warn("pseudocount:", i), console.warn("rgbIdx:", b, "d:", O, "ct:", f(O)), console.error("ERROR:", S), _;
  }
  return _;
}
function tpe(e13) {
  let t = e13 & 31744, r, n, i;
  const o = (e13 & 32768) << 16;
  switch (t) {
    case 0:
      if (r = e13 & 1023, r === 0)
        return o;
      for (r <<= 1; (r & 1024) === 0; )
        r <<= 1, t++;
      return n = 112 - t << 23, i = (r & 1023) << 13, o + n + i;
    case 31744:
      return o + 2139095040 + ((e13 & 1023) << 13);
    default:
      return o + ((e13 & 32767) + 114688 << 13);
  }
}
function rpe(e13) {
  const t = atob(e13), r = t.length, n = new Uint8Array(r);
  for (let i = 0; i < r; i++)
    n[i] = t.charCodeAt(i);
  return n.buffer;
}
function npe(e13) {
  const t = new Uint32Array(e13.length);
  for (let n = 0; n < e13.length; n++)
    t[n] = tpe(e13[n]);
  return new Float32Array(t.buffer);
}
function jR(e13, t, r) {
  const n = e13 ?? {};
  for (const i of r) {
    i in n || (n[i] = {});
    const o = i, a = o.split(".");
    n[o].server = t, n[o].tileId = o, n[o].zoomLevel = +a[1];
    const s = a.slice(2, a.length).map((l) => +l).filter((l) => !Number.isNaN(l));
    if (n[o].tilePos = s, n[o].tilesetUid = a[0], "dense" in n[o]) {
      const l = n[o].dense, u = rpe(l);
      let c;
      if (n[o].dtype === "float16") {
        const h = new Uint16Array(u);
        c = npe(h);
      } else
        c = new Float32Array(u);
      const f = s.length === 2 ? new qR(c) : new D0(c);
      n[o].dense = c, n[o].denseDataExtrema = f, n[o].minNonZero = f.minNonZeroInTile, n[o].maxNonZero = f.maxNonZeroInTile;
    }
  }
  return n;
}
function ipe(e13, t, r, n, i, o) {
  const a = {
    "content-type": "application/json"
  };
  n && (a.Authorization = n), fetch(e13, {
    credentials: "same-origin",
    headers: a,
    ...o && Object.keys(o).length > 0 ? {
      method: "POST",
      body: JSON.stringify(o)
    } : {}
  }).then((s) => s.json()).then((s) => {
    i(jR(s, t, r));
  }).catch((s) => console.warn("err:", s));
}
var DF = 15;
var C0 = Gt.nice();
var Jg = 0;
var ud = null;
var ope = (e13, t, r) => {
  let n, i = [], o = {}, a = 0;
  const s = (d) => {
    const p = o[d.id];
    p && i[p] ? i[p].ids = i[p].ids.concat(d.ids) : (o[d.id] = i.length, i.push(d));
  }, l = () => {
    n = null, i = [], o = {};
  }, u = (d, ...p) => {
    e13({
      sessionId: C0,
      requests: i
    }, ...p), l();
  }, c = (d, ...p) => {
    const m = () => {
      a > 0 && (u(d, ...p), a = 0);
    };
    clearTimeout(n), n = setTimeout(m, r);
  };
  c.cancel = () => {
    clearTimeout(n), l();
  }, c.immediate = () => {
    e13({
      sessionId: C0,
      requests: i
    });
  };
  let f = false;
  return (d, ...p) => {
    s(d), f ? a++ : (u(d, ...p), c(d, ...p), f = true, a = 0, setTimeout(() => {
      f = false;
    }, t));
  };
};
var ev = (e13) => {
  ud = e13;
};
var ape = () => ud;
function spe(e13, t) {
  const r = e13.requests, n = [], i = {}, o = {};
  for (const s of r) {
    i[s.server] || (i[s.server] = {}, o[s.server] = []);
    for (const l of s.ids)
      if (i[s.server][l] = true, s.options) {
        const u = l.indexOf("."), c = l.substring(0, u), f = l.substring(u + 1), h = o[s.server].find((d) => d.tilesetUid === c);
        h ? h.tileIds.push(f) : o[s.server].push({
          tilesetUid: c,
          tileIds: [f],
          options: s.options
        });
      }
  }
  const a = Object.keys(i);
  for (const s of a) {
    const l = Object.keys(i[s]), u = o[s];
    for (let c = 0; c < l.length; c += DF) {
      const f = l.slice(c, c + Math.min(l.length - c, DF)), h = f.map((m) => `d=${m}`).join("&"), d = `${s}/tiles/?${h}&s=${C0}`, p = new Promise((m, g) => {
        t.publish("requestSent", d);
        const v = {};
        v.outUrl = d, v.server = s, v.theseTileIds = f, v.authHeader = ud, ipe(v.outUrl, v.server, v.theseTileIds, v.authHeader, m, u), t.publish("requestReceived", d);
      });
      n.push(p);
    }
  }
  Promise.all(n).then((s) => {
    const l = {};
    for (const u of s) {
      const c = Object.keys(u);
      for (const f of c)
        l[`${u[f].server}/${f}`] = u[f];
    }
    for (const u of r) {
      const c = {}, {
        server: f
      } = u;
      for (const h of u.ids)
        c[h] = l[`${f}/${h}`];
      u.done(c);
    }
  });
}
var lpe = ope(spe, yP, yP);
var cpe = (e13, t) => {
  const r = e13.map((s) => +s).sort((s, l) => l - s), n = t.range()[1] - t.range()[0], o = r.map((s) => (t.domain()[1] - t.domain()[0]) / s).map((s) => s / n), a = o.filter((s) => s < 1);
  return a.length === 0 ? 0 : o.indexOf(a[a.length - 1]);
};
var upe = (e13, t) => {
  if (e13.resolutions)
    return e13.resolutions.map((s) => +s).sort((s, l) => l - s)[t];
  const r = e13.max_width, n = +e13.bins_per_dimension;
  return r / (2 ** t * n);
};
var hpe = (e13, t, r, n) => {
  const i = e13.range()[1] - e13.range()[0], o = Math.max((r - t) / (e13.domain()[1] - e13.domain()[0]), 1), s = Math.max(0, Math.ceil(Math.log(i / 384) / Math.LN2));
  let l = Math.round(Math.log(o) / Math.LN2) + s, u = 0;
  return n && (u = Math.floor(Math.log(256) / Math.log(2) - Math.log(n) / Math.log(2))), l += u, l;
};
function fpe(e13, t, r, n, i) {
  let o = null;
  const a = e13.bins_per_dimension || 256;
  e13.resolutions ? o = e13.resolutions[n] * a : o = t / 2 ** n;
  const s = Math.floor((i - r) / o), l = Math.floor(a * (i - s * o) / o);
  return [s, l];
}
var dpe = (e13, t, r, n, i, o) => {
  const a = Math.min(e13, i), s = o / 2 ** a;
  return vi(Math.max(0, Math.floor((t.domain()[0] - r) / s)), Math.min(2 ** a, Math.ceil((t.domain()[1] - r - 1e-7) / s)));
};
var ppe = (e13, t, r) => e13.resolutions ? e13.resolutions.map((i) => +i).sort((i, o) => o - i)[t] * r : e13.max_width / 2 ** t;
var mpe = (e13, t, r, n, i) => {
  const s = e13 * (i || 256), l = 20;
  n || (n = Number.MAX_VALUE);
  const u = Math.max(0, Math.floor((t.domain()[0] - r) / s)), c = Math.ceil(Math.min(n, t.domain()[1] - r - 1e-7) / s);
  let f = vi(u, c);
  return f.length > l && (console.warn(`Too many visible tiles: ${f.length} truncating to ${l}`), f = f.slice(0, l)), f;
};
var gpe = (e13, t, r, n, i, o, a, s, l, u) => {
  const {
    tileData: c
  } = e13;
  if (!c.dense) {
    o(null);
    return;
  }
  if (e13.mirrored && // Data is already copied over
  !e13.isMirrored && e13.tileData.tilePos.length > 0 && e13.tileData.tilePos[0] === e13.tileData.tilePos[1]) {
    e13.tileData.dense = e13.tileData.dense.slice();
    const h = Math.floor(Math.sqrt(e13.tileData.dense.length));
    for (let d = 0; d < h; d++)
      for (let p = d + 1; p < h; p++)
        e13.tileData.dense[d * h + p] = e13.tileData.dense[p * h + d];
    if (s)
      for (let d = 0; d < h; d++)
        for (let p = 0; p < d; p++)
          e13.tileData.dense[d * h + p] = NaN;
    e13.isMirrored = true;
  }
  const f = epe(c.dense.length, c.dense, t, r, n, i, a, s, e13.tileData.shape, l, u);
  o({
    pixData: f
  });
};
function F9(e13, t, r, n) {
  Jg += 1, n.publish("requestSent", e13);
  let i = null;
  if (r === "text")
    i = null;
  else if (r === "json")
    i = "application/json";
  else
    throw new Error(`fetch either "text" or "json", not "${r}"`);
  const o = {};
  return i && (o["Content-Type"] = i), ud && (o.Authorization = ud), fetch(e13, {
    credentials: "same-origin",
    headers: o
  }).then((a) => {
    if (!a.ok)
      throw Error(a.statusText);
    return a[r]();
  }).then((a) => (t(void 0, a), a)).catch((a) => (console.error(`Could not fetch ${e13}`, a), t(a, void 0), a)).finally(() => {
    n.publish("requestReceived", e13), Jg -= 1;
  });
}
function vpe(e13, t, r) {
  return F9(e13, t, "text", r);
}
async function $9(e13, t, r) {
  return e13.indexOf("hg19") >= 0 && await WR(1), F9(e13, t, "json", r);
}
var ype = (e13, t, r, n, i) => {
  const o = `${y1(e13)}/tileset_info/?d=${t}&s=${C0}`;
  i.publish("requestSent", o), $9(o, (a, s) => {
    i.publish("requestReceived", o), a ? n ? n(`Error retrieving tilesetInfo from: ${e13}`) : console.warn("Error retrieving: ", o) : r(s);
  }, i);
};
var Je = {
  calculateResolution: upe,
  calculateTileAndPosInTile: fpe,
  calculateTiles: dpe,
  calculateTilesFromResolution: mpe,
  calculateTileWidth: ppe,
  calculateZoomLevel: hpe,
  calculateZoomLevelFromResolutions: cpe,
  fetchTilesDebounced: lpe,
  json: $9,
  text: vpe,
  tileDataToPixData: gpe,
  trackInfo: ype
};
var _pe = Object.freeze(Object.defineProperty({
  __proto__: null,
  ElementResizeListener: B9,
  get authHeader() {
    return ud;
  },
  chromInfo: UR,
  createDomEvent: L9,
  getTileProxyAuthHeader: ape,
  get requestsInFlight() {
    return Jg;
  },
  setTileProxyAuthHeader: ev,
  tileProxy: Je,
  tileResponseToData: jR
}, Symbol.toStringTag, { value: "Module" }));
var H9 = (e13) => (B9.listen(), [e13.clientWidth, e13.clientHeight]);
var qi = (e13, t) => {
  let r = null;
  const n = (i) => (i.uid === t && (r = i), i.type.substr(0, 8) === "combined" && i.contents.forEach(n), null);
  return Object.keys(e13).map((i) => e13[i]).filter((i) => i.filter).reduce((i, o) => i.concat(o), []).forEach(n), r;
};
var bpe = (e13, t, r) => {
  const i = e13.state.views[t];
  if (!i)
    return null;
  let o = null;
  const a = (l) => (l.uid === r && (o = l), l.type.substr(0, 8) === "combined" && l.contents.forEach(a), null), s = i.tracks;
  return Object.keys(s).map((l) => s[l]).filter((l) => l.filter).reduce((l, u) => l.concat(u), []).forEach(a), o;
};
var Sm = (e13, t, r) => {
  const n = t ? e13[t] : Object.values(e13)[0];
  if (!n) {
    console.warn(t ? `Could't find view with id "${t}"` : "No views available.");
    return;
  }
  let i = n.trackRenderer.trackDefObjects[r];
  return i ? i = i.trackObject : Object.values(n.trackRenderer.trackDefObjects).map((o) => o.trackObject).filter((o) => o.childTracks).forEach((o) => {
    o.createdTracks[r] && (i = o.createdTracks[r]);
  }), i;
};
function rb(e13) {
  return e13.type === "combined";
}
function Tpe(e13) {
  return "deltaY" in e13 && "deltaMode" in e13;
}
function U9(e13) {
  return e13 !== null && typeof e13 == "object";
}
function Epe(e13) {
  return U9(e13) && "max_width" in e13;
}
function Spe(e13) {
  return U9(e13) && "resolutions" in e13;
}
var GR = (e13, t, r = true, n = null) => e13.forEach((i) => {
  r && rb(i) && GR(i.contents, t, r, n), t(i, n);
});
var ss = (e13, t, r = true) => {
  const n = [];
  for (const [i, o] of Object.entries(e13))
    GR(o, t, r, i), n.push(...o);
  return n;
};
var qm = (e13, t) => {
  let r = null;
  return ss(e13, (n, i) => {
    n.uid === t && (r = i);
  }), r;
};
var zR = (e13) => (t) => Array.prototype.map.call(t, e13);
var j9 = () => [window, zR((e13) => e13.charCodeAt(0))("1.13.4").map((e13) => e13 <= 999 ? `00${e13}`.slice(-3) : e13).join("")];
var G9 = (e13, t = 1, r = 100, n = 0, i = 0, o = 0, a = 100) => {
  const s = document.createElement("canvas");
  s.width = t, s.height = r;
  const l = s.getContext("2d");
  if (!l)
    throw new Error("Could not get canvas context");
  const u = l.createLinearGradient(n, i, o, a);
  return e13.forEach((c) => {
    u.addColorStop(c.from, c.color);
  }), l.fillStyle = u, l.fillRect(0, 0, t, r), s;
};
var z9 = (e13, t) => {
  let r = e13;
  for (; r && r !== t && r.tagName !== "HTML"; )
    r = r.parentNode;
  return r === t;
};
var V9 = (e13) => parseInt(e13.replace(/^#/, ""), 16);
var X9 = () => {
};
function wpe(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function Ape(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, Ipe(n.key), n);
  }
}
function Ope(e13, t, r) {
  return t && Ape(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function Ipe(e13) {
  var t = Ppe(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function Ppe(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
var VR = function() {
  function e13(t) {
    wpe(this, e13), this.context = t;
    const {
      tracks: r,
      createTrackObject: n
    } = t;
    this.childTracks = r.map(n), this.createdTracks = {}, this.uid = Gt.nice(), this.childTracks.forEach((i, o) => {
      this.createdTracks[r[o].uid] = i;
    });
    for (let i = 0; i < this.childTracks.length; i++)
      this.childTracks[i] || console.error("Empty child track in CombinedTrack:", this);
  }
  return Ope(e13, [{
    key: "updateContents",
    value: function(r, n) {
      const i = [], o = /* @__PURE__ */ new Set();
      r.forEach((l) => {
        if (o.add(l.uid), l.uid in this.createdTracks)
          i.push(this.createdTracks[l.uid]);
        else {
          const u = n(l);
          u.setPosition(this.position), u.setDimensions(this.dimensions), i.push(u), u.zoomed(this._xScale, this._yScale), this.createdTracks[l.uid] = u;
        }
      }), this.childTracks = i;
      const a = new Set(Object.keys(this.createdTracks));
      return [...new Set([...a].filter((l) => !o.has(l)))].forEach((l) => {
        this.createdTracks[l].remove(), delete this.createdTracks[l];
      }), this;
    }
  }, {
    key: "setPosition",
    value: function(r) {
      this.position = r;
      for (let n = 0; n < this.childTracks.length; n++)
        this.childTracks[n].setPosition(r);
    }
  }, {
    key: "setDimensions",
    value: function(r) {
      this.dimensions = r;
      for (let n = 0; n < this.childTracks.length; n++)
        this.childTracks[n].setDimensions(r);
    }
  }, {
    key: "zoomed",
    value: function(r, n, i, o, a, s, l) {
      this._xScale = r, this._yScale = n;
      for (let u = 0; u < this.childTracks.length; u++)
        this.childTracks[u].zoomed(r, n, i, o, a, s, l);
    }
    // refXScale(xScale) {
    //   for (let i = 0; i < this.childTracks.length; i++) {
    //     this.childTracks[i].refXScale(xScale);
    //   }
    // }
    // refYScale(yScale) {
    //   for (let i = 0; i < this.childTracks.length; i++) {
    //     this.childTracks[i].refYScale(yScale);
    //   }
    // }
  }, {
    key: "clickOutside",
    value: function() {
      for (let r = 0; r < this.childTracks.length; r++)
        this.childTracks[r].clickOutside();
    }
  }, {
    key: "click",
    value: function(...r) {
      for (let n = 0; n < this.childTracks.length; n++)
        this.childTracks[n].click(...r);
    }
  }, {
    key: "draw",
    value: function() {
    }
    // xScale(xScale) {
    //   this._xScale = xScale;
    //   for (let i = 0; i < this.childTracks.length; i++) {
    //     this.childTracks[i].xScale(xScale);
    //   }
    // }
    // yScale(xScale) {
    //   this._yScale = yScale;
    //   for (let i = 0; i < this.childTracks.length; i++) {
    //     this.childTracks[i].yScale(yScale);
    //   }
    // }
  }, {
    key: "refScalesChanged",
    value: function(r, n) {
      for (let i = 0; i < this.childTracks.length; i++)
        this.childTracks[i].refScalesChanged(r, n);
    }
  }, {
    key: "remove",
    value: function() {
      for (let r = 0; r < this.childTracks.length; r++)
        this.childTracks[r].remove();
    }
  }, {
    key: "exportSVG",
    value: function() {
      const r = document.createElement("g");
      for (const n of this.childTracks)
        n.exportSVG && r.appendChild(n.exportSVG()[0]);
      return [r, r];
    }
  }, {
    key: "rerender",
    value: function(r) {
    }
  }, {
    key: "minValue",
    value: function(r) {
      if (arguments.length === 0) {
        const n = this.childTracks.filter((i) => i.minValue).map((i) => i.minValue()).filter((i) => i);
        return Math.min(...n);
      }
      for (const n of this.childTracks)
        n.minValue && n.minValue(r);
    }
  }, {
    key: "maxValue",
    value: function(r) {
      if (arguments.length === 0) {
        const n = this.childTracks.filter((i) => i.maxValue).map((i) => i.maxValue()).filter((i) => i);
        return Math.max(...n);
      }
      for (const n of this.childTracks)
        n.maxValue && n.maxValue(r);
    }
  }, {
    key: "respondsToPosition",
    value: function(r, n) {
      return r >= this.position[0] && r <= this.dimensions[0] + this.position[0] && n >= this.position[1] && n <= this.dimensions[1] + this.position[1];
    }
  }, {
    key: "stopHover",
    value: function() {
      for (const r of this.childTracks)
        r.stopHover && r.stopHover();
    }
  }, {
    key: "getMouseOverHtml",
    value: function(r, n) {
      let i = "";
      for (const o of this.childTracks)
        if (o.getMouseOverHtml) {
          const a = o.getMouseOverHtml(r, n);
          a && a.length && (i += a, i += "<br/>");
        }
      return i;
    }
  }]), e13;
}();
var W9 = (e13, t) => t === e13 ? true : t instanceof VR ? Object.keys(t.createdTracks).map((r) => t.createdTracks[r]).some((r) => W9(e13, r)) : false;
var XR = (e13, t, r, n, i, o, a = false) => a ? e13 >= r && e13 <= n || t >= i && t <= o : e13 >= r && e13 <= n && t >= i && t <= o;
var Cpe = (e13) => Math.log(Math.tan((e13 + Math.PI / 2) / 2));
var xpe = (e13, t) => {
  let r = e13 * Math.PI / 180;
  return r = Cpe(r), 2 ** t * (Math.PI - r) / (2 * Math.PI);
};
var g1 = (e13) => zR((t) => e13[t])(Object.keys(e13));
var kpe = (e13) => g1(e13).map((t) => t.chromInfoPath).forEach((t) => UR.get(t));
var Dpe = (e13, t) => 2 ** t * (e13 + 180) / 360;
var EP = (e13, t) => e13 > t ? e13 : t;
var Rpe = 1e-7;
function SP(e13) {
  let t = Number.MIN_SAFE_INTEGER;
  for (let r = 0; r < e13.length; r++) {
    const n = e13[r];
    n < Rpe && n > -1e-7 || n > t && (t = n);
  }
  return t;
}
var Y9 = (e13, t) => e13 < t ? e13 : t;
var Npe = 1e-7;
function wP(e13) {
  let t = Number.MAX_SAFE_INTEGER;
  for (let r = 0; r < e13.length; r++) {
    const n = e13[r];
    n < Npe && n > -1e-7 || n < t && (t = n);
  }
  return t;
}
var Mpe = (e13, t) => (e13 % t + t) % t;
var q9 = (e13, t) => {
  const r = +t;
  if (!Number.isNaN(r))
    if (e13.dimension === 1)
      for (let i = 0; i < e13.shape[0]; ++i)
        e13.set(i, r);
    else
      for (let i = 0; i < e13.shape[0]; ++i)
        for (let o = 0; o < e13.shape[1]; ++o)
          e13.set(i, o, r);
  else {
    const i = e13.shape[0], o = e13.shape[1], a = t.shape[0], s = t.shape[1];
    if (i !== a || o !== s) {
      console.warn("Cannot assign source to target ndarray as the dimensions do not match", i, a, o, s);
      return;
    }
    if (e13.dimension === 1)
      for (let l = 0; l < e13.shape[0]; ++l)
        e13.set(l, t.get(l));
    else
      for (let l = 0; l < e13.shape[0]; ++l)
        for (let u = 0; u < e13.shape[1]; ++u)
          e13.set(l, u, t.get(l, u));
  }
};
function Lpe(e13) {
  for (var t = new Array(e13), r = 0; r < e13; ++r)
    t[r] = r;
  return t;
}
var Bpe = Lpe;
var Fpe = function(e13) {
  return e13 != null && (K9(e13) || $pe(e13) || !!e13._isBuffer);
};
function K9(e13) {
  return !!e13.constructor && typeof e13.constructor.isBuffer == "function" && e13.constructor.isBuffer(e13);
}
function $pe(e13) {
  return typeof e13.readFloatLE == "function" && typeof e13.slice == "function" && K9(e13.slice(0, 0));
}
var Hpe = Bpe;
var Upe = Fpe;
var jpe = typeof Float64Array < "u";
function Gpe(e13, t) {
  return e13[0] - t[0];
}
function zpe() {
  var e13 = this.stride, t = new Array(e13.length), r;
  for (r = 0; r < t.length; ++r)
    t[r] = [Math.abs(e13[r]), r];
  t.sort(Gpe);
  var n = new Array(t.length);
  for (r = 0; r < n.length; ++r)
    n[r] = t[r][1];
  return n;
}
function Vpe(e13, t) {
  var r = ["View", t, "d", e13].join("");
  t < 0 && (r = "View_Nil" + e13);
  var n = e13 === "generic";
  if (t === -1) {
    var i = "function " + r + "(a){this.data=a;};var proto=" + r + ".prototype;proto.dtype='" + e13 + "';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new " + r + "(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_" + r + "(a){return new " + r + "(a);}", m = new Function(i);
    return m();
  } else if (t === 0) {
    var i = "function " + r + "(a,d) {this.data = a;this.offset = d};var proto=" + r + ".prototype;proto.dtype='" + e13 + "';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function " + r + "_copy() {return new " + r + "(this.data,this.offset)};proto.pick=function " + r + "_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function " + r + "_get(){return " + (n ? "this.data.get(this.offset)" : "this.data[this.offset]") + "};proto.set=function " + r + "_set(v){return " + (n ? "this.data.set(this.offset,v)" : "this.data[this.offset]=v") + "};return function construct_" + r + "(a,b,c,d){return new " + r + "(a,d)}", m = new Function("TrivialArray", i);
    return m(x0[e13][0]);
  }
  var i = ["'use strict'"], o = Hpe(t), a = o.map(function(g) {
    return "i" + g;
  }), s = "this.offset+" + o.map(function(g) {
    return "this.stride[" + g + "]*i" + g;
  }).join("+"), l = o.map(function(g) {
    return "b" + g;
  }).join(","), u = o.map(function(g) {
    return "c" + g;
  }).join(",");
  i.push("function " + r + "(a," + l + "," + u + ",d){this.data=a", "this.shape=[" + l + "]", "this.stride=[" + u + "]", "this.offset=d|0}", "var proto=" + r + ".prototype", "proto.dtype='" + e13 + "'", "proto.dimension=" + t), i.push("Object.defineProperty(proto,'size',{get:function " + r + "_size(){return " + o.map(function(g) {
    return "this.shape[" + g + "]";
  }).join("*"), "}})"), t === 1 ? i.push("proto.order=[0]") : (i.push("Object.defineProperty(proto,'order',{get:"), t < 4 ? (i.push("function " + r + "_order(){"), t === 2 ? i.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})") : t === 3 && i.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")) : i.push("ORDER})")), i.push("proto.set=function " + r + "_set(" + a.join(",") + ",v){"), n ? i.push("return this.data.set(" + s + ",v)}") : i.push("return this.data[" + s + "]=v}"), i.push("proto.get=function " + r + "_get(" + a.join(",") + "){"), n ? i.push("return this.data.get(" + s + ")}") : i.push("return this.data[" + s + "]}"), i.push("proto.index=function " + r + "_index(", a.join(), "){return " + s + "}"), i.push("proto.hi=function " + r + "_hi(" + a.join(",") + "){return new " + r + "(this.data," + o.map(function(g) {
    return ["(typeof i", g, "!=='number'||i", g, "<0)?this.shape[", g, "]:i", g, "|0"].join("");
  }).join(",") + "," + o.map(function(g) {
    return "this.stride[" + g + "]";
  }).join(",") + ",this.offset)}");
  var c = o.map(function(g) {
    return "a" + g + "=this.shape[" + g + "]";
  }), f = o.map(function(g) {
    return "c" + g + "=this.stride[" + g + "]";
  });
  i.push("proto.lo=function " + r + "_lo(" + a.join(",") + "){var b=this.offset,d=0," + c.join(",") + "," + f.join(","));
  for (var h = 0; h < t; ++h)
    i.push("if(typeof i" + h + "==='number'&&i" + h + ">=0){d=i" + h + "|0;b+=c" + h + "*d;a" + h + "-=d}");
  i.push("return new " + r + "(this.data," + o.map(function(g) {
    return "a" + g;
  }).join(",") + "," + o.map(function(g) {
    return "c" + g;
  }).join(",") + ",b)}"), i.push("proto.step=function " + r + "_step(" + a.join(",") + "){var " + o.map(function(g) {
    return "a" + g + "=this.shape[" + g + "]";
  }).join(",") + "," + o.map(function(g) {
    return "b" + g + "=this.stride[" + g + "]";
  }).join(",") + ",c=this.offset,d=0,ceil=Math.ceil");
  for (var h = 0; h < t; ++h)
    i.push("if(typeof i" + h + "==='number'){d=i" + h + "|0;if(d<0){c+=b" + h + "*(a" + h + "-1);a" + h + "=ceil(-a" + h + "/d)}else{a" + h + "=ceil(a" + h + "/d)}b" + h + "*=d}");
  i.push("return new " + r + "(this.data," + o.map(function(g) {
    return "a" + g;
  }).join(",") + "," + o.map(function(g) {
    return "b" + g;
  }).join(",") + ",c)}");
  for (var d = new Array(t), p = new Array(t), h = 0; h < t; ++h)
    d[h] = "a[i" + h + "]", p[h] = "b[i" + h + "]";
  i.push("proto.transpose=function " + r + "_transpose(" + a + "){" + a.map(function(g, v) {
    return g + "=(" + g + "===undefined?" + v + ":" + g + "|0)";
  }).join(";"), "var a=this.shape,b=this.stride;return new " + r + "(this.data," + d.join(",") + "," + p.join(",") + ",this.offset)}"), i.push("proto.pick=function " + r + "_pick(" + a + "){var a=[],b=[],c=this.offset");
  for (var h = 0; h < t; ++h)
    i.push("if(typeof i" + h + "==='number'&&i" + h + ">=0){c=(c+this.stride[" + h + "]*i" + h + ")|0}else{a.push(this.shape[" + h + "]);b.push(this.stride[" + h + "])}");
  i.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"), i.push("return function construct_" + r + "(data,shape,stride,offset){return new " + r + "(data," + o.map(function(g) {
    return "shape[" + g + "]";
  }).join(",") + "," + o.map(function(g) {
    return "stride[" + g + "]";
  }).join(",") + ",offset)}");
  var m = new Function("CTOR_LIST", "ORDER", i.join(`
`));
  return m(x0[e13], zpe);
}
function Xpe(e13) {
  if (Upe(e13))
    return "buffer";
  if (jpe)
    switch (Object.prototype.toString.call(e13)) {
      case "[object Float64Array]":
        return "float64";
      case "[object Float32Array]":
        return "float32";
      case "[object Int8Array]":
        return "int8";
      case "[object Int16Array]":
        return "int16";
      case "[object Int32Array]":
        return "int32";
      case "[object Uint8Array]":
        return "uint8";
      case "[object Uint16Array]":
        return "uint16";
      case "[object Uint32Array]":
        return "uint32";
      case "[object Uint8ClampedArray]":
        return "uint8_clamped";
      case "[object BigInt64Array]":
        return "bigint64";
      case "[object BigUint64Array]":
        return "biguint64";
    }
  return Array.isArray(e13) ? "array" : "generic";
}
var x0 = {
  float32: [],
  float64: [],
  int8: [],
  int16: [],
  int32: [],
  uint8: [],
  uint16: [],
  uint32: [],
  array: [],
  uint8_clamped: [],
  bigint64: [],
  biguint64: [],
  buffer: [],
  generic: []
};
function Wpe(e13, t, r, n) {
  if (e13 === void 0) {
    var u = x0.array[0];
    return u([]);
  } else typeof e13 == "number" && (e13 = [e13]);
  t === void 0 && (t = [e13.length]);
  var i = t.length;
  if (r === void 0) {
    r = new Array(i);
    for (var o = i - 1, a = 1; o >= 0; --o)
      r[o] = a, a *= t[o];
  }
  if (n === void 0) {
    n = 0;
    for (var o = 0; o < i; ++o)
      r[o] < 0 && (n -= (t[o] - 1) * r[o]);
  }
  for (var s = Xpe(e13), l = x0[s]; l.length <= i + 1; )
    l.push(Vpe(s, l.length - 1));
  var u = l[i + 1];
  return u(e13, t, r, n);
}
var Ype = Wpe;
var If = $i(Ype);
var Z9 = (e13) => {
  const t = e13.shape.reduce((n, i) => n * i, 1), r = new Array(t);
  if (e13.dimension === 1) {
    let n = 0;
    for (let i = 0; i < e13.shape[0]; ++i)
      r[n] = e13.get(i), n++;
  } else {
    let n = 0;
    for (let i = 0; i < e13.shape[0]; ++i)
      for (let o = 0; o < e13.shape[1]; ++o)
        r[n] = e13.get(i, o), n++;
  }
  return r;
};
var Q9 = (e13) => e13.shape.length === 1 ? e13 : If(Z9(e13));
var J9 = (e13) => {
  const t = e13.split("."), r = t.slice(1).join("").length;
  return +t.join("") / 10 ** r;
};
var jv = (e13, t) => e13 || t;
function v1(e13) {
  const t = [], r = {}, n = {};
  let i = 0;
  for (let o = 0; o < e13.length; o++) {
    const a = Number(e13[o][1]);
    i += a;
    const s = {
      id: o,
      chr: e13[o][0],
      pos: i - a
    };
    t.push(s), n[s.chr] = s, r[e13[o][0]] = a;
  }
  return {
    cumPositions: t,
    chrPositions: n,
    totalLength: i,
    chromLengths: r
  };
}
var AP = (e13) => {
  const t = document.createElement("g"), r = document.createElement("text");
  return e13.anchor.x === 0 ? r.setAttribute("text-anchor", "start") : e13.anchor.x === 1 ? r.setAttribute("text-anchor", "end") : r.setAttribute("text-anchor", "middle"), r.setAttribute("font-family", e13.style.fontFamily), r.setAttribute("font-size", e13.style.fontSize), t.setAttribute("transform", `scale(${e13.scale.x},1)`), r.setAttribute("fill", e13.style.fill), r.innerHTML = e13.text, t.appendChild(r), t.setAttribute("transform", `translate(${e13.x},${e13.y})scale(${e13.scale.x},1)`), t;
};
var qpe = (e13) => {
  try {
    const t = e13.split(".");
    return (r) => {
      let n = r;
      return t.forEach((i) => {
        n = n[i];
      }), n;
    };
  } catch {
    return;
  }
};
var Kpe = (e13, t, r, n, i, o, a = 0, s = 0, l) => {
  const u = o ? i : n, c = o ? n : i, f = o ? s : a, h = o ? a : s, d = Math.max(0, +u[0] || 0), p = Math.max(0, +u[1] || 0), m = Math.max(0, +c[0] || 0), g = Math.max(0, +c[1] || 0);
  let v = [];
  ArrayBuffer.isView(l) || console.warn("Not supported yet");
  try {
    const b = new l.constructor(l.length);
    let y = 0 + h;
    for (let T = m; T < g; T++)
      b.set(e13.slice(T * t + d, T * t + p), f + y * r), y += 1;
    const _ = o ? m9(r, r) : void 0;
    v = g9(l, b, _);
  } catch {
  }
  return v;
};
var Zpe = (e13, t, r, n) => [n.chrPositions[e13].pos + +t, n.chrPositions[e13].pos + +r];
var Qpe = "http://www.w3.org/2000/svg";
var Jpe = (e13, t) => {
  const r = new RegExp(`(\\s|^)${t}(\\s|$)`);
  if (e13.namespaceURI === Qpe) {
    const n = e13.getAttribute("class") || "";
    e13.setAttribute("class", n.replace(r, " "));
  } else e13.classList ? e13.classList.remove(t) : b0(e13, t) && (e13.className = e13.className.replace(r, " "));
};
var Pf = (e13, t) => {
  e13.select(".selection").attr("fill", null).attr("fill-opacity", null).attr("stroke", null).classed(t, true);
};
var Zw = (e13) => {
  const t = e13.toString(16);
  return t.length === 1 ? `0${t}` : t;
};
var eme = (e13, t, r) => `#${Zw(e13)}${Zw(t)}${Zw(r)}`;
var un = (e13, t) => {
  const r = e13.invert((e13.range()[0] + e13.range()[1]) / 2), n = t.invert((t.range()[0] + t.range()[1]) / 2), i = e13.invert(1) - e13.invert(0);
  return [r, n, i];
};
var eV = (e13, t, r) => {
  if (r === null || !e13 || !t)
    return;
  const n = e13.domain()[0], i = e13.domain()[1], o = t.domain()[0], a = t.domain()[1];
  return [...O0(n, i, r), ...O0(o, a, r)];
};
var tme = 11184810;
var rme = 1;
var nme = (e13, t, r, n, i, o, a, s, l) => {
  e13.publish("app.animateOnMouseMove", true);
  const u = r.mousePositionColor ? V9(r.mousePositionColor) : tme, c = r.mousePositionAlpha || rme, f = new Ge.PIXI.Graphics(), h = () => {
    f.clear();
  }, d = (m, g, v) => {
    if (v || h(), f.lineStyle(1, u, c), g) {
      const b = s ? i()[0] : 0;
      f.moveTo(0, m), f.lineTo(o()[0] + b, m);
    } else {
      const b = s ? i()[1] : 0;
      f.moveTo(m, 0), f.lineTo(m, o()[1] + b);
    }
  }, p = (m) => {
    if (m.noHoveredTracks)
      return h(), f;
    let g, v;
    m.isFromVerticalTrack ? (g = m.dataY, v = m.dataY) : (g = m.dataX, v = m.isFrom2dTrack ? m.dataY : m.dataX);
    const b = s ? i() : [0, 0], y = a() ? n()[0](v) + b[1] : n()[0](g) + b[0];
    return d(y), s && d(n()[1](v) + b[1], true, true), f;
  };
  return t.push(e13.subscribe("app.mouseMove", p)), t.push(e13.subscribe("app.mouseLeave", h)), t.push(e13.subscribe("blur", h)), l && t.push(Wm.subscribe("higlass.mouseMove", p)), f;
};
var gu = (e13, t = false, r = false) => {
  const n = t ? e13.pMasked : e13.pForeground || e13.pMain;
  if (!n)
    throw new Error("setupShowMousePosition: No scene found. Please make sure to call this method after the scene has been initialized.");
  const i = () => [e13.xScale(), e13.yScale()], o = nme(e13.pubSub, e13.pubSubs, e13.options, i, e13.getPosition.bind(e13), e13.getDimensions.bind(e13), e13.getProp("flipText"), t, r);
  return n.addChild(o), () => {
    n.removeChild(o);
  };
};
var ime = (e13) => (t) => Array.prototype.some.call(t, e13);
var El = (e13, t) => e13 + t;
var tV = (e13, t, r, n, i, o) => {
  const a = document.createElement("line");
  return a.setAttribute("x1", e13), a.setAttribute("x2", r), a.setAttribute("y1", t), a.setAttribute("y2", n), i && a.setAttribute("stroke-width", i), o && a.setAttribute("stroke", o), a;
};
var rV = (e13, t, r) => {
  let n, i = 0;
  const o = () => {
    n = void 0;
  }, a = (...u) => {
    const c = () => {
      i > 0 && (e13(...u), i = 0);
    };
    clearTimeout(n), n = setTimeout(c, r);
  };
  a.cancel = () => {
    clearTimeout(n), o();
  }, a.immediate = (...u) => {
    e13(...u);
  };
  let s = false;
  return (u, ...c) => {
    s ? i++ : (e13(...c), a(...c), s = true, i = 0, setTimeout(() => {
      s = false;
    }, t));
  };
};
var ome = (e13, t = 256, r = 256) => {
  const n = document.createElement("canvas");
  n.width = t, n.height = r;
  const i = n.getContext("2d");
  if (!i)
    throw new Error("Could not get canvas context");
  i.fillStyle = "transparent", i.fillRect(0, 0, n.width, n.height);
  const o = new ImageData(e13, n.width, n.height);
  return i.putImageData(o, 0, 0), n;
};
var WR = (e13) => new Promise((t) => {
  setTimeout(t, e13);
});
var ame = (e13) => {
  if (!e13.tracks)
    return 0;
  let t = 0;
  return e13.tracks.top && (t += e13.tracks.top.map((r) => r.height).reduce((r, n) => r + n, 0)), e13.tracks.center && (t += e13.tracks.center.map((r) => r.height).reduce((r, n) => r + n, 0)), e13.tracks.bottom && (t += e13.tracks.bottom.map((r) => r.height).reduce((r, n) => r + n, 0)), t;
};
var Xo = () => {
};
var y1 = (e13) => (e13 || "").replace(/\/$/, "");
var YR = (e13, t, r = 0, n = 1e-6) => (i) => {
  let o = 255;
  return i > n && (o = Math.max(0, Math.min(255, Math.floor(e13(i + r))))), t[o];
};
var nb = (e13) => {
  let t = [];
  for (let r = 0; r < e13.length; r++)
    e13[r].contents ? t = t.concat(e13[r].contents) : t.push(e13[r]);
  return t;
};
function nV(e13, t, r, n) {
  this.interval = [e13, t], this.max = -1 / 0, this.parentNode = null, this.left = r, this.right = n;
}
function Ms() {
  this.root = null;
}
function RF(e13, t, r) {
  let n = new nV(r[0], r[1]);
  if (n.max = r[1], n.parentNode = e13, e13[t] = n, e13.max < r[1])
    for (; n; )
      n.max < r[1] && (n.max = r[1]), n = n.parentNode;
}
function OP(e13, t) {
  e13.interval[0] > t[0] ? e13.left ? OP(e13.left, t) : RF(e13, "left", t) : e13.right ? OP(e13.right, t) : RF(e13, "right", t);
}
Ms.prototype.add = function(t) {
  if (!this.root) {
    this.root = new nV(t[0], t[1]), this.root.max = t[1];
    return;
  }
  OP(this.root, t);
};
function iV(e13, t) {
  if (!t)
    return false;
  if (t.interval[0] <= e13 && t.interval[1] >= e13)
    return true;
  let r = false, n;
  return ["left", "right"].forEach((i) => {
    n = t[i], n && n.max > e13 && (r = r || iV(e13, n));
  }), r;
}
Ms.prototype.contains = function(t) {
  return iV(t, this.root);
};
function sme(e13, t) {
  return (
    // The first case checks for completely overlapping
    // intervals. Necessary because we usually consider
    // the ends to be open ended and that misses completely
    // overlapping intervals
    e13[0] === t[0] && e13[1] === t[1] || e13[0] < t[0] && e13[1] > t[0] || e13[0] < t[1] && e13[1] > t[1] || t[0] < e13[0] && t[1] > e13[0] || t[0] < e13[1] && t[1] > e13[1]
  );
}
function oV(e13, t) {
  if (!t)
    return false;
  if (sme(t.interval, e13))
    return true;
  let r = false, n;
  return ["left", "right"].forEach((i) => {
    n = t[i], n && n.max >= e13[0] && (r = r || oV(e13, n));
  }), r;
}
Ms.prototype.intersects = function(t) {
  return oV(t, this.root);
};
function IP(e13) {
  return e13 ? 1 + Math.max(IP(e13.left), IP(e13.right)) : 0;
}
Ms.prototype.height = function() {
  return IP(this.root);
};
Ms.prototype.findMax = function(t) {
  const r = [t];
  let n, i = -1 / 0, o;
  for (; r.length; )
    n = r.pop(), n.left && r.push(n.left), n.right && r.push(n.right), n.interval[1] > i && (i = n.interval[1], o = n);
  return o;
};
Ms.prototype._removeHelper = function(t, r) {
  if (r)
    if (r.interval[0] === t[0] && r.interval[1] === t[1]) {
      if (r.left && r.right) {
        let i = r.left;
        for (; i.left; )
          i = i.left;
        const o = i.interval;
        i.interval = r.interval, r.interval = o, this._removeHelper(i.interval, r);
      } else {
        let i = "left";
        r.right && (i = "right");
        const o = r.parentNode;
        o ? (o.left === r ? o.left = r[i] : o.right = r[i], r[i] && (r[i].parentNode = o)) : (this.root = r[i], this.root && (this.root.parentNode = null));
      }
      const n = r.parentNode;
      if (n) {
        let i = this.findMax(n);
        const o = i.interval[1];
        for (; i; )
          i.max === r.interval[1] ? (i.max = o, i = i.parentNode) : i = false;
      }
    } else
      this._removeHelper(t, r.left), this._removeHelper(t, r.right);
};
Ms.prototype.remove = function(t) {
  return this._removeHelper(t, this.root);
};
function k0(e13) {
  e13.sort((n, i) => i.to - i.from - (n.to - n.from));
  const t = [[]], r = [new Ms()];
  for (let n = 0; n < e13.length; n++) {
    let i = false;
    for (let o = 0; o < t.length; o++) {
      const a = r[o], s = [+e13[n].from, +e13[n].to];
      if (!a.intersects(s)) {
        a.add(s), t[o].push(e13[n]), i = true;
        break;
      }
    }
    if (!i) {
      const o = new Ms();
      o.add([e13[n].from, e13[n].to]), t.push([e13[n]]), r.push(o);
    }
  }
  return t;
}
function lme(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function cme(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, hme(n.key), n);
  }
}
function ume(e13, t, r) {
  return t && cme(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function hme(e13) {
  var t = fme(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function fme(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
var D0 = function() {
  function e13(t) {
    lme(this, e13), this.epsilon = 1e-6, this.data = t, this.tileSize = this.data.length, this.paddedTileSize = 2 ** Math.ceil(Math.log2(this.tileSize)), this.numSubsets = Math.min(x9, this.paddedTileSize), this.subsetSize = this.paddedTileSize / this.numSubsets, this.subsetMinimums = this.computeSubsetNonZeroMinimums(), this.subsetMaximums = this.computeSubsetNonZeroMaximums(), this.minNonZeroInTile = this.getMinNonZeroInTile(), this.maxNonZeroInTile = this.getMaxNonZeroInTile();
  }
  return ume(e13, [{
    key: "getMinNonZeroInSubset",
    value: function(r) {
      const n = r[0], i = r[1];
      let o = Number.MAX_SAFE_INTEGER;
      if (n === 0 && i === this.tileSize)
        return this.minNonZeroInTile;
      const a = Math.ceil(n / this.subsetSize), s = Math.floor((i - 1) / this.subsetSize);
      return a >= s ? this.minNonZero(this.data, n, i) : (n < a * this.subsetSize && (o = Math.min(o, this.minNonZero(this.data, n, a * this.subsetSize))), o = Math.min(o, this.minNonZero(this.subsetMinimums, a, s)), i > s * this.subsetSize && (o = Math.min(o, this.minNonZero(this.data, s * this.subsetSize, i))), o);
    }
    /**
     * Computes the non-zero maximum in a subset using precomputed values, if possible
     *
     * @param {[start: number, end: number]}  indexBounds
     * @return {number} non-zero maxium of the subset
     */
  }, {
    key: "getMaxNonZeroInSubset",
    value: function(r) {
      const n = r[0], i = r[1];
      let o = Number.MIN_SAFE_INTEGER;
      if (n === 0 && i === this.tileSize)
        return this.maxNonZeroInTile;
      const a = Math.ceil(n / this.subsetSize), s = Math.floor((i - 1) / this.subsetSize);
      return a >= s ? this.maxNonZero(this.data, n, i) : (n < a * this.subsetSize && (o = Math.max(o, this.maxNonZero(this.data, n, a * this.subsetSize))), o = Math.max(o, this.maxNonZero(this.subsetMaximums, a, s)), i > s * this.subsetSize && (o = Math.max(o, this.maxNonZero(this.data, s * this.subsetSize, i))), o);
    }
    /**
     * Precomputes non-zero minimums of subsets of the given data vector
     *
     * @returns {Array<number>} - Minimums of the regularly subdivided data vector
     */
  }, {
    key: "computeSubsetNonZeroMinimums",
    value: function() {
      const r = [];
      for (let n = 0; n < this.numSubsets; n++) {
        let i = Number.MAX_SAFE_INTEGER;
        for (let o = 0; o < this.subsetSize; o++) {
          const a = this.data[n * this.subsetSize + o];
          a !== void 0 && (a < this.epsilon && a > -this.epsilon || a < i && (i = a));
        }
        r.push(i);
      }
      return r;
    }
    /**
     * Precomputes non-zero maximums of subsets of the given data vector
     * @return {Array<number>} Maximums of the regularly subdivided data vector
     */
  }, {
    key: "computeSubsetNonZeroMaximums",
    value: function() {
      const r = [];
      for (let n = 0; n < this.numSubsets; n++) {
        let i = Number.MIN_SAFE_INTEGER;
        for (let o = 0; o < this.subsetSize; o++) {
          const a = this.data[n * this.subsetSize + o];
          a !== void 0 && (a < this.epsilon && a > -this.epsilon || a > i && (i = a));
        }
        r.push(i);
      }
      return r;
    }
    /**
     * Computes the non-zero minimum in the entire data array using precomputed values
     *
     * @return {number} Non-zeros maximum of the data
     */
  }, {
    key: "getMinNonZeroInTile",
    value: function() {
      return Math.min(...this.subsetMinimums);
    }
    /**
     * Computes the non-zero maximum in the entire data array using precomputed values
     *
     * @return {number} Non-zeros maximum of the data
     */
  }, {
    key: "getMaxNonZeroInTile",
    value: function() {
      return Math.max(...this.subsetMaximums);
    }
    /**
     * Calculate the minimum non-zero value in the data from start
     * to end. No precomputations are used to compute the min.
     *
     * @param {ArrayLike<number>} data
     * @param {number} start
     * @param {number} end
     * @return {number} non-zero min in subset
     */
  }, {
    key: "minNonZero",
    value: function(r, n, i) {
      let o = Number.MAX_SAFE_INTEGER;
      for (let a = n; a < i; a++) {
        const s = r[a];
        s < this.epsilon && s > -this.epsilon || s < o && (o = s);
      }
      return o;
    }
    /**
     * Calculate the maximum non-zero value in the data from start
     * to end. No precomputations are used to compute the max.
     *
     * @param {ArrayLike<number>} data
     * @param {number} start
     * @param {number} end
     * @return {number} non-zero max in subset
     */
  }, {
    key: "maxNonZero",
    value: function(r, n, i) {
      let o = Number.MIN_SAFE_INTEGER;
      for (let a = n; a < i; a++) {
        const s = r[a];
        s < this.epsilon && s > -this.epsilon || s > o && (o = s);
      }
      return o;
    }
  }]), e13;
}();
function dme(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function pme(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, gme(n.key), n);
  }
}
function mme(e13, t, r) {
  return t && pme(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function gme(e13) {
  var t = vme(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function vme(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
var qR = function() {
  function e13(t) {
    dme(this, e13), this.epsilon = 1e-6, this.tileSize = Math.sqrt(t.length), Number.isSafeInteger(this.tileSize) || console.error("The DenseDataExtrema2D module only works for data of quadratic length."), this.numSubsets = Math.min(LR, this.tileSize), this.subsetSize = this.tileSize / this.numSubsets;
    const r = If(Array.from(t), [this.tileSize, this.tileSize]);
    this.subsetMinimums = this.computeSubsetNonZeroMinimums(r), this.subsetMaximums = this.computeSubsetNonZeroMaximums(r), this.minNonZeroInTile = this.getMinNonZeroInTile(), this.maxNonZeroInTile = this.getMaxNonZeroInTile();
  }
  return mme(e13, [{
    key: "getMinNonZeroInSubset",
    value: function(r) {
      const n = r[0], i = r[1], o = r[2], a = r[3], s = Math.floor(i / this.subsetSize), l = Math.floor(n / this.subsetSize), u = Math.ceil((a + 1) / this.subsetSize) - s, c = Math.ceil((o + 1) / this.subsetSize) - l;
      return this.getMinNonZeroInNdarraySubset(this.subsetMinimums, s, l, c, u);
    }
    /**
     * Computes an approximation of the non-zero maximum in a subset
     *
     * @param {[startX: number, startY: number, endX: number, endY: number]} indexBounds
     * @return {number} Non-zero maxium of the subset
     */
  }, {
    key: "getMaxNonZeroInSubset",
    value: function(r) {
      const n = r[0], i = r[1], o = r[2], a = r[3], s = Math.floor(i / this.subsetSize), l = Math.floor(n / this.subsetSize), u = Math.ceil((a + 1) / this.subsetSize) - s, c = Math.ceil((o + 1) / this.subsetSize) - l;
      return this.getMaxNonZeroInNdarraySubset(this.subsetMaximums, s, l, c, u);
    }
    /**
     * Precomputes non-zero minimums of subsets of a given matrix
     * @param {View2D} dataMatrix
     * @return {View2D} Matrix containing minimums of the dataMatrix after subdivision using a regular grid
     */
  }, {
    key: "computeSubsetNonZeroMinimums",
    value: function(r) {
      const n = If(new Array(this.numSubsets ** 2), [this.numSubsets, this.numSubsets]);
      for (let i = 0; i < this.numSubsets; i++)
        for (let o = 0; o < this.numSubsets; o++) {
          const a = this.getMinNonZeroInNdarraySubset(r, i * this.subsetSize, o * this.subsetSize, this.subsetSize, this.subsetSize);
          n.set(i, o, a);
        }
      return n;
    }
    /**
     * Precomputes non-zero maximums of subsets of a given matrix
     *
     * @param {View2D} dataMatrix
     * @return {View2D} Matrix containing maximums of the dataMatrix after subdivision using a regular grid
     */
  }, {
    key: "computeSubsetNonZeroMaximums",
    value: function(r) {
      const n = If(new Array(this.numSubsets ** 2), [this.numSubsets, this.numSubsets]);
      for (let i = 0; i < this.numSubsets; i++)
        for (let o = 0; o < this.numSubsets; o++) {
          const a = this.getMaxNonZeroInNdarraySubset(r, i * this.subsetSize, o * this.subsetSize, this.subsetSize, this.subsetSize);
          n.set(i, o, a);
        }
      return n;
    }
    /**
     * Computes the non-zero minimum of a subset of a matrix (ndarray)
     * @param {View2D} arr
     * @param {number} rowOffset - Starting row of the subset
     * @param {number} colOffset - Starting column of the subset
     * @param {number} width - Width (num columns) of the subset
     * @param {number} height - Height (num rows) of the subset
     * @return {number} Non-zeros - minimum of the subset
     */
  }, {
    key: "getMinNonZeroInNdarraySubset",
    value: function(r, n, i, o, a) {
      let s = Number.MAX_SAFE_INTEGER;
      for (let l = 0; l < o; l++)
        for (let u = 0; u < a; u++) {
          const c = r.get(n + u, i + l);
          c < this.epsilon && c > -this.epsilon || c < s && (s = c);
        }
      return s;
    }
    /**
     * Computes the non-zero maximum of a subset of a matrix (ndarray)
     * @param {View2D} arr
     * @param {number} rowOffset - Starting row of the subset
     * @param {number} colOffset - Starting column of the subset
     * @param {number} width - Width (num columns) of the subset
     * @param {number} height - Height (num rows) of the subset
     * @return {number} Non-zeros maximum of the subset
     */
  }, {
    key: "getMaxNonZeroInNdarraySubset",
    value: function(r, n, i, o, a) {
      let s = Number.MIN_SAFE_INTEGER;
      for (let l = 0; l < o; l++)
        for (let u = 0; u < a; u++) {
          const c = r.get(n + u, i + l);
          c < this.epsilon && c > -this.epsilon || c > s && (s = c);
        }
      return s;
    }
  }, {
    key: "mirrorPrecomputedExtrema",
    value: function() {
      for (let r = 1; r < this.numSubsets; r++)
        for (let n = 0; n < r; n++)
          this.subsetMinimums.set(n, r, this.subsetMinimums.get(r, n)), this.subsetMaximums.set(n, r, this.subsetMaximums.get(r, n));
    }
    /**
     * Computes the non-zero minimum in the entire data array using precomputed values
     *
     * @return {number} Non-zeros minimum of the data
     */
  }, {
    key: "getMinNonZeroInTile",
    value: function() {
      return this.getMinNonZeroInNdarraySubset(this.subsetMinimums, 0, 0, this.numSubsets, this.numSubsets);
    }
    /**
     * Computes the non-zero maximum in the entire data array using precomputed values
     *
     * @return {number} Non-zeros maximum of the data
     */
  }, {
    key: "getMaxNonZeroInTile",
    value: function() {
      return this.getMaxNonZeroInNdarraySubset(this.subsetMaximums, 0, 0, this.numSubsets, this.numSubsets);
    }
  }]), e13;
}();
var KR = (e13) => {
  let t;
  switch (e13 && e13.toLowerCase()) {
    case "mean":
      t = KI;
      break;
    case "sum":
      t = hz;
      break;
    case "variance":
      t = DD;
      break;
    case "deviation":
      t = RD;
      break;
    default:
      t = KI, console.warn("Encountered an unsupported selectedRowsAggregationMode option.");
  }
  return t;
};
var tv = (e13, t) => e13.reduce((r, n) => r + (Array.isArray(n) && t ? n.length : 1), 0);
var ep = (e13) => {
  switch (e13.type) {
    case "heatmap":
    case "horizontal-1d-heatmap":
    case "horizontal-bar":
    case "horizontal-line":
    case "horizontal-point":
    case "vertical-1d-heatmap":
    case "vertical-bar":
    case "vertical-line":
    case "vertical-point":
    case "horizontal-1d-tiles":
    case "vertical-1d-tiles":
    case "2d-tiles":
    case "horizontal-gene-annotations":
    case "vertical-gene-annotations":
    case "horizontal-heatmap":
    case "vertical-heatmap":
    case "osm-tiles":
    case "mapbox-tiles":
    case "horizontal-multivec":
      return true;
    case "combined":
      return e13.contents.map((r) => ep(r)).reduce(jv, false);
    default:
      return false;
  }
};
var ZR = (e13, t, r) => {
  let n = t, i = r;
  return r || (i = t, n = Object.values(e13.state.views)[0].uid), e13.tiledPlots[n].trackRenderer.getTrackObject(i);
};
var aV = (e13, t) => e13.tiledPlots[t].trackRenderer;
var yme = (e13, t) => e13.tiledPlots[t];
var QR = {};
var NF = Object.prototype.toString;
var sV = function(t) {
  var r = NF.call(t), n = r === "[object Arguments]";
  return n || (n = r !== "[object Array]" && t !== null && typeof t == "object" && typeof t.length == "number" && t.length >= 0 && NF.call(t.callee) === "[object Function]"), n;
};
var Qw;
var MF;
function _me() {
  if (MF)
    return Qw;
  MF = 1;
  var e13;
  if (!Object.keys) {
    var t = Object.prototype.hasOwnProperty, r = Object.prototype.toString, n = sV, i = Object.prototype.propertyIsEnumerable, o = !i.call({
      toString: null
    }, "toString"), a = i.call(function() {
    }, "prototype"), s = ["toString", "toLocaleString", "valueOf", "hasOwnProperty", "isPrototypeOf", "propertyIsEnumerable", "constructor"], l = function(h) {
      var d = h.constructor;
      return d && d.prototype === h;
    }, u = {
      $applicationCache: true,
      $console: true,
      $external: true,
      $frame: true,
      $frameElement: true,
      $frames: true,
      $innerHeight: true,
      $innerWidth: true,
      $onmozfullscreenchange: true,
      $onmozfullscreenerror: true,
      $outerHeight: true,
      $outerWidth: true,
      $pageXOffset: true,
      $pageYOffset: true,
      $parent: true,
      $scrollLeft: true,
      $scrollTop: true,
      $scrollX: true,
      $scrollY: true,
      $self: true,
      $webkitIndexedDB: true,
      $webkitStorageInfo: true,
      $window: true
    }, c = function() {
      if (typeof window > "u")
        return false;
      for (var h in window)
        try {
          if (!u["$" + h] && t.call(window, h) && window[h] !== null && typeof window[h] == "object")
            try {
              l(window[h]);
            } catch {
              return true;
            }
        } catch {
          return true;
        }
      return false;
    }(), f = function(h) {
      if (typeof window > "u" || !c)
        return l(h);
      try {
        return l(h);
      } catch {
        return false;
      }
    };
    e13 = function(d) {
      var p = d !== null && typeof d == "object", m = r.call(d) === "[object Function]", g = n(d), v = p && r.call(d) === "[object String]", b = [];
      if (!p && !m && !g)
        throw new TypeError("Object.keys called on a non-object");
      var y = a && m;
      if (v && d.length > 0 && !t.call(d, 0))
        for (var _ = 0; _ < d.length; ++_)
          b.push(String(_));
      if (g && d.length > 0)
        for (var T = 0; T < d.length; ++T)
          b.push(String(T));
      else
        for (var E in d)
          !(y && E === "prototype") && t.call(d, E) && b.push(String(E));
      if (o)
        for (var O = f(d), S = 0; S < s.length; ++S)
          !(O && s[S] === "constructor") && t.call(d, s[S]) && b.push(s[S]);
      return b;
    };
  }
  return Qw = e13, Qw;
}
var bme = Array.prototype.slice;
var Tme = sV;
var LF = Object.keys;
var ib = LF ? function(t) {
  return LF(t);
} : _me();
var BF = Object.keys;
ib.shim = function() {
  if (Object.keys) {
    var t = function() {
      var r = Object.keys(arguments);
      return r && r.length === arguments.length;
    }(1, 2);
    t || (Object.keys = function(n) {
      return Tme(n) ? BF(bme.call(n)) : BF(n);
    });
  } else
    Object.keys = ib;
  return Object.keys || ib;
};
var lV = ib;
var JR = function() {
  if (typeof Symbol != "function" || typeof Object.getOwnPropertySymbols != "function")
    return false;
  if (typeof Symbol.iterator == "symbol")
    return true;
  var t = {}, r = Symbol("test"), n = Object(r);
  if (typeof r == "string" || Object.prototype.toString.call(r) !== "[object Symbol]" || Object.prototype.toString.call(n) !== "[object Symbol]")
    return false;
  var i = 42;
  t[r] = i;
  for (r in t)
    return false;
  if (typeof Object.keys == "function" && Object.keys(t).length !== 0 || typeof Object.getOwnPropertyNames == "function" && Object.getOwnPropertyNames(t).length !== 0)
    return false;
  var o = Object.getOwnPropertySymbols(t);
  if (o.length !== 1 || o[0] !== r || !Object.prototype.propertyIsEnumerable.call(t, r))
    return false;
  if (typeof Object.getOwnPropertyDescriptor == "function") {
    var a = Object.getOwnPropertyDescriptor(t, r);
    if (a.value !== i || a.enumerable !== true)
      return false;
  }
  return true;
};
var FF = typeof Symbol < "u" && Symbol;
var Eme = JR;
var cV = function() {
  return typeof FF != "function" || typeof Symbol != "function" || typeof FF("foo") != "symbol" || typeof Symbol("bar") != "symbol" ? false : Eme();
};
var $F = {
  foo: {}
};
var Sme = Object;
var uV = function() {
  return {
    __proto__: $F
  }.foo === $F.foo && !({
    __proto__: null
  } instanceof Sme);
};
var wme = "Function.prototype.bind called on incompatible ";
var Ame = Object.prototype.toString;
var Ome = Math.max;
var Ime = "[object Function]";
var HF = function(t, r) {
  for (var n = [], i = 0; i < t.length; i += 1)
    n[i] = t[i];
  for (var o = 0; o < r.length; o += 1)
    n[o + t.length] = r[o];
  return n;
};
var Pme = function(t, r) {
  for (var n = [], i = r, o = 0; i < t.length; i += 1, o += 1)
    n[o] = t[i];
  return n;
};
var Cme = function(e13, t) {
  for (var r = "", n = 0; n < e13.length; n += 1)
    r += e13[n], n + 1 < e13.length && (r += t);
  return r;
};
var xme = function(t) {
  var r = this;
  if (typeof r != "function" || Ame.apply(r) !== Ime)
    throw new TypeError(wme + r);
  for (var n = Pme(arguments, 1), i, o = function() {
    if (this instanceof i) {
      var c = r.apply(this, HF(n, arguments));
      return Object(c) === c ? c : this;
    }
    return r.apply(t, HF(n, arguments));
  }, a = Ome(0, r.length - n.length), s = [], l = 0; l < a; l++)
    s[l] = "$" + l;
  if (i = Function("binder", "return function (" + Cme(s, ",") + "){ return binder.apply(this,arguments); }")(o), r.prototype) {
    var u = function() {
    };
    u.prototype = r.prototype, i.prototype = new u(), u.prototype = null;
  }
  return i;
};
var kme = xme;
var eN = Function.prototype.bind || kme;
var Dme = Function.prototype.call;
var Rme = Object.prototype.hasOwnProperty;
var Nme = eN;
var zs = Nme.call(Dme, Rme);
var Qt;
var hd = SyntaxError;
var hV = Function;
var Cf = TypeError;
var Jw = function(e13) {
  try {
    return hV('"use strict"; return (' + e13 + ").constructor;")();
  } catch {
  }
};
var Qc = Object.getOwnPropertyDescriptor;
if (Qc)
  try {
    Qc({}, "");
  } catch {
    Qc = null;
  }
var eA = function() {
  throw new Cf();
};
var Mme = Qc ? function() {
  try {
    return arguments.callee, eA;
  } catch {
    try {
      return Qc(arguments, "callee").get;
    } catch {
      return eA;
    }
  }
}() : eA;
var Sh = cV();
var Lme = uV();
var Tn = Object.getPrototypeOf || (Lme ? function(e13) {
  return e13.__proto__;
} : null);
var jh = {};
var Bme = typeof Uint8Array > "u" || !Tn ? Qt : Tn(Uint8Array);
var Jc = {
  "%AggregateError%": typeof AggregateError > "u" ? Qt : AggregateError,
  "%Array%": Array,
  "%ArrayBuffer%": typeof ArrayBuffer > "u" ? Qt : ArrayBuffer,
  "%ArrayIteratorPrototype%": Sh && Tn ? Tn([][Symbol.iterator]()) : Qt,
  "%AsyncFromSyncIteratorPrototype%": Qt,
  "%AsyncFunction%": jh,
  "%AsyncGenerator%": jh,
  "%AsyncGeneratorFunction%": jh,
  "%AsyncIteratorPrototype%": jh,
  "%Atomics%": typeof Atomics > "u" ? Qt : Atomics,
  "%BigInt%": typeof BigInt > "u" ? Qt : BigInt,
  "%BigInt64Array%": typeof BigInt64Array > "u" ? Qt : BigInt64Array,
  "%BigUint64Array%": typeof BigUint64Array > "u" ? Qt : BigUint64Array,
  "%Boolean%": Boolean,
  "%DataView%": typeof DataView > "u" ? Qt : DataView,
  "%Date%": Date,
  "%decodeURI%": decodeURI,
  "%decodeURIComponent%": decodeURIComponent,
  "%encodeURI%": encodeURI,
  "%encodeURIComponent%": encodeURIComponent,
  "%Error%": Error,
  "%eval%": eval,
  // eslint-disable-line no-eval
  "%EvalError%": EvalError,
  "%Float32Array%": typeof Float32Array > "u" ? Qt : Float32Array,
  "%Float64Array%": typeof Float64Array > "u" ? Qt : Float64Array,
  "%FinalizationRegistry%": typeof FinalizationRegistry > "u" ? Qt : FinalizationRegistry,
  "%Function%": hV,
  "%GeneratorFunction%": jh,
  "%Int8Array%": typeof Int8Array > "u" ? Qt : Int8Array,
  "%Int16Array%": typeof Int16Array > "u" ? Qt : Int16Array,
  "%Int32Array%": typeof Int32Array > "u" ? Qt : Int32Array,
  "%isFinite%": isFinite,
  "%isNaN%": isNaN,
  "%IteratorPrototype%": Sh && Tn ? Tn(Tn([][Symbol.iterator]())) : Qt,
  "%JSON%": typeof JSON == "object" ? JSON : Qt,
  "%Map%": typeof Map > "u" ? Qt : Map,
  "%MapIteratorPrototype%": typeof Map > "u" || !Sh || !Tn ? Qt : Tn((/* @__PURE__ */ new Map())[Symbol.iterator]()),
  "%Math%": Math,
  "%Number%": Number,
  "%Object%": Object,
  "%parseFloat%": parseFloat,
  "%parseInt%": parseInt,
  "%Promise%": typeof Promise > "u" ? Qt : Promise,
  "%Proxy%": typeof Proxy > "u" ? Qt : Proxy,
  "%RangeError%": RangeError,
  "%ReferenceError%": ReferenceError,
  "%Reflect%": typeof Reflect > "u" ? Qt : Reflect,
  "%RegExp%": RegExp,
  "%Set%": typeof Set > "u" ? Qt : Set,
  "%SetIteratorPrototype%": typeof Set > "u" || !Sh || !Tn ? Qt : Tn((/* @__PURE__ */ new Set())[Symbol.iterator]()),
  "%SharedArrayBuffer%": typeof SharedArrayBuffer > "u" ? Qt : SharedArrayBuffer,
  "%String%": String,
  "%StringIteratorPrototype%": Sh && Tn ? Tn(""[Symbol.iterator]()) : Qt,
  "%Symbol%": Sh ? Symbol : Qt,
  "%SyntaxError%": hd,
  "%ThrowTypeError%": Mme,
  "%TypedArray%": Bme,
  "%TypeError%": Cf,
  "%Uint8Array%": typeof Uint8Array > "u" ? Qt : Uint8Array,
  "%Uint8ClampedArray%": typeof Uint8ClampedArray > "u" ? Qt : Uint8ClampedArray,
  "%Uint16Array%": typeof Uint16Array > "u" ? Qt : Uint16Array,
  "%Uint32Array%": typeof Uint32Array > "u" ? Qt : Uint32Array,
  "%URIError%": URIError,
  "%WeakMap%": typeof WeakMap > "u" ? Qt : WeakMap,
  "%WeakRef%": typeof WeakRef > "u" ? Qt : WeakRef,
  "%WeakSet%": typeof WeakSet > "u" ? Qt : WeakSet
};
if (Tn)
  try {
    null.error;
  } catch (e13) {
    Fme = Tn(Tn(e13));
    Jc["%Error.prototype%"] = Fme;
  }
var Fme;
var $me = function e3(t) {
  var r;
  if (t === "%AsyncFunction%")
    r = Jw("async function () {}");
  else if (t === "%GeneratorFunction%")
    r = Jw("function* () {}");
  else if (t === "%AsyncGeneratorFunction%")
    r = Jw("async function* () {}");
  else if (t === "%AsyncGenerator%") {
    var n = e3("%AsyncGeneratorFunction%");
    n && (r = n.prototype);
  } else if (t === "%AsyncIteratorPrototype%") {
    var i = e3("%AsyncGenerator%");
    i && Tn && (r = Tn(i.prototype));
  }
  return Jc[t] = r, r;
};
var UF = {
  "%ArrayBufferPrototype%": ["ArrayBuffer", "prototype"],
  "%ArrayPrototype%": ["Array", "prototype"],
  "%ArrayProto_entries%": ["Array", "prototype", "entries"],
  "%ArrayProto_forEach%": ["Array", "prototype", "forEach"],
  "%ArrayProto_keys%": ["Array", "prototype", "keys"],
  "%ArrayProto_values%": ["Array", "prototype", "values"],
  "%AsyncFunctionPrototype%": ["AsyncFunction", "prototype"],
  "%AsyncGenerator%": ["AsyncGeneratorFunction", "prototype"],
  "%AsyncGeneratorPrototype%": ["AsyncGeneratorFunction", "prototype", "prototype"],
  "%BooleanPrototype%": ["Boolean", "prototype"],
  "%DataViewPrototype%": ["DataView", "prototype"],
  "%DatePrototype%": ["Date", "prototype"],
  "%ErrorPrototype%": ["Error", "prototype"],
  "%EvalErrorPrototype%": ["EvalError", "prototype"],
  "%Float32ArrayPrototype%": ["Float32Array", "prototype"],
  "%Float64ArrayPrototype%": ["Float64Array", "prototype"],
  "%FunctionPrototype%": ["Function", "prototype"],
  "%Generator%": ["GeneratorFunction", "prototype"],
  "%GeneratorPrototype%": ["GeneratorFunction", "prototype", "prototype"],
  "%Int8ArrayPrototype%": ["Int8Array", "prototype"],
  "%Int16ArrayPrototype%": ["Int16Array", "prototype"],
  "%Int32ArrayPrototype%": ["Int32Array", "prototype"],
  "%JSONParse%": ["JSON", "parse"],
  "%JSONStringify%": ["JSON", "stringify"],
  "%MapPrototype%": ["Map", "prototype"],
  "%NumberPrototype%": ["Number", "prototype"],
  "%ObjectPrototype%": ["Object", "prototype"],
  "%ObjProto_toString%": ["Object", "prototype", "toString"],
  "%ObjProto_valueOf%": ["Object", "prototype", "valueOf"],
  "%PromisePrototype%": ["Promise", "prototype"],
  "%PromiseProto_then%": ["Promise", "prototype", "then"],
  "%Promise_all%": ["Promise", "all"],
  "%Promise_reject%": ["Promise", "reject"],
  "%Promise_resolve%": ["Promise", "resolve"],
  "%RangeErrorPrototype%": ["RangeError", "prototype"],
  "%ReferenceErrorPrototype%": ["ReferenceError", "prototype"],
  "%RegExpPrototype%": ["RegExp", "prototype"],
  "%SetPrototype%": ["Set", "prototype"],
  "%SharedArrayBufferPrototype%": ["SharedArrayBuffer", "prototype"],
  "%StringPrototype%": ["String", "prototype"],
  "%SymbolPrototype%": ["Symbol", "prototype"],
  "%SyntaxErrorPrototype%": ["SyntaxError", "prototype"],
  "%TypedArrayPrototype%": ["TypedArray", "prototype"],
  "%TypeErrorPrototype%": ["TypeError", "prototype"],
  "%Uint8ArrayPrototype%": ["Uint8Array", "prototype"],
  "%Uint8ClampedArrayPrototype%": ["Uint8ClampedArray", "prototype"],
  "%Uint16ArrayPrototype%": ["Uint16Array", "prototype"],
  "%Uint32ArrayPrototype%": ["Uint32Array", "prototype"],
  "%URIErrorPrototype%": ["URIError", "prototype"],
  "%WeakMapPrototype%": ["WeakMap", "prototype"],
  "%WeakSetPrototype%": ["WeakSet", "prototype"]
};
var Gv = eN;
var R0 = zs;
var Hme = Gv.call(Function.call, Array.prototype.concat);
var Ume = Gv.call(Function.apply, Array.prototype.splice);
var jF = Gv.call(Function.call, String.prototype.replace);
var N0 = Gv.call(Function.call, String.prototype.slice);
var jme = Gv.call(Function.call, RegExp.prototype.exec);
var Gme = /[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g;
var zme = /\\(\\)?/g;
var Vme = function(t) {
  var r = N0(t, 0, 1), n = N0(t, -1);
  if (r === "%" && n !== "%")
    throw new hd("invalid intrinsic syntax, expected closing `%`");
  if (n === "%" && r !== "%")
    throw new hd("invalid intrinsic syntax, expected opening `%`");
  var i = [];
  return jF(t, Gme, function(o, a, s, l) {
    i[i.length] = s ? jF(l, zme, "$1") : a || o;
  }), i;
};
var Xme = function(t, r) {
  var n = t, i;
  if (R0(UF, n) && (i = UF[n], n = "%" + i[0] + "%"), R0(Jc, n)) {
    var o = Jc[n];
    if (o === jh && (o = $me(n)), typeof o > "u" && !r)
      throw new Cf("intrinsic " + t + " exists, but is not available. Please file an issue!");
    return {
      alias: i,
      name: n,
      value: o
    };
  }
  throw new hd("intrinsic " + t + " does not exist!");
};
var ir = function(t, r) {
  if (typeof t != "string" || t.length === 0)
    throw new Cf("intrinsic name must be a non-empty string");
  if (arguments.length > 1 && typeof r != "boolean")
    throw new Cf('"allowMissing" argument must be a boolean');
  if (jme(/^%?[^%]*%?$/, t) === null)
    throw new hd("`%` may not be present anywhere but at the beginning and end of the intrinsic name");
  var n = Vme(t), i = n.length > 0 ? n[0] : "", o = Xme("%" + i + "%", r), a = o.name, s = o.value, l = false, u = o.alias;
  u && (i = u[0], Ume(n, Hme([0, 1], u)));
  for (var c = 1, f = true; c < n.length; c += 1) {
    var h = n[c], d = N0(h, 0, 1), p = N0(h, -1);
    if ((d === '"' || d === "'" || d === "`" || p === '"' || p === "'" || p === "`") && d !== p)
      throw new hd("property names with quotes must have matching quotes");
    if ((h === "constructor" || !f) && (l = true), i += "." + h, a = "%" + i + "%", R0(Jc, a))
      s = Jc[a];
    else if (s != null) {
      if (!(h in s)) {
        if (!r)
          throw new Cf("base intrinsic for " + t + " exists, but the property is not available.");
        return;
      }
      if (Qc && c + 1 >= n.length) {
        var m = Qc(s, h);
        f = !!m, f && "get" in m && !("originalValue" in m.get) ? s = m.get : s = s[h];
      } else
        f = R0(s, h), s = s[h];
      f && !l && (Jc[a] = s);
    }
  }
  return s;
};
var Wme = ir;
var PP = Wme("%Object.defineProperty%", true);
var CP = function() {
  if (PP)
    try {
      return PP({}, "a", {
        value: 1
      }), true;
    } catch {
      return false;
    }
  return false;
};
CP.hasArrayLengthDefineBug = function() {
  if (!CP())
    return null;
  try {
    return PP([], "length", {
      value: 1
    }).length !== 1;
  } catch {
    return true;
  }
};
var _1 = CP;
var Yme = ir;
var ob = Yme("%Object.getOwnPropertyDescriptor%", true);
if (ob)
  try {
    ob([], "length");
  } catch {
    ob = null;
  }
var tN = ob;
var qme = _1();
var rN = ir;
var Km = qme && rN("%Object.defineProperty%", true);
if (Km)
  try {
    Km({}, "a", {
      value: 1
    });
  } catch {
    Km = false;
  }
var Kme = rN("%SyntaxError%");
var wh = rN("%TypeError%");
var GF = tN;
var fV = function(t, r, n) {
  if (!t || typeof t != "object" && typeof t != "function")
    throw new wh("`obj` must be an object or a function`");
  if (typeof r != "string" && typeof r != "symbol")
    throw new wh("`property` must be a string or a symbol`");
  if (arguments.length > 3 && typeof arguments[3] != "boolean" && arguments[3] !== null)
    throw new wh("`nonEnumerable`, if provided, must be a boolean or null");
  if (arguments.length > 4 && typeof arguments[4] != "boolean" && arguments[4] !== null)
    throw new wh("`nonWritable`, if provided, must be a boolean or null");
  if (arguments.length > 5 && typeof arguments[5] != "boolean" && arguments[5] !== null)
    throw new wh("`nonConfigurable`, if provided, must be a boolean or null");
  if (arguments.length > 6 && typeof arguments[6] != "boolean")
    throw new wh("`loose`, if provided, must be a boolean");
  var i = arguments.length > 3 ? arguments[3] : null, o = arguments.length > 4 ? arguments[4] : null, a = arguments.length > 5 ? arguments[5] : null, s = arguments.length > 6 ? arguments[6] : false, l = !!GF && GF(t, r);
  if (Km)
    Km(t, r, {
      configurable: a === null && l ? l.configurable : !a,
      enumerable: i === null && l ? l.enumerable : !i,
      value: n,
      writable: o === null && l ? l.writable : !o
    });
  else if (s || !i && !o && !a)
    t[r] = n;
  else
    throw new Kme("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");
};
var Zme = lV;
var Qme = typeof Symbol == "function" && typeof Symbol("foo") == "symbol";
var Jme = Object.prototype.toString;
var ege = Array.prototype.concat;
var zF = fV;
var tge = function(e13) {
  return typeof e13 == "function" && Jme.call(e13) === "[object Function]";
};
var dV = _1();
var rge = function(e13, t, r, n) {
  if (t in e13) {
    if (n === true) {
      if (e13[t] === r)
        return;
    } else if (!tge(n) || !n())
      return;
  }
  dV ? zF(e13, t, r, true) : zF(e13, t, r);
};
var pV = function(e13, t) {
  var r = arguments.length > 2 ? arguments[2] : {}, n = Zme(t);
  Qme && (n = ege.call(n, Object.getOwnPropertySymbols(t)));
  for (var i = 0; i < n.length; i += 1)
    rge(e13, n[i], t[n[i]], r[n[i]]);
};
pV.supportsDescriptors = !!dV;
var ni = pV;
var mV = { exports: {} };
var gV = ir;
var VF = fV;
var nge = _1();
var XF = tN;
var WF = gV("%TypeError%");
var ige = gV("%Math.floor%");
var oge = function(t, r) {
  if (typeof t != "function")
    throw new WF("`fn` is not a function");
  if (typeof r != "number" || r < 0 || r > 4294967295 || ige(r) !== r)
    throw new WF("`length` must be a positive 32-bit integer");
  var n = arguments.length > 2 && !!arguments[2], i = true, o = true;
  if ("length" in t && XF) {
    var a = XF(t, "length");
    a && !a.configurable && (i = false), a && !a.writable && (o = false);
  }
  return (i || o || !n) && (nge ? VF(t, "length", r, true, true) : VF(t, "length", r)), t;
};
(function(e13) {
  var t = eN, r = ir, n = oge, i = r("%TypeError%"), o = r("%Function.prototype.apply%"), a = r("%Function.prototype.call%"), s = r("%Reflect.apply%", true) || t.call(a, o), l = r("%Object.defineProperty%", true), u = r("%Math.max%");
  if (l)
    try {
      l({}, "a", {
        value: 1
      });
    } catch {
      l = null;
    }
  e13.exports = function(h) {
    if (typeof h != "function")
      throw new i("a function is required");
    var d = s(t, a, arguments);
    return n(d, 1 + u(0, h.length - (arguments.length - 1)), true);
  };
  var c = function() {
    return s(t, o, arguments);
  };
  l ? l(e13.exports, "apply", {
    value: c
  }) : e13.exports.apply = c;
})(mV);
var Vs = mV.exports;
var vV = ir;
var yV = Vs;
var age = yV(vV("String.prototype.indexOf"));
var wi = function(t, r) {
  var n = vV(t, !!r);
  return typeof n == "function" && age(t, ".prototype.") > -1 ? yV(n) : n;
};
var sge = lV;
var _V = JR();
var bV = wi;
var YF = Object;
var lge = bV("Array.prototype.push");
var qF = bV("Object.prototype.propertyIsEnumerable");
var cge = _V ? Object.getOwnPropertySymbols : null;
var TV = function(t, r) {
  if (t == null)
    throw new TypeError("target must be an object");
  var n = YF(t);
  if (arguments.length === 1)
    return n;
  for (var i = 1; i < arguments.length; ++i) {
    var o = YF(arguments[i]), a = sge(o), s = _V && (Object.getOwnPropertySymbols || cge);
    if (s)
      for (var l = s(o), u = 0; u < l.length; ++u) {
        var c = l[u];
        qF(o, c) && lge(a, c);
      }
    for (var f = 0; f < a.length; ++f) {
      var h = a[f];
      if (qF(o, h)) {
        var d = o[h];
        n[h] = d;
      }
    }
  }
  return n;
};
var tA = TV;
var uge = function() {
  if (!Object.assign)
    return false;
  for (var e13 = "abcdefghijklmnopqrst", t = e13.split(""), r = {}, n = 0; n < t.length; ++n)
    r[t[n]] = t[n];
  var i = Object.assign({}, r), o = "";
  for (var a in i)
    o += a;
  return e13 !== o;
};
var hge = function() {
  if (!Object.assign || !Object.preventExtensions)
    return false;
  var e13 = Object.preventExtensions({
    1: 2
  });
  try {
    Object.assign(e13, "xy");
  } catch {
    return e13[1] === "y";
  }
  return false;
};
var EV = function() {
  return !Object.assign || uge() || hge() ? tA : Object.assign;
};
var fge = ni;
var dge = EV;
var pge = function() {
  var t = dge();
  return fge(Object, {
    assign: t
  }, {
    assign: function() {
      return Object.assign !== t;
    }
  }), t;
};
var mge = ni;
var gge = Vs;
var vge = TV;
var SV = EV;
var yge = pge;
var _ge = gge.apply(SV());
var wV = function(t, r) {
  return _ge(Object, arguments);
};
mge(wV, {
  getPolyfill: SV,
  implementation: vge,
  shim: yge
});
var tp = wV;
var b1 = Number.isNaN || function(t) {
  return t !== t;
};
var bge = b1;
var AV = function(e13) {
  return (typeof e13 == "number" || typeof e13 == "bigint") && !bge(e13) && e13 !== 1 / 0 && e13 !== -1 / 0;
};
var rA;
var KF;
function nN() {
  if (KF)
    return rA;
  KF = 1;
  var e13 = ir, t = e13("%Math.abs%"), r = e13("%Math.floor%"), n = b1, i = AV;
  return rA = function(a) {
    if (typeof a != "number" || n(a) || !i(a))
      return false;
    var s = t(a);
    return r(s) === s;
  }, rA;
}
var nA;
var ZF;
function Tge() {
  if (ZF)
    return nA;
  ZF = 1;
  var e13 = ir, t = e13("%Array.prototype%"), r = e13("%RangeError%"), n = e13("%SyntaxError%"), i = e13("%TypeError%"), o = nN(), a = Math.pow(2, 32) - 1, s = uV(), l = e13("%Object.setPrototypeOf%", true) || (s ? function(u, c) {
    return u.__proto__ = c, u;
  } : null);
  return nA = function(c) {
    if (!o(c) || c < 0)
      throw new i("Assertion failed: `length` must be an integer Number >= 0");
    if (c > a)
      throw new r("length is greater than (2**32 - 1)");
    var f = arguments.length > 1 ? arguments[1] : t, h = [];
    if (f !== t) {
      if (!l)
        throw new n("ArrayCreate: a `proto` argument that is not `Array.prototype` is not supported in an environment that does not support setting the [[Prototype]]");
      l(h, f);
    }
    return c !== 0 && (h.length = c), h;
  }, nA;
}
var Ege = {};
var Sge = Object.freeze(Object.defineProperty({
  __proto__: null,
  default: Ege
}, Symbol.toStringTag, { value: "Module" }));
var wge = Hs(Sge);
var iN = typeof Map == "function" && Map.prototype;
var iA = Object.getOwnPropertyDescriptor && iN ? Object.getOwnPropertyDescriptor(Map.prototype, "size") : null;
var M0 = iN && iA && typeof iA.get == "function" ? iA.get : null;
var QF = iN && Map.prototype.forEach;
var oN = typeof Set == "function" && Set.prototype;
var oA = Object.getOwnPropertyDescriptor && oN ? Object.getOwnPropertyDescriptor(Set.prototype, "size") : null;
var L0 = oN && oA && typeof oA.get == "function" ? oA.get : null;
var JF = oN && Set.prototype.forEach;
var Age = typeof WeakMap == "function" && WeakMap.prototype;
var Zm = Age ? WeakMap.prototype.has : null;
var Oge = typeof WeakSet == "function" && WeakSet.prototype;
var Qm = Oge ? WeakSet.prototype.has : null;
var Ige = typeof WeakRef == "function" && WeakRef.prototype;
var e$ = Ige ? WeakRef.prototype.deref : null;
var Pge = Boolean.prototype.valueOf;
var Cge = Object.prototype.toString;
var xge = Function.prototype.toString;
var kge = String.prototype.match;
var aN = String.prototype.slice;
var xl = String.prototype.replace;
var Dge = String.prototype.toUpperCase;
var t$ = String.prototype.toLowerCase;
var OV = RegExp.prototype.test;
var r$ = Array.prototype.concat;
var ga = Array.prototype.join;
var Rge = Array.prototype.slice;
var n$ = Math.floor;
var xP = typeof BigInt == "function" ? BigInt.prototype.valueOf : null;
var aA = Object.getOwnPropertySymbols;
var kP = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? Symbol.prototype.toString : null;
var fd = typeof Symbol == "function" && typeof Symbol.iterator == "object";
var ti = typeof Symbol == "function" && Symbol.toStringTag && (typeof Symbol.toStringTag === fd || true) ? Symbol.toStringTag : null;
var IV = Object.prototype.propertyIsEnumerable;
var i$ = (typeof Reflect == "function" ? Reflect.getPrototypeOf : Object.getPrototypeOf) || ([].__proto__ === Array.prototype ? function(e13) {
  return e13.__proto__;
} : null);
function o$(e13, t) {
  if (e13 === 1 / 0 || e13 === -1 / 0 || e13 !== e13 || e13 && e13 > -1e3 && e13 < 1e3 || OV.call(/e/, t))
    return t;
  var r = /[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;
  if (typeof e13 == "number") {
    var n = e13 < 0 ? -n$(-e13) : n$(e13);
    if (n !== e13) {
      var i = String(n), o = aN.call(t, i.length + 1);
      return xl.call(i, r, "$&_") + "." + xl.call(xl.call(o, /([0-9]{3})/g, "$&_"), /_$/, "");
    }
  }
  return xl.call(t, r, "$&_");
}
var DP = wge;
var a$ = DP.custom;
var s$ = xV(a$) ? a$ : null;
var PV = function e4(t, r, n, i) {
  var o = r || {};
  if (_l(o, "quoteStyle") && o.quoteStyle !== "single" && o.quoteStyle !== "double")
    throw new TypeError('option "quoteStyle" must be "single" or "double"');
  if (_l(o, "maxStringLength") && (typeof o.maxStringLength == "number" ? o.maxStringLength < 0 && o.maxStringLength !== 1 / 0 : o.maxStringLength !== null))
    throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');
  var a = _l(o, "customInspect") ? o.customInspect : true;
  if (typeof a != "boolean" && a !== "symbol")
    throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");
  if (_l(o, "indent") && o.indent !== null && o.indent !== "	" && !(parseInt(o.indent, 10) === o.indent && o.indent > 0))
    throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');
  if (_l(o, "numericSeparator") && typeof o.numericSeparator != "boolean")
    throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');
  var s = o.numericSeparator;
  if (typeof t > "u")
    return "undefined";
  if (t === null)
    return "null";
  if (typeof t == "boolean")
    return t ? "true" : "false";
  if (typeof t == "string")
    return DV(t, o);
  if (typeof t == "number") {
    if (t === 0)
      return 1 / 0 / t > 0 ? "0" : "-0";
    var l = String(t);
    return s ? o$(t, l) : l;
  }
  if (typeof t == "bigint") {
    var u = String(t) + "n";
    return s ? o$(t, u) : u;
  }
  var c = typeof o.depth > "u" ? 5 : o.depth;
  if (typeof n > "u" && (n = 0), n >= c && c > 0 && typeof t == "object")
    return RP(t) ? "[Array]" : "[Object]";
  var f = Zge(o, n);
  if (typeof i > "u")
    i = [];
  else if (kV(i, t) >= 0)
    return "[Circular]";
  function h(L, A, R) {
    if (A && (i = Rge.call(i), i.push(A)), R) {
      var F = {
        depth: o.depth
      };
      return _l(o, "quoteStyle") && (F.quoteStyle = o.quoteStyle), e4(L, F, n + 1, i);
    }
    return e4(L, o, n + 1, i);
  }
  if (typeof t == "function" && !l$(t)) {
    var d = jge(t), p = r_(t, h);
    return "[Function" + (d ? ": " + d : " (anonymous)") + "]" + (p.length > 0 ? " { " + ga.call(p, ", ") + " }" : "");
  }
  if (xV(t)) {
    var m = fd ? xl.call(String(t), /^(Symbol\(.*\))_[^)]*$/, "$1") : kP.call(t);
    return typeof t == "object" && !fd ? Wp(m) : m;
  }
  if (Yge(t)) {
    for (var g = "<" + t$.call(String(t.nodeName)), v = t.attributes || [], b = 0; b < v.length; b++)
      g += " " + v[b].name + "=" + CV(Nge(v[b].value), "double", o);
    return g += ">", t.childNodes && t.childNodes.length && (g += "..."), g += "</" + t$.call(String(t.nodeName)) + ">", g;
  }
  if (RP(t)) {
    if (t.length === 0)
      return "[]";
    var y = r_(t, h);
    return f && !Kge(y) ? "[" + NP(y, f) + "]" : "[ " + ga.call(y, ", ") + " ]";
  }
  if (Lge(t)) {
    var _ = r_(t, h);
    return !("cause" in Error.prototype) && "cause" in t && !IV.call(t, "cause") ? "{ [" + String(t) + "] " + ga.call(r$.call("[cause]: " + h(t.cause), _), ", ") + " }" : _.length === 0 ? "[" + String(t) + "]" : "{ [" + String(t) + "] " + ga.call(_, ", ") + " }";
  }
  if (typeof t == "object" && a) {
    if (s$ && typeof t[s$] == "function" && DP)
      return DP(t, {
        depth: c - n
      });
    if (a !== "symbol" && typeof t.inspect == "function")
      return t.inspect();
  }
  if (Gge(t)) {
    var T = [];
    return QF && QF.call(t, function(L, A) {
      T.push(h(A, t, true) + " => " + h(L, t));
    }), c$("Map", M0.call(t), T, f);
  }
  if (Xge(t)) {
    var E = [];
    return JF && JF.call(t, function(L) {
      E.push(h(L, t));
    }), c$("Set", L0.call(t), E, f);
  }
  if (zge(t))
    return sA("WeakMap");
  if (Wge(t))
    return sA("WeakSet");
  if (Vge(t))
    return sA("WeakRef");
  if (Fge(t))
    return Wp(h(Number(t)));
  if (Hge(t))
    return Wp(h(xP.call(t)));
  if ($ge(t))
    return Wp(Pge.call(t));
  if (Bge(t))
    return Wp(h(String(t)));
  if (typeof window < "u" && t === window)
    return "{ [object Window] }";
  if (t === globalThis)
    return "{ [object globalThis] }";
  if (!Mge(t) && !l$(t)) {
    var O = r_(t, h), S = i$ ? i$(t) === Object.prototype : t instanceof Object || t.constructor === Object, P = t instanceof Object ? "" : "null prototype", C = !S && ti && Object(t) === t && ti in t ? aN.call(tc(t), 8, -1) : P ? "Object" : "", w = S || typeof t.constructor != "function" ? "" : t.constructor.name ? t.constructor.name + " " : "", N = w + (C || P ? "[" + ga.call(r$.call([], C || [], P || []), ": ") + "] " : "");
    return O.length === 0 ? N + "{}" : f ? N + "{" + NP(O, f) + "}" : N + "{ " + ga.call(O, ", ") + " }";
  }
  return String(t);
};
function CV(e13, t, r) {
  var n = (r.quoteStyle || t) === "double" ? '"' : "'";
  return n + e13 + n;
}
function Nge(e13) {
  return xl.call(String(e13), /"/g, "&quot;");
}
function RP(e13) {
  return tc(e13) === "[object Array]" && (!ti || !(typeof e13 == "object" && ti in e13));
}
function Mge(e13) {
  return tc(e13) === "[object Date]" && (!ti || !(typeof e13 == "object" && ti in e13));
}
function l$(e13) {
  return tc(e13) === "[object RegExp]" && (!ti || !(typeof e13 == "object" && ti in e13));
}
function Lge(e13) {
  return tc(e13) === "[object Error]" && (!ti || !(typeof e13 == "object" && ti in e13));
}
function Bge(e13) {
  return tc(e13) === "[object String]" && (!ti || !(typeof e13 == "object" && ti in e13));
}
function Fge(e13) {
  return tc(e13) === "[object Number]" && (!ti || !(typeof e13 == "object" && ti in e13));
}
function $ge(e13) {
  return tc(e13) === "[object Boolean]" && (!ti || !(typeof e13 == "object" && ti in e13));
}
function xV(e13) {
  if (fd)
    return e13 && typeof e13 == "object" && e13 instanceof Symbol;
  if (typeof e13 == "symbol")
    return true;
  if (!e13 || typeof e13 != "object" || !kP)
    return false;
  try {
    return kP.call(e13), true;
  } catch {
  }
  return false;
}
function Hge(e13) {
  if (!e13 || typeof e13 != "object" || !xP)
    return false;
  try {
    return xP.call(e13), true;
  } catch {
  }
  return false;
}
var Uge = Object.prototype.hasOwnProperty || function(e13) {
  return e13 in this;
};
function _l(e13, t) {
  return Uge.call(e13, t);
}
function tc(e13) {
  return Cge.call(e13);
}
function jge(e13) {
  if (e13.name)
    return e13.name;
  var t = kge.call(xge.call(e13), /^function\s*([\w$]+)/);
  return t ? t[1] : null;
}
function kV(e13, t) {
  if (e13.indexOf)
    return e13.indexOf(t);
  for (var r = 0, n = e13.length; r < n; r++)
    if (e13[r] === t)
      return r;
  return -1;
}
function Gge(e13) {
  if (!M0 || !e13 || typeof e13 != "object")
    return false;
  try {
    M0.call(e13);
    try {
      L0.call(e13);
    } catch {
      return true;
    }
    return e13 instanceof Map;
  } catch {
  }
  return false;
}
function zge(e13) {
  if (!Zm || !e13 || typeof e13 != "object")
    return false;
  try {
    Zm.call(e13, Zm);
    try {
      Qm.call(e13, Qm);
    } catch {
      return true;
    }
    return e13 instanceof WeakMap;
  } catch {
  }
  return false;
}
function Vge(e13) {
  if (!e$ || !e13 || typeof e13 != "object")
    return false;
  try {
    return e$.call(e13), true;
  } catch {
  }
  return false;
}
function Xge(e13) {
  if (!L0 || !e13 || typeof e13 != "object")
    return false;
  try {
    L0.call(e13);
    try {
      M0.call(e13);
    } catch {
      return true;
    }
    return e13 instanceof Set;
  } catch {
  }
  return false;
}
function Wge(e13) {
  if (!Qm || !e13 || typeof e13 != "object")
    return false;
  try {
    Qm.call(e13, Qm);
    try {
      Zm.call(e13, Zm);
    } catch {
      return true;
    }
    return e13 instanceof WeakSet;
  } catch {
  }
  return false;
}
function Yge(e13) {
  return !e13 || typeof e13 != "object" ? false : typeof HTMLElement < "u" && e13 instanceof HTMLElement ? true : typeof e13.nodeName == "string" && typeof e13.getAttribute == "function";
}
function DV(e13, t) {
  if (e13.length > t.maxStringLength) {
    var r = e13.length - t.maxStringLength, n = "... " + r + " more character" + (r > 1 ? "s" : "");
    return DV(aN.call(e13, 0, t.maxStringLength), t) + n;
  }
  var i = xl.call(xl.call(e13, /(['\\])/g, "\\$1"), /[\x00-\x1f]/g, qge);
  return CV(i, "single", t);
}
function qge(e13) {
  var t = e13.charCodeAt(0), r = {
    8: "b",
    9: "t",
    10: "n",
    12: "f",
    13: "r"
  }[t];
  return r ? "\\" + r : "\\x" + (t < 16 ? "0" : "") + Dge.call(t.toString(16));
}
function Wp(e13) {
  return "Object(" + e13 + ")";
}
function sA(e13) {
  return e13 + " { ? }";
}
function c$(e13, t, r, n) {
  var i = n ? NP(r, n) : ga.call(r, ", ");
  return e13 + " (" + t + ") {" + i + "}";
}
function Kge(e13) {
  for (var t = 0; t < e13.length; t++)
    if (kV(e13[t], `
`) >= 0)
      return false;
  return true;
}
function Zge(e13, t) {
  var r;
  if (e13.indent === "	")
    r = "	";
  else if (typeof e13.indent == "number" && e13.indent > 0)
    r = ga.call(Array(e13.indent + 1), " ");
  else
    return null;
  return {
    base: r,
    prev: ga.call(Array(t + 1), r)
  };
}
function NP(e13, t) {
  if (e13.length === 0)
    return "";
  var r = `
` + t.prev + t.base;
  return r + ga.call(e13, "," + r) + `
` + t.prev;
}
function r_(e13, t) {
  var r = RP(e13), n = [];
  if (r) {
    n.length = e13.length;
    for (var i = 0; i < e13.length; i++)
      n[i] = _l(e13, i) ? t(e13[i], e13) : "";
  }
  var o = typeof aA == "function" ? aA(e13) : [], a;
  if (fd) {
    a = {};
    for (var s = 0; s < o.length; s++)
      a["$" + o[s]] = o[s];
  }
  for (var l in e13)
    _l(e13, l) && (r && String(Number(l)) === l && l < e13.length || fd && a["$" + l] instanceof Symbol || (OV.call(/[^\w$]/, l) ? n.push(t(l, e13) + ": " + t(e13[l], e13)) : n.push(l + ": " + t(e13[l], e13))));
  if (typeof aA == "function")
    for (var u = 0; u < o.length; u++)
      IV.call(e13, o[u]) && n.push("[" + t(o[u]) + "]: " + t(e13[o[u]], e13));
  return n;
}
var lA;
var u$;
function rc() {
  return u$ || (u$ = 1, lA = function(t) {
    return typeof t == "string" || typeof t == "symbol";
  }), lA;
}
var cA;
var h$;
function Qge() {
  return h$ || (h$ = 1, cA = function(t) {
    if (t === null)
      return "Null";
    if (typeof t > "u")
      return "Undefined";
    if (typeof t == "function" || typeof t == "object")
      return "Object";
    if (typeof t == "number")
      return "Number";
    if (typeof t == "boolean")
      return "Boolean";
    if (typeof t == "string")
      return "String";
  }), cA;
}
var uA;
var f$;
function Gn() {
  if (f$)
    return uA;
  f$ = 1;
  var e13 = Qge();
  return uA = function(r) {
    return typeof r == "symbol" ? "Symbol" : typeof r == "bigint" ? "BigInt" : e13(r);
  }, uA;
}
var Jge = ir;
var d$ = Jge("%TypeError%");
var eve = PV;
var tve = rc();
var rve = Gn();
var zv = function(t, r) {
  if (rve(t) !== "Object")
    throw new d$("Assertion failed: Type(O) is not Object");
  if (!tve(r))
    throw new d$("Assertion failed: IsPropertyKey(P) is not true, got " + eve(r));
  return t[r];
};
var hA;
var p$;
function RV() {
  if (p$)
    return hA;
  p$ = 1;
  var e13 = ir, t = e13("%Array%"), r = !t.isArray && wi("Object.prototype.toString");
  return hA = t.isArray || function(i) {
    return r(i) === "[object Array]";
  }, hA;
}
var fA;
var m$;
function sN() {
  return m$ || (m$ = 1, fA = RV()), fA;
}
var n_ = { exports: {} };
var dA;
var g$;
function nve() {
  return g$ || (g$ = 1, dA = ir), dA;
}
var pA;
var v$;
function lN() {
  if (v$)
    return pA;
  v$ = 1;
  var e13 = ir, t = zs, r = e13("%TypeError%");
  return pA = function(i, o) {
    if (i.Type(o) !== "Object")
      return false;
    var a = {
      "[[Configurable]]": true,
      "[[Enumerable]]": true,
      "[[Get]]": true,
      "[[Set]]": true,
      "[[Value]]": true,
      "[[Writable]]": true
    };
    for (var s in o)
      if (t(o, s) && !a[s])
        return false;
    if (i.IsDataDescriptor(o) && i.IsAccessorDescriptor(o))
      throw new r("Property Descriptors may not be both accessor and data descriptors");
    return true;
  }, pA;
}
var mA;
var y$;
function NV() {
  if (y$)
    return mA;
  y$ = 1;
  var e13 = _1, t = ir, r = e13() && t("%Object.defineProperty%", true), n = e13.hasArrayLengthDefineBug(), i = n && RV(), o = wi, a = o("Object.prototype.propertyIsEnumerable");
  return mA = function(l, u, c, f, h, d) {
    if (!r) {
      if (!l(d) || !d["[[Configurable]]"] || !d["[[Writable]]"] || h in f && a(f, h) !== !!d["[[Enumerable]]"])
        return false;
      var p = d["[[Value]]"];
      return f[h] = p, u(f[h], p);
    }
    return n && h === "length" && "[[Value]]" in d && i(f) && f.length !== d["[[Value]]"] ? (f.length = d["[[Value]]"], f.length === d["[[Value]]"]) : (r(f, h, c(d)), true);
  }, mA;
}
var gA;
var _$;
function ive() {
  if (_$)
    return gA;
  _$ = 1;
  var e13 = zs;
  return gA = function(r) {
    return e13(r, "[[StartIndex]]") && e13(r, "[[EndIndex]]") && r["[[StartIndex]]"] >= 0 && r["[[EndIndex]]"] >= r["[[StartIndex]]"] && String(parseInt(r["[[StartIndex]]"], 10)) === String(r["[[StartIndex]]"]) && String(parseInt(r["[[EndIndex]]"], 10)) === String(r["[[EndIndex]]"]);
  }, gA;
}
var vA;
var b$;
function T1() {
  if (b$)
    return vA;
  b$ = 1;
  var e13 = ir, t = e13("%TypeError%"), r = e13("%SyntaxError%"), n = zs, i = nN(), o = ive(), a = {
    // https://262.ecma-international.org/6.0/#sec-property-descriptor-specification-type
    "Property Descriptor": function(l) {
      var u = {
        "[[Configurable]]": true,
        "[[Enumerable]]": true,
        "[[Get]]": true,
        "[[Set]]": true,
        "[[Value]]": true,
        "[[Writable]]": true
      };
      if (!l)
        return false;
      for (var c in l)
        if (n(l, c) && !u[c])
          return false;
      var f = n(l, "[[Value]]"), h = n(l, "[[Get]]") || n(l, "[[Set]]");
      if (f && h)
        throw new t("Property Descriptors may not be both accessor and data descriptors");
      return true;
    },
    // https://262.ecma-international.org/13.0/#sec-match-records
    "Match Record": o,
    "Iterator Record": function(l) {
      return n(l, "[[Iterator]]") && n(l, "[[NextMethod]]") && n(l, "[[Done]]");
    },
    "PromiseCapability Record": function(l) {
      return !!l && n(l, "[[Resolve]]") && typeof l["[[Resolve]]"] == "function" && n(l, "[[Reject]]") && typeof l["[[Reject]]"] == "function" && n(l, "[[Promise]]") && l["[[Promise]]"] && typeof l["[[Promise]]"].then == "function";
    },
    "AsyncGeneratorRequest Record": function(l) {
      return !!l && n(l, "[[Completion]]") && n(l, "[[Capability]]") && a["PromiseCapability Record"](l["[[Capability]]"]);
    },
    "RegExp Record": function(l) {
      return l && n(l, "[[IgnoreCase]]") && typeof l["[[IgnoreCase]]"] == "boolean" && n(l, "[[Multiline]]") && typeof l["[[Multiline]]"] == "boolean" && n(l, "[[DotAll]]") && typeof l["[[DotAll]]"] == "boolean" && n(l, "[[Unicode]]") && typeof l["[[Unicode]]"] == "boolean" && n(l, "[[CapturingGroupsCount]]") && typeof l["[[CapturingGroupsCount]]"] == "number" && i(l["[[CapturingGroupsCount]]"]) && l["[[CapturingGroupsCount]]"] >= 0;
    }
  };
  return vA = function(l, u, c, f) {
    var h = a[u];
    if (typeof h != "function")
      throw new r("unknown record type: " + u);
    if (l(f) !== "Object" || !h(f))
      throw new t(c + " must be a " + u);
  }, vA;
}
var yA;
var T$;
function ove() {
  return T$ || (T$ = 1, yA = function(t) {
    if (typeof t > "u")
      return t;
    var r = {};
    return "[[Value]]" in t && (r.value = t["[[Value]]"]), "[[Writable]]" in t && (r.writable = !!t["[[Writable]]"]), "[[Get]]" in t && (r.get = t["[[Get]]"]), "[[Set]]" in t && (r.set = t["[[Set]]"]), "[[Enumerable]]" in t && (r.enumerable = !!t["[[Enumerable]]"]), "[[Configurable]]" in t && (r.configurable = !!t["[[Configurable]]"]), r;
  }), yA;
}
var _A;
var E$;
function MV() {
  if (E$)
    return _A;
  E$ = 1;
  var e13 = T1(), t = ove(), r = Gn();
  return _A = function(i) {
    return typeof i < "u" && e13(r, "Property Descriptor", "Desc", i), t(i);
  }, _A;
}
var bA;
var S$;
function E1() {
  if (S$)
    return bA;
  S$ = 1;
  var e13 = zs, t = Gn(), r = T1();
  return bA = function(i) {
    return !(typeof i > "u" || (r(t, "Property Descriptor", "Desc", i), !e13(i, "[[Get]]") && !e13(i, "[[Set]]")));
  }, bA;
}
var TA;
var w$;
function S1() {
  if (w$)
    return TA;
  w$ = 1;
  var e13 = zs, t = Gn(), r = T1();
  return TA = function(i) {
    return !(typeof i > "u" || (r(t, "Property Descriptor", "Desc", i), !e13(i, "[[Value]]") && !e13(i, "[[Writable]]")));
  }, TA;
}
var EA;
var A$;
function cN() {
  if (A$)
    return EA;
  A$ = 1;
  var e13 = b1;
  return EA = function(r, n) {
    return r === n ? r === 0 ? 1 / r === 1 / n : true : e13(r) && e13(n);
  }, EA;
}
var LV = function(t) {
  return !!t;
};
var BV = Function.prototype.toString;
var ff = typeof Reflect == "object" && Reflect !== null && Reflect.apply;
var MP;
var ab;
if (typeof ff == "function" && typeof Object.defineProperty == "function")
  try {
    MP = Object.defineProperty({}, "length", {
      get: function() {
        throw ab;
      }
    }), ab = {}, ff(function() {
      throw 42;
    }, null, MP);
  } catch (e13) {
    e13 !== ab && (ff = null);
  }
else
  ff = null;
var ave = /^\s*class\b/;
var LP = function(t) {
  try {
    var r = BV.call(t);
    return ave.test(r);
  } catch {
    return false;
  }
};
var SA = function(t) {
  try {
    return LP(t) ? false : (BV.call(t), true);
  } catch {
    return false;
  }
};
var sb = Object.prototype.toString;
var sve = "[object Object]";
var lve = "[object Function]";
var cve = "[object GeneratorFunction]";
var uve = "[object HTMLAllCollection]";
var hve = "[object HTML document.all class]";
var fve = "[object HTMLCollection]";
var dve = typeof Symbol == "function" && !!Symbol.toStringTag;
var pve = !(0 in [,]);
var BP = function() {
  return false;
};
if (typeof document == "object") {
  mve = document.all;
  sb.call(mve) === sb.call(document.all) && (BP = function(t) {
    if ((pve || !t) && (typeof t > "u" || typeof t == "object"))
      try {
        var r = sb.call(t);
        return (r === uve || r === hve || r === fve || r === sve) && t("") == null;
      } catch {
      }
    return false;
  });
}
var mve;
var uN = ff ? function(t) {
  if (BP(t))
    return true;
  if (!t || typeof t != "function" && typeof t != "object")
    return false;
  try {
    ff(t, null, MP);
  } catch (r) {
    if (r !== ab)
      return false;
  }
  return !LP(t) && SA(t);
} : function(t) {
  if (BP(t))
    return true;
  if (!t || typeof t != "function" && typeof t != "object")
    return false;
  if (dve)
    return SA(t);
  if (LP(t))
    return false;
  var r = sb.call(t);
  return r !== lve && r !== cve && !/^\[object HTML/.test(r) ? false : SA(t);
};
var hN = uN;
var wA;
var O$;
function FV() {
  if (O$)
    return wA;
  O$ = 1;
  var e13 = zs, t = ir, r = t("%TypeError%"), n = Gn(), i = LV, o = hN;
  return wA = function(s) {
    if (n(s) !== "Object")
      throw new r("ToPropertyDescriptor requires an object");
    var l = {};
    if (e13(s, "enumerable") && (l["[[Enumerable]]"] = i(s.enumerable)), e13(s, "configurable") && (l["[[Configurable]]"] = i(s.configurable)), e13(s, "value") && (l["[[Value]]"] = s.value), e13(s, "writable") && (l["[[Writable]]"] = i(s.writable)), e13(s, "get")) {
      var u = s.get;
      if (typeof u < "u" && !o(u))
        throw new r("getter must be a function");
      l["[[Get]]"] = u;
    }
    if (e13(s, "set")) {
      var c = s.set;
      if (typeof c < "u" && !o(c))
        throw new r("setter must be a function");
      l["[[Set]]"] = c;
    }
    if ((e13(l, "[[Get]]") || e13(l, "[[Set]]")) && (e13(l, "[[Value]]") || e13(l, "[[Writable]]")))
      throw new r("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");
    return l;
  }, wA;
}
var AA;
var I$;
function gve() {
  if (I$)
    return AA;
  I$ = 1;
  var e13 = ir, t = e13("%TypeError%"), r = lN(), n = NV(), i = MV(), o = E1(), a = S1(), s = rc(), l = cN(), u = FV(), c = Gn();
  return AA = function(h, d, p) {
    if (c(h) !== "Object")
      throw new t("Assertion failed: Type(O) is not Object");
    if (!s(d))
      throw new t("Assertion failed: IsPropertyKey(P) is not true");
    var m = r({
      Type: c,
      IsDataDescriptor: a,
      IsAccessorDescriptor: o
    }, p) ? p : u(p);
    if (!r({
      Type: c,
      IsDataDescriptor: a,
      IsAccessorDescriptor: o
    }, m))
      throw new t("Assertion failed: Desc is not a valid Property Descriptor");
    return n(a, l, i, h, d, m);
  }, AA;
}
var P$;
function vve() {
  if (P$)
    return n_.exports;
  P$ = 1;
  var e13 = nve(), t = e13("%Reflect.construct%", true), r = gve();
  try {
    r({}, "", {
      "[[Get]]": function() {
      }
    });
  } catch {
    r = null;
  }
  if (r && t) {
    var n = {}, i = {};
    r(i, "length", {
      "[[Get]]": function() {
        throw n;
      },
      "[[Enumerable]]": true
    }), n_.exports = function(a) {
      try {
        t(a, i);
      } catch (s) {
        return s === n;
      }
    };
  } else
    n_.exports = function(a) {
      return typeof a == "function" && !!a.prototype;
    };
  return n_.exports;
}
var $V = ir;
var C$ = $V("%Symbol.species%", true);
var x$ = $V("%TypeError%");
var k$ = Tge();
var D$ = zv;
var yve = sN();
var _ve = vve();
var bve = Gn();
var Tve = nN();
var HV = function(t, r) {
  if (!Tve(r) || r < 0)
    throw new x$("Assertion failed: length must be an integer >= 0");
  var n = yve(t);
  if (!n)
    return k$(r);
  var i = D$(t, "constructor");
  if (C$ && bve(i) === "Object" && (i = D$(i, C$), i === null && (i = void 0)), typeof i > "u")
    return k$(r);
  if (!_ve(i))
    throw new x$("C must be a constructor");
  return new i(r);
};
var UV = Number.MAX_SAFE_INTEGER || 9007199254740991;
var OA;
var R$;
function jV() {
  if (R$)
    return OA;
  R$ = 1;
  var e13 = ir, t = wi, r = e13("%TypeError%"), n = sN(), i = e13("%Reflect.apply%", true) || t("Function.prototype.apply");
  return OA = function(a, s) {
    var l = arguments.length > 2 ? arguments[2] : [];
    if (!n(l))
      throw new r("Assertion failed: optional `argumentsList`, if provided, must be a List");
    return i(a, s, l);
  }, OA;
}
var IA;
var N$;
function GV() {
  return N$ || (N$ = 1, IA = function(t) {
    return t === null || typeof t != "function" && typeof t != "object";
  }), IA;
}
var PA;
var M$;
function Eve() {
  if (M$)
    return PA;
  M$ = 1;
  var e13 = ir, t = e13("%Object.preventExtensions%", true), r = e13("%Object.isExtensible%", true), n = GV();
  return PA = t ? function(o) {
    return !n(o) && r(o);
  } : function(o) {
    return !n(o);
  }, PA;
}
var CA;
var L$;
function Sve() {
  return L$ || (L$ = 1, CA = function(t, r) {
    return !!r && typeof r == "object" && "[[Enumerable]]" in r && "[[Configurable]]" in r && (t.IsAccessorDescriptor(r) || t.IsDataDescriptor(r));
  }), CA;
}
var xA;
var B$;
function wve() {
  if (B$)
    return xA;
  B$ = 1;
  var e13 = T1(), t = E1(), r = S1(), n = Gn();
  return xA = function(o) {
    return typeof o > "u" ? false : (e13(n, "Property Descriptor", "Desc", o), !t(o) && !r(o));
  }, xA;
}
var kA;
var F$;
function Ave() {
  if (F$)
    return kA;
  F$ = 1;
  var e13 = ir, t = e13("%TypeError%"), r = NV(), n = Sve(), i = lN(), o = MV(), a = E1(), s = S1(), l = wve(), u = rc(), c = cN(), f = Gn();
  return kA = function(d, p, m, g, v) {
    var b = f(d);
    if (b !== "Undefined" && b !== "Object")
      throw new t("Assertion failed: O must be undefined or an Object");
    if (!u(p))
      throw new t("Assertion failed: P must be a Property Key");
    if (f(m) !== "Boolean")
      throw new t("Assertion failed: extensible must be a Boolean");
    if (!i({
      Type: f,
      IsDataDescriptor: s,
      IsAccessorDescriptor: a
    }, g))
      throw new t("Assertion failed: Desc must be a Property Descriptor");
    if (f(v) !== "Undefined" && !i({
      Type: f,
      IsDataDescriptor: s,
      IsAccessorDescriptor: a
    }, v))
      throw new t("Assertion failed: current must be a Property Descriptor, or undefined");
    if (f(v) === "Undefined")
      return m ? b === "Undefined" ? true : a(g) ? r(s, c, o, d, p, g) : r(s, c, o, d, p, {
        "[[Configurable]]": !!g["[[Configurable]]"],
        "[[Enumerable]]": !!g["[[Enumerable]]"],
        "[[Value]]": g["[[Value]]"],
        "[[Writable]]": !!g["[[Writable]]"]
      }) : false;
    if (!n({
      IsAccessorDescriptor: a,
      IsDataDescriptor: s
    }, v))
      throw new t("`current`, when present, must be a fully populated and valid Property Descriptor");
    if (!v["[[Configurable]]"]) {
      if ("[[Configurable]]" in g && g["[[Configurable]]"] || "[[Enumerable]]" in g && !c(g["[[Enumerable]]"], v["[[Enumerable]]"]) || !l(g) && !c(a(g), a(v)))
        return false;
      if (a(v)) {
        if ("[[Get]]" in g && !c(g["[[Get]]"], v["[[Get]]"]) || "[[Set]]" in g && !c(g["[[Set]]"], v["[[Set]]"]))
          return false;
      } else if (!v["[[Writable]]"] && ("[[Writable]]" in g && g["[[Writable]]"] || "[[Value]]" in g && !c(g["[[Value]]"], v["[[Value]]"])))
        return false;
    }
    if (b !== "Undefined") {
      var y, _;
      return s(v) && a(g) ? (y = ("[[Configurable]]" in g ? g : v)["[[Configurable]]"], _ = ("[[Enumerable]]" in g ? g : v)["[[Enumerable]]"], r(s, c, o, d, p, {
        "[[Configurable]]": !!y,
        "[[Enumerable]]": !!_,
        "[[Get]]": ("[[Get]]" in g ? g : v)["[[Get]]"],
        "[[Set]]": ("[[Set]]" in g ? g : v)["[[Set]]"]
      })) : a(v) && s(g) ? (y = ("[[Configurable]]" in g ? g : v)["[[Configurable]]"], _ = ("[[Enumerable]]" in g ? g : v)["[[Enumerable]]"], r(s, c, o, d, p, {
        "[[Configurable]]": !!y,
        "[[Enumerable]]": !!_,
        "[[Value]]": ("[[Value]]" in g ? g : v)["[[Value]]"],
        "[[Writable]]": !!("[[Writable]]" in g ? g : v)["[[Writable]]"]
      })) : r(s, c, o, d, p, g);
    }
    return true;
  }, kA;
}
var DA;
var H$;
function Ove() {
  if (H$)
    return DA;
  H$ = 1;
  var e13 = ir, t = tN, r = e13("%SyntaxError%"), n = e13("%TypeError%"), i = lN(), o = E1(), a = S1(), s = Eve(), l = rc(), u = FV(), c = cN(), f = Gn(), h = Ave();
  return DA = function(p, m, g) {
    if (f(p) !== "Object")
      throw new n("Assertion failed: O must be an Object");
    if (!l(m))
      throw new n("Assertion failed: P must be a Property Key");
    if (!i({
      Type: f,
      IsDataDescriptor: a,
      IsAccessorDescriptor: o
    }, g))
      throw new n("Assertion failed: Desc must be a Property Descriptor");
    if (!t) {
      if (o(g))
        throw new r("This environment does not support accessor property descriptors.");
      var v = !(m in p) && g["[[Writable]]"] && g["[[Enumerable]]"] && g["[[Configurable]]"] && "[[Value]]" in g, b = m in p && (!("[[Configurable]]" in g) || g["[[Configurable]]"]) && (!("[[Enumerable]]" in g) || g["[[Enumerable]]"]) && (!("[[Writable]]" in g) || g["[[Writable]]"]) && "[[Value]]" in g;
      if (v || b)
        return p[m] = g["[[Value]]"], c(p[m], g["[[Value]]"]);
      throw new r("This environment does not support defining non-writable, non-enumerable, or non-configurable properties");
    }
    var y = t(p, m), _ = y && u(y), T = s(p);
    return h(p, m, T, g, _);
  }, DA;
}
var RA;
var U$;
function Ive() {
  if (U$)
    return RA;
  U$ = 1;
  var e13 = ir, t = e13("%TypeError%"), r = rc(), n = Ove(), i = Gn();
  return RA = function(a, s, l) {
    if (i(a) !== "Object")
      throw new t("Assertion failed: Type(O) is not Object");
    if (!r(s))
      throw new t("Assertion failed: IsPropertyKey(P) is not true");
    var u = {
      "[[Configurable]]": true,
      "[[Enumerable]]": true,
      "[[Value]]": l,
      "[[Writable]]": true
    };
    return n(a, s, u);
  }, RA;
}
var NA;
var j$;
function zV() {
  if (j$)
    return NA;
  j$ = 1;
  var e13 = ir, t = e13("%TypeError%"), r = Ive(), n = rc(), i = Gn();
  return NA = function(a, s, l) {
    if (i(a) !== "Object")
      throw new t("Assertion failed: Type(O) is not Object");
    if (!n(s))
      throw new t("Assertion failed: IsPropertyKey(P) is not true");
    var u = r(a, s, l);
    if (!u)
      throw new t("unable to create data property");
  }, NA;
}
var MA;
var G$;
function VV() {
  if (G$)
    return MA;
  G$ = 1;
  var e13 = ir, t = e13("%TypeError%"), r = rc(), n = Gn();
  return MA = function(o, a) {
    if (n(o) !== "Object")
      throw new t("Assertion failed: `O` must be an Object");
    if (!r(a))
      throw new t("Assertion failed: `P` must be a Property Key");
    return a in o;
  }, MA;
}
var LA;
var z$;
function Pve() {
  return z$ || (z$ = 1, LA = function(t) {
    return t === null || typeof t != "function" && typeof t != "object";
  }), LA;
}
var Cve = JR;
var Vv = function() {
  return Cve() && !!Symbol.toStringTag;
};
var BA;
var V$;
function xve() {
  if (V$)
    return BA;
  V$ = 1;
  var e13 = Date.prototype.getDay, t = function(a) {
    try {
      return e13.call(a), true;
    } catch {
      return false;
    }
  }, r = Object.prototype.toString, n = "[object Date]", i = Vv();
  return BA = function(a) {
    return typeof a != "object" || a === null ? false : i ? t(a) : r.call(a) === n;
  }, BA;
}
var i_ = { exports: {} };
var X$;
function kve() {
  if (X$)
    return i_.exports;
  X$ = 1;
  var e13 = Object.prototype.toString, t = cV();
  if (t) {
    var r = Symbol.prototype.toString, n = /^Symbol\(.*\)$/, i = function(a) {
      return typeof a.valueOf() != "symbol" ? false : n.test(r.call(a));
    };
    i_.exports = function(a) {
      if (typeof a == "symbol")
        return true;
      if (e13.call(a) !== "[object Symbol]")
        return false;
      try {
        return i(a);
      } catch {
        return false;
      }
    };
  } else
    i_.exports = function(a) {
      return false;
    };
  return i_.exports;
}
var FA;
var W$;
function Dve() {
  if (W$)
    return FA;
  W$ = 1;
  var e13 = typeof Symbol == "function" && typeof Symbol.iterator == "symbol", t = Pve(), r = uN, n = xve(), i = kve(), o = function(l, u) {
    if (typeof l > "u" || l === null)
      throw new TypeError("Cannot call method on " + l);
    if (typeof u != "string" || u !== "number" && u !== "string")
      throw new TypeError('hint must be "string" or "number"');
    var c = u === "string" ? ["toString", "valueOf"] : ["valueOf", "toString"], f, h, d;
    for (d = 0; d < c.length; ++d)
      if (f = l[c[d]], r(f) && (h = f.call(l), t(h)))
        return h;
    throw new TypeError("No default value");
  }, a = function(l, u) {
    var c = l[u];
    if (c !== null && typeof c < "u") {
      if (!r(c))
        throw new TypeError(c + " returned for property " + u + " of object " + l + " is not a function");
      return c;
    }
  };
  return FA = function(l) {
    if (t(l))
      return l;
    var u = "default";
    arguments.length > 1 && (arguments[1] === String ? u = "string" : arguments[1] === Number && (u = "number"));
    var c;
    if (e13 && (Symbol.toPrimitive ? c = a(l, Symbol.toPrimitive) : i(l) && (c = Symbol.prototype.valueOf)), typeof c < "u") {
      var f = c.call(l, u);
      if (t(f))
        return f;
      throw new TypeError("unable to convert exotic object to primitive");
    }
    return u === "default" && (n(l) || i(l)) && (u = "string"), o(l, u === "default" ? "number" : u);
  }, FA;
}
var $A;
var Y$;
function Rve() {
  if (Y$)
    return $A;
  Y$ = 1;
  var e13 = Dve();
  return $A = function(r) {
    return arguments.length > 1 ? e13(r, arguments[1]) : e13(r);
  }, $A;
}
var FP = wi;
var XV = Vv();
var WV;
var YV;
var $P;
var HP;
if (XV) {
  WV = FP("Object.prototype.hasOwnProperty"), YV = FP("RegExp.prototype.exec"), $P = {};
  HA = function() {
    throw $P;
  };
  HP = {
    toString: HA,
    valueOf: HA
  }, typeof Symbol.toPrimitive == "symbol" && (HP[Symbol.toPrimitive] = HA);
}
var HA;
var Nve = FP("Object.prototype.toString");
var Mve = Object.getOwnPropertyDescriptor;
var Lve = "[object RegExp]";
var qV = XV ? function(t) {
  if (!t || typeof t != "object")
    return false;
  var r = Mve(t, "lastIndex"), n = r && WV(r, "value");
  if (!n)
    return false;
  try {
    YV(t, HP);
  } catch (i) {
    return i === $P;
  }
} : function(t) {
  return !t || typeof t != "object" && typeof t != "function" ? false : Nve(t) === Lve;
};
var UA;
var q$;
function Bve() {
  if (q$)
    return UA;
  q$ = 1;
  var e13 = wi, t = ir, r = qV, n = e13("RegExp.prototype.exec"), i = t("%TypeError%");
  return UA = function(a) {
    if (!r(a))
      throw new i("`regex` must be a RegExp");
    return function(l) {
      return n(a, l) !== null;
    };
  }, UA;
}
var Fve = ir;
var $ve = Fve("%TypeError%");
var Hve = function(t, r) {
  if (t == null)
    throw new $ve(r || "Cannot call method on " + t);
  return t;
};
var rp = Hve;
var KV = ir;
var Uve = KV("%String%");
var jve = KV("%TypeError%");
var fN = function(t) {
  if (typeof t == "symbol")
    throw new jve("Cannot convert a Symbol value to a string");
  return Uve(t);
};
var Gve = rp;
var zve = fN;
var Vve = wi;
var K$ = Vve("String.prototype.replace");
var ZV = /^\s$/.test("᠎");
var Xve = ZV ? /^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/ : /^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/;
var Wve = ZV ? /[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/ : /[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/;
var QV = function() {
  var t = zve(Gve(this));
  return K$(K$(t, Xve, ""), Wve, "");
};
var Yve = QV;
var Z$ = "​";
var Ah = "᠎";
var JV = function() {
  return String.prototype.trim && Z$.trim() === Z$ && Ah.trim() === Ah && ("_" + Ah).trim() === "_" + Ah && (Ah + "_").trim() === Ah + "_" ? String.prototype.trim : Yve;
};
var qve = ni;
var Kve = JV;
var Zve = function() {
  var t = Kve();
  return qve(String.prototype, {
    trim: t
  }, {
    trim: function() {
      return String.prototype.trim !== t;
    }
  }), t;
};
var Qve = Vs;
var Jve = ni;
var eye = rp;
var tye = QV;
var e7 = JV;
var rye = Zve;
var nye = Qve(e7());
var t7 = function(t) {
  return eye(t), nye(t);
};
Jve(t7, {
  getPolyfill: e7,
  implementation: tye,
  shim: rye
});
var r7 = t7;
var jA;
var Q$;
function iye() {
  if (Q$)
    return jA;
  Q$ = 1;
  var e13 = ir, t = e13("%Number%"), r = e13("%RegExp%"), n = e13("%TypeError%"), i = e13("%parseInt%"), o = wi, a = Bve(), s = o("String.prototype.slice"), l = a(/^0b[01]+$/i), u = a(/^0o[0-7]+$/i), c = a(/^[-+]0x[0-9a-f]+$/i), f = ["", "​", "￾"].join(""), h = new r("[" + f + "]", "g"), d = a(h), p = r7, m = Gn();
  return jA = function g(v) {
    if (m(v) !== "String")
      throw new n("Assertion failed: `argument` is not a String");
    if (l(v))
      return t(i(s(v, 2), 2));
    if (u(v))
      return t(i(s(v, 2), 8));
    if (d(v) || c(v))
      return NaN;
    var b = p(v);
    return b !== v ? g(b) : t(v);
  }, jA;
}
var n7 = ir;
var J$ = n7("%TypeError%");
var eH = n7("%Number%");
var oye = GV();
var aye = Rve();
var sye = iye();
var lye = function(t) {
  var r = oye(t) ? t : aye(t, eH);
  if (typeof r == "symbol")
    throw new J$("Cannot convert a Symbol value to a number");
  if (typeof r == "bigint")
    throw new J$("Conversion from 'BigInt' to 'number' is not allowed.");
  return typeof r == "string" ? sye(r) : eH(r);
};
var cye = Gn();
var uye = Math.floor;
var hye = function(t) {
  return cye(t) === "BigInt" ? t : uye(t);
};
var fye = ir;
var tH = hye;
var dye = fye("%TypeError%");
var pye = function(t) {
  if (typeof t != "number" && typeof t != "bigint")
    throw new dye("argument must be a Number or a BigInt");
  var r = t < 0 ? -tH(-t) : tH(t);
  return r === 0 ? 0 : r;
};
var mye = lye;
var gye = pye;
var vye = b1;
var yye = AV;
var i7 = function(t) {
  var r = mye(t);
  return vye(r) || r === 0 ? 0 : yye(r) ? gye(r) : r;
};
var rH = UV;
var _ye = i7;
var o7 = function(t) {
  var r = _ye(t);
  return r <= 0 ? 0 : r > rH ? rH : r;
};
var GA;
var nH;
function a7() {
  if (nH)
    return GA;
  nH = 1;
  var e13 = ir, t = e13("%TypeError%"), r = zv, n = o7, i = Gn();
  return GA = function(a) {
    if (i(a) !== "Object")
      throw new t("Assertion failed: `obj` must be an Object");
    return n(r(a, "length"));
  }, GA;
}
var bye = ir;
var iH = bye("%TypeError%");
var Tye = UV;
var Eye = jV();
var Sye = zV();
var wye = zv;
var Aye = VV();
var Oye = sN();
var Iye = a7();
var oH = fN;
var Pye = function e10(t, r, n, i, o) {
  var a;
  arguments.length > 5 && (a = arguments[5]);
  for (var s = i, l = 0; l < n; ) {
    var u = oH(l), c = Aye(r, u);
    if (c === true) {
      var f = wye(r, u);
      if (typeof a < "u") {
        if (arguments.length <= 6)
          throw new iH("Assertion failed: thisArg is required when mapperFunction is provided");
        f = Eye(a, arguments[6], [f, l, r]);
      }
      var h = false;
      if (o > 0 && (h = Oye(f)), h) {
        var d = Iye(f);
        s = e10(t, f, d, s, o - 1);
      } else {
        if (s >= Tye)
          throw new iH("index too large");
        Sye(t, oH(s), f), s += 1;
      }
    }
    l += 1;
  }
  return s;
};
var Cye = ir;
var xye = Cye("%Object%");
var kye = rp;
var s7 = function(t) {
  return kye(t), xye(t);
};
var Dye = HV;
var Rye = Pye;
var Nye = zv;
var Mye = i7;
var Lye = o7;
var Bye = s7;
var l7 = function() {
  var t = Bye(this), r = Lye(Nye(t, "length")), n = 1;
  arguments.length > 0 && typeof arguments[0] < "u" && (n = Mye(arguments[0]));
  var i = Dye(t, 0);
  return Rye(i, t, r, 0, n), i;
};
var Fye = l7;
var c7 = function() {
  return Array.prototype.flat || Fye;
};
var zA;
var aH;
function $ye() {
  if (aH)
    return zA;
  aH = 1;
  var e13 = zs, t = typeof Symbol == "function" && typeof Symbol.unscopables == "symbol", r = t && Array.prototype[Symbol.unscopables], n = TypeError;
  return zA = function(o) {
    if (typeof o != "string" || !o)
      throw new n("method must be a non-empty string");
    if (!e13(Array.prototype, o))
      throw new n("method must be on Array.prototype");
    t && (r[o] = true);
  }, zA;
}
var VA;
var sH;
function Hye() {
  if (sH)
    return VA;
  sH = 1;
  var e13 = ni, t = $ye(), r = c7;
  return VA = function() {
    var i = r();
    return e13(Array.prototype, {
      flat: i
    }, {
      flat: function() {
        return Array.prototype.flat !== i;
      }
    }), t("flat"), i;
  }, VA;
}
var Uye = ni;
var jye = Vs;
var Gye = l7;
var u7 = c7;
var zye = u7();
var Vye = Hye();
var h7 = jye(zye);
Uye(h7, {
  getPolyfill: u7,
  implementation: Gye,
  shim: Vye
});
var Xv = h7;
var lH = {}.hasOwnProperty;
var XA = Function.prototype.call;
var np = XA.bind ? XA.bind(lH) : function(e13, t) {
  return XA.call(lH, e13, t);
};
var Wv = {};
var UP = { exports: {} };
var cH = function(e13) {
  return e13 !== e13;
};
var f7 = function(t, r) {
  return t === 0 && r === 0 ? 1 / t === 1 / r : !!(t === r || cH(t) && cH(r));
};
var Xye = f7;
var d7 = function() {
  return typeof Object.is == "function" ? Object.is : Xye;
};
var Wye = d7;
var Yye = ni;
var qye = function() {
  var t = Wye();
  return Yye(Object, {
    is: t
  }, {
    is: function() {
      return Object.is !== t;
    }
  }), t;
};
var Kye = ni;
var Zye = Vs;
var Qye = f7;
var p7 = d7;
var Jye = qye;
var m7 = Zye(p7(), Object);
Kye(m7, {
  getPolyfill: p7,
  implementation: Qye,
  shim: Jye
});
var dN = m7;
(function(e13, t) {
  Object.defineProperty(t, "__esModule", {
    value: true
  }), t.default = a;
  var r = i(dN), n = i(np);
  function i(s) {
    return s && s.__esModule ? s : {
      default: s
    };
  }
  function o(s) {
    "@babel/helpers - typeof";
    return o = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function(l) {
      return typeof l;
    } : function(l) {
      return l && typeof Symbol == "function" && l.constructor === Symbol && l !== Symbol.prototype ? "symbol" : typeof l;
    }, o(s);
  }
  function a(s, l) {
    if ((0, r.default)(s, l))
      return true;
    if (!s || !l || o(s) !== "object" || o(l) !== "object")
      return false;
    var u = Object.keys(s), c = Object.keys(l);
    if (u.length !== c.length)
      return false;
    u.sort(), c.sort();
    for (var f = 0; f < u.length; f += 1)
      if (!(0, n.default)(l, u[f]) || !(0, r.default)(s[u[f]], l[u[f]]))
        return false;
    return true;
  }
  e13.exports = t.default;
})(UP, UP.exports);
var g7 = UP.exports;
var e_e = rp;
var v7 = wi;
var t_e = v7("Object.prototype.propertyIsEnumerable");
var r_e = v7("Array.prototype.push");
var y7 = function(t) {
  var r = e_e(t), n = [];
  for (var i in r)
    t_e(r, i) && r_e(n, [i, r[i]]);
  return n;
};
var n_e = y7;
var _7 = function() {
  return typeof Object.entries == "function" ? Object.entries : n_e;
};
var i_e = _7;
var o_e = ni;
var a_e = function() {
  var t = i_e();
  return o_e(Object, {
    entries: t
  }, {
    entries: function() {
      return Object.entries !== t;
    }
  }), t;
};
var s_e = ni;
var l_e = Vs;
var c_e = y7;
var b7 = _7;
var u_e = a_e;
var T7 = l_e(b7(), Object);
s_e(T7, {
  getPolyfill: b7,
  implementation: c_e,
  shim: u_e
});
var E7 = T7;
var h_e = ir;
var uH = h_e("%TypeError%");
var f_e = zs;
var d_e = rc();
var p_e = Gn();
var m_e = function(t, r) {
  if (p_e(t) !== "Object")
    throw new uH("Assertion failed: `O` must be an Object");
  if (!d_e(r))
    throw new uH("Assertion failed: `P` must be a Property Key");
  return f_e(t, r);
};
var rv = function() {
  return typeof (function() {
  }).name == "string";
};
var Jm = Object.getOwnPropertyDescriptor;
if (Jm)
  try {
    Jm([], "length");
  } catch {
    Jm = null;
  }
rv.functionsHaveConfigurableNames = function() {
  if (!rv() || !Jm)
    return false;
  var t = Jm(function() {
  }, "name");
  return !!t && !!t.configurable;
};
var g_e = Function.prototype.bind;
rv.boundFunctionsHaveNames = function() {
  return rv() && typeof g_e == "function" && (function() {
  }).bind().name !== "";
};
var S7 = rv;
var w7 = hN;
var v_e = m_e;
var y_e = S7();
var pN = wi;
var A7 = pN("Function.prototype.toString");
var O7 = pN("String.prototype.match");
var WA = pN("Object.prototype.toString");
var __e = /^class /;
var b_e = function(t) {
  if (w7(t) || typeof t != "function")
    return false;
  try {
    var r = O7(A7(t), __e);
    return !!r;
  } catch {
  }
  return false;
};
var T_e = /\s*function\s+([^(\s]*)\s*/;
var E_e = !(0 in [,]);
var S_e = "[object Object]";
var w_e = "[object HTMLAllCollection]";
var A_e = Function.prototype;
var I7 = function() {
  return false;
};
if (typeof document == "object") {
  O_e = document.all;
  WA(O_e) === WA(document.all) && (I7 = function(t) {
    if ((E_e || !t) && (typeof t > "u" || typeof t == "object"))
      try {
        var r = WA(t);
        return (r === w_e || r === S_e) && t("") == null;
      } catch {
      }
    return false;
  });
}
var O_e;
var P7 = function() {
  if (I7(this) || !b_e(this) && !w7(this))
    throw new TypeError("Function.prototype.name sham getter called on non-function");
  if (y_e && v_e(this, "name"))
    return this.name;
  if (this === A_e)
    return "";
  var t = A7(this), r = O7(t, T_e), n = r && r[1];
  return n;
};
var I_e = P7;
var C7 = function() {
  return I_e;
};
var P_e = ni.supportsDescriptors;
var C_e = S7();
var x_e = C7;
var hH = Object.defineProperty;
var k_e = TypeError;
var D_e = function() {
  var t = x_e();
  if (C_e)
    return t;
  if (!P_e)
    throw new k_e("Shimming Function.prototype.name support requires ES5 property descriptor support.");
  var r = Function.prototype;
  return hH(r, "name", {
    configurable: true,
    enumerable: false,
    get: function() {
      var n = t.call(this);
      return this !== r && hH(this, "name", {
        configurable: true,
        enumerable: false,
        value: n,
        writable: false
      }), n;
    }
  }), t;
};
var R_e = ni;
var N_e = Vs;
var x7 = P7;
var M_e = C7;
var L_e = D_e;
var k7 = N_e(x7);
R_e(k7, {
  getPolyfill: M_e,
  implementation: x7,
  shim: L_e
});
var mN = k7;
var D7 = {};
var R7 = {};
Object.defineProperty(R7, "__esModule", {
  value: true
});
var w1 = {};
var ip = {};
var B0 = De && De.__assign || function() {
  return B0 = Object.assign || function(e13) {
    for (var t, r = 1, n = arguments.length; r < n; r++) {
      t = arguments[r];
      for (var i in t)
        Object.prototype.hasOwnProperty.call(t, i) && (e13[i] = t[i]);
    }
    return e13;
  }, B0.apply(this, arguments);
};
Object.defineProperty(ip, "__esModule", {
  value: true
});
ip.flatten = void 0;
var B_e = {
  xml: false,
  decodeEntities: true
};
ip.default = B_e;
var fH = {
  _useHtmlParser2: true,
  xmlMode: true
};
function F_e(e13) {
  return (e13 == null ? void 0 : e13.xml) ? typeof e13.xml == "boolean" ? fH : B0(B0({}, fH), e13.xml) : e13 ?? void 0;
}
ip.flatten = F_e;
var tn = {};
var Ko = {};
var Qi = {};
var ri = {};
var op = {};
(function(e13) {
  Object.defineProperty(e13, "__esModule", {
    value: true
  }), e13.Doctype = e13.CDATA = e13.Tag = e13.Style = e13.Script = e13.Comment = e13.Directive = e13.Text = e13.Root = e13.isTag = e13.ElementType = void 0;
  var t;
  (function(n) {
    n.Root = "root", n.Text = "text", n.Directive = "directive", n.Comment = "comment", n.Script = "script", n.Style = "style", n.Tag = "tag", n.CDATA = "cdata", n.Doctype = "doctype";
  })(t = e13.ElementType || (e13.ElementType = {}));
  function r(n) {
    return n.type === t.Tag || n.type === t.Script || n.type === t.Style;
  }
  e13.isTag = r, e13.Root = t.Root, e13.Text = t.Text, e13.Directive = t.Directive, e13.Comment = t.Comment, e13.Script = t.Script, e13.Style = t.Style, e13.Tag = t.Tag, e13.CDATA = t.CDATA, e13.Doctype = t.Doctype;
})(op);
var Xt = {};
var nc = De && De.__extends || /* @__PURE__ */ function() {
  var e13 = function(t, r) {
    return e13 = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function(n, i) {
      n.__proto__ = i;
    } || function(n, i) {
      for (var o in i)
        Object.prototype.hasOwnProperty.call(i, o) && (n[o] = i[o]);
    }, e13(t, r);
  };
  return function(t, r) {
    if (typeof r != "function" && r !== null)
      throw new TypeError("Class extends value " + String(r) + " is not a constructor or null");
    e13(t, r);
    function n() {
      this.constructor = t;
    }
    t.prototype = r === null ? Object.create(r) : (n.prototype = r.prototype, new n());
  };
}();
var eg = De && De.__assign || function() {
  return eg = Object.assign || function(e13) {
    for (var t, r = 1, n = arguments.length; r < n; r++) {
      t = arguments[r];
      for (var i in t)
        Object.prototype.hasOwnProperty.call(t, i) && (e13[i] = t[i]);
    }
    return e13;
  }, eg.apply(this, arguments);
};
Object.defineProperty(Xt, "__esModule", {
  value: true
});
Xt.cloneNode = Xt.hasChildren = Xt.isDocument = Xt.isDirective = Xt.isComment = Xt.isText = Xt.isCDATA = Xt.isTag = Xt.Element = Xt.Document = Xt.CDATA = Xt.NodeWithChildren = Xt.ProcessingInstruction = Xt.Comment = Xt.Text = Xt.DataNode = Xt.Node = void 0;
var Bi = op;
var gN = (
  /** @class */
  function() {
    function e13() {
      this.parent = null, this.prev = null, this.next = null, this.startIndex = null, this.endIndex = null;
    }
    return Object.defineProperty(e13.prototype, "parentNode", {
      // Read-write aliases for properties
      /**
       * Same as {@link parent}.
       * [DOM spec](https://dom.spec.whatwg.org)-compatible alias.
       */
      get: function() {
        return this.parent;
      },
      set: function(t) {
        this.parent = t;
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(e13.prototype, "previousSibling", {
      /**
       * Same as {@link prev}.
       * [DOM spec](https://dom.spec.whatwg.org)-compatible alias.
       */
      get: function() {
        return this.prev;
      },
      set: function(t) {
        this.prev = t;
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(e13.prototype, "nextSibling", {
      /**
       * Same as {@link next}.
       * [DOM spec](https://dom.spec.whatwg.org)-compatible alias.
       */
      get: function() {
        return this.next;
      },
      set: function(t) {
        this.next = t;
      },
      enumerable: false,
      configurable: true
    }), e13.prototype.cloneNode = function(t) {
      return t === void 0 && (t = false), vN(this, t);
    }, e13;
  }()
);
Xt.Node = gN;
var A1 = (
  /** @class */
  function(e13) {
    nc(t, e13);
    function t(r) {
      var n = e13.call(this) || this;
      return n.data = r, n;
    }
    return Object.defineProperty(t.prototype, "nodeValue", {
      /**
       * Same as {@link data}.
       * [DOM spec](https://dom.spec.whatwg.org)-compatible alias.
       */
      get: function() {
        return this.data;
      },
      set: function(r) {
        this.data = r;
      },
      enumerable: false,
      configurable: true
    }), t;
  }(gN)
);
Xt.DataNode = A1;
var N7 = (
  /** @class */
  function(e13) {
    nc(t, e13);
    function t() {
      var r = e13 !== null && e13.apply(this, arguments) || this;
      return r.type = Bi.ElementType.Text, r;
    }
    return Object.defineProperty(t.prototype, "nodeType", {
      get: function() {
        return 3;
      },
      enumerable: false,
      configurable: true
    }), t;
  }(A1)
);
Xt.Text = N7;
var M7 = (
  /** @class */
  function(e13) {
    nc(t, e13);
    function t() {
      var r = e13 !== null && e13.apply(this, arguments) || this;
      return r.type = Bi.ElementType.Comment, r;
    }
    return Object.defineProperty(t.prototype, "nodeType", {
      get: function() {
        return 8;
      },
      enumerable: false,
      configurable: true
    }), t;
  }(A1)
);
Xt.Comment = M7;
var L7 = (
  /** @class */
  function(e13) {
    nc(t, e13);
    function t(r, n) {
      var i = e13.call(this, n) || this;
      return i.name = r, i.type = Bi.ElementType.Directive, i;
    }
    return Object.defineProperty(t.prototype, "nodeType", {
      get: function() {
        return 1;
      },
      enumerable: false,
      configurable: true
    }), t;
  }(A1)
);
Xt.ProcessingInstruction = L7;
var O1 = (
  /** @class */
  function(e13) {
    nc(t, e13);
    function t(r) {
      var n = e13.call(this) || this;
      return n.children = r, n;
    }
    return Object.defineProperty(t.prototype, "firstChild", {
      // Aliases
      /** First child of the node. */
      get: function() {
        var r;
        return (r = this.children[0]) !== null && r !== void 0 ? r : null;
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(t.prototype, "lastChild", {
      /** Last child of the node. */
      get: function() {
        return this.children.length > 0 ? this.children[this.children.length - 1] : null;
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(t.prototype, "childNodes", {
      /**
       * Same as {@link children}.
       * [DOM spec](https://dom.spec.whatwg.org)-compatible alias.
       */
      get: function() {
        return this.children;
      },
      set: function(r) {
        this.children = r;
      },
      enumerable: false,
      configurable: true
    }), t;
  }(gN)
);
Xt.NodeWithChildren = O1;
var B7 = (
  /** @class */
  function(e13) {
    nc(t, e13);
    function t() {
      var r = e13 !== null && e13.apply(this, arguments) || this;
      return r.type = Bi.ElementType.CDATA, r;
    }
    return Object.defineProperty(t.prototype, "nodeType", {
      get: function() {
        return 4;
      },
      enumerable: false,
      configurable: true
    }), t;
  }(O1)
);
Xt.CDATA = B7;
var F7 = (
  /** @class */
  function(e13) {
    nc(t, e13);
    function t() {
      var r = e13 !== null && e13.apply(this, arguments) || this;
      return r.type = Bi.ElementType.Root, r;
    }
    return Object.defineProperty(t.prototype, "nodeType", {
      get: function() {
        return 9;
      },
      enumerable: false,
      configurable: true
    }), t;
  }(O1)
);
Xt.Document = F7;
var $7 = (
  /** @class */
  function(e13) {
    nc(t, e13);
    function t(r, n, i, o) {
      i === void 0 && (i = []), o === void 0 && (o = r === "script" ? Bi.ElementType.Script : r === "style" ? Bi.ElementType.Style : Bi.ElementType.Tag);
      var a = e13.call(this, i) || this;
      return a.name = r, a.attribs = n, a.type = o, a;
    }
    return Object.defineProperty(t.prototype, "nodeType", {
      get: function() {
        return 1;
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(t.prototype, "tagName", {
      // DOM Level 1 aliases
      /**
       * Same as {@link name}.
       * [DOM spec](https://dom.spec.whatwg.org)-compatible alias.
       */
      get: function() {
        return this.name;
      },
      set: function(r) {
        this.name = r;
      },
      enumerable: false,
      configurable: true
    }), Object.defineProperty(t.prototype, "attributes", {
      get: function() {
        var r = this;
        return Object.keys(this.attribs).map(function(n) {
          var i, o;
          return {
            name: n,
            value: r.attribs[n],
            namespace: (i = r["x-attribsNamespace"]) === null || i === void 0 ? void 0 : i[n],
            prefix: (o = r["x-attribsPrefix"]) === null || o === void 0 ? void 0 : o[n]
          };
        });
      },
      enumerable: false,
      configurable: true
    }), t;
  }(O1)
);
Xt.Element = $7;
function H7(e13) {
  return (0, Bi.isTag)(e13);
}
Xt.isTag = H7;
function U7(e13) {
  return e13.type === Bi.ElementType.CDATA;
}
Xt.isCDATA = U7;
function j7(e13) {
  return e13.type === Bi.ElementType.Text;
}
Xt.isText = j7;
function G7(e13) {
  return e13.type === Bi.ElementType.Comment;
}
Xt.isComment = G7;
function z7(e13) {
  return e13.type === Bi.ElementType.Directive;
}
Xt.isDirective = z7;
function V7(e13) {
  return e13.type === Bi.ElementType.Root;
}
Xt.isDocument = V7;
function $_e(e13) {
  return Object.prototype.hasOwnProperty.call(e13, "children");
}
Xt.hasChildren = $_e;
function vN(e13, t) {
  t === void 0 && (t = false);
  var r;
  if (j7(e13))
    r = new N7(e13.data);
  else if (G7(e13))
    r = new M7(e13.data);
  else if (H7(e13)) {
    var n = t ? YA(e13.children) : [], i = new $7(e13.name, eg({}, e13.attribs), n);
    n.forEach(function(l) {
      return l.parent = i;
    }), e13.namespace != null && (i.namespace = e13.namespace), e13["x-attribsNamespace"] && (i["x-attribsNamespace"] = eg({}, e13["x-attribsNamespace"])), e13["x-attribsPrefix"] && (i["x-attribsPrefix"] = eg({}, e13["x-attribsPrefix"])), r = i;
  } else if (U7(e13)) {
    var n = t ? YA(e13.children) : [], o = new B7(n);
    n.forEach(function(u) {
      return u.parent = o;
    }), r = o;
  } else if (V7(e13)) {
    var n = t ? YA(e13.children) : [], a = new F7(n);
    n.forEach(function(u) {
      return u.parent = a;
    }), e13["x-mode"] && (a["x-mode"] = e13["x-mode"]), r = a;
  } else if (z7(e13)) {
    var s = new L7(e13.name, e13.data);
    e13["x-name"] != null && (s["x-name"] = e13["x-name"], s["x-publicId"] = e13["x-publicId"], s["x-systemId"] = e13["x-systemId"]), r = s;
  } else
    throw new Error("Not implemented yet: ".concat(e13.type));
  return r.startIndex = e13.startIndex, r.endIndex = e13.endIndex, e13.sourceCodeLocation != null && (r.sourceCodeLocation = e13.sourceCodeLocation), r;
}
Xt.cloneNode = vN;
function YA(e13) {
  for (var t = e13.map(function(n) {
    return vN(n, true);
  }), r = 1; r < t.length; r++)
    t[r].prev = t[r - 1], t[r - 1].next = t[r];
  return t;
}
(function(e13) {
  var t = De && De.__createBinding || (Object.create ? function(s, l, u, c) {
    c === void 0 && (c = u);
    var f = Object.getOwnPropertyDescriptor(l, u);
    (!f || ("get" in f ? !l.__esModule : f.writable || f.configurable)) && (f = {
      enumerable: true,
      get: function() {
        return l[u];
      }
    }), Object.defineProperty(s, c, f);
  } : function(s, l, u, c) {
    c === void 0 && (c = u), s[c] = l[u];
  }), r = De && De.__exportStar || function(s, l) {
    for (var u in s)
      u !== "default" && !Object.prototype.hasOwnProperty.call(l, u) && t(l, s, u);
  };
  Object.defineProperty(e13, "__esModule", {
    value: true
  }), e13.DomHandler = void 0;
  var n = op, i = Xt;
  r(Xt, e13);
  var o = {
    withStartIndices: false,
    withEndIndices: false,
    xmlMode: false
  }, a = (
    /** @class */
    function() {
      function s(l, u, c) {
        this.dom = [], this.root = new i.Document(this.dom), this.done = false, this.tagStack = [this.root], this.lastNode = null, this.parser = null, typeof u == "function" && (c = u, u = o), typeof l == "object" && (u = l, l = void 0), this.callback = l ?? null, this.options = u ?? o, this.elementCB = c ?? null;
      }
      return s.prototype.onparserinit = function(l) {
        this.parser = l;
      }, s.prototype.onreset = function() {
        this.dom = [], this.root = new i.Document(this.dom), this.done = false, this.tagStack = [this.root], this.lastNode = null, this.parser = null;
      }, s.prototype.onend = function() {
        this.done || (this.done = true, this.parser = null, this.handleCallback(null));
      }, s.prototype.onerror = function(l) {
        this.handleCallback(l);
      }, s.prototype.onclosetag = function() {
        this.lastNode = null;
        var l = this.tagStack.pop();
        this.options.withEndIndices && (l.endIndex = this.parser.endIndex), this.elementCB && this.elementCB(l);
      }, s.prototype.onopentag = function(l, u) {
        var c = this.options.xmlMode ? n.ElementType.Tag : void 0, f = new i.Element(l, u, void 0, c);
        this.addNode(f), this.tagStack.push(f);
      }, s.prototype.ontext = function(l) {
        var u = this.lastNode;
        if (u && u.type === n.ElementType.Text)
          u.data += l, this.options.withEndIndices && (u.endIndex = this.parser.endIndex);
        else {
          var c = new i.Text(l);
          this.addNode(c), this.lastNode = c;
        }
      }, s.prototype.oncomment = function(l) {
        if (this.lastNode && this.lastNode.type === n.ElementType.Comment) {
          this.lastNode.data += l;
          return;
        }
        var u = new i.Comment(l);
        this.addNode(u), this.lastNode = u;
      }, s.prototype.oncommentend = function() {
        this.lastNode = null;
      }, s.prototype.oncdatastart = function() {
        var l = new i.Text(""), u = new i.CDATA([l]);
        this.addNode(u), l.parent = u, this.lastNode = l;
      }, s.prototype.oncdataend = function() {
        this.lastNode = null;
      }, s.prototype.onprocessinginstruction = function(l, u) {
        var c = new i.ProcessingInstruction(l, u);
        this.addNode(c);
      }, s.prototype.handleCallback = function(l) {
        if (typeof this.callback == "function")
          this.callback(l, this.dom);
        else if (l)
          throw l;
      }, s.prototype.addNode = function(l) {
        var u = this.tagStack[this.tagStack.length - 1], c = u.children[u.children.length - 1];
        this.options.withStartIndices && (l.startIndex = this.parser.startIndex), this.options.withEndIndices && (l.endIndex = this.parser.endIndex), u.children.push(l), c && (l.prev = c, c.next = l), l.parent = u, this.lastNode = null;
      }, s;
    }()
  );
  e13.DomHandler = a, e13.default = a;
})(ri);
var ap = {};
var X7 = {};
var vu = {};
var yN = {};
Object.defineProperty(yN, "__esModule", {
  value: true
});
yN.default = new Uint16Array(
  // prettier-ignore
  'ᵁ<Õıʊҝջאٵ۞ޢߖࠏ੊ઑඡ๭༉༦჊ረዡᐕᒝᓃᓟᔥ\0\0\0\0\0\0ᕫᛍᦍᰒᷝ὾⁠↰⊍⏀⏻⑂⠤⤒ⴈ⹈⿎〖㊺㘹㞬㣾㨨㩱㫠㬮ࠀEMabcfglmnoprstu\\bfms¦³¹ÈÏlig耻Æ䃆P耻&䀦cute耻Á䃁reve;䄂Āiyx}rc耻Â䃂;䐐r;쀀𝔄rave耻À䃀pha;䎑acr;䄀d;橓Āgp¡on;䄄f;쀀𝔸plyFunction;恡ing耻Å䃅Ācs¾Ãr;쀀𝒜ign;扔ilde耻Ã䃃ml耻Ä䃄ЀaceforsuåûþėĜĢħĪĀcrêòkslash;或Ŷöø;櫧ed;挆y;䐑ƀcrtąċĔause;戵noullis;愬a;䎒r;쀀𝔅pf;쀀𝔹eve;䋘còēmpeq;扎܀HOacdefhilorsuōőŖƀƞƢƵƷƺǜȕɳɸɾcy;䐧PY耻©䂩ƀcpyŝŢźute;䄆Ā;iŧŨ拒talDifferentialD;慅leys;愭ȀaeioƉƎƔƘron;䄌dil耻Ç䃇rc;䄈nint;戰ot;䄊ĀdnƧƭilla;䂸terDot;䂷òſi;䎧rcleȀDMPTǇǋǑǖot;抙inus;抖lus;投imes;抗oĀcsǢǸkwiseContourIntegral;戲eCurlyĀDQȃȏoubleQuote;思uote;怙ȀlnpuȞȨɇɕonĀ;eȥȦ户;橴ƀgitȯȶȺruent;扡nt;戯ourIntegral;戮ĀfrɌɎ;愂oduct;成nterClockwiseContourIntegral;戳oss;樯cr;쀀𝒞pĀ;Cʄʅ拓ap;才րDJSZacefiosʠʬʰʴʸˋ˗ˡ˦̳ҍĀ;oŹʥtrahd;椑cy;䐂cy;䐅cy;䐏ƀgrsʿ˄ˇger;怡r;憡hv;櫤Āayː˕ron;䄎;䐔lĀ;t˝˞戇a;䎔r;쀀𝔇Āaf˫̧Ācm˰̢riticalȀADGT̖̜̀̆cute;䂴oŴ̋̍;䋙bleAcute;䋝rave;䁠ilde;䋜ond;拄ferentialD;慆Ѱ̽\0\0\0͔͂\0Ѕf;쀀𝔻ƀ;DE͈͉͍䂨ot;惜qual;扐blèCDLRUVͣͲ΂ϏϢϸontourIntegraìȹoɴ͹\0\0ͻ»͉nArrow;懓Āeo·ΤftƀARTΐΖΡrrow;懐ightArrow;懔eåˊngĀLRΫτeftĀARγιrrow;柸ightArrow;柺ightArrow;柹ightĀATϘϞrrow;懒ee;抨pɁϩ\0\0ϯrrow;懑ownArrow;懕erticalBar;戥ǹABLRTaВЪаўѿͼrrowƀ;BUНОТ憓ar;椓pArrow;懵reve;䌑eft˒к\0ц\0ѐightVector;楐eeVector;楞ectorĀ;Bљњ憽ar;楖ightǔѧ\0ѱeeVector;楟ectorĀ;BѺѻ懁ar;楗eeĀ;A҆҇护rrow;憧ĀctҒҗr;쀀𝒟rok;䄐ࠀNTacdfglmopqstuxҽӀӄӋӞӢӧӮӵԡԯԶՒ՝ՠեG;䅊H耻Ð䃐cute耻É䃉ƀaiyӒӗӜron;䄚rc耻Ê䃊;䐭ot;䄖r;쀀𝔈rave耻È䃈ement;戈ĀapӺӾcr;䄒tyɓԆ\0\0ԒmallSquare;旻erySmallSquare;斫ĀgpԦԪon;䄘f;쀀𝔼silon;䎕uĀaiԼՉlĀ;TՂՃ橵ilde;扂librium;懌Āci՗՚r;愰m;橳a;䎗ml耻Ë䃋Āipժկsts;戃onentialE;慇ʀcfiosօֈ֍ֲ׌y;䐤r;쀀𝔉lledɓ֗\0\0֣mallSquare;旼erySmallSquare;斪Ͱֺ\0ֿ\0\0ׄf;쀀𝔽All;戀riertrf;愱cò׋؀JTabcdfgorstר׬ׯ׺؀ؒؖ؛؝أ٬ٲcy;䐃耻>䀾mmaĀ;d׷׸䎓;䏜reve;䄞ƀeiy؇،ؐdil;䄢rc;䄜;䐓ot;䄠r;쀀𝔊;拙pf;쀀𝔾eater̀EFGLSTصلَٖٛ٦qualĀ;Lؾؿ扥ess;招ullEqual;执reater;檢ess;扷lantEqual;橾ilde;扳cr;쀀𝒢;扫ЀAacfiosuڅڋږڛڞڪھۊRDcy;䐪Āctڐڔek;䋇;䁞irc;䄤r;愌lbertSpace;愋ǰگ\0ڲf;愍izontalLine;攀Āctۃۅòکrok;䄦mpńېۘownHumðįqual;扏܀EJOacdfgmnostuۺ۾܃܇܎ܚܞܡܨ݄ݸދޏޕcy;䐕lig;䄲cy;䐁cute耻Í䃍Āiyܓܘrc耻Î䃎;䐘ot;䄰r;愑rave耻Ì䃌ƀ;apܠܯܿĀcgܴܷr;䄪inaryI;慈lieóϝǴ݉\0ݢĀ;eݍݎ戬Āgrݓݘral;戫section;拂isibleĀCTݬݲomma;恣imes;恢ƀgptݿރވon;䄮f;쀀𝕀a;䎙cr;愐ilde;䄨ǫޚ\0ޞcy;䐆l耻Ï䃏ʀcfosuެ޷޼߂ߐĀiyޱ޵rc;䄴;䐙r;쀀𝔍pf;쀀𝕁ǣ߇\0ߌr;쀀𝒥rcy;䐈kcy;䐄΀HJacfosߤߨ߽߬߱ࠂࠈcy;䐥cy;䐌ppa;䎚Āey߶߻dil;䄶;䐚r;쀀𝔎pf;쀀𝕂cr;쀀𝒦րJTaceflmostࠥࠩࠬࡐࡣ঳সে্਷ੇcy;䐉耻<䀼ʀcmnpr࠷࠼ࡁࡄࡍute;䄹bda;䎛g;柪lacetrf;愒r;憞ƀaeyࡗ࡜ࡡron;䄽dil;䄻;䐛Āfsࡨ॰tԀACDFRTUVarࡾࢩࢱࣦ࣠ࣼयज़ΐ४Ānrࢃ࢏gleBracket;柨rowƀ;BR࢙࢚࢞憐ar;懤ightArrow;懆eiling;挈oǵࢷ\0ࣃbleBracket;柦nǔࣈ\0࣒eeVector;楡ectorĀ;Bࣛࣜ懃ar;楙loor;挊ightĀAV࣯ࣵrrow;憔ector;楎Āerँगeƀ;AVउऊऐ抣rrow;憤ector;楚iangleƀ;BEतथऩ抲ar;槏qual;抴pƀDTVषूौownVector;楑eeVector;楠ectorĀ;Bॖॗ憿ar;楘ectorĀ;B॥०憼ar;楒ightáΜs̀EFGLSTॾঋকঝঢভqualGreater;拚ullEqual;扦reater;扶ess;檡lantEqual;橽ilde;扲r;쀀𝔏Ā;eঽা拘ftarrow;懚idot;䄿ƀnpw৔ਖਛgȀLRlr৞৷ਂਐeftĀAR০৬rrow;柵ightArrow;柷ightArrow;柶eftĀarγਊightáοightáϊf;쀀𝕃erĀLRਢਬeftArrow;憙ightArrow;憘ƀchtਾੀੂòࡌ;憰rok;䅁;扪Ѐacefiosuਗ਼੝੠੷੼અઋ઎p;椅y;䐜Ādl੥੯iumSpace;恟lintrf;愳r;쀀𝔐nusPlus;戓pf;쀀𝕄cò੶;䎜ҀJacefostuણધભીଔଙඑ඗ඞcy;䐊cute;䅃ƀaey઴હાron;䅇dil;䅅;䐝ƀgswે૰଎ativeƀMTV૓૟૨ediumSpace;怋hiĀcn૦૘ë૙eryThiî૙tedĀGL૸ଆreaterGreateòٳessLesóੈLine;䀊r;쀀𝔑ȀBnptଢନଷ଺reak;恠BreakingSpace;䂠f;愕ڀ;CDEGHLNPRSTV୕ୖ୪୼஡௫ఄ౞಄ದ೘ൡඅ櫬Āou୛୤ngruent;扢pCap;扭oubleVerticalBar;戦ƀlqxஃஊ஛ement;戉ualĀ;Tஒஓ扠ilde;쀀≂̸ists;戄reater΀;EFGLSTஶஷ஽௉௓௘௥扯qual;扱ullEqual;쀀≧̸reater;쀀≫̸ess;批lantEqual;쀀⩾̸ilde;扵umpń௲௽ownHump;쀀≎̸qual;쀀≏̸eĀfsఊధtTriangleƀ;BEచఛడ拪ar;쀀⧏̸qual;括s̀;EGLSTవశ఼ౄోౘ扮qual;扰reater;扸ess;쀀≪̸lantEqual;쀀⩽̸ilde;扴estedĀGL౨౹reaterGreater;쀀⪢̸essLess;쀀⪡̸recedesƀ;ESಒಓಛ技qual;쀀⪯̸lantEqual;拠ĀeiಫಹverseElement;戌ghtTriangleƀ;BEೋೌ೒拫ar;쀀⧐̸qual;拭ĀquೝഌuareSuĀbp೨೹setĀ;E೰ೳ쀀⊏̸qual;拢ersetĀ;Eഃആ쀀⊐̸qual;拣ƀbcpഓതൎsetĀ;Eഛഞ쀀⊂⃒qual;抈ceedsȀ;ESTലള഻െ抁qual;쀀⪰̸lantEqual;拡ilde;쀀≿̸ersetĀ;E൘൛쀀⊃⃒qual;抉ildeȀ;EFT൮൯൵ൿ扁qual;扄ullEqual;扇ilde;扉erticalBar;戤cr;쀀𝒩ilde耻Ñ䃑;䎝܀Eacdfgmoprstuvලෂ෉෕ෛ෠෧෼ขภยา฿ไlig;䅒cute耻Ó䃓Āiy෎ීrc耻Ô䃔;䐞blac;䅐r;쀀𝔒rave耻Ò䃒ƀaei෮ෲ෶cr;䅌ga;䎩cron;䎟pf;쀀𝕆enCurlyĀDQฎบoubleQuote;怜uote;怘;橔Āclวฬr;쀀𝒪ash耻Ø䃘iŬื฼de耻Õ䃕es;樷ml耻Ö䃖erĀBP๋๠Āar๐๓r;怾acĀek๚๜;揞et;掴arenthesis;揜Ҁacfhilors๿ງຊຏຒດຝະ໼rtialD;戂y;䐟r;쀀𝔓i;䎦;䎠usMinus;䂱Āipຢອncareplanåڝf;愙Ȁ;eio຺ູ໠໤檻cedesȀ;EST່້໏໚扺qual;檯lantEqual;扼ilde;找me;怳Ādp໩໮uct;戏ortionĀ;aȥ໹l;戝Āci༁༆r;쀀𝒫;䎨ȀUfos༑༖༛༟OT耻"䀢r;쀀𝔔pf;愚cr;쀀𝒬؀BEacefhiorsu༾གྷཇའཱིྦྷྪྭ႖ႩႴႾarr;椐G耻®䂮ƀcnrཎནབute;䅔g;柫rĀ;tཛྷཝ憠l;椖ƀaeyཧཬཱron;䅘dil;䅖;䐠Ā;vླྀཹ愜erseĀEUྂྙĀlq྇ྎement;戋uilibrium;懋pEquilibrium;楯r»ཹo;䎡ghtЀACDFTUVa࿁࿫࿳ဢဨၛႇϘĀnr࿆࿒gleBracket;柩rowƀ;BL࿜࿝࿡憒ar;懥eftArrow;懄eiling;按oǵ࿹\0စbleBracket;柧nǔည\0နeeVector;楝ectorĀ;Bဝသ懂ar;楕loor;挋Āerိ၃eƀ;AVဵံြ抢rrow;憦ector;楛iangleƀ;BEၐၑၕ抳ar;槐qual;抵pƀDTVၣၮၸownVector;楏eeVector;楜ectorĀ;Bႂႃ憾ar;楔ectorĀ;B႑႒懀ar;楓Āpuႛ႞f;愝ndImplies;楰ightarrow;懛ĀchႹႼr;愛;憱leDelayed;槴ڀHOacfhimoqstuფჱჷჽᄙᄞᅑᅖᅡᅧᆵᆻᆿĀCcჩხHcy;䐩y;䐨FTcy;䐬cute;䅚ʀ;aeiyᄈᄉᄎᄓᄗ檼ron;䅠dil;䅞rc;䅜;䐡r;쀀𝔖ortȀDLRUᄪᄴᄾᅉownArrow»ОeftArrow»࢚ightArrow»࿝pArrow;憑gma;䎣allCircle;战pf;쀀𝕊ɲᅭ\0\0ᅰt;戚areȀ;ISUᅻᅼᆉᆯ斡ntersection;抓uĀbpᆏᆞsetĀ;Eᆗᆘ抏qual;抑ersetĀ;Eᆨᆩ抐qual;抒nion;抔cr;쀀𝒮ar;拆ȀbcmpᇈᇛሉላĀ;sᇍᇎ拐etĀ;Eᇍᇕqual;抆ĀchᇠህeedsȀ;ESTᇭᇮᇴᇿ扻qual;檰lantEqual;扽ilde;承Tháྌ;我ƀ;esሒሓሣ拑rsetĀ;Eሜም抃qual;抇et»ሓրHRSacfhiorsሾቄ቉ቕ቞ቱቶኟዂወዑORN耻Þ䃞ADE;愢ĀHc቎ቒcy;䐋y;䐦Ābuቚቜ;䀉;䎤ƀaeyብቪቯron;䅤dil;䅢;䐢r;쀀𝔗Āeiቻ኉ǲኀ\0ኇefore;戴a;䎘Ācn኎ኘkSpace;쀀  Space;怉ldeȀ;EFTካኬኲኼ戼qual;扃ullEqual;扅ilde;扈pf;쀀𝕋ipleDot;惛Āctዖዛr;쀀𝒯rok;䅦ૡዷጎጚጦ\0ጬጱ\0\0\0\0\0ጸጽ፷ᎅ\0᏿ᐄᐊᐐĀcrዻጁute耻Ú䃚rĀ;oጇገ憟cir;楉rǣጓ\0጖y;䐎ve;䅬Āiyጞጣrc耻Û䃛;䐣blac;䅰r;쀀𝔘rave耻Ù䃙acr;䅪Ādiፁ፩erĀBPፈ፝Āarፍፐr;䁟acĀekፗፙ;揟et;掵arenthesis;揝onĀ;P፰፱拃lus;抎Āgp፻፿on;䅲f;쀀𝕌ЀADETadps᎕ᎮᎸᏄϨᏒᏗᏳrrowƀ;BDᅐᎠᎤar;椒ownArrow;懅ownArrow;憕quilibrium;楮eeĀ;AᏋᏌ报rrow;憥ownáϳerĀLRᏞᏨeftArrow;憖ightArrow;憗iĀ;lᏹᏺ䏒on;䎥ing;䅮cr;쀀𝒰ilde;䅨ml耻Ü䃜ҀDbcdefosvᐧᐬᐰᐳᐾᒅᒊᒐᒖash;披ar;櫫y;䐒ashĀ;lᐻᐼ抩;櫦Āerᑃᑅ;拁ƀbtyᑌᑐᑺar;怖Ā;iᑏᑕcalȀBLSTᑡᑥᑪᑴar;戣ine;䁼eparator;杘ilde;所ThinSpace;怊r;쀀𝔙pf;쀀𝕍cr;쀀𝒱dash;抪ʀcefosᒧᒬᒱᒶᒼirc;䅴dge;拀r;쀀𝔚pf;쀀𝕎cr;쀀𝒲Ȁfiosᓋᓐᓒᓘr;쀀𝔛;䎞pf;쀀𝕏cr;쀀𝒳ҀAIUacfosuᓱᓵᓹᓽᔄᔏᔔᔚᔠcy;䐯cy;䐇cy;䐮cute耻Ý䃝Āiyᔉᔍrc;䅶;䐫r;쀀𝔜pf;쀀𝕐cr;쀀𝒴ml;䅸ЀHacdefosᔵᔹᔿᕋᕏᕝᕠᕤcy;䐖cute;䅹Āayᕄᕉron;䅽;䐗ot;䅻ǲᕔ\0ᕛoWidtè૙a;䎖r;愨pf;愤cr;쀀𝒵௡ᖃᖊᖐ\0ᖰᖶᖿ\0\0\0\0ᗆᗛᗫᙟ᙭\0ᚕ᚛ᚲᚹ\0ᚾcute耻á䃡reve;䄃̀;Ediuyᖜᖝᖡᖣᖨᖭ戾;쀀∾̳;房rc耻â䃢te肻´̆;䐰lig耻æ䃦Ā;r²ᖺ;쀀𝔞rave耻à䃠ĀepᗊᗖĀfpᗏᗔsym;愵èᗓha;䎱ĀapᗟcĀclᗤᗧr;䄁g;樿ɤᗰ\0\0ᘊʀ;adsvᗺᗻᗿᘁᘇ戧nd;橕;橜lope;橘;橚΀;elmrszᘘᘙᘛᘞᘿᙏᙙ戠;榤e»ᘙsdĀ;aᘥᘦ戡ѡᘰᘲᘴᘶᘸᘺᘼᘾ;榨;榩;榪;榫;榬;榭;榮;榯tĀ;vᙅᙆ戟bĀ;dᙌᙍ抾;榝Āptᙔᙗh;戢»¹arr;捼Āgpᙣᙧon;䄅f;쀀𝕒΀;Eaeiop዁ᙻᙽᚂᚄᚇᚊ;橰cir;橯;扊d;手s;䀧roxĀ;e዁ᚒñᚃing耻å䃥ƀctyᚡᚦᚨr;쀀𝒶;䀪mpĀ;e዁ᚯñʈilde耻ã䃣ml耻ä䃤Āciᛂᛈoninôɲnt;樑ࠀNabcdefiklnoprsu᛭ᛱᜰ᜼ᝃᝈ᝸᝽០៦ᠹᡐᜍ᤽᥈ᥰot;櫭Ācrᛶ᜞kȀcepsᜀᜅᜍᜓong;扌psilon;䏶rime;怵imĀ;e᜚᜛戽q;拍Ŷᜢᜦee;抽edĀ;gᜬᜭ挅e»ᜭrkĀ;t፜᜷brk;掶Āoyᜁᝁ;䐱quo;怞ʀcmprtᝓ᝛ᝡᝤᝨausĀ;eĊĉptyv;榰séᜌnoõēƀahwᝯ᝱ᝳ;䎲;愶een;扬r;쀀𝔟g΀costuvwឍឝឳេ៕៛៞ƀaiuបពរðݠrc;旯p»፱ƀdptឤឨឭot;樀lus;樁imes;樂ɱឹ\0\0ើcup;樆ar;昅riangleĀdu៍្own;施p;斳plus;樄eåᑄåᒭarow;植ƀako៭ᠦᠵĀcn៲ᠣkƀlst៺֫᠂ozenge;槫riangleȀ;dlr᠒᠓᠘᠝斴own;斾eft;旂ight;斸k;搣Ʊᠫ\0ᠳƲᠯ\0ᠱ;斒;斑4;斓ck;斈ĀeoᠾᡍĀ;qᡃᡆ쀀=⃥uiv;쀀≡⃥t;挐Ȁptwxᡙᡞᡧᡬf;쀀𝕓Ā;tᏋᡣom»Ꮜtie;拈؀DHUVbdhmptuvᢅᢖᢪᢻᣗᣛᣬ᣿ᤅᤊᤐᤡȀLRlrᢎᢐᢒᢔ;敗;敔;敖;敓ʀ;DUduᢡᢢᢤᢦᢨ敐;敦;敩;敤;敧ȀLRlrᢳᢵᢷᢹ;敝;敚;敜;教΀;HLRhlrᣊᣋᣍᣏᣑᣓᣕ救;敬;散;敠;敫;敢;敟ox;槉ȀLRlrᣤᣦᣨᣪ;敕;敒;攐;攌ʀ;DUduڽ᣷᣹᣻᣽;敥;敨;攬;攴inus;抟lus;択imes;抠ȀLRlrᤙᤛᤝ᤟;敛;敘;攘;攔΀;HLRhlrᤰᤱᤳᤵᤷ᤻᤹攂;敪;敡;敞;攼;攤;攜Āevģ᥂bar耻¦䂦Ȁceioᥑᥖᥚᥠr;쀀𝒷mi;恏mĀ;e᜚᜜lƀ;bhᥨᥩᥫ䁜;槅sub;柈Ŭᥴ᥾lĀ;e᥹᥺怢t»᥺pƀ;Eeįᦅᦇ;檮Ā;qۜۛೡᦧ\0᧨ᨑᨕᨲ\0ᨷᩐ\0\0᪴\0\0᫁\0\0ᬡᬮ᭍᭒\0᯽\0ᰌƀcpr᦭ᦲ᧝ute;䄇̀;abcdsᦿᧀᧄ᧊᧕᧙戩nd;橄rcup;橉Āau᧏᧒p;橋p;橇ot;橀;쀀∩︀Āeo᧢᧥t;恁îړȀaeiu᧰᧻ᨁᨅǰ᧵\0᧸s;橍on;䄍dil耻ç䃧rc;䄉psĀ;sᨌᨍ橌m;橐ot;䄋ƀdmnᨛᨠᨦil肻¸ƭptyv;榲t脀¢;eᨭᨮ䂢räƲr;쀀𝔠ƀceiᨽᩀᩍy;䑇ckĀ;mᩇᩈ朓ark»ᩈ;䏇r΀;Ecefms᩟᩠ᩢᩫ᪤᪪᪮旋;槃ƀ;elᩩᩪᩭ䋆q;扗eɡᩴ\0\0᪈rrowĀlr᩼᪁eft;憺ight;憻ʀRSacd᪒᪔᪖᪚᪟»ཇ;擈st;抛irc;抚ash;抝nint;樐id;櫯cir;槂ubsĀ;u᪻᪼晣it»᪼ˬ᫇᫔᫺\0ᬊonĀ;eᫍᫎ䀺Ā;qÇÆɭ᫙\0\0᫢aĀ;t᫞᫟䀬;䁀ƀ;fl᫨᫩᫫戁îᅠeĀmx᫱᫶ent»᫩eóɍǧ᫾\0ᬇĀ;dኻᬂot;橭nôɆƀfryᬐᬔᬗ;쀀𝕔oäɔ脀©;sŕᬝr;愗Āaoᬥᬩrr;憵ss;朗Ācuᬲᬷr;쀀𝒸Ābpᬼ᭄Ā;eᭁᭂ櫏;櫑Ā;eᭉᭊ櫐;櫒dot;拯΀delprvw᭠᭬᭷ᮂᮬᯔ᯹arrĀlr᭨᭪;椸;椵ɰ᭲\0\0᭵r;拞c;拟arrĀ;p᭿ᮀ憶;椽̀;bcdosᮏᮐᮖᮡᮥᮨ截rcap;橈Āauᮛᮞp;橆p;橊ot;抍r;橅;쀀∪︀Ȁalrv᮵ᮿᯞᯣrrĀ;mᮼᮽ憷;椼yƀevwᯇᯔᯘqɰᯎ\0\0ᯒreã᭳uã᭵ee;拎edge;拏en耻¤䂤earrowĀlrᯮ᯳eft»ᮀight»ᮽeäᯝĀciᰁᰇoninôǷnt;戱lcty;挭ঀAHabcdefhijlorstuwz᰸᰻᰿ᱝᱩᱵᲊᲞᲬᲷ᳻᳿ᴍᵻᶑᶫᶻ᷆᷍rò΁ar;楥Ȁglrs᱈ᱍ᱒᱔ger;怠eth;愸òᄳhĀ;vᱚᱛ怐»ऊūᱡᱧarow;椏aã̕Āayᱮᱳron;䄏;䐴ƀ;ao̲ᱼᲄĀgrʿᲁr;懊tseq;橷ƀglmᲑᲔᲘ耻°䂰ta;䎴ptyv;榱ĀirᲣᲨsht;楿;쀀𝔡arĀlrᲳᲵ»ࣜ»သʀaegsv᳂͸᳖᳜᳠mƀ;oș᳊᳔ndĀ;ș᳑uit;晦amma;䏝in;拲ƀ;io᳧᳨᳸䃷de脀÷;o᳧ᳰntimes;拇nø᳷cy;䑒cɯᴆ\0\0ᴊrn;挞op;挍ʀlptuwᴘᴝᴢᵉᵕlar;䀤f;쀀𝕕ʀ;emps̋ᴭᴷᴽᵂqĀ;d͒ᴳot;扑inus;戸lus;戔quare;抡blebarwedgåúnƀadhᄮᵝᵧownarrowóᲃarpoonĀlrᵲᵶefôᲴighôᲶŢᵿᶅkaro÷གɯᶊ\0\0ᶎrn;挟op;挌ƀcotᶘᶣᶦĀryᶝᶡ;쀀𝒹;䑕l;槶rok;䄑Ādrᶰᶴot;拱iĀ;fᶺ᠖斿Āah᷀᷃ròЩaòྦangle;榦Āci᷒ᷕy;䑟grarr;柿ऀDacdefglmnopqrstuxḁḉḙḸոḼṉṡṾấắẽỡἪἷὄ὎὚ĀDoḆᴴoôᲉĀcsḎḔute耻é䃩ter;橮ȀaioyḢḧḱḶron;䄛rĀ;cḭḮ扖耻ê䃪lon;払;䑍ot;䄗ĀDrṁṅot;扒;쀀𝔢ƀ;rsṐṑṗ檚ave耻è䃨Ā;dṜṝ檖ot;檘Ȁ;ilsṪṫṲṴ檙nters;揧;愓Ā;dṹṺ檕ot;檗ƀapsẅẉẗcr;䄓tyƀ;svẒẓẕ戅et»ẓpĀ1;ẝẤĳạả;怄;怅怃ĀgsẪẬ;䅋p;怂ĀgpẴẸon;䄙f;쀀𝕖ƀalsỄỎỒrĀ;sỊị拕l;槣us;橱iƀ;lvỚớở䎵on»ớ;䏵ȀcsuvỪỳἋἣĀioữḱrc»Ḯɩỹ\0\0ỻíՈantĀglἂἆtr»ṝess»Ṻƀaeiἒ἖Ἒls;䀽st;扟vĀ;DȵἠD;橸parsl;槥ĀDaἯἳot;打rr;楱ƀcdiἾὁỸr;愯oô͒ĀahὉὋ;䎷耻ð䃰Āmrὓὗl耻ë䃫o;悬ƀcipὡὤὧl;䀡sôծĀeoὬὴctatioîՙnentialåչৡᾒ\0ᾞ\0ᾡᾧ\0\0ῆῌ\0ΐ\0ῦῪ \0 ⁚llingdotseñṄy;䑄male;晀ƀilrᾭᾳ῁lig;耀ﬃɩᾹ\0\0᾽g;耀ﬀig;耀ﬄ;쀀𝔣lig;耀ﬁlig;쀀fjƀaltῙ῜ῡt;晭ig;耀ﬂns;斱of;䆒ǰ΅\0ῳf;쀀𝕗ĀakֿῷĀ;vῼ´拔;櫙artint;樍Āao‌⁕Ācs‑⁒α‚‰‸⁅⁈\0⁐β•‥‧‪‬\0‮耻½䂽;慓耻¼䂼;慕;慙;慛Ƴ‴\0‶;慔;慖ʴ‾⁁\0\0⁃耻¾䂾;慗;慜5;慘ƶ⁌\0⁎;慚;慝8;慞l;恄wn;挢cr;쀀𝒻ࢀEabcdefgijlnorstv₂₉₟₥₰₴⃰⃵⃺⃿℃ℒℸ̗ℾ⅒↞Ā;lٍ₇;檌ƀcmpₐₕ₝ute;䇵maĀ;dₜ᳚䎳;檆reve;䄟Āiy₪₮rc;䄝;䐳ot;䄡Ȁ;lqsؾق₽⃉ƀ;qsؾٌ⃄lanô٥Ȁ;cdl٥⃒⃥⃕c;檩otĀ;o⃜⃝檀Ā;l⃢⃣檂;檄Ā;e⃪⃭쀀⋛︀s;檔r;쀀𝔤Ā;gٳ؛mel;愷cy;䑓Ȁ;Eajٚℌℎℐ;檒;檥;檤ȀEaesℛℝ℩ℴ;扩pĀ;p℣ℤ檊rox»ℤĀ;q℮ℯ檈Ā;q℮ℛim;拧pf;쀀𝕘Āci⅃ⅆr;愊mƀ;el٫ⅎ⅐;檎;檐茀>;cdlqr׮ⅠⅪⅮⅳⅹĀciⅥⅧ;檧r;橺ot;拗Par;榕uest;橼ʀadelsↄⅪ←ٖ↛ǰ↉\0↎proø₞r;楸qĀlqؿ↖lesó₈ií٫Āen↣↭rtneqq;쀀≩︀Å↪ԀAabcefkosy⇄⇇⇱⇵⇺∘∝∯≨≽ròΠȀilmr⇐⇔⇗⇛rsðᒄf»․ilôکĀdr⇠⇤cy;䑊ƀ;cwࣴ⇫⇯ir;楈;憭ar;意irc;䄥ƀalr∁∎∓rtsĀ;u∉∊晥it»∊lip;怦con;抹r;쀀𝔥sĀew∣∩arow;椥arow;椦ʀamopr∺∾≃≞≣rr;懿tht;戻kĀlr≉≓eftarrow;憩ightarrow;憪f;쀀𝕙bar;怕ƀclt≯≴≸r;쀀𝒽asè⇴rok;䄧Ābp⊂⊇ull;恃hen»ᱛૡ⊣\0⊪\0⊸⋅⋎\0⋕⋳\0\0⋸⌢⍧⍢⍿\0⎆⎪⎴cute耻í䃭ƀ;iyݱ⊰⊵rc耻î䃮;䐸Ācx⊼⊿y;䐵cl耻¡䂡ĀfrΟ⋉;쀀𝔦rave耻ì䃬Ȁ;inoܾ⋝⋩⋮Āin⋢⋦nt;樌t;戭fin;槜ta;愩lig;䄳ƀaop⋾⌚⌝ƀcgt⌅⌈⌗r;䄫ƀelpܟ⌏⌓inåގarôܠh;䄱f;抷ed;䆵ʀ;cfotӴ⌬⌱⌽⍁are;愅inĀ;t⌸⌹戞ie;槝doô⌙ʀ;celpݗ⍌⍐⍛⍡al;抺Āgr⍕⍙eróᕣã⍍arhk;樗rod;樼Ȁcgpt⍯⍲⍶⍻y;䑑on;䄯f;쀀𝕚a;䎹uest耻¿䂿Āci⎊⎏r;쀀𝒾nʀ;EdsvӴ⎛⎝⎡ӳ;拹ot;拵Ā;v⎦⎧拴;拳Ā;iݷ⎮lde;䄩ǫ⎸\0⎼cy;䑖l耻ï䃯̀cfmosu⏌⏗⏜⏡⏧⏵Āiy⏑⏕rc;䄵;䐹r;쀀𝔧ath;䈷pf;쀀𝕛ǣ⏬\0⏱r;쀀𝒿rcy;䑘kcy;䑔Ѐacfghjos␋␖␢␧␭␱␵␻ppaĀ;v␓␔䎺;䏰Āey␛␠dil;䄷;䐺r;쀀𝔨reen;䄸cy;䑅cy;䑜pf;쀀𝕜cr;쀀𝓀஀ABEHabcdefghjlmnoprstuv⑰⒁⒆⒍⒑┎┽╚▀♎♞♥♹♽⚚⚲⛘❝❨➋⟀⠁⠒ƀart⑷⑺⑼rò৆òΕail;椛arr;椎Ā;gঔ⒋;檋ar;楢ॣ⒥\0⒪\0⒱\0\0\0\0\0⒵Ⓔ\0ⓆⓈⓍ\0⓹ute;䄺mptyv;榴raîࡌbda;䎻gƀ;dlࢎⓁⓃ;榑åࢎ;檅uo耻«䂫rЀ;bfhlpst࢙ⓞⓦⓩ⓫⓮⓱⓵Ā;f࢝ⓣs;椟s;椝ë≒p;憫l;椹im;楳l;憢ƀ;ae⓿─┄檫il;椙Ā;s┉┊檭;쀀⪭︀ƀabr┕┙┝rr;椌rk;杲Āak┢┬cĀek┨┪;䁻;䁛Āes┱┳;榋lĀdu┹┻;榏;榍Ȁaeuy╆╋╖╘ron;䄾Ādi═╔il;䄼ìࢰâ┩;䐻Ȁcqrs╣╦╭╽a;椶uoĀ;rนᝆĀdu╲╷har;楧shar;楋h;憲ʀ;fgqs▋▌উ◳◿扤tʀahlrt▘▤▷◂◨rrowĀ;t࢙□aé⓶arpoonĀdu▯▴own»њp»०eftarrows;懇ightƀahs◍◖◞rrowĀ;sࣴࢧarpoonó྘quigarro÷⇰hreetimes;拋ƀ;qs▋ও◺lanôবʀ;cdgsব☊☍☝☨c;檨otĀ;o☔☕橿Ā;r☚☛檁;檃Ā;e☢☥쀀⋚︀s;檓ʀadegs☳☹☽♉♋pproøⓆot;拖qĀgq♃♅ôউgtò⒌ôছiíলƀilr♕࣡♚sht;楼;쀀𝔩Ā;Eজ♣;檑š♩♶rĀdu▲♮Ā;l॥♳;楪lk;斄cy;䑙ʀ;achtੈ⚈⚋⚑⚖rò◁orneòᴈard;楫ri;旺Āio⚟⚤dot;䅀ustĀ;a⚬⚭掰che»⚭ȀEaes⚻⚽⛉⛔;扨pĀ;p⛃⛄檉rox»⛄Ā;q⛎⛏檇Ā;q⛎⚻im;拦Ѐabnoptwz⛩⛴⛷✚✯❁❇❐Ānr⛮⛱g;柬r;懽rëࣁgƀlmr⛿✍✔eftĀar০✇ightá৲apsto;柼ightá৽parrowĀlr✥✩efô⓭ight;憬ƀafl✶✹✽r;榅;쀀𝕝us;樭imes;樴š❋❏st;戗áፎƀ;ef❗❘᠀旊nge»❘arĀ;l❤❥䀨t;榓ʀachmt❳❶❼➅➇ròࢨorneòᶌarĀ;d྘➃;業;怎ri;抿̀achiqt➘➝ੀ➢➮➻quo;怹r;쀀𝓁mƀ;egল➪➬;檍;檏Ābu┪➳oĀ;rฟ➹;怚rok;䅂萀<;cdhilqrࠫ⟒☹⟜⟠⟥⟪⟰Āci⟗⟙;檦r;橹reå◲mes;拉arr;楶uest;橻ĀPi⟵⟹ar;榖ƀ;ef⠀भ᠛旃rĀdu⠇⠍shar;楊har;楦Āen⠗⠡rtneqq;쀀≨︀Å⠞܀Dacdefhilnopsu⡀⡅⢂⢎⢓⢠⢥⢨⣚⣢⣤ઃ⣳⤂Dot;戺Ȁclpr⡎⡒⡣⡽r耻¯䂯Āet⡗⡙;時Ā;e⡞⡟朠se»⡟Ā;sျ⡨toȀ;dluျ⡳⡷⡻owîҌefôएðᏑker;斮Āoy⢇⢌mma;権;䐼ash;怔asuredangle»ᘦr;쀀𝔪o;愧ƀcdn⢯⢴⣉ro耻µ䂵Ȁ;acdᑤ⢽⣀⣄sôᚧir;櫰ot肻·Ƶusƀ;bd⣒ᤃ⣓戒Ā;uᴼ⣘;横ţ⣞⣡p;櫛ò−ðઁĀdp⣩⣮els;抧f;쀀𝕞Āct⣸⣽r;쀀𝓂pos»ᖝƀ;lm⤉⤊⤍䎼timap;抸ఀGLRVabcdefghijlmoprstuvw⥂⥓⥾⦉⦘⧚⧩⨕⨚⩘⩝⪃⪕⪤⪨⬄⬇⭄⭿⮮ⰴⱧⱼ⳩Āgt⥇⥋;쀀⋙̸Ā;v⥐௏쀀≫⃒ƀelt⥚⥲⥶ftĀar⥡⥧rrow;懍ightarrow;懎;쀀⋘̸Ā;v⥻ే쀀≪⃒ightarrow;懏ĀDd⦎⦓ash;抯ash;抮ʀbcnpt⦣⦧⦬⦱⧌la»˞ute;䅄g;쀀∠⃒ʀ;Eiop඄⦼⧀⧅⧈;쀀⩰̸d;쀀≋̸s;䅉roø඄urĀ;a⧓⧔普lĀ;s⧓ସǳ⧟\0⧣p肻 ଷmpĀ;e௹ఀʀaeouy⧴⧾⨃⨐⨓ǰ⧹\0⧻;橃on;䅈dil;䅆ngĀ;dൾ⨊ot;쀀⩭̸p;橂;䐽ash;怓΀;Aadqsxஒ⨩⨭⨻⩁⩅⩐rr;懗rĀhr⨳⨶k;椤Ā;oᏲᏰot;쀀≐̸uiöୣĀei⩊⩎ar;椨í஘istĀ;s஠டr;쀀𝔫ȀEest௅⩦⩹⩼ƀ;qs஼⩭௡ƀ;qs஼௅⩴lanô௢ií௪Ā;rஶ⪁»ஷƀAap⪊⪍⪑rò⥱rr;憮ar;櫲ƀ;svྍ⪜ྌĀ;d⪡⪢拼;拺cy;䑚΀AEadest⪷⪺⪾⫂⫅⫶⫹rò⥦;쀀≦̸rr;憚r;急Ȁ;fqs఻⫎⫣⫯tĀar⫔⫙rro÷⫁ightarro÷⪐ƀ;qs఻⪺⫪lanôౕĀ;sౕ⫴»శiíౝĀ;rవ⫾iĀ;eచథiäඐĀpt⬌⬑f;쀀𝕟膀¬;in⬙⬚⬶䂬nȀ;Edvஉ⬤⬨⬮;쀀⋹̸ot;쀀⋵̸ǡஉ⬳⬵;拷;拶iĀ;vಸ⬼ǡಸ⭁⭃;拾;拽ƀaor⭋⭣⭩rȀ;ast୻⭕⭚⭟lleì୻l;쀀⫽⃥;쀀∂̸lint;樔ƀ;ceಒ⭰⭳uåಥĀ;cಘ⭸Ā;eಒ⭽ñಘȀAait⮈⮋⮝⮧rò⦈rrƀ;cw⮔⮕⮙憛;쀀⤳̸;쀀↝̸ghtarrow»⮕riĀ;eೋೖ΀chimpqu⮽⯍⯙⬄୸⯤⯯Ȁ;cerല⯆ഷ⯉uå൅;쀀𝓃ortɭ⬅\0\0⯖ará⭖mĀ;e൮⯟Ā;q൴൳suĀbp⯫⯭å೸åഋƀbcp⯶ⰑⰙȀ;Ees⯿ⰀഢⰄ抄;쀀⫅̸etĀ;eഛⰋqĀ;qണⰀcĀ;eലⰗñസȀ;EesⰢⰣൟⰧ抅;쀀⫆̸etĀ;e൘ⰮqĀ;qൠⰣȀgilrⰽⰿⱅⱇìௗlde耻ñ䃱çృiangleĀlrⱒⱜeftĀ;eచⱚñదightĀ;eೋⱥñ೗Ā;mⱬⱭ䎽ƀ;esⱴⱵⱹ䀣ro;愖p;怇ҀDHadgilrsⲏⲔⲙⲞⲣⲰⲶⳓⳣash;抭arr;椄p;쀀≍⃒ash;抬ĀetⲨⲬ;쀀≥⃒;쀀>⃒nfin;槞ƀAetⲽⳁⳅrr;椂;쀀≤⃒Ā;rⳊⳍ쀀<⃒ie;쀀⊴⃒ĀAtⳘⳜrr;椃rie;쀀⊵⃒im;쀀∼⃒ƀAan⳰⳴ⴂrr;懖rĀhr⳺⳽k;椣Ā;oᏧᏥear;椧ቓ᪕\0\0\0\0\0\0\0\0\0\0\0\0\0ⴭ\0ⴸⵈⵠⵥ⵲ⶄᬇ\0\0ⶍⶫ\0ⷈⷎ\0ⷜ⸙⸫⸾⹃Ācsⴱ᪗ute耻ó䃳ĀiyⴼⵅrĀ;c᪞ⵂ耻ô䃴;䐾ʀabios᪠ⵒⵗǈⵚlac;䅑v;樸old;榼lig;䅓Ācr⵩⵭ir;榿;쀀𝔬ͯ⵹\0\0⵼\0ⶂn;䋛ave耻ò䃲;槁Ābmⶈ෴ar;榵Ȁacitⶕ⶘ⶥⶨrò᪀Āir⶝ⶠr;榾oss;榻nå๒;槀ƀaeiⶱⶵⶹcr;䅍ga;䏉ƀcdnⷀⷅǍron;䎿;榶pf;쀀𝕠ƀaelⷔ⷗ǒr;榷rp;榹΀;adiosvⷪⷫⷮ⸈⸍⸐⸖戨rò᪆Ȁ;efmⷷⷸ⸂⸅橝rĀ;oⷾⷿ愴f»ⷿ耻ª䂪耻º䂺gof;抶r;橖lope;橗;橛ƀclo⸟⸡⸧ò⸁ash耻ø䃸l;折iŬⸯ⸴de耻õ䃵esĀ;aǛ⸺s;樶ml耻ö䃶bar;挽ૡ⹞\0⹽\0⺀⺝\0⺢⺹\0\0⻋ຜ\0⼓\0\0⼫⾼\0⿈rȀ;astЃ⹧⹲຅脀¶;l⹭⹮䂶leìЃɩ⹸\0\0⹻m;櫳;櫽y;䐿rʀcimpt⺋⺏⺓ᡥ⺗nt;䀥od;䀮il;怰enk;怱r;쀀𝔭ƀimo⺨⺰⺴Ā;v⺭⺮䏆;䏕maô੶ne;明ƀ;tv⺿⻀⻈䏀chfork»´;䏖Āau⻏⻟nĀck⻕⻝kĀ;h⇴⻛;愎ö⇴sҀ;abcdemst⻳⻴ᤈ⻹⻽⼄⼆⼊⼎䀫cir;樣ir;樢Āouᵀ⼂;樥;橲n肻±ຝim;樦wo;樧ƀipu⼙⼠⼥ntint;樕f;쀀𝕡nd耻£䂣Ԁ;Eaceinosu່⼿⽁⽄⽇⾁⾉⾒⽾⾶;檳p;檷uå໙Ā;c໎⽌̀;acens່⽙⽟⽦⽨⽾pproø⽃urlyeñ໙ñ໎ƀaes⽯⽶⽺pprox;檹qq;檵im;拨iíໟmeĀ;s⾈ຮ怲ƀEas⽸⾐⽺ð⽵ƀdfp໬⾙⾯ƀals⾠⾥⾪lar;挮ine;挒urf;挓Ā;t໻⾴ï໻rel;抰Āci⿀⿅r;쀀𝓅;䏈ncsp;怈̀fiopsu⿚⋢⿟⿥⿫⿱r;쀀𝔮pf;쀀𝕢rime;恗cr;쀀𝓆ƀaeo⿸〉〓tĀei⿾々rnionóڰnt;樖stĀ;e【】䀿ñἙô༔઀ABHabcdefhilmnoprstux぀けさすムㄎㄫㅇㅢㅲㆎ㈆㈕㈤㈩㉘㉮㉲㊐㊰㊷ƀartぇおがròႳòϝail;検aròᱥar;楤΀cdenqrtとふへみわゔヌĀeuねぱ;쀀∽̱te;䅕iãᅮmptyv;榳gȀ;del࿑らるろ;榒;榥å࿑uo耻»䂻rր;abcfhlpstw࿜ガクシスゼゾダッデナp;極Ā;f࿠ゴs;椠;椳s;椞ë≝ð✮l;楅im;楴l;憣;憝Āaiパフil;椚oĀ;nホボ戶aló༞ƀabrョリヮrò៥rk;杳ĀakンヽcĀekヹ・;䁽;䁝Āes㄂㄄;榌lĀduㄊㄌ;榎;榐Ȁaeuyㄗㄜㄧㄩron;䅙Ādiㄡㄥil;䅗ì࿲âヺ;䑀Ȁclqsㄴㄷㄽㅄa;椷dhar;楩uoĀ;rȎȍh;憳ƀacgㅎㅟངlȀ;ipsླྀㅘㅛႜnåႻarôྩt;断ƀilrㅩဣㅮsht;楽;쀀𝔯ĀaoㅷㆆrĀduㅽㅿ»ѻĀ;l႑ㆄ;楬Ā;vㆋㆌ䏁;䏱ƀgns㆕ㇹㇼht̀ahlrstㆤㆰ㇂㇘㇤㇮rrowĀ;t࿜ㆭaéトarpoonĀduㆻㆿowîㅾp»႒eftĀah㇊㇐rrowó࿪arpoonóՑightarrows;應quigarro÷ニhreetimes;拌g;䋚ingdotseñἲƀahm㈍㈐㈓rò࿪aòՑ;怏oustĀ;a㈞㈟掱che»㈟mid;櫮Ȁabpt㈲㈽㉀㉒Ānr㈷㈺g;柭r;懾rëဃƀafl㉇㉊㉎r;榆;쀀𝕣us;樮imes;樵Āap㉝㉧rĀ;g㉣㉤䀩t;榔olint;樒arò㇣Ȁachq㉻㊀Ⴜ㊅quo;怺r;쀀𝓇Ābu・㊊oĀ;rȔȓƀhir㊗㊛㊠reåㇸmes;拊iȀ;efl㊪ၙᠡ㊫方tri;槎luhar;楨;愞ൡ㋕㋛㋟㌬㌸㍱\0㍺㎤\0\0㏬㏰\0㐨㑈㑚㒭㒱㓊㓱\0㘖\0\0㘳cute;䅛quï➺Ԁ;Eaceinpsyᇭ㋳㋵㋿㌂㌋㌏㌟㌦㌩;檴ǰ㋺\0㋼;檸on;䅡uåᇾĀ;dᇳ㌇il;䅟rc;䅝ƀEas㌖㌘㌛;檶p;檺im;择olint;樓iíሄ;䑁otƀ;be㌴ᵇ㌵担;橦΀Aacmstx㍆㍊㍗㍛㍞㍣㍭rr;懘rĀhr㍐㍒ë∨Ā;oਸ਼਴t耻§䂧i;䀻war;椩mĀin㍩ðnuóñt;朶rĀ;o㍶⁕쀀𝔰Ȁacoy㎂㎆㎑㎠rp;景Āhy㎋㎏cy;䑉;䑈rtɭ㎙\0\0㎜iäᑤaraì⹯耻­䂭Āgm㎨㎴maƀ;fv㎱㎲㎲䏃;䏂Ѐ;deglnprካ㏅㏉㏎㏖㏞㏡㏦ot;橪Ā;q኱ኰĀ;E㏓㏔檞;檠Ā;E㏛㏜檝;檟e;扆lus;樤arr;楲aròᄽȀaeit㏸㐈㐏㐗Āls㏽㐄lsetmé㍪hp;樳parsl;槤Ādlᑣ㐔e;挣Ā;e㐜㐝檪Ā;s㐢㐣檬;쀀⪬︀ƀflp㐮㐳㑂tcy;䑌Ā;b㐸㐹䀯Ā;a㐾㐿槄r;挿f;쀀𝕤aĀdr㑍ЂesĀ;u㑔㑕晠it»㑕ƀcsu㑠㑹㒟Āau㑥㑯pĀ;sᆈ㑫;쀀⊓︀pĀ;sᆴ㑵;쀀⊔︀uĀbp㑿㒏ƀ;esᆗᆜ㒆etĀ;eᆗ㒍ñᆝƀ;esᆨᆭ㒖etĀ;eᆨ㒝ñᆮƀ;afᅻ㒦ְrť㒫ֱ»ᅼaròᅈȀcemt㒹㒾㓂㓅r;쀀𝓈tmîñiì㐕aræᆾĀar㓎㓕rĀ;f㓔ឿ昆Āan㓚㓭ightĀep㓣㓪psiloîỠhé⺯s»⡒ʀbcmnp㓻㕞ሉ㖋㖎Ҁ;Edemnprs㔎㔏㔑㔕㔞㔣㔬㔱㔶抂;櫅ot;檽Ā;dᇚ㔚ot;櫃ult;櫁ĀEe㔨㔪;櫋;把lus;檿arr;楹ƀeiu㔽㕒㕕tƀ;en㔎㕅㕋qĀ;qᇚ㔏eqĀ;q㔫㔨m;櫇Ābp㕚㕜;櫕;櫓c̀;acensᇭ㕬㕲㕹㕻㌦pproø㋺urlyeñᇾñᇳƀaes㖂㖈㌛pproø㌚qñ㌗g;晪ڀ123;Edehlmnps㖩㖬㖯ሜ㖲㖴㗀㗉㗕㗚㗟㗨㗭耻¹䂹耻²䂲耻³䂳;櫆Āos㖹㖼t;檾ub;櫘Ā;dሢ㗅ot;櫄sĀou㗏㗒l;柉b;櫗arr;楻ult;櫂ĀEe㗤㗦;櫌;抋lus;櫀ƀeiu㗴㘉㘌tƀ;enሜ㗼㘂qĀ;qሢ㖲eqĀ;q㗧㗤m;櫈Ābp㘑㘓;櫔;櫖ƀAan㘜㘠㘭rr;懙rĀhr㘦㘨ë∮Ā;oਫ਩war;椪lig耻ß䃟௡㙑㙝㙠ዎ㙳㙹\0㙾㛂\0\0\0\0\0㛛㜃\0㜉㝬\0\0\0㞇ɲ㙖\0\0㙛get;挖;䏄rë๟ƀaey㙦㙫㙰ron;䅥dil;䅣;䑂lrec;挕r;쀀𝔱Ȁeiko㚆㚝㚵㚼ǲ㚋\0㚑eĀ4fኄኁaƀ;sv㚘㚙㚛䎸ym;䏑Ācn㚢㚲kĀas㚨㚮pproø዁im»ኬsðኞĀas㚺㚮ð዁rn耻þ䃾Ǭ̟㛆⋧es膀×;bd㛏㛐㛘䃗Ā;aᤏ㛕r;樱;樰ƀeps㛡㛣㜀á⩍Ȁ;bcf҆㛬㛰㛴ot;挶ir;櫱Ā;o㛹㛼쀀𝕥rk;櫚á㍢rime;怴ƀaip㜏㜒㝤dåቈ΀adempst㜡㝍㝀㝑㝗㝜㝟ngleʀ;dlqr㜰㜱㜶㝀㝂斵own»ᶻeftĀ;e⠀㜾ñम;扜ightĀ;e㊪㝋ñၚot;旬inus;樺lus;樹b;槍ime;樻ezium;揢ƀcht㝲㝽㞁Āry㝷㝻;쀀𝓉;䑆cy;䑛rok;䅧Āio㞋㞎xô᝷headĀlr㞗㞠eftarro÷ࡏightarrow»ཝऀAHabcdfghlmoprstuw㟐㟓㟗㟤㟰㟼㠎㠜㠣㠴㡑㡝㡫㢩㣌㣒㣪㣶ròϭar;楣Ācr㟜㟢ute耻ú䃺òᅐrǣ㟪\0㟭y;䑞ve;䅭Āiy㟵㟺rc耻û䃻;䑃ƀabh㠃㠆㠋ròᎭlac;䅱aòᏃĀir㠓㠘sht;楾;쀀𝔲rave耻ù䃹š㠧㠱rĀlr㠬㠮»ॗ»ႃlk;斀Āct㠹㡍ɯ㠿\0\0㡊rnĀ;e㡅㡆挜r»㡆op;挏ri;旸Āal㡖㡚cr;䅫肻¨͉Āgp㡢㡦on;䅳f;쀀𝕦̀adhlsuᅋ㡸㡽፲㢑㢠ownáᎳarpoonĀlr㢈㢌efô㠭ighô㠯iƀ;hl㢙㢚㢜䏅»ᏺon»㢚parrows;懈ƀcit㢰㣄㣈ɯ㢶\0\0㣁rnĀ;e㢼㢽挝r»㢽op;挎ng;䅯ri;旹cr;쀀𝓊ƀdir㣙㣝㣢ot;拰lde;䅩iĀ;f㜰㣨»᠓Āam㣯㣲rò㢨l耻ü䃼angle;榧ހABDacdeflnoprsz㤜㤟㤩㤭㦵㦸㦽㧟㧤㧨㧳㧹㧽㨁㨠ròϷarĀ;v㤦㤧櫨;櫩asèϡĀnr㤲㤷grt;榜΀eknprst㓣㥆㥋㥒㥝㥤㦖appá␕othinçẖƀhir㓫⻈㥙opô⾵Ā;hᎷ㥢ïㆍĀiu㥩㥭gmá㎳Ābp㥲㦄setneqĀ;q㥽㦀쀀⊊︀;쀀⫋︀setneqĀ;q㦏㦒쀀⊋︀;쀀⫌︀Āhr㦛㦟etá㚜iangleĀlr㦪㦯eft»थight»ၑy;䐲ash»ံƀelr㧄㧒㧗ƀ;beⷪ㧋㧏ar;抻q;扚lip;拮Ābt㧜ᑨaòᑩr;쀀𝔳tré㦮suĀbp㧯㧱»ജ»൙pf;쀀𝕧roð໻tré㦴Ācu㨆㨋r;쀀𝓋Ābp㨐㨘nĀEe㦀㨖»㥾nĀEe㦒㨞»㦐igzag;榚΀cefoprs㨶㨻㩖㩛㩔㩡㩪irc;䅵Ādi㩀㩑Ābg㩅㩉ar;機eĀ;qᗺ㩏;扙erp;愘r;쀀𝔴pf;쀀𝕨Ā;eᑹ㩦atèᑹcr;쀀𝓌ૣណ㪇\0㪋\0㪐㪛\0\0㪝㪨㪫㪯\0\0㫃㫎\0㫘ៜ៟tré៑r;쀀𝔵ĀAa㪔㪗ròσrò৶;䎾ĀAa㪡㪤ròθrò৫að✓is;拻ƀdptឤ㪵㪾Āfl㪺ឩ;쀀𝕩imåឲĀAa㫇㫊ròώròਁĀcq㫒ីr;쀀𝓍Āpt៖㫜ré។Ѐacefiosu㫰㫽㬈㬌㬑㬕㬛㬡cĀuy㫶㫻te耻ý䃽;䑏Āiy㬂㬆rc;䅷;䑋n耻¥䂥r;쀀𝔶cy;䑗pf;쀀𝕪cr;쀀𝓎Ācm㬦㬩y;䑎l耻ÿ䃿Ԁacdefhiosw㭂㭈㭔㭘㭤㭩㭭㭴㭺㮀cute;䅺Āay㭍㭒ron;䅾;䐷ot;䅼Āet㭝㭡træᕟa;䎶r;쀀𝔷cy;䐶grarr;懝pf;쀀𝕫cr;쀀𝓏Ājn㮅㮇;怍j;怌'.split("").map(function(e13) {
    return e13.charCodeAt(0);
  })
);
var _N = {};
Object.defineProperty(_N, "__esModule", {
  value: true
});
_N.default = new Uint16Array(
  // prettier-ignore
  "Ȁaglq	\x1Bɭ\0\0p;䀦os;䀧t;䀾t;䀼uot;䀢".split("").map(function(e13) {
    return e13.charCodeAt(0);
  })
);
var jP = {};
(function(e13) {
  var t;
  Object.defineProperty(e13, "__esModule", {
    value: true
  }), e13.replaceCodePoint = e13.fromCodePoint = void 0;
  var r = /* @__PURE__ */ new Map([
    [0, 65533],
    // C1 Unicode control character reference replacements
    [128, 8364],
    [130, 8218],
    [131, 402],
    [132, 8222],
    [133, 8230],
    [134, 8224],
    [135, 8225],
    [136, 710],
    [137, 8240],
    [138, 352],
    [139, 8249],
    [140, 338],
    [142, 381],
    [145, 8216],
    [146, 8217],
    [147, 8220],
    [148, 8221],
    [149, 8226],
    [150, 8211],
    [151, 8212],
    [152, 732],
    [153, 8482],
    [154, 353],
    [155, 8250],
    [156, 339],
    [158, 382],
    [159, 376]
  ]);
  e13.fromCodePoint = // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition, node/no-unsupported-features/es-builtins
  (t = String.fromCodePoint) !== null && t !== void 0 ? t : function(o) {
    var a = "";
    return o > 65535 && (o -= 65536, a += String.fromCharCode(o >>> 10 & 1023 | 55296), o = 56320 | o & 1023), a += String.fromCharCode(o), a;
  };
  function n(o) {
    var a;
    return o >= 55296 && o <= 57343 || o > 1114111 ? 65533 : (a = r.get(o)) !== null && a !== void 0 ? a : o;
  }
  e13.replaceCodePoint = n;
  function i(o) {
    return (0, e13.fromCodePoint)(n(o));
  }
  e13.default = i;
})(jP);
(function(e13) {
  var t = De && De.__createBinding || (Object.create ? function(w, N, L, A) {
    A === void 0 && (A = L);
    var R = Object.getOwnPropertyDescriptor(N, L);
    (!R || ("get" in R ? !N.__esModule : R.writable || R.configurable)) && (R = {
      enumerable: true,
      get: function() {
        return N[L];
      }
    }), Object.defineProperty(w, A, R);
  } : function(w, N, L, A) {
    A === void 0 && (A = L), w[A] = N[L];
  }), r = De && De.__setModuleDefault || (Object.create ? function(w, N) {
    Object.defineProperty(w, "default", {
      enumerable: true,
      value: N
    });
  } : function(w, N) {
    w.default = N;
  }), n = De && De.__importStar || function(w) {
    if (w && w.__esModule)
      return w;
    var N = {};
    if (w != null)
      for (var L in w)
        L !== "default" && Object.prototype.hasOwnProperty.call(w, L) && t(N, w, L);
    return r(N, w), N;
  }, i = De && De.__importDefault || function(w) {
    return w && w.__esModule ? w : {
      default: w
    };
  };
  Object.defineProperty(e13, "__esModule", {
    value: true
  }), e13.decodeXML = e13.decodeHTMLStrict = e13.decodeHTMLAttribute = e13.decodeHTML = e13.determineBranch = e13.EntityDecoder = e13.DecodingMode = e13.BinTrieFlags = e13.fromCodePoint = e13.replaceCodePoint = e13.decodeCodePoint = e13.xmlDecodeTree = e13.htmlDecodeTree = void 0;
  var o = i(yN);
  e13.htmlDecodeTree = o.default;
  var a = i(_N);
  e13.xmlDecodeTree = a.default;
  var s = n(jP);
  e13.decodeCodePoint = s.default;
  var l = jP;
  Object.defineProperty(e13, "replaceCodePoint", {
    enumerable: true,
    get: function() {
      return l.replaceCodePoint;
    }
  }), Object.defineProperty(e13, "fromCodePoint", {
    enumerable: true,
    get: function() {
      return l.fromCodePoint;
    }
  });
  var u;
  (function(w) {
    w[w.NUM = 35] = "NUM", w[w.SEMI = 59] = "SEMI", w[w.EQUALS = 61] = "EQUALS", w[w.ZERO = 48] = "ZERO", w[w.NINE = 57] = "NINE", w[w.LOWER_A = 97] = "LOWER_A", w[w.LOWER_F = 102] = "LOWER_F", w[w.LOWER_X = 120] = "LOWER_X", w[w.LOWER_Z = 122] = "LOWER_Z", w[w.UPPER_A = 65] = "UPPER_A", w[w.UPPER_F = 70] = "UPPER_F", w[w.UPPER_Z = 90] = "UPPER_Z";
  })(u || (u = {}));
  var c = 32, f;
  (function(w) {
    w[w.VALUE_LENGTH = 49152] = "VALUE_LENGTH", w[w.BRANCH_LENGTH = 16256] = "BRANCH_LENGTH", w[w.JUMP_TABLE = 127] = "JUMP_TABLE";
  })(f = e13.BinTrieFlags || (e13.BinTrieFlags = {}));
  function h(w) {
    return w >= u.ZERO && w <= u.NINE;
  }
  function d(w) {
    return w >= u.UPPER_A && w <= u.UPPER_F || w >= u.LOWER_A && w <= u.LOWER_F;
  }
  function p(w) {
    return w >= u.UPPER_A && w <= u.UPPER_Z || w >= u.LOWER_A && w <= u.LOWER_Z || h(w);
  }
  function m(w) {
    return w === u.EQUALS || p(w);
  }
  var g;
  (function(w) {
    w[w.EntityStart = 0] = "EntityStart", w[w.NumericStart = 1] = "NumericStart", w[w.NumericDecimal = 2] = "NumericDecimal", w[w.NumericHex = 3] = "NumericHex", w[w.NamedEntity = 4] = "NamedEntity";
  })(g || (g = {}));
  var v;
  (function(w) {
    w[w.Legacy = 0] = "Legacy", w[w.Strict = 1] = "Strict", w[w.Attribute = 2] = "Attribute";
  })(v = e13.DecodingMode || (e13.DecodingMode = {}));
  var b = (
    /** @class */
    function() {
      function w(N, L, A) {
        this.decodeTree = N, this.emitCodePoint = L, this.errors = A, this.state = g.EntityStart, this.consumed = 1, this.result = 0, this.treeIndex = 0, this.excess = 1, this.decodeMode = v.Strict;
      }
      return w.prototype.startEntity = function(N) {
        this.decodeMode = N, this.state = g.EntityStart, this.result = 0, this.treeIndex = 0, this.excess = 1, this.consumed = 1;
      }, w.prototype.write = function(N, L) {
        switch (this.state) {
          case g.EntityStart:
            return N.charCodeAt(L) === u.NUM ? (this.state = g.NumericStart, this.consumed += 1, this.stateNumericStart(N, L + 1)) : (this.state = g.NamedEntity, this.stateNamedEntity(N, L));
          case g.NumericStart:
            return this.stateNumericStart(N, L);
          case g.NumericDecimal:
            return this.stateNumericDecimal(N, L);
          case g.NumericHex:
            return this.stateNumericHex(N, L);
          case g.NamedEntity:
            return this.stateNamedEntity(N, L);
        }
      }, w.prototype.stateNumericStart = function(N, L) {
        return L >= N.length ? -1 : (N.charCodeAt(L) | c) === u.LOWER_X ? (this.state = g.NumericHex, this.consumed += 1, this.stateNumericHex(N, L + 1)) : (this.state = g.NumericDecimal, this.stateNumericDecimal(N, L));
      }, w.prototype.addToNumericResult = function(N, L, A, R) {
        if (L !== A) {
          var F = A - L;
          this.result = this.result * Math.pow(R, F) + parseInt(N.substr(L, F), R), this.consumed += F;
        }
      }, w.prototype.stateNumericHex = function(N, L) {
        for (var A = L; L < N.length; ) {
          var R = N.charCodeAt(L);
          if (h(R) || d(R))
            L += 1;
          else
            return this.addToNumericResult(N, A, L, 16), this.emitNumericEntity(R, 3);
        }
        return this.addToNumericResult(N, A, L, 16), -1;
      }, w.prototype.stateNumericDecimal = function(N, L) {
        for (var A = L; L < N.length; ) {
          var R = N.charCodeAt(L);
          if (h(R))
            L += 1;
          else
            return this.addToNumericResult(N, A, L, 10), this.emitNumericEntity(R, 2);
        }
        return this.addToNumericResult(N, A, L, 10), -1;
      }, w.prototype.emitNumericEntity = function(N, L) {
        var A;
        if (this.consumed <= L)
          return (A = this.errors) === null || A === void 0 || A.absenceOfDigitsInNumericCharacterReference(this.consumed), 0;
        if (N === u.SEMI)
          this.consumed += 1;
        else if (this.decodeMode === v.Strict)
          return 0;
        return this.emitCodePoint((0, s.replaceCodePoint)(this.result), this.consumed), this.errors && (N !== u.SEMI && this.errors.missingSemicolonAfterCharacterReference(), this.errors.validateNumericCharacterReference(this.result)), this.consumed;
      }, w.prototype.stateNamedEntity = function(N, L) {
        for (var A = this.decodeTree, R = A[this.treeIndex], F = (R & f.VALUE_LENGTH) >> 14; L < N.length; L++, this.excess++) {
          var $ = N.charCodeAt(L);
          if (this.treeIndex = _(A, R, this.treeIndex + Math.max(1, F), $), this.treeIndex < 0)
            return this.result === 0 || // If we are parsing an attribute
            this.decodeMode === v.Attribute && // We shouldn't have consumed any characters after the entity,
            (F === 0 || // And there should be no invalid characters.
            m($)) ? 0 : this.emitNotTerminatedNamedEntity();
          if (R = A[this.treeIndex], F = (R & f.VALUE_LENGTH) >> 14, F !== 0) {
            if ($ === u.SEMI)
              return this.emitNamedEntityData(this.treeIndex, F, this.consumed + this.excess);
            this.decodeMode !== v.Strict && (this.result = this.treeIndex, this.consumed += this.excess, this.excess = 0);
          }
        }
        return -1;
      }, w.prototype.emitNotTerminatedNamedEntity = function() {
        var N, L = this, A = L.result, R = L.decodeTree, F = (R[A] & f.VALUE_LENGTH) >> 14;
        return this.emitNamedEntityData(A, F, this.consumed), (N = this.errors) === null || N === void 0 || N.missingSemicolonAfterCharacterReference(), this.consumed;
      }, w.prototype.emitNamedEntityData = function(N, L, A) {
        var R = this.decodeTree;
        return this.emitCodePoint(L === 1 ? R[N] & ~f.VALUE_LENGTH : R[N + 1], A), L === 3 && this.emitCodePoint(R[N + 2], A), A;
      }, w.prototype.end = function() {
        var N;
        switch (this.state) {
          case g.NamedEntity:
            return this.result !== 0 && (this.decodeMode !== v.Attribute || this.result === this.treeIndex) ? this.emitNotTerminatedNamedEntity() : 0;
          case g.NumericDecimal:
            return this.emitNumericEntity(0, 2);
          case g.NumericHex:
            return this.emitNumericEntity(0, 3);
          case g.NumericStart:
            return (N = this.errors) === null || N === void 0 || N.absenceOfDigitsInNumericCharacterReference(this.consumed), 0;
          case g.EntityStart:
            return 0;
        }
      }, w;
    }()
  );
  e13.EntityDecoder = b;
  function y(w) {
    var N = "", L = new b(w, function(A) {
      return N += (0, s.fromCodePoint)(A);
    });
    return function(R, F) {
      for (var $ = 0, K = 0; (K = R.indexOf("&", K)) >= 0; ) {
        N += R.slice($, K), L.startEntity(F);
        var ie = L.write(
          R,
          // Skip the "&"
          K + 1
        );
        if (ie < 0) {
          $ = K + L.end();
          break;
        }
        $ = K + ie, K = ie === 0 ? $ + 1 : $;
      }
      var J = N + R.slice($);
      return N = "", J;
    };
  }
  function _(w, N, L, A) {
    var R = (N & f.BRANCH_LENGTH) >> 7, F = N & f.JUMP_TABLE;
    if (R === 0)
      return F !== 0 && A === F ? L : -1;
    if (F) {
      var $ = A - F;
      return $ < 0 || $ >= R ? -1 : w[L + $] - 1;
    }
    for (var K = L, ie = K + R - 1; K <= ie; ) {
      var J = K + ie >>> 1, pe = w[J];
      if (pe < A)
        K = J + 1;
      else if (pe > A)
        ie = J - 1;
      else
        return w[J + R];
    }
    return -1;
  }
  e13.determineBranch = _;
  var T = y(o.default), E = y(a.default);
  function O(w, N) {
    return N === void 0 && (N = v.Legacy), T(w, N);
  }
  e13.decodeHTML = O;
  function S(w) {
    return T(w, v.Attribute);
  }
  e13.decodeHTMLAttribute = S;
  function P(w) {
    return T(w, v.Strict);
  }
  e13.decodeHTMLStrict = P;
  function C(w) {
    return E(w, v.Strict);
  }
  e13.decodeXML = C;
})(vu);
var yu = {};
var bN = {};
Object.defineProperty(bN, "__esModule", {
  value: true
});
function o_(e13) {
  for (var t = 1; t < e13.length; t++)
    e13[t][0] += e13[t - 1][0] + 1;
  return e13;
}
bN.default = new Map(o_([[9, "&Tab;"], [0, "&NewLine;"], [22, "&excl;"], [0, "&quot;"], [0, "&num;"], [0, "&dollar;"], [0, "&percnt;"], [0, "&amp;"], [0, "&apos;"], [0, "&lpar;"], [0, "&rpar;"], [0, "&ast;"], [0, "&plus;"], [0, "&comma;"], [1, "&period;"], [0, "&sol;"], [10, "&colon;"], [0, "&semi;"], [0, {
  v: "&lt;",
  n: 8402,
  o: "&nvlt;"
}], [0, {
  v: "&equals;",
  n: 8421,
  o: "&bne;"
}], [0, {
  v: "&gt;",
  n: 8402,
  o: "&nvgt;"
}], [0, "&quest;"], [0, "&commat;"], [26, "&lbrack;"], [0, "&bsol;"], [0, "&rbrack;"], [0, "&Hat;"], [0, "&lowbar;"], [0, "&DiacriticalGrave;"], [5, {
  n: 106,
  o: "&fjlig;"
}], [20, "&lbrace;"], [0, "&verbar;"], [0, "&rbrace;"], [34, "&nbsp;"], [0, "&iexcl;"], [0, "&cent;"], [0, "&pound;"], [0, "&curren;"], [0, "&yen;"], [0, "&brvbar;"], [0, "&sect;"], [0, "&die;"], [0, "&copy;"], [0, "&ordf;"], [0, "&laquo;"], [0, "&not;"], [0, "&shy;"], [0, "&circledR;"], [0, "&macr;"], [0, "&deg;"], [0, "&PlusMinus;"], [0, "&sup2;"], [0, "&sup3;"], [0, "&acute;"], [0, "&micro;"], [0, "&para;"], [0, "&centerdot;"], [0, "&cedil;"], [0, "&sup1;"], [0, "&ordm;"], [0, "&raquo;"], [0, "&frac14;"], [0, "&frac12;"], [0, "&frac34;"], [0, "&iquest;"], [0, "&Agrave;"], [0, "&Aacute;"], [0, "&Acirc;"], [0, "&Atilde;"], [0, "&Auml;"], [0, "&angst;"], [0, "&AElig;"], [0, "&Ccedil;"], [0, "&Egrave;"], [0, "&Eacute;"], [0, "&Ecirc;"], [0, "&Euml;"], [0, "&Igrave;"], [0, "&Iacute;"], [0, "&Icirc;"], [0, "&Iuml;"], [0, "&ETH;"], [0, "&Ntilde;"], [0, "&Ograve;"], [0, "&Oacute;"], [0, "&Ocirc;"], [0, "&Otilde;"], [0, "&Ouml;"], [0, "&times;"], [0, "&Oslash;"], [0, "&Ugrave;"], [0, "&Uacute;"], [0, "&Ucirc;"], [0, "&Uuml;"], [0, "&Yacute;"], [0, "&THORN;"], [0, "&szlig;"], [0, "&agrave;"], [0, "&aacute;"], [0, "&acirc;"], [0, "&atilde;"], [0, "&auml;"], [0, "&aring;"], [0, "&aelig;"], [0, "&ccedil;"], [0, "&egrave;"], [0, "&eacute;"], [0, "&ecirc;"], [0, "&euml;"], [0, "&igrave;"], [0, "&iacute;"], [0, "&icirc;"], [0, "&iuml;"], [0, "&eth;"], [0, "&ntilde;"], [0, "&ograve;"], [0, "&oacute;"], [0, "&ocirc;"], [0, "&otilde;"], [0, "&ouml;"], [0, "&div;"], [0, "&oslash;"], [0, "&ugrave;"], [0, "&uacute;"], [0, "&ucirc;"], [0, "&uuml;"], [0, "&yacute;"], [0, "&thorn;"], [0, "&yuml;"], [0, "&Amacr;"], [0, "&amacr;"], [0, "&Abreve;"], [0, "&abreve;"], [0, "&Aogon;"], [0, "&aogon;"], [0, "&Cacute;"], [0, "&cacute;"], [0, "&Ccirc;"], [0, "&ccirc;"], [0, "&Cdot;"], [0, "&cdot;"], [0, "&Ccaron;"], [0, "&ccaron;"], [0, "&Dcaron;"], [0, "&dcaron;"], [0, "&Dstrok;"], [0, "&dstrok;"], [0, "&Emacr;"], [0, "&emacr;"], [2, "&Edot;"], [0, "&edot;"], [0, "&Eogon;"], [0, "&eogon;"], [0, "&Ecaron;"], [0, "&ecaron;"], [0, "&Gcirc;"], [0, "&gcirc;"], [0, "&Gbreve;"], [0, "&gbreve;"], [0, "&Gdot;"], [0, "&gdot;"], [0, "&Gcedil;"], [1, "&Hcirc;"], [0, "&hcirc;"], [0, "&Hstrok;"], [0, "&hstrok;"], [0, "&Itilde;"], [0, "&itilde;"], [0, "&Imacr;"], [0, "&imacr;"], [2, "&Iogon;"], [0, "&iogon;"], [0, "&Idot;"], [0, "&imath;"], [0, "&IJlig;"], [0, "&ijlig;"], [0, "&Jcirc;"], [0, "&jcirc;"], [0, "&Kcedil;"], [0, "&kcedil;"], [0, "&kgreen;"], [0, "&Lacute;"], [0, "&lacute;"], [0, "&Lcedil;"], [0, "&lcedil;"], [0, "&Lcaron;"], [0, "&lcaron;"], [0, "&Lmidot;"], [0, "&lmidot;"], [0, "&Lstrok;"], [0, "&lstrok;"], [0, "&Nacute;"], [0, "&nacute;"], [0, "&Ncedil;"], [0, "&ncedil;"], [0, "&Ncaron;"], [0, "&ncaron;"], [0, "&napos;"], [0, "&ENG;"], [0, "&eng;"], [0, "&Omacr;"], [0, "&omacr;"], [2, "&Odblac;"], [0, "&odblac;"], [0, "&OElig;"], [0, "&oelig;"], [0, "&Racute;"], [0, "&racute;"], [0, "&Rcedil;"], [0, "&rcedil;"], [0, "&Rcaron;"], [0, "&rcaron;"], [0, "&Sacute;"], [0, "&sacute;"], [0, "&Scirc;"], [0, "&scirc;"], [0, "&Scedil;"], [0, "&scedil;"], [0, "&Scaron;"], [0, "&scaron;"], [0, "&Tcedil;"], [0, "&tcedil;"], [0, "&Tcaron;"], [0, "&tcaron;"], [0, "&Tstrok;"], [0, "&tstrok;"], [0, "&Utilde;"], [0, "&utilde;"], [0, "&Umacr;"], [0, "&umacr;"], [0, "&Ubreve;"], [0, "&ubreve;"], [0, "&Uring;"], [0, "&uring;"], [0, "&Udblac;"], [0, "&udblac;"], [0, "&Uogon;"], [0, "&uogon;"], [0, "&Wcirc;"], [0, "&wcirc;"], [0, "&Ycirc;"], [0, "&ycirc;"], [0, "&Yuml;"], [0, "&Zacute;"], [0, "&zacute;"], [0, "&Zdot;"], [0, "&zdot;"], [0, "&Zcaron;"], [0, "&zcaron;"], [19, "&fnof;"], [34, "&imped;"], [63, "&gacute;"], [65, "&jmath;"], [142, "&circ;"], [0, "&caron;"], [16, "&breve;"], [0, "&DiacriticalDot;"], [0, "&ring;"], [0, "&ogon;"], [0, "&DiacriticalTilde;"], [0, "&dblac;"], [51, "&DownBreve;"], [127, "&Alpha;"], [0, "&Beta;"], [0, "&Gamma;"], [0, "&Delta;"], [0, "&Epsilon;"], [0, "&Zeta;"], [0, "&Eta;"], [0, "&Theta;"], [0, "&Iota;"], [0, "&Kappa;"], [0, "&Lambda;"], [0, "&Mu;"], [0, "&Nu;"], [0, "&Xi;"], [0, "&Omicron;"], [0, "&Pi;"], [0, "&Rho;"], [1, "&Sigma;"], [0, "&Tau;"], [0, "&Upsilon;"], [0, "&Phi;"], [0, "&Chi;"], [0, "&Psi;"], [0, "&ohm;"], [7, "&alpha;"], [0, "&beta;"], [0, "&gamma;"], [0, "&delta;"], [0, "&epsi;"], [0, "&zeta;"], [0, "&eta;"], [0, "&theta;"], [0, "&iota;"], [0, "&kappa;"], [0, "&lambda;"], [0, "&mu;"], [0, "&nu;"], [0, "&xi;"], [0, "&omicron;"], [0, "&pi;"], [0, "&rho;"], [0, "&sigmaf;"], [0, "&sigma;"], [0, "&tau;"], [0, "&upsi;"], [0, "&phi;"], [0, "&chi;"], [0, "&psi;"], [0, "&omega;"], [7, "&thetasym;"], [0, "&Upsi;"], [2, "&phiv;"], [0, "&piv;"], [5, "&Gammad;"], [0, "&digamma;"], [18, "&kappav;"], [0, "&rhov;"], [3, "&epsiv;"], [0, "&backepsilon;"], [10, "&IOcy;"], [0, "&DJcy;"], [0, "&GJcy;"], [0, "&Jukcy;"], [0, "&DScy;"], [0, "&Iukcy;"], [0, "&YIcy;"], [0, "&Jsercy;"], [0, "&LJcy;"], [0, "&NJcy;"], [0, "&TSHcy;"], [0, "&KJcy;"], [1, "&Ubrcy;"], [0, "&DZcy;"], [0, "&Acy;"], [0, "&Bcy;"], [0, "&Vcy;"], [0, "&Gcy;"], [0, "&Dcy;"], [0, "&IEcy;"], [0, "&ZHcy;"], [0, "&Zcy;"], [0, "&Icy;"], [0, "&Jcy;"], [0, "&Kcy;"], [0, "&Lcy;"], [0, "&Mcy;"], [0, "&Ncy;"], [0, "&Ocy;"], [0, "&Pcy;"], [0, "&Rcy;"], [0, "&Scy;"], [0, "&Tcy;"], [0, "&Ucy;"], [0, "&Fcy;"], [0, "&KHcy;"], [0, "&TScy;"], [0, "&CHcy;"], [0, "&SHcy;"], [0, "&SHCHcy;"], [0, "&HARDcy;"], [0, "&Ycy;"], [0, "&SOFTcy;"], [0, "&Ecy;"], [0, "&YUcy;"], [0, "&YAcy;"], [0, "&acy;"], [0, "&bcy;"], [0, "&vcy;"], [0, "&gcy;"], [0, "&dcy;"], [0, "&iecy;"], [0, "&zhcy;"], [0, "&zcy;"], [0, "&icy;"], [0, "&jcy;"], [0, "&kcy;"], [0, "&lcy;"], [0, "&mcy;"], [0, "&ncy;"], [0, "&ocy;"], [0, "&pcy;"], [0, "&rcy;"], [0, "&scy;"], [0, "&tcy;"], [0, "&ucy;"], [0, "&fcy;"], [0, "&khcy;"], [0, "&tscy;"], [0, "&chcy;"], [0, "&shcy;"], [0, "&shchcy;"], [0, "&hardcy;"], [0, "&ycy;"], [0, "&softcy;"], [0, "&ecy;"], [0, "&yucy;"], [0, "&yacy;"], [1, "&iocy;"], [0, "&djcy;"], [0, "&gjcy;"], [0, "&jukcy;"], [0, "&dscy;"], [0, "&iukcy;"], [0, "&yicy;"], [0, "&jsercy;"], [0, "&ljcy;"], [0, "&njcy;"], [0, "&tshcy;"], [0, "&kjcy;"], [1, "&ubrcy;"], [0, "&dzcy;"], [7074, "&ensp;"], [0, "&emsp;"], [0, "&emsp13;"], [0, "&emsp14;"], [1, "&numsp;"], [0, "&puncsp;"], [0, "&ThinSpace;"], [0, "&hairsp;"], [0, "&NegativeMediumSpace;"], [0, "&zwnj;"], [0, "&zwj;"], [0, "&lrm;"], [0, "&rlm;"], [0, "&dash;"], [2, "&ndash;"], [0, "&mdash;"], [0, "&horbar;"], [0, "&Verbar;"], [1, "&lsquo;"], [0, "&CloseCurlyQuote;"], [0, "&lsquor;"], [1, "&ldquo;"], [0, "&CloseCurlyDoubleQuote;"], [0, "&bdquo;"], [1, "&dagger;"], [0, "&Dagger;"], [0, "&bull;"], [2, "&nldr;"], [0, "&hellip;"], [9, "&permil;"], [0, "&pertenk;"], [0, "&prime;"], [0, "&Prime;"], [0, "&tprime;"], [0, "&backprime;"], [3, "&lsaquo;"], [0, "&rsaquo;"], [3, "&oline;"], [2, "&caret;"], [1, "&hybull;"], [0, "&frasl;"], [10, "&bsemi;"], [7, "&qprime;"], [7, {
  v: "&MediumSpace;",
  n: 8202,
  o: "&ThickSpace;"
}], [0, "&NoBreak;"], [0, "&af;"], [0, "&InvisibleTimes;"], [0, "&ic;"], [72, "&euro;"], [46, "&tdot;"], [0, "&DotDot;"], [37, "&complexes;"], [2, "&incare;"], [4, "&gscr;"], [0, "&hamilt;"], [0, "&Hfr;"], [0, "&Hopf;"], [0, "&planckh;"], [0, "&hbar;"], [0, "&imagline;"], [0, "&Ifr;"], [0, "&lagran;"], [0, "&ell;"], [1, "&naturals;"], [0, "&numero;"], [0, "&copysr;"], [0, "&weierp;"], [0, "&Popf;"], [0, "&Qopf;"], [0, "&realine;"], [0, "&real;"], [0, "&reals;"], [0, "&rx;"], [3, "&trade;"], [1, "&integers;"], [2, "&mho;"], [0, "&zeetrf;"], [0, "&iiota;"], [2, "&bernou;"], [0, "&Cayleys;"], [1, "&escr;"], [0, "&Escr;"], [0, "&Fouriertrf;"], [1, "&Mellintrf;"], [0, "&order;"], [0, "&alefsym;"], [0, "&beth;"], [0, "&gimel;"], [0, "&daleth;"], [12, "&CapitalDifferentialD;"], [0, "&dd;"], [0, "&ee;"], [0, "&ii;"], [10, "&frac13;"], [0, "&frac23;"], [0, "&frac15;"], [0, "&frac25;"], [0, "&frac35;"], [0, "&frac45;"], [0, "&frac16;"], [0, "&frac56;"], [0, "&frac18;"], [0, "&frac38;"], [0, "&frac58;"], [0, "&frac78;"], [49, "&larr;"], [0, "&ShortUpArrow;"], [0, "&rarr;"], [0, "&darr;"], [0, "&harr;"], [0, "&updownarrow;"], [0, "&nwarr;"], [0, "&nearr;"], [0, "&LowerRightArrow;"], [0, "&LowerLeftArrow;"], [0, "&nlarr;"], [0, "&nrarr;"], [1, {
  v: "&rarrw;",
  n: 824,
  o: "&nrarrw;"
}], [0, "&Larr;"], [0, "&Uarr;"], [0, "&Rarr;"], [0, "&Darr;"], [0, "&larrtl;"], [0, "&rarrtl;"], [0, "&LeftTeeArrow;"], [0, "&mapstoup;"], [0, "&map;"], [0, "&DownTeeArrow;"], [1, "&hookleftarrow;"], [0, "&hookrightarrow;"], [0, "&larrlp;"], [0, "&looparrowright;"], [0, "&harrw;"], [0, "&nharr;"], [1, "&lsh;"], [0, "&rsh;"], [0, "&ldsh;"], [0, "&rdsh;"], [1, "&crarr;"], [0, "&cularr;"], [0, "&curarr;"], [2, "&circlearrowleft;"], [0, "&circlearrowright;"], [0, "&leftharpoonup;"], [0, "&DownLeftVector;"], [0, "&RightUpVector;"], [0, "&LeftUpVector;"], [0, "&rharu;"], [0, "&DownRightVector;"], [0, "&dharr;"], [0, "&dharl;"], [0, "&RightArrowLeftArrow;"], [0, "&udarr;"], [0, "&LeftArrowRightArrow;"], [0, "&leftleftarrows;"], [0, "&upuparrows;"], [0, "&rightrightarrows;"], [0, "&ddarr;"], [0, "&leftrightharpoons;"], [0, "&Equilibrium;"], [0, "&nlArr;"], [0, "&nhArr;"], [0, "&nrArr;"], [0, "&DoubleLeftArrow;"], [0, "&DoubleUpArrow;"], [0, "&DoubleRightArrow;"], [0, "&dArr;"], [0, "&DoubleLeftRightArrow;"], [0, "&DoubleUpDownArrow;"], [0, "&nwArr;"], [0, "&neArr;"], [0, "&seArr;"], [0, "&swArr;"], [0, "&lAarr;"], [0, "&rAarr;"], [1, "&zigrarr;"], [6, "&larrb;"], [0, "&rarrb;"], [15, "&DownArrowUpArrow;"], [7, "&loarr;"], [0, "&roarr;"], [0, "&hoarr;"], [0, "&forall;"], [0, "&comp;"], [0, {
  v: "&part;",
  n: 824,
  o: "&npart;"
}], [0, "&exist;"], [0, "&nexist;"], [0, "&empty;"], [1, "&Del;"], [0, "&Element;"], [0, "&NotElement;"], [1, "&ni;"], [0, "&notni;"], [2, "&prod;"], [0, "&coprod;"], [0, "&sum;"], [0, "&minus;"], [0, "&MinusPlus;"], [0, "&dotplus;"], [1, "&Backslash;"], [0, "&lowast;"], [0, "&compfn;"], [1, "&radic;"], [2, "&prop;"], [0, "&infin;"], [0, "&angrt;"], [0, {
  v: "&ang;",
  n: 8402,
  o: "&nang;"
}], [0, "&angmsd;"], [0, "&angsph;"], [0, "&mid;"], [0, "&nmid;"], [0, "&DoubleVerticalBar;"], [0, "&NotDoubleVerticalBar;"], [0, "&and;"], [0, "&or;"], [0, {
  v: "&cap;",
  n: 65024,
  o: "&caps;"
}], [0, {
  v: "&cup;",
  n: 65024,
  o: "&cups;"
}], [0, "&int;"], [0, "&Int;"], [0, "&iiint;"], [0, "&conint;"], [0, "&Conint;"], [0, "&Cconint;"], [0, "&cwint;"], [0, "&ClockwiseContourIntegral;"], [0, "&awconint;"], [0, "&there4;"], [0, "&becaus;"], [0, "&ratio;"], [0, "&Colon;"], [0, "&dotminus;"], [1, "&mDDot;"], [0, "&homtht;"], [0, {
  v: "&sim;",
  n: 8402,
  o: "&nvsim;"
}], [0, {
  v: "&backsim;",
  n: 817,
  o: "&race;"
}], [0, {
  v: "&ac;",
  n: 819,
  o: "&acE;"
}], [0, "&acd;"], [0, "&VerticalTilde;"], [0, "&NotTilde;"], [0, {
  v: "&eqsim;",
  n: 824,
  o: "&nesim;"
}], [0, "&sime;"], [0, "&NotTildeEqual;"], [0, "&cong;"], [0, "&simne;"], [0, "&ncong;"], [0, "&ap;"], [0, "&nap;"], [0, "&ape;"], [0, {
  v: "&apid;",
  n: 824,
  o: "&napid;"
}], [0, "&backcong;"], [0, {
  v: "&asympeq;",
  n: 8402,
  o: "&nvap;"
}], [0, {
  v: "&bump;",
  n: 824,
  o: "&nbump;"
}], [0, {
  v: "&bumpe;",
  n: 824,
  o: "&nbumpe;"
}], [0, {
  v: "&doteq;",
  n: 824,
  o: "&nedot;"
}], [0, "&doteqdot;"], [0, "&efDot;"], [0, "&erDot;"], [0, "&Assign;"], [0, "&ecolon;"], [0, "&ecir;"], [0, "&circeq;"], [1, "&wedgeq;"], [0, "&veeeq;"], [1, "&triangleq;"], [2, "&equest;"], [0, "&ne;"], [0, {
  v: "&Congruent;",
  n: 8421,
  o: "&bnequiv;"
}], [0, "&nequiv;"], [1, {
  v: "&le;",
  n: 8402,
  o: "&nvle;"
}], [0, {
  v: "&ge;",
  n: 8402,
  o: "&nvge;"
}], [0, {
  v: "&lE;",
  n: 824,
  o: "&nlE;"
}], [0, {
  v: "&gE;",
  n: 824,
  o: "&ngE;"
}], [0, {
  v: "&lnE;",
  n: 65024,
  o: "&lvertneqq;"
}], [0, {
  v: "&gnE;",
  n: 65024,
  o: "&gvertneqq;"
}], [0, {
  v: "&ll;",
  n: new Map(o_([[824, "&nLtv;"], [7577, "&nLt;"]]))
}], [0, {
  v: "&gg;",
  n: new Map(o_([[824, "&nGtv;"], [7577, "&nGt;"]]))
}], [0, "&between;"], [0, "&NotCupCap;"], [0, "&nless;"], [0, "&ngt;"], [0, "&nle;"], [0, "&nge;"], [0, "&lesssim;"], [0, "&GreaterTilde;"], [0, "&nlsim;"], [0, "&ngsim;"], [0, "&LessGreater;"], [0, "&gl;"], [0, "&NotLessGreater;"], [0, "&NotGreaterLess;"], [0, "&pr;"], [0, "&sc;"], [0, "&prcue;"], [0, "&sccue;"], [0, "&PrecedesTilde;"], [0, {
  v: "&scsim;",
  n: 824,
  o: "&NotSucceedsTilde;"
}], [0, "&NotPrecedes;"], [0, "&NotSucceeds;"], [0, {
  v: "&sub;",
  n: 8402,
  o: "&NotSubset;"
}], [0, {
  v: "&sup;",
  n: 8402,
  o: "&NotSuperset;"
}], [0, "&nsub;"], [0, "&nsup;"], [0, "&sube;"], [0, "&supe;"], [0, "&NotSubsetEqual;"], [0, "&NotSupersetEqual;"], [0, {
  v: "&subne;",
  n: 65024,
  o: "&varsubsetneq;"
}], [0, {
  v: "&supne;",
  n: 65024,
  o: "&varsupsetneq;"
}], [1, "&cupdot;"], [0, "&UnionPlus;"], [0, {
  v: "&sqsub;",
  n: 824,
  o: "&NotSquareSubset;"
}], [0, {
  v: "&sqsup;",
  n: 824,
  o: "&NotSquareSuperset;"
}], [0, "&sqsube;"], [0, "&sqsupe;"], [0, {
  v: "&sqcap;",
  n: 65024,
  o: "&sqcaps;"
}], [0, {
  v: "&sqcup;",
  n: 65024,
  o: "&sqcups;"
}], [0, "&CirclePlus;"], [0, "&CircleMinus;"], [0, "&CircleTimes;"], [0, "&osol;"], [0, "&CircleDot;"], [0, "&circledcirc;"], [0, "&circledast;"], [1, "&circleddash;"], [0, "&boxplus;"], [0, "&boxminus;"], [0, "&boxtimes;"], [0, "&dotsquare;"], [0, "&RightTee;"], [0, "&dashv;"], [0, "&DownTee;"], [0, "&bot;"], [1, "&models;"], [0, "&DoubleRightTee;"], [0, "&Vdash;"], [0, "&Vvdash;"], [0, "&VDash;"], [0, "&nvdash;"], [0, "&nvDash;"], [0, "&nVdash;"], [0, "&nVDash;"], [0, "&prurel;"], [1, "&LeftTriangle;"], [0, "&RightTriangle;"], [0, {
  v: "&LeftTriangleEqual;",
  n: 8402,
  o: "&nvltrie;"
}], [0, {
  v: "&RightTriangleEqual;",
  n: 8402,
  o: "&nvrtrie;"
}], [0, "&origof;"], [0, "&imof;"], [0, "&multimap;"], [0, "&hercon;"], [0, "&intcal;"], [0, "&veebar;"], [1, "&barvee;"], [0, "&angrtvb;"], [0, "&lrtri;"], [0, "&bigwedge;"], [0, "&bigvee;"], [0, "&bigcap;"], [0, "&bigcup;"], [0, "&diam;"], [0, "&sdot;"], [0, "&sstarf;"], [0, "&divideontimes;"], [0, "&bowtie;"], [0, "&ltimes;"], [0, "&rtimes;"], [0, "&leftthreetimes;"], [0, "&rightthreetimes;"], [0, "&backsimeq;"], [0, "&curlyvee;"], [0, "&curlywedge;"], [0, "&Sub;"], [0, "&Sup;"], [0, "&Cap;"], [0, "&Cup;"], [0, "&fork;"], [0, "&epar;"], [0, "&lessdot;"], [0, "&gtdot;"], [0, {
  v: "&Ll;",
  n: 824,
  o: "&nLl;"
}], [0, {
  v: "&Gg;",
  n: 824,
  o: "&nGg;"
}], [0, {
  v: "&leg;",
  n: 65024,
  o: "&lesg;"
}], [0, {
  v: "&gel;",
  n: 65024,
  o: "&gesl;"
}], [2, "&cuepr;"], [0, "&cuesc;"], [0, "&NotPrecedesSlantEqual;"], [0, "&NotSucceedsSlantEqual;"], [0, "&NotSquareSubsetEqual;"], [0, "&NotSquareSupersetEqual;"], [2, "&lnsim;"], [0, "&gnsim;"], [0, "&precnsim;"], [0, "&scnsim;"], [0, "&nltri;"], [0, "&NotRightTriangle;"], [0, "&nltrie;"], [0, "&NotRightTriangleEqual;"], [0, "&vellip;"], [0, "&ctdot;"], [0, "&utdot;"], [0, "&dtdot;"], [0, "&disin;"], [0, "&isinsv;"], [0, "&isins;"], [0, {
  v: "&isindot;",
  n: 824,
  o: "&notindot;"
}], [0, "&notinvc;"], [0, "&notinvb;"], [1, {
  v: "&isinE;",
  n: 824,
  o: "&notinE;"
}], [0, "&nisd;"], [0, "&xnis;"], [0, "&nis;"], [0, "&notnivc;"], [0, "&notnivb;"], [6, "&barwed;"], [0, "&Barwed;"], [1, "&lceil;"], [0, "&rceil;"], [0, "&LeftFloor;"], [0, "&rfloor;"], [0, "&drcrop;"], [0, "&dlcrop;"], [0, "&urcrop;"], [0, "&ulcrop;"], [0, "&bnot;"], [1, "&profline;"], [0, "&profsurf;"], [1, "&telrec;"], [0, "&target;"], [5, "&ulcorn;"], [0, "&urcorn;"], [0, "&dlcorn;"], [0, "&drcorn;"], [2, "&frown;"], [0, "&smile;"], [9, "&cylcty;"], [0, "&profalar;"], [7, "&topbot;"], [6, "&ovbar;"], [1, "&solbar;"], [60, "&angzarr;"], [51, "&lmoustache;"], [0, "&rmoustache;"], [2, "&OverBracket;"], [0, "&bbrk;"], [0, "&bbrktbrk;"], [37, "&OverParenthesis;"], [0, "&UnderParenthesis;"], [0, "&OverBrace;"], [0, "&UnderBrace;"], [2, "&trpezium;"], [4, "&elinters;"], [59, "&blank;"], [164, "&circledS;"], [55, "&boxh;"], [1, "&boxv;"], [9, "&boxdr;"], [3, "&boxdl;"], [3, "&boxur;"], [3, "&boxul;"], [3, "&boxvr;"], [7, "&boxvl;"], [7, "&boxhd;"], [7, "&boxhu;"], [7, "&boxvh;"], [19, "&boxH;"], [0, "&boxV;"], [0, "&boxdR;"], [0, "&boxDr;"], [0, "&boxDR;"], [0, "&boxdL;"], [0, "&boxDl;"], [0, "&boxDL;"], [0, "&boxuR;"], [0, "&boxUr;"], [0, "&boxUR;"], [0, "&boxuL;"], [0, "&boxUl;"], [0, "&boxUL;"], [0, "&boxvR;"], [0, "&boxVr;"], [0, "&boxVR;"], [0, "&boxvL;"], [0, "&boxVl;"], [0, "&boxVL;"], [0, "&boxHd;"], [0, "&boxhD;"], [0, "&boxHD;"], [0, "&boxHu;"], [0, "&boxhU;"], [0, "&boxHU;"], [0, "&boxvH;"], [0, "&boxVh;"], [0, "&boxVH;"], [19, "&uhblk;"], [3, "&lhblk;"], [3, "&block;"], [8, "&blk14;"], [0, "&blk12;"], [0, "&blk34;"], [13, "&square;"], [8, "&blacksquare;"], [0, "&EmptyVerySmallSquare;"], [1, "&rect;"], [0, "&marker;"], [2, "&fltns;"], [1, "&bigtriangleup;"], [0, "&blacktriangle;"], [0, "&triangle;"], [2, "&blacktriangleright;"], [0, "&rtri;"], [3, "&bigtriangledown;"], [0, "&blacktriangledown;"], [0, "&dtri;"], [2, "&blacktriangleleft;"], [0, "&ltri;"], [6, "&loz;"], [0, "&cir;"], [32, "&tridot;"], [2, "&bigcirc;"], [8, "&ultri;"], [0, "&urtri;"], [0, "&lltri;"], [0, "&EmptySmallSquare;"], [0, "&FilledSmallSquare;"], [8, "&bigstar;"], [0, "&star;"], [7, "&phone;"], [49, "&female;"], [1, "&male;"], [29, "&spades;"], [2, "&clubs;"], [1, "&hearts;"], [0, "&diamondsuit;"], [3, "&sung;"], [2, "&flat;"], [0, "&natural;"], [0, "&sharp;"], [163, "&check;"], [3, "&cross;"], [8, "&malt;"], [21, "&sext;"], [33, "&VerticalSeparator;"], [25, "&lbbrk;"], [0, "&rbbrk;"], [84, "&bsolhsub;"], [0, "&suphsol;"], [28, "&LeftDoubleBracket;"], [0, "&RightDoubleBracket;"], [0, "&lang;"], [0, "&rang;"], [0, "&Lang;"], [0, "&Rang;"], [0, "&loang;"], [0, "&roang;"], [7, "&longleftarrow;"], [0, "&longrightarrow;"], [0, "&longleftrightarrow;"], [0, "&DoubleLongLeftArrow;"], [0, "&DoubleLongRightArrow;"], [0, "&DoubleLongLeftRightArrow;"], [1, "&longmapsto;"], [2, "&dzigrarr;"], [258, "&nvlArr;"], [0, "&nvrArr;"], [0, "&nvHarr;"], [0, "&Map;"], [6, "&lbarr;"], [0, "&bkarow;"], [0, "&lBarr;"], [0, "&dbkarow;"], [0, "&drbkarow;"], [0, "&DDotrahd;"], [0, "&UpArrowBar;"], [0, "&DownArrowBar;"], [2, "&Rarrtl;"], [2, "&latail;"], [0, "&ratail;"], [0, "&lAtail;"], [0, "&rAtail;"], [0, "&larrfs;"], [0, "&rarrfs;"], [0, "&larrbfs;"], [0, "&rarrbfs;"], [2, "&nwarhk;"], [0, "&nearhk;"], [0, "&hksearow;"], [0, "&hkswarow;"], [0, "&nwnear;"], [0, "&nesear;"], [0, "&seswar;"], [0, "&swnwar;"], [8, {
  v: "&rarrc;",
  n: 824,
  o: "&nrarrc;"
}], [1, "&cudarrr;"], [0, "&ldca;"], [0, "&rdca;"], [0, "&cudarrl;"], [0, "&larrpl;"], [2, "&curarrm;"], [0, "&cularrp;"], [7, "&rarrpl;"], [2, "&harrcir;"], [0, "&Uarrocir;"], [0, "&lurdshar;"], [0, "&ldrushar;"], [2, "&LeftRightVector;"], [0, "&RightUpDownVector;"], [0, "&DownLeftRightVector;"], [0, "&LeftUpDownVector;"], [0, "&LeftVectorBar;"], [0, "&RightVectorBar;"], [0, "&RightUpVectorBar;"], [0, "&RightDownVectorBar;"], [0, "&DownLeftVectorBar;"], [0, "&DownRightVectorBar;"], [0, "&LeftUpVectorBar;"], [0, "&LeftDownVectorBar;"], [0, "&LeftTeeVector;"], [0, "&RightTeeVector;"], [0, "&RightUpTeeVector;"], [0, "&RightDownTeeVector;"], [0, "&DownLeftTeeVector;"], [0, "&DownRightTeeVector;"], [0, "&LeftUpTeeVector;"], [0, "&LeftDownTeeVector;"], [0, "&lHar;"], [0, "&uHar;"], [0, "&rHar;"], [0, "&dHar;"], [0, "&luruhar;"], [0, "&ldrdhar;"], [0, "&ruluhar;"], [0, "&rdldhar;"], [0, "&lharul;"], [0, "&llhard;"], [0, "&rharul;"], [0, "&lrhard;"], [0, "&udhar;"], [0, "&duhar;"], [0, "&RoundImplies;"], [0, "&erarr;"], [0, "&simrarr;"], [0, "&larrsim;"], [0, "&rarrsim;"], [0, "&rarrap;"], [0, "&ltlarr;"], [1, "&gtrarr;"], [0, "&subrarr;"], [1, "&suplarr;"], [0, "&lfisht;"], [0, "&rfisht;"], [0, "&ufisht;"], [0, "&dfisht;"], [5, "&lopar;"], [0, "&ropar;"], [4, "&lbrke;"], [0, "&rbrke;"], [0, "&lbrkslu;"], [0, "&rbrksld;"], [0, "&lbrksld;"], [0, "&rbrkslu;"], [0, "&langd;"], [0, "&rangd;"], [0, "&lparlt;"], [0, "&rpargt;"], [0, "&gtlPar;"], [0, "&ltrPar;"], [3, "&vzigzag;"], [1, "&vangrt;"], [0, "&angrtvbd;"], [6, "&ange;"], [0, "&range;"], [0, "&dwangle;"], [0, "&uwangle;"], [0, "&angmsdaa;"], [0, "&angmsdab;"], [0, "&angmsdac;"], [0, "&angmsdad;"], [0, "&angmsdae;"], [0, "&angmsdaf;"], [0, "&angmsdag;"], [0, "&angmsdah;"], [0, "&bemptyv;"], [0, "&demptyv;"], [0, "&cemptyv;"], [0, "&raemptyv;"], [0, "&laemptyv;"], [0, "&ohbar;"], [0, "&omid;"], [0, "&opar;"], [1, "&operp;"], [1, "&olcross;"], [0, "&odsold;"], [1, "&olcir;"], [0, "&ofcir;"], [0, "&olt;"], [0, "&ogt;"], [0, "&cirscir;"], [0, "&cirE;"], [0, "&solb;"], [0, "&bsolb;"], [3, "&boxbox;"], [3, "&trisb;"], [0, "&rtriltri;"], [0, {
  v: "&LeftTriangleBar;",
  n: 824,
  o: "&NotLeftTriangleBar;"
}], [0, {
  v: "&RightTriangleBar;",
  n: 824,
  o: "&NotRightTriangleBar;"
}], [11, "&iinfin;"], [0, "&infintie;"], [0, "&nvinfin;"], [4, "&eparsl;"], [0, "&smeparsl;"], [0, "&eqvparsl;"], [5, "&blacklozenge;"], [8, "&RuleDelayed;"], [1, "&dsol;"], [9, "&bigodot;"], [0, "&bigoplus;"], [0, "&bigotimes;"], [1, "&biguplus;"], [1, "&bigsqcup;"], [5, "&iiiint;"], [0, "&fpartint;"], [2, "&cirfnint;"], [0, "&awint;"], [0, "&rppolint;"], [0, "&scpolint;"], [0, "&npolint;"], [0, "&pointint;"], [0, "&quatint;"], [0, "&intlarhk;"], [10, "&pluscir;"], [0, "&plusacir;"], [0, "&simplus;"], [0, "&plusdu;"], [0, "&plussim;"], [0, "&plustwo;"], [1, "&mcomma;"], [0, "&minusdu;"], [2, "&loplus;"], [0, "&roplus;"], [0, "&Cross;"], [0, "&timesd;"], [0, "&timesbar;"], [1, "&smashp;"], [0, "&lotimes;"], [0, "&rotimes;"], [0, "&otimesas;"], [0, "&Otimes;"], [0, "&odiv;"], [0, "&triplus;"], [0, "&triminus;"], [0, "&tritime;"], [0, "&intprod;"], [2, "&amalg;"], [0, "&capdot;"], [1, "&ncup;"], [0, "&ncap;"], [0, "&capand;"], [0, "&cupor;"], [0, "&cupcap;"], [0, "&capcup;"], [0, "&cupbrcap;"], [0, "&capbrcup;"], [0, "&cupcup;"], [0, "&capcap;"], [0, "&ccups;"], [0, "&ccaps;"], [2, "&ccupssm;"], [2, "&And;"], [0, "&Or;"], [0, "&andand;"], [0, "&oror;"], [0, "&orslope;"], [0, "&andslope;"], [1, "&andv;"], [0, "&orv;"], [0, "&andd;"], [0, "&ord;"], [1, "&wedbar;"], [6, "&sdote;"], [3, "&simdot;"], [2, {
  v: "&congdot;",
  n: 824,
  o: "&ncongdot;"
}], [0, "&easter;"], [0, "&apacir;"], [0, {
  v: "&apE;",
  n: 824,
  o: "&napE;"
}], [0, "&eplus;"], [0, "&pluse;"], [0, "&Esim;"], [0, "&Colone;"], [0, "&Equal;"], [1, "&ddotseq;"], [0, "&equivDD;"], [0, "&ltcir;"], [0, "&gtcir;"], [0, "&ltquest;"], [0, "&gtquest;"], [0, {
  v: "&leqslant;",
  n: 824,
  o: "&nleqslant;"
}], [0, {
  v: "&geqslant;",
  n: 824,
  o: "&ngeqslant;"
}], [0, "&lesdot;"], [0, "&gesdot;"], [0, "&lesdoto;"], [0, "&gesdoto;"], [0, "&lesdotor;"], [0, "&gesdotol;"], [0, "&lap;"], [0, "&gap;"], [0, "&lne;"], [0, "&gne;"], [0, "&lnap;"], [0, "&gnap;"], [0, "&lEg;"], [0, "&gEl;"], [0, "&lsime;"], [0, "&gsime;"], [0, "&lsimg;"], [0, "&gsiml;"], [0, "&lgE;"], [0, "&glE;"], [0, "&lesges;"], [0, "&gesles;"], [0, "&els;"], [0, "&egs;"], [0, "&elsdot;"], [0, "&egsdot;"], [0, "&el;"], [0, "&eg;"], [2, "&siml;"], [0, "&simg;"], [0, "&simlE;"], [0, "&simgE;"], [0, {
  v: "&LessLess;",
  n: 824,
  o: "&NotNestedLessLess;"
}], [0, {
  v: "&GreaterGreater;",
  n: 824,
  o: "&NotNestedGreaterGreater;"
}], [1, "&glj;"], [0, "&gla;"], [0, "&ltcc;"], [0, "&gtcc;"], [0, "&lescc;"], [0, "&gescc;"], [0, "&smt;"], [0, "&lat;"], [0, {
  v: "&smte;",
  n: 65024,
  o: "&smtes;"
}], [0, {
  v: "&late;",
  n: 65024,
  o: "&lates;"
}], [0, "&bumpE;"], [0, {
  v: "&PrecedesEqual;",
  n: 824,
  o: "&NotPrecedesEqual;"
}], [0, {
  v: "&sce;",
  n: 824,
  o: "&NotSucceedsEqual;"
}], [2, "&prE;"], [0, "&scE;"], [0, "&precneqq;"], [0, "&scnE;"], [0, "&prap;"], [0, "&scap;"], [0, "&precnapprox;"], [0, "&scnap;"], [0, "&Pr;"], [0, "&Sc;"], [0, "&subdot;"], [0, "&supdot;"], [0, "&subplus;"], [0, "&supplus;"], [0, "&submult;"], [0, "&supmult;"], [0, "&subedot;"], [0, "&supedot;"], [0, {
  v: "&subE;",
  n: 824,
  o: "&nsubE;"
}], [0, {
  v: "&supE;",
  n: 824,
  o: "&nsupE;"
}], [0, "&subsim;"], [0, "&supsim;"], [2, {
  v: "&subnE;",
  n: 65024,
  o: "&varsubsetneqq;"
}], [0, {
  v: "&supnE;",
  n: 65024,
  o: "&varsupsetneqq;"
}], [2, "&csub;"], [0, "&csup;"], [0, "&csube;"], [0, "&csupe;"], [0, "&subsup;"], [0, "&supsub;"], [0, "&subsub;"], [0, "&supsup;"], [0, "&suphsub;"], [0, "&supdsub;"], [0, "&forkv;"], [0, "&topfork;"], [0, "&mlcp;"], [8, "&Dashv;"], [1, "&Vdashl;"], [0, "&Barv;"], [0, "&vBar;"], [0, "&vBarv;"], [1, "&Vbar;"], [0, "&Not;"], [0, "&bNot;"], [0, "&rnmid;"], [0, "&cirmid;"], [0, "&midcir;"], [0, "&topcir;"], [0, "&nhpar;"], [0, "&parsim;"], [9, {
  v: "&parsl;",
  n: 8421,
  o: "&nparsl;"
}], [44343, {
  n: new Map(o_([[56476, "&Ascr;"], [1, "&Cscr;"], [0, "&Dscr;"], [2, "&Gscr;"], [2, "&Jscr;"], [0, "&Kscr;"], [2, "&Nscr;"], [0, "&Oscr;"], [0, "&Pscr;"], [0, "&Qscr;"], [1, "&Sscr;"], [0, "&Tscr;"], [0, "&Uscr;"], [0, "&Vscr;"], [0, "&Wscr;"], [0, "&Xscr;"], [0, "&Yscr;"], [0, "&Zscr;"], [0, "&ascr;"], [0, "&bscr;"], [0, "&cscr;"], [0, "&dscr;"], [1, "&fscr;"], [1, "&hscr;"], [0, "&iscr;"], [0, "&jscr;"], [0, "&kscr;"], [0, "&lscr;"], [0, "&mscr;"], [0, "&nscr;"], [1, "&pscr;"], [0, "&qscr;"], [0, "&rscr;"], [0, "&sscr;"], [0, "&tscr;"], [0, "&uscr;"], [0, "&vscr;"], [0, "&wscr;"], [0, "&xscr;"], [0, "&yscr;"], [0, "&zscr;"], [52, "&Afr;"], [0, "&Bfr;"], [1, "&Dfr;"], [0, "&Efr;"], [0, "&Ffr;"], [0, "&Gfr;"], [2, "&Jfr;"], [0, "&Kfr;"], [0, "&Lfr;"], [0, "&Mfr;"], [0, "&Nfr;"], [0, "&Ofr;"], [0, "&Pfr;"], [0, "&Qfr;"], [1, "&Sfr;"], [0, "&Tfr;"], [0, "&Ufr;"], [0, "&Vfr;"], [0, "&Wfr;"], [0, "&Xfr;"], [0, "&Yfr;"], [1, "&afr;"], [0, "&bfr;"], [0, "&cfr;"], [0, "&dfr;"], [0, "&efr;"], [0, "&ffr;"], [0, "&gfr;"], [0, "&hfr;"], [0, "&ifr;"], [0, "&jfr;"], [0, "&kfr;"], [0, "&lfr;"], [0, "&mfr;"], [0, "&nfr;"], [0, "&ofr;"], [0, "&pfr;"], [0, "&qfr;"], [0, "&rfr;"], [0, "&sfr;"], [0, "&tfr;"], [0, "&ufr;"], [0, "&vfr;"], [0, "&wfr;"], [0, "&xfr;"], [0, "&yfr;"], [0, "&zfr;"], [0, "&Aopf;"], [0, "&Bopf;"], [1, "&Dopf;"], [0, "&Eopf;"], [0, "&Fopf;"], [0, "&Gopf;"], [1, "&Iopf;"], [0, "&Jopf;"], [0, "&Kopf;"], [0, "&Lopf;"], [0, "&Mopf;"], [1, "&Oopf;"], [3, "&Sopf;"], [0, "&Topf;"], [0, "&Uopf;"], [0, "&Vopf;"], [0, "&Wopf;"], [0, "&Xopf;"], [0, "&Yopf;"], [1, "&aopf;"], [0, "&bopf;"], [0, "&copf;"], [0, "&dopf;"], [0, "&eopf;"], [0, "&fopf;"], [0, "&gopf;"], [0, "&hopf;"], [0, "&iopf;"], [0, "&jopf;"], [0, "&kopf;"], [0, "&lopf;"], [0, "&mopf;"], [0, "&nopf;"], [0, "&oopf;"], [0, "&popf;"], [0, "&qopf;"], [0, "&ropf;"], [0, "&sopf;"], [0, "&topf;"], [0, "&uopf;"], [0, "&vopf;"], [0, "&wopf;"], [0, "&xopf;"], [0, "&yopf;"], [0, "&zopf;"]]))
}], [8906, "&fflig;"], [0, "&filig;"], [0, "&fllig;"], [0, "&ffilig;"], [0, "&ffllig;"]]));
var dd = {};
(function(e13) {
  Object.defineProperty(e13, "__esModule", {
    value: true
  }), e13.escapeText = e13.escapeAttribute = e13.escapeUTF8 = e13.escape = e13.encodeXML = e13.getCodePoint = e13.xmlReplacer = void 0, e13.xmlReplacer = /["&'<>$\x80-\uFFFF]/g;
  var t = /* @__PURE__ */ new Map([[34, "&quot;"], [38, "&amp;"], [39, "&apos;"], [60, "&lt;"], [62, "&gt;"]]);
  e13.getCodePoint = // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition
  String.prototype.codePointAt != null ? function(i, o) {
    return i.codePointAt(o);
  } : (
    // http://mathiasbynens.be/notes/javascript-encoding#surrogate-formulae
    function(i, o) {
      return (i.charCodeAt(o) & 64512) === 55296 ? (i.charCodeAt(o) - 55296) * 1024 + i.charCodeAt(o + 1) - 56320 + 65536 : i.charCodeAt(o);
    }
  );
  function r(i) {
    for (var o = "", a = 0, s; (s = e13.xmlReplacer.exec(i)) !== null; ) {
      var l = s.index, u = i.charCodeAt(l), c = t.get(u);
      c !== void 0 ? (o += i.substring(a, l) + c, a = l + 1) : (o += "".concat(i.substring(a, l), "&#x").concat((0, e13.getCodePoint)(i, l).toString(16), ";"), a = e13.xmlReplacer.lastIndex += +((u & 64512) === 55296));
    }
    return o + i.substr(a);
  }
  e13.encodeXML = r, e13.escape = r;
  function n(i, o) {
    return function(s) {
      for (var l, u = 0, c = ""; l = i.exec(s); )
        u !== l.index && (c += s.substring(u, l.index)), c += o.get(l[0].charCodeAt(0)), u = l.index + 1;
      return c + s.substring(u);
    };
  }
  e13.escapeUTF8 = n(/[&<>'"]/g, t), e13.escapeAttribute = n(/["&\u00A0]/g, /* @__PURE__ */ new Map([[34, "&quot;"], [38, "&amp;"], [160, "&nbsp;"]])), e13.escapeText = n(/[&<>\u00A0]/g, /* @__PURE__ */ new Map([[38, "&amp;"], [60, "&lt;"], [62, "&gt;"], [160, "&nbsp;"]]));
})(dd);
var H_e = De && De.__importDefault || function(e13) {
  return e13 && e13.__esModule ? e13 : {
    default: e13
  };
};
Object.defineProperty(yu, "__esModule", {
  value: true
});
yu.encodeNonAsciiHTML = yu.encodeHTML = void 0;
var U_e = H_e(bN);
var W7 = dd;
var j_e = /[\t\n!-,./:-@[-`\f{-}$\x80-\uFFFF]/g;
function G_e(e13) {
  return Y7(j_e, e13);
}
yu.encodeHTML = G_e;
function z_e(e13) {
  return Y7(W7.xmlReplacer, e13);
}
yu.encodeNonAsciiHTML = z_e;
function Y7(e13, t) {
  for (var r = "", n = 0, i; (i = e13.exec(t)) !== null; ) {
    var o = i.index;
    r += t.substring(n, o);
    var a = t.charCodeAt(o), s = U_e.default.get(a);
    if (typeof s == "object") {
      if (o + 1 < t.length) {
        var l = t.charCodeAt(o + 1), u = typeof s.n == "number" ? s.n === l ? s.o : void 0 : s.n.get(l);
        if (u !== void 0) {
          r += u, n = e13.lastIndex += 1;
          continue;
        }
      }
      s = s.v;
    }
    if (s !== void 0)
      r += s, n = o + 1;
    else {
      var c = (0, W7.getCodePoint)(t, o);
      r += "&#x".concat(c.toString(16), ";"), n = e13.lastIndex += +(c !== a);
    }
  }
  return r + t.substr(n);
}
(function(e13) {
  Object.defineProperty(e13, "__esModule", {
    value: true
  }), e13.decodeXMLStrict = e13.decodeHTML5Strict = e13.decodeHTML4Strict = e13.decodeHTML5 = e13.decodeHTML4 = e13.decodeHTMLAttribute = e13.decodeHTMLStrict = e13.decodeHTML = e13.decodeXML = e13.DecodingMode = e13.EntityDecoder = e13.encodeHTML5 = e13.encodeHTML4 = e13.encodeNonAsciiHTML = e13.encodeHTML = e13.escapeText = e13.escapeAttribute = e13.escapeUTF8 = e13.escape = e13.encodeXML = e13.encode = e13.decodeStrict = e13.decode = e13.EncodingMode = e13.EntityLevel = void 0;
  var t = vu, r = yu, n = dd, i;
  (function(h) {
    h[h.XML = 0] = "XML", h[h.HTML = 1] = "HTML";
  })(i = e13.EntityLevel || (e13.EntityLevel = {}));
  var o;
  (function(h) {
    h[h.UTF8 = 0] = "UTF8", h[h.ASCII = 1] = "ASCII", h[h.Extensive = 2] = "Extensive", h[h.Attribute = 3] = "Attribute", h[h.Text = 4] = "Text";
  })(o = e13.EncodingMode || (e13.EncodingMode = {}));
  function a(h, d) {
    d === void 0 && (d = i.XML);
    var p = typeof d == "number" ? d : d.level;
    if (p === i.HTML) {
      var m = typeof d == "object" ? d.mode : void 0;
      return (0, t.decodeHTML)(h, m);
    }
    return (0, t.decodeXML)(h);
  }
  e13.decode = a;
  function s(h, d) {
    var p;
    d === void 0 && (d = i.XML);
    var m = typeof d == "number" ? {
      level: d
    } : d;
    return (p = m.mode) !== null && p !== void 0 || (m.mode = t.DecodingMode.Strict), a(h, m);
  }
  e13.decodeStrict = s;
  function l(h, d) {
    d === void 0 && (d = i.XML);
    var p = typeof d == "number" ? {
      level: d
    } : d;
    return p.mode === o.UTF8 ? (0, n.escapeUTF8)(h) : p.mode === o.Attribute ? (0, n.escapeAttribute)(h) : p.mode === o.Text ? (0, n.escapeText)(h) : p.level === i.HTML ? p.mode === o.ASCII ? (0, r.encodeNonAsciiHTML)(h) : (0, r.encodeHTML)(h) : (0, n.encodeXML)(h);
  }
  e13.encode = l;
  var u = dd;
  Object.defineProperty(e13, "encodeXML", {
    enumerable: true,
    get: function() {
      return u.encodeXML;
    }
  }), Object.defineProperty(e13, "escape", {
    enumerable: true,
    get: function() {
      return u.escape;
    }
  }), Object.defineProperty(e13, "escapeUTF8", {
    enumerable: true,
    get: function() {
      return u.escapeUTF8;
    }
  }), Object.defineProperty(e13, "escapeAttribute", {
    enumerable: true,
    get: function() {
      return u.escapeAttribute;
    }
  }), Object.defineProperty(e13, "escapeText", {
    enumerable: true,
    get: function() {
      return u.escapeText;
    }
  });
  var c = yu;
  Object.defineProperty(e13, "encodeHTML", {
    enumerable: true,
    get: function() {
      return c.encodeHTML;
    }
  }), Object.defineProperty(e13, "encodeNonAsciiHTML", {
    enumerable: true,
    get: function() {
      return c.encodeNonAsciiHTML;
    }
  }), Object.defineProperty(e13, "encodeHTML4", {
    enumerable: true,
    get: function() {
      return c.encodeHTML;
    }
  }), Object.defineProperty(e13, "encodeHTML5", {
    enumerable: true,
    get: function() {
      return c.encodeHTML;
    }
  });
  var f = vu;
  Object.defineProperty(e13, "EntityDecoder", {
    enumerable: true,
    get: function() {
      return f.EntityDecoder;
    }
  }), Object.defineProperty(e13, "DecodingMode", {
    enumerable: true,
    get: function() {
      return f.DecodingMode;
    }
  }), Object.defineProperty(e13, "decodeXML", {
    enumerable: true,
    get: function() {
      return f.decodeXML;
    }
  }), Object.defineProperty(e13, "decodeHTML", {
    enumerable: true,
    get: function() {
      return f.decodeHTML;
    }
  }), Object.defineProperty(e13, "decodeHTMLStrict", {
    enumerable: true,
    get: function() {
      return f.decodeHTMLStrict;
    }
  }), Object.defineProperty(e13, "decodeHTMLAttribute", {
    enumerable: true,
    get: function() {
      return f.decodeHTMLAttribute;
    }
  }), Object.defineProperty(e13, "decodeHTML4", {
    enumerable: true,
    get: function() {
      return f.decodeHTML;
    }
  }), Object.defineProperty(e13, "decodeHTML5", {
    enumerable: true,
    get: function() {
      return f.decodeHTML;
    }
  }), Object.defineProperty(e13, "decodeHTML4Strict", {
    enumerable: true,
    get: function() {
      return f.decodeHTMLStrict;
    }
  }), Object.defineProperty(e13, "decodeHTML5Strict", {
    enumerable: true,
    get: function() {
      return f.decodeHTMLStrict;
    }
  }), Object.defineProperty(e13, "decodeXMLStrict", {
    enumerable: true,
    get: function() {
      return f.decodeXML;
    }
  });
})(X7);
var pd = {};
Object.defineProperty(pd, "__esModule", {
  value: true
});
pd.attributeNames = pd.elementNames = void 0;
pd.elementNames = new Map(["altGlyph", "altGlyphDef", "altGlyphItem", "animateColor", "animateMotion", "animateTransform", "clipPath", "feBlend", "feColorMatrix", "feComponentTransfer", "feComposite", "feConvolveMatrix", "feDiffuseLighting", "feDisplacementMap", "feDistantLight", "feDropShadow", "feFlood", "feFuncA", "feFuncB", "feFuncG", "feFuncR", "feGaussianBlur", "feImage", "feMerge", "feMergeNode", "feMorphology", "feOffset", "fePointLight", "feSpecularLighting", "feSpotLight", "feTile", "feTurbulence", "foreignObject", "glyphRef", "linearGradient", "radialGradient", "textPath"].map(function(e13) {
  return [e13.toLowerCase(), e13];
}));
pd.attributeNames = new Map(["definitionURL", "attributeName", "attributeType", "baseFrequency", "baseProfile", "calcMode", "clipPathUnits", "diffuseConstant", "edgeMode", "filterUnits", "glyphRef", "gradientTransform", "gradientUnits", "kernelMatrix", "kernelUnitLength", "keyPoints", "keySplines", "keyTimes", "lengthAdjust", "limitingConeAngle", "markerHeight", "markerUnits", "markerWidth", "maskContentUnits", "maskUnits", "numOctaves", "pathLength", "patternContentUnits", "patternTransform", "patternUnits", "pointsAtX", "pointsAtY", "pointsAtZ", "preserveAlpha", "preserveAspectRatio", "primitiveUnits", "refX", "refY", "repeatCount", "repeatDur", "requiredExtensions", "requiredFeatures", "specularConstant", "specularExponent", "spreadMethod", "startOffset", "stdDeviation", "stitchTiles", "surfaceScale", "systemLanguage", "tableValues", "targetX", "targetY", "textLength", "viewBox", "viewTarget", "xChannelSelector", "yChannelSelector", "zoomAndPan"].map(function(e13) {
  return [e13.toLowerCase(), e13];
}));
var df = De && De.__assign || function() {
  return df = Object.assign || function(e13) {
    for (var t, r = 1, n = arguments.length; r < n; r++) {
      t = arguments[r];
      for (var i in t)
        Object.prototype.hasOwnProperty.call(t, i) && (e13[i] = t[i]);
    }
    return e13;
  }, df.apply(this, arguments);
};
var V_e = De && De.__createBinding || (Object.create ? function(e13, t, r, n) {
  n === void 0 && (n = r);
  var i = Object.getOwnPropertyDescriptor(t, r);
  (!i || ("get" in i ? !t.__esModule : i.writable || i.configurable)) && (i = {
    enumerable: true,
    get: function() {
      return t[r];
    }
  }), Object.defineProperty(e13, n, i);
} : function(e13, t, r, n) {
  n === void 0 && (n = r), e13[n] = t[r];
});
var X_e = De && De.__setModuleDefault || (Object.create ? function(e13, t) {
  Object.defineProperty(e13, "default", {
    enumerable: true,
    value: t
  });
} : function(e13, t) {
  e13.default = t;
});
var W_e = De && De.__importStar || function(e13) {
  if (e13 && e13.__esModule)
    return e13;
  var t = {};
  if (e13 != null)
    for (var r in e13)
      r !== "default" && Object.prototype.hasOwnProperty.call(e13, r) && V_e(t, e13, r);
  return X_e(t, e13), t;
};
Object.defineProperty(ap, "__esModule", {
  value: true
});
ap.render = void 0;
var es = W_e(op);
var F0 = X7;
var q7 = pd;
var Y_e = /* @__PURE__ */ new Set(["style", "script", "xmp", "iframe", "noembed", "noframes", "plaintext", "noscript"]);
function q_e(e13) {
  return e13.replace(/"/g, "&quot;");
}
function K_e(e13, t) {
  var r;
  if (e13) {
    var n = ((r = t.encodeEntities) !== null && r !== void 0 ? r : t.decodeEntities) === false ? q_e : t.xmlMode || t.encodeEntities !== "utf8" ? F0.encodeXML : F0.escapeAttribute;
    return Object.keys(e13).map(function(i) {
      var o, a, s = (o = e13[i]) !== null && o !== void 0 ? o : "";
      return t.xmlMode === "foreign" && (i = (a = q7.attributeNames.get(i)) !== null && a !== void 0 ? a : i), !t.emptyAttrs && !t.xmlMode && s === "" ? i : "".concat(i, '="').concat(n(s), '"');
    }).join(" ");
  }
}
var dH = /* @__PURE__ */ new Set(["area", "base", "basefont", "br", "col", "command", "embed", "frame", "hr", "img", "input", "isindex", "keygen", "link", "meta", "param", "source", "track", "wbr"]);
function I1(e13, t) {
  t === void 0 && (t = {});
  for (var r = ("length" in e13) ? e13 : [e13], n = "", i = 0; i < r.length; i++)
    n += Z_e(r[i], t);
  return n;
}
ap.render = I1;
ap.default = I1;
function Z_e(e13, t) {
  switch (e13.type) {
    case es.Root:
      return I1(e13.children, t);
    case es.Doctype:
    case es.Directive:
      return tbe(e13);
    case es.Comment:
      return ibe(e13);
    case es.CDATA:
      return nbe(e13);
    case es.Script:
    case es.Style:
    case es.Tag:
      return ebe(e13, t);
    case es.Text:
      return rbe(e13, t);
  }
}
var Q_e = /* @__PURE__ */ new Set(["mi", "mo", "mn", "ms", "mtext", "annotation-xml", "foreignObject", "desc", "title"]);
var J_e = /* @__PURE__ */ new Set(["svg", "math"]);
function ebe(e13, t) {
  var r;
  t.xmlMode === "foreign" && (e13.name = (r = q7.elementNames.get(e13.name)) !== null && r !== void 0 ? r : e13.name, e13.parent && Q_e.has(e13.parent.name) && (t = df(df({}, t), {
    xmlMode: false
  }))), !t.xmlMode && J_e.has(e13.name) && (t = df(df({}, t), {
    xmlMode: "foreign"
  }));
  var n = "<".concat(e13.name), i = K_e(e13.attribs, t);
  return i && (n += " ".concat(i)), e13.children.length === 0 && (t.xmlMode ? (
    // In XML mode or foreign mode, and user hasn't explicitly turned off self-closing tags
    t.selfClosingTags !== false
  ) : (
    // User explicitly asked for self-closing tags, even in HTML mode
    t.selfClosingTags && dH.has(e13.name)
  )) ? (t.xmlMode || (n += " "), n += "/>") : (n += ">", e13.children.length > 0 && (n += I1(e13.children, t)), (t.xmlMode || !dH.has(e13.name)) && (n += "</".concat(e13.name, ">"))), n;
}
function tbe(e13) {
  return "<".concat(e13.data, ">");
}
function rbe(e13, t) {
  var r, n = e13.data || "";
  return ((r = t.encodeEntities) !== null && r !== void 0 ? r : t.decodeEntities) !== false && !(!t.xmlMode && e13.parent && Y_e.has(e13.parent.name)) && (n = t.xmlMode || t.encodeEntities !== "utf8" ? (0, F0.encodeXML)(n) : (0, F0.escapeText)(n)), n;
}
function nbe(e13) {
  return "<![CDATA[".concat(e13.children[0].data, "]]>");
}
function ibe(e13) {
  return "<!--".concat(e13.data, "-->");
}
var obe = De && De.__importDefault || function(e13) {
  return e13 && e13.__esModule ? e13 : {
    default: e13
  };
};
Object.defineProperty(Qi, "__esModule", {
  value: true
});
Qi.innerText = Qi.textContent = Qi.getText = Qi.getInnerHTML = Qi.getOuterHTML = void 0;
var La = ri;
var abe = obe(ap);
var sbe = op;
function K7(e13, t) {
  return (0, abe.default)(e13, t);
}
Qi.getOuterHTML = K7;
function lbe(e13, t) {
  return (0, La.hasChildren)(e13) ? e13.children.map(function(r) {
    return K7(r, t);
  }).join("") : "";
}
Qi.getInnerHTML = lbe;
function lb(e13) {
  return Array.isArray(e13) ? e13.map(lb).join("") : (0, La.isTag)(e13) ? e13.name === "br" ? `
` : lb(e13.children) : (0, La.isCDATA)(e13) ? lb(e13.children) : (0, La.isText)(e13) ? e13.data : "";
}
Qi.getText = lb;
function GP(e13) {
  return Array.isArray(e13) ? e13.map(GP).join("") : (0, La.hasChildren)(e13) && !(0, La.isComment)(e13) ? GP(e13.children) : (0, La.isText)(e13) ? e13.data : "";
}
Qi.textContent = GP;
function zP(e13) {
  return Array.isArray(e13) ? e13.map(zP).join("") : (0, La.hasChildren)(e13) && (e13.type === sbe.ElementType.Tag || (0, La.isCDATA)(e13)) ? zP(e13.children) : (0, La.isText)(e13) ? e13.data : "";
}
Qi.innerText = zP;
var Sn = {};
Object.defineProperty(Sn, "__esModule", {
  value: true
});
Sn.prevElementSibling = Sn.nextElementSibling = Sn.getName = Sn.hasAttrib = Sn.getAttributeValue = Sn.getSiblings = Sn.getParent = Sn.getChildren = void 0;
var TN = ri;
function Z7(e13) {
  return (0, TN.hasChildren)(e13) ? e13.children : [];
}
Sn.getChildren = Z7;
function Q7(e13) {
  return e13.parent || null;
}
Sn.getParent = Q7;
function cbe(e13) {
  var t, r, n = Q7(e13);
  if (n != null)
    return Z7(n);
  for (var i = [e13], o = e13.prev, a = e13.next; o != null; )
    i.unshift(o), t = o, o = t.prev;
  for (; a != null; )
    i.push(a), r = a, a = r.next;
  return i;
}
Sn.getSiblings = cbe;
function ube(e13, t) {
  var r;
  return (r = e13.attribs) === null || r === void 0 ? void 0 : r[t];
}
Sn.getAttributeValue = ube;
function hbe(e13, t) {
  return e13.attribs != null && Object.prototype.hasOwnProperty.call(e13.attribs, t) && e13.attribs[t] != null;
}
Sn.hasAttrib = hbe;
function fbe(e13) {
  return e13.name;
}
Sn.getName = fbe;
function dbe(e13) {
  for (var t, r = e13.next; r !== null && !(0, TN.isTag)(r); )
    t = r, r = t.next;
  return r;
}
Sn.nextElementSibling = dbe;
function pbe(e13) {
  for (var t, r = e13.prev; r !== null && !(0, TN.isTag)(r); )
    t = r, r = t.prev;
  return r;
}
Sn.prevElementSibling = pbe;
var Ni = {};
Object.defineProperty(Ni, "__esModule", {
  value: true
});
Ni.prepend = Ni.prependChild = Ni.append = Ni.appendChild = Ni.replaceElement = Ni.removeElement = void 0;
function Yv(e13) {
  if (e13.prev && (e13.prev.next = e13.next), e13.next && (e13.next.prev = e13.prev), e13.parent) {
    var t = e13.parent.children, r = t.lastIndexOf(e13);
    r >= 0 && t.splice(r, 1);
  }
  e13.next = null, e13.prev = null, e13.parent = null;
}
Ni.removeElement = Yv;
function mbe(e13, t) {
  var r = t.prev = e13.prev;
  r && (r.next = t);
  var n = t.next = e13.next;
  n && (n.prev = t);
  var i = t.parent = e13.parent;
  if (i) {
    var o = i.children;
    o[o.lastIndexOf(e13)] = t, e13.parent = null;
  }
}
Ni.replaceElement = mbe;
function gbe(e13, t) {
  if (Yv(t), t.next = null, t.parent = e13, e13.children.push(t) > 1) {
    var r = e13.children[e13.children.length - 2];
    r.next = t, t.prev = r;
  } else
    t.prev = null;
}
Ni.appendChild = gbe;
function vbe(e13, t) {
  Yv(t);
  var r = e13.parent, n = e13.next;
  if (t.next = n, t.prev = e13, e13.next = t, t.parent = r, n) {
    if (n.prev = t, r) {
      var i = r.children;
      i.splice(i.lastIndexOf(n), 0, t);
    }
  } else r && r.children.push(t);
}
Ni.append = vbe;
function ybe(e13, t) {
  if (Yv(t), t.parent = e13, t.prev = null, e13.children.unshift(t) !== 1) {
    var r = e13.children[1];
    r.prev = t, t.next = r;
  } else
    t.next = null;
}
Ni.prependChild = ybe;
function _be(e13, t) {
  Yv(t);
  var r = e13.parent;
  if (r) {
    var n = r.children;
    n.splice(n.indexOf(e13), 0, t);
  }
  e13.prev && (e13.prev.next = t), t.parent = r, t.prev = e13.prev, t.next = e13, e13.prev = t;
}
Ni.prepend = _be;
var ci = {};
Object.defineProperty(ci, "__esModule", {
  value: true
});
ci.findAll = ci.existsOne = ci.findOne = ci.findOneChild = ci.find = ci.filter = void 0;
var P1 = ri;
function bbe(e13, t, r, n) {
  return r === void 0 && (r = true), n === void 0 && (n = 1 / 0), J7(e13, Array.isArray(t) ? t : [t], r, n);
}
ci.filter = bbe;
function J7(e13, t, r, n) {
  for (var i = [], o = [t], a = [0]; ; ) {
    if (a[0] >= o[0].length) {
      if (a.length === 1)
        return i;
      o.shift(), a.shift();
      continue;
    }
    var s = o[0][a[0]++];
    if (e13(s) && (i.push(s), --n <= 0))
      return i;
    r && (0, P1.hasChildren)(s) && s.children.length > 0 && (a.unshift(0), o.unshift(s.children));
  }
}
ci.find = J7;
function Tbe(e13, t) {
  return t.find(e13);
}
ci.findOneChild = Tbe;
function e22(e13, t, r) {
  r === void 0 && (r = true);
  for (var n = null, i = 0; i < t.length && !n; i++) {
    var o = t[i];
    if ((0, P1.isTag)(o))
      e13(o) ? n = o : r && o.children.length > 0 && (n = e22(e13, o.children, true));
    else continue;
  }
  return n;
}
ci.findOne = e22;
function t2(e13, t) {
  return t.some(function(r) {
    return (0, P1.isTag)(r) && (e13(r) || t2(e13, r.children));
  });
}
ci.existsOne = t2;
function Ebe(e13, t) {
  for (var r = [], n = [t], i = [0]; ; ) {
    if (i[0] >= n[0].length) {
      if (n.length === 1)
        return r;
      n.shift(), i.shift();
      continue;
    }
    var o = n[0][i[0]++];
    (0, P1.isTag)(o) && (e13(o) && r.push(o), o.children.length > 0 && (i.unshift(0), n.unshift(o.children)));
  }
}
ci.findAll = Ebe;
var Ji = {};
Object.defineProperty(Ji, "__esModule", {
  value: true
});
Ji.getElementsByTagType = Ji.getElementsByTagName = Ji.getElementById = Ji.getElements = Ji.testElement = void 0;
var Fc = ri;
var C1 = ci;
var $0 = {
  tag_name: function(e13) {
    return typeof e13 == "function" ? function(t) {
      return (0, Fc.isTag)(t) && e13(t.name);
    } : e13 === "*" ? Fc.isTag : function(t) {
      return (0, Fc.isTag)(t) && t.name === e13;
    };
  },
  tag_type: function(e13) {
    return typeof e13 == "function" ? function(t) {
      return e13(t.type);
    } : function(t) {
      return t.type === e13;
    };
  },
  tag_contains: function(e13) {
    return typeof e13 == "function" ? function(t) {
      return (0, Fc.isText)(t) && e13(t.data);
    } : function(t) {
      return (0, Fc.isText)(t) && t.data === e13;
    };
  }
};
function r2(e13, t) {
  return typeof t == "function" ? function(r) {
    return (0, Fc.isTag)(r) && t(r.attribs[e13]);
  } : function(r) {
    return (0, Fc.isTag)(r) && r.attribs[e13] === t;
  };
}
function Sbe(e13, t) {
  return function(r) {
    return e13(r) || t(r);
  };
}
function n2(e13) {
  var t = Object.keys(e13).map(function(r) {
    var n = e13[r];
    return Object.prototype.hasOwnProperty.call($0, r) ? $0[r](n) : r2(r, n);
  });
  return t.length === 0 ? null : t.reduce(Sbe);
}
function wbe(e13, t) {
  var r = n2(e13);
  return r ? r(t) : true;
}
Ji.testElement = wbe;
function Abe(e13, t, r, n) {
  n === void 0 && (n = 1 / 0);
  var i = n2(e13);
  return i ? (0, C1.filter)(i, t, r, n) : [];
}
Ji.getElements = Abe;
function Obe(e13, t, r) {
  return r === void 0 && (r = true), Array.isArray(t) || (t = [t]), (0, C1.findOne)(r2("id", e13), t, r);
}
Ji.getElementById = Obe;
function Ibe(e13, t, r, n) {
  return r === void 0 && (r = true), n === void 0 && (n = 1 / 0), (0, C1.filter)($0.tag_name(e13), t, r, n);
}
Ji.getElementsByTagName = Ibe;
function Pbe(e13, t, r, n) {
  return r === void 0 && (r = true), n === void 0 && (n = 1 / 0), (0, C1.filter)($0.tag_type(e13), t, r, n);
}
Ji.getElementsByTagType = Pbe;
var i2 = {};
(function(e13) {
  Object.defineProperty(e13, "__esModule", {
    value: true
  }), e13.uniqueSort = e13.compareDocumentPosition = e13.DocumentPosition = e13.removeSubsets = void 0;
  var t = ri;
  function r(a) {
    for (var s = a.length; --s >= 0; ) {
      var l = a[s];
      if (s > 0 && a.lastIndexOf(l, s - 1) >= 0) {
        a.splice(s, 1);
        continue;
      }
      for (var u = l.parent; u; u = u.parent)
        if (a.includes(u)) {
          a.splice(s, 1);
          break;
        }
    }
    return a;
  }
  e13.removeSubsets = r;
  var n;
  (function(a) {
    a[a.DISCONNECTED = 1] = "DISCONNECTED", a[a.PRECEDING = 2] = "PRECEDING", a[a.FOLLOWING = 4] = "FOLLOWING", a[a.CONTAINS = 8] = "CONTAINS", a[a.CONTAINED_BY = 16] = "CONTAINED_BY";
  })(n = e13.DocumentPosition || (e13.DocumentPosition = {}));
  function i(a, s) {
    var l = [], u = [];
    if (a === s)
      return 0;
    for (var c = (0, t.hasChildren)(a) ? a : a.parent; c; )
      l.unshift(c), c = c.parent;
    for (c = (0, t.hasChildren)(s) ? s : s.parent; c; )
      u.unshift(c), c = c.parent;
    for (var f = Math.min(l.length, u.length), h = 0; h < f && l[h] === u[h]; )
      h++;
    if (h === 0)
      return n.DISCONNECTED;
    var d = l[h - 1], p = d.children, m = l[h], g = u[h];
    return p.indexOf(m) > p.indexOf(g) ? d === s ? n.FOLLOWING | n.CONTAINED_BY : n.FOLLOWING : d === a ? n.PRECEDING | n.CONTAINS : n.PRECEDING;
  }
  e13.compareDocumentPosition = i;
  function o(a) {
    return a = a.filter(function(s, l, u) {
      return !u.includes(s, l + 1);
    }), a.sort(function(s, l) {
      var u = i(s, l);
      return u & n.PRECEDING ? -1 : u & n.FOLLOWING ? 1 : 0;
    }), a;
  }
  e13.uniqueSort = o;
})(i2);
var x1 = {};
Object.defineProperty(x1, "__esModule", {
  value: true
});
x1.getFeed = void 0;
var Cbe = Qi;
var qv = Ji;
function xbe(e13) {
  var t = H0(Mbe, e13);
  return t ? t.name === "feed" ? kbe(t) : Dbe(t) : null;
}
x1.getFeed = xbe;
function kbe(e13) {
  var t, r = e13.children, n = {
    type: "atom",
    items: (0, qv.getElementsByTagName)("entry", r).map(function(a) {
      var s, l = a.children, u = {
        media: o2(l)
      };
      Ri(u, "id", "id", l), Ri(u, "title", "title", l);
      var c = (s = H0("link", l)) === null || s === void 0 ? void 0 : s.attribs.href;
      c && (u.link = c);
      var f = kl("summary", l) || kl("content", l);
      f && (u.description = f);
      var h = kl("updated", l);
      return h && (u.pubDate = new Date(h)), u;
    })
  };
  Ri(n, "id", "id", r), Ri(n, "title", "title", r);
  var i = (t = H0("link", r)) === null || t === void 0 ? void 0 : t.attribs.href;
  i && (n.link = i), Ri(n, "description", "subtitle", r);
  var o = kl("updated", r);
  return o && (n.updated = new Date(o)), Ri(n, "author", "email", r, true), n;
}
function Dbe(e13) {
  var t, r, n = (r = (t = H0("channel", e13.children)) === null || t === void 0 ? void 0 : t.children) !== null && r !== void 0 ? r : [], i = {
    type: e13.name.substr(0, 3),
    id: "",
    items: (0, qv.getElementsByTagName)("item", e13.children).map(function(a) {
      var s = a.children, l = {
        media: o2(s)
      };
      Ri(l, "id", "guid", s), Ri(l, "title", "title", s), Ri(l, "link", "link", s), Ri(l, "description", "description", s);
      var u = kl("pubDate", s) || kl("dc:date", s);
      return u && (l.pubDate = new Date(u)), l;
    })
  };
  Ri(i, "title", "title", n), Ri(i, "link", "link", n), Ri(i, "description", "description", n);
  var o = kl("lastBuildDate", n);
  return o && (i.updated = new Date(o)), Ri(i, "author", "managingEditor", n, true), i;
}
var Rbe = ["url", "type", "lang"];
var Nbe = ["fileSize", "bitrate", "framerate", "samplingrate", "channels", "duration", "height", "width"];
function o2(e13) {
  return (0, qv.getElementsByTagName)("media:content", e13).map(function(t) {
    for (var r = t.attribs, n = {
      medium: r.medium,
      isDefault: !!r.isDefault
    }, i = 0, o = Rbe; i < o.length; i++) {
      var a = o[i];
      r[a] && (n[a] = r[a]);
    }
    for (var s = 0, l = Nbe; s < l.length; s++) {
      var a = l[s];
      r[a] && (n[a] = parseInt(r[a], 10));
    }
    return r.expression && (n.expression = r.expression), n;
  });
}
function H0(e13, t) {
  return (0, qv.getElementsByTagName)(e13, t, true, 1)[0];
}
function kl(e13, t, r) {
  return r === void 0 && (r = false), (0, Cbe.textContent)((0, qv.getElementsByTagName)(e13, t, r, 1)).trim();
}
function Ri(e13, t, r, n, i) {
  i === void 0 && (i = false);
  var o = kl(r, n, i);
  o && (e13[t] = o);
}
function Mbe(e13) {
  return e13 === "rss" || e13 === "feed" || e13 === "rdf:RDF";
}
(function(e13) {
  var t = De && De.__createBinding || (Object.create ? function(i, o, a, s) {
    s === void 0 && (s = a);
    var l = Object.getOwnPropertyDescriptor(o, a);
    (!l || ("get" in l ? !o.__esModule : l.writable || l.configurable)) && (l = {
      enumerable: true,
      get: function() {
        return o[a];
      }
    }), Object.defineProperty(i, s, l);
  } : function(i, o, a, s) {
    s === void 0 && (s = a), i[s] = o[a];
  }), r = De && De.__exportStar || function(i, o) {
    for (var a in i)
      a !== "default" && !Object.prototype.hasOwnProperty.call(o, a) && t(o, i, a);
  };
  Object.defineProperty(e13, "__esModule", {
    value: true
  }), e13.hasChildren = e13.isDocument = e13.isComment = e13.isText = e13.isCDATA = e13.isTag = void 0, r(Qi, e13), r(Sn, e13), r(Ni, e13), r(ci, e13), r(Ji, e13), r(i2, e13), r(x1, e13);
  var n = ri;
  Object.defineProperty(e13, "isTag", {
    enumerable: true,
    get: function() {
      return n.isTag;
    }
  }), Object.defineProperty(e13, "isCDATA", {
    enumerable: true,
    get: function() {
      return n.isCDATA;
    }
  }), Object.defineProperty(e13, "isText", {
    enumerable: true,
    get: function() {
      return n.isText;
    }
  }), Object.defineProperty(e13, "isComment", {
    enumerable: true,
    get: function() {
      return n.isComment;
    }
  }), Object.defineProperty(e13, "isDocument", {
    enumerable: true,
    get: function() {
      return n.isDocument;
    }
  }), Object.defineProperty(e13, "hasChildren", {
    enumerable: true,
    get: function() {
      return n.hasChildren;
    }
  });
})(Ko);
var eu = De && De.__assign || function() {
  return eu = Object.assign || function(e13) {
    for (var t, r = 1, n = arguments.length; r < n; r++) {
      t = arguments[r];
      for (var i in t)
        Object.prototype.hasOwnProperty.call(t, i) && (e13[i] = t[i]);
    }
    return e13;
  }, eu.apply(this, arguments);
};
var Lbe = De && De.__createBinding || (Object.create ? function(e13, t, r, n) {
  n === void 0 && (n = r);
  var i = Object.getOwnPropertyDescriptor(t, r);
  (!i || ("get" in i ? !t.__esModule : i.writable || i.configurable)) && (i = {
    enumerable: true,
    get: function() {
      return t[r];
    }
  }), Object.defineProperty(e13, n, i);
} : function(e13, t, r, n) {
  n === void 0 && (n = r), e13[n] = t[r];
});
var Bbe = De && De.__setModuleDefault || (Object.create ? function(e13, t) {
  Object.defineProperty(e13, "default", {
    enumerable: true,
    value: t
  });
} : function(e13, t) {
  e13.default = t;
});
var Fbe = De && De.__importStar || function(e13) {
  if (e13 && e13.__esModule)
    return e13;
  var t = {};
  if (e13 != null)
    for (var r in e13)
      r !== "default" && Object.prototype.hasOwnProperty.call(e13, r) && Lbe(t, e13, r);
  return Bbe(t, e13), t;
};
Object.defineProperty(tn, "__esModule", {
  value: true
});
tn.merge = tn.contains = tn.root = tn.parseHTML = tn.text = tn.xml = tn.html = void 0;
var $be = Ko;
var VP = Fbe(ip);
function a2(e13, t, r) {
  return e13 ? e13(t ?? e13._root.children, null, void 0, r).toString() : "";
}
function Hbe(e13, t) {
  return typeof e13 == "object" && e13 != null && !("length" in e13) && !("type" in e13);
}
function Ube(e13, t) {
  var r = Hbe(e13) ? (t = e13, void 0) : e13, n = eu(eu(eu({}, VP.default), this === null || this === void 0 ? void 0 : this._options), (0, VP.flatten)(t ?? {}));
  return a2(this, r, n);
}
tn.html = Ube;
function jbe(e13) {
  var t = eu(eu({}, this._options), {
    xmlMode: true
  });
  return a2(this, e13, t);
}
tn.xml = jbe;
function Gbe(e13) {
  for (var t = e13 || (this ? this.root() : []), r = "", n = 0; n < t.length; n++)
    r += (0, $be.textContent)(t[n]);
  return r;
}
tn.text = Gbe;
function zbe(e13, t, r) {
  if (r === void 0 && (r = typeof t == "boolean" ? t : false), !e13 || typeof e13 != "string")
    return null;
  typeof t == "boolean" && (r = t);
  var n = this.load(e13, VP.default, false);
  return r || n("script").remove(), n.root()[0].children.slice();
}
tn.parseHTML = zbe;
function Vbe() {
  return this(this._root);
}
tn.root = Vbe;
function Xbe(e13, t) {
  if (t === e13)
    return false;
  for (var r = t; r && r !== r.parent; )
    if (r = r.parent, r === e13)
      return true;
  return false;
}
tn.contains = Xbe;
function Wbe(e13, t) {
  if (!(!pH(e13) || !pH(t))) {
    for (var r = e13.length, n = +t.length, i = 0; i < n; i++)
      e13[r++] = t[i];
    return e13.length = r, e13;
  }
}
tn.merge = Wbe;
function pH(e13) {
  if (Array.isArray(e13))
    return true;
  if (typeof e13 != "object" || !Object.prototype.hasOwnProperty.call(e13, "length") || typeof e13.length != "number" || e13.length < 0)
    return false;
  for (var t = 0; t < e13.length; t++)
    if (!(t in e13))
      return false;
  return true;
}
var k1 = {};
var nn = {};
var ic = {};
(function(e13) {
  Object.defineProperty(e13, "__esModule", {
    value: true
  }), e13.isHtml = e13.cloneDom = e13.domEach = e13.cssCase = e13.camelCase = e13.isCheerio = e13.isTag = void 0;
  var t = ri, r = ri;
  Object.defineProperty(e13, "isTag", {
    enumerable: true,
    get: function() {
      return r.isTag;
    }
  });
  function n(c) {
    return c.cheerio != null;
  }
  e13.isCheerio = n;
  function i(c) {
    return c.replace(/[_.-](\w|$)/g, function(f, h) {
      return h.toUpperCase();
    });
  }
  e13.camelCase = i;
  function o(c) {
    return c.replace(/[A-Z]/g, "-$&").toLowerCase();
  }
  e13.cssCase = o;
  function a(c, f) {
    for (var h = c.length, d = 0; d < h; d++)
      f(c[d], d);
    return c;
  }
  e13.domEach = a;
  function s(c) {
    var f = "length" in c ? Array.prototype.map.call(c, function(d) {
      return (0, t.cloneNode)(d, true);
    }) : [(0, t.cloneNode)(c, true)], h = new t.Document(f);
    return f.forEach(function(d) {
      d.parent = h;
    }), f;
  }
  e13.cloneDom = s;
  var l;
  (function(c) {
    c[c.LowerA = 97] = "LowerA", c[c.LowerZ = 122] = "LowerZ", c[c.UpperA = 65] = "UpperA", c[c.UpperZ = 90] = "UpperZ", c[c.Exclamation = 33] = "Exclamation";
  })(l || (l = {}));
  function u(c) {
    var f = c.indexOf("<");
    if (f < 0 || f > c.length - 3)
      return false;
    var h = c.charCodeAt(f + 1);
    return (h >= l.LowerA && h <= l.LowerZ || h >= l.UpperA && h <= l.UpperZ || h === l.Exclamation) && c.includes(">", f + 2);
  }
  e13.isHtml = u;
})(ic);
Object.defineProperty(nn, "__esModule", {
  value: true
});
nn.toggleClass = nn.removeClass = nn.addClass = nn.hasClass = nn.removeAttr = nn.val = nn.data = nn.prop = nn.attr = void 0;
var s2 = tn;
var yr = ic;
var mH = Ko;
var xf = Object.prototype.hasOwnProperty;
var nv = /\s+/;
var qA = "data-";
var gH = {
  null: null,
  true: true,
  false: false
};
var EN = /^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i;
var Ybe = /^{[^]*}$|^\[[^]*]$/;
function U0(e13, t, r) {
  var n;
  if (!(!e13 || !(0, yr.isTag)(e13))) {
    if ((n = e13.attribs) !== null && n !== void 0 || (e13.attribs = {}), !t)
      return e13.attribs;
    if (xf.call(e13.attribs, t))
      return !r && EN.test(t) ? t : e13.attribs[t];
    if (e13.name === "option" && t === "value")
      return (0, s2.text)(e13.children);
    if (e13.name === "input" && (e13.attribs.type === "radio" || e13.attribs.type === "checkbox") && t === "value")
      return "on";
  }
}
function kf(e13, t, r) {
  r === null ? l2(e13, t) : e13.attribs[t] = "".concat(r);
}
function qbe(e13, t) {
  if (typeof e13 == "object" || t !== void 0) {
    if (typeof t == "function") {
      if (typeof e13 != "string")
        throw new Error("Bad combination of arguments.");
      return (0, yr.domEach)(this, function(r, n) {
        (0, yr.isTag)(r) && kf(r, e13, t.call(r, n, r.attribs[e13]));
      });
    }
    return (0, yr.domEach)(this, function(r) {
      (0, yr.isTag)(r) && (typeof e13 == "object" ? Object.keys(e13).forEach(function(n) {
        var i = e13[n];
        kf(r, n, i);
      }) : kf(r, e13, t));
    });
  }
  return arguments.length > 1 ? this : U0(this[0], e13, this.options.xmlMode);
}
nn.attr = qbe;
function vH(e13, t, r) {
  return t in e13 ? (
    // @ts-expect-error TS doesn't like us accessing the value directly here.
    e13[t]
  ) : !r && EN.test(t) ? U0(e13, t, false) !== void 0 : U0(e13, t, r);
}
function KA(e13, t, r, n) {
  t in e13 ? e13[t] = r : kf(e13, t, !n && EN.test(t) ? r ? "" : null : "".concat(r));
}
function Kbe(e13, t) {
  var r = this, n;
  if (typeof e13 == "string" && t === void 0) {
    var i = this[0];
    if (!i || !(0, yr.isTag)(i))
      return;
    switch (e13) {
      case "style": {
        var o = this.css(), a = Object.keys(o);
        return a.forEach(function(l, u) {
          o[u] = l;
        }), o.length = a.length, o;
      }
      case "tagName":
      case "nodeName":
        return i.name.toUpperCase();
      case "href":
      case "src": {
        var s = (n = i.attribs) === null || n === void 0 ? void 0 : n[e13];
        return typeof URL < "u" && (e13 === "href" && (i.tagName === "a" || i.name === "link") || e13 === "src" && (i.tagName === "img" || i.tagName === "iframe" || i.tagName === "audio" || i.tagName === "video" || i.tagName === "source")) && s !== void 0 && this.options.baseURI ? new URL(s, this.options.baseURI).href : s;
      }
      case "innerText":
        return (0, mH.innerText)(i);
      case "textContent":
        return (0, mH.textContent)(i);
      case "outerHTML":
        return this.clone().wrap("<container />").parent().html();
      case "innerHTML":
        return this.html();
      default:
        return vH(i, e13, this.options.xmlMode);
    }
  }
  if (typeof e13 == "object" || t !== void 0) {
    if (typeof t == "function") {
      if (typeof e13 == "object")
        throw new Error("Bad combination of arguments.");
      return (0, yr.domEach)(this, function(l, u) {
        (0, yr.isTag)(l) && KA(l, e13, t.call(l, u, vH(l, e13, r.options.xmlMode)), r.options.xmlMode);
      });
    }
    return (0, yr.domEach)(this, function(l) {
      (0, yr.isTag)(l) && (typeof e13 == "object" ? Object.keys(e13).forEach(function(u) {
        var c = e13[u];
        KA(l, u, c, r.options.xmlMode);
      }) : KA(l, e13, t, r.options.xmlMode));
    });
  }
}
nn.prop = Kbe;
function yH(e13, t, r) {
  var n, i = e13;
  (n = i.data) !== null && n !== void 0 || (i.data = {}), typeof t == "object" ? Object.assign(i.data, t) : typeof t == "string" && r !== void 0 && (i.data[t] = r);
}
function _H(e13, t) {
  var r, n, i;
  t == null ? (r = Object.keys(e13.attribs).filter(function(l) {
    return l.startsWith(qA);
  }), n = r.map(function(l) {
    return (0, yr.camelCase)(l.slice(qA.length));
  })) : (r = [qA + (0, yr.cssCase)(t)], n = [t]);
  for (var o = 0; o < r.length; ++o) {
    var a = r[o], s = n[o];
    if (xf.call(e13.attribs, a) && !xf.call(e13.data, s)) {
      if (i = e13.attribs[a], xf.call(gH, i))
        i = gH[i];
      else if (i === String(Number(i)))
        i = Number(i);
      else if (Ybe.test(i))
        try {
          i = JSON.parse(i);
        } catch {
        }
      e13.data[s] = i;
    }
  }
  return t == null ? e13.data : i;
}
function Zbe(e13, t) {
  var r, n = this[0];
  if (!(!n || !(0, yr.isTag)(n))) {
    var i = n;
    return (r = i.data) !== null && r !== void 0 || (i.data = {}), e13 ? typeof e13 == "object" || t !== void 0 ? ((0, yr.domEach)(this, function(o) {
      (0, yr.isTag)(o) && (typeof e13 == "object" ? yH(o, e13) : yH(o, e13, t));
    }), this) : xf.call(i.data, e13) ? i.data[e13] : _H(i, e13) : _H(i);
  }
}
nn.data = Zbe;
function Qbe(e13) {
  var t = arguments.length === 0, r = this[0];
  if (!r || !(0, yr.isTag)(r))
    return t ? void 0 : this;
  switch (r.name) {
    case "textarea":
      return this.text(e13);
    case "select": {
      var n = this.find("option:selected");
      if (!t) {
        if (this.attr("multiple") == null && typeof e13 == "object")
          return this;
        this.find("option").removeAttr("selected");
        for (var i = typeof e13 != "object" ? [e13] : e13, o = 0; o < i.length; o++)
          this.find('option[value="'.concat(i[o], '"]')).attr("selected", "");
        return this;
      }
      return this.attr("multiple") ? n.toArray().map(function(a) {
        return (0, s2.text)(a.children);
      }) : n.attr("value");
    }
    case "input":
    case "option":
      return t ? this.attr("value") : this.attr("value", e13);
  }
}
nn.val = Qbe;
function l2(e13, t) {
  !e13.attribs || !xf.call(e13.attribs, t) || delete e13.attribs[t];
}
function j0(e13) {
  return e13 ? e13.trim().split(nv) : [];
}
function Jbe(e13) {
  for (var t = j0(e13), r = function(o) {
    (0, yr.domEach)(n, function(a) {
      (0, yr.isTag)(a) && l2(a, t[o]);
    });
  }, n = this, i = 0; i < t.length; i++)
    r(i);
  return this;
}
nn.removeAttr = Jbe;
function e0e(e13) {
  return this.toArray().some(function(t) {
    var r = (0, yr.isTag)(t) && t.attribs.class, n = -1;
    if (r && e13.length)
      for (; (n = r.indexOf(e13, n + 1)) > -1; ) {
        var i = n + e13.length;
        if ((n === 0 || nv.test(r[n - 1])) && (i === r.length || nv.test(r[i])))
          return true;
      }
    return false;
  });
}
nn.hasClass = e0e;
function c2(e13) {
  if (typeof e13 == "function")
    return (0, yr.domEach)(this, function(u, c) {
      if ((0, yr.isTag)(u)) {
        var f = u.attribs.class || "";
        c2.call([u], e13.call(u, c, f));
      }
    });
  if (!e13 || typeof e13 != "string")
    return this;
  for (var t = e13.split(nv), r = this.length, n = 0; n < r; n++) {
    var i = this[n];
    if ((0, yr.isTag)(i)) {
      var o = U0(i, "class", false);
      if (!o)
        kf(i, "class", t.join(" ").trim());
      else {
        for (var a = " ".concat(o, " "), s = 0; s < t.length; s++) {
          var l = "".concat(t[s], " ");
          a.includes(" ".concat(l)) || (a += l);
        }
        kf(i, "class", a.trim());
      }
    }
  }
  return this;
}
nn.addClass = c2;
function u2(e13) {
  if (typeof e13 == "function")
    return (0, yr.domEach)(this, function(i, o) {
      (0, yr.isTag)(i) && u2.call([i], e13.call(i, o, i.attribs.class || ""));
    });
  var t = j0(e13), r = t.length, n = arguments.length === 0;
  return (0, yr.domEach)(this, function(i) {
    if ((0, yr.isTag)(i))
      if (n)
        i.attribs.class = "";
      else {
        for (var o = j0(i.attribs.class), a = false, s = 0; s < r; s++) {
          var l = o.indexOf(t[s]);
          l >= 0 && (o.splice(l, 1), a = true, s--);
        }
        a && (i.attribs.class = o.join(" "));
      }
  });
}
nn.removeClass = u2;
function h2(e13, t) {
  if (typeof e13 == "function")
    return (0, yr.domEach)(this, function(f, h) {
      (0, yr.isTag)(f) && h2.call([f], e13.call(f, h, f.attribs.class || "", t), t);
    });
  if (!e13 || typeof e13 != "string")
    return this;
  for (var r = e13.split(nv), n = r.length, i = typeof t == "boolean" ? t ? 1 : -1 : 0, o = this.length, a = 0; a < o; a++) {
    var s = this[a];
    if ((0, yr.isTag)(s)) {
      for (var l = j0(s.attribs.class), u = 0; u < n; u++) {
        var c = l.indexOf(r[u]);
        i >= 0 && c < 0 ? l.push(r[u]) : i <= 0 && c >= 0 && l.splice(c, 1);
      }
      s.attribs.class = l.join(" ");
    }
  }
  return this;
}
nn.toggleClass = h2;
var at = {};
var f2 = {};
var Jt;
(function(e13) {
  e13.Attribute = "attribute", e13.Pseudo = "pseudo", e13.PseudoElement = "pseudo-element", e13.Tag = "tag", e13.Universal = "universal", e13.Adjacent = "adjacent", e13.Child = "child", e13.Descendant = "descendant", e13.Parent = "parent", e13.Sibling = "sibling", e13.ColumnCombinator = "column-combinator";
})(Jt || (Jt = {}));
var t0e = {
  Unknown: null,
  QuirksMode: "quirks",
  IgnoreCase: true,
  CaseSensitive: false
};
var Fr;
(function(e13) {
  e13.Any = "any", e13.Element = "element", e13.End = "end", e13.Equals = "equals", e13.Exists = "exists", e13.Hyphen = "hyphen", e13.Not = "not", e13.Start = "start";
})(Fr || (Fr = {}));
var bH = /^[^\\#]?(?:\\(?:[\da-f]{1,6}\s?|.)|[\w\-\u00b0-\uFFFF])+/;
var r0e = /\\([\da-f]{1,6}\s?|(\s)|.)/gi;
var n0e = /* @__PURE__ */ new Map([[126, Fr.Element], [94, Fr.Start], [36, Fr.End], [42, Fr.Any], [33, Fr.Not], [124, Fr.Hyphen]]);
var i0e = /* @__PURE__ */ new Set(["has", "not", "matches", "is", "where", "host", "host-context"]);
function d2(e13) {
  switch (e13.type) {
    case Jt.Adjacent:
    case Jt.Child:
    case Jt.Descendant:
    case Jt.Parent:
    case Jt.Sibling:
    case Jt.ColumnCombinator:
      return true;
    default:
      return false;
  }
}
var o0e = /* @__PURE__ */ new Set(["contains", "icontains"]);
function a0e(e13, t, r) {
  const n = parseInt(t, 16) - 65536;
  return n !== n || r ? t : n < 0 ? (
    // BMP codepoint
    String.fromCharCode(n + 65536)
  ) : (
    // Supplemental Plane codepoint (surrogate pair)
    String.fromCharCode(n >> 10 | 55296, n & 1023 | 56320)
  );
}
function Yp(e13) {
  return e13.replace(r0e, a0e);
}
function ZA(e13) {
  return e13 === 39 || e13 === 34;
}
function TH(e13) {
  return e13 === 32 || e13 === 9 || e13 === 10 || e13 === 12 || e13 === 13;
}
function s0e(e13) {
  const t = [], r = p2(t, `${e13}`, 0);
  if (r < e13.length)
    throw new Error(`Unmatched selector: ${e13.slice(r)}`);
  return t;
}
function p2(e13, t, r) {
  let n = [];
  function i(h) {
    const d = t.slice(r + h).match(bH);
    if (!d)
      throw new Error(`Expected name, found ${t.slice(r)}`);
    const [p] = d;
    return r += h + p.length, Yp(p);
  }
  function o(h) {
    for (r += h; r < t.length && TH(t.charCodeAt(r)); )
      r++;
  }
  function a() {
    r += 1;
    const h = r;
    let d = 1;
    for (; d > 0 && r < t.length; r++)
      t.charCodeAt(r) === 40 && !s(r) ? d++ : t.charCodeAt(r) === 41 && !s(r) && d--;
    if (d)
      throw new Error("Parenthesis not matched");
    return Yp(t.slice(h, r - 1));
  }
  function s(h) {
    let d = 0;
    for (; t.charCodeAt(--h) === 92; )
      d++;
    return (d & 1) === 1;
  }
  function l() {
    if (n.length > 0 && d2(n[n.length - 1]))
      throw new Error("Did not expect successive traversals.");
  }
  function u(h) {
    if (n.length > 0 && n[n.length - 1].type === Jt.Descendant) {
      n[n.length - 1].type = h;
      return;
    }
    l(), n.push({
      type: h
    });
  }
  function c(h, d) {
    n.push({
      type: Jt.Attribute,
      name: h,
      action: d,
      value: i(1),
      namespace: null,
      ignoreCase: "quirks"
    });
  }
  function f() {
    if (n.length && n[n.length - 1].type === Jt.Descendant && n.pop(), n.length === 0)
      throw new Error("Empty sub-selector");
    e13.push(n);
  }
  if (o(0), t.length === r)
    return r;
  e:
    for (; r < t.length; ) {
      const h = t.charCodeAt(r);
      switch (h) {
        case 32:
        case 9:
        case 10:
        case 12:
        case 13: {
          (n.length === 0 || n[0].type !== Jt.Descendant) && (l(), n.push({
            type: Jt.Descendant
          })), o(1);
          break;
        }
        case 62: {
          u(Jt.Child), o(1);
          break;
        }
        case 60: {
          u(Jt.Parent), o(1);
          break;
        }
        case 126: {
          u(Jt.Sibling), o(1);
          break;
        }
        case 43: {
          u(Jt.Adjacent), o(1);
          break;
        }
        case 46: {
          c("class", Fr.Element);
          break;
        }
        case 35: {
          c("id", Fr.Equals);
          break;
        }
        case 91: {
          o(1);
          let d, p = null;
          t.charCodeAt(r) === 124 ? d = i(1) : t.startsWith("*|", r) ? (p = "*", d = i(2)) : (d = i(0), t.charCodeAt(r) === 124 && t.charCodeAt(r + 1) !== 61 && (p = d, d = i(1))), o(0);
          let m = Fr.Exists;
          const g = n0e.get(t.charCodeAt(r));
          if (g) {
            if (m = g, t.charCodeAt(r + 1) !== 61)
              throw new Error("Expected `=`");
            o(2);
          } else t.charCodeAt(r) === 61 && (m = Fr.Equals, o(1));
          let v = "", b = null;
          if (m !== "exists") {
            if (ZA(t.charCodeAt(r))) {
              const T = t.charCodeAt(r);
              let E = r + 1;
              for (; E < t.length && (t.charCodeAt(E) !== T || s(E)); )
                E += 1;
              if (t.charCodeAt(E) !== T)
                throw new Error("Attribute value didn't end");
              v = Yp(t.slice(r + 1, E)), r = E + 1;
            } else {
              const T = r;
              for (; r < t.length && (!TH(t.charCodeAt(r)) && t.charCodeAt(r) !== 93 || s(r)); )
                r += 1;
              v = Yp(t.slice(T, r));
            }
            o(0);
            const _ = t.charCodeAt(r) | 32;
            _ === 115 ? (b = false, o(1)) : _ === 105 && (b = true, o(1));
          }
          if (t.charCodeAt(r) !== 93)
            throw new Error("Attribute selector didn't terminate");
          r += 1;
          const y = {
            type: Jt.Attribute,
            name: d,
            action: m,
            value: v,
            namespace: p,
            ignoreCase: b
          };
          n.push(y);
          break;
        }
        case 58: {
          if (t.charCodeAt(r + 1) === 58) {
            n.push({
              type: Jt.PseudoElement,
              name: i(2).toLowerCase(),
              data: t.charCodeAt(r) === 40 ? a() : null
            });
            continue;
          }
          const d = i(1).toLowerCase();
          let p = null;
          if (t.charCodeAt(r) === 40)
            if (i0e.has(d)) {
              if (ZA(t.charCodeAt(r + 1)))
                throw new Error(`Pseudo-selector ${d} cannot be quoted`);
              if (p = [], r = p2(p, t, r + 1), t.charCodeAt(r) !== 41)
                throw new Error(`Missing closing parenthesis in :${d} (${t})`);
              r += 1;
            } else {
              if (p = a(), o0e.has(d)) {
                const m = p.charCodeAt(0);
                m === p.charCodeAt(p.length - 1) && ZA(m) && (p = p.slice(1, -1));
              }
              p = Yp(p);
            }
          n.push({
            type: Jt.Pseudo,
            name: d,
            data: p
          });
          break;
        }
        case 44: {
          f(), n = [], o(1);
          break;
        }
        default: {
          if (t.startsWith("/*", r)) {
            const m = t.indexOf("*/", r + 2);
            if (m < 0)
              throw new Error("Comment was not terminated");
            r = m + 2, n.length === 0 && o(0);
            break;
          }
          let d = null, p;
          if (h === 42)
            r += 1, p = "*";
          else if (h === 124) {
            if (p = "", t.charCodeAt(r + 1) === 124) {
              u(Jt.ColumnCombinator), o(2);
              break;
            }
          } else if (bH.test(t.slice(r)))
            p = i(0);
          else
            break e;
          t.charCodeAt(r) === 124 && t.charCodeAt(r + 1) !== 124 && (d = p, t.charCodeAt(r + 1) === 42 ? (p = "*", r += 2) : p = i(1)), n.push(p === "*" ? {
            type: Jt.Universal,
            namespace: d
          } : {
            type: Jt.Tag,
            name: p,
            namespace: d
          });
        }
      }
    }
  return f(), r;
}
var m2 = ["\\", '"'];
var g2 = [...m2, "(", ")"];
var l0e = new Set(m2.map((e13) => e13.charCodeAt(0)));
var EH = new Set(g2.map((e13) => e13.charCodeAt(0)));
var pf = new Set([...g2, "~", "^", "$", "*", "+", "!", "|", ":", "[", "]", " ", "."].map((e13) => e13.charCodeAt(0)));
function v2(e13) {
  return e13.map((t) => t.map(c0e).join("")).join(", ");
}
function c0e(e13, t, r) {
  switch (e13.type) {
    case Jt.Child:
      return t === 0 ? "> " : " > ";
    case Jt.Parent:
      return t === 0 ? "< " : " < ";
    case Jt.Sibling:
      return t === 0 ? "~ " : " ~ ";
    case Jt.Adjacent:
      return t === 0 ? "+ " : " + ";
    case Jt.Descendant:
      return " ";
    case Jt.ColumnCombinator:
      return t === 0 ? "|| " : " || ";
    case Jt.Universal:
      return e13.namespace === "*" && t + 1 < r.length && "name" in r[t + 1] ? "" : `${y2(e13.namespace)}*`;
    case Jt.Tag:
      return SH(e13);
    case Jt.PseudoElement:
      return `::${as(e13.name, pf)}${e13.data === null ? "" : `(${as(e13.data, EH)})`}`;
    case Jt.Pseudo:
      return `:${as(e13.name, pf)}${e13.data === null ? "" : `(${typeof e13.data == "string" ? as(e13.data, EH) : v2(e13.data)})`}`;
    case Jt.Attribute: {
      if (e13.name === "id" && e13.action === Fr.Equals && e13.ignoreCase === "quirks" && !e13.namespace)
        return `#${as(e13.value, pf)}`;
      if (e13.name === "class" && e13.action === Fr.Element && e13.ignoreCase === "quirks" && !e13.namespace)
        return `.${as(e13.value, pf)}`;
      const n = SH(e13);
      return e13.action === Fr.Exists ? `[${n}]` : `[${n}${u0e(e13.action)}="${as(e13.value, l0e)}"${e13.ignoreCase === null ? "" : e13.ignoreCase ? " i" : " s"}]`;
    }
  }
}
function u0e(e13) {
  switch (e13) {
    case Fr.Equals:
      return "";
    case Fr.Element:
      return "~";
    case Fr.Start:
      return "^";
    case Fr.End:
      return "$";
    case Fr.Any:
      return "*";
    case Fr.Not:
      return "!";
    case Fr.Hyphen:
      return "|";
    case Fr.Exists:
      throw new Error("Shouldn't be here");
  }
}
function SH(e13) {
  return `${y2(e13.namespace)}${as(e13.name, pf)}`;
}
function y2(e13) {
  return e13 !== null ? `${e13 === "*" ? "*" : as(e13, pf)}|` : "";
}
function as(e13, t) {
  let r = 0, n = "";
  for (let i = 0; i < e13.length; i++)
    t.has(e13.charCodeAt(i)) && (n += `${e13.slice(r, i)}\\${e13.charAt(i)}`, r = i + 1);
  return n.length > 0 ? n + e13.slice(r) : e13;
}
var h0e = Object.freeze(Object.defineProperty({
  __proto__: null,
  get AttributeAction() {
    return Fr;
  },
  IgnoreCaseMode: t0e,
  get SelectorType() {
    return Jt;
  },
  isTraversal: d2,
  parse: s0e,
  stringify: v2
}, Symbol.toStringTag, { value: "Module" }));
var Kv = Hs(h0e);
var XP = {};
var Ju = {
  trueFunc: function() {
    return true;
  },
  falseFunc: function() {
    return false;
  }
};
var Fl = {};
var sp = {};
Object.defineProperty(sp, "__esModule", {
  value: true
});
sp.isTraversal = void 0;
var Ki = Kv;
var _2 = /* @__PURE__ */ new Map([[Ki.SelectorType.Universal, 50], [Ki.SelectorType.Tag, 30], [Ki.SelectorType.Attribute, 1], [Ki.SelectorType.Pseudo, 0]]);
function f0e(e13) {
  return !_2.has(e13.type);
}
sp.isTraversal = f0e;
var d0e = /* @__PURE__ */ new Map([[Ki.AttributeAction.Exists, 10], [Ki.AttributeAction.Equals, 8], [Ki.AttributeAction.Not, 7], [Ki.AttributeAction.Start, 6], [Ki.AttributeAction.End, 6], [Ki.AttributeAction.Any, 5]]);
function p0e(e13) {
  for (var t = e13.map(b2), r = 1; r < e13.length; r++) {
    var n = t[r];
    if (!(n < 0))
      for (var i = r - 1; i >= 0 && n < t[i]; i--) {
        var o = e13[i + 1];
        e13[i + 1] = e13[i], e13[i] = o, t[i + 1] = t[i], t[i] = n;
      }
  }
}
sp.default = p0e;
function b2(e13) {
  var t, r, n = (t = _2.get(e13.type)) !== null && t !== void 0 ? t : -1;
  return e13.type === Ki.SelectorType.Attribute ? (n = (r = d0e.get(e13.action)) !== null && r !== void 0 ? r : 4, e13.action === Ki.AttributeAction.Equals && e13.name === "id" && (n = 9), e13.ignoreCase && (n >>= 1)) : e13.type === Ki.SelectorType.Pseudo && (e13.data ? e13.name === "has" || e13.name === "contains" ? n = 0 : Array.isArray(e13.data) ? (n = Math.min.apply(Math, e13.data.map(function(i) {
    return Math.min.apply(Math, i.map(b2));
  })), n < 0 && (n = 0)) : n = 2 : n = 3), n;
}
var D1 = {};
var R1 = {};
var m0e = De && De.__importDefault || function(e13) {
  return e13 && e13.__esModule ? e13 : {
    default: e13
  };
};
Object.defineProperty(R1, "__esModule", {
  value: true
});
R1.attributeRules = void 0;
var a_ = m0e(Ju);
var g0e = /[-[\]{}()*+?.,\\^$|#\s]/g;
function wH(e13) {
  return e13.replace(g0e, "\\$&");
}
var v0e = /* @__PURE__ */ new Set(["accept", "accept-charset", "align", "alink", "axis", "bgcolor", "charset", "checked", "clear", "codetype", "color", "compact", "declare", "defer", "dir", "direction", "disabled", "enctype", "face", "frame", "hreflang", "http-equiv", "lang", "language", "link", "media", "method", "multiple", "nohref", "noresize", "noshade", "nowrap", "readonly", "rel", "rev", "rules", "scope", "scrolling", "selected", "shape", "target", "text", "type", "valign", "valuetype", "vlink"]);
function Sc(e13, t) {
  return typeof e13.ignoreCase == "boolean" ? e13.ignoreCase : e13.ignoreCase === "quirks" ? !!t.quirksMode : !t.xmlMode && v0e.has(e13.name);
}
R1.attributeRules = {
  equals: function(e13, t, r) {
    var n = r.adapter, i = t.name, o = t.value;
    return Sc(t, r) ? (o = o.toLowerCase(), function(a) {
      var s = n.getAttributeValue(a, i);
      return s != null && s.length === o.length && s.toLowerCase() === o && e13(a);
    }) : function(a) {
      return n.getAttributeValue(a, i) === o && e13(a);
    };
  },
  hyphen: function(e13, t, r) {
    var n = r.adapter, i = t.name, o = t.value, a = o.length;
    return Sc(t, r) ? (o = o.toLowerCase(), function(l) {
      var u = n.getAttributeValue(l, i);
      return u != null && (u.length === a || u.charAt(a) === "-") && u.substr(0, a).toLowerCase() === o && e13(l);
    }) : function(l) {
      var u = n.getAttributeValue(l, i);
      return u != null && (u.length === a || u.charAt(a) === "-") && u.substr(0, a) === o && e13(l);
    };
  },
  element: function(e13, t, r) {
    var n = r.adapter, i = t.name, o = t.value;
    if (/\s/.test(o))
      return a_.default.falseFunc;
    var a = new RegExp("(?:^|\\s)".concat(wH(o), "(?:$|\\s)"), Sc(t, r) ? "i" : "");
    return function(l) {
      var u = n.getAttributeValue(l, i);
      return u != null && u.length >= o.length && a.test(u) && e13(l);
    };
  },
  exists: function(e13, t, r) {
    var n = t.name, i = r.adapter;
    return function(o) {
      return i.hasAttrib(o, n) && e13(o);
    };
  },
  start: function(e13, t, r) {
    var n = r.adapter, i = t.name, o = t.value, a = o.length;
    return a === 0 ? a_.default.falseFunc : Sc(t, r) ? (o = o.toLowerCase(), function(s) {
      var l = n.getAttributeValue(s, i);
      return l != null && l.length >= a && l.substr(0, a).toLowerCase() === o && e13(s);
    }) : function(s) {
      var l;
      return !!(!((l = n.getAttributeValue(s, i)) === null || l === void 0) && l.startsWith(o)) && e13(s);
    };
  },
  end: function(e13, t, r) {
    var n = r.adapter, i = t.name, o = t.value, a = -o.length;
    return a === 0 ? a_.default.falseFunc : Sc(t, r) ? (o = o.toLowerCase(), function(s) {
      var l;
      return ((l = n.getAttributeValue(s, i)) === null || l === void 0 ? void 0 : l.substr(a).toLowerCase()) === o && e13(s);
    }) : function(s) {
      var l;
      return !!(!((l = n.getAttributeValue(s, i)) === null || l === void 0) && l.endsWith(o)) && e13(s);
    };
  },
  any: function(e13, t, r) {
    var n = r.adapter, i = t.name, o = t.value;
    if (o === "")
      return a_.default.falseFunc;
    if (Sc(t, r)) {
      var a = new RegExp(wH(o), "i");
      return function(l) {
        var u = n.getAttributeValue(l, i);
        return u != null && u.length >= o.length && a.test(u) && e13(l);
      };
    }
    return function(s) {
      var l;
      return !!(!((l = n.getAttributeValue(s, i)) === null || l === void 0) && l.includes(o)) && e13(s);
    };
  },
  not: function(e13, t, r) {
    var n = r.adapter, i = t.name, o = t.value;
    return o === "" ? function(a) {
      return !!n.getAttributeValue(a, i) && e13(a);
    } : Sc(t, r) ? (o = o.toLowerCase(), function(a) {
      var s = n.getAttributeValue(a, i);
      return (s == null || s.length !== o.length || s.toLowerCase() !== o) && e13(a);
    }) : function(a) {
      return n.getAttributeValue(a, i) !== o && e13(a);
    };
  }
};
var SN = {};
var T2 = {};
var E2 = {};
var N1 = {};
Object.defineProperty(N1, "__esModule", {
  value: true
});
N1.parse = void 0;
var y0e = /* @__PURE__ */ new Set([9, 10, 12, 13, 32]);
var AH = 48;
var _0e = 57;
function b0e(e13) {
  if (e13 = e13.trim().toLowerCase(), e13 === "even")
    return [2, 0];
  if (e13 === "odd")
    return [2, 1];
  var t = 0, r = 0, n = o(), i = a();
  if (t < e13.length && e13.charAt(t) === "n" && (t++, r = n * (i ?? 1), s(), t < e13.length ? (n = o(), s(), i = a()) : n = i = 0), i === null || t < e13.length)
    throw new Error("n-th rule couldn't be parsed ('".concat(e13, "')"));
  return [r, n * i];
  function o() {
    return e13.charAt(t) === "-" ? (t++, -1) : (e13.charAt(t) === "+" && t++, 1);
  }
  function a() {
    for (var l = t, u = 0; t < e13.length && e13.charCodeAt(t) >= AH && e13.charCodeAt(t) <= _0e; )
      u = u * 10 + (e13.charCodeAt(t) - AH), t++;
    return t === l ? null : u;
  }
  function s() {
    for (; t < e13.length && y0e.has(e13.charCodeAt(t)); )
      t++;
  }
}
N1.parse = b0e;
var md = {};
var T0e = De && De.__importDefault || function(e13) {
  return e13 && e13.__esModule ? e13 : {
    default: e13
  };
};
Object.defineProperty(md, "__esModule", {
  value: true
});
md.generate = md.compile = void 0;
var OH = T0e(Ju);
function E0e(e13) {
  var t = e13[0], r = e13[1] - 1;
  if (r < 0 && t <= 0)
    return OH.default.falseFunc;
  if (t === -1)
    return function(o) {
      return o <= r;
    };
  if (t === 0)
    return function(o) {
      return o === r;
    };
  if (t === 1)
    return r < 0 ? OH.default.trueFunc : function(o) {
      return o >= r;
    };
  var n = Math.abs(t), i = (r % n + n) % n;
  return t > 1 ? function(o) {
    return o >= r && o % n === i;
  } : function(o) {
    return o <= r && o % n === i;
  };
}
md.compile = E0e;
function S0e(e13) {
  var t = e13[0], r = e13[1] - 1, n = 0;
  if (t < 0) {
    var i = -t, o = (r % i + i) % i;
    return function() {
      var a = o + i * n++;
      return a > r ? null : a;
    };
  }
  return t === 0 ? r < 0 ? (
    // There are no result — always return `null`
    function() {
      return null;
    }
  ) : (
    // Return `b` exactly once
    function() {
      return n++ === 0 ? r : null;
    }
  ) : (r < 0 && (r += t * Math.ceil(-r / t)), function() {
    return t * n++ + r;
  });
}
md.generate = S0e;
(function(e13) {
  Object.defineProperty(e13, "__esModule", {
    value: true
  }), e13.sequence = e13.generate = e13.compile = e13.parse = void 0;
  var t = N1;
  Object.defineProperty(e13, "parse", {
    enumerable: true,
    get: function() {
      return t.parse;
    }
  });
  var r = md;
  Object.defineProperty(e13, "compile", {
    enumerable: true,
    get: function() {
      return r.compile;
    }
  }), Object.defineProperty(e13, "generate", {
    enumerable: true,
    get: function() {
      return r.generate;
    }
  });
  function n(o) {
    return (0, r.compile)((0, t.parse)(o));
  }
  e13.default = n;
  function i(o) {
    return (0, r.generate)((0, t.parse)(o));
  }
  e13.sequence = i;
})(E2);
(function(e13) {
  var t = De && De.__importDefault || function(a) {
    return a && a.__esModule ? a : {
      default: a
    };
  };
  Object.defineProperty(e13, "__esModule", {
    value: true
  }), e13.filters = void 0;
  var r = t(E2), n = t(Ju);
  function i(a, s) {
    return function(l) {
      var u = s.getParent(l);
      return u != null && s.isTag(u) && a(l);
    };
  }
  e13.filters = {
    contains: function(a, s, l) {
      var u = l.adapter;
      return function(f) {
        return a(f) && u.getText(f).includes(s);
      };
    },
    icontains: function(a, s, l) {
      var u = l.adapter, c = s.toLowerCase();
      return function(h) {
        return a(h) && u.getText(h).toLowerCase().includes(c);
      };
    },
    // Location specific methods
    "nth-child": function(a, s, l) {
      var u = l.adapter, c = l.equals, f = (0, r.default)(s);
      return f === n.default.falseFunc ? n.default.falseFunc : f === n.default.trueFunc ? i(a, u) : function(d) {
        for (var p = u.getSiblings(d), m = 0, g = 0; g < p.length && !c(d, p[g]); g++)
          u.isTag(p[g]) && m++;
        return f(m) && a(d);
      };
    },
    "nth-last-child": function(a, s, l) {
      var u = l.adapter, c = l.equals, f = (0, r.default)(s);
      return f === n.default.falseFunc ? n.default.falseFunc : f === n.default.trueFunc ? i(a, u) : function(d) {
        for (var p = u.getSiblings(d), m = 0, g = p.length - 1; g >= 0 && !c(d, p[g]); g--)
          u.isTag(p[g]) && m++;
        return f(m) && a(d);
      };
    },
    "nth-of-type": function(a, s, l) {
      var u = l.adapter, c = l.equals, f = (0, r.default)(s);
      return f === n.default.falseFunc ? n.default.falseFunc : f === n.default.trueFunc ? i(a, u) : function(d) {
        for (var p = u.getSiblings(d), m = 0, g = 0; g < p.length; g++) {
          var v = p[g];
          if (c(d, v))
            break;
          u.isTag(v) && u.getName(v) === u.getName(d) && m++;
        }
        return f(m) && a(d);
      };
    },
    "nth-last-of-type": function(a, s, l) {
      var u = l.adapter, c = l.equals, f = (0, r.default)(s);
      return f === n.default.falseFunc ? n.default.falseFunc : f === n.default.trueFunc ? i(a, u) : function(d) {
        for (var p = u.getSiblings(d), m = 0, g = p.length - 1; g >= 0; g--) {
          var v = p[g];
          if (c(d, v))
            break;
          u.isTag(v) && u.getName(v) === u.getName(d) && m++;
        }
        return f(m) && a(d);
      };
    },
    // TODO determine the actual root element
    root: function(a, s, l) {
      var u = l.adapter;
      return function(c) {
        var f = u.getParent(c);
        return (f == null || !u.isTag(f)) && a(c);
      };
    },
    scope: function(a, s, l, u) {
      var c = l.equals;
      return !u || u.length === 0 ? e13.filters.root(a, s, l) : u.length === 1 ? function(f) {
        return c(u[0], f) && a(f);
      } : function(f) {
        return u.includes(f) && a(f);
      };
    },
    hover: o("isHovered"),
    visited: o("isVisited"),
    active: o("isActive")
  };
  function o(a) {
    return function(l, u, c) {
      var f = c.adapter, h = f[a];
      return typeof h != "function" ? n.default.falseFunc : function(p) {
        return h(p) && l(p);
      };
    };
  }
})(T2);
var gd = {};
Object.defineProperty(gd, "__esModule", {
  value: true
});
gd.verifyPseudoArgs = gd.pseudos = void 0;
gd.pseudos = {
  empty: function(e13, t) {
    var r = t.adapter;
    return !r.getChildren(e13).some(function(n) {
      return r.isTag(n) || r.getText(n) !== "";
    });
  },
  "first-child": function(e13, t) {
    var r = t.adapter, n = t.equals;
    if (r.prevElementSibling)
      return r.prevElementSibling(e13) == null;
    var i = r.getSiblings(e13).find(function(o) {
      return r.isTag(o);
    });
    return i != null && n(e13, i);
  },
  "last-child": function(e13, t) {
    for (var r = t.adapter, n = t.equals, i = r.getSiblings(e13), o = i.length - 1; o >= 0; o--) {
      if (n(e13, i[o]))
        return true;
      if (r.isTag(i[o]))
        break;
    }
    return false;
  },
  "first-of-type": function(e13, t) {
    for (var r = t.adapter, n = t.equals, i = r.getSiblings(e13), o = r.getName(e13), a = 0; a < i.length; a++) {
      var s = i[a];
      if (n(e13, s))
        return true;
      if (r.isTag(s) && r.getName(s) === o)
        break;
    }
    return false;
  },
  "last-of-type": function(e13, t) {
    for (var r = t.adapter, n = t.equals, i = r.getSiblings(e13), o = r.getName(e13), a = i.length - 1; a >= 0; a--) {
      var s = i[a];
      if (n(e13, s))
        return true;
      if (r.isTag(s) && r.getName(s) === o)
        break;
    }
    return false;
  },
  "only-of-type": function(e13, t) {
    var r = t.adapter, n = t.equals, i = r.getName(e13);
    return r.getSiblings(e13).every(function(o) {
      return n(e13, o) || !r.isTag(o) || r.getName(o) !== i;
    });
  },
  "only-child": function(e13, t) {
    var r = t.adapter, n = t.equals;
    return r.getSiblings(e13).every(function(i) {
      return n(e13, i) || !r.isTag(i);
    });
  }
};
function w0e(e13, t, r, n) {
  if (r === null) {
    if (e13.length > n)
      throw new Error("Pseudo-class :".concat(t, " requires an argument"));
  } else if (e13.length === n)
    throw new Error("Pseudo-class :".concat(t, " doesn't have any arguments"));
}
gd.verifyPseudoArgs = w0e;
var M1 = {};
Object.defineProperty(M1, "__esModule", {
  value: true
});
M1.aliases = void 0;
M1.aliases = {
  // Links
  "any-link": ":is(a, area, link)[href]",
  link: ":any-link:not(:visited)",
  // Forms
  // https://html.spec.whatwg.org/multipage/scripting.html#disabled-elements
  disabled: `:is(
        :is(button, input, select, textarea, optgroup, option)[disabled],
        optgroup[disabled] > option,
        fieldset[disabled]:not(fieldset[disabled] legend:first-of-type *)
    )`,
  enabled: ":not(:disabled)",
  checked: ":is(:is(input[type=radio], input[type=checkbox])[checked], option:selected)",
  required: ":is(input, select, textarea)[required]",
  optional: ":is(input, select, textarea):not([required])",
  // JQuery extensions
  // https://html.spec.whatwg.org/multipage/form-elements.html#concept-option-selectedness
  selected: "option:is([selected], select:not([multiple]):not(:has(> option[selected])) > :first-of-type)",
  checkbox: "[type=checkbox]",
  file: "[type=file]",
  password: "[type=password]",
  radio: "[type=radio]",
  reset: "[type=reset]",
  image: "[type=image]",
  submit: "[type=submit]",
  parent: ":not(:empty)",
  header: ":is(h1, h2, h3, h4, h5, h6)",
  button: ":is(button, input[type=button])",
  input: ":is(input, textarea, select, button)",
  text: "input:is(:not([type!='']), [type=text])"
};
var L1 = {};
(function(e13) {
  var t = De && De.__spreadArray || function(u, c, f) {
    if (f || arguments.length === 2)
      for (var h = 0, d = c.length, p; h < d; h++)
        (p || !(h in c)) && (p || (p = Array.prototype.slice.call(c, 0, h)), p[h] = c[h]);
    return u.concat(p || Array.prototype.slice.call(c));
  }, r = De && De.__importDefault || function(u) {
    return u && u.__esModule ? u : {
      default: u
    };
  };
  Object.defineProperty(e13, "__esModule", {
    value: true
  }), e13.subselects = e13.getNextSiblings = e13.ensureIsTag = e13.PLACEHOLDER_ELEMENT = void 0;
  var n = r(Ju), i = sp;
  e13.PLACEHOLDER_ELEMENT = {};
  function o(u, c) {
    return u === n.default.falseFunc ? n.default.falseFunc : function(f) {
      return c.isTag(f) && u(f);
    };
  }
  e13.ensureIsTag = o;
  function a(u, c) {
    var f = c.getSiblings(u);
    if (f.length <= 1)
      return [];
    var h = f.indexOf(u);
    return h < 0 || h === f.length - 1 ? [] : f.slice(h + 1).filter(c.isTag);
  }
  e13.getNextSiblings = a;
  function s(u) {
    return {
      xmlMode: !!u.xmlMode,
      lowerCaseAttributeNames: !!u.lowerCaseAttributeNames,
      lowerCaseTags: !!u.lowerCaseTags,
      quirksMode: !!u.quirksMode,
      cacheResults: !!u.cacheResults,
      pseudos: u.pseudos,
      adapter: u.adapter,
      equals: u.equals
    };
  }
  var l = function(u, c, f, h, d) {
    var p = d(c, s(f), h);
    return p === n.default.trueFunc ? u : p === n.default.falseFunc ? n.default.falseFunc : function(m) {
      return p(m) && u(m);
    };
  };
  e13.subselects = {
    is: l,
    /**
     * `:matches` and `:where` are aliases for `:is`.
     */
    matches: l,
    where: l,
    not: function(u, c, f, h, d) {
      var p = d(c, s(f), h);
      return p === n.default.falseFunc ? u : p === n.default.trueFunc ? n.default.falseFunc : function(m) {
        return !p(m) && u(m);
      };
    },
    has: function(u, c, f, h, d) {
      var p = f.adapter, m = s(f);
      m.relativeSelector = true;
      var g = c.some(function(T) {
        return T.some(i.isTraversal);
      }) ? (
        // Used as a placeholder. Will be replaced with the actual element.
        [e13.PLACEHOLDER_ELEMENT]
      ) : void 0, v = d(c, m, g);
      if (v === n.default.falseFunc)
        return n.default.falseFunc;
      var b = o(v, p);
      if (g && v !== n.default.trueFunc) {
        var y = v.shouldTestNextSiblings, _ = y === void 0 ? false : y;
        return function(T) {
          if (!u(T))
            return false;
          g[0] = T;
          var E = p.getChildren(T), O = _ ? t(t([], E, true), a(T, p), true) : E;
          return p.existsOne(b, O);
        };
      }
      return function(T) {
        return u(T) && p.existsOne(b, p.getChildren(T));
      };
    }
  };
})(L1);
(function(e13) {
  Object.defineProperty(e13, "__esModule", {
    value: true
  }), e13.compilePseudoSelector = e13.aliases = e13.pseudos = e13.filters = void 0;
  var t = Kv, r = T2;
  Object.defineProperty(e13, "filters", {
    enumerable: true,
    get: function() {
      return r.filters;
    }
  });
  var n = gd;
  Object.defineProperty(e13, "pseudos", {
    enumerable: true,
    get: function() {
      return n.pseudos;
    }
  });
  var i = M1;
  Object.defineProperty(e13, "aliases", {
    enumerable: true,
    get: function() {
      return i.aliases;
    }
  });
  var o = L1;
  function a(s, l, u, c, f) {
    var h, d = l.name, p = l.data;
    if (Array.isArray(p)) {
      if (!(d in o.subselects))
        throw new Error("Unknown pseudo-class :".concat(d, "(").concat(p, ")"));
      return o.subselects[d](s, p, u, c, f);
    }
    var m = (h = u.pseudos) === null || h === void 0 ? void 0 : h[d], g = typeof m == "string" ? m : i.aliases[d];
    if (typeof g == "string") {
      if (p != null)
        throw new Error("Pseudo ".concat(d, " doesn't have any arguments"));
      var v = (0, t.parse)(g);
      return o.subselects.is(s, v, u, c, f);
    }
    if (typeof m == "function")
      return (0, n.verifyPseudoArgs)(m, d, p, 1), function(y) {
        return m(y, p) && s(y);
      };
    if (d in r.filters)
      return r.filters[d](s, p, u, c);
    if (d in n.pseudos) {
      var b = n.pseudos[d];
      return (0, n.verifyPseudoArgs)(b, d, p, 2), function(y) {
        return b(y, u, p) && s(y);
      };
    }
    throw new Error("Unknown pseudo-class :".concat(d));
  }
  e13.compilePseudoSelector = a;
})(SN);
Object.defineProperty(D1, "__esModule", {
  value: true
});
D1.compileGeneralSelector = void 0;
var A0e = R1;
var O0e = SN;
var Do = Kv;
function QA(e13, t) {
  var r = t.getParent(e13);
  return r && t.isTag(r) ? r : null;
}
function I0e(e13, t, r, n, i) {
  var o = r.adapter, a = r.equals;
  switch (t.type) {
    case Do.SelectorType.PseudoElement:
      throw new Error("Pseudo-elements are not supported by css-select");
    case Do.SelectorType.ColumnCombinator:
      throw new Error("Column combinators are not yet supported by css-select");
    case Do.SelectorType.Attribute: {
      if (t.namespace != null)
        throw new Error("Namespaced attributes are not yet supported by css-select");
      return (!r.xmlMode || r.lowerCaseAttributeNames) && (t.name = t.name.toLowerCase()), A0e.attributeRules[t.action](e13, t, r);
    }
    case Do.SelectorType.Pseudo:
      return (0, O0e.compilePseudoSelector)(e13, t, r, n, i);
    case Do.SelectorType.Tag: {
      if (t.namespace != null)
        throw new Error("Namespaced tag names are not yet supported by css-select");
      var s = t.name;
      return (!r.xmlMode || r.lowerCaseTags) && (s = s.toLowerCase()), function(c) {
        return o.getName(c) === s && e13(c);
      };
    }
    case Do.SelectorType.Descendant: {
      if (r.cacheResults === false || typeof WeakSet > "u")
        return function(c) {
          for (var f = c; f = QA(f, o); )
            if (e13(f))
              return true;
          return false;
        };
      var l = /* @__PURE__ */ new WeakSet();
      return function(c) {
        for (var f = c; f = QA(f, o); )
          if (!l.has(f)) {
            if (o.isTag(f) && e13(f))
              return true;
            l.add(f);
          }
        return false;
      };
    }
    case "_flexibleDescendant":
      return function(c) {
        var f = c;
        do
          if (e13(f))
            return true;
        while (f = QA(f, o));
        return false;
      };
    case Do.SelectorType.Parent:
      return function(c) {
        return o.getChildren(c).some(function(f) {
          return o.isTag(f) && e13(f);
        });
      };
    case Do.SelectorType.Child:
      return function(c) {
        var f = o.getParent(c);
        return f != null && o.isTag(f) && e13(f);
      };
    case Do.SelectorType.Sibling:
      return function(c) {
        for (var f = o.getSiblings(c), h = 0; h < f.length; h++) {
          var d = f[h];
          if (a(c, d))
            break;
          if (o.isTag(d) && e13(d))
            return true;
        }
        return false;
      };
    case Do.SelectorType.Adjacent:
      return o.prevElementSibling ? function(c) {
        var f = o.prevElementSibling(c);
        return f != null && e13(f);
      } : function(c) {
        for (var f = o.getSiblings(c), h, d = 0; d < f.length; d++) {
          var p = f[d];
          if (a(c, p))
            break;
          o.isTag(p) && (h = p);
        }
        return !!h && e13(h);
      };
    case Do.SelectorType.Universal: {
      if (t.namespace != null && t.namespace !== "*")
        throw new Error("Namespaced universal selectors are not yet supported by css-select");
      return e13;
    }
  }
}
D1.compileGeneralSelector = I0e;
var P0e = De && De.__createBinding || (Object.create ? function(e13, t, r, n) {
  n === void 0 && (n = r);
  var i = Object.getOwnPropertyDescriptor(t, r);
  (!i || ("get" in i ? !t.__esModule : i.writable || i.configurable)) && (i = {
    enumerable: true,
    get: function() {
      return t[r];
    }
  }), Object.defineProperty(e13, n, i);
} : function(e13, t, r, n) {
  n === void 0 && (n = r), e13[n] = t[r];
});
var C0e = De && De.__setModuleDefault || (Object.create ? function(e13, t) {
  Object.defineProperty(e13, "default", {
    enumerable: true,
    value: t
  });
} : function(e13, t) {
  e13.default = t;
});
var x0e = De && De.__importStar || function(e13) {
  if (e13 && e13.__esModule)
    return e13;
  var t = {};
  if (e13 != null)
    for (var r in e13)
      r !== "default" && Object.prototype.hasOwnProperty.call(e13, r) && P0e(t, e13, r);
  return C0e(t, e13), t;
};
var k0e = De && De.__importDefault || function(e13) {
  return e13 && e13.__esModule ? e13 : {
    default: e13
  };
};
Object.defineProperty(Fl, "__esModule", {
  value: true
});
Fl.compileToken = Fl.compileUnsafe = Fl.compile = void 0;
var vs = Kv;
var Dl = k0e(Ju);
var WP = x0e(sp);
var D0e = D1;
var S2 = L1;
function R0e(e13, t, r) {
  var n = w2(e13, t, r);
  return (0, S2.ensureIsTag)(n, t.adapter);
}
Fl.compile = R0e;
function w2(e13, t, r) {
  var n = typeof e13 == "string" ? (0, vs.parse)(e13) : e13;
  return wN(n, t, r);
}
Fl.compileUnsafe = w2;
function A2(e13) {
  return e13.type === vs.SelectorType.Pseudo && (e13.name === "scope" || Array.isArray(e13.data) && e13.data.some(function(t) {
    return t.some(A2);
  }));
}
var N0e = {
  type: vs.SelectorType.Descendant
};
var M0e = {
  type: "_flexibleDescendant"
};
var L0e = {
  type: vs.SelectorType.Pseudo,
  name: "scope",
  data: null
};
function B0e(e13, t, r) {
  for (var n = t.adapter, i = !!(r == null ? void 0 : r.every(function(l) {
    var u = n.isTag(l) && n.getParent(l);
    return l === S2.PLACEHOLDER_ELEMENT || u && n.isTag(u);
  })), o = 0, a = e13; o < a.length; o++) {
    var s = a[o];
    if (!(s.length > 0 && (0, WP.isTraversal)(s[0]) && s[0].type !== vs.SelectorType.Descendant))
      if (i && !s.some(A2))
        s.unshift(N0e);
      else
        continue;
    s.unshift(L0e);
  }
}
function wN(e13, t, r) {
  var n;
  e13.forEach(WP.default), r = (n = t.context) !== null && n !== void 0 ? n : r;
  var i = Array.isArray(r), o = r && (Array.isArray(r) ? r : [r]);
  if (t.relativeSelector !== false)
    B0e(e13, t, o);
  else if (e13.some(function(l) {
    return l.length > 0 && (0, WP.isTraversal)(l[0]);
  }))
    throw new Error("Relative selectors are not allowed when the `relativeSelector` option is disabled");
  var a = false, s = e13.map(function(l) {
    if (l.length >= 2) {
      var u = l[0], c = l[1];
      u.type !== vs.SelectorType.Pseudo || u.name !== "scope" || (i && c.type === vs.SelectorType.Descendant ? l[1] = M0e : (c.type === vs.SelectorType.Adjacent || c.type === vs.SelectorType.Sibling) && (a = true));
    }
    return F0e(l, t, o);
  }).reduce($0e, Dl.default.falseFunc);
  return s.shouldTestNextSiblings = a, s;
}
Fl.compileToken = wN;
function F0e(e13, t, r) {
  var n;
  return e13.reduce(function(i, o) {
    return i === Dl.default.falseFunc ? Dl.default.falseFunc : (0, D0e.compileGeneralSelector)(i, o, t, r, wN);
  }, (n = t.rootFunc) !== null && n !== void 0 ? n : Dl.default.trueFunc);
}
function $0e(e13, t) {
  return t === Dl.default.falseFunc || e13 === Dl.default.trueFunc ? e13 : e13 === Dl.default.falseFunc || t === Dl.default.trueFunc ? t : function(n) {
    return e13(n) || t(n);
  };
}
(function(e13) {
  var t = De && De.__createBinding || (Object.create ? function(b, y, _, T) {
    T === void 0 && (T = _);
    var E = Object.getOwnPropertyDescriptor(y, _);
    (!E || ("get" in E ? !y.__esModule : E.writable || E.configurable)) && (E = {
      enumerable: true,
      get: function() {
        return y[_];
      }
    }), Object.defineProperty(b, T, E);
  } : function(b, y, _, T) {
    T === void 0 && (T = _), b[T] = y[_];
  }), r = De && De.__setModuleDefault || (Object.create ? function(b, y) {
    Object.defineProperty(b, "default", {
      enumerable: true,
      value: y
    });
  } : function(b, y) {
    b.default = y;
  }), n = De && De.__importStar || function(b) {
    if (b && b.__esModule)
      return b;
    var y = {};
    if (b != null)
      for (var _ in b)
        _ !== "default" && Object.prototype.hasOwnProperty.call(b, _) && t(y, b, _);
    return r(y, b), y;
  }, i = De && De.__importDefault || function(b) {
    return b && b.__esModule ? b : {
      default: b
    };
  };
  Object.defineProperty(e13, "__esModule", {
    value: true
  }), e13.aliases = e13.pseudos = e13.filters = e13.is = e13.selectOne = e13.selectAll = e13.prepareContext = e13._compileToken = e13._compileUnsafe = e13.compile = void 0;
  var o = n(Ko), a = i(Ju), s = Fl, l = L1, u = function(b, y) {
    return b === y;
  }, c = {
    adapter: o,
    equals: u
  };
  function f(b) {
    var y, _, T, E, O = b ?? c;
    return (y = O.adapter) !== null && y !== void 0 || (O.adapter = o), (_ = O.equals) !== null && _ !== void 0 || (O.equals = (E = (T = O.adapter) === null || T === void 0 ? void 0 : T.equals) !== null && E !== void 0 ? E : u), O;
  }
  function h(b) {
    return function(_, T, E) {
      var O = f(T);
      return b(_, O, E);
    };
  }
  e13.compile = h(s.compile), e13._compileUnsafe = h(s.compileUnsafe), e13._compileToken = h(s.compileToken);
  function d(b) {
    return function(_, T, E) {
      var O = f(E);
      typeof _ != "function" && (_ = (0, s.compileUnsafe)(_, O, T));
      var S = p(T, O.adapter, _.shouldTestNextSiblings);
      return b(_, S, O);
    };
  }
  function p(b, y, _) {
    return _ === void 0 && (_ = false), _ && (b = m(b, y)), Array.isArray(b) ? y.removeSubsets(b) : y.getChildren(b);
  }
  e13.prepareContext = p;
  function m(b, y) {
    for (var _ = Array.isArray(b) ? b.slice(0) : [b], T = _.length, E = 0; E < T; E++) {
      var O = (0, l.getNextSiblings)(_[E], y);
      _.push.apply(_, O);
    }
    return _;
  }
  e13.selectAll = d(function(b, y, _) {
    return b === a.default.falseFunc || !y || y.length === 0 ? [] : _.adapter.findAll(b, y);
  }), e13.selectOne = d(function(b, y, _) {
    return b === a.default.falseFunc || !y || y.length === 0 ? null : _.adapter.findOne(b, y);
  });
  function g(b, y, _) {
    var T = f(_);
    return (typeof y == "function" ? y : (0, s.compile)(y, T))(b);
  }
  e13.is = g, e13.default = e13.selectAll;
  var v = SN;
  Object.defineProperty(e13, "filters", {
    enumerable: true,
    get: function() {
      return v.filters;
    }
  }), Object.defineProperty(e13, "pseudos", {
    enumerable: true,
    get: function() {
      return v.pseudos;
    }
  }), Object.defineProperty(e13, "aliases", {
    enumerable: true,
    get: function() {
      return v.aliases;
    }
  });
})(XP);
var vd = {};
var AN = {};
(function(e13) {
  Object.defineProperty(e13, "__esModule", {
    value: true
  }), e13.getLimit = e13.isFilter = e13.filterNames = void 0, e13.filterNames = /* @__PURE__ */ new Set(["first", "last", "eq", "gt", "nth", "lt", "even", "odd"]);
  function t(n) {
    return n.type !== "pseudo" ? false : e13.filterNames.has(n.name) ? true : n.name === "not" && Array.isArray(n.data) ? n.data.some(function(i) {
      return i.some(t);
    }) : false;
  }
  e13.isFilter = t;
  function r(n, i, o) {
    var a = i != null ? parseInt(i, 10) : NaN;
    switch (n) {
      case "first":
        return 1;
      case "nth":
      case "eq":
        return isFinite(a) ? a >= 0 ? a + 1 : 1 / 0 : 0;
      case "lt":
        return isFinite(a) ? a >= 0 ? Math.min(a, o) : 1 / 0 : 0;
      case "gt":
        return isFinite(a) ? 1 / 0 : 0;
      case "odd":
        return 2 * o;
      case "even":
        return 2 * o - 1;
      case "last":
      case "not":
        return 1 / 0;
    }
  }
  e13.getLimit = r;
})(AN);
Object.defineProperty(vd, "__esModule", {
  value: true
});
vd.groupSelectors = vd.getDocumentRoot = void 0;
var H0e = AN;
function U0e(e13) {
  for (; e13.parent; )
    e13 = e13.parent;
  return e13;
}
vd.getDocumentRoot = U0e;
function j0e(e13) {
  for (var t = [], r = [], n = 0, i = e13; n < i.length; n++) {
    var o = i[n];
    o.some(H0e.isFilter) ? t.push(o) : r.push(o);
  }
  return [r, t];
}
vd.groupSelectors = j0e;
(function(e13) {
  var t = De && De.__assign || function() {
    return t = Object.assign || function(C) {
      for (var w, N = 1, L = arguments.length; N < L; N++) {
        w = arguments[N];
        for (var A in w)
          Object.prototype.hasOwnProperty.call(w, A) && (C[A] = w[A]);
      }
      return C;
    }, t.apply(this, arguments);
  }, r = De && De.__createBinding || (Object.create ? function(C, w, N, L) {
    L === void 0 && (L = N);
    var A = Object.getOwnPropertyDescriptor(w, N);
    (!A || ("get" in A ? !w.__esModule : A.writable || A.configurable)) && (A = {
      enumerable: true,
      get: function() {
        return w[N];
      }
    }), Object.defineProperty(C, L, A);
  } : function(C, w, N, L) {
    L === void 0 && (L = N), C[L] = w[N];
  }), n = De && De.__setModuleDefault || (Object.create ? function(C, w) {
    Object.defineProperty(C, "default", {
      enumerable: true,
      value: w
    });
  } : function(C, w) {
    C.default = w;
  }), i = De && De.__importStar || function(C) {
    if (C && C.__esModule)
      return C;
    var w = {};
    if (C != null)
      for (var N in C)
        N !== "default" && Object.prototype.hasOwnProperty.call(C, N) && r(w, C, N);
    return n(w, C), w;
  }, o = De && De.__spreadArray || function(C, w, N) {
    if (N || arguments.length === 2)
      for (var L = 0, A = w.length, R; L < A; L++)
        (R || !(L in w)) && (R || (R = Array.prototype.slice.call(w, 0, L)), R[L] = w[L]);
    return C.concat(R || Array.prototype.slice.call(w));
  };
  Object.defineProperty(e13, "__esModule", {
    value: true
  }), e13.select = e13.filter = e13.some = e13.is = e13.aliases = e13.pseudos = e13.filters = void 0;
  var a = Kv, s = XP, l = i(Ko), u = i(Ju), c = vd, f = AN, h = XP;
  Object.defineProperty(e13, "filters", {
    enumerable: true,
    get: function() {
      return h.filters;
    }
  }), Object.defineProperty(e13, "pseudos", {
    enumerable: true,
    get: function() {
      return h.pseudos;
    }
  }), Object.defineProperty(e13, "aliases", {
    enumerable: true,
    get: function() {
      return h.aliases;
    }
  });
  var d = {
    type: a.SelectorType.Universal,
    namespace: null
  }, p = {
    type: a.SelectorType.Pseudo,
    name: "scope",
    data: null
  };
  function m(C, w, N) {
    return N === void 0 && (N = {}), g([C], w, N);
  }
  e13.is = m;
  function g(C, w, N) {
    if (N === void 0 && (N = {}), typeof w == "function")
      return C.some(w);
    var L = (0, c.groupSelectors)((0, a.parse)(w)), A = L[0], R = L[1];
    return A.length > 0 && C.some((0, s._compileToken)(A, N)) || R.some(function(F) {
      return _(F, C, N).length > 0;
    });
  }
  e13.some = g;
  function v(C, w, N, L) {
    var A = typeof N == "string" ? parseInt(N, 10) : NaN;
    switch (C) {
      case "first":
      case "lt":
        return w;
      case "last":
        return w.length > 0 ? [w[w.length - 1]] : w;
      case "nth":
      case "eq":
        return isFinite(A) && Math.abs(A) < w.length ? [A < 0 ? w[w.length + A] : w[A]] : [];
      case "gt":
        return isFinite(A) ? w.slice(A + 1) : [];
      case "even":
        return w.filter(function(F, $) {
          return $ % 2 === 0;
        });
      case "odd":
        return w.filter(function(F, $) {
          return $ % 2 === 1;
        });
      case "not": {
        var R = new Set(y(N, w, L));
        return w.filter(function(F) {
          return !R.has(F);
        });
      }
    }
  }
  function b(C, w, N) {
    return N === void 0 && (N = {}), y((0, a.parse)(C), w, N);
  }
  e13.filter = b;
  function y(C, w, N) {
    if (w.length === 0)
      return [];
    var L = (0, c.groupSelectors)(C), A = L[0], R = L[1], F;
    if (A.length) {
      var $ = P(w, A, N);
      if (R.length === 0)
        return $;
      $.length && (F = new Set($));
    }
    for (var K = 0; K < R.length && (F == null ? void 0 : F.size) !== w.length; K++) {
      var ie = R[K], J = F ? w.filter(function(oe) {
        return l.isTag(oe) && !F.has(oe);
      }) : w;
      if (J.length === 0)
        break;
      var $ = _(ie, w, N);
      if ($.length)
        if (F)
          $.forEach(function(oe) {
            return F.add(oe);
          });
        else {
          if (K === R.length - 1)
            return $;
          F = new Set($);
        }
    }
    return typeof F < "u" ? F.size === w.length ? w : (
      // Filter elements to preserve order
      w.filter(function(pe) {
        return F.has(pe);
      })
    ) : [];
  }
  function _(C, w, N) {
    var L;
    if (C.some(a.isTraversal)) {
      var A = (L = N.root) !== null && L !== void 0 ? L : (0, c.getDocumentRoot)(w[0]), R = t(t({}, N), {
        context: w,
        relativeSelector: false
      });
      return C.push(p), E(A, C, R, true, w.length);
    }
    return E(w, C, N, false, w.length);
  }
  function T(C, w, N, L) {
    if (N === void 0 && (N = {}), L === void 0 && (L = 1 / 0), typeof C == "function")
      return S(w, C);
    var A = (0, c.groupSelectors)((0, a.parse)(C)), R = A[0], F = A[1], $ = F.map(function(K) {
      return E(w, K, N, true, L);
    });
    return R.length && $.push(O(w, R, N, L)), $.length === 0 ? [] : $.length === 1 ? $[0] : l.uniqueSort($.reduce(function(K, ie) {
      return o(o([], K, true), ie, true);
    }));
  }
  e13.select = T;
  function E(C, w, N, L, A) {
    var R = w.findIndex(f.isFilter), F = w.slice(0, R), $ = w[R], K = w.length - 1 === R ? A : 1 / 0, ie = (0, f.getLimit)($.name, $.data, K);
    if (ie === 0)
      return [];
    var J = F.length === 0 && !Array.isArray(C) ? l.getChildren(C).filter(l.isTag) : F.length === 0 ? (Array.isArray(C) ? C : [C]).filter(l.isTag) : L || F.some(a.isTraversal) ? O(C, [F], N, ie) : P(C, [F], N), pe = J.slice(0, ie), oe = v($.name, pe, $.data, N);
    if (oe.length === 0 || w.length === R + 1)
      return oe;
    var q = w.slice(R + 1), W = q.some(a.isTraversal);
    if (W) {
      if ((0, a.isTraversal)(q[0])) {
        var se = q[0].type;
        (se === a.SelectorType.Sibling || se === a.SelectorType.Adjacent) && (oe = (0, s.prepareContext)(oe, l, true)), q.unshift(d);
      }
      N = t(t({}, N), {
        // Avoid absolutizing the selector
        relativeSelector: false,
        /*
         * Add a custom root func, to make sure traversals don't match elements
         * that aren't a part of the considered tree.
         */
        rootFunc: function(Te) {
          return oe.includes(Te);
        }
      });
    } else N.rootFunc && N.rootFunc !== u.trueFunc && (N = t(t({}, N), {
      rootFunc: u.trueFunc
    }));
    return q.some(f.isFilter) ? E(oe, q, N, false, A) : W ? (
      // Query existing elements to resolve traversal.
      O(oe, [q], N, A)
    ) : (
      // If we don't have any more traversals, simply filter elements.
      P(oe, [q], N)
    );
  }
  function O(C, w, N, L) {
    var A = (0, s._compileToken)(w, N, C);
    return S(C, A, L);
  }
  function S(C, w, N) {
    N === void 0 && (N = 1 / 0);
    var L = (0, s.prepareContext)(C, l, w.shouldTestNextSiblings);
    return l.find(function(A) {
      return l.isTag(A) && w(A);
    }, L, true, N);
  }
  function P(C, w, N) {
    var L = (Array.isArray(C) ? C : [C]).filter(l.isTag);
    if (L.length === 0)
      return L;
    var A = (0, s._compileToken)(w, N);
    return A === u.trueFunc ? L : L.filter(A);
  }
})(f2);
var G0e = De && De.__createBinding || (Object.create ? function(e13, t, r, n) {
  n === void 0 && (n = r);
  var i = Object.getOwnPropertyDescriptor(t, r);
  (!i || ("get" in i ? !t.__esModule : i.writable || i.configurable)) && (i = {
    enumerable: true,
    get: function() {
      return t[r];
    }
  }), Object.defineProperty(e13, n, i);
} : function(e13, t, r, n) {
  n === void 0 && (n = r), e13[n] = t[r];
});
var z0e = De && De.__setModuleDefault || (Object.create ? function(e13, t) {
  Object.defineProperty(e13, "default", {
    enumerable: true,
    value: t
  });
} : function(e13, t) {
  e13.default = t;
});
var V0e = De && De.__importStar || function(e13) {
  if (e13 && e13.__esModule)
    return e13;
  var t = {};
  if (e13 != null)
    for (var r in e13)
      r !== "default" && Object.prototype.hasOwnProperty.call(e13, r) && G0e(t, e13, r);
  return z0e(t, e13), t;
};
var YP = De && De.__spreadArray || function(e13, t, r) {
  if (r || arguments.length === 2)
    for (var n = 0, i = t.length, o; n < i; n++)
      (o || !(n in t)) && (o || (o = Array.prototype.slice.call(t, 0, n)), o[n] = t[n]);
  return e13.concat(o || Array.prototype.slice.call(t));
};
Object.defineProperty(at, "__esModule", {
  value: true
});
at.addBack = at.add = at.end = at.slice = at.index = at.toArray = at.get = at.eq = at.last = at.first = at.has = at.not = at.is = at.filterArray = at.filter = at.map = at.each = at.contents = at.children = at.siblings = at.prevUntil = at.prevAll = at.prev = at.nextUntil = at.nextAll = at.next = at.closest = at.parentsUntil = at.parents = at.parent = at.find = void 0;
var B1 = ri;
var lp = V0e(f2);
var ea = ic;
var X0e = tn;
var Ha = Ko;
var W0e = /^\s*[~+]/;
function Y0e(e13) {
  var t;
  if (!e13)
    return this._make([]);
  var r = this.toArray();
  if (typeof e13 != "string") {
    var n = (0, ea.isCheerio)(e13) ? e13.toArray() : [e13];
    return this._make(n.filter(function(a) {
      return r.some(function(s) {
        return (0, X0e.contains)(s, a);
      });
    }));
  }
  var i = W0e.test(e13) ? r : this.children().toArray(), o = {
    context: r,
    root: (t = this._root) === null || t === void 0 ? void 0 : t[0],
    // Pass options that are recognized by `cheerio-select`
    xmlMode: this.options.xmlMode,
    lowerCaseTags: this.options.lowerCaseTags,
    lowerCaseAttributeNames: this.options.lowerCaseAttributeNames,
    pseudos: this.options.pseudos,
    quirksMode: this.options.quirksMode
  };
  return this._make(lp.select(e13, i, o));
}
at.find = Y0e;
function ON(e13) {
  return function(t) {
    for (var r = [], n = 1; n < arguments.length; n++)
      r[n - 1] = arguments[n];
    return function(i) {
      var o, a = e13(t, this);
      return i && (a = CN(a, i, this.options.xmlMode, (o = this._root) === null || o === void 0 ? void 0 : o[0])), this._make(
        // Post processing is only necessary if there is more than one element.
        this.length > 1 && a.length > 1 ? r.reduce(function(s, l) {
          return l(s);
        }, a) : a
      );
    };
  };
}
var Zv = ON(function(e13, t) {
  for (var r, n = [], i = 0; i < t.length; i++) {
    var o = e13(t[i]);
    n.push(o);
  }
  return (r = new Array()).concat.apply(r, n);
});
var IN = ON(function(e13, t) {
  for (var r = [], n = 0; n < t.length; n++) {
    var i = e13(t[n]);
    i !== null && r.push(i);
  }
  return r;
});
function PN(e13) {
  for (var t = [], r = 1; r < arguments.length; r++)
    t[r - 1] = arguments[r];
  var n = null, i = ON(function(o, a) {
    var s = [];
    return (0, ea.domEach)(a, function(l) {
      for (var u; (u = o(l)) && !(n == null ? void 0 : n(u, s.length)); l = u)
        s.push(u);
    }), s;
  }).apply(void 0, YP([e13], t, false));
  return function(o, a) {
    var s = this;
    n = typeof o == "string" ? function(u) {
      return lp.is(u, o, s.options);
    } : o ? Qv(o) : null;
    var l = i.call(this, a);
    return n = null, l;
  };
}
function cp(e13) {
  return Array.from(new Set(e13));
}
at.parent = IN(function(e13) {
  var t = e13.parent;
  return t && !(0, B1.isDocument)(t) ? t : null;
}, cp);
at.parents = Zv(function(e13) {
  for (var t = []; e13.parent && !(0, B1.isDocument)(e13.parent); )
    t.push(e13.parent), e13 = e13.parent;
  return t;
}, Ha.uniqueSort, function(e13) {
  return e13.reverse();
});
at.parentsUntil = PN(function(e13) {
  var t = e13.parent;
  return t && !(0, B1.isDocument)(t) ? t : null;
}, Ha.uniqueSort, function(e13) {
  return e13.reverse();
});
function q0e(e13) {
  var t, r = [];
  if (!e13)
    return this._make(r);
  var n = {
    xmlMode: this.options.xmlMode,
    root: (t = this._root) === null || t === void 0 ? void 0 : t[0]
  }, i = typeof e13 == "string" ? function(o) {
    return lp.is(o, e13, n);
  } : Qv(e13);
  return (0, ea.domEach)(this, function(o) {
    for (; o && (0, ea.isTag)(o); ) {
      if (i(o, 0)) {
        r.includes(o) || r.push(o);
        break;
      }
      o = o.parent;
    }
  }), this._make(r);
}
at.closest = q0e;
at.next = IN(function(e13) {
  return (0, Ha.nextElementSibling)(e13);
});
at.nextAll = Zv(function(e13) {
  for (var t = []; e13.next; )
    e13 = e13.next, (0, ea.isTag)(e13) && t.push(e13);
  return t;
}, cp);
at.nextUntil = PN(function(e13) {
  return (0, Ha.nextElementSibling)(e13);
}, cp);
at.prev = IN(function(e13) {
  return (0, Ha.prevElementSibling)(e13);
});
at.prevAll = Zv(function(e13) {
  for (var t = []; e13.prev; )
    e13 = e13.prev, (0, ea.isTag)(e13) && t.push(e13);
  return t;
}, cp);
at.prevUntil = PN(function(e13) {
  return (0, Ha.prevElementSibling)(e13);
}, cp);
at.siblings = Zv(function(e13) {
  return (0, Ha.getSiblings)(e13).filter(function(t) {
    return (0, ea.isTag)(t) && t !== e13;
  });
}, Ha.uniqueSort);
at.children = Zv(function(e13) {
  return (0, Ha.getChildren)(e13).filter(ea.isTag);
}, cp);
function K0e() {
  var e13 = this.toArray().reduce(function(t, r) {
    return (0, B1.hasChildren)(r) ? t.concat(r.children) : t;
  }, []);
  return this._make(e13);
}
at.contents = K0e;
function Z0e(e13) {
  for (var t = 0, r = this.length; t < r && e13.call(this[t], t, this[t]) !== false; )
    ++t;
  return this;
}
at.each = Z0e;
function Q0e(e13) {
  for (var t = [], r = 0; r < this.length; r++) {
    var n = this[r], i = e13.call(n, r, n);
    i != null && (t = t.concat(i));
  }
  return this._make(t);
}
at.map = Q0e;
function Qv(e13) {
  return typeof e13 == "function" ? function(t, r) {
    return e13.call(t, r, t);
  } : (0, ea.isCheerio)(e13) ? function(t) {
    return Array.prototype.includes.call(e13, t);
  } : function(t) {
    return e13 === t;
  };
}
function J0e(e13) {
  var t;
  return this._make(CN(this.toArray(), e13, this.options.xmlMode, (t = this._root) === null || t === void 0 ? void 0 : t[0]));
}
at.filter = J0e;
function CN(e13, t, r, n) {
  return typeof t == "string" ? lp.filter(t, e13, {
    xmlMode: r,
    root: n
  }) : e13.filter(Qv(t));
}
at.filterArray = CN;
function eTe(e13) {
  var t = this.toArray();
  return typeof e13 == "string" ? lp.some(t.filter(ea.isTag), e13, this.options) : e13 ? t.some(Qv(e13)) : false;
}
at.is = eTe;
function tTe(e13) {
  var t = this.toArray();
  if (typeof e13 == "string") {
    var r = new Set(lp.filter(e13, t, this.options));
    t = t.filter(function(i) {
      return !r.has(i);
    });
  } else {
    var n = Qv(e13);
    t = t.filter(function(i, o) {
      return !n(i, o);
    });
  }
  return this._make(t);
}
at.not = tTe;
function rTe(e13) {
  var t = this;
  return this.filter(typeof e13 == "string" ? (
    // Using the `:has` selector here short-circuits searches.
    ":has(".concat(e13, ")")
  ) : function(r, n) {
    return t._make(n).find(e13).length > 0;
  });
}
at.has = rTe;
function nTe() {
  return this.length > 1 ? this._make(this[0]) : this;
}
at.first = nTe;
function iTe() {
  return this.length > 0 ? this._make(this[this.length - 1]) : this;
}
at.last = iTe;
function oTe(e13) {
  var t;
  return e13 = +e13, e13 === 0 && this.length <= 1 ? this : (e13 < 0 && (e13 = this.length + e13), this._make((t = this[e13]) !== null && t !== void 0 ? t : []));
}
at.eq = oTe;
function aTe(e13) {
  return e13 == null ? this.toArray() : this[e13 < 0 ? this.length + e13 : e13];
}
at.get = aTe;
function sTe() {
  return Array.prototype.slice.call(this);
}
at.toArray = sTe;
function lTe(e13) {
  var t, r;
  return e13 == null ? (t = this.parent().children(), r = this[0]) : typeof e13 == "string" ? (t = this._make(e13), r = this[0]) : (t = this, r = (0, ea.isCheerio)(e13) ? e13[0] : e13), Array.prototype.indexOf.call(t, r);
}
at.index = lTe;
function cTe(e13, t) {
  return this._make(Array.prototype.slice.call(this, e13, t));
}
at.slice = cTe;
function uTe() {
  var e13;
  return (e13 = this.prevObject) !== null && e13 !== void 0 ? e13 : this._make([]);
}
at.end = uTe;
function hTe(e13, t) {
  var r = this._make(e13, t), n = (0, Ha.uniqueSort)(YP(YP([], this.get(), true), r.get(), true));
  return this._make(n);
}
at.add = hTe;
function fTe(e13) {
  return this.prevObject ? this.add(e13 ? this.prevObject.filter(e13) : this.prevObject) : this;
}
at.addBack = fTe;
var kt = {};
var _u = {};
Object.defineProperty(_u, "__esModule", {
  value: true
});
_u.update = _u.getParse = void 0;
var dTe = Ko;
var IH = ri;
function pTe(e13) {
  return function(r, n, i, o) {
    if (typeof Buffer < "u" && Buffer.isBuffer(r) && (r = r.toString()), typeof r == "string")
      return e13(r, n, i, o);
    var a = r;
    if (!Array.isArray(a) && (0, IH.isDocument)(a))
      return a;
    var s = new IH.Document([]);
    return O2(a, s), s;
  };
}
_u.getParse = pTe;
function O2(e13, t) {
  var r = Array.isArray(e13) ? e13 : [e13];
  t ? t.children = r : t = null;
  for (var n = 0; n < r.length; n++) {
    var i = r[n];
    i.parent && i.parent.children !== r && (0, dTe.removeElement)(i), t ? (i.prev = r[n - 1] || null, i.next = r[n + 1] || null) : i.prev = i.next = null, i.parent = t;
  }
  return t;
}
_u.update = O2;
var mTe = De && De.__spreadArray || function(e13, t, r) {
  if (r || arguments.length === 2)
    for (var n = 0, i = t.length, o; n < i; n++)
      (o || !(n in t)) && (o || (o = Array.prototype.slice.call(t, 0, n)), o[n] = t[n]);
  return e13.concat(o || Array.prototype.slice.call(t));
};
Object.defineProperty(kt, "__esModule", {
  value: true
});
kt.clone = kt.text = kt.toString = kt.html = kt.empty = kt.replaceWith = kt.remove = kt.insertBefore = kt.before = kt.insertAfter = kt.after = kt.wrapAll = kt.unwrap = kt.wrapInner = kt.wrap = kt.prepend = kt.append = kt.prependTo = kt.appendTo = kt._makeDomArray = void 0;
var Ua = ri;
var yd = _u;
var PH = tn;
var vn = ic;
var gTe = Ko;
function vTe(e13, t) {
  var r = this;
  return e13 == null ? [] : (0, vn.isCheerio)(e13) ? t ? (0, vn.cloneDom)(e13.get()) : e13.get() : Array.isArray(e13) ? e13.reduce(function(n, i) {
    return n.concat(r._makeDomArray(i, t));
  }, []) : typeof e13 == "string" ? this._parse(e13, this.options, false, null).children : t ? (0, vn.cloneDom)([e13]) : [e13];
}
kt._makeDomArray = vTe;
function I2(e13) {
  return function() {
    for (var t = this, r = [], n = 0; n < arguments.length; n++)
      r[n] = arguments[n];
    var i = this.length - 1;
    return (0, vn.domEach)(this, function(o, a) {
      if ((0, Ua.hasChildren)(o)) {
        var s = typeof r[0] == "function" ? r[0].call(o, a, t._render(o.children)) : r, l = t._makeDomArray(s, a < i);
        e13(l, o.children, o);
      }
    });
  };
}
function oc(e13, t, r, n, i) {
  for (var o, a, s = mTe([t, r], n, true), l = t === 0 ? null : e13[t - 1], u = t + r >= e13.length ? null : e13[t + r], c = 0; c < n.length; ++c) {
    var f = n[c], h = f.parent;
    if (h) {
      var d = h.children, p = d.indexOf(f);
      p > -1 && (h.children.splice(p, 1), i === h && t > p && s[0]--);
    }
    f.parent = i, f.prev && (f.prev.next = (o = f.next) !== null && o !== void 0 ? o : null), f.next && (f.next.prev = (a = f.prev) !== null && a !== void 0 ? a : null), f.prev = c === 0 ? l : n[c - 1], f.next = c === n.length - 1 ? u : n[c + 1];
  }
  return l && (l.next = n[0]), u && (u.prev = n[n.length - 1]), e13.splice.apply(e13, s);
}
function yTe(e13) {
  var t = (0, vn.isCheerio)(e13) ? e13 : this._make(e13);
  return t.append(this), this;
}
kt.appendTo = yTe;
function _Te(e13) {
  var t = (0, vn.isCheerio)(e13) ? e13 : this._make(e13);
  return t.prepend(this), this;
}
kt.prependTo = _Te;
kt.append = I2(function(e13, t, r) {
  oc(t, t.length, 0, e13, r);
});
kt.prepend = I2(function(e13, t, r) {
  oc(t, 0, 0, e13, r);
});
function P2(e13) {
  return function(t) {
    for (var r = this.length - 1, n = this.parents().last(), i = 0; i < this.length; i++) {
      var o = this[i], a = typeof t == "function" ? t.call(o, i, o) : typeof t == "string" && !(0, vn.isHtml)(t) ? n.find(t).clone() : t, s = this._makeDomArray(a, i < r)[0];
      if (!(!s || !(0, Ua.hasChildren)(s))) {
        for (var l = s, u = 0; u < l.children.length; ) {
          var c = l.children[u];
          (0, vn.isTag)(c) ? (l = c, u = 0) : u++;
        }
        e13(o, l, [s]);
      }
    }
    return this;
  };
}
kt.wrap = P2(function(e13, t, r) {
  var n = e13.parent;
  if (n) {
    var i = n.children, o = i.indexOf(e13);
    (0, yd.update)([e13], t), oc(i, o, 0, r, n);
  }
});
kt.wrapInner = P2(function(e13, t, r) {
  (0, Ua.hasChildren)(e13) && ((0, yd.update)(e13.children, t), (0, yd.update)(r, e13));
});
function bTe(e13) {
  var t = this;
  return this.parent(e13).not("body").each(function(r, n) {
    t._make(n).replaceWith(n.children);
  }), this;
}
kt.unwrap = bTe;
function TTe(e13) {
  var t = this[0];
  if (t) {
    for (var r = this._make(typeof e13 == "function" ? e13.call(t, 0, t) : e13).insertBefore(t), n = void 0, i = 0; i < r.length; i++)
      r[i].type === "tag" && (n = r[i]);
    for (var o = 0; n && o < n.children.length; ) {
      var a = n.children[o];
      a.type === "tag" ? (n = a, o = 0) : o++;
    }
    n && this._make(n).append(this);
  }
  return this;
}
kt.wrapAll = TTe;
function ETe() {
  for (var e13 = this, t = [], r = 0; r < arguments.length; r++)
    t[r] = arguments[r];
  var n = this.length - 1;
  return (0, vn.domEach)(this, function(i, o) {
    var a = i.parent;
    if (!(!(0, Ua.hasChildren)(i) || !a)) {
      var s = a.children, l = s.indexOf(i);
      if (!(l < 0)) {
        var u = typeof t[0] == "function" ? t[0].call(i, o, e13._render(i.children)) : t, c = e13._makeDomArray(u, o < n);
        oc(s, l + 1, 0, c, a);
      }
    }
  });
}
kt.after = ETe;
function STe(e13) {
  var t = this;
  typeof e13 == "string" && (e13 = this._make(e13)), this.remove();
  var r = [];
  return this._makeDomArray(e13).forEach(function(n) {
    var i = t.clone().toArray(), o = n.parent;
    if (o) {
      var a = o.children, s = a.indexOf(n);
      s < 0 || (oc(a, s + 1, 0, i, o), r.push.apply(r, i));
    }
  }), this._make(r);
}
kt.insertAfter = STe;
function wTe() {
  for (var e13 = this, t = [], r = 0; r < arguments.length; r++)
    t[r] = arguments[r];
  var n = this.length - 1;
  return (0, vn.domEach)(this, function(i, o) {
    var a = i.parent;
    if (!(!(0, Ua.hasChildren)(i) || !a)) {
      var s = a.children, l = s.indexOf(i);
      if (!(l < 0)) {
        var u = typeof t[0] == "function" ? t[0].call(i, o, e13._render(i.children)) : t, c = e13._makeDomArray(u, o < n);
        oc(s, l, 0, c, a);
      }
    }
  });
}
kt.before = wTe;
function ATe(e13) {
  var t = this, r = this._make(e13);
  this.remove();
  var n = [];
  return (0, vn.domEach)(r, function(i) {
    var o = t.clone().toArray(), a = i.parent;
    if (a) {
      var s = a.children, l = s.indexOf(i);
      l < 0 || (oc(s, l, 0, o, a), n.push.apply(n, o));
    }
  }), this._make(n);
}
kt.insertBefore = ATe;
function OTe(e13) {
  var t = e13 ? this.filter(e13) : this;
  return (0, vn.domEach)(t, function(r) {
    (0, gTe.removeElement)(r), r.prev = r.next = r.parent = null;
  }), this;
}
kt.remove = OTe;
function ITe(e13) {
  var t = this;
  return (0, vn.domEach)(this, function(r, n) {
    var i = r.parent;
    if (i) {
      var o = i.children, a = typeof e13 == "function" ? e13.call(r, n, r) : e13, s = t._makeDomArray(a);
      (0, yd.update)(s, null);
      var l = o.indexOf(r);
      oc(o, l, 1, s, i), s.includes(r) || (r.parent = r.prev = r.next = null);
    }
  });
}
kt.replaceWith = ITe;
function PTe() {
  return (0, vn.domEach)(this, function(e13) {
    (0, Ua.hasChildren)(e13) && (e13.children.forEach(function(t) {
      t.next = t.prev = t.parent = null;
    }), e13.children.length = 0);
  });
}
kt.empty = PTe;
function CTe(e13) {
  var t = this;
  if (e13 === void 0) {
    var r = this[0];
    return !r || !(0, Ua.hasChildren)(r) ? null : this._render(r.children);
  }
  return (0, vn.domEach)(this, function(n) {
    if ((0, Ua.hasChildren)(n)) {
      n.children.forEach(function(o) {
        o.next = o.prev = o.parent = null;
      });
      var i = (0, vn.isCheerio)(e13) ? e13.toArray() : t._parse("".concat(e13), t.options, false, n).children;
      (0, yd.update)(i, n);
    }
  });
}
kt.html = CTe;
function xTe() {
  return this._render(this);
}
kt.toString = xTe;
function kTe(e13) {
  var t = this;
  return e13 === void 0 ? (0, PH.text)(this) : typeof e13 == "function" ? (0, vn.domEach)(this, function(r, n) {
    return t._make(r).text(e13.call(r, n, (0, PH.text)([r])));
  }) : (0, vn.domEach)(this, function(r) {
    if ((0, Ua.hasChildren)(r)) {
      r.children.forEach(function(i) {
        i.next = i.prev = i.parent = null;
      });
      var n = new Ua.Text("".concat(e13));
      (0, yd.update)(n, r);
    }
  });
}
kt.text = kTe;
function DTe() {
  return this._make((0, vn.cloneDom)(this.get()));
}
kt.clone = DTe;
var F1 = {};
Object.defineProperty(F1, "__esModule", {
  value: true
});
F1.css = void 0;
var qP = ic;
function RTe(e13, t) {
  if (e13 != null && t != null || // When `prop` is a "plain" object
  typeof e13 == "object" && !Array.isArray(e13))
    return (0, qP.domEach)(this, function(r, n) {
      (0, qP.isTag)(r) && C2(r, e13, t, n);
    });
  if (this.length !== 0)
    return x2(this[0], e13);
}
F1.css = RTe;
function C2(e13, t, r, n) {
  if (typeof t == "string") {
    var i = x2(e13), o = typeof r == "function" ? r.call(e13, n, i[t]) : r;
    o === "" ? delete i[t] : o != null && (i[t] = o), e13.attribs.style = NTe(i);
  } else typeof t == "object" && Object.keys(t).forEach(function(a, s) {
    C2(e13, a, t[a], s);
  });
}
function x2(e13, t) {
  if (!(!e13 || !(0, qP.isTag)(e13))) {
    var r = MTe(e13.attribs.style);
    if (typeof t == "string")
      return r[t];
    if (Array.isArray(t)) {
      var n = {};
      return t.forEach(function(i) {
        r[i] != null && (n[i] = r[i]);
      }), n;
    }
    return r;
  }
}
function NTe(e13) {
  return Object.keys(e13).reduce(function(t, r) {
    return "".concat(t).concat(t ? " " : "").concat(r, ": ").concat(e13[r], ";");
  }, "");
}
function MTe(e13) {
  if (e13 = (e13 || "").trim(), !e13)
    return {};
  for (var t = {}, r, n = 0, i = e13.split(";"); n < i.length; n++) {
    var o = i[n], a = o.indexOf(":");
    if (a < 1 || a === o.length - 1) {
      var s = o.trimEnd();
      s.length > 0 && r !== void 0 && (t[r] += ";".concat(s));
    } else
      r = o.slice(0, a).trim(), t[r] = o.slice(a + 1).trim();
  }
  return t;
}
var _d = {};
Object.defineProperty(_d, "__esModule", {
  value: true
});
_d.serializeArray = _d.serialize = void 0;
var LTe = ic;
var CH = "input,select,textarea,keygen";
var BTe = /%20/g;
var xH = /\r?\n/g;
function FTe() {
  var e13 = this.serializeArray(), t = e13.map(function(r) {
    return "".concat(encodeURIComponent(r.name), "=").concat(encodeURIComponent(r.value));
  });
  return t.join("&").replace(BTe, "+");
}
_d.serialize = FTe;
function $Te() {
  var e13 = this;
  return this.map(function(t, r) {
    var n = e13._make(r);
    return (0, LTe.isTag)(r) && r.name === "form" ? n.find(CH).toArray() : n.filter(CH).toArray();
  }).filter(
    // Verify elements have a name (`attr.name`) and are not disabled (`:enabled`)
    '[name!=""]:enabled:not(:submit, :button, :image, :reset, :file):matches([checked], :not(:checkbox, :radio))'
    // Convert each of the elements to its value(s)
  ).map(function(t, r) {
    var n, i = e13._make(r), o = i.attr("name"), a = (n = i.val()) !== null && n !== void 0 ? n : "";
    return Array.isArray(a) ? a.map(function(s) {
      return {
        name: o,
        value: s.replace(xH, `\r
`)
      };
    }) : {
      name: o,
      value: a.replace(xH, `\r
`)
    };
  }).toArray();
}
_d.serializeArray = $Te;
var HTe = De && De.__createBinding || (Object.create ? function(e13, t, r, n) {
  n === void 0 && (n = r);
  var i = Object.getOwnPropertyDescriptor(t, r);
  (!i || ("get" in i ? !t.__esModule : i.writable || i.configurable)) && (i = {
    enumerable: true,
    get: function() {
      return t[r];
    }
  }), Object.defineProperty(e13, n, i);
} : function(e13, t, r, n) {
  n === void 0 && (n = r), e13[n] = t[r];
});
var UTe = De && De.__setModuleDefault || (Object.create ? function(e13, t) {
  Object.defineProperty(e13, "default", {
    enumerable: true,
    value: t
  });
} : function(e13, t) {
  e13.default = t;
});
var Jv = De && De.__importStar || function(e13) {
  if (e13 && e13.__esModule)
    return e13;
  var t = {};
  if (e13 != null)
    for (var r in e13)
      r !== "default" && Object.prototype.hasOwnProperty.call(e13, r) && HTe(t, e13, r);
  return UTe(t, e13), t;
};
Object.defineProperty(k1, "__esModule", {
  value: true
});
k1.Cheerio = void 0;
var jTe = Jv(nn);
var GTe = Jv(at);
var zTe = Jv(kt);
var VTe = Jv(F1);
var XTe = Jv(_d);
var ey = (
  /** @class */
  /* @__PURE__ */ function() {
    function e13(t, r, n) {
      if (this.length = 0, this.options = n, this._root = r, t) {
        for (var i = 0; i < t.length; i++)
          this[i] = t[i];
        this.length = t.length;
      }
    }
    return e13;
  }()
);
k1.Cheerio = ey;
ey.prototype.cheerio = "[cheerio object]";
ey.prototype.splice = Array.prototype.splice;
ey.prototype[Symbol.iterator] = Array.prototype[Symbol.iterator];
Object.assign(ey.prototype, jTe, GTe, zTe, VTe, XTe);
var WTe = De && De.__extends || /* @__PURE__ */ function() {
  var e13 = function(t, r) {
    return e13 = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function(n, i) {
      n.__proto__ = i;
    } || function(n, i) {
      for (var o in i)
        Object.prototype.hasOwnProperty.call(i, o) && (n[o] = i[o]);
    }, e13(t, r);
  };
  return function(t, r) {
    if (typeof r != "function" && r !== null)
      throw new TypeError("Class extends value " + String(r) + " is not a constructor or null");
    e13(t, r);
    function n() {
      this.constructor = t;
    }
    t.prototype = r === null ? Object.create(r) : (n.prototype = r.prototype, new n());
  };
}();
var mf = De && De.__assign || function() {
  return mf = Object.assign || function(e13) {
    for (var t, r = 1, n = arguments.length; r < n; r++) {
      t = arguments[r];
      for (var i in t)
        Object.prototype.hasOwnProperty.call(t, i) && (e13[i] = t[i]);
    }
    return e13;
  }, mf.apply(this, arguments);
};
var YTe = De && De.__createBinding || (Object.create ? function(e13, t, r, n) {
  n === void 0 && (n = r);
  var i = Object.getOwnPropertyDescriptor(t, r);
  (!i || ("get" in i ? !t.__esModule : i.writable || i.configurable)) && (i = {
    enumerable: true,
    get: function() {
      return t[r];
    }
  }), Object.defineProperty(e13, n, i);
} : function(e13, t, r, n) {
  n === void 0 && (n = r), e13[n] = t[r];
});
var qTe = De && De.__setModuleDefault || (Object.create ? function(e13, t) {
  Object.defineProperty(e13, "default", {
    enumerable: true,
    value: t
  });
} : function(e13, t) {
  e13.default = t;
});
var k2 = De && De.__importStar || function(e13) {
  if (e13 && e13.__esModule)
    return e13;
  var t = {};
  if (e13 != null)
    for (var r in e13)
      r !== "default" && Object.prototype.hasOwnProperty.call(e13, r) && YTe(t, e13, r);
  return qTe(t, e13), t;
};
Object.defineProperty(w1, "__esModule", {
  value: true
});
w1.getLoad = void 0;
var JA = k2(ip);
var KTe = k2(tn);
var ZTe = k1;
var qp = ic;
function QTe(e13, t) {
  return function r(n, i, o) {
    if (o === void 0 && (o = true), n == null)
      throw new Error("cheerio.load() expects a string");
    var a = mf(mf({}, JA.default), (0, JA.flatten)(i)), s = e13(n, a, o, null), l = (
      /** @class */
      function(c) {
        WTe(f, c);
        function f() {
          return c !== null && c.apply(this, arguments) || this;
        }
        return f.prototype._make = function(h, d) {
          var p = u(h, d);
          return p.prevObject = this, p;
        }, f.prototype._parse = function(h, d, p, m) {
          return e13(h, d, p, m);
        }, f.prototype._render = function(h) {
          return t(h, this.options);
        }, f;
      }(ZTe.Cheerio)
    );
    function u(c, f, h, d) {
      if (h === void 0 && (h = s), c && (0, qp.isCheerio)(c))
        return c;
      var p = mf(mf({}, a), (0, JA.flatten)(d)), m = typeof h == "string" ? [e13(h, p, false, null)] : "length" in h ? h : [h], g = (0, qp.isCheerio)(m) ? m : new l(m, null, p);
      if (g._root = g, !c)
        return new l(void 0, g, p);
      var v = typeof c == "string" && (0, qp.isHtml)(c) ? (
        // $(<html>)
        e13(c, p, false, null).children
      ) : JTe(c) ? (
        // $(dom)
        [c]
      ) : Array.isArray(c) ? (
        // $([dom])
        c
      ) : void 0, b = new l(v, g, p);
      if (v)
        return b;
      if (typeof c != "string")
        throw new Error("Unexpected type of selector");
      var y = c, _ = f ? typeof f == "string" ? (0, qp.isHtml)(f) ? (
        // $('li', '<ul>...</ul>')
        new l([e13(f, p, false, null)], g, p)
      ) : (
        // $('li', 'ul')
        (y = "".concat(f, " ").concat(y), g)
      ) : (0, qp.isCheerio)(f) ? (
        // $('li', $)
        f
      ) : (
        // $('li', node), $('li', [nodes])
        new l(Array.isArray(f) ? f : [f], g, p)
      ) : (
        // If we don't have a context, maybe we have a root, from loading
        g
      );
      return _ ? _.find(y) : b;
    }
    return Object.assign(u, KTe, {
      load: r,
      // `_root` and `_options` are used in static methods.
      _root: s,
      _options: a,
      // Add `fn` for plugins
      fn: l.prototype,
      // Add the prototype here to maintain `instanceof` behavior.
      prototype: l.prototype
    }), u;
  };
}
w1.getLoad = QTe;
function JTe(e13) {
  return !!e13.name || e13.type === "root" || e13.type === "text" || e13.type === "comment";
}
var bd = {};
var D2 = {};
var iv = {};
var bu = {};
var $1 = {};
var H1 = {};
(function(e13) {
  Object.defineProperty(e13, "__esModule", {
    value: true
  }), e13.isUndefinedCodePoint = e13.isControlCodePoint = e13.getSurrogatePairCodePoint = e13.isSurrogatePair = e13.isSurrogate = e13.SEQUENCES = e13.CODE_POINTS = e13.REPLACEMENT_CHARACTER = void 0;
  const t = /* @__PURE__ */ new Set([65534, 65535, 131070, 131071, 196606, 196607, 262142, 262143, 327678, 327679, 393214, 393215, 458750, 458751, 524286, 524287, 589822, 589823, 655358, 655359, 720894, 720895, 786430, 786431, 851966, 851967, 917502, 917503, 983038, 983039, 1048574, 1048575, 1114110, 1114111]);
  e13.REPLACEMENT_CHARACTER = "�", function(s) {
    s[s.EOF = -1] = "EOF", s[s.NULL = 0] = "NULL", s[s.TABULATION = 9] = "TABULATION", s[s.CARRIAGE_RETURN = 13] = "CARRIAGE_RETURN", s[s.LINE_FEED = 10] = "LINE_FEED", s[s.FORM_FEED = 12] = "FORM_FEED", s[s.SPACE = 32] = "SPACE", s[s.EXCLAMATION_MARK = 33] = "EXCLAMATION_MARK", s[s.QUOTATION_MARK = 34] = "QUOTATION_MARK", s[s.NUMBER_SIGN = 35] = "NUMBER_SIGN", s[s.AMPERSAND = 38] = "AMPERSAND", s[s.APOSTROPHE = 39] = "APOSTROPHE", s[s.HYPHEN_MINUS = 45] = "HYPHEN_MINUS", s[s.SOLIDUS = 47] = "SOLIDUS", s[s.DIGIT_0 = 48] = "DIGIT_0", s[s.DIGIT_9 = 57] = "DIGIT_9", s[s.SEMICOLON = 59] = "SEMICOLON", s[s.LESS_THAN_SIGN = 60] = "LESS_THAN_SIGN", s[s.EQUALS_SIGN = 61] = "EQUALS_SIGN", s[s.GREATER_THAN_SIGN = 62] = "GREATER_THAN_SIGN", s[s.QUESTION_MARK = 63] = "QUESTION_MARK", s[s.LATIN_CAPITAL_A = 65] = "LATIN_CAPITAL_A", s[s.LATIN_CAPITAL_F = 70] = "LATIN_CAPITAL_F", s[s.LATIN_CAPITAL_X = 88] = "LATIN_CAPITAL_X", s[s.LATIN_CAPITAL_Z = 90] = "LATIN_CAPITAL_Z", s[s.RIGHT_SQUARE_BRACKET = 93] = "RIGHT_SQUARE_BRACKET", s[s.GRAVE_ACCENT = 96] = "GRAVE_ACCENT", s[s.LATIN_SMALL_A = 97] = "LATIN_SMALL_A", s[s.LATIN_SMALL_F = 102] = "LATIN_SMALL_F", s[s.LATIN_SMALL_X = 120] = "LATIN_SMALL_X", s[s.LATIN_SMALL_Z = 122] = "LATIN_SMALL_Z", s[s.REPLACEMENT_CHARACTER = 65533] = "REPLACEMENT_CHARACTER";
  }(e13.CODE_POINTS || (e13.CODE_POINTS = {})), e13.SEQUENCES = {
    DASH_DASH: "--",
    CDATA_START: "[CDATA[",
    DOCTYPE: "doctype",
    SCRIPT: "script",
    PUBLIC: "public",
    SYSTEM: "system"
  };
  function r(s) {
    return s >= 55296 && s <= 57343;
  }
  e13.isSurrogate = r;
  function n(s) {
    return s >= 56320 && s <= 57343;
  }
  e13.isSurrogatePair = n;
  function i(s, l) {
    return (s - 55296) * 1024 + 9216 + l;
  }
  e13.getSurrogatePairCodePoint = i;
  function o(s) {
    return s !== 32 && s !== 10 && s !== 13 && s !== 9 && s !== 12 && s >= 1 && s <= 31 || s >= 127 && s <= 159;
  }
  e13.isControlCodePoint = o;
  function a(s) {
    return s >= 64976 && s <= 65007 || t.has(s);
  }
  e13.isUndefinedCodePoint = a;
})(H1);
var ty = {};
(function(e13) {
  Object.defineProperty(e13, "__esModule", {
    value: true
  }), e13.ERR = void 0, function(t) {
    t.controlCharacterInInputStream = "control-character-in-input-stream", t.noncharacterInInputStream = "noncharacter-in-input-stream", t.surrogateInInputStream = "surrogate-in-input-stream", t.nonVoidHtmlElementStartTagWithTrailingSolidus = "non-void-html-element-start-tag-with-trailing-solidus", t.endTagWithAttributes = "end-tag-with-attributes", t.endTagWithTrailingSolidus = "end-tag-with-trailing-solidus", t.unexpectedSolidusInTag = "unexpected-solidus-in-tag", t.unexpectedNullCharacter = "unexpected-null-character", t.unexpectedQuestionMarkInsteadOfTagName = "unexpected-question-mark-instead-of-tag-name", t.invalidFirstCharacterOfTagName = "invalid-first-character-of-tag-name", t.unexpectedEqualsSignBeforeAttributeName = "unexpected-equals-sign-before-attribute-name", t.missingEndTagName = "missing-end-tag-name", t.unexpectedCharacterInAttributeName = "unexpected-character-in-attribute-name", t.unknownNamedCharacterReference = "unknown-named-character-reference", t.missingSemicolonAfterCharacterReference = "missing-semicolon-after-character-reference", t.unexpectedCharacterAfterDoctypeSystemIdentifier = "unexpected-character-after-doctype-system-identifier", t.unexpectedCharacterInUnquotedAttributeValue = "unexpected-character-in-unquoted-attribute-value", t.eofBeforeTagName = "eof-before-tag-name", t.eofInTag = "eof-in-tag", t.missingAttributeValue = "missing-attribute-value", t.missingWhitespaceBetweenAttributes = "missing-whitespace-between-attributes", t.missingWhitespaceAfterDoctypePublicKeyword = "missing-whitespace-after-doctype-public-keyword", t.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers = "missing-whitespace-between-doctype-public-and-system-identifiers", t.missingWhitespaceAfterDoctypeSystemKeyword = "missing-whitespace-after-doctype-system-keyword", t.missingQuoteBeforeDoctypePublicIdentifier = "missing-quote-before-doctype-public-identifier", t.missingQuoteBeforeDoctypeSystemIdentifier = "missing-quote-before-doctype-system-identifier", t.missingDoctypePublicIdentifier = "missing-doctype-public-identifier", t.missingDoctypeSystemIdentifier = "missing-doctype-system-identifier", t.abruptDoctypePublicIdentifier = "abrupt-doctype-public-identifier", t.abruptDoctypeSystemIdentifier = "abrupt-doctype-system-identifier", t.cdataInHtmlContent = "cdata-in-html-content", t.incorrectlyOpenedComment = "incorrectly-opened-comment", t.eofInScriptHtmlCommentLikeText = "eof-in-script-html-comment-like-text", t.eofInDoctype = "eof-in-doctype", t.nestedComment = "nested-comment", t.abruptClosingOfEmptyComment = "abrupt-closing-of-empty-comment", t.eofInComment = "eof-in-comment", t.incorrectlyClosedComment = "incorrectly-closed-comment", t.eofInCdata = "eof-in-cdata", t.absenceOfDigitsInNumericCharacterReference = "absence-of-digits-in-numeric-character-reference", t.nullCharacterReference = "null-character-reference", t.surrogateCharacterReference = "surrogate-character-reference", t.characterReferenceOutsideUnicodeRange = "character-reference-outside-unicode-range", t.controlCharacterReference = "control-character-reference", t.noncharacterCharacterReference = "noncharacter-character-reference", t.missingWhitespaceBeforeDoctypeName = "missing-whitespace-before-doctype-name", t.missingDoctypeName = "missing-doctype-name", t.invalidCharacterSequenceAfterDoctypeName = "invalid-character-sequence-after-doctype-name", t.duplicateAttribute = "duplicate-attribute", t.nonConformingDoctype = "non-conforming-doctype", t.missingDoctype = "missing-doctype", t.misplacedDoctype = "misplaced-doctype", t.endTagWithoutMatchingOpenElement = "end-tag-without-matching-open-element", t.closingOfElementWithOpenChildElements = "closing-of-element-with-open-child-elements", t.disallowedContentInNoscriptInHead = "disallowed-content-in-noscript-in-head", t.openElementsLeftAfterEof = "open-elements-left-after-eof", t.abandonedHeadElementChild = "abandoned-head-element-child", t.misplacedStartTagForHeadElement = "misplaced-start-tag-for-head-element", t.nestedNoscriptInHead = "nested-noscript-in-head", t.eofInElementThatCanContainOnlyText = "eof-in-element-that-can-contain-only-text";
  }(e13.ERR || (e13.ERR = {}));
})(ty);
function eEe(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function tEe(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, nEe(n.key), n);
  }
}
function rEe(e13, t, r) {
  return t && tEe(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function nEe(e13) {
  var t = iEe(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function iEe(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
Object.defineProperty($1, "__esModule", {
  value: true
});
$1.Preprocessor = void 0;
var ai = H1;
var eO = ty;
var oEe = 65536;
var aEe = function() {
  function e13(t) {
    eEe(this, e13), this.handler = t, this.html = "", this.pos = -1, this.lastGapPos = -2, this.gapStack = [], this.skipNextNewLine = false, this.lastChunkWritten = false, this.endOfChunkHit = false, this.bufferWaterline = oEe, this.isEol = false, this.lineStartPos = 0, this.droppedBufferSize = 0, this.line = 1, this.lastErrOffset = -1;
  }
  return rEe(e13, [{
    key: "col",
    get: function() {
      return this.pos - this.lineStartPos + +(this.lastGapPos !== this.pos);
    }
  }, {
    key: "offset",
    get: function() {
      return this.droppedBufferSize + this.pos;
    }
  }, {
    key: "getError",
    value: function(r) {
      const {
        line: n,
        col: i,
        offset: o
      } = this;
      return {
        code: r,
        startLine: n,
        endLine: n,
        startCol: i,
        endCol: i,
        startOffset: o,
        endOffset: o
      };
    }
  }, {
    key: "_err",
    value: function(r) {
      this.handler.onParseError && this.lastErrOffset !== this.offset && (this.lastErrOffset = this.offset, this.handler.onParseError(this.getError(r)));
    }
  }, {
    key: "_addGap",
    value: function() {
      this.gapStack.push(this.lastGapPos), this.lastGapPos = this.pos;
    }
  }, {
    key: "_processSurrogate",
    value: function(r) {
      if (this.pos !== this.html.length - 1) {
        const n = this.html.charCodeAt(this.pos + 1);
        if ((0, ai.isSurrogatePair)(n))
          return this.pos++, this._addGap(), (0, ai.getSurrogatePairCodePoint)(r, n);
      } else if (!this.lastChunkWritten)
        return this.endOfChunkHit = true, ai.CODE_POINTS.EOF;
      return this._err(eO.ERR.surrogateInInputStream), r;
    }
  }, {
    key: "willDropParsedChunk",
    value: function() {
      return this.pos > this.bufferWaterline;
    }
  }, {
    key: "dropParsedChunk",
    value: function() {
      this.willDropParsedChunk() && (this.html = this.html.substring(this.pos), this.lineStartPos -= this.pos, this.droppedBufferSize += this.pos, this.pos = 0, this.lastGapPos = -2, this.gapStack.length = 0);
    }
  }, {
    key: "write",
    value: function(r, n) {
      this.html.length > 0 ? this.html += r : this.html = r, this.endOfChunkHit = false, this.lastChunkWritten = n;
    }
  }, {
    key: "insertHtmlAtCurrentPos",
    value: function(r) {
      this.html = this.html.substring(0, this.pos + 1) + r + this.html.substring(this.pos + 1), this.endOfChunkHit = false;
    }
  }, {
    key: "startsWith",
    value: function(r, n) {
      if (this.pos + r.length > this.html.length)
        return this.endOfChunkHit = !this.lastChunkWritten, false;
      if (n)
        return this.html.startsWith(r, this.pos);
      for (let i = 0; i < r.length; i++)
        if ((this.html.charCodeAt(this.pos + i) | 32) !== r.charCodeAt(i))
          return false;
      return true;
    }
  }, {
    key: "peek",
    value: function(r) {
      const n = this.pos + r;
      if (n >= this.html.length)
        return this.endOfChunkHit = !this.lastChunkWritten, ai.CODE_POINTS.EOF;
      const i = this.html.charCodeAt(n);
      return i === ai.CODE_POINTS.CARRIAGE_RETURN ? ai.CODE_POINTS.LINE_FEED : i;
    }
  }, {
    key: "advance",
    value: function() {
      if (this.pos++, this.isEol && (this.isEol = false, this.line++, this.lineStartPos = this.pos), this.pos >= this.html.length)
        return this.endOfChunkHit = !this.lastChunkWritten, ai.CODE_POINTS.EOF;
      let r = this.html.charCodeAt(this.pos);
      return r === ai.CODE_POINTS.CARRIAGE_RETURN ? (this.isEol = true, this.skipNextNewLine = true, ai.CODE_POINTS.LINE_FEED) : r === ai.CODE_POINTS.LINE_FEED && (this.isEol = true, this.skipNextNewLine) ? (this.line--, this.skipNextNewLine = false, this._addGap(), this.advance()) : (this.skipNextNewLine = false, (0, ai.isSurrogate)(r) && (r = this._processSurrogate(r)), this.handler.onParseError === null || r > 31 && r < 127 || r === ai.CODE_POINTS.LINE_FEED || r === ai.CODE_POINTS.CARRIAGE_RETURN || r > 159 && r < 64976 || this._checkForProblematicCharacters(r), r);
    }
  }, {
    key: "_checkForProblematicCharacters",
    value: function(r) {
      (0, ai.isControlCodePoint)(r) ? this._err(eO.ERR.controlCharacterInInputStream) : (0, ai.isUndefinedCodePoint)(r) && this._err(eO.ERR.noncharacterInInputStream);
    }
  }, {
    key: "retreat",
    value: function(r) {
      for (this.pos -= r; this.pos < this.lastGapPos; )
        this.lastGapPos = this.gapStack.pop(), this.pos--;
      this.isEol = false;
    }
  }]), e13;
}();
$1.Preprocessor = aEe;
var U1 = {};
(function(e13) {
  Object.defineProperty(e13, "__esModule", {
    value: true
  }), e13.getTokenAttr = e13.TokenType = void 0, function(r) {
    r[r.CHARACTER = 0] = "CHARACTER", r[r.NULL_CHARACTER = 1] = "NULL_CHARACTER", r[r.WHITESPACE_CHARACTER = 2] = "WHITESPACE_CHARACTER", r[r.START_TAG = 3] = "START_TAG", r[r.END_TAG = 4] = "END_TAG", r[r.COMMENT = 5] = "COMMENT", r[r.DOCTYPE = 6] = "DOCTYPE", r[r.EOF = 7] = "EOF", r[r.HIBERNATION = 8] = "HIBERNATION";
  }(e13.TokenType || (e13.TokenType = {}));
  function t(r, n) {
    for (let i = r.attrs.length - 1; i >= 0; i--)
      if (r.attrs[i].name === n)
        return r.attrs[i].value;
    return null;
  }
  e13.getTokenAttr = t;
})(U1);
var Xs = {};
(function(e13) {
  Object.defineProperty(e13, "__esModule", {
    value: true
  }), e13.hasUnescapedText = e13.isNumberedHeader = e13.SPECIAL_ELEMENTS = e13.getTagID = e13.TAG_ID = e13.TAG_NAMES = e13.DOCUMENT_MODE = e13.ATTRS = e13.NS = void 0;
  var t;
  (function(c) {
    c.HTML = "http://www.w3.org/1999/xhtml", c.MATHML = "http://www.w3.org/1998/Math/MathML", c.SVG = "http://www.w3.org/2000/svg", c.XLINK = "http://www.w3.org/1999/xlink", c.XML = "http://www.w3.org/XML/1998/namespace", c.XMLNS = "http://www.w3.org/2000/xmlns/";
  })(t = e13.NS || (e13.NS = {})), function(c) {
    c.TYPE = "type", c.ACTION = "action", c.ENCODING = "encoding", c.PROMPT = "prompt", c.NAME = "name", c.COLOR = "color", c.FACE = "face", c.SIZE = "size";
  }(e13.ATTRS || (e13.ATTRS = {})), function(c) {
    c.NO_QUIRKS = "no-quirks", c.QUIRKS = "quirks", c.LIMITED_QUIRKS = "limited-quirks";
  }(e13.DOCUMENT_MODE || (e13.DOCUMENT_MODE = {}));
  var r;
  (function(c) {
    c.A = "a", c.ADDRESS = "address", c.ANNOTATION_XML = "annotation-xml", c.APPLET = "applet", c.AREA = "area", c.ARTICLE = "article", c.ASIDE = "aside", c.B = "b", c.BASE = "base", c.BASEFONT = "basefont", c.BGSOUND = "bgsound", c.BIG = "big", c.BLOCKQUOTE = "blockquote", c.BODY = "body", c.BR = "br", c.BUTTON = "button", c.CAPTION = "caption", c.CENTER = "center", c.CODE = "code", c.COL = "col", c.COLGROUP = "colgroup", c.DD = "dd", c.DESC = "desc", c.DETAILS = "details", c.DIALOG = "dialog", c.DIR = "dir", c.DIV = "div", c.DL = "dl", c.DT = "dt", c.EM = "em", c.EMBED = "embed", c.FIELDSET = "fieldset", c.FIGCAPTION = "figcaption", c.FIGURE = "figure", c.FONT = "font", c.FOOTER = "footer", c.FOREIGN_OBJECT = "foreignObject", c.FORM = "form", c.FRAME = "frame", c.FRAMESET = "frameset", c.H1 = "h1", c.H2 = "h2", c.H3 = "h3", c.H4 = "h4", c.H5 = "h5", c.H6 = "h6", c.HEAD = "head", c.HEADER = "header", c.HGROUP = "hgroup", c.HR = "hr", c.HTML = "html", c.I = "i", c.IMG = "img", c.IMAGE = "image", c.INPUT = "input", c.IFRAME = "iframe", c.KEYGEN = "keygen", c.LABEL = "label", c.LI = "li", c.LINK = "link", c.LISTING = "listing", c.MAIN = "main", c.MALIGNMARK = "malignmark", c.MARQUEE = "marquee", c.MATH = "math", c.MENU = "menu", c.META = "meta", c.MGLYPH = "mglyph", c.MI = "mi", c.MO = "mo", c.MN = "mn", c.MS = "ms", c.MTEXT = "mtext", c.NAV = "nav", c.NOBR = "nobr", c.NOFRAMES = "noframes", c.NOEMBED = "noembed", c.NOSCRIPT = "noscript", c.OBJECT = "object", c.OL = "ol", c.OPTGROUP = "optgroup", c.OPTION = "option", c.P = "p", c.PARAM = "param", c.PLAINTEXT = "plaintext", c.PRE = "pre", c.RB = "rb", c.RP = "rp", c.RT = "rt", c.RTC = "rtc", c.RUBY = "ruby", c.S = "s", c.SCRIPT = "script", c.SECTION = "section", c.SELECT = "select", c.SOURCE = "source", c.SMALL = "small", c.SPAN = "span", c.STRIKE = "strike", c.STRONG = "strong", c.STYLE = "style", c.SUB = "sub", c.SUMMARY = "summary", c.SUP = "sup", c.TABLE = "table", c.TBODY = "tbody", c.TEMPLATE = "template", c.TEXTAREA = "textarea", c.TFOOT = "tfoot", c.TD = "td", c.TH = "th", c.THEAD = "thead", c.TITLE = "title", c.TR = "tr", c.TRACK = "track", c.TT = "tt", c.U = "u", c.UL = "ul", c.SVG = "svg", c.VAR = "var", c.WBR = "wbr", c.XMP = "xmp";
  })(r = e13.TAG_NAMES || (e13.TAG_NAMES = {}));
  var n;
  (function(c) {
    c[c.UNKNOWN = 0] = "UNKNOWN", c[c.A = 1] = "A", c[c.ADDRESS = 2] = "ADDRESS", c[c.ANNOTATION_XML = 3] = "ANNOTATION_XML", c[c.APPLET = 4] = "APPLET", c[c.AREA = 5] = "AREA", c[c.ARTICLE = 6] = "ARTICLE", c[c.ASIDE = 7] = "ASIDE", c[c.B = 8] = "B", c[c.BASE = 9] = "BASE", c[c.BASEFONT = 10] = "BASEFONT", c[c.BGSOUND = 11] = "BGSOUND", c[c.BIG = 12] = "BIG", c[c.BLOCKQUOTE = 13] = "BLOCKQUOTE", c[c.BODY = 14] = "BODY", c[c.BR = 15] = "BR", c[c.BUTTON = 16] = "BUTTON", c[c.CAPTION = 17] = "CAPTION", c[c.CENTER = 18] = "CENTER", c[c.CODE = 19] = "CODE", c[c.COL = 20] = "COL", c[c.COLGROUP = 21] = "COLGROUP", c[c.DD = 22] = "DD", c[c.DESC = 23] = "DESC", c[c.DETAILS = 24] = "DETAILS", c[c.DIALOG = 25] = "DIALOG", c[c.DIR = 26] = "DIR", c[c.DIV = 27] = "DIV", c[c.DL = 28] = "DL", c[c.DT = 29] = "DT", c[c.EM = 30] = "EM", c[c.EMBED = 31] = "EMBED", c[c.FIELDSET = 32] = "FIELDSET", c[c.FIGCAPTION = 33] = "FIGCAPTION", c[c.FIGURE = 34] = "FIGURE", c[c.FONT = 35] = "FONT", c[c.FOOTER = 36] = "FOOTER", c[c.FOREIGN_OBJECT = 37] = "FOREIGN_OBJECT", c[c.FORM = 38] = "FORM", c[c.FRAME = 39] = "FRAME", c[c.FRAMESET = 40] = "FRAMESET", c[c.H1 = 41] = "H1", c[c.H2 = 42] = "H2", c[c.H3 = 43] = "H3", c[c.H4 = 44] = "H4", c[c.H5 = 45] = "H5", c[c.H6 = 46] = "H6", c[c.HEAD = 47] = "HEAD", c[c.HEADER = 48] = "HEADER", c[c.HGROUP = 49] = "HGROUP", c[c.HR = 50] = "HR", c[c.HTML = 51] = "HTML", c[c.I = 52] = "I", c[c.IMG = 53] = "IMG", c[c.IMAGE = 54] = "IMAGE", c[c.INPUT = 55] = "INPUT", c[c.IFRAME = 56] = "IFRAME", c[c.KEYGEN = 57] = "KEYGEN", c[c.LABEL = 58] = "LABEL", c[c.LI = 59] = "LI", c[c.LINK = 60] = "LINK", c[c.LISTING = 61] = "LISTING", c[c.MAIN = 62] = "MAIN", c[c.MALIGNMARK = 63] = "MALIGNMARK", c[c.MARQUEE = 64] = "MARQUEE", c[c.MATH = 65] = "MATH", c[c.MENU = 66] = "MENU", c[c.META = 67] = "META", c[c.MGLYPH = 68] = "MGLYPH", c[c.MI = 69] = "MI", c[c.MO = 70] = "MO", c[c.MN = 71] = "MN", c[c.MS = 72] = "MS", c[c.MTEXT = 73] = "MTEXT", c[c.NAV = 74] = "NAV", c[c.NOBR = 75] = "NOBR", c[c.NOFRAMES = 76] = "NOFRAMES", c[c.NOEMBED = 77] = "NOEMBED", c[c.NOSCRIPT = 78] = "NOSCRIPT", c[c.OBJECT = 79] = "OBJECT", c[c.OL = 80] = "OL", c[c.OPTGROUP = 81] = "OPTGROUP", c[c.OPTION = 82] = "OPTION", c[c.P = 83] = "P", c[c.PARAM = 84] = "PARAM", c[c.PLAINTEXT = 85] = "PLAINTEXT", c[c.PRE = 86] = "PRE", c[c.RB = 87] = "RB", c[c.RP = 88] = "RP", c[c.RT = 89] = "RT", c[c.RTC = 90] = "RTC", c[c.RUBY = 91] = "RUBY", c[c.S = 92] = "S", c[c.SCRIPT = 93] = "SCRIPT", c[c.SECTION = 94] = "SECTION", c[c.SELECT = 95] = "SELECT", c[c.SOURCE = 96] = "SOURCE", c[c.SMALL = 97] = "SMALL", c[c.SPAN = 98] = "SPAN", c[c.STRIKE = 99] = "STRIKE", c[c.STRONG = 100] = "STRONG", c[c.STYLE = 101] = "STYLE", c[c.SUB = 102] = "SUB", c[c.SUMMARY = 103] = "SUMMARY", c[c.SUP = 104] = "SUP", c[c.TABLE = 105] = "TABLE", c[c.TBODY = 106] = "TBODY", c[c.TEMPLATE = 107] = "TEMPLATE", c[c.TEXTAREA = 108] = "TEXTAREA", c[c.TFOOT = 109] = "TFOOT", c[c.TD = 110] = "TD", c[c.TH = 111] = "TH", c[c.THEAD = 112] = "THEAD", c[c.TITLE = 113] = "TITLE", c[c.TR = 114] = "TR", c[c.TRACK = 115] = "TRACK", c[c.TT = 116] = "TT", c[c.U = 117] = "U", c[c.UL = 118] = "UL", c[c.SVG = 119] = "SVG", c[c.VAR = 120] = "VAR", c[c.WBR = 121] = "WBR", c[c.XMP = 122] = "XMP";
  })(n = e13.TAG_ID || (e13.TAG_ID = {}));
  const i = /* @__PURE__ */ new Map([[r.A, n.A], [r.ADDRESS, n.ADDRESS], [r.ANNOTATION_XML, n.ANNOTATION_XML], [r.APPLET, n.APPLET], [r.AREA, n.AREA], [r.ARTICLE, n.ARTICLE], [r.ASIDE, n.ASIDE], [r.B, n.B], [r.BASE, n.BASE], [r.BASEFONT, n.BASEFONT], [r.BGSOUND, n.BGSOUND], [r.BIG, n.BIG], [r.BLOCKQUOTE, n.BLOCKQUOTE], [r.BODY, n.BODY], [r.BR, n.BR], [r.BUTTON, n.BUTTON], [r.CAPTION, n.CAPTION], [r.CENTER, n.CENTER], [r.CODE, n.CODE], [r.COL, n.COL], [r.COLGROUP, n.COLGROUP], [r.DD, n.DD], [r.DESC, n.DESC], [r.DETAILS, n.DETAILS], [r.DIALOG, n.DIALOG], [r.DIR, n.DIR], [r.DIV, n.DIV], [r.DL, n.DL], [r.DT, n.DT], [r.EM, n.EM], [r.EMBED, n.EMBED], [r.FIELDSET, n.FIELDSET], [r.FIGCAPTION, n.FIGCAPTION], [r.FIGURE, n.FIGURE], [r.FONT, n.FONT], [r.FOOTER, n.FOOTER], [r.FOREIGN_OBJECT, n.FOREIGN_OBJECT], [r.FORM, n.FORM], [r.FRAME, n.FRAME], [r.FRAMESET, n.FRAMESET], [r.H1, n.H1], [r.H2, n.H2], [r.H3, n.H3], [r.H4, n.H4], [r.H5, n.H5], [r.H6, n.H6], [r.HEAD, n.HEAD], [r.HEADER, n.HEADER], [r.HGROUP, n.HGROUP], [r.HR, n.HR], [r.HTML, n.HTML], [r.I, n.I], [r.IMG, n.IMG], [r.IMAGE, n.IMAGE], [r.INPUT, n.INPUT], [r.IFRAME, n.IFRAME], [r.KEYGEN, n.KEYGEN], [r.LABEL, n.LABEL], [r.LI, n.LI], [r.LINK, n.LINK], [r.LISTING, n.LISTING], [r.MAIN, n.MAIN], [r.MALIGNMARK, n.MALIGNMARK], [r.MARQUEE, n.MARQUEE], [r.MATH, n.MATH], [r.MENU, n.MENU], [r.META, n.META], [r.MGLYPH, n.MGLYPH], [r.MI, n.MI], [r.MO, n.MO], [r.MN, n.MN], [r.MS, n.MS], [r.MTEXT, n.MTEXT], [r.NAV, n.NAV], [r.NOBR, n.NOBR], [r.NOFRAMES, n.NOFRAMES], [r.NOEMBED, n.NOEMBED], [r.NOSCRIPT, n.NOSCRIPT], [r.OBJECT, n.OBJECT], [r.OL, n.OL], [r.OPTGROUP, n.OPTGROUP], [r.OPTION, n.OPTION], [r.P, n.P], [r.PARAM, n.PARAM], [r.PLAINTEXT, n.PLAINTEXT], [r.PRE, n.PRE], [r.RB, n.RB], [r.RP, n.RP], [r.RT, n.RT], [r.RTC, n.RTC], [r.RUBY, n.RUBY], [r.S, n.S], [r.SCRIPT, n.SCRIPT], [r.SECTION, n.SECTION], [r.SELECT, n.SELECT], [r.SOURCE, n.SOURCE], [r.SMALL, n.SMALL], [r.SPAN, n.SPAN], [r.STRIKE, n.STRIKE], [r.STRONG, n.STRONG], [r.STYLE, n.STYLE], [r.SUB, n.SUB], [r.SUMMARY, n.SUMMARY], [r.SUP, n.SUP], [r.TABLE, n.TABLE], [r.TBODY, n.TBODY], [r.TEMPLATE, n.TEMPLATE], [r.TEXTAREA, n.TEXTAREA], [r.TFOOT, n.TFOOT], [r.TD, n.TD], [r.TH, n.TH], [r.THEAD, n.THEAD], [r.TITLE, n.TITLE], [r.TR, n.TR], [r.TRACK, n.TRACK], [r.TT, n.TT], [r.U, n.U], [r.UL, n.UL], [r.SVG, n.SVG], [r.VAR, n.VAR], [r.WBR, n.WBR], [r.XMP, n.XMP]]);
  function o(c) {
    var f;
    return (f = i.get(c)) !== null && f !== void 0 ? f : n.UNKNOWN;
  }
  e13.getTagID = o;
  const a = n;
  e13.SPECIAL_ELEMENTS = {
    [t.HTML]: /* @__PURE__ */ new Set([a.ADDRESS, a.APPLET, a.AREA, a.ARTICLE, a.ASIDE, a.BASE, a.BASEFONT, a.BGSOUND, a.BLOCKQUOTE, a.BODY, a.BR, a.BUTTON, a.CAPTION, a.CENTER, a.COL, a.COLGROUP, a.DD, a.DETAILS, a.DIR, a.DIV, a.DL, a.DT, a.EMBED, a.FIELDSET, a.FIGCAPTION, a.FIGURE, a.FOOTER, a.FORM, a.FRAME, a.FRAMESET, a.H1, a.H2, a.H3, a.H4, a.H5, a.H6, a.HEAD, a.HEADER, a.HGROUP, a.HR, a.HTML, a.IFRAME, a.IMG, a.INPUT, a.LI, a.LINK, a.LISTING, a.MAIN, a.MARQUEE, a.MENU, a.META, a.NAV, a.NOEMBED, a.NOFRAMES, a.NOSCRIPT, a.OBJECT, a.OL, a.P, a.PARAM, a.PLAINTEXT, a.PRE, a.SCRIPT, a.SECTION, a.SELECT, a.SOURCE, a.STYLE, a.SUMMARY, a.TABLE, a.TBODY, a.TD, a.TEMPLATE, a.TEXTAREA, a.TFOOT, a.TH, a.THEAD, a.TITLE, a.TR, a.TRACK, a.UL, a.WBR, a.XMP]),
    [t.MATHML]: /* @__PURE__ */ new Set([a.MI, a.MO, a.MN, a.MS, a.MTEXT, a.ANNOTATION_XML]),
    [t.SVG]: /* @__PURE__ */ new Set([a.TITLE, a.FOREIGN_OBJECT, a.DESC]),
    [t.XLINK]: /* @__PURE__ */ new Set(),
    [t.XML]: /* @__PURE__ */ new Set(),
    [t.XMLNS]: /* @__PURE__ */ new Set()
  };
  function s(c) {
    return c === a.H1 || c === a.H2 || c === a.H3 || c === a.H4 || c === a.H5 || c === a.H6;
  }
  e13.isNumberedHeader = s;
  const l = /* @__PURE__ */ new Set([r.STYLE, r.SCRIPT, r.XMP, r.IFRAME, r.NOEMBED, r.NOFRAMES, r.PLAINTEXT]);
  function u(c, f) {
    return l.has(c) || f && c === r.NOSCRIPT;
  }
  e13.hasUnescapedText = u;
})(Xs);
function sEe(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function lEe(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, uEe(n.key), n);
  }
}
function cEe(e13, t, r) {
  return t && lEe(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function uEe(e13) {
  var t = hEe(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function hEe(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
Object.defineProperty(bu, "__esModule", {
  value: true
});
bu.Tokenizer = bu.TokenizerMode = void 0;
var fEe = $1;
var V = H1;
var Ii = U1;
var ua = vu;
var Le = ty;
var tO = Xs;
var dEe = /* @__PURE__ */ new Map([[128, 8364], [130, 8218], [131, 402], [132, 8222], [133, 8230], [134, 8224], [135, 8225], [136, 710], [137, 8240], [138, 352], [139, 8249], [140, 338], [142, 381], [145, 8216], [146, 8217], [147, 8220], [148, 8221], [149, 8226], [150, 8211], [151, 8212], [152, 732], [153, 8482], [154, 353], [155, 8250], [156, 339], [158, 382], [159, 376]]);
var te;
(function(e13) {
  e13[e13.DATA = 0] = "DATA", e13[e13.RCDATA = 1] = "RCDATA", e13[e13.RAWTEXT = 2] = "RAWTEXT", e13[e13.SCRIPT_DATA = 3] = "SCRIPT_DATA", e13[e13.PLAINTEXT = 4] = "PLAINTEXT", e13[e13.TAG_OPEN = 5] = "TAG_OPEN", e13[e13.END_TAG_OPEN = 6] = "END_TAG_OPEN", e13[e13.TAG_NAME = 7] = "TAG_NAME", e13[e13.RCDATA_LESS_THAN_SIGN = 8] = "RCDATA_LESS_THAN_SIGN", e13[e13.RCDATA_END_TAG_OPEN = 9] = "RCDATA_END_TAG_OPEN", e13[e13.RCDATA_END_TAG_NAME = 10] = "RCDATA_END_TAG_NAME", e13[e13.RAWTEXT_LESS_THAN_SIGN = 11] = "RAWTEXT_LESS_THAN_SIGN", e13[e13.RAWTEXT_END_TAG_OPEN = 12] = "RAWTEXT_END_TAG_OPEN", e13[e13.RAWTEXT_END_TAG_NAME = 13] = "RAWTEXT_END_TAG_NAME", e13[e13.SCRIPT_DATA_LESS_THAN_SIGN = 14] = "SCRIPT_DATA_LESS_THAN_SIGN", e13[e13.SCRIPT_DATA_END_TAG_OPEN = 15] = "SCRIPT_DATA_END_TAG_OPEN", e13[e13.SCRIPT_DATA_END_TAG_NAME = 16] = "SCRIPT_DATA_END_TAG_NAME", e13[e13.SCRIPT_DATA_ESCAPE_START = 17] = "SCRIPT_DATA_ESCAPE_START", e13[e13.SCRIPT_DATA_ESCAPE_START_DASH = 18] = "SCRIPT_DATA_ESCAPE_START_DASH", e13[e13.SCRIPT_DATA_ESCAPED = 19] = "SCRIPT_DATA_ESCAPED", e13[e13.SCRIPT_DATA_ESCAPED_DASH = 20] = "SCRIPT_DATA_ESCAPED_DASH", e13[e13.SCRIPT_DATA_ESCAPED_DASH_DASH = 21] = "SCRIPT_DATA_ESCAPED_DASH_DASH", e13[e13.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN = 22] = "SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN", e13[e13.SCRIPT_DATA_ESCAPED_END_TAG_OPEN = 23] = "SCRIPT_DATA_ESCAPED_END_TAG_OPEN", e13[e13.SCRIPT_DATA_ESCAPED_END_TAG_NAME = 24] = "SCRIPT_DATA_ESCAPED_END_TAG_NAME", e13[e13.SCRIPT_DATA_DOUBLE_ESCAPE_START = 25] = "SCRIPT_DATA_DOUBLE_ESCAPE_START", e13[e13.SCRIPT_DATA_DOUBLE_ESCAPED = 26] = "SCRIPT_DATA_DOUBLE_ESCAPED", e13[e13.SCRIPT_DATA_DOUBLE_ESCAPED_DASH = 27] = "SCRIPT_DATA_DOUBLE_ESCAPED_DASH", e13[e13.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH = 28] = "SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH", e13[e13.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN = 29] = "SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN", e13[e13.SCRIPT_DATA_DOUBLE_ESCAPE_END = 30] = "SCRIPT_DATA_DOUBLE_ESCAPE_END", e13[e13.BEFORE_ATTRIBUTE_NAME = 31] = "BEFORE_ATTRIBUTE_NAME", e13[e13.ATTRIBUTE_NAME = 32] = "ATTRIBUTE_NAME", e13[e13.AFTER_ATTRIBUTE_NAME = 33] = "AFTER_ATTRIBUTE_NAME", e13[e13.BEFORE_ATTRIBUTE_VALUE = 34] = "BEFORE_ATTRIBUTE_VALUE", e13[e13.ATTRIBUTE_VALUE_DOUBLE_QUOTED = 35] = "ATTRIBUTE_VALUE_DOUBLE_QUOTED", e13[e13.ATTRIBUTE_VALUE_SINGLE_QUOTED = 36] = "ATTRIBUTE_VALUE_SINGLE_QUOTED", e13[e13.ATTRIBUTE_VALUE_UNQUOTED = 37] = "ATTRIBUTE_VALUE_UNQUOTED", e13[e13.AFTER_ATTRIBUTE_VALUE_QUOTED = 38] = "AFTER_ATTRIBUTE_VALUE_QUOTED", e13[e13.SELF_CLOSING_START_TAG = 39] = "SELF_CLOSING_START_TAG", e13[e13.BOGUS_COMMENT = 40] = "BOGUS_COMMENT", e13[e13.MARKUP_DECLARATION_OPEN = 41] = "MARKUP_DECLARATION_OPEN", e13[e13.COMMENT_START = 42] = "COMMENT_START", e13[e13.COMMENT_START_DASH = 43] = "COMMENT_START_DASH", e13[e13.COMMENT = 44] = "COMMENT", e13[e13.COMMENT_LESS_THAN_SIGN = 45] = "COMMENT_LESS_THAN_SIGN", e13[e13.COMMENT_LESS_THAN_SIGN_BANG = 46] = "COMMENT_LESS_THAN_SIGN_BANG", e13[e13.COMMENT_LESS_THAN_SIGN_BANG_DASH = 47] = "COMMENT_LESS_THAN_SIGN_BANG_DASH", e13[e13.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH = 48] = "COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH", e13[e13.COMMENT_END_DASH = 49] = "COMMENT_END_DASH", e13[e13.COMMENT_END = 50] = "COMMENT_END", e13[e13.COMMENT_END_BANG = 51] = "COMMENT_END_BANG", e13[e13.DOCTYPE = 52] = "DOCTYPE", e13[e13.BEFORE_DOCTYPE_NAME = 53] = "BEFORE_DOCTYPE_NAME", e13[e13.DOCTYPE_NAME = 54] = "DOCTYPE_NAME", e13[e13.AFTER_DOCTYPE_NAME = 55] = "AFTER_DOCTYPE_NAME", e13[e13.AFTER_DOCTYPE_PUBLIC_KEYWORD = 56] = "AFTER_DOCTYPE_PUBLIC_KEYWORD", e13[e13.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER = 57] = "BEFORE_DOCTYPE_PUBLIC_IDENTIFIER", e13[e13.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED = 58] = "DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED", e13[e13.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED = 59] = "DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED", e13[e13.AFTER_DOCTYPE_PUBLIC_IDENTIFIER = 60] = "AFTER_DOCTYPE_PUBLIC_IDENTIFIER", e13[e13.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS = 61] = "BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS", e13[e13.AFTER_DOCTYPE_SYSTEM_KEYWORD = 62] = "AFTER_DOCTYPE_SYSTEM_KEYWORD", e13[e13.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER = 63] = "BEFORE_DOCTYPE_SYSTEM_IDENTIFIER", e13[e13.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED = 64] = "DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED", e13[e13.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED = 65] = "DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED", e13[e13.AFTER_DOCTYPE_SYSTEM_IDENTIFIER = 66] = "AFTER_DOCTYPE_SYSTEM_IDENTIFIER", e13[e13.BOGUS_DOCTYPE = 67] = "BOGUS_DOCTYPE", e13[e13.CDATA_SECTION = 68] = "CDATA_SECTION", e13[e13.CDATA_SECTION_BRACKET = 69] = "CDATA_SECTION_BRACKET", e13[e13.CDATA_SECTION_END = 70] = "CDATA_SECTION_END", e13[e13.CHARACTER_REFERENCE = 71] = "CHARACTER_REFERENCE", e13[e13.NAMED_CHARACTER_REFERENCE = 72] = "NAMED_CHARACTER_REFERENCE", e13[e13.AMBIGUOUS_AMPERSAND = 73] = "AMBIGUOUS_AMPERSAND", e13[e13.NUMERIC_CHARACTER_REFERENCE = 74] = "NUMERIC_CHARACTER_REFERENCE", e13[e13.HEXADEMICAL_CHARACTER_REFERENCE_START = 75] = "HEXADEMICAL_CHARACTER_REFERENCE_START", e13[e13.HEXADEMICAL_CHARACTER_REFERENCE = 76] = "HEXADEMICAL_CHARACTER_REFERENCE", e13[e13.DECIMAL_CHARACTER_REFERENCE = 77] = "DECIMAL_CHARACTER_REFERENCE", e13[e13.NUMERIC_CHARACTER_REFERENCE_END = 78] = "NUMERIC_CHARACTER_REFERENCE_END";
})(te || (te = {}));
bu.TokenizerMode = {
  DATA: te.DATA,
  RCDATA: te.RCDATA,
  RAWTEXT: te.RAWTEXT,
  SCRIPT_DATA: te.SCRIPT_DATA,
  PLAINTEXT: te.PLAINTEXT,
  CDATA_SECTION: te.CDATA_SECTION
};
function tg(e13) {
  return e13 >= V.CODE_POINTS.DIGIT_0 && e13 <= V.CODE_POINTS.DIGIT_9;
}
function wm(e13) {
  return e13 >= V.CODE_POINTS.LATIN_CAPITAL_A && e13 <= V.CODE_POINTS.LATIN_CAPITAL_Z;
}
function pEe(e13) {
  return e13 >= V.CODE_POINTS.LATIN_SMALL_A && e13 <= V.CODE_POINTS.LATIN_SMALL_Z;
}
function cl(e13) {
  return pEe(e13) || wm(e13);
}
function KP(e13) {
  return cl(e13) || tg(e13);
}
function R2(e13) {
  return e13 >= V.CODE_POINTS.LATIN_CAPITAL_A && e13 <= V.CODE_POINTS.LATIN_CAPITAL_F;
}
function N2(e13) {
  return e13 >= V.CODE_POINTS.LATIN_SMALL_A && e13 <= V.CODE_POINTS.LATIN_SMALL_F;
}
function mEe(e13) {
  return tg(e13) || R2(e13) || N2(e13);
}
function s_(e13) {
  return e13 + 32;
}
function M2(e13) {
  return e13 === V.CODE_POINTS.SPACE || e13 === V.CODE_POINTS.LINE_FEED || e13 === V.CODE_POINTS.TABULATION || e13 === V.CODE_POINTS.FORM_FEED;
}
function gEe(e13) {
  return e13 === V.CODE_POINTS.EQUALS_SIGN || KP(e13);
}
function kH(e13) {
  return M2(e13) || e13 === V.CODE_POINTS.SOLIDUS || e13 === V.CODE_POINTS.GREATER_THAN_SIGN;
}
var vEe = function() {
  function e13(t, r) {
    sEe(this, e13), this.options = t, this.handler = r, this.paused = false, this.inLoop = false, this.inForeignNode = false, this.lastStartTagName = "", this.active = false, this.state = te.DATA, this.returnState = te.DATA, this.charRefCode = -1, this.consumedAfterSnapshot = -1, this.currentCharacterToken = null, this.currentToken = null, this.currentAttr = {
      name: "",
      value: ""
    }, this.preprocessor = new fEe.Preprocessor(r), this.currentLocation = this.getCurrentLocation(-1);
  }
  return cEe(e13, [{
    key: "_err",
    value: function(r) {
      var n, i;
      (i = (n = this.handler).onParseError) === null || i === void 0 || i.call(n, this.preprocessor.getError(r));
    }
    // NOTE: `offset` may never run across line boundaries.
  }, {
    key: "getCurrentLocation",
    value: function(r) {
      return this.options.sourceCodeLocationInfo ? {
        startLine: this.preprocessor.line,
        startCol: this.preprocessor.col - r,
        startOffset: this.preprocessor.offset - r,
        endLine: -1,
        endCol: -1,
        endOffset: -1
      } : null;
    }
  }, {
    key: "_runParsingLoop",
    value: function() {
      if (!this.inLoop) {
        for (this.inLoop = true; this.active && !this.paused; ) {
          this.consumedAfterSnapshot = 0;
          const r = this._consume();
          this._ensureHibernation() || this._callState(r);
        }
        this.inLoop = false;
      }
    }
    //API
  }, {
    key: "pause",
    value: function() {
      this.paused = true;
    }
  }, {
    key: "resume",
    value: function(r) {
      if (!this.paused)
        throw new Error("Parser was already resumed");
      this.paused = false, !this.inLoop && (this._runParsingLoop(), this.paused || (r == null ? void 0 : r()));
    }
  }, {
    key: "write",
    value: function(r, n, i) {
      this.active = true, this.preprocessor.write(r, n), this._runParsingLoop(), this.paused || (i == null ? void 0 : i());
    }
  }, {
    key: "insertHtmlAtCurrentPos",
    value: function(r) {
      this.active = true, this.preprocessor.insertHtmlAtCurrentPos(r), this._runParsingLoop();
    }
    //Hibernation
  }, {
    key: "_ensureHibernation",
    value: function() {
      return this.preprocessor.endOfChunkHit ? (this._unconsume(this.consumedAfterSnapshot), this.active = false, true) : false;
    }
    //Consumption
  }, {
    key: "_consume",
    value: function() {
      return this.consumedAfterSnapshot++, this.preprocessor.advance();
    }
  }, {
    key: "_unconsume",
    value: function(r) {
      this.consumedAfterSnapshot -= r, this.preprocessor.retreat(r);
    }
  }, {
    key: "_reconsumeInState",
    value: function(r, n) {
      this.state = r, this._callState(n);
    }
  }, {
    key: "_advanceBy",
    value: function(r) {
      this.consumedAfterSnapshot += r;
      for (let n = 0; n < r; n++)
        this.preprocessor.advance();
    }
  }, {
    key: "_consumeSequenceIfMatch",
    value: function(r, n) {
      return this.preprocessor.startsWith(r, n) ? (this._advanceBy(r.length - 1), true) : false;
    }
    //Token creation
  }, {
    key: "_createStartTagToken",
    value: function() {
      this.currentToken = {
        type: Ii.TokenType.START_TAG,
        tagName: "",
        tagID: tO.TAG_ID.UNKNOWN,
        selfClosing: false,
        ackSelfClosing: false,
        attrs: [],
        location: this.getCurrentLocation(1)
      };
    }
  }, {
    key: "_createEndTagToken",
    value: function() {
      this.currentToken = {
        type: Ii.TokenType.END_TAG,
        tagName: "",
        tagID: tO.TAG_ID.UNKNOWN,
        selfClosing: false,
        ackSelfClosing: false,
        attrs: [],
        location: this.getCurrentLocation(2)
      };
    }
  }, {
    key: "_createCommentToken",
    value: function(r) {
      this.currentToken = {
        type: Ii.TokenType.COMMENT,
        data: "",
        location: this.getCurrentLocation(r)
      };
    }
  }, {
    key: "_createDoctypeToken",
    value: function(r) {
      this.currentToken = {
        type: Ii.TokenType.DOCTYPE,
        name: r,
        forceQuirks: false,
        publicId: null,
        systemId: null,
        location: this.currentLocation
      };
    }
  }, {
    key: "_createCharacterToken",
    value: function(r, n) {
      this.currentCharacterToken = {
        type: r,
        chars: n,
        location: this.currentLocation
      };
    }
    //Tag attributes
  }, {
    key: "_createAttr",
    value: function(r) {
      this.currentAttr = {
        name: r,
        value: ""
      }, this.currentLocation = this.getCurrentLocation(0);
    }
  }, {
    key: "_leaveAttrName",
    value: function() {
      var r, n;
      const i = this.currentToken;
      if ((0, Ii.getTokenAttr)(i, this.currentAttr.name) === null) {
        if (i.attrs.push(this.currentAttr), i.location && this.currentLocation) {
          const o = (r = (n = i.location).attrs) !== null && r !== void 0 ? r : n.attrs = /* @__PURE__ */ Object.create(null);
          o[this.currentAttr.name] = this.currentLocation, this._leaveAttrValue();
        }
      } else
        this._err(Le.ERR.duplicateAttribute);
    }
  }, {
    key: "_leaveAttrValue",
    value: function() {
      this.currentLocation && (this.currentLocation.endLine = this.preprocessor.line, this.currentLocation.endCol = this.preprocessor.col, this.currentLocation.endOffset = this.preprocessor.offset);
    }
    //Token emission
  }, {
    key: "prepareToken",
    value: function(r) {
      this._emitCurrentCharacterToken(r.location), this.currentToken = null, r.location && (r.location.endLine = this.preprocessor.line, r.location.endCol = this.preprocessor.col + 1, r.location.endOffset = this.preprocessor.offset + 1), this.currentLocation = this.getCurrentLocation(-1);
    }
  }, {
    key: "emitCurrentTagToken",
    value: function() {
      const r = this.currentToken;
      this.prepareToken(r), r.tagID = (0, tO.getTagID)(r.tagName), r.type === Ii.TokenType.START_TAG ? (this.lastStartTagName = r.tagName, this.handler.onStartTag(r)) : (r.attrs.length > 0 && this._err(Le.ERR.endTagWithAttributes), r.selfClosing && this._err(Le.ERR.endTagWithTrailingSolidus), this.handler.onEndTag(r)), this.preprocessor.dropParsedChunk();
    }
  }, {
    key: "emitCurrentComment",
    value: function(r) {
      this.prepareToken(r), this.handler.onComment(r), this.preprocessor.dropParsedChunk();
    }
  }, {
    key: "emitCurrentDoctype",
    value: function(r) {
      this.prepareToken(r), this.handler.onDoctype(r), this.preprocessor.dropParsedChunk();
    }
  }, {
    key: "_emitCurrentCharacterToken",
    value: function(r) {
      if (this.currentCharacterToken) {
        switch (r && this.currentCharacterToken.location && (this.currentCharacterToken.location.endLine = r.startLine, this.currentCharacterToken.location.endCol = r.startCol, this.currentCharacterToken.location.endOffset = r.startOffset), this.currentCharacterToken.type) {
          case Ii.TokenType.CHARACTER: {
            this.handler.onCharacter(this.currentCharacterToken);
            break;
          }
          case Ii.TokenType.NULL_CHARACTER: {
            this.handler.onNullCharacter(this.currentCharacterToken);
            break;
          }
          case Ii.TokenType.WHITESPACE_CHARACTER: {
            this.handler.onWhitespaceCharacter(this.currentCharacterToken);
            break;
          }
        }
        this.currentCharacterToken = null;
      }
    }
  }, {
    key: "_emitEOFToken",
    value: function() {
      const r = this.getCurrentLocation(0);
      r && (r.endLine = r.startLine, r.endCol = r.startCol, r.endOffset = r.startOffset), this._emitCurrentCharacterToken(r), this.handler.onEof({
        type: Ii.TokenType.EOF,
        location: r
      }), this.active = false;
    }
    //Characters emission
    //OPTIMIZATION: specification uses only one type of character tokens (one token per character).
    //This causes a huge memory overhead and a lot of unnecessary parser loops. parse5 uses 3 groups of characters.
    //If we have a sequence of characters that belong to the same group, the parser can process it
    //as a single solid character token.
    //So, there are 3 types of character tokens in parse5:
    //1)TokenType.NULL_CHARACTER - \u0000-character sequences (e.g. '\u0000\u0000\u0000')
    //2)TokenType.WHITESPACE_CHARACTER - any whitespace/new-line character sequences (e.g. '\n  \r\t   \f')
    //3)TokenType.CHARACTER - any character sequence which don't belong to groups 1 and 2 (e.g. 'abcdef1234@@#$%^')
  }, {
    key: "_appendCharToCurrentCharacterToken",
    value: function(r, n) {
      if (this.currentCharacterToken)
        if (this.currentCharacterToken.type !== r)
          this.currentLocation = this.getCurrentLocation(0), this._emitCurrentCharacterToken(this.currentLocation), this.preprocessor.dropParsedChunk();
        else {
          this.currentCharacterToken.chars += n;
          return;
        }
      this._createCharacterToken(r, n);
    }
  }, {
    key: "_emitCodePoint",
    value: function(r) {
      const n = M2(r) ? Ii.TokenType.WHITESPACE_CHARACTER : r === V.CODE_POINTS.NULL ? Ii.TokenType.NULL_CHARACTER : Ii.TokenType.CHARACTER;
      this._appendCharToCurrentCharacterToken(n, String.fromCodePoint(r));
    }
    //NOTE: used when we emit characters explicitly.
    //This is always for non-whitespace and non-null characters, which allows us to avoid additional checks.
  }, {
    key: "_emitChars",
    value: function(r) {
      this._appendCharToCurrentCharacterToken(Ii.TokenType.CHARACTER, r);
    }
    // Character reference helpers
  }, {
    key: "_matchNamedCharacterReference",
    value: function(r) {
      let n = null, i = 0, o = false;
      for (let a = 0, s = ua.htmlDecodeTree[0]; a >= 0 && (a = (0, ua.determineBranch)(ua.htmlDecodeTree, s, a + 1, r), !(a < 0)); r = this._consume()) {
        i += 1, s = ua.htmlDecodeTree[a];
        const l = s & ua.BinTrieFlags.VALUE_LENGTH;
        if (l) {
          const u = (l >> 14) - 1;
          if (r !== V.CODE_POINTS.SEMICOLON && this._isCharacterReferenceInAttribute() && gEe(this.preprocessor.peek(1)) ? (n = [V.CODE_POINTS.AMPERSAND], a += u) : (n = u === 0 ? [ua.htmlDecodeTree[a] & ~ua.BinTrieFlags.VALUE_LENGTH] : u === 1 ? [ua.htmlDecodeTree[++a]] : [ua.htmlDecodeTree[++a], ua.htmlDecodeTree[++a]], i = 0, o = r !== V.CODE_POINTS.SEMICOLON), u === 0) {
            this._consume();
            break;
          }
        }
      }
      return this._unconsume(i), o && !this.preprocessor.endOfChunkHit && this._err(Le.ERR.missingSemicolonAfterCharacterReference), this._unconsume(1), n;
    }
  }, {
    key: "_isCharacterReferenceInAttribute",
    value: function() {
      return this.returnState === te.ATTRIBUTE_VALUE_DOUBLE_QUOTED || this.returnState === te.ATTRIBUTE_VALUE_SINGLE_QUOTED || this.returnState === te.ATTRIBUTE_VALUE_UNQUOTED;
    }
  }, {
    key: "_flushCodePointConsumedAsCharacterReference",
    value: function(r) {
      this._isCharacterReferenceInAttribute() ? this.currentAttr.value += String.fromCodePoint(r) : this._emitCodePoint(r);
    }
    // Calling states this way turns out to be much faster than any other approach.
  }, {
    key: "_callState",
    value: function(r) {
      switch (this.state) {
        case te.DATA: {
          this._stateData(r);
          break;
        }
        case te.RCDATA: {
          this._stateRcdata(r);
          break;
        }
        case te.RAWTEXT: {
          this._stateRawtext(r);
          break;
        }
        case te.SCRIPT_DATA: {
          this._stateScriptData(r);
          break;
        }
        case te.PLAINTEXT: {
          this._statePlaintext(r);
          break;
        }
        case te.TAG_OPEN: {
          this._stateTagOpen(r);
          break;
        }
        case te.END_TAG_OPEN: {
          this._stateEndTagOpen(r);
          break;
        }
        case te.TAG_NAME: {
          this._stateTagName(r);
          break;
        }
        case te.RCDATA_LESS_THAN_SIGN: {
          this._stateRcdataLessThanSign(r);
          break;
        }
        case te.RCDATA_END_TAG_OPEN: {
          this._stateRcdataEndTagOpen(r);
          break;
        }
        case te.RCDATA_END_TAG_NAME: {
          this._stateRcdataEndTagName(r);
          break;
        }
        case te.RAWTEXT_LESS_THAN_SIGN: {
          this._stateRawtextLessThanSign(r);
          break;
        }
        case te.RAWTEXT_END_TAG_OPEN: {
          this._stateRawtextEndTagOpen(r);
          break;
        }
        case te.RAWTEXT_END_TAG_NAME: {
          this._stateRawtextEndTagName(r);
          break;
        }
        case te.SCRIPT_DATA_LESS_THAN_SIGN: {
          this._stateScriptDataLessThanSign(r);
          break;
        }
        case te.SCRIPT_DATA_END_TAG_OPEN: {
          this._stateScriptDataEndTagOpen(r);
          break;
        }
        case te.SCRIPT_DATA_END_TAG_NAME: {
          this._stateScriptDataEndTagName(r);
          break;
        }
        case te.SCRIPT_DATA_ESCAPE_START: {
          this._stateScriptDataEscapeStart(r);
          break;
        }
        case te.SCRIPT_DATA_ESCAPE_START_DASH: {
          this._stateScriptDataEscapeStartDash(r);
          break;
        }
        case te.SCRIPT_DATA_ESCAPED: {
          this._stateScriptDataEscaped(r);
          break;
        }
        case te.SCRIPT_DATA_ESCAPED_DASH: {
          this._stateScriptDataEscapedDash(r);
          break;
        }
        case te.SCRIPT_DATA_ESCAPED_DASH_DASH: {
          this._stateScriptDataEscapedDashDash(r);
          break;
        }
        case te.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN: {
          this._stateScriptDataEscapedLessThanSign(r);
          break;
        }
        case te.SCRIPT_DATA_ESCAPED_END_TAG_OPEN: {
          this._stateScriptDataEscapedEndTagOpen(r);
          break;
        }
        case te.SCRIPT_DATA_ESCAPED_END_TAG_NAME: {
          this._stateScriptDataEscapedEndTagName(r);
          break;
        }
        case te.SCRIPT_DATA_DOUBLE_ESCAPE_START: {
          this._stateScriptDataDoubleEscapeStart(r);
          break;
        }
        case te.SCRIPT_DATA_DOUBLE_ESCAPED: {
          this._stateScriptDataDoubleEscaped(r);
          break;
        }
        case te.SCRIPT_DATA_DOUBLE_ESCAPED_DASH: {
          this._stateScriptDataDoubleEscapedDash(r);
          break;
        }
        case te.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH: {
          this._stateScriptDataDoubleEscapedDashDash(r);
          break;
        }
        case te.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN: {
          this._stateScriptDataDoubleEscapedLessThanSign(r);
          break;
        }
        case te.SCRIPT_DATA_DOUBLE_ESCAPE_END: {
          this._stateScriptDataDoubleEscapeEnd(r);
          break;
        }
        case te.BEFORE_ATTRIBUTE_NAME: {
          this._stateBeforeAttributeName(r);
          break;
        }
        case te.ATTRIBUTE_NAME: {
          this._stateAttributeName(r);
          break;
        }
        case te.AFTER_ATTRIBUTE_NAME: {
          this._stateAfterAttributeName(r);
          break;
        }
        case te.BEFORE_ATTRIBUTE_VALUE: {
          this._stateBeforeAttributeValue(r);
          break;
        }
        case te.ATTRIBUTE_VALUE_DOUBLE_QUOTED: {
          this._stateAttributeValueDoubleQuoted(r);
          break;
        }
        case te.ATTRIBUTE_VALUE_SINGLE_QUOTED: {
          this._stateAttributeValueSingleQuoted(r);
          break;
        }
        case te.ATTRIBUTE_VALUE_UNQUOTED: {
          this._stateAttributeValueUnquoted(r);
          break;
        }
        case te.AFTER_ATTRIBUTE_VALUE_QUOTED: {
          this._stateAfterAttributeValueQuoted(r);
          break;
        }
        case te.SELF_CLOSING_START_TAG: {
          this._stateSelfClosingStartTag(r);
          break;
        }
        case te.BOGUS_COMMENT: {
          this._stateBogusComment(r);
          break;
        }
        case te.MARKUP_DECLARATION_OPEN: {
          this._stateMarkupDeclarationOpen(r);
          break;
        }
        case te.COMMENT_START: {
          this._stateCommentStart(r);
          break;
        }
        case te.COMMENT_START_DASH: {
          this._stateCommentStartDash(r);
          break;
        }
        case te.COMMENT: {
          this._stateComment(r);
          break;
        }
        case te.COMMENT_LESS_THAN_SIGN: {
          this._stateCommentLessThanSign(r);
          break;
        }
        case te.COMMENT_LESS_THAN_SIGN_BANG: {
          this._stateCommentLessThanSignBang(r);
          break;
        }
        case te.COMMENT_LESS_THAN_SIGN_BANG_DASH: {
          this._stateCommentLessThanSignBangDash(r);
          break;
        }
        case te.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH: {
          this._stateCommentLessThanSignBangDashDash(r);
          break;
        }
        case te.COMMENT_END_DASH: {
          this._stateCommentEndDash(r);
          break;
        }
        case te.COMMENT_END: {
          this._stateCommentEnd(r);
          break;
        }
        case te.COMMENT_END_BANG: {
          this._stateCommentEndBang(r);
          break;
        }
        case te.DOCTYPE: {
          this._stateDoctype(r);
          break;
        }
        case te.BEFORE_DOCTYPE_NAME: {
          this._stateBeforeDoctypeName(r);
          break;
        }
        case te.DOCTYPE_NAME: {
          this._stateDoctypeName(r);
          break;
        }
        case te.AFTER_DOCTYPE_NAME: {
          this._stateAfterDoctypeName(r);
          break;
        }
        case te.AFTER_DOCTYPE_PUBLIC_KEYWORD: {
          this._stateAfterDoctypePublicKeyword(r);
          break;
        }
        case te.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER: {
          this._stateBeforeDoctypePublicIdentifier(r);
          break;
        }
        case te.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED: {
          this._stateDoctypePublicIdentifierDoubleQuoted(r);
          break;
        }
        case te.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED: {
          this._stateDoctypePublicIdentifierSingleQuoted(r);
          break;
        }
        case te.AFTER_DOCTYPE_PUBLIC_IDENTIFIER: {
          this._stateAfterDoctypePublicIdentifier(r);
          break;
        }
        case te.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS: {
          this._stateBetweenDoctypePublicAndSystemIdentifiers(r);
          break;
        }
        case te.AFTER_DOCTYPE_SYSTEM_KEYWORD: {
          this._stateAfterDoctypeSystemKeyword(r);
          break;
        }
        case te.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER: {
          this._stateBeforeDoctypeSystemIdentifier(r);
          break;
        }
        case te.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED: {
          this._stateDoctypeSystemIdentifierDoubleQuoted(r);
          break;
        }
        case te.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED: {
          this._stateDoctypeSystemIdentifierSingleQuoted(r);
          break;
        }
        case te.AFTER_DOCTYPE_SYSTEM_IDENTIFIER: {
          this._stateAfterDoctypeSystemIdentifier(r);
          break;
        }
        case te.BOGUS_DOCTYPE: {
          this._stateBogusDoctype(r);
          break;
        }
        case te.CDATA_SECTION: {
          this._stateCdataSection(r);
          break;
        }
        case te.CDATA_SECTION_BRACKET: {
          this._stateCdataSectionBracket(r);
          break;
        }
        case te.CDATA_SECTION_END: {
          this._stateCdataSectionEnd(r);
          break;
        }
        case te.CHARACTER_REFERENCE: {
          this._stateCharacterReference(r);
          break;
        }
        case te.NAMED_CHARACTER_REFERENCE: {
          this._stateNamedCharacterReference(r);
          break;
        }
        case te.AMBIGUOUS_AMPERSAND: {
          this._stateAmbiguousAmpersand(r);
          break;
        }
        case te.NUMERIC_CHARACTER_REFERENCE: {
          this._stateNumericCharacterReference(r);
          break;
        }
        case te.HEXADEMICAL_CHARACTER_REFERENCE_START: {
          this._stateHexademicalCharacterReferenceStart(r);
          break;
        }
        case te.HEXADEMICAL_CHARACTER_REFERENCE: {
          this._stateHexademicalCharacterReference(r);
          break;
        }
        case te.DECIMAL_CHARACTER_REFERENCE: {
          this._stateDecimalCharacterReference(r);
          break;
        }
        case te.NUMERIC_CHARACTER_REFERENCE_END: {
          this._stateNumericCharacterReferenceEnd(r);
          break;
        }
        default:
          throw new Error("Unknown state");
      }
    }
    // State machine
    // Data state
    //------------------------------------------------------------------
  }, {
    key: "_stateData",
    value: function(r) {
      switch (r) {
        case V.CODE_POINTS.LESS_THAN_SIGN: {
          this.state = te.TAG_OPEN;
          break;
        }
        case V.CODE_POINTS.AMPERSAND: {
          this.returnState = te.DATA, this.state = te.CHARACTER_REFERENCE;
          break;
        }
        case V.CODE_POINTS.NULL: {
          this._err(Le.ERR.unexpectedNullCharacter), this._emitCodePoint(r);
          break;
        }
        case V.CODE_POINTS.EOF: {
          this._emitEOFToken();
          break;
        }
        default:
          this._emitCodePoint(r);
      }
    }
    //  RCDATA state
    //------------------------------------------------------------------
  }, {
    key: "_stateRcdata",
    value: function(r) {
      switch (r) {
        case V.CODE_POINTS.AMPERSAND: {
          this.returnState = te.RCDATA, this.state = te.CHARACTER_REFERENCE;
          break;
        }
        case V.CODE_POINTS.LESS_THAN_SIGN: {
          this.state = te.RCDATA_LESS_THAN_SIGN;
          break;
        }
        case V.CODE_POINTS.NULL: {
          this._err(Le.ERR.unexpectedNullCharacter), this._emitChars(V.REPLACEMENT_CHARACTER);
          break;
        }
        case V.CODE_POINTS.EOF: {
          this._emitEOFToken();
          break;
        }
        default:
          this._emitCodePoint(r);
      }
    }
    // RAWTEXT state
    //------------------------------------------------------------------
  }, {
    key: "_stateRawtext",
    value: function(r) {
      switch (r) {
        case V.CODE_POINTS.LESS_THAN_SIGN: {
          this.state = te.RAWTEXT_LESS_THAN_SIGN;
          break;
        }
        case V.CODE_POINTS.NULL: {
          this._err(Le.ERR.unexpectedNullCharacter), this._emitChars(V.REPLACEMENT_CHARACTER);
          break;
        }
        case V.CODE_POINTS.EOF: {
          this._emitEOFToken();
          break;
        }
        default:
          this._emitCodePoint(r);
      }
    }
    // Script data state
    //------------------------------------------------------------------
  }, {
    key: "_stateScriptData",
    value: function(r) {
      switch (r) {
        case V.CODE_POINTS.LESS_THAN_SIGN: {
          this.state = te.SCRIPT_DATA_LESS_THAN_SIGN;
          break;
        }
        case V.CODE_POINTS.NULL: {
          this._err(Le.ERR.unexpectedNullCharacter), this._emitChars(V.REPLACEMENT_CHARACTER);
          break;
        }
        case V.CODE_POINTS.EOF: {
          this._emitEOFToken();
          break;
        }
        default:
          this._emitCodePoint(r);
      }
    }
    // PLAINTEXT state
    //------------------------------------------------------------------
  }, {
    key: "_statePlaintext",
    value: function(r) {
      switch (r) {
        case V.CODE_POINTS.NULL: {
          this._err(Le.ERR.unexpectedNullCharacter), this._emitChars(V.REPLACEMENT_CHARACTER);
          break;
        }
        case V.CODE_POINTS.EOF: {
          this._emitEOFToken();
          break;
        }
        default:
          this._emitCodePoint(r);
      }
    }
    // Tag open state
    //------------------------------------------------------------------
  }, {
    key: "_stateTagOpen",
    value: function(r) {
      if (cl(r))
        this._createStartTagToken(), this.state = te.TAG_NAME, this._stateTagName(r);
      else
        switch (r) {
          case V.CODE_POINTS.EXCLAMATION_MARK: {
            this.state = te.MARKUP_DECLARATION_OPEN;
            break;
          }
          case V.CODE_POINTS.SOLIDUS: {
            this.state = te.END_TAG_OPEN;
            break;
          }
          case V.CODE_POINTS.QUESTION_MARK: {
            this._err(Le.ERR.unexpectedQuestionMarkInsteadOfTagName), this._createCommentToken(1), this.state = te.BOGUS_COMMENT, this._stateBogusComment(r);
            break;
          }
          case V.CODE_POINTS.EOF: {
            this._err(Le.ERR.eofBeforeTagName), this._emitChars("<"), this._emitEOFToken();
            break;
          }
          default:
            this._err(Le.ERR.invalidFirstCharacterOfTagName), this._emitChars("<"), this.state = te.DATA, this._stateData(r);
        }
    }
    // End tag open state
    //------------------------------------------------------------------
  }, {
    key: "_stateEndTagOpen",
    value: function(r) {
      if (cl(r))
        this._createEndTagToken(), this.state = te.TAG_NAME, this._stateTagName(r);
      else
        switch (r) {
          case V.CODE_POINTS.GREATER_THAN_SIGN: {
            this._err(Le.ERR.missingEndTagName), this.state = te.DATA;
            break;
          }
          case V.CODE_POINTS.EOF: {
            this._err(Le.ERR.eofBeforeTagName), this._emitChars("</"), this._emitEOFToken();
            break;
          }
          default:
            this._err(Le.ERR.invalidFirstCharacterOfTagName), this._createCommentToken(2), this.state = te.BOGUS_COMMENT, this._stateBogusComment(r);
        }
    }
    // Tag name state
    //------------------------------------------------------------------
  }, {
    key: "_stateTagName",
    value: function(r) {
      const n = this.currentToken;
      switch (r) {
        case V.CODE_POINTS.SPACE:
        case V.CODE_POINTS.LINE_FEED:
        case V.CODE_POINTS.TABULATION:
        case V.CODE_POINTS.FORM_FEED: {
          this.state = te.BEFORE_ATTRIBUTE_NAME;
          break;
        }
        case V.CODE_POINTS.SOLIDUS: {
          this.state = te.SELF_CLOSING_START_TAG;
          break;
        }
        case V.CODE_POINTS.GREATER_THAN_SIGN: {
          this.state = te.DATA, this.emitCurrentTagToken();
          break;
        }
        case V.CODE_POINTS.NULL: {
          this._err(Le.ERR.unexpectedNullCharacter), n.tagName += V.REPLACEMENT_CHARACTER;
          break;
        }
        case V.CODE_POINTS.EOF: {
          this._err(Le.ERR.eofInTag), this._emitEOFToken();
          break;
        }
        default:
          n.tagName += String.fromCodePoint(wm(r) ? s_(r) : r);
      }
    }
    // RCDATA less-than sign state
    //------------------------------------------------------------------
  }, {
    key: "_stateRcdataLessThanSign",
    value: function(r) {
      r === V.CODE_POINTS.SOLIDUS ? this.state = te.RCDATA_END_TAG_OPEN : (this._emitChars("<"), this.state = te.RCDATA, this._stateRcdata(r));
    }
    // RCDATA end tag open state
    //------------------------------------------------------------------
  }, {
    key: "_stateRcdataEndTagOpen",
    value: function(r) {
      cl(r) ? (this.state = te.RCDATA_END_TAG_NAME, this._stateRcdataEndTagName(r)) : (this._emitChars("</"), this.state = te.RCDATA, this._stateRcdata(r));
    }
  }, {
    key: "handleSpecialEndTag",
    value: function(r) {
      if (!this.preprocessor.startsWith(this.lastStartTagName, false))
        return !this._ensureHibernation();
      this._createEndTagToken();
      const n = this.currentToken;
      switch (n.tagName = this.lastStartTagName, this.preprocessor.peek(this.lastStartTagName.length)) {
        case V.CODE_POINTS.SPACE:
        case V.CODE_POINTS.LINE_FEED:
        case V.CODE_POINTS.TABULATION:
        case V.CODE_POINTS.FORM_FEED:
          return this._advanceBy(this.lastStartTagName.length), this.state = te.BEFORE_ATTRIBUTE_NAME, false;
        case V.CODE_POINTS.SOLIDUS:
          return this._advanceBy(this.lastStartTagName.length), this.state = te.SELF_CLOSING_START_TAG, false;
        case V.CODE_POINTS.GREATER_THAN_SIGN:
          return this._advanceBy(this.lastStartTagName.length), this.emitCurrentTagToken(), this.state = te.DATA, false;
        default:
          return !this._ensureHibernation();
      }
    }
    // RCDATA end tag name state
    //------------------------------------------------------------------
  }, {
    key: "_stateRcdataEndTagName",
    value: function(r) {
      this.handleSpecialEndTag(r) && (this._emitChars("</"), this.state = te.RCDATA, this._stateRcdata(r));
    }
    // RAWTEXT less-than sign state
    //------------------------------------------------------------------
  }, {
    key: "_stateRawtextLessThanSign",
    value: function(r) {
      r === V.CODE_POINTS.SOLIDUS ? this.state = te.RAWTEXT_END_TAG_OPEN : (this._emitChars("<"), this.state = te.RAWTEXT, this._stateRawtext(r));
    }
    // RAWTEXT end tag open state
    //------------------------------------------------------------------
  }, {
    key: "_stateRawtextEndTagOpen",
    value: function(r) {
      cl(r) ? (this.state = te.RAWTEXT_END_TAG_NAME, this._stateRawtextEndTagName(r)) : (this._emitChars("</"), this.state = te.RAWTEXT, this._stateRawtext(r));
    }
    // RAWTEXT end tag name state
    //------------------------------------------------------------------
  }, {
    key: "_stateRawtextEndTagName",
    value: function(r) {
      this.handleSpecialEndTag(r) && (this._emitChars("</"), this.state = te.RAWTEXT, this._stateRawtext(r));
    }
    // Script data less-than sign state
    //------------------------------------------------------------------
  }, {
    key: "_stateScriptDataLessThanSign",
    value: function(r) {
      switch (r) {
        case V.CODE_POINTS.SOLIDUS: {
          this.state = te.SCRIPT_DATA_END_TAG_OPEN;
          break;
        }
        case V.CODE_POINTS.EXCLAMATION_MARK: {
          this.state = te.SCRIPT_DATA_ESCAPE_START, this._emitChars("<!");
          break;
        }
        default:
          this._emitChars("<"), this.state = te.SCRIPT_DATA, this._stateScriptData(r);
      }
    }
    // Script data end tag open state
    //------------------------------------------------------------------
  }, {
    key: "_stateScriptDataEndTagOpen",
    value: function(r) {
      cl(r) ? (this.state = te.SCRIPT_DATA_END_TAG_NAME, this._stateScriptDataEndTagName(r)) : (this._emitChars("</"), this.state = te.SCRIPT_DATA, this._stateScriptData(r));
    }
    // Script data end tag name state
    //------------------------------------------------------------------
  }, {
    key: "_stateScriptDataEndTagName",
    value: function(r) {
      this.handleSpecialEndTag(r) && (this._emitChars("</"), this.state = te.SCRIPT_DATA, this._stateScriptData(r));
    }
    // Script data escape start state
    //------------------------------------------------------------------
  }, {
    key: "_stateScriptDataEscapeStart",
    value: function(r) {
      r === V.CODE_POINTS.HYPHEN_MINUS ? (this.state = te.SCRIPT_DATA_ESCAPE_START_DASH, this._emitChars("-")) : (this.state = te.SCRIPT_DATA, this._stateScriptData(r));
    }
    // Script data escape start dash state
    //------------------------------------------------------------------
  }, {
    key: "_stateScriptDataEscapeStartDash",
    value: function(r) {
      r === V.CODE_POINTS.HYPHEN_MINUS ? (this.state = te.SCRIPT_DATA_ESCAPED_DASH_DASH, this._emitChars("-")) : (this.state = te.SCRIPT_DATA, this._stateScriptData(r));
    }
    // Script data escaped state
    //------------------------------------------------------------------
  }, {
    key: "_stateScriptDataEscaped",
    value: function(r) {
      switch (r) {
        case V.CODE_POINTS.HYPHEN_MINUS: {
          this.state = te.SCRIPT_DATA_ESCAPED_DASH, this._emitChars("-");
          break;
        }
        case V.CODE_POINTS.LESS_THAN_SIGN: {
          this.state = te.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;
          break;
        }
        case V.CODE_POINTS.NULL: {
          this._err(Le.ERR.unexpectedNullCharacter), this._emitChars(V.REPLACEMENT_CHARACTER);
          break;
        }
        case V.CODE_POINTS.EOF: {
          this._err(Le.ERR.eofInScriptHtmlCommentLikeText), this._emitEOFToken();
          break;
        }
        default:
          this._emitCodePoint(r);
      }
    }
    // Script data escaped dash state
    //------------------------------------------------------------------
  }, {
    key: "_stateScriptDataEscapedDash",
    value: function(r) {
      switch (r) {
        case V.CODE_POINTS.HYPHEN_MINUS: {
          this.state = te.SCRIPT_DATA_ESCAPED_DASH_DASH, this._emitChars("-");
          break;
        }
        case V.CODE_POINTS.LESS_THAN_SIGN: {
          this.state = te.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;
          break;
        }
        case V.CODE_POINTS.NULL: {
          this._err(Le.ERR.unexpectedNullCharacter), this.state = te.SCRIPT_DATA_ESCAPED, this._emitChars(V.REPLACEMENT_CHARACTER);
          break;
        }
        case V.CODE_POINTS.EOF: {
          this._err(Le.ERR.eofInScriptHtmlCommentLikeText), this._emitEOFToken();
          break;
        }
        default:
          this.state = te.SCRIPT_DATA_ESCAPED, this._emitCodePoint(r);
      }
    }
    // Script data escaped dash dash state
    //------------------------------------------------------------------
  }, {
    key: "_stateScriptDataEscapedDashDash",
    value: function(r) {
      switch (r) {
        case V.CODE_POINTS.HYPHEN_MINUS: {
          this._emitChars("-");
          break;
        }
        case V.CODE_POINTS.LESS_THAN_SIGN: {
          this.state = te.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;
          break;
        }
        case V.CODE_POINTS.GREATER_THAN_SIGN: {
          this.state = te.SCRIPT_DATA, this._emitChars(">");
          break;
        }
        case V.CODE_POINTS.NULL: {
          this._err(Le.ERR.unexpectedNullCharacter), this.state = te.SCRIPT_DATA_ESCAPED, this._emitChars(V.REPLACEMENT_CHARACTER);
          break;
        }
        case V.CODE_POINTS.EOF: {
          this._err(Le.ERR.eofInScriptHtmlCommentLikeText), this._emitEOFToken();
          break;
        }
        default:
          this.state = te.SCRIPT_DATA_ESCAPED, this._emitCodePoint(r);
      }
    }
    // Script data escaped less-than sign state
    //------------------------------------------------------------------
  }, {
    key: "_stateScriptDataEscapedLessThanSign",
    value: function(r) {
      r === V.CODE_POINTS.SOLIDUS ? this.state = te.SCRIPT_DATA_ESCAPED_END_TAG_OPEN : cl(r) ? (this._emitChars("<"), this.state = te.SCRIPT_DATA_DOUBLE_ESCAPE_START, this._stateScriptDataDoubleEscapeStart(r)) : (this._emitChars("<"), this.state = te.SCRIPT_DATA_ESCAPED, this._stateScriptDataEscaped(r));
    }
    // Script data escaped end tag open state
    //------------------------------------------------------------------
  }, {
    key: "_stateScriptDataEscapedEndTagOpen",
    value: function(r) {
      cl(r) ? (this.state = te.SCRIPT_DATA_ESCAPED_END_TAG_NAME, this._stateScriptDataEscapedEndTagName(r)) : (this._emitChars("</"), this.state = te.SCRIPT_DATA_ESCAPED, this._stateScriptDataEscaped(r));
    }
    // Script data escaped end tag name state
    //------------------------------------------------------------------
  }, {
    key: "_stateScriptDataEscapedEndTagName",
    value: function(r) {
      this.handleSpecialEndTag(r) && (this._emitChars("</"), this.state = te.SCRIPT_DATA_ESCAPED, this._stateScriptDataEscaped(r));
    }
    // Script data double escape start state
    //------------------------------------------------------------------
  }, {
    key: "_stateScriptDataDoubleEscapeStart",
    value: function(r) {
      if (this.preprocessor.startsWith(V.SEQUENCES.SCRIPT, false) && kH(this.preprocessor.peek(V.SEQUENCES.SCRIPT.length))) {
        this._emitCodePoint(r);
        for (let n = 0; n < V.SEQUENCES.SCRIPT.length; n++)
          this._emitCodePoint(this._consume());
        this.state = te.SCRIPT_DATA_DOUBLE_ESCAPED;
      } else this._ensureHibernation() || (this.state = te.SCRIPT_DATA_ESCAPED, this._stateScriptDataEscaped(r));
    }
    // Script data double escaped state
    //------------------------------------------------------------------
  }, {
    key: "_stateScriptDataDoubleEscaped",
    value: function(r) {
      switch (r) {
        case V.CODE_POINTS.HYPHEN_MINUS: {
          this.state = te.SCRIPT_DATA_DOUBLE_ESCAPED_DASH, this._emitChars("-");
          break;
        }
        case V.CODE_POINTS.LESS_THAN_SIGN: {
          this.state = te.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN, this._emitChars("<");
          break;
        }
        case V.CODE_POINTS.NULL: {
          this._err(Le.ERR.unexpectedNullCharacter), this._emitChars(V.REPLACEMENT_CHARACTER);
          break;
        }
        case V.CODE_POINTS.EOF: {
          this._err(Le.ERR.eofInScriptHtmlCommentLikeText), this._emitEOFToken();
          break;
        }
        default:
          this._emitCodePoint(r);
      }
    }
    // Script data double escaped dash state
    //------------------------------------------------------------------
  }, {
    key: "_stateScriptDataDoubleEscapedDash",
    value: function(r) {
      switch (r) {
        case V.CODE_POINTS.HYPHEN_MINUS: {
          this.state = te.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH, this._emitChars("-");
          break;
        }
        case V.CODE_POINTS.LESS_THAN_SIGN: {
          this.state = te.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN, this._emitChars("<");
          break;
        }
        case V.CODE_POINTS.NULL: {
          this._err(Le.ERR.unexpectedNullCharacter), this.state = te.SCRIPT_DATA_DOUBLE_ESCAPED, this._emitChars(V.REPLACEMENT_CHARACTER);
          break;
        }
        case V.CODE_POINTS.EOF: {
          this._err(Le.ERR.eofInScriptHtmlCommentLikeText), this._emitEOFToken();
          break;
        }
        default:
          this.state = te.SCRIPT_DATA_DOUBLE_ESCAPED, this._emitCodePoint(r);
      }
    }
    // Script data double escaped dash dash state
    //------------------------------------------------------------------
  }, {
    key: "_stateScriptDataDoubleEscapedDashDash",
    value: function(r) {
      switch (r) {
        case V.CODE_POINTS.HYPHEN_MINUS: {
          this._emitChars("-");
          break;
        }
        case V.CODE_POINTS.LESS_THAN_SIGN: {
          this.state = te.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN, this._emitChars("<");
          break;
        }
        case V.CODE_POINTS.GREATER_THAN_SIGN: {
          this.state = te.SCRIPT_DATA, this._emitChars(">");
          break;
        }
        case V.CODE_POINTS.NULL: {
          this._err(Le.ERR.unexpectedNullCharacter), this.state = te.SCRIPT_DATA_DOUBLE_ESCAPED, this._emitChars(V.REPLACEMENT_CHARACTER);
          break;
        }
        case V.CODE_POINTS.EOF: {
          this._err(Le.ERR.eofInScriptHtmlCommentLikeText), this._emitEOFToken();
          break;
        }
        default:
          this.state = te.SCRIPT_DATA_DOUBLE_ESCAPED, this._emitCodePoint(r);
      }
    }
    // Script data double escaped less-than sign state
    //------------------------------------------------------------------
  }, {
    key: "_stateScriptDataDoubleEscapedLessThanSign",
    value: function(r) {
      r === V.CODE_POINTS.SOLIDUS ? (this.state = te.SCRIPT_DATA_DOUBLE_ESCAPE_END, this._emitChars("/")) : (this.state = te.SCRIPT_DATA_DOUBLE_ESCAPED, this._stateScriptDataDoubleEscaped(r));
    }
    // Script data double escape end state
    //------------------------------------------------------------------
  }, {
    key: "_stateScriptDataDoubleEscapeEnd",
    value: function(r) {
      if (this.preprocessor.startsWith(V.SEQUENCES.SCRIPT, false) && kH(this.preprocessor.peek(V.SEQUENCES.SCRIPT.length))) {
        this._emitCodePoint(r);
        for (let n = 0; n < V.SEQUENCES.SCRIPT.length; n++)
          this._emitCodePoint(this._consume());
        this.state = te.SCRIPT_DATA_ESCAPED;
      } else this._ensureHibernation() || (this.state = te.SCRIPT_DATA_DOUBLE_ESCAPED, this._stateScriptDataDoubleEscaped(r));
    }
    // Before attribute name state
    //------------------------------------------------------------------
  }, {
    key: "_stateBeforeAttributeName",
    value: function(r) {
      switch (r) {
        case V.CODE_POINTS.SPACE:
        case V.CODE_POINTS.LINE_FEED:
        case V.CODE_POINTS.TABULATION:
        case V.CODE_POINTS.FORM_FEED:
          break;
        case V.CODE_POINTS.SOLIDUS:
        case V.CODE_POINTS.GREATER_THAN_SIGN:
        case V.CODE_POINTS.EOF: {
          this.state = te.AFTER_ATTRIBUTE_NAME, this._stateAfterAttributeName(r);
          break;
        }
        case V.CODE_POINTS.EQUALS_SIGN: {
          this._err(Le.ERR.unexpectedEqualsSignBeforeAttributeName), this._createAttr("="), this.state = te.ATTRIBUTE_NAME;
          break;
        }
        default:
          this._createAttr(""), this.state = te.ATTRIBUTE_NAME, this._stateAttributeName(r);
      }
    }
    // Attribute name state
    //------------------------------------------------------------------
  }, {
    key: "_stateAttributeName",
    value: function(r) {
      switch (r) {
        case V.CODE_POINTS.SPACE:
        case V.CODE_POINTS.LINE_FEED:
        case V.CODE_POINTS.TABULATION:
        case V.CODE_POINTS.FORM_FEED:
        case V.CODE_POINTS.SOLIDUS:
        case V.CODE_POINTS.GREATER_THAN_SIGN:
        case V.CODE_POINTS.EOF: {
          this._leaveAttrName(), this.state = te.AFTER_ATTRIBUTE_NAME, this._stateAfterAttributeName(r);
          break;
        }
        case V.CODE_POINTS.EQUALS_SIGN: {
          this._leaveAttrName(), this.state = te.BEFORE_ATTRIBUTE_VALUE;
          break;
        }
        case V.CODE_POINTS.QUOTATION_MARK:
        case V.CODE_POINTS.APOSTROPHE:
        case V.CODE_POINTS.LESS_THAN_SIGN: {
          this._err(Le.ERR.unexpectedCharacterInAttributeName), this.currentAttr.name += String.fromCodePoint(r);
          break;
        }
        case V.CODE_POINTS.NULL: {
          this._err(Le.ERR.unexpectedNullCharacter), this.currentAttr.name += V.REPLACEMENT_CHARACTER;
          break;
        }
        default:
          this.currentAttr.name += String.fromCodePoint(wm(r) ? s_(r) : r);
      }
    }
    // After attribute name state
    //------------------------------------------------------------------
  }, {
    key: "_stateAfterAttributeName",
    value: function(r) {
      switch (r) {
        case V.CODE_POINTS.SPACE:
        case V.CODE_POINTS.LINE_FEED:
        case V.CODE_POINTS.TABULATION:
        case V.CODE_POINTS.FORM_FEED:
          break;
        case V.CODE_POINTS.SOLIDUS: {
          this.state = te.SELF_CLOSING_START_TAG;
          break;
        }
        case V.CODE_POINTS.EQUALS_SIGN: {
          this.state = te.BEFORE_ATTRIBUTE_VALUE;
          break;
        }
        case V.CODE_POINTS.GREATER_THAN_SIGN: {
          this.state = te.DATA, this.emitCurrentTagToken();
          break;
        }
        case V.CODE_POINTS.EOF: {
          this._err(Le.ERR.eofInTag), this._emitEOFToken();
          break;
        }
        default:
          this._createAttr(""), this.state = te.ATTRIBUTE_NAME, this._stateAttributeName(r);
      }
    }
    // Before attribute value state
    //------------------------------------------------------------------
  }, {
    key: "_stateBeforeAttributeValue",
    value: function(r) {
      switch (r) {
        case V.CODE_POINTS.SPACE:
        case V.CODE_POINTS.LINE_FEED:
        case V.CODE_POINTS.TABULATION:
        case V.CODE_POINTS.FORM_FEED:
          break;
        case V.CODE_POINTS.QUOTATION_MARK: {
          this.state = te.ATTRIBUTE_VALUE_DOUBLE_QUOTED;
          break;
        }
        case V.CODE_POINTS.APOSTROPHE: {
          this.state = te.ATTRIBUTE_VALUE_SINGLE_QUOTED;
          break;
        }
        case V.CODE_POINTS.GREATER_THAN_SIGN: {
          this._err(Le.ERR.missingAttributeValue), this.state = te.DATA, this.emitCurrentTagToken();
          break;
        }
        default:
          this.state = te.ATTRIBUTE_VALUE_UNQUOTED, this._stateAttributeValueUnquoted(r);
      }
    }
    // Attribute value (double-quoted) state
    //------------------------------------------------------------------
  }, {
    key: "_stateAttributeValueDoubleQuoted",
    value: function(r) {
      switch (r) {
        case V.CODE_POINTS.QUOTATION_MARK: {
          this.state = te.AFTER_ATTRIBUTE_VALUE_QUOTED;
          break;
        }
        case V.CODE_POINTS.AMPERSAND: {
          this.returnState = te.ATTRIBUTE_VALUE_DOUBLE_QUOTED, this.state = te.CHARACTER_REFERENCE;
          break;
        }
        case V.CODE_POINTS.NULL: {
          this._err(Le.ERR.unexpectedNullCharacter), this.currentAttr.value += V.REPLACEMENT_CHARACTER;
          break;
        }
        case V.CODE_POINTS.EOF: {
          this._err(Le.ERR.eofInTag), this._emitEOFToken();
          break;
        }
        default:
          this.currentAttr.value += String.fromCodePoint(r);
      }
    }
    // Attribute value (single-quoted) state
    //------------------------------------------------------------------
  }, {
    key: "_stateAttributeValueSingleQuoted",
    value: function(r) {
      switch (r) {
        case V.CODE_POINTS.APOSTROPHE: {
          this.state = te.AFTER_ATTRIBUTE_VALUE_QUOTED;
          break;
        }
        case V.CODE_POINTS.AMPERSAND: {
          this.returnState = te.ATTRIBUTE_VALUE_SINGLE_QUOTED, this.state = te.CHARACTER_REFERENCE;
          break;
        }
        case V.CODE_POINTS.NULL: {
          this._err(Le.ERR.unexpectedNullCharacter), this.currentAttr.value += V.REPLACEMENT_CHARACTER;
          break;
        }
        case V.CODE_POINTS.EOF: {
          this._err(Le.ERR.eofInTag), this._emitEOFToken();
          break;
        }
        default:
          this.currentAttr.value += String.fromCodePoint(r);
      }
    }
    // Attribute value (unquoted) state
    //------------------------------------------------------------------
  }, {
    key: "_stateAttributeValueUnquoted",
    value: function(r) {
      switch (r) {
        case V.CODE_POINTS.SPACE:
        case V.CODE_POINTS.LINE_FEED:
        case V.CODE_POINTS.TABULATION:
        case V.CODE_POINTS.FORM_FEED: {
          this._leaveAttrValue(), this.state = te.BEFORE_ATTRIBUTE_NAME;
          break;
        }
        case V.CODE_POINTS.AMPERSAND: {
          this.returnState = te.ATTRIBUTE_VALUE_UNQUOTED, this.state = te.CHARACTER_REFERENCE;
          break;
        }
        case V.CODE_POINTS.GREATER_THAN_SIGN: {
          this._leaveAttrValue(), this.state = te.DATA, this.emitCurrentTagToken();
          break;
        }
        case V.CODE_POINTS.NULL: {
          this._err(Le.ERR.unexpectedNullCharacter), this.currentAttr.value += V.REPLACEMENT_CHARACTER;
          break;
        }
        case V.CODE_POINTS.QUOTATION_MARK:
        case V.CODE_POINTS.APOSTROPHE:
        case V.CODE_POINTS.LESS_THAN_SIGN:
        case V.CODE_POINTS.EQUALS_SIGN:
        case V.CODE_POINTS.GRAVE_ACCENT: {
          this._err(Le.ERR.unexpectedCharacterInUnquotedAttributeValue), this.currentAttr.value += String.fromCodePoint(r);
          break;
        }
        case V.CODE_POINTS.EOF: {
          this._err(Le.ERR.eofInTag), this._emitEOFToken();
          break;
        }
        default:
          this.currentAttr.value += String.fromCodePoint(r);
      }
    }
    // After attribute value (quoted) state
    //------------------------------------------------------------------
  }, {
    key: "_stateAfterAttributeValueQuoted",
    value: function(r) {
      switch (r) {
        case V.CODE_POINTS.SPACE:
        case V.CODE_POINTS.LINE_FEED:
        case V.CODE_POINTS.TABULATION:
        case V.CODE_POINTS.FORM_FEED: {
          this._leaveAttrValue(), this.state = te.BEFORE_ATTRIBUTE_NAME;
          break;
        }
        case V.CODE_POINTS.SOLIDUS: {
          this._leaveAttrValue(), this.state = te.SELF_CLOSING_START_TAG;
          break;
        }
        case V.CODE_POINTS.GREATER_THAN_SIGN: {
          this._leaveAttrValue(), this.state = te.DATA, this.emitCurrentTagToken();
          break;
        }
        case V.CODE_POINTS.EOF: {
          this._err(Le.ERR.eofInTag), this._emitEOFToken();
          break;
        }
        default:
          this._err(Le.ERR.missingWhitespaceBetweenAttributes), this.state = te.BEFORE_ATTRIBUTE_NAME, this._stateBeforeAttributeName(r);
      }
    }
    // Self-closing start tag state
    //------------------------------------------------------------------
  }, {
    key: "_stateSelfClosingStartTag",
    value: function(r) {
      switch (r) {
        case V.CODE_POINTS.GREATER_THAN_SIGN: {
          const n = this.currentToken;
          n.selfClosing = true, this.state = te.DATA, this.emitCurrentTagToken();
          break;
        }
        case V.CODE_POINTS.EOF: {
          this._err(Le.ERR.eofInTag), this._emitEOFToken();
          break;
        }
        default:
          this._err(Le.ERR.unexpectedSolidusInTag), this.state = te.BEFORE_ATTRIBUTE_NAME, this._stateBeforeAttributeName(r);
      }
    }
    // Bogus comment state
    //------------------------------------------------------------------
  }, {
    key: "_stateBogusComment",
    value: function(r) {
      const n = this.currentToken;
      switch (r) {
        case V.CODE_POINTS.GREATER_THAN_SIGN: {
          this.state = te.DATA, this.emitCurrentComment(n);
          break;
        }
        case V.CODE_POINTS.EOF: {
          this.emitCurrentComment(n), this._emitEOFToken();
          break;
        }
        case V.CODE_POINTS.NULL: {
          this._err(Le.ERR.unexpectedNullCharacter), n.data += V.REPLACEMENT_CHARACTER;
          break;
        }
        default:
          n.data += String.fromCodePoint(r);
      }
    }
    // Markup declaration open state
    //------------------------------------------------------------------
  }, {
    key: "_stateMarkupDeclarationOpen",
    value: function(r) {
      this._consumeSequenceIfMatch(V.SEQUENCES.DASH_DASH, true) ? (this._createCommentToken(V.SEQUENCES.DASH_DASH.length + 1), this.state = te.COMMENT_START) : this._consumeSequenceIfMatch(V.SEQUENCES.DOCTYPE, false) ? (this.currentLocation = this.getCurrentLocation(V.SEQUENCES.DOCTYPE.length + 1), this.state = te.DOCTYPE) : this._consumeSequenceIfMatch(V.SEQUENCES.CDATA_START, true) ? this.inForeignNode ? this.state = te.CDATA_SECTION : (this._err(Le.ERR.cdataInHtmlContent), this._createCommentToken(V.SEQUENCES.CDATA_START.length + 1), this.currentToken.data = "[CDATA[", this.state = te.BOGUS_COMMENT) : this._ensureHibernation() || (this._err(Le.ERR.incorrectlyOpenedComment), this._createCommentToken(2), this.state = te.BOGUS_COMMENT, this._stateBogusComment(r));
    }
    // Comment start state
    //------------------------------------------------------------------
  }, {
    key: "_stateCommentStart",
    value: function(r) {
      switch (r) {
        case V.CODE_POINTS.HYPHEN_MINUS: {
          this.state = te.COMMENT_START_DASH;
          break;
        }
        case V.CODE_POINTS.GREATER_THAN_SIGN: {
          this._err(Le.ERR.abruptClosingOfEmptyComment), this.state = te.DATA;
          const n = this.currentToken;
          this.emitCurrentComment(n);
          break;
        }
        default:
          this.state = te.COMMENT, this._stateComment(r);
      }
    }
    // Comment start dash state
    //------------------------------------------------------------------
  }, {
    key: "_stateCommentStartDash",
    value: function(r) {
      const n = this.currentToken;
      switch (r) {
        case V.CODE_POINTS.HYPHEN_MINUS: {
          this.state = te.COMMENT_END;
          break;
        }
        case V.CODE_POINTS.GREATER_THAN_SIGN: {
          this._err(Le.ERR.abruptClosingOfEmptyComment), this.state = te.DATA, this.emitCurrentComment(n);
          break;
        }
        case V.CODE_POINTS.EOF: {
          this._err(Le.ERR.eofInComment), this.emitCurrentComment(n), this._emitEOFToken();
          break;
        }
        default:
          n.data += "-", this.state = te.COMMENT, this._stateComment(r);
      }
    }
    // Comment state
    //------------------------------------------------------------------
  }, {
    key: "_stateComment",
    value: function(r) {
      const n = this.currentToken;
      switch (r) {
        case V.CODE_POINTS.HYPHEN_MINUS: {
          this.state = te.COMMENT_END_DASH;
          break;
        }
        case V.CODE_POINTS.LESS_THAN_SIGN: {
          n.data += "<", this.state = te.COMMENT_LESS_THAN_SIGN;
          break;
        }
        case V.CODE_POINTS.NULL: {
          this._err(Le.ERR.unexpectedNullCharacter), n.data += V.REPLACEMENT_CHARACTER;
          break;
        }
        case V.CODE_POINTS.EOF: {
          this._err(Le.ERR.eofInComment), this.emitCurrentComment(n), this._emitEOFToken();
          break;
        }
        default:
          n.data += String.fromCodePoint(r);
      }
    }
    // Comment less-than sign state
    //------------------------------------------------------------------
  }, {
    key: "_stateCommentLessThanSign",
    value: function(r) {
      const n = this.currentToken;
      switch (r) {
        case V.CODE_POINTS.EXCLAMATION_MARK: {
          n.data += "!", this.state = te.COMMENT_LESS_THAN_SIGN_BANG;
          break;
        }
        case V.CODE_POINTS.LESS_THAN_SIGN: {
          n.data += "<";
          break;
        }
        default:
          this.state = te.COMMENT, this._stateComment(r);
      }
    }
    // Comment less-than sign bang state
    //------------------------------------------------------------------
  }, {
    key: "_stateCommentLessThanSignBang",
    value: function(r) {
      r === V.CODE_POINTS.HYPHEN_MINUS ? this.state = te.COMMENT_LESS_THAN_SIGN_BANG_DASH : (this.state = te.COMMENT, this._stateComment(r));
    }
    // Comment less-than sign bang dash state
    //------------------------------------------------------------------
  }, {
    key: "_stateCommentLessThanSignBangDash",
    value: function(r) {
      r === V.CODE_POINTS.HYPHEN_MINUS ? this.state = te.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH : (this.state = te.COMMENT_END_DASH, this._stateCommentEndDash(r));
    }
    // Comment less-than sign bang dash dash state
    //------------------------------------------------------------------
  }, {
    key: "_stateCommentLessThanSignBangDashDash",
    value: function(r) {
      r !== V.CODE_POINTS.GREATER_THAN_SIGN && r !== V.CODE_POINTS.EOF && this._err(Le.ERR.nestedComment), this.state = te.COMMENT_END, this._stateCommentEnd(r);
    }
    // Comment end dash state
    //------------------------------------------------------------------
  }, {
    key: "_stateCommentEndDash",
    value: function(r) {
      const n = this.currentToken;
      switch (r) {
        case V.CODE_POINTS.HYPHEN_MINUS: {
          this.state = te.COMMENT_END;
          break;
        }
        case V.CODE_POINTS.EOF: {
          this._err(Le.ERR.eofInComment), this.emitCurrentComment(n), this._emitEOFToken();
          break;
        }
        default:
          n.data += "-", this.state = te.COMMENT, this._stateComment(r);
      }
    }
    // Comment end state
    //------------------------------------------------------------------
  }, {
    key: "_stateCommentEnd",
    value: function(r) {
      const n = this.currentToken;
      switch (r) {
        case V.CODE_POINTS.GREATER_THAN_SIGN: {
          this.state = te.DATA, this.emitCurrentComment(n);
          break;
        }
        case V.CODE_POINTS.EXCLAMATION_MARK: {
          this.state = te.COMMENT_END_BANG;
          break;
        }
        case V.CODE_POINTS.HYPHEN_MINUS: {
          n.data += "-";
          break;
        }
        case V.CODE_POINTS.EOF: {
          this._err(Le.ERR.eofInComment), this.emitCurrentComment(n), this._emitEOFToken();
          break;
        }
        default:
          n.data += "--", this.state = te.COMMENT, this._stateComment(r);
      }
    }
    // Comment end bang state
    //------------------------------------------------------------------
  }, {
    key: "_stateCommentEndBang",
    value: function(r) {
      const n = this.currentToken;
      switch (r) {
        case V.CODE_POINTS.HYPHEN_MINUS: {
          n.data += "--!", this.state = te.COMMENT_END_DASH;
          break;
        }
        case V.CODE_POINTS.GREATER_THAN_SIGN: {
          this._err(Le.ERR.incorrectlyClosedComment), this.state = te.DATA, this.emitCurrentComment(n);
          break;
        }
        case V.CODE_POINTS.EOF: {
          this._err(Le.ERR.eofInComment), this.emitCurrentComment(n), this._emitEOFToken();
          break;
        }
        default:
          n.data += "--!", this.state = te.COMMENT, this._stateComment(r);
      }
    }
    // DOCTYPE state
    //------------------------------------------------------------------
  }, {
    key: "_stateDoctype",
    value: function(r) {
      switch (r) {
        case V.CODE_POINTS.SPACE:
        case V.CODE_POINTS.LINE_FEED:
        case V.CODE_POINTS.TABULATION:
        case V.CODE_POINTS.FORM_FEED: {
          this.state = te.BEFORE_DOCTYPE_NAME;
          break;
        }
        case V.CODE_POINTS.GREATER_THAN_SIGN: {
          this.state = te.BEFORE_DOCTYPE_NAME, this._stateBeforeDoctypeName(r);
          break;
        }
        case V.CODE_POINTS.EOF: {
          this._err(Le.ERR.eofInDoctype), this._createDoctypeToken(null);
          const n = this.currentToken;
          n.forceQuirks = true, this.emitCurrentDoctype(n), this._emitEOFToken();
          break;
        }
        default:
          this._err(Le.ERR.missingWhitespaceBeforeDoctypeName), this.state = te.BEFORE_DOCTYPE_NAME, this._stateBeforeDoctypeName(r);
      }
    }
    // Before DOCTYPE name state
    //------------------------------------------------------------------
  }, {
    key: "_stateBeforeDoctypeName",
    value: function(r) {
      if (wm(r))
        this._createDoctypeToken(String.fromCharCode(s_(r))), this.state = te.DOCTYPE_NAME;
      else
        switch (r) {
          case V.CODE_POINTS.SPACE:
          case V.CODE_POINTS.LINE_FEED:
          case V.CODE_POINTS.TABULATION:
          case V.CODE_POINTS.FORM_FEED:
            break;
          case V.CODE_POINTS.NULL: {
            this._err(Le.ERR.unexpectedNullCharacter), this._createDoctypeToken(V.REPLACEMENT_CHARACTER), this.state = te.DOCTYPE_NAME;
            break;
          }
          case V.CODE_POINTS.GREATER_THAN_SIGN: {
            this._err(Le.ERR.missingDoctypeName), this._createDoctypeToken(null);
            const n = this.currentToken;
            n.forceQuirks = true, this.emitCurrentDoctype(n), this.state = te.DATA;
            break;
          }
          case V.CODE_POINTS.EOF: {
            this._err(Le.ERR.eofInDoctype), this._createDoctypeToken(null);
            const n = this.currentToken;
            n.forceQuirks = true, this.emitCurrentDoctype(n), this._emitEOFToken();
            break;
          }
          default:
            this._createDoctypeToken(String.fromCodePoint(r)), this.state = te.DOCTYPE_NAME;
        }
    }
    // DOCTYPE name state
    //------------------------------------------------------------------
  }, {
    key: "_stateDoctypeName",
    value: function(r) {
      const n = this.currentToken;
      switch (r) {
        case V.CODE_POINTS.SPACE:
        case V.CODE_POINTS.LINE_FEED:
        case V.CODE_POINTS.TABULATION:
        case V.CODE_POINTS.FORM_FEED: {
          this.state = te.AFTER_DOCTYPE_NAME;
          break;
        }
        case V.CODE_POINTS.GREATER_THAN_SIGN: {
          this.state = te.DATA, this.emitCurrentDoctype(n);
          break;
        }
        case V.CODE_POINTS.NULL: {
          this._err(Le.ERR.unexpectedNullCharacter), n.name += V.REPLACEMENT_CHARACTER;
          break;
        }
        case V.CODE_POINTS.EOF: {
          this._err(Le.ERR.eofInDoctype), n.forceQuirks = true, this.emitCurrentDoctype(n), this._emitEOFToken();
          break;
        }
        default:
          n.name += String.fromCodePoint(wm(r) ? s_(r) : r);
      }
    }
    // After DOCTYPE name state
    //------------------------------------------------------------------
  }, {
    key: "_stateAfterDoctypeName",
    value: function(r) {
      const n = this.currentToken;
      switch (r) {
        case V.CODE_POINTS.SPACE:
        case V.CODE_POINTS.LINE_FEED:
        case V.CODE_POINTS.TABULATION:
        case V.CODE_POINTS.FORM_FEED:
          break;
        case V.CODE_POINTS.GREATER_THAN_SIGN: {
          this.state = te.DATA, this.emitCurrentDoctype(n);
          break;
        }
        case V.CODE_POINTS.EOF: {
          this._err(Le.ERR.eofInDoctype), n.forceQuirks = true, this.emitCurrentDoctype(n), this._emitEOFToken();
          break;
        }
        default:
          this._consumeSequenceIfMatch(V.SEQUENCES.PUBLIC, false) ? this.state = te.AFTER_DOCTYPE_PUBLIC_KEYWORD : this._consumeSequenceIfMatch(V.SEQUENCES.SYSTEM, false) ? this.state = te.AFTER_DOCTYPE_SYSTEM_KEYWORD : this._ensureHibernation() || (this._err(Le.ERR.invalidCharacterSequenceAfterDoctypeName), n.forceQuirks = true, this.state = te.BOGUS_DOCTYPE, this._stateBogusDoctype(r));
      }
    }
    // After DOCTYPE public keyword state
    //------------------------------------------------------------------
  }, {
    key: "_stateAfterDoctypePublicKeyword",
    value: function(r) {
      const n = this.currentToken;
      switch (r) {
        case V.CODE_POINTS.SPACE:
        case V.CODE_POINTS.LINE_FEED:
        case V.CODE_POINTS.TABULATION:
        case V.CODE_POINTS.FORM_FEED: {
          this.state = te.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;
          break;
        }
        case V.CODE_POINTS.QUOTATION_MARK: {
          this._err(Le.ERR.missingWhitespaceAfterDoctypePublicKeyword), n.publicId = "", this.state = te.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;
          break;
        }
        case V.CODE_POINTS.APOSTROPHE: {
          this._err(Le.ERR.missingWhitespaceAfterDoctypePublicKeyword), n.publicId = "", this.state = te.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;
          break;
        }
        case V.CODE_POINTS.GREATER_THAN_SIGN: {
          this._err(Le.ERR.missingDoctypePublicIdentifier), n.forceQuirks = true, this.state = te.DATA, this.emitCurrentDoctype(n);
          break;
        }
        case V.CODE_POINTS.EOF: {
          this._err(Le.ERR.eofInDoctype), n.forceQuirks = true, this.emitCurrentDoctype(n), this._emitEOFToken();
          break;
        }
        default:
          this._err(Le.ERR.missingQuoteBeforeDoctypePublicIdentifier), n.forceQuirks = true, this.state = te.BOGUS_DOCTYPE, this._stateBogusDoctype(r);
      }
    }
    // Before DOCTYPE public identifier state
    //------------------------------------------------------------------
  }, {
    key: "_stateBeforeDoctypePublicIdentifier",
    value: function(r) {
      const n = this.currentToken;
      switch (r) {
        case V.CODE_POINTS.SPACE:
        case V.CODE_POINTS.LINE_FEED:
        case V.CODE_POINTS.TABULATION:
        case V.CODE_POINTS.FORM_FEED:
          break;
        case V.CODE_POINTS.QUOTATION_MARK: {
          n.publicId = "", this.state = te.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;
          break;
        }
        case V.CODE_POINTS.APOSTROPHE: {
          n.publicId = "", this.state = te.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;
          break;
        }
        case V.CODE_POINTS.GREATER_THAN_SIGN: {
          this._err(Le.ERR.missingDoctypePublicIdentifier), n.forceQuirks = true, this.state = te.DATA, this.emitCurrentDoctype(n);
          break;
        }
        case V.CODE_POINTS.EOF: {
          this._err(Le.ERR.eofInDoctype), n.forceQuirks = true, this.emitCurrentDoctype(n), this._emitEOFToken();
          break;
        }
        default:
          this._err(Le.ERR.missingQuoteBeforeDoctypePublicIdentifier), n.forceQuirks = true, this.state = te.BOGUS_DOCTYPE, this._stateBogusDoctype(r);
      }
    }
    // DOCTYPE public identifier (double-quoted) state
    //------------------------------------------------------------------
  }, {
    key: "_stateDoctypePublicIdentifierDoubleQuoted",
    value: function(r) {
      const n = this.currentToken;
      switch (r) {
        case V.CODE_POINTS.QUOTATION_MARK: {
          this.state = te.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;
          break;
        }
        case V.CODE_POINTS.NULL: {
          this._err(Le.ERR.unexpectedNullCharacter), n.publicId += V.REPLACEMENT_CHARACTER;
          break;
        }
        case V.CODE_POINTS.GREATER_THAN_SIGN: {
          this._err(Le.ERR.abruptDoctypePublicIdentifier), n.forceQuirks = true, this.emitCurrentDoctype(n), this.state = te.DATA;
          break;
        }
        case V.CODE_POINTS.EOF: {
          this._err(Le.ERR.eofInDoctype), n.forceQuirks = true, this.emitCurrentDoctype(n), this._emitEOFToken();
          break;
        }
        default:
          n.publicId += String.fromCodePoint(r);
      }
    }
    // DOCTYPE public identifier (single-quoted) state
    //------------------------------------------------------------------
  }, {
    key: "_stateDoctypePublicIdentifierSingleQuoted",
    value: function(r) {
      const n = this.currentToken;
      switch (r) {
        case V.CODE_POINTS.APOSTROPHE: {
          this.state = te.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;
          break;
        }
        case V.CODE_POINTS.NULL: {
          this._err(Le.ERR.unexpectedNullCharacter), n.publicId += V.REPLACEMENT_CHARACTER;
          break;
        }
        case V.CODE_POINTS.GREATER_THAN_SIGN: {
          this._err(Le.ERR.abruptDoctypePublicIdentifier), n.forceQuirks = true, this.emitCurrentDoctype(n), this.state = te.DATA;
          break;
        }
        case V.CODE_POINTS.EOF: {
          this._err(Le.ERR.eofInDoctype), n.forceQuirks = true, this.emitCurrentDoctype(n), this._emitEOFToken();
          break;
        }
        default:
          n.publicId += String.fromCodePoint(r);
      }
    }
    // After DOCTYPE public identifier state
    //------------------------------------------------------------------
  }, {
    key: "_stateAfterDoctypePublicIdentifier",
    value: function(r) {
      const n = this.currentToken;
      switch (r) {
        case V.CODE_POINTS.SPACE:
        case V.CODE_POINTS.LINE_FEED:
        case V.CODE_POINTS.TABULATION:
        case V.CODE_POINTS.FORM_FEED: {
          this.state = te.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;
          break;
        }
        case V.CODE_POINTS.GREATER_THAN_SIGN: {
          this.state = te.DATA, this.emitCurrentDoctype(n);
          break;
        }
        case V.CODE_POINTS.QUOTATION_MARK: {
          this._err(Le.ERR.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers), n.systemId = "", this.state = te.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;
          break;
        }
        case V.CODE_POINTS.APOSTROPHE: {
          this._err(Le.ERR.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers), n.systemId = "", this.state = te.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;
          break;
        }
        case V.CODE_POINTS.EOF: {
          this._err(Le.ERR.eofInDoctype), n.forceQuirks = true, this.emitCurrentDoctype(n), this._emitEOFToken();
          break;
        }
        default:
          this._err(Le.ERR.missingQuoteBeforeDoctypeSystemIdentifier), n.forceQuirks = true, this.state = te.BOGUS_DOCTYPE, this._stateBogusDoctype(r);
      }
    }
    // Between DOCTYPE public and system identifiers state
    //------------------------------------------------------------------
  }, {
    key: "_stateBetweenDoctypePublicAndSystemIdentifiers",
    value: function(r) {
      const n = this.currentToken;
      switch (r) {
        case V.CODE_POINTS.SPACE:
        case V.CODE_POINTS.LINE_FEED:
        case V.CODE_POINTS.TABULATION:
        case V.CODE_POINTS.FORM_FEED:
          break;
        case V.CODE_POINTS.GREATER_THAN_SIGN: {
          this.emitCurrentDoctype(n), this.state = te.DATA;
          break;
        }
        case V.CODE_POINTS.QUOTATION_MARK: {
          n.systemId = "", this.state = te.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;
          break;
        }
        case V.CODE_POINTS.APOSTROPHE: {
          n.systemId = "", this.state = te.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;
          break;
        }
        case V.CODE_POINTS.EOF: {
          this._err(Le.ERR.eofInDoctype), n.forceQuirks = true, this.emitCurrentDoctype(n), this._emitEOFToken();
          break;
        }
        default:
          this._err(Le.ERR.missingQuoteBeforeDoctypeSystemIdentifier), n.forceQuirks = true, this.state = te.BOGUS_DOCTYPE, this._stateBogusDoctype(r);
      }
    }
    // After DOCTYPE system keyword state
    //------------------------------------------------------------------
  }, {
    key: "_stateAfterDoctypeSystemKeyword",
    value: function(r) {
      const n = this.currentToken;
      switch (r) {
        case V.CODE_POINTS.SPACE:
        case V.CODE_POINTS.LINE_FEED:
        case V.CODE_POINTS.TABULATION:
        case V.CODE_POINTS.FORM_FEED: {
          this.state = te.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;
          break;
        }
        case V.CODE_POINTS.QUOTATION_MARK: {
          this._err(Le.ERR.missingWhitespaceAfterDoctypeSystemKeyword), n.systemId = "", this.state = te.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;
          break;
        }
        case V.CODE_POINTS.APOSTROPHE: {
          this._err(Le.ERR.missingWhitespaceAfterDoctypeSystemKeyword), n.systemId = "", this.state = te.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;
          break;
        }
        case V.CODE_POINTS.GREATER_THAN_SIGN: {
          this._err(Le.ERR.missingDoctypeSystemIdentifier), n.forceQuirks = true, this.state = te.DATA, this.emitCurrentDoctype(n);
          break;
        }
        case V.CODE_POINTS.EOF: {
          this._err(Le.ERR.eofInDoctype), n.forceQuirks = true, this.emitCurrentDoctype(n), this._emitEOFToken();
          break;
        }
        default:
          this._err(Le.ERR.missingQuoteBeforeDoctypeSystemIdentifier), n.forceQuirks = true, this.state = te.BOGUS_DOCTYPE, this._stateBogusDoctype(r);
      }
    }
    // Before DOCTYPE system identifier state
    //------------------------------------------------------------------
  }, {
    key: "_stateBeforeDoctypeSystemIdentifier",
    value: function(r) {
      const n = this.currentToken;
      switch (r) {
        case V.CODE_POINTS.SPACE:
        case V.CODE_POINTS.LINE_FEED:
        case V.CODE_POINTS.TABULATION:
        case V.CODE_POINTS.FORM_FEED:
          break;
        case V.CODE_POINTS.QUOTATION_MARK: {
          n.systemId = "", this.state = te.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;
          break;
        }
        case V.CODE_POINTS.APOSTROPHE: {
          n.systemId = "", this.state = te.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;
          break;
        }
        case V.CODE_POINTS.GREATER_THAN_SIGN: {
          this._err(Le.ERR.missingDoctypeSystemIdentifier), n.forceQuirks = true, this.state = te.DATA, this.emitCurrentDoctype(n);
          break;
        }
        case V.CODE_POINTS.EOF: {
          this._err(Le.ERR.eofInDoctype), n.forceQuirks = true, this.emitCurrentDoctype(n), this._emitEOFToken();
          break;
        }
        default:
          this._err(Le.ERR.missingQuoteBeforeDoctypeSystemIdentifier), n.forceQuirks = true, this.state = te.BOGUS_DOCTYPE, this._stateBogusDoctype(r);
      }
    }
    // DOCTYPE system identifier (double-quoted) state
    //------------------------------------------------------------------
  }, {
    key: "_stateDoctypeSystemIdentifierDoubleQuoted",
    value: function(r) {
      const n = this.currentToken;
      switch (r) {
        case V.CODE_POINTS.QUOTATION_MARK: {
          this.state = te.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;
          break;
        }
        case V.CODE_POINTS.NULL: {
          this._err(Le.ERR.unexpectedNullCharacter), n.systemId += V.REPLACEMENT_CHARACTER;
          break;
        }
        case V.CODE_POINTS.GREATER_THAN_SIGN: {
          this._err(Le.ERR.abruptDoctypeSystemIdentifier), n.forceQuirks = true, this.emitCurrentDoctype(n), this.state = te.DATA;
          break;
        }
        case V.CODE_POINTS.EOF: {
          this._err(Le.ERR.eofInDoctype), n.forceQuirks = true, this.emitCurrentDoctype(n), this._emitEOFToken();
          break;
        }
        default:
          n.systemId += String.fromCodePoint(r);
      }
    }
    // DOCTYPE system identifier (single-quoted) state
    //------------------------------------------------------------------
  }, {
    key: "_stateDoctypeSystemIdentifierSingleQuoted",
    value: function(r) {
      const n = this.currentToken;
      switch (r) {
        case V.CODE_POINTS.APOSTROPHE: {
          this.state = te.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;
          break;
        }
        case V.CODE_POINTS.NULL: {
          this._err(Le.ERR.unexpectedNullCharacter), n.systemId += V.REPLACEMENT_CHARACTER;
          break;
        }
        case V.CODE_POINTS.GREATER_THAN_SIGN: {
          this._err(Le.ERR.abruptDoctypeSystemIdentifier), n.forceQuirks = true, this.emitCurrentDoctype(n), this.state = te.DATA;
          break;
        }
        case V.CODE_POINTS.EOF: {
          this._err(Le.ERR.eofInDoctype), n.forceQuirks = true, this.emitCurrentDoctype(n), this._emitEOFToken();
          break;
        }
        default:
          n.systemId += String.fromCodePoint(r);
      }
    }
    // After DOCTYPE system identifier state
    //------------------------------------------------------------------
  }, {
    key: "_stateAfterDoctypeSystemIdentifier",
    value: function(r) {
      const n = this.currentToken;
      switch (r) {
        case V.CODE_POINTS.SPACE:
        case V.CODE_POINTS.LINE_FEED:
        case V.CODE_POINTS.TABULATION:
        case V.CODE_POINTS.FORM_FEED:
          break;
        case V.CODE_POINTS.GREATER_THAN_SIGN: {
          this.emitCurrentDoctype(n), this.state = te.DATA;
          break;
        }
        case V.CODE_POINTS.EOF: {
          this._err(Le.ERR.eofInDoctype), n.forceQuirks = true, this.emitCurrentDoctype(n), this._emitEOFToken();
          break;
        }
        default:
          this._err(Le.ERR.unexpectedCharacterAfterDoctypeSystemIdentifier), this.state = te.BOGUS_DOCTYPE, this._stateBogusDoctype(r);
      }
    }
    // Bogus DOCTYPE state
    //------------------------------------------------------------------
  }, {
    key: "_stateBogusDoctype",
    value: function(r) {
      const n = this.currentToken;
      switch (r) {
        case V.CODE_POINTS.GREATER_THAN_SIGN: {
          this.emitCurrentDoctype(n), this.state = te.DATA;
          break;
        }
        case V.CODE_POINTS.NULL: {
          this._err(Le.ERR.unexpectedNullCharacter);
          break;
        }
        case V.CODE_POINTS.EOF: {
          this.emitCurrentDoctype(n), this._emitEOFToken();
          break;
        }
      }
    }
    // CDATA section state
    //------------------------------------------------------------------
  }, {
    key: "_stateCdataSection",
    value: function(r) {
      switch (r) {
        case V.CODE_POINTS.RIGHT_SQUARE_BRACKET: {
          this.state = te.CDATA_SECTION_BRACKET;
          break;
        }
        case V.CODE_POINTS.EOF: {
          this._err(Le.ERR.eofInCdata), this._emitEOFToken();
          break;
        }
        default:
          this._emitCodePoint(r);
      }
    }
    // CDATA section bracket state
    //------------------------------------------------------------------
  }, {
    key: "_stateCdataSectionBracket",
    value: function(r) {
      r === V.CODE_POINTS.RIGHT_SQUARE_BRACKET ? this.state = te.CDATA_SECTION_END : (this._emitChars("]"), this.state = te.CDATA_SECTION, this._stateCdataSection(r));
    }
    // CDATA section end state
    //------------------------------------------------------------------
  }, {
    key: "_stateCdataSectionEnd",
    value: function(r) {
      switch (r) {
        case V.CODE_POINTS.GREATER_THAN_SIGN: {
          this.state = te.DATA;
          break;
        }
        case V.CODE_POINTS.RIGHT_SQUARE_BRACKET: {
          this._emitChars("]");
          break;
        }
        default:
          this._emitChars("]]"), this.state = te.CDATA_SECTION, this._stateCdataSection(r);
      }
    }
    // Character reference state
    //------------------------------------------------------------------
  }, {
    key: "_stateCharacterReference",
    value: function(r) {
      r === V.CODE_POINTS.NUMBER_SIGN ? this.state = te.NUMERIC_CHARACTER_REFERENCE : KP(r) ? (this.state = te.NAMED_CHARACTER_REFERENCE, this._stateNamedCharacterReference(r)) : (this._flushCodePointConsumedAsCharacterReference(V.CODE_POINTS.AMPERSAND), this._reconsumeInState(this.returnState, r));
    }
    // Named character reference state
    //------------------------------------------------------------------
  }, {
    key: "_stateNamedCharacterReference",
    value: function(r) {
      const n = this._matchNamedCharacterReference(r);
      if (!this._ensureHibernation())
        if (n) {
          for (let i = 0; i < n.length; i++)
            this._flushCodePointConsumedAsCharacterReference(n[i]);
          this.state = this.returnState;
        } else
          this._flushCodePointConsumedAsCharacterReference(V.CODE_POINTS.AMPERSAND), this.state = te.AMBIGUOUS_AMPERSAND;
    }
    // Ambiguos ampersand state
    //------------------------------------------------------------------
  }, {
    key: "_stateAmbiguousAmpersand",
    value: function(r) {
      KP(r) ? this._flushCodePointConsumedAsCharacterReference(r) : (r === V.CODE_POINTS.SEMICOLON && this._err(Le.ERR.unknownNamedCharacterReference), this._reconsumeInState(this.returnState, r));
    }
    // Numeric character reference state
    //------------------------------------------------------------------
  }, {
    key: "_stateNumericCharacterReference",
    value: function(r) {
      this.charRefCode = 0, r === V.CODE_POINTS.LATIN_SMALL_X || r === V.CODE_POINTS.LATIN_CAPITAL_X ? this.state = te.HEXADEMICAL_CHARACTER_REFERENCE_START : tg(r) ? (this.state = te.DECIMAL_CHARACTER_REFERENCE, this._stateDecimalCharacterReference(r)) : (this._err(Le.ERR.absenceOfDigitsInNumericCharacterReference), this._flushCodePointConsumedAsCharacterReference(V.CODE_POINTS.AMPERSAND), this._flushCodePointConsumedAsCharacterReference(V.CODE_POINTS.NUMBER_SIGN), this._reconsumeInState(this.returnState, r));
    }
    // Hexademical character reference start state
    //------------------------------------------------------------------
  }, {
    key: "_stateHexademicalCharacterReferenceStart",
    value: function(r) {
      mEe(r) ? (this.state = te.HEXADEMICAL_CHARACTER_REFERENCE, this._stateHexademicalCharacterReference(r)) : (this._err(Le.ERR.absenceOfDigitsInNumericCharacterReference), this._flushCodePointConsumedAsCharacterReference(V.CODE_POINTS.AMPERSAND), this._flushCodePointConsumedAsCharacterReference(V.CODE_POINTS.NUMBER_SIGN), this._unconsume(2), this.state = this.returnState);
    }
    // Hexademical character reference state
    //------------------------------------------------------------------
  }, {
    key: "_stateHexademicalCharacterReference",
    value: function(r) {
      R2(r) ? this.charRefCode = this.charRefCode * 16 + r - 55 : N2(r) ? this.charRefCode = this.charRefCode * 16 + r - 87 : tg(r) ? this.charRefCode = this.charRefCode * 16 + r - 48 : r === V.CODE_POINTS.SEMICOLON ? this.state = te.NUMERIC_CHARACTER_REFERENCE_END : (this._err(Le.ERR.missingSemicolonAfterCharacterReference), this.state = te.NUMERIC_CHARACTER_REFERENCE_END, this._stateNumericCharacterReferenceEnd(r));
    }
    // Decimal character reference state
    //------------------------------------------------------------------
  }, {
    key: "_stateDecimalCharacterReference",
    value: function(r) {
      tg(r) ? this.charRefCode = this.charRefCode * 10 + r - 48 : r === V.CODE_POINTS.SEMICOLON ? this.state = te.NUMERIC_CHARACTER_REFERENCE_END : (this._err(Le.ERR.missingSemicolonAfterCharacterReference), this.state = te.NUMERIC_CHARACTER_REFERENCE_END, this._stateNumericCharacterReferenceEnd(r));
    }
    // Numeric character reference end state
    //------------------------------------------------------------------
  }, {
    key: "_stateNumericCharacterReferenceEnd",
    value: function(r) {
      if (this.charRefCode === V.CODE_POINTS.NULL)
        this._err(Le.ERR.nullCharacterReference), this.charRefCode = V.CODE_POINTS.REPLACEMENT_CHARACTER;
      else if (this.charRefCode > 1114111)
        this._err(Le.ERR.characterReferenceOutsideUnicodeRange), this.charRefCode = V.CODE_POINTS.REPLACEMENT_CHARACTER;
      else if ((0, V.isSurrogate)(this.charRefCode))
        this._err(Le.ERR.surrogateCharacterReference), this.charRefCode = V.CODE_POINTS.REPLACEMENT_CHARACTER;
      else if ((0, V.isUndefinedCodePoint)(this.charRefCode))
        this._err(Le.ERR.noncharacterCharacterReference);
      else if ((0, V.isControlCodePoint)(this.charRefCode) || this.charRefCode === V.CODE_POINTS.CARRIAGE_RETURN) {
        this._err(Le.ERR.controlCharacterReference);
        const n = dEe.get(this.charRefCode);
        n !== void 0 && (this.charRefCode = n);
      }
      this._flushCodePointConsumedAsCharacterReference(this.charRefCode), this._reconsumeInState(this.returnState, r);
    }
  }]), e13;
}();
bu.Tokenizer = vEe;
var j1 = {};
function yEe(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function _Ee(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, TEe(n.key), n);
  }
}
function bEe(e13, t, r) {
  return t && _Ee(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function TEe(e13) {
  var t = EEe(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function EEe(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
Object.defineProperty(j1, "__esModule", {
  value: true
});
j1.OpenElementStack = void 0;
var $e = Xs;
var L2 = /* @__PURE__ */ new Set([$e.TAG_ID.DD, $e.TAG_ID.DT, $e.TAG_ID.LI, $e.TAG_ID.OPTGROUP, $e.TAG_ID.OPTION, $e.TAG_ID.P, $e.TAG_ID.RB, $e.TAG_ID.RP, $e.TAG_ID.RT, $e.TAG_ID.RTC]);
var DH = /* @__PURE__ */ new Set([...L2, $e.TAG_ID.CAPTION, $e.TAG_ID.COLGROUP, $e.TAG_ID.TBODY, $e.TAG_ID.TD, $e.TAG_ID.TFOOT, $e.TAG_ID.TH, $e.TAG_ID.THEAD, $e.TAG_ID.TR]);
var l_ = /* @__PURE__ */ new Map([[$e.TAG_ID.APPLET, $e.NS.HTML], [$e.TAG_ID.CAPTION, $e.NS.HTML], [$e.TAG_ID.HTML, $e.NS.HTML], [$e.TAG_ID.MARQUEE, $e.NS.HTML], [$e.TAG_ID.OBJECT, $e.NS.HTML], [$e.TAG_ID.TABLE, $e.NS.HTML], [$e.TAG_ID.TD, $e.NS.HTML], [$e.TAG_ID.TEMPLATE, $e.NS.HTML], [$e.TAG_ID.TH, $e.NS.HTML], [$e.TAG_ID.ANNOTATION_XML, $e.NS.MATHML], [$e.TAG_ID.MI, $e.NS.MATHML], [$e.TAG_ID.MN, $e.NS.MATHML], [$e.TAG_ID.MO, $e.NS.MATHML], [$e.TAG_ID.MS, $e.NS.MATHML], [$e.TAG_ID.MTEXT, $e.NS.MATHML], [$e.TAG_ID.DESC, $e.NS.SVG], [$e.TAG_ID.FOREIGN_OBJECT, $e.NS.SVG], [$e.TAG_ID.TITLE, $e.NS.SVG]]);
var SEe = [$e.TAG_ID.H1, $e.TAG_ID.H2, $e.TAG_ID.H3, $e.TAG_ID.H4, $e.TAG_ID.H5, $e.TAG_ID.H6];
var wEe = [$e.TAG_ID.TR, $e.TAG_ID.TEMPLATE, $e.TAG_ID.HTML];
var AEe = [$e.TAG_ID.TBODY, $e.TAG_ID.TFOOT, $e.TAG_ID.THEAD, $e.TAG_ID.TEMPLATE, $e.TAG_ID.HTML];
var OEe = [$e.TAG_ID.TABLE, $e.TAG_ID.TEMPLATE, $e.TAG_ID.HTML];
var IEe = [$e.TAG_ID.TD, $e.TAG_ID.TH];
var PEe = function() {
  function e13(t, r, n) {
    yEe(this, e13), this.treeAdapter = r, this.handler = n, this.items = [], this.tagIDs = [], this.stackTop = -1, this.tmplCount = 0, this.currentTagId = $e.TAG_ID.UNKNOWN, this.current = t;
  }
  return bEe(e13, [{
    key: "currentTmplContentOrNode",
    get: function() {
      return this._isInTemplate() ? this.treeAdapter.getTemplateContent(this.current) : this.current;
    }
  }, {
    key: "_indexOf",
    value: function(r) {
      return this.items.lastIndexOf(r, this.stackTop);
    }
    //Update current element
  }, {
    key: "_isInTemplate",
    value: function() {
      return this.currentTagId === $e.TAG_ID.TEMPLATE && this.treeAdapter.getNamespaceURI(this.current) === $e.NS.HTML;
    }
  }, {
    key: "_updateCurrentElement",
    value: function() {
      this.current = this.items[this.stackTop], this.currentTagId = this.tagIDs[this.stackTop];
    }
    //Mutations
  }, {
    key: "push",
    value: function(r, n) {
      this.stackTop++, this.items[this.stackTop] = r, this.current = r, this.tagIDs[this.stackTop] = n, this.currentTagId = n, this._isInTemplate() && this.tmplCount++, this.handler.onItemPush(r, n, true);
    }
  }, {
    key: "pop",
    value: function() {
      const r = this.current;
      this.tmplCount > 0 && this._isInTemplate() && this.tmplCount--, this.stackTop--, this._updateCurrentElement(), this.handler.onItemPop(r, true);
    }
  }, {
    key: "replace",
    value: function(r, n) {
      const i = this._indexOf(r);
      this.items[i] = n, i === this.stackTop && (this.current = n);
    }
  }, {
    key: "insertAfter",
    value: function(r, n, i) {
      const o = this._indexOf(r) + 1;
      this.items.splice(o, 0, n), this.tagIDs.splice(o, 0, i), this.stackTop++, o === this.stackTop && this._updateCurrentElement(), this.handler.onItemPush(this.current, this.currentTagId, o === this.stackTop);
    }
  }, {
    key: "popUntilTagNamePopped",
    value: function(r) {
      let n = this.stackTop + 1;
      do
        n = this.tagIDs.lastIndexOf(r, n - 1);
      while (n > 0 && this.treeAdapter.getNamespaceURI(this.items[n]) !== $e.NS.HTML);
      this.shortenToLength(n < 0 ? 0 : n);
    }
  }, {
    key: "shortenToLength",
    value: function(r) {
      for (; this.stackTop >= r; ) {
        const n = this.current;
        this.tmplCount > 0 && this._isInTemplate() && (this.tmplCount -= 1), this.stackTop--, this._updateCurrentElement(), this.handler.onItemPop(n, this.stackTop < r);
      }
    }
  }, {
    key: "popUntilElementPopped",
    value: function(r) {
      const n = this._indexOf(r);
      this.shortenToLength(n < 0 ? 0 : n);
    }
  }, {
    key: "popUntilPopped",
    value: function(r, n) {
      const i = this._indexOfTagNames(r, n);
      this.shortenToLength(i < 0 ? 0 : i);
    }
  }, {
    key: "popUntilNumberedHeaderPopped",
    value: function() {
      this.popUntilPopped(SEe, $e.NS.HTML);
    }
  }, {
    key: "popUntilTableCellPopped",
    value: function() {
      this.popUntilPopped(IEe, $e.NS.HTML);
    }
  }, {
    key: "popAllUpToHtmlElement",
    value: function() {
      this.tmplCount = 0, this.shortenToLength(1);
    }
  }, {
    key: "_indexOfTagNames",
    value: function(r, n) {
      for (let i = this.stackTop; i >= 0; i--)
        if (r.includes(this.tagIDs[i]) && this.treeAdapter.getNamespaceURI(this.items[i]) === n)
          return i;
      return -1;
    }
  }, {
    key: "clearBackTo",
    value: function(r, n) {
      const i = this._indexOfTagNames(r, n);
      this.shortenToLength(i + 1);
    }
  }, {
    key: "clearBackToTableContext",
    value: function() {
      this.clearBackTo(OEe, $e.NS.HTML);
    }
  }, {
    key: "clearBackToTableBodyContext",
    value: function() {
      this.clearBackTo(AEe, $e.NS.HTML);
    }
  }, {
    key: "clearBackToTableRowContext",
    value: function() {
      this.clearBackTo(wEe, $e.NS.HTML);
    }
  }, {
    key: "remove",
    value: function(r) {
      const n = this._indexOf(r);
      n >= 0 && (n === this.stackTop ? this.pop() : (this.items.splice(n, 1), this.tagIDs.splice(n, 1), this.stackTop--, this._updateCurrentElement(), this.handler.onItemPop(r, false)));
    }
    //Search
  }, {
    key: "tryPeekProperlyNestedBodyElement",
    value: function() {
      return this.stackTop >= 1 && this.tagIDs[1] === $e.TAG_ID.BODY ? this.items[1] : null;
    }
  }, {
    key: "contains",
    value: function(r) {
      return this._indexOf(r) > -1;
    }
  }, {
    key: "getCommonAncestor",
    value: function(r) {
      const n = this._indexOf(r) - 1;
      return n >= 0 ? this.items[n] : null;
    }
  }, {
    key: "isRootHtmlElementCurrent",
    value: function() {
      return this.stackTop === 0 && this.tagIDs[0] === $e.TAG_ID.HTML;
    }
    //Element in scope
  }, {
    key: "hasInScope",
    value: function(r) {
      for (let n = this.stackTop; n >= 0; n--) {
        const i = this.tagIDs[n], o = this.treeAdapter.getNamespaceURI(this.items[n]);
        if (i === r && o === $e.NS.HTML)
          return true;
        if (l_.get(i) === o)
          return false;
      }
      return true;
    }
  }, {
    key: "hasNumberedHeaderInScope",
    value: function() {
      for (let r = this.stackTop; r >= 0; r--) {
        const n = this.tagIDs[r], i = this.treeAdapter.getNamespaceURI(this.items[r]);
        if ((0, $e.isNumberedHeader)(n) && i === $e.NS.HTML)
          return true;
        if (l_.get(n) === i)
          return false;
      }
      return true;
    }
  }, {
    key: "hasInListItemScope",
    value: function(r) {
      for (let n = this.stackTop; n >= 0; n--) {
        const i = this.tagIDs[n], o = this.treeAdapter.getNamespaceURI(this.items[n]);
        if (i === r && o === $e.NS.HTML)
          return true;
        if ((i === $e.TAG_ID.UL || i === $e.TAG_ID.OL) && o === $e.NS.HTML || l_.get(i) === o)
          return false;
      }
      return true;
    }
  }, {
    key: "hasInButtonScope",
    value: function(r) {
      for (let n = this.stackTop; n >= 0; n--) {
        const i = this.tagIDs[n], o = this.treeAdapter.getNamespaceURI(this.items[n]);
        if (i === r && o === $e.NS.HTML)
          return true;
        if (i === $e.TAG_ID.BUTTON && o === $e.NS.HTML || l_.get(i) === o)
          return false;
      }
      return true;
    }
  }, {
    key: "hasInTableScope",
    value: function(r) {
      for (let n = this.stackTop; n >= 0; n--) {
        const i = this.tagIDs[n];
        if (this.treeAdapter.getNamespaceURI(this.items[n]) === $e.NS.HTML) {
          if (i === r)
            return true;
          if (i === $e.TAG_ID.TABLE || i === $e.TAG_ID.TEMPLATE || i === $e.TAG_ID.HTML)
            return false;
        }
      }
      return true;
    }
  }, {
    key: "hasTableBodyContextInTableScope",
    value: function() {
      for (let r = this.stackTop; r >= 0; r--) {
        const n = this.tagIDs[r];
        if (this.treeAdapter.getNamespaceURI(this.items[r]) === $e.NS.HTML) {
          if (n === $e.TAG_ID.TBODY || n === $e.TAG_ID.THEAD || n === $e.TAG_ID.TFOOT)
            return true;
          if (n === $e.TAG_ID.TABLE || n === $e.TAG_ID.HTML)
            return false;
        }
      }
      return true;
    }
  }, {
    key: "hasInSelectScope",
    value: function(r) {
      for (let n = this.stackTop; n >= 0; n--) {
        const i = this.tagIDs[n];
        if (this.treeAdapter.getNamespaceURI(this.items[n]) === $e.NS.HTML) {
          if (i === r)
            return true;
          if (i !== $e.TAG_ID.OPTION && i !== $e.TAG_ID.OPTGROUP)
            return false;
        }
      }
      return true;
    }
    //Implied end tags
  }, {
    key: "generateImpliedEndTags",
    value: function() {
      for (; L2.has(this.currentTagId); )
        this.pop();
    }
  }, {
    key: "generateImpliedEndTagsThoroughly",
    value: function() {
      for (; DH.has(this.currentTagId); )
        this.pop();
    }
  }, {
    key: "generateImpliedEndTagsWithExclusion",
    value: function(r) {
      for (; this.currentTagId !== r && DH.has(this.currentTagId); )
        this.pop();
    }
  }]), e13;
}();
j1.OpenElementStack = PEe;
var B2 = {};
(function(e13) {
  function t(c, f) {
    if (!(c instanceof f))
      throw new TypeError("Cannot call a class as a function");
  }
  function r(c, f) {
    for (var h = 0; h < f.length; h++) {
      var d = f[h];
      d.enumerable = d.enumerable || false, d.configurable = true, "value" in d && (d.writable = true), Object.defineProperty(c, i(d.key), d);
    }
  }
  function n(c, f, h) {
    return f && r(c.prototype, f), Object.defineProperty(c, "prototype", { writable: false }), c;
  }
  function i(c) {
    var f = o(c, "string");
    return typeof f == "symbol" ? f : String(f);
  }
  function o(c, f) {
    if (typeof c != "object" || c === null)
      return c;
    var h = c[Symbol.toPrimitive];
    if (h !== void 0) {
      var d = h.call(c, f);
      if (typeof d != "object")
        return d;
      throw new TypeError("@@toPrimitive must return a primitive value.");
    }
    return String(c);
  }
  Object.defineProperty(e13, "__esModule", {
    value: true
  }), e13.FormattingElementList = e13.EntryType = void 0;
  const a = 3;
  var s;
  (function(c) {
    c[c.Marker = 0] = "Marker", c[c.Element = 1] = "Element";
  })(s = e13.EntryType || (e13.EntryType = {}));
  const l = {
    type: s.Marker
  };
  let u = function() {
    function c(f) {
      t(this, c), this.treeAdapter = f, this.entries = [], this.bookmark = null;
    }
    return n(c, [{
      key: "_getNoahArkConditionCandidates",
      value: function(h, d) {
        const p = [], m = d.length, g = this.treeAdapter.getTagName(h), v = this.treeAdapter.getNamespaceURI(h);
        for (let b = 0; b < this.entries.length; b++) {
          const y = this.entries[b];
          if (y.type === s.Marker)
            break;
          const {
            element: _
          } = y;
          if (this.treeAdapter.getTagName(_) === g && this.treeAdapter.getNamespaceURI(_) === v) {
            const T = this.treeAdapter.getAttrList(_);
            T.length === m && p.push({
              idx: b,
              attrs: T
            });
          }
        }
        return p;
      }
    }, {
      key: "_ensureNoahArkCondition",
      value: function(h) {
        if (this.entries.length < a)
          return;
        const d = this.treeAdapter.getAttrList(h), p = this._getNoahArkConditionCandidates(h, d);
        if (p.length < a)
          return;
        const m = new Map(d.map((v) => [v.name, v.value]));
        let g = 0;
        for (let v = 0; v < p.length; v++) {
          const b = p[v];
          b.attrs.every((y) => m.get(y.name) === y.value) && (g += 1, g >= a && this.entries.splice(b.idx, 1));
        }
      }
      //Mutations
    }, {
      key: "insertMarker",
      value: function() {
        this.entries.unshift(l);
      }
    }, {
      key: "pushElement",
      value: function(h, d) {
        this._ensureNoahArkCondition(h), this.entries.unshift({
          type: s.Element,
          element: h,
          token: d
        });
      }
    }, {
      key: "insertElementAfterBookmark",
      value: function(h, d) {
        const p = this.entries.indexOf(this.bookmark);
        this.entries.splice(p, 0, {
          type: s.Element,
          element: h,
          token: d
        });
      }
    }, {
      key: "removeEntry",
      value: function(h) {
        const d = this.entries.indexOf(h);
        d >= 0 && this.entries.splice(d, 1);
      }
      /**
       * Clears the list of formatting elements up to the last marker.
       *
       * @see https://html.spec.whatwg.org/multipage/parsing.html#clear-the-list-of-active-formatting-elements-up-to-the-last-marker
       */
    }, {
      key: "clearToLastMarker",
      value: function() {
        const h = this.entries.indexOf(l);
        h >= 0 ? this.entries.splice(0, h + 1) : this.entries.length = 0;
      }
      //Search
    }, {
      key: "getElementEntryInScopeWithTagName",
      value: function(h) {
        const d = this.entries.find((p) => p.type === s.Marker || this.treeAdapter.getTagName(p.element) === h);
        return d && d.type === s.Element ? d : null;
      }
    }, {
      key: "getElementEntry",
      value: function(h) {
        return this.entries.find((d) => d.type === s.Element && d.element === h);
      }
    }]), c;
  }();
  e13.FormattingElementList = u;
})(B2);
var G1 = {};
(function(e13) {
  Object.defineProperty(e13, "__esModule", {
    value: true
  }), e13.defaultTreeAdapter = void 0;
  const t = Xs;
  function r(n) {
    return {
      nodeName: "#text",
      value: n,
      parentNode: null
    };
  }
  e13.defaultTreeAdapter = {
    //Node construction
    createDocument() {
      return {
        nodeName: "#document",
        mode: t.DOCUMENT_MODE.NO_QUIRKS,
        childNodes: []
      };
    },
    createDocumentFragment() {
      return {
        nodeName: "#document-fragment",
        childNodes: []
      };
    },
    createElement(n, i, o) {
      return {
        nodeName: n,
        tagName: n,
        attrs: o,
        namespaceURI: i,
        childNodes: [],
        parentNode: null
      };
    },
    createCommentNode(n) {
      return {
        nodeName: "#comment",
        data: n,
        parentNode: null
      };
    },
    //Tree mutation
    appendChild(n, i) {
      n.childNodes.push(i), i.parentNode = n;
    },
    insertBefore(n, i, o) {
      const a = n.childNodes.indexOf(o);
      n.childNodes.splice(a, 0, i), i.parentNode = n;
    },
    setTemplateContent(n, i) {
      n.content = i;
    },
    getTemplateContent(n) {
      return n.content;
    },
    setDocumentType(n, i, o, a) {
      const s = n.childNodes.find((l) => l.nodeName === "#documentType");
      if (s)
        s.name = i, s.publicId = o, s.systemId = a;
      else {
        const l = {
          nodeName: "#documentType",
          name: i,
          publicId: o,
          systemId: a,
          parentNode: null
        };
        e13.defaultTreeAdapter.appendChild(n, l);
      }
    },
    setDocumentMode(n, i) {
      n.mode = i;
    },
    getDocumentMode(n) {
      return n.mode;
    },
    detachNode(n) {
      if (n.parentNode) {
        const i = n.parentNode.childNodes.indexOf(n);
        n.parentNode.childNodes.splice(i, 1), n.parentNode = null;
      }
    },
    insertText(n, i) {
      if (n.childNodes.length > 0) {
        const o = n.childNodes[n.childNodes.length - 1];
        if (e13.defaultTreeAdapter.isTextNode(o)) {
          o.value += i;
          return;
        }
      }
      e13.defaultTreeAdapter.appendChild(n, r(i));
    },
    insertTextBefore(n, i, o) {
      const a = n.childNodes[n.childNodes.indexOf(o) - 1];
      a && e13.defaultTreeAdapter.isTextNode(a) ? a.value += i : e13.defaultTreeAdapter.insertBefore(n, r(i), o);
    },
    adoptAttributes(n, i) {
      const o = new Set(n.attrs.map((a) => a.name));
      for (let a = 0; a < i.length; a++)
        o.has(i[a].name) || n.attrs.push(i[a]);
    },
    //Tree traversing
    getFirstChild(n) {
      return n.childNodes[0];
    },
    getChildNodes(n) {
      return n.childNodes;
    },
    getParentNode(n) {
      return n.parentNode;
    },
    getAttrList(n) {
      return n.attrs;
    },
    //Node data
    getTagName(n) {
      return n.tagName;
    },
    getNamespaceURI(n) {
      return n.namespaceURI;
    },
    getTextNodeContent(n) {
      return n.value;
    },
    getCommentNodeContent(n) {
      return n.data;
    },
    getDocumentTypeNodeName(n) {
      return n.name;
    },
    getDocumentTypeNodePublicId(n) {
      return n.publicId;
    },
    getDocumentTypeNodeSystemId(n) {
      return n.systemId;
    },
    //Node types
    isTextNode(n) {
      return n.nodeName === "#text";
    },
    isCommentNode(n) {
      return n.nodeName === "#comment";
    },
    isDocumentTypeNode(n) {
      return n.nodeName === "#documentType";
    },
    isElementNode(n) {
      return Object.prototype.hasOwnProperty.call(n, "tagName");
    },
    // Source code location
    setNodeSourceCodeLocation(n, i) {
      n.sourceCodeLocation = i;
    },
    getNodeSourceCodeLocation(n) {
      return n.sourceCodeLocation;
    },
    updateNodeSourceCodeLocation(n, i) {
      n.sourceCodeLocation = Object.assign(Object.assign({}, n.sourceCodeLocation), i);
    }
  };
})(G1);
var Td = {};
Object.defineProperty(Td, "__esModule", {
  value: true
});
Td.getDocumentMode = Td.isConforming = void 0;
var Oh = Xs;
var F2 = "html";
var CEe = "about:legacy-compat";
var xEe = "http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd";
var $2 = ["+//silmaril//dtd html pro v0r11 19970101//", "-//as//dtd html 3.0 aswedit + extensions//", "-//advasoft ltd//dtd html 3.0 aswedit + extensions//", "-//ietf//dtd html 2.0 level 1//", "-//ietf//dtd html 2.0 level 2//", "-//ietf//dtd html 2.0 strict level 1//", "-//ietf//dtd html 2.0 strict level 2//", "-//ietf//dtd html 2.0 strict//", "-//ietf//dtd html 2.0//", "-//ietf//dtd html 2.1e//", "-//ietf//dtd html 3.0//", "-//ietf//dtd html 3.2 final//", "-//ietf//dtd html 3.2//", "-//ietf//dtd html 3//", "-//ietf//dtd html level 0//", "-//ietf//dtd html level 1//", "-//ietf//dtd html level 2//", "-//ietf//dtd html level 3//", "-//ietf//dtd html strict level 0//", "-//ietf//dtd html strict level 1//", "-//ietf//dtd html strict level 2//", "-//ietf//dtd html strict level 3//", "-//ietf//dtd html strict//", "-//ietf//dtd html//", "-//metrius//dtd metrius presentational//", "-//microsoft//dtd internet explorer 2.0 html strict//", "-//microsoft//dtd internet explorer 2.0 html//", "-//microsoft//dtd internet explorer 2.0 tables//", "-//microsoft//dtd internet explorer 3.0 html strict//", "-//microsoft//dtd internet explorer 3.0 html//", "-//microsoft//dtd internet explorer 3.0 tables//", "-//netscape comm. corp.//dtd html//", "-//netscape comm. corp.//dtd strict html//", "-//o'reilly and associates//dtd html 2.0//", "-//o'reilly and associates//dtd html extended 1.0//", "-//o'reilly and associates//dtd html extended relaxed 1.0//", "-//sq//dtd html 2.0 hotmetal + extensions//", "-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//", "-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//", "-//spyglass//dtd html 2.0 extended//", "-//sun microsystems corp.//dtd hotjava html//", "-//sun microsystems corp.//dtd hotjava strict html//", "-//w3c//dtd html 3 1995-03-24//", "-//w3c//dtd html 3.2 draft//", "-//w3c//dtd html 3.2 final//", "-//w3c//dtd html 3.2//", "-//w3c//dtd html 3.2s draft//", "-//w3c//dtd html 4.0 frameset//", "-//w3c//dtd html 4.0 transitional//", "-//w3c//dtd html experimental 19960712//", "-//w3c//dtd html experimental 970421//", "-//w3c//dtd w3 html//", "-//w3o//dtd w3 html 3.0//", "-//webtechs//dtd mozilla html 2.0//", "-//webtechs//dtd mozilla html//"];
var kEe = [...$2, "-//w3c//dtd html 4.01 frameset//", "-//w3c//dtd html 4.01 transitional//"];
var DEe = /* @__PURE__ */ new Set(["-//w3o//dtd w3 html strict 3.0//en//", "-/w3c/dtd html 4.0 transitional/en", "html"]);
var H2 = ["-//w3c//dtd xhtml 1.0 frameset//", "-//w3c//dtd xhtml 1.0 transitional//"];
var REe = [...H2, "-//w3c//dtd html 4.01 frameset//", "-//w3c//dtd html 4.01 transitional//"];
function RH(e13, t) {
  return t.some((r) => e13.startsWith(r));
}
function NEe(e13) {
  return e13.name === F2 && e13.publicId === null && (e13.systemId === null || e13.systemId === CEe);
}
Td.isConforming = NEe;
function MEe(e13) {
  if (e13.name !== F2)
    return Oh.DOCUMENT_MODE.QUIRKS;
  const {
    systemId: t
  } = e13;
  if (t && t.toLowerCase() === xEe)
    return Oh.DOCUMENT_MODE.QUIRKS;
  let {
    publicId: r
  } = e13;
  if (r !== null) {
    if (r = r.toLowerCase(), DEe.has(r))
      return Oh.DOCUMENT_MODE.QUIRKS;
    let n = t === null ? kEe : $2;
    if (RH(r, n))
      return Oh.DOCUMENT_MODE.QUIRKS;
    if (n = t === null ? H2 : REe, RH(r, n))
      return Oh.DOCUMENT_MODE.LIMITED_QUIRKS;
  }
  return Oh.DOCUMENT_MODE.NO_QUIRKS;
}
Td.getDocumentMode = MEe;
var xN = {};
(function(e13) {
  Object.defineProperty(e13, "__esModule", {
    value: true
  }), e13.isIntegrationPoint = e13.adjustTokenSVGTagName = e13.adjustTokenXMLAttrs = e13.adjustTokenSVGAttrs = e13.adjustTokenMathMLAttrs = e13.causesExit = e13.SVG_TAG_NAMES_ADJUSTMENT_MAP = void 0;
  const t = Xs, r = {
    TEXT_HTML: "text/html",
    APPLICATION_XML: "application/xhtml+xml"
  }, n = "definitionurl", i = "definitionURL", o = new Map(["attributeName", "attributeType", "baseFrequency", "baseProfile", "calcMode", "clipPathUnits", "diffuseConstant", "edgeMode", "filterUnits", "glyphRef", "gradientTransform", "gradientUnits", "kernelMatrix", "kernelUnitLength", "keyPoints", "keySplines", "keyTimes", "lengthAdjust", "limitingConeAngle", "markerHeight", "markerUnits", "markerWidth", "maskContentUnits", "maskUnits", "numOctaves", "pathLength", "patternContentUnits", "patternTransform", "patternUnits", "pointsAtX", "pointsAtY", "pointsAtZ", "preserveAlpha", "preserveAspectRatio", "primitiveUnits", "refX", "refY", "repeatCount", "repeatDur", "requiredExtensions", "requiredFeatures", "specularConstant", "specularExponent", "spreadMethod", "startOffset", "stdDeviation", "stitchTiles", "surfaceScale", "systemLanguage", "tableValues", "targetX", "targetY", "textLength", "viewBox", "viewTarget", "xChannelSelector", "yChannelSelector", "zoomAndPan"].map((g) => [g.toLowerCase(), g])), a = /* @__PURE__ */ new Map([["xlink:actuate", {
    prefix: "xlink",
    name: "actuate",
    namespace: t.NS.XLINK
  }], ["xlink:arcrole", {
    prefix: "xlink",
    name: "arcrole",
    namespace: t.NS.XLINK
  }], ["xlink:href", {
    prefix: "xlink",
    name: "href",
    namespace: t.NS.XLINK
  }], ["xlink:role", {
    prefix: "xlink",
    name: "role",
    namespace: t.NS.XLINK
  }], ["xlink:show", {
    prefix: "xlink",
    name: "show",
    namespace: t.NS.XLINK
  }], ["xlink:title", {
    prefix: "xlink",
    name: "title",
    namespace: t.NS.XLINK
  }], ["xlink:type", {
    prefix: "xlink",
    name: "type",
    namespace: t.NS.XLINK
  }], ["xml:base", {
    prefix: "xml",
    name: "base",
    namespace: t.NS.XML
  }], ["xml:lang", {
    prefix: "xml",
    name: "lang",
    namespace: t.NS.XML
  }], ["xml:space", {
    prefix: "xml",
    name: "space",
    namespace: t.NS.XML
  }], ["xmlns", {
    prefix: "",
    name: "xmlns",
    namespace: t.NS.XMLNS
  }], ["xmlns:xlink", {
    prefix: "xmlns",
    name: "xlink",
    namespace: t.NS.XMLNS
  }]]);
  e13.SVG_TAG_NAMES_ADJUSTMENT_MAP = new Map(["altGlyph", "altGlyphDef", "altGlyphItem", "animateColor", "animateMotion", "animateTransform", "clipPath", "feBlend", "feColorMatrix", "feComponentTransfer", "feComposite", "feConvolveMatrix", "feDiffuseLighting", "feDisplacementMap", "feDistantLight", "feFlood", "feFuncA", "feFuncB", "feFuncG", "feFuncR", "feGaussianBlur", "feImage", "feMerge", "feMergeNode", "feMorphology", "feOffset", "fePointLight", "feSpecularLighting", "feSpotLight", "feTile", "feTurbulence", "foreignObject", "glyphRef", "linearGradient", "radialGradient", "textPath"].map((g) => [g.toLowerCase(), g]));
  const s = /* @__PURE__ */ new Set([t.TAG_ID.B, t.TAG_ID.BIG, t.TAG_ID.BLOCKQUOTE, t.TAG_ID.BODY, t.TAG_ID.BR, t.TAG_ID.CENTER, t.TAG_ID.CODE, t.TAG_ID.DD, t.TAG_ID.DIV, t.TAG_ID.DL, t.TAG_ID.DT, t.TAG_ID.EM, t.TAG_ID.EMBED, t.TAG_ID.H1, t.TAG_ID.H2, t.TAG_ID.H3, t.TAG_ID.H4, t.TAG_ID.H5, t.TAG_ID.H6, t.TAG_ID.HEAD, t.TAG_ID.HR, t.TAG_ID.I, t.TAG_ID.IMG, t.TAG_ID.LI, t.TAG_ID.LISTING, t.TAG_ID.MENU, t.TAG_ID.META, t.TAG_ID.NOBR, t.TAG_ID.OL, t.TAG_ID.P, t.TAG_ID.PRE, t.TAG_ID.RUBY, t.TAG_ID.S, t.TAG_ID.SMALL, t.TAG_ID.SPAN, t.TAG_ID.STRONG, t.TAG_ID.STRIKE, t.TAG_ID.SUB, t.TAG_ID.SUP, t.TAG_ID.TABLE, t.TAG_ID.TT, t.TAG_ID.U, t.TAG_ID.UL, t.TAG_ID.VAR]);
  function l(g) {
    const v = g.tagID;
    return v === t.TAG_ID.FONT && g.attrs.some(({
      name: y
    }) => y === t.ATTRS.COLOR || y === t.ATTRS.SIZE || y === t.ATTRS.FACE) || s.has(v);
  }
  e13.causesExit = l;
  function u(g) {
    for (let v = 0; v < g.attrs.length; v++)
      if (g.attrs[v].name === n) {
        g.attrs[v].name = i;
        break;
      }
  }
  e13.adjustTokenMathMLAttrs = u;
  function c(g) {
    for (let v = 0; v < g.attrs.length; v++) {
      const b = o.get(g.attrs[v].name);
      b != null && (g.attrs[v].name = b);
    }
  }
  e13.adjustTokenSVGAttrs = c;
  function f(g) {
    for (let v = 0; v < g.attrs.length; v++) {
      const b = a.get(g.attrs[v].name);
      b && (g.attrs[v].prefix = b.prefix, g.attrs[v].name = b.name, g.attrs[v].namespace = b.namespace);
    }
  }
  e13.adjustTokenXMLAttrs = f;
  function h(g) {
    const v = e13.SVG_TAG_NAMES_ADJUSTMENT_MAP.get(g.tagName);
    v != null && (g.tagName = v, g.tagID = (0, t.getTagID)(g.tagName));
  }
  e13.adjustTokenSVGTagName = h;
  function d(g, v) {
    return v === t.NS.MATHML && (g === t.TAG_ID.MI || g === t.TAG_ID.MO || g === t.TAG_ID.MN || g === t.TAG_ID.MS || g === t.TAG_ID.MTEXT);
  }
  function p(g, v, b) {
    if (v === t.NS.MATHML && g === t.TAG_ID.ANNOTATION_XML) {
      for (let y = 0; y < b.length; y++)
        if (b[y].name === t.ATTRS.ENCODING) {
          const _ = b[y].value.toLowerCase();
          return _ === r.TEXT_HTML || _ === r.APPLICATION_XML;
        }
    }
    return v === t.NS.SVG && (g === t.TAG_ID.FOREIGN_OBJECT || g === t.TAG_ID.DESC || g === t.TAG_ID.TITLE);
  }
  function m(g, v, b, y) {
    return (!y || y === t.NS.HTML) && p(g, v, b) || (!y || y === t.NS.MATHML) && d(g, v);
  }
  e13.isIntegrationPoint = m;
})(xN);
function LEe(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function NH(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, FEe(n.key), n);
  }
}
function BEe(e13, t, r) {
  return t && NH(e13.prototype, t), r && NH(e13, r), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function FEe(e13) {
  var t = $Ee(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function $Ee(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
Object.defineProperty(iv, "__esModule", {
  value: true
});
iv.Parser = void 0;
var ui = bu;
var HEe = j1;
var MH = B2;
var UEe = G1;
var LH = Td;
var ya = xN;
var Un = ty;
var U2 = H1;
var k = Xs;
var hn = U1;
var jEe = "hidden";
var GEe = 8;
var zEe = 3;
var he;
(function(e13) {
  e13[e13.INITIAL = 0] = "INITIAL", e13[e13.BEFORE_HTML = 1] = "BEFORE_HTML", e13[e13.BEFORE_HEAD = 2] = "BEFORE_HEAD", e13[e13.IN_HEAD = 3] = "IN_HEAD", e13[e13.IN_HEAD_NO_SCRIPT = 4] = "IN_HEAD_NO_SCRIPT", e13[e13.AFTER_HEAD = 5] = "AFTER_HEAD", e13[e13.IN_BODY = 6] = "IN_BODY", e13[e13.TEXT = 7] = "TEXT", e13[e13.IN_TABLE = 8] = "IN_TABLE", e13[e13.IN_TABLE_TEXT = 9] = "IN_TABLE_TEXT", e13[e13.IN_CAPTION = 10] = "IN_CAPTION", e13[e13.IN_COLUMN_GROUP = 11] = "IN_COLUMN_GROUP", e13[e13.IN_TABLE_BODY = 12] = "IN_TABLE_BODY", e13[e13.IN_ROW = 13] = "IN_ROW", e13[e13.IN_CELL = 14] = "IN_CELL", e13[e13.IN_SELECT = 15] = "IN_SELECT", e13[e13.IN_SELECT_IN_TABLE = 16] = "IN_SELECT_IN_TABLE", e13[e13.IN_TEMPLATE = 17] = "IN_TEMPLATE", e13[e13.AFTER_BODY = 18] = "AFTER_BODY", e13[e13.IN_FRAMESET = 19] = "IN_FRAMESET", e13[e13.AFTER_FRAMESET = 20] = "AFTER_FRAMESET", e13[e13.AFTER_AFTER_BODY = 21] = "AFTER_AFTER_BODY", e13[e13.AFTER_AFTER_FRAMESET = 22] = "AFTER_AFTER_FRAMESET";
})(he || (he = {}));
var VEe = {
  startLine: -1,
  startCol: -1,
  startOffset: -1,
  endLine: -1,
  endCol: -1,
  endOffset: -1
};
var j2 = /* @__PURE__ */ new Set([k.TAG_ID.TABLE, k.TAG_ID.TBODY, k.TAG_ID.TFOOT, k.TAG_ID.THEAD, k.TAG_ID.TR]);
var BH = {
  scriptingEnabled: true,
  sourceCodeLocationInfo: false,
  treeAdapter: UEe.defaultTreeAdapter,
  onParseError: null
};
var XEe = function() {
  function e13(t, r, n = null, i = null) {
    LEe(this, e13), this.fragmentContext = n, this.scriptHandler = i, this.currentToken = null, this.stopped = false, this.insertionMode = he.INITIAL, this.originalInsertionMode = he.INITIAL, this.headElement = null, this.formElement = null, this.currentNotInHTML = false, this.tmplInsertionModeStack = [], this.pendingCharacterTokens = [], this.hasNonWhitespacePendingCharacterToken = false, this.framesetOk = true, this.skipNextNewLine = false, this.fosterParentingEnabled = false, this.options = Object.assign(Object.assign({}, BH), t), this.treeAdapter = this.options.treeAdapter, this.onParseError = this.options.onParseError, this.onParseError && (this.options.sourceCodeLocationInfo = true), this.document = r ?? this.treeAdapter.createDocument(), this.tokenizer = new ui.Tokenizer(this.options, this), this.activeFormattingElements = new MH.FormattingElementList(this.treeAdapter), this.fragmentContextID = n ? (0, k.getTagID)(this.treeAdapter.getTagName(n)) : k.TAG_ID.UNKNOWN, this._setContextModes(n ?? this.document, this.fragmentContextID), this.openElements = new HEe.OpenElementStack(this.document, this.treeAdapter, this);
  }
  return BEe(e13, [{
    key: "getFragment",
    value: function() {
      const r = this.treeAdapter.getFirstChild(this.document), n = this.treeAdapter.createDocumentFragment();
      return this._adoptNodes(r, n), n;
    }
    //Errors
  }, {
    key: "_err",
    value: function(r, n, i) {
      var o;
      if (!this.onParseError)
        return;
      const a = (o = r.location) !== null && o !== void 0 ? o : VEe, s = {
        code: n,
        startLine: a.startLine,
        startCol: a.startCol,
        startOffset: a.startOffset,
        endLine: i ? a.startLine : a.endLine,
        endCol: i ? a.startCol : a.endCol,
        endOffset: i ? a.startOffset : a.endOffset
      };
      this.onParseError(s);
    }
    //Stack events
  }, {
    key: "onItemPush",
    value: function(r, n, i) {
      var o, a;
      (a = (o = this.treeAdapter).onItemPush) === null || a === void 0 || a.call(o, r), i && this.openElements.stackTop > 0 && this._setContextModes(r, n);
    }
  }, {
    key: "onItemPop",
    value: function(r, n) {
      var i, o;
      if (this.options.sourceCodeLocationInfo && this._setEndLocation(r, this.currentToken), (o = (i = this.treeAdapter).onItemPop) === null || o === void 0 || o.call(i, r, this.openElements.current), n) {
        let a, s;
        this.openElements.stackTop === 0 && this.fragmentContext ? (a = this.fragmentContext, s = this.fragmentContextID) : {
          current: a,
          currentTagId: s
        } = this.openElements, this._setContextModes(a, s);
      }
    }
  }, {
    key: "_setContextModes",
    value: function(r, n) {
      const i = r === this.document || this.treeAdapter.getNamespaceURI(r) === k.NS.HTML;
      this.currentNotInHTML = !i, this.tokenizer.inForeignNode = !i && !this._isIntegrationPoint(n, r);
    }
  }, {
    key: "_switchToTextParsing",
    value: function(r, n) {
      this._insertElement(r, k.NS.HTML), this.tokenizer.state = n, this.originalInsertionMode = this.insertionMode, this.insertionMode = he.TEXT;
    }
  }, {
    key: "switchToPlaintextParsing",
    value: function() {
      this.insertionMode = he.TEXT, this.originalInsertionMode = he.IN_BODY, this.tokenizer.state = ui.TokenizerMode.PLAINTEXT;
    }
    //Fragment parsing
  }, {
    key: "_getAdjustedCurrentElement",
    value: function() {
      return this.openElements.stackTop === 0 && this.fragmentContext ? this.fragmentContext : this.openElements.current;
    }
  }, {
    key: "_findFormInFragmentContext",
    value: function() {
      let r = this.fragmentContext;
      for (; r; ) {
        if (this.treeAdapter.getTagName(r) === k.TAG_NAMES.FORM) {
          this.formElement = r;
          break;
        }
        r = this.treeAdapter.getParentNode(r);
      }
    }
  }, {
    key: "_initTokenizerForFragmentParsing",
    value: function() {
      if (!(!this.fragmentContext || this.treeAdapter.getNamespaceURI(this.fragmentContext) !== k.NS.HTML))
        switch (this.fragmentContextID) {
          case k.TAG_ID.TITLE:
          case k.TAG_ID.TEXTAREA: {
            this.tokenizer.state = ui.TokenizerMode.RCDATA;
            break;
          }
          case k.TAG_ID.STYLE:
          case k.TAG_ID.XMP:
          case k.TAG_ID.IFRAME:
          case k.TAG_ID.NOEMBED:
          case k.TAG_ID.NOFRAMES:
          case k.TAG_ID.NOSCRIPT: {
            this.tokenizer.state = ui.TokenizerMode.RAWTEXT;
            break;
          }
          case k.TAG_ID.SCRIPT: {
            this.tokenizer.state = ui.TokenizerMode.SCRIPT_DATA;
            break;
          }
          case k.TAG_ID.PLAINTEXT: {
            this.tokenizer.state = ui.TokenizerMode.PLAINTEXT;
            break;
          }
        }
    }
    //Tree mutation
  }, {
    key: "_setDocumentType",
    value: function(r) {
      const n = r.name || "", i = r.publicId || "", o = r.systemId || "";
      if (this.treeAdapter.setDocumentType(this.document, n, i, o), r.location) {
        const s = this.treeAdapter.getChildNodes(this.document).find((l) => this.treeAdapter.isDocumentTypeNode(l));
        s && this.treeAdapter.setNodeSourceCodeLocation(s, r.location);
      }
    }
  }, {
    key: "_attachElementToTree",
    value: function(r, n) {
      if (this.options.sourceCodeLocationInfo) {
        const i = n && Object.assign(Object.assign({}, n), {
          startTag: n
        });
        this.treeAdapter.setNodeSourceCodeLocation(r, i);
      }
      if (this._shouldFosterParentOnInsertion())
        this._fosterParentElement(r);
      else {
        const i = this.openElements.currentTmplContentOrNode;
        this.treeAdapter.appendChild(i, r);
      }
    }
  }, {
    key: "_appendElement",
    value: function(r, n) {
      const i = this.treeAdapter.createElement(r.tagName, n, r.attrs);
      this._attachElementToTree(i, r.location);
    }
  }, {
    key: "_insertElement",
    value: function(r, n) {
      const i = this.treeAdapter.createElement(r.tagName, n, r.attrs);
      this._attachElementToTree(i, r.location), this.openElements.push(i, r.tagID);
    }
  }, {
    key: "_insertFakeElement",
    value: function(r, n) {
      const i = this.treeAdapter.createElement(r, k.NS.HTML, []);
      this._attachElementToTree(i, null), this.openElements.push(i, n);
    }
  }, {
    key: "_insertTemplate",
    value: function(r) {
      const n = this.treeAdapter.createElement(r.tagName, k.NS.HTML, r.attrs), i = this.treeAdapter.createDocumentFragment();
      this.treeAdapter.setTemplateContent(n, i), this._attachElementToTree(n, r.location), this.openElements.push(n, r.tagID), this.options.sourceCodeLocationInfo && this.treeAdapter.setNodeSourceCodeLocation(i, null);
    }
  }, {
    key: "_insertFakeRootElement",
    value: function() {
      const r = this.treeAdapter.createElement(k.TAG_NAMES.HTML, k.NS.HTML, []);
      this.options.sourceCodeLocationInfo && this.treeAdapter.setNodeSourceCodeLocation(r, null), this.treeAdapter.appendChild(this.openElements.current, r), this.openElements.push(r, k.TAG_ID.HTML);
    }
  }, {
    key: "_appendCommentNode",
    value: function(r, n) {
      const i = this.treeAdapter.createCommentNode(r.data);
      this.treeAdapter.appendChild(n, i), this.options.sourceCodeLocationInfo && this.treeAdapter.setNodeSourceCodeLocation(i, r.location);
    }
  }, {
    key: "_insertCharacters",
    value: function(r) {
      let n, i;
      if (this._shouldFosterParentOnInsertion() ? ({
        parent: n,
        beforeElement: i
      } = this._findFosterParentingLocation(), i ? this.treeAdapter.insertTextBefore(n, r.chars, i) : this.treeAdapter.insertText(n, r.chars)) : (n = this.openElements.currentTmplContentOrNode, this.treeAdapter.insertText(n, r.chars)), !r.location)
        return;
      const o = this.treeAdapter.getChildNodes(n), a = i ? o.lastIndexOf(i) : o.length, s = o[a - 1];
      if (this.treeAdapter.getNodeSourceCodeLocation(s)) {
        const {
          endLine: u,
          endCol: c,
          endOffset: f
        } = r.location;
        this.treeAdapter.updateNodeSourceCodeLocation(s, {
          endLine: u,
          endCol: c,
          endOffset: f
        });
      } else this.options.sourceCodeLocationInfo && this.treeAdapter.setNodeSourceCodeLocation(s, r.location);
    }
  }, {
    key: "_adoptNodes",
    value: function(r, n) {
      for (let i = this.treeAdapter.getFirstChild(r); i; i = this.treeAdapter.getFirstChild(r))
        this.treeAdapter.detachNode(i), this.treeAdapter.appendChild(n, i);
    }
  }, {
    key: "_setEndLocation",
    value: function(r, n) {
      if (this.treeAdapter.getNodeSourceCodeLocation(r) && n.location) {
        const i = n.location, o = this.treeAdapter.getTagName(r), a = (
          // NOTE: For cases like <p> <p> </p> - First 'p' closes without a closing
          // tag and for cases like <td> <p> </td> - 'p' closes without a closing tag.
          n.type === hn.TokenType.END_TAG && o === n.tagName ? {
            endTag: Object.assign({}, i),
            endLine: i.endLine,
            endCol: i.endCol,
            endOffset: i.endOffset
          } : {
            endLine: i.startLine,
            endCol: i.startCol,
            endOffset: i.startOffset
          }
        );
        this.treeAdapter.updateNodeSourceCodeLocation(r, a);
      }
    }
    //Token processing
  }, {
    key: "shouldProcessStartTagTokenInForeignContent",
    value: function(r) {
      if (!this.currentNotInHTML)
        return false;
      let n, i;
      return this.openElements.stackTop === 0 && this.fragmentContext ? (n = this.fragmentContext, i = this.fragmentContextID) : {
        current: n,
        currentTagId: i
      } = this.openElements, r.tagID === k.TAG_ID.SVG && this.treeAdapter.getTagName(n) === k.TAG_NAMES.ANNOTATION_XML && this.treeAdapter.getNamespaceURI(n) === k.NS.MATHML ? false : (
        // Check that `current` is not an integration point for HTML or MathML elements.
        this.tokenizer.inForeignNode || // If it _is_ an integration point, then we might have to check that it is not an HTML
        // integration point.
        (r.tagID === k.TAG_ID.MGLYPH || r.tagID === k.TAG_ID.MALIGNMARK) && !this._isIntegrationPoint(i, n, k.NS.HTML)
      );
    }
  }, {
    key: "_processToken",
    value: function(r) {
      switch (r.type) {
        case hn.TokenType.CHARACTER: {
          this.onCharacter(r);
          break;
        }
        case hn.TokenType.NULL_CHARACTER: {
          this.onNullCharacter(r);
          break;
        }
        case hn.TokenType.COMMENT: {
          this.onComment(r);
          break;
        }
        case hn.TokenType.DOCTYPE: {
          this.onDoctype(r);
          break;
        }
        case hn.TokenType.START_TAG: {
          this._processStartTag(r);
          break;
        }
        case hn.TokenType.END_TAG: {
          this.onEndTag(r);
          break;
        }
        case hn.TokenType.EOF: {
          this.onEof(r);
          break;
        }
        case hn.TokenType.WHITESPACE_CHARACTER: {
          this.onWhitespaceCharacter(r);
          break;
        }
      }
    }
    //Integration points
  }, {
    key: "_isIntegrationPoint",
    value: function(r, n, i) {
      const o = this.treeAdapter.getNamespaceURI(n), a = this.treeAdapter.getAttrList(n);
      return ya.isIntegrationPoint(r, o, a, i);
    }
    //Active formatting elements reconstruction
  }, {
    key: "_reconstructActiveFormattingElements",
    value: function() {
      const r = this.activeFormattingElements.entries.length;
      if (r) {
        const n = this.activeFormattingElements.entries.findIndex((o) => o.type === MH.EntryType.Marker || this.openElements.contains(o.element)), i = n < 0 ? r - 1 : n - 1;
        for (let o = i; o >= 0; o--) {
          const a = this.activeFormattingElements.entries[o];
          this._insertElement(a.token, this.treeAdapter.getNamespaceURI(a.element)), a.element = this.openElements.current;
        }
      }
    }
    //Close elements
  }, {
    key: "_closeTableCell",
    value: function() {
      this.openElements.generateImpliedEndTags(), this.openElements.popUntilTableCellPopped(), this.activeFormattingElements.clearToLastMarker(), this.insertionMode = he.IN_ROW;
    }
  }, {
    key: "_closePElement",
    value: function() {
      this.openElements.generateImpliedEndTagsWithExclusion(k.TAG_ID.P), this.openElements.popUntilTagNamePopped(k.TAG_ID.P);
    }
    //Insertion modes
  }, {
    key: "_resetInsertionMode",
    value: function() {
      for (let r = this.openElements.stackTop; r >= 0; r--)
        switch (r === 0 && this.fragmentContext ? this.fragmentContextID : this.openElements.tagIDs[r]) {
          case k.TAG_ID.TR: {
            this.insertionMode = he.IN_ROW;
            return;
          }
          case k.TAG_ID.TBODY:
          case k.TAG_ID.THEAD:
          case k.TAG_ID.TFOOT: {
            this.insertionMode = he.IN_TABLE_BODY;
            return;
          }
          case k.TAG_ID.CAPTION: {
            this.insertionMode = he.IN_CAPTION;
            return;
          }
          case k.TAG_ID.COLGROUP: {
            this.insertionMode = he.IN_COLUMN_GROUP;
            return;
          }
          case k.TAG_ID.TABLE: {
            this.insertionMode = he.IN_TABLE;
            return;
          }
          case k.TAG_ID.BODY: {
            this.insertionMode = he.IN_BODY;
            return;
          }
          case k.TAG_ID.FRAMESET: {
            this.insertionMode = he.IN_FRAMESET;
            return;
          }
          case k.TAG_ID.SELECT: {
            this._resetInsertionModeForSelect(r);
            return;
          }
          case k.TAG_ID.TEMPLATE: {
            this.insertionMode = this.tmplInsertionModeStack[0];
            return;
          }
          case k.TAG_ID.HTML: {
            this.insertionMode = this.headElement ? he.AFTER_HEAD : he.BEFORE_HEAD;
            return;
          }
          case k.TAG_ID.TD:
          case k.TAG_ID.TH: {
            if (r > 0) {
              this.insertionMode = he.IN_CELL;
              return;
            }
            break;
          }
          case k.TAG_ID.HEAD: {
            if (r > 0) {
              this.insertionMode = he.IN_HEAD;
              return;
            }
            break;
          }
        }
      this.insertionMode = he.IN_BODY;
    }
  }, {
    key: "_resetInsertionModeForSelect",
    value: function(r) {
      if (r > 0)
        for (let n = r - 1; n > 0; n--) {
          const i = this.openElements.tagIDs[n];
          if (i === k.TAG_ID.TEMPLATE)
            break;
          if (i === k.TAG_ID.TABLE) {
            this.insertionMode = he.IN_SELECT_IN_TABLE;
            return;
          }
        }
      this.insertionMode = he.IN_SELECT;
    }
    //Foster parenting
  }, {
    key: "_isElementCausesFosterParenting",
    value: function(r) {
      return j2.has(r);
    }
  }, {
    key: "_shouldFosterParentOnInsertion",
    value: function() {
      return this.fosterParentingEnabled && this._isElementCausesFosterParenting(this.openElements.currentTagId);
    }
  }, {
    key: "_findFosterParentingLocation",
    value: function() {
      for (let r = this.openElements.stackTop; r >= 0; r--) {
        const n = this.openElements.items[r];
        switch (this.openElements.tagIDs[r]) {
          case k.TAG_ID.TEMPLATE: {
            if (this.treeAdapter.getNamespaceURI(n) === k.NS.HTML)
              return {
                parent: this.treeAdapter.getTemplateContent(n),
                beforeElement: null
              };
            break;
          }
          case k.TAG_ID.TABLE: {
            const i = this.treeAdapter.getParentNode(n);
            return i ? {
              parent: i,
              beforeElement: n
            } : {
              parent: this.openElements.items[r - 1],
              beforeElement: null
            };
          }
        }
      }
      return {
        parent: this.openElements.items[0],
        beforeElement: null
      };
    }
  }, {
    key: "_fosterParentElement",
    value: function(r) {
      const n = this._findFosterParentingLocation();
      n.beforeElement ? this.treeAdapter.insertBefore(n.parent, r, n.beforeElement) : this.treeAdapter.appendChild(n.parent, r);
    }
    //Special elements
  }, {
    key: "_isSpecialElement",
    value: function(r, n) {
      const i = this.treeAdapter.getNamespaceURI(r);
      return k.SPECIAL_ELEMENTS[i].has(n);
    }
  }, {
    key: "onCharacter",
    value: function(r) {
      if (this.skipNextNewLine = false, this.tokenizer.inForeignNode) {
        ESe(this, r);
        return;
      }
      switch (this.insertionMode) {
        case he.INITIAL: {
          Kp(this, r);
          break;
        }
        case he.BEFORE_HTML: {
          rg(this, r);
          break;
        }
        case he.BEFORE_HEAD: {
          ng(this, r);
          break;
        }
        case he.IN_HEAD: {
          ig(this, r);
          break;
        }
        case he.IN_HEAD_NO_SCRIPT: {
          og(this, r);
          break;
        }
        case he.AFTER_HEAD: {
          ag(this, r);
          break;
        }
        case he.IN_BODY:
        case he.IN_CAPTION:
        case he.IN_CELL:
        case he.IN_TEMPLATE: {
          z2(this, r);
          break;
        }
        case he.TEXT:
        case he.IN_SELECT:
        case he.IN_SELECT_IN_TABLE: {
          this._insertCharacters(r);
          break;
        }
        case he.IN_TABLE:
        case he.IN_TABLE_BODY:
        case he.IN_ROW: {
          rO(this, r);
          break;
        }
        case he.IN_TABLE_TEXT: {
          K2(this, r);
          break;
        }
        case he.IN_COLUMN_GROUP: {
          G0(this, r);
          break;
        }
        case he.AFTER_BODY: {
          z0(this, r);
          break;
        }
        case he.AFTER_AFTER_BODY: {
          cb(this, r);
          break;
        }
      }
    }
  }, {
    key: "onNullCharacter",
    value: function(r) {
      if (this.skipNextNewLine = false, this.tokenizer.inForeignNode) {
        TSe(this, r);
        return;
      }
      switch (this.insertionMode) {
        case he.INITIAL: {
          Kp(this, r);
          break;
        }
        case he.BEFORE_HTML: {
          rg(this, r);
          break;
        }
        case he.BEFORE_HEAD: {
          ng(this, r);
          break;
        }
        case he.IN_HEAD: {
          ig(this, r);
          break;
        }
        case he.IN_HEAD_NO_SCRIPT: {
          og(this, r);
          break;
        }
        case he.AFTER_HEAD: {
          ag(this, r);
          break;
        }
        case he.TEXT: {
          this._insertCharacters(r);
          break;
        }
        case he.IN_TABLE:
        case he.IN_TABLE_BODY:
        case he.IN_ROW: {
          rO(this, r);
          break;
        }
        case he.IN_COLUMN_GROUP: {
          G0(this, r);
          break;
        }
        case he.AFTER_BODY: {
          z0(this, r);
          break;
        }
        case he.AFTER_AFTER_BODY: {
          cb(this, r);
          break;
        }
      }
    }
  }, {
    key: "onComment",
    value: function(r) {
      if (this.skipNextNewLine = false, this.currentNotInHTML) {
        ZP(this, r);
        return;
      }
      switch (this.insertionMode) {
        case he.INITIAL:
        case he.BEFORE_HTML:
        case he.BEFORE_HEAD:
        case he.IN_HEAD:
        case he.IN_HEAD_NO_SCRIPT:
        case he.AFTER_HEAD:
        case he.IN_BODY:
        case he.IN_TABLE:
        case he.IN_CAPTION:
        case he.IN_COLUMN_GROUP:
        case he.IN_TABLE_BODY:
        case he.IN_ROW:
        case he.IN_CELL:
        case he.IN_SELECT:
        case he.IN_SELECT_IN_TABLE:
        case he.IN_TEMPLATE:
        case he.IN_FRAMESET:
        case he.AFTER_FRAMESET: {
          ZP(this, r);
          break;
        }
        case he.IN_TABLE_TEXT: {
          Zp(this, r);
          break;
        }
        case he.AFTER_BODY: {
          JEe(this, r);
          break;
        }
        case he.AFTER_AFTER_BODY:
        case he.AFTER_AFTER_FRAMESET: {
          e1e(this, r);
          break;
        }
      }
    }
  }, {
    key: "onDoctype",
    value: function(r) {
      switch (this.skipNextNewLine = false, this.insertionMode) {
        case he.INITIAL: {
          t1e(this, r);
          break;
        }
        case he.BEFORE_HEAD:
        case he.IN_HEAD:
        case he.IN_HEAD_NO_SCRIPT:
        case he.AFTER_HEAD: {
          this._err(r, Un.ERR.misplacedDoctype);
          break;
        }
        case he.IN_TABLE_TEXT: {
          Zp(this, r);
          break;
        }
      }
    }
  }, {
    key: "onStartTag",
    value: function(r) {
      this.skipNextNewLine = false, this.currentToken = r, this._processStartTag(r), r.selfClosing && !r.ackSelfClosing && this._err(r, Un.ERR.nonVoidHtmlElementStartTagWithTrailingSolidus);
    }
    /**
     * Processes a given start tag.
     *
     * `onStartTag` checks if a self-closing tag was recognized. When a token
     * is moved inbetween multiple insertion modes, this check for self-closing
     * could lead to false positives. To avoid this, `_processStartTag` is used
     * for nested calls.
     *
     * @param token The token to process.
     */
  }, {
    key: "_processStartTag",
    value: function(r) {
      this.shouldProcessStartTagTokenInForeignContent(r) ? SSe(this, r) : this._startTagOutsideForeignContent(r);
    }
  }, {
    key: "_startTagOutsideForeignContent",
    value: function(r) {
      switch (this.insertionMode) {
        case he.INITIAL: {
          Kp(this, r);
          break;
        }
        case he.BEFORE_HTML: {
          r1e(this, r);
          break;
        }
        case he.BEFORE_HEAD: {
          i1e(this, r);
          break;
        }
        case he.IN_HEAD: {
          oa(this, r);
          break;
        }
        case he.IN_HEAD_NO_SCRIPT: {
          s1e(this, r);
          break;
        }
        case he.AFTER_HEAD: {
          c1e(this, r);
          break;
        }
        case he.IN_BODY: {
          ii(this, r);
          break;
        }
        case he.IN_TABLE: {
          Ed(this, r);
          break;
        }
        case he.IN_TABLE_TEXT: {
          Zp(this, r);
          break;
        }
        case he.IN_CAPTION: {
          oSe(this, r);
          break;
        }
        case he.IN_COLUMN_GROUP: {
          RN(this, r);
          break;
        }
        case he.IN_TABLE_BODY: {
          X1(this, r);
          break;
        }
        case he.IN_ROW: {
          W1(this, r);
          break;
        }
        case he.IN_CELL: {
          lSe(this, r);
          break;
        }
        case he.IN_SELECT: {
          J2(this, r);
          break;
        }
        case he.IN_SELECT_IN_TABLE: {
          uSe(this, r);
          break;
        }
        case he.IN_TEMPLATE: {
          fSe(this, r);
          break;
        }
        case he.AFTER_BODY: {
          pSe(this, r);
          break;
        }
        case he.IN_FRAMESET: {
          mSe(this, r);
          break;
        }
        case he.AFTER_FRAMESET: {
          vSe(this, r);
          break;
        }
        case he.AFTER_AFTER_BODY: {
          _Se(this, r);
          break;
        }
        case he.AFTER_AFTER_FRAMESET: {
          bSe(this, r);
          break;
        }
      }
    }
  }, {
    key: "onEndTag",
    value: function(r) {
      this.skipNextNewLine = false, this.currentToken = r, this.currentNotInHTML ? wSe(this, r) : this._endTagOutsideForeignContent(r);
    }
  }, {
    key: "_endTagOutsideForeignContent",
    value: function(r) {
      switch (this.insertionMode) {
        case he.INITIAL: {
          Kp(this, r);
          break;
        }
        case he.BEFORE_HTML: {
          n1e(this, r);
          break;
        }
        case he.BEFORE_HEAD: {
          o1e(this, r);
          break;
        }
        case he.IN_HEAD: {
          a1e(this, r);
          break;
        }
        case he.IN_HEAD_NO_SCRIPT: {
          l1e(this, r);
          break;
        }
        case he.AFTER_HEAD: {
          u1e(this, r);
          break;
        }
        case he.IN_BODY: {
          V1(this, r);
          break;
        }
        case he.TEXT: {
          q1e(this, r);
          break;
        }
        case he.IN_TABLE: {
          ov(this, r);
          break;
        }
        case he.IN_TABLE_TEXT: {
          Zp(this, r);
          break;
        }
        case he.IN_CAPTION: {
          aSe(this, r);
          break;
        }
        case he.IN_COLUMN_GROUP: {
          sSe(this, r);
          break;
        }
        case he.IN_TABLE_BODY: {
          QP(this, r);
          break;
        }
        case he.IN_ROW: {
          Q2(this, r);
          break;
        }
        case he.IN_CELL: {
          cSe(this, r);
          break;
        }
        case he.IN_SELECT: {
          eX(this, r);
          break;
        }
        case he.IN_SELECT_IN_TABLE: {
          hSe(this, r);
          break;
        }
        case he.IN_TEMPLATE: {
          dSe(this, r);
          break;
        }
        case he.AFTER_BODY: {
          rX(this, r);
          break;
        }
        case he.IN_FRAMESET: {
          gSe(this, r);
          break;
        }
        case he.AFTER_FRAMESET: {
          ySe(this, r);
          break;
        }
        case he.AFTER_AFTER_BODY: {
          cb(this, r);
          break;
        }
      }
    }
  }, {
    key: "onEof",
    value: function(r) {
      switch (this.insertionMode) {
        case he.INITIAL: {
          Kp(this, r);
          break;
        }
        case he.BEFORE_HTML: {
          rg(this, r);
          break;
        }
        case he.BEFORE_HEAD: {
          ng(this, r);
          break;
        }
        case he.IN_HEAD: {
          ig(this, r);
          break;
        }
        case he.IN_HEAD_NO_SCRIPT: {
          og(this, r);
          break;
        }
        case he.AFTER_HEAD: {
          ag(this, r);
          break;
        }
        case he.IN_BODY:
        case he.IN_TABLE:
        case he.IN_CAPTION:
        case he.IN_COLUMN_GROUP:
        case he.IN_TABLE_BODY:
        case he.IN_ROW:
        case he.IN_CELL:
        case he.IN_SELECT:
        case he.IN_SELECT_IN_TABLE: {
          Y2(this, r);
          break;
        }
        case he.TEXT: {
          K1e(this, r);
          break;
        }
        case he.IN_TABLE_TEXT: {
          Zp(this, r);
          break;
        }
        case he.IN_TEMPLATE: {
          tX(this, r);
          break;
        }
        case he.AFTER_BODY:
        case he.IN_FRAMESET:
        case he.AFTER_FRAMESET:
        case he.AFTER_AFTER_BODY:
        case he.AFTER_AFTER_FRAMESET: {
          DN(this, r);
          break;
        }
      }
    }
  }, {
    key: "onWhitespaceCharacter",
    value: function(r) {
      if (this.skipNextNewLine && (this.skipNextNewLine = false, r.chars.charCodeAt(0) === U2.CODE_POINTS.LINE_FEED)) {
        if (r.chars.length === 1)
          return;
        r.chars = r.chars.substr(1);
      }
      if (this.tokenizer.inForeignNode) {
        this._insertCharacters(r);
        return;
      }
      switch (this.insertionMode) {
        case he.IN_HEAD:
        case he.IN_HEAD_NO_SCRIPT:
        case he.AFTER_HEAD:
        case he.TEXT:
        case he.IN_COLUMN_GROUP:
        case he.IN_SELECT:
        case he.IN_SELECT_IN_TABLE:
        case he.IN_FRAMESET:
        case he.AFTER_FRAMESET: {
          this._insertCharacters(r);
          break;
        }
        case he.IN_BODY:
        case he.IN_CAPTION:
        case he.IN_CELL:
        case he.IN_TEMPLATE:
        case he.AFTER_BODY:
        case he.AFTER_AFTER_BODY:
        case he.AFTER_AFTER_FRAMESET: {
          G2(this, r);
          break;
        }
        case he.IN_TABLE:
        case he.IN_TABLE_BODY:
        case he.IN_ROW: {
          rO(this, r);
          break;
        }
        case he.IN_TABLE_TEXT: {
          q2(this, r);
          break;
        }
      }
    }
  }], [{
    key: "parse",
    value: function(r, n) {
      const i = new this(n);
      return i.tokenizer.write(r, true), i.document;
    }
  }, {
    key: "getFragmentParser",
    value: function(r, n) {
      const i = Object.assign(Object.assign({}, BH), n);
      r ?? (r = i.treeAdapter.createElement(k.TAG_NAMES.TEMPLATE, k.NS.HTML, []));
      const o = i.treeAdapter.createElement("documentmock", k.NS.HTML, []), a = new this(i, o, r);
      return a.fragmentContextID === k.TAG_ID.TEMPLATE && a.tmplInsertionModeStack.unshift(he.IN_TEMPLATE), a._initTokenizerForFragmentParsing(), a._insertFakeRootElement(), a._resetInsertionMode(), a._findFormInFragmentContext(), a;
    }
  }]), e13;
}();
iv.Parser = XEe;
function WEe(e13, t) {
  let r = e13.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);
  return r ? e13.openElements.contains(r.element) ? e13.openElements.hasInScope(t.tagID) || (r = null) : (e13.activeFormattingElements.removeEntry(r), r = null) : W2(e13, t), r;
}
function YEe(e13, t) {
  let r = null, n = e13.openElements.stackTop;
  for (; n >= 0; n--) {
    const i = e13.openElements.items[n];
    if (i === t.element)
      break;
    e13._isSpecialElement(i, e13.openElements.tagIDs[n]) && (r = i);
  }
  return r || (e13.openElements.shortenToLength(n < 0 ? 0 : n), e13.activeFormattingElements.removeEntry(t)), r;
}
function qEe(e13, t, r) {
  let n = t, i = e13.openElements.getCommonAncestor(t);
  for (let o = 0, a = i; a !== r; o++, a = i) {
    i = e13.openElements.getCommonAncestor(a);
    const s = e13.activeFormattingElements.getElementEntry(a), l = s && o >= zEe;
    !s || l ? (l && e13.activeFormattingElements.removeEntry(s), e13.openElements.remove(a)) : (a = KEe(e13, s), n === t && (e13.activeFormattingElements.bookmark = s), e13.treeAdapter.detachNode(n), e13.treeAdapter.appendChild(a, n), n = a);
  }
  return n;
}
function KEe(e13, t) {
  const r = e13.treeAdapter.getNamespaceURI(t.element), n = e13.treeAdapter.createElement(t.token.tagName, r, t.token.attrs);
  return e13.openElements.replace(t.element, n), t.element = n, n;
}
function ZEe(e13, t, r) {
  const n = e13.treeAdapter.getTagName(t), i = (0, k.getTagID)(n);
  if (e13._isElementCausesFosterParenting(i))
    e13._fosterParentElement(r);
  else {
    const o = e13.treeAdapter.getNamespaceURI(t);
    i === k.TAG_ID.TEMPLATE && o === k.NS.HTML && (t = e13.treeAdapter.getTemplateContent(t)), e13.treeAdapter.appendChild(t, r);
  }
}
function QEe(e13, t, r) {
  const n = e13.treeAdapter.getNamespaceURI(r.element), {
    token: i
  } = r, o = e13.treeAdapter.createElement(i.tagName, n, i.attrs);
  e13._adoptNodes(t, o), e13.treeAdapter.appendChild(t, o), e13.activeFormattingElements.insertElementAfterBookmark(o, i), e13.activeFormattingElements.removeEntry(r), e13.openElements.remove(r.element), e13.openElements.insertAfter(t, o, i.tagID);
}
function kN(e13, t) {
  for (let r = 0; r < GEe; r++) {
    const n = WEe(e13, t);
    if (!n)
      break;
    const i = YEe(e13, n);
    if (!i)
      break;
    e13.activeFormattingElements.bookmark = n;
    const o = qEe(e13, i, n.element), a = e13.openElements.getCommonAncestor(n.element);
    e13.treeAdapter.detachNode(o), a && ZEe(e13, a, o), QEe(e13, i, n);
  }
}
function ZP(e13, t) {
  e13._appendCommentNode(t, e13.openElements.currentTmplContentOrNode);
}
function JEe(e13, t) {
  e13._appendCommentNode(t, e13.openElements.items[0]);
}
function e1e(e13, t) {
  e13._appendCommentNode(t, e13.document);
}
function DN(e13, t) {
  if (e13.stopped = true, t.location) {
    const r = e13.fragmentContext ? 0 : 2;
    for (let n = e13.openElements.stackTop; n >= r; n--)
      e13._setEndLocation(e13.openElements.items[n], t);
    if (!e13.fragmentContext && e13.openElements.stackTop >= 0) {
      const n = e13.openElements.items[0], i = e13.treeAdapter.getNodeSourceCodeLocation(n);
      if (i && !i.endTag && (e13._setEndLocation(n, t), e13.openElements.stackTop >= 1)) {
        const o = e13.openElements.items[1], a = e13.treeAdapter.getNodeSourceCodeLocation(o);
        a && !a.endTag && e13._setEndLocation(o, t);
      }
    }
  }
}
function t1e(e13, t) {
  e13._setDocumentType(t);
  const r = t.forceQuirks ? k.DOCUMENT_MODE.QUIRKS : LH.getDocumentMode(t);
  LH.isConforming(t) || e13._err(t, Un.ERR.nonConformingDoctype), e13.treeAdapter.setDocumentMode(e13.document, r), e13.insertionMode = he.BEFORE_HTML;
}
function Kp(e13, t) {
  e13._err(t, Un.ERR.missingDoctype, true), e13.treeAdapter.setDocumentMode(e13.document, k.DOCUMENT_MODE.QUIRKS), e13.insertionMode = he.BEFORE_HTML, e13._processToken(t);
}
function r1e(e13, t) {
  t.tagID === k.TAG_ID.HTML ? (e13._insertElement(t, k.NS.HTML), e13.insertionMode = he.BEFORE_HEAD) : rg(e13, t);
}
function n1e(e13, t) {
  const r = t.tagID;
  (r === k.TAG_ID.HTML || r === k.TAG_ID.HEAD || r === k.TAG_ID.BODY || r === k.TAG_ID.BR) && rg(e13, t);
}
function rg(e13, t) {
  e13._insertFakeRootElement(), e13.insertionMode = he.BEFORE_HEAD, e13._processToken(t);
}
function i1e(e13, t) {
  switch (t.tagID) {
    case k.TAG_ID.HTML: {
      ii(e13, t);
      break;
    }
    case k.TAG_ID.HEAD: {
      e13._insertElement(t, k.NS.HTML), e13.headElement = e13.openElements.current, e13.insertionMode = he.IN_HEAD;
      break;
    }
    default:
      ng(e13, t);
  }
}
function o1e(e13, t) {
  const r = t.tagID;
  r === k.TAG_ID.HEAD || r === k.TAG_ID.BODY || r === k.TAG_ID.HTML || r === k.TAG_ID.BR ? ng(e13, t) : e13._err(t, Un.ERR.endTagWithoutMatchingOpenElement);
}
function ng(e13, t) {
  e13._insertFakeElement(k.TAG_NAMES.HEAD, k.TAG_ID.HEAD), e13.headElement = e13.openElements.current, e13.insertionMode = he.IN_HEAD, e13._processToken(t);
}
function oa(e13, t) {
  switch (t.tagID) {
    case k.TAG_ID.HTML: {
      ii(e13, t);
      break;
    }
    case k.TAG_ID.BASE:
    case k.TAG_ID.BASEFONT:
    case k.TAG_ID.BGSOUND:
    case k.TAG_ID.LINK:
    case k.TAG_ID.META: {
      e13._appendElement(t, k.NS.HTML), t.ackSelfClosing = true;
      break;
    }
    case k.TAG_ID.TITLE: {
      e13._switchToTextParsing(t, ui.TokenizerMode.RCDATA);
      break;
    }
    case k.TAG_ID.NOSCRIPT: {
      e13.options.scriptingEnabled ? e13._switchToTextParsing(t, ui.TokenizerMode.RAWTEXT) : (e13._insertElement(t, k.NS.HTML), e13.insertionMode = he.IN_HEAD_NO_SCRIPT);
      break;
    }
    case k.TAG_ID.NOFRAMES:
    case k.TAG_ID.STYLE: {
      e13._switchToTextParsing(t, ui.TokenizerMode.RAWTEXT);
      break;
    }
    case k.TAG_ID.SCRIPT: {
      e13._switchToTextParsing(t, ui.TokenizerMode.SCRIPT_DATA);
      break;
    }
    case k.TAG_ID.TEMPLATE: {
      e13._insertTemplate(t), e13.activeFormattingElements.insertMarker(), e13.framesetOk = false, e13.insertionMode = he.IN_TEMPLATE, e13.tmplInsertionModeStack.unshift(he.IN_TEMPLATE);
      break;
    }
    case k.TAG_ID.HEAD: {
      e13._err(t, Un.ERR.misplacedStartTagForHeadElement);
      break;
    }
    default:
      ig(e13, t);
  }
}
function a1e(e13, t) {
  switch (t.tagID) {
    case k.TAG_ID.HEAD: {
      e13.openElements.pop(), e13.insertionMode = he.AFTER_HEAD;
      break;
    }
    case k.TAG_ID.BODY:
    case k.TAG_ID.BR:
    case k.TAG_ID.HTML: {
      ig(e13, t);
      break;
    }
    case k.TAG_ID.TEMPLATE: {
      eh(e13, t);
      break;
    }
    default:
      e13._err(t, Un.ERR.endTagWithoutMatchingOpenElement);
  }
}
function eh(e13, t) {
  e13.openElements.tmplCount > 0 ? (e13.openElements.generateImpliedEndTagsThoroughly(), e13.openElements.currentTagId !== k.TAG_ID.TEMPLATE && e13._err(t, Un.ERR.closingOfElementWithOpenChildElements), e13.openElements.popUntilTagNamePopped(k.TAG_ID.TEMPLATE), e13.activeFormattingElements.clearToLastMarker(), e13.tmplInsertionModeStack.shift(), e13._resetInsertionMode()) : e13._err(t, Un.ERR.endTagWithoutMatchingOpenElement);
}
function ig(e13, t) {
  e13.openElements.pop(), e13.insertionMode = he.AFTER_HEAD, e13._processToken(t);
}
function s1e(e13, t) {
  switch (t.tagID) {
    case k.TAG_ID.HTML: {
      ii(e13, t);
      break;
    }
    case k.TAG_ID.BASEFONT:
    case k.TAG_ID.BGSOUND:
    case k.TAG_ID.HEAD:
    case k.TAG_ID.LINK:
    case k.TAG_ID.META:
    case k.TAG_ID.NOFRAMES:
    case k.TAG_ID.STYLE: {
      oa(e13, t);
      break;
    }
    case k.TAG_ID.NOSCRIPT: {
      e13._err(t, Un.ERR.nestedNoscriptInHead);
      break;
    }
    default:
      og(e13, t);
  }
}
function l1e(e13, t) {
  switch (t.tagID) {
    case k.TAG_ID.NOSCRIPT: {
      e13.openElements.pop(), e13.insertionMode = he.IN_HEAD;
      break;
    }
    case k.TAG_ID.BR: {
      og(e13, t);
      break;
    }
    default:
      e13._err(t, Un.ERR.endTagWithoutMatchingOpenElement);
  }
}
function og(e13, t) {
  const r = t.type === hn.TokenType.EOF ? Un.ERR.openElementsLeftAfterEof : Un.ERR.disallowedContentInNoscriptInHead;
  e13._err(t, r), e13.openElements.pop(), e13.insertionMode = he.IN_HEAD, e13._processToken(t);
}
function c1e(e13, t) {
  switch (t.tagID) {
    case k.TAG_ID.HTML: {
      ii(e13, t);
      break;
    }
    case k.TAG_ID.BODY: {
      e13._insertElement(t, k.NS.HTML), e13.framesetOk = false, e13.insertionMode = he.IN_BODY;
      break;
    }
    case k.TAG_ID.FRAMESET: {
      e13._insertElement(t, k.NS.HTML), e13.insertionMode = he.IN_FRAMESET;
      break;
    }
    case k.TAG_ID.BASE:
    case k.TAG_ID.BASEFONT:
    case k.TAG_ID.BGSOUND:
    case k.TAG_ID.LINK:
    case k.TAG_ID.META:
    case k.TAG_ID.NOFRAMES:
    case k.TAG_ID.SCRIPT:
    case k.TAG_ID.STYLE:
    case k.TAG_ID.TEMPLATE:
    case k.TAG_ID.TITLE: {
      e13._err(t, Un.ERR.abandonedHeadElementChild), e13.openElements.push(e13.headElement, k.TAG_ID.HEAD), oa(e13, t), e13.openElements.remove(e13.headElement);
      break;
    }
    case k.TAG_ID.HEAD: {
      e13._err(t, Un.ERR.misplacedStartTagForHeadElement);
      break;
    }
    default:
      ag(e13, t);
  }
}
function u1e(e13, t) {
  switch (t.tagID) {
    case k.TAG_ID.BODY:
    case k.TAG_ID.HTML:
    case k.TAG_ID.BR: {
      ag(e13, t);
      break;
    }
    case k.TAG_ID.TEMPLATE: {
      eh(e13, t);
      break;
    }
    default:
      e13._err(t, Un.ERR.endTagWithoutMatchingOpenElement);
  }
}
function ag(e13, t) {
  e13._insertFakeElement(k.TAG_NAMES.BODY, k.TAG_ID.BODY), e13.insertionMode = he.IN_BODY, z1(e13, t);
}
function z1(e13, t) {
  switch (t.type) {
    case hn.TokenType.CHARACTER: {
      z2(e13, t);
      break;
    }
    case hn.TokenType.WHITESPACE_CHARACTER: {
      G2(e13, t);
      break;
    }
    case hn.TokenType.COMMENT: {
      ZP(e13, t);
      break;
    }
    case hn.TokenType.START_TAG: {
      ii(e13, t);
      break;
    }
    case hn.TokenType.END_TAG: {
      V1(e13, t);
      break;
    }
    case hn.TokenType.EOF: {
      Y2(e13, t);
      break;
    }
  }
}
function G2(e13, t) {
  e13._reconstructActiveFormattingElements(), e13._insertCharacters(t);
}
function z2(e13, t) {
  e13._reconstructActiveFormattingElements(), e13._insertCharacters(t), e13.framesetOk = false;
}
function h1e(e13, t) {
  e13.openElements.tmplCount === 0 && e13.treeAdapter.adoptAttributes(e13.openElements.items[0], t.attrs);
}
function f1e(e13, t) {
  const r = e13.openElements.tryPeekProperlyNestedBodyElement();
  r && e13.openElements.tmplCount === 0 && (e13.framesetOk = false, e13.treeAdapter.adoptAttributes(r, t.attrs));
}
function d1e(e13, t) {
  const r = e13.openElements.tryPeekProperlyNestedBodyElement();
  e13.framesetOk && r && (e13.treeAdapter.detachNode(r), e13.openElements.popAllUpToHtmlElement(), e13._insertElement(t, k.NS.HTML), e13.insertionMode = he.IN_FRAMESET);
}
function p1e(e13, t) {
  e13.openElements.hasInButtonScope(k.TAG_ID.P) && e13._closePElement(), e13._insertElement(t, k.NS.HTML);
}
function m1e(e13, t) {
  e13.openElements.hasInButtonScope(k.TAG_ID.P) && e13._closePElement(), (0, k.isNumberedHeader)(e13.openElements.currentTagId) && e13.openElements.pop(), e13._insertElement(t, k.NS.HTML);
}
function g1e(e13, t) {
  e13.openElements.hasInButtonScope(k.TAG_ID.P) && e13._closePElement(), e13._insertElement(t, k.NS.HTML), e13.skipNextNewLine = true, e13.framesetOk = false;
}
function v1e(e13, t) {
  const r = e13.openElements.tmplCount > 0;
  (!e13.formElement || r) && (e13.openElements.hasInButtonScope(k.TAG_ID.P) && e13._closePElement(), e13._insertElement(t, k.NS.HTML), r || (e13.formElement = e13.openElements.current));
}
function y1e(e13, t) {
  e13.framesetOk = false;
  const r = t.tagID;
  for (let n = e13.openElements.stackTop; n >= 0; n--) {
    const i = e13.openElements.tagIDs[n];
    if (r === k.TAG_ID.LI && i === k.TAG_ID.LI || (r === k.TAG_ID.DD || r === k.TAG_ID.DT) && (i === k.TAG_ID.DD || i === k.TAG_ID.DT)) {
      e13.openElements.generateImpliedEndTagsWithExclusion(i), e13.openElements.popUntilTagNamePopped(i);
      break;
    }
    if (i !== k.TAG_ID.ADDRESS && i !== k.TAG_ID.DIV && i !== k.TAG_ID.P && e13._isSpecialElement(e13.openElements.items[n], i))
      break;
  }
  e13.openElements.hasInButtonScope(k.TAG_ID.P) && e13._closePElement(), e13._insertElement(t, k.NS.HTML);
}
function _1e(e13, t) {
  e13.openElements.hasInButtonScope(k.TAG_ID.P) && e13._closePElement(), e13._insertElement(t, k.NS.HTML), e13.tokenizer.state = ui.TokenizerMode.PLAINTEXT;
}
function b1e(e13, t) {
  e13.openElements.hasInScope(k.TAG_ID.BUTTON) && (e13.openElements.generateImpliedEndTags(), e13.openElements.popUntilTagNamePopped(k.TAG_ID.BUTTON)), e13._reconstructActiveFormattingElements(), e13._insertElement(t, k.NS.HTML), e13.framesetOk = false;
}
function T1e(e13, t) {
  const r = e13.activeFormattingElements.getElementEntryInScopeWithTagName(k.TAG_NAMES.A);
  r && (kN(e13, t), e13.openElements.remove(r.element), e13.activeFormattingElements.removeEntry(r)), e13._reconstructActiveFormattingElements(), e13._insertElement(t, k.NS.HTML), e13.activeFormattingElements.pushElement(e13.openElements.current, t);
}
function E1e(e13, t) {
  e13._reconstructActiveFormattingElements(), e13._insertElement(t, k.NS.HTML), e13.activeFormattingElements.pushElement(e13.openElements.current, t);
}
function S1e(e13, t) {
  e13._reconstructActiveFormattingElements(), e13.openElements.hasInScope(k.TAG_ID.NOBR) && (kN(e13, t), e13._reconstructActiveFormattingElements()), e13._insertElement(t, k.NS.HTML), e13.activeFormattingElements.pushElement(e13.openElements.current, t);
}
function w1e(e13, t) {
  e13._reconstructActiveFormattingElements(), e13._insertElement(t, k.NS.HTML), e13.activeFormattingElements.insertMarker(), e13.framesetOk = false;
}
function A1e(e13, t) {
  e13.treeAdapter.getDocumentMode(e13.document) !== k.DOCUMENT_MODE.QUIRKS && e13.openElements.hasInButtonScope(k.TAG_ID.P) && e13._closePElement(), e13._insertElement(t, k.NS.HTML), e13.framesetOk = false, e13.insertionMode = he.IN_TABLE;
}
function V2(e13, t) {
  e13._reconstructActiveFormattingElements(), e13._appendElement(t, k.NS.HTML), e13.framesetOk = false, t.ackSelfClosing = true;
}
function X2(e13) {
  const t = (0, hn.getTokenAttr)(e13, k.ATTRS.TYPE);
  return t != null && t.toLowerCase() === jEe;
}
function O1e(e13, t) {
  e13._reconstructActiveFormattingElements(), e13._appendElement(t, k.NS.HTML), X2(t) || (e13.framesetOk = false), t.ackSelfClosing = true;
}
function I1e(e13, t) {
  e13._appendElement(t, k.NS.HTML), t.ackSelfClosing = true;
}
function P1e(e13, t) {
  e13.openElements.hasInButtonScope(k.TAG_ID.P) && e13._closePElement(), e13._appendElement(t, k.NS.HTML), e13.framesetOk = false, t.ackSelfClosing = true;
}
function C1e(e13, t) {
  t.tagName = k.TAG_NAMES.IMG, t.tagID = k.TAG_ID.IMG, V2(e13, t);
}
function x1e(e13, t) {
  e13._insertElement(t, k.NS.HTML), e13.skipNextNewLine = true, e13.tokenizer.state = ui.TokenizerMode.RCDATA, e13.originalInsertionMode = e13.insertionMode, e13.framesetOk = false, e13.insertionMode = he.TEXT;
}
function k1e(e13, t) {
  e13.openElements.hasInButtonScope(k.TAG_ID.P) && e13._closePElement(), e13._reconstructActiveFormattingElements(), e13.framesetOk = false, e13._switchToTextParsing(t, ui.TokenizerMode.RAWTEXT);
}
function D1e(e13, t) {
  e13.framesetOk = false, e13._switchToTextParsing(t, ui.TokenizerMode.RAWTEXT);
}
function FH(e13, t) {
  e13._switchToTextParsing(t, ui.TokenizerMode.RAWTEXT);
}
function R1e(e13, t) {
  e13._reconstructActiveFormattingElements(), e13._insertElement(t, k.NS.HTML), e13.framesetOk = false, e13.insertionMode = e13.insertionMode === he.IN_TABLE || e13.insertionMode === he.IN_CAPTION || e13.insertionMode === he.IN_TABLE_BODY || e13.insertionMode === he.IN_ROW || e13.insertionMode === he.IN_CELL ? he.IN_SELECT_IN_TABLE : he.IN_SELECT;
}
function N1e(e13, t) {
  e13.openElements.currentTagId === k.TAG_ID.OPTION && e13.openElements.pop(), e13._reconstructActiveFormattingElements(), e13._insertElement(t, k.NS.HTML);
}
function M1e(e13, t) {
  e13.openElements.hasInScope(k.TAG_ID.RUBY) && e13.openElements.generateImpliedEndTags(), e13._insertElement(t, k.NS.HTML);
}
function L1e(e13, t) {
  e13.openElements.hasInScope(k.TAG_ID.RUBY) && e13.openElements.generateImpliedEndTagsWithExclusion(k.TAG_ID.RTC), e13._insertElement(t, k.NS.HTML);
}
function B1e(e13, t) {
  e13._reconstructActiveFormattingElements(), ya.adjustTokenMathMLAttrs(t), ya.adjustTokenXMLAttrs(t), t.selfClosing ? e13._appendElement(t, k.NS.MATHML) : e13._insertElement(t, k.NS.MATHML), t.ackSelfClosing = true;
}
function F1e(e13, t) {
  e13._reconstructActiveFormattingElements(), ya.adjustTokenSVGAttrs(t), ya.adjustTokenXMLAttrs(t), t.selfClosing ? e13._appendElement(t, k.NS.SVG) : e13._insertElement(t, k.NS.SVG), t.ackSelfClosing = true;
}
function $H(e13, t) {
  e13._reconstructActiveFormattingElements(), e13._insertElement(t, k.NS.HTML);
}
function ii(e13, t) {
  switch (t.tagID) {
    case k.TAG_ID.I:
    case k.TAG_ID.S:
    case k.TAG_ID.B:
    case k.TAG_ID.U:
    case k.TAG_ID.EM:
    case k.TAG_ID.TT:
    case k.TAG_ID.BIG:
    case k.TAG_ID.CODE:
    case k.TAG_ID.FONT:
    case k.TAG_ID.SMALL:
    case k.TAG_ID.STRIKE:
    case k.TAG_ID.STRONG: {
      E1e(e13, t);
      break;
    }
    case k.TAG_ID.A: {
      T1e(e13, t);
      break;
    }
    case k.TAG_ID.H1:
    case k.TAG_ID.H2:
    case k.TAG_ID.H3:
    case k.TAG_ID.H4:
    case k.TAG_ID.H5:
    case k.TAG_ID.H6: {
      m1e(e13, t);
      break;
    }
    case k.TAG_ID.P:
    case k.TAG_ID.DL:
    case k.TAG_ID.OL:
    case k.TAG_ID.UL:
    case k.TAG_ID.DIV:
    case k.TAG_ID.DIR:
    case k.TAG_ID.NAV:
    case k.TAG_ID.MAIN:
    case k.TAG_ID.MENU:
    case k.TAG_ID.ASIDE:
    case k.TAG_ID.CENTER:
    case k.TAG_ID.FIGURE:
    case k.TAG_ID.FOOTER:
    case k.TAG_ID.HEADER:
    case k.TAG_ID.HGROUP:
    case k.TAG_ID.DIALOG:
    case k.TAG_ID.DETAILS:
    case k.TAG_ID.ADDRESS:
    case k.TAG_ID.ARTICLE:
    case k.TAG_ID.SECTION:
    case k.TAG_ID.SUMMARY:
    case k.TAG_ID.FIELDSET:
    case k.TAG_ID.BLOCKQUOTE:
    case k.TAG_ID.FIGCAPTION: {
      p1e(e13, t);
      break;
    }
    case k.TAG_ID.LI:
    case k.TAG_ID.DD:
    case k.TAG_ID.DT: {
      y1e(e13, t);
      break;
    }
    case k.TAG_ID.BR:
    case k.TAG_ID.IMG:
    case k.TAG_ID.WBR:
    case k.TAG_ID.AREA:
    case k.TAG_ID.EMBED:
    case k.TAG_ID.KEYGEN: {
      V2(e13, t);
      break;
    }
    case k.TAG_ID.HR: {
      P1e(e13, t);
      break;
    }
    case k.TAG_ID.RB:
    case k.TAG_ID.RTC: {
      M1e(e13, t);
      break;
    }
    case k.TAG_ID.RT:
    case k.TAG_ID.RP: {
      L1e(e13, t);
      break;
    }
    case k.TAG_ID.PRE:
    case k.TAG_ID.LISTING: {
      g1e(e13, t);
      break;
    }
    case k.TAG_ID.XMP: {
      k1e(e13, t);
      break;
    }
    case k.TAG_ID.SVG: {
      F1e(e13, t);
      break;
    }
    case k.TAG_ID.HTML: {
      h1e(e13, t);
      break;
    }
    case k.TAG_ID.BASE:
    case k.TAG_ID.LINK:
    case k.TAG_ID.META:
    case k.TAG_ID.STYLE:
    case k.TAG_ID.TITLE:
    case k.TAG_ID.SCRIPT:
    case k.TAG_ID.BGSOUND:
    case k.TAG_ID.BASEFONT:
    case k.TAG_ID.TEMPLATE: {
      oa(e13, t);
      break;
    }
    case k.TAG_ID.BODY: {
      f1e(e13, t);
      break;
    }
    case k.TAG_ID.FORM: {
      v1e(e13, t);
      break;
    }
    case k.TAG_ID.NOBR: {
      S1e(e13, t);
      break;
    }
    case k.TAG_ID.MATH: {
      B1e(e13, t);
      break;
    }
    case k.TAG_ID.TABLE: {
      A1e(e13, t);
      break;
    }
    case k.TAG_ID.INPUT: {
      O1e(e13, t);
      break;
    }
    case k.TAG_ID.PARAM:
    case k.TAG_ID.TRACK:
    case k.TAG_ID.SOURCE: {
      I1e(e13, t);
      break;
    }
    case k.TAG_ID.IMAGE: {
      C1e(e13, t);
      break;
    }
    case k.TAG_ID.BUTTON: {
      b1e(e13, t);
      break;
    }
    case k.TAG_ID.APPLET:
    case k.TAG_ID.OBJECT:
    case k.TAG_ID.MARQUEE: {
      w1e(e13, t);
      break;
    }
    case k.TAG_ID.IFRAME: {
      D1e(e13, t);
      break;
    }
    case k.TAG_ID.SELECT: {
      R1e(e13, t);
      break;
    }
    case k.TAG_ID.OPTION:
    case k.TAG_ID.OPTGROUP: {
      N1e(e13, t);
      break;
    }
    case k.TAG_ID.NOEMBED: {
      FH(e13, t);
      break;
    }
    case k.TAG_ID.FRAMESET: {
      d1e(e13, t);
      break;
    }
    case k.TAG_ID.TEXTAREA: {
      x1e(e13, t);
      break;
    }
    case k.TAG_ID.NOSCRIPT: {
      e13.options.scriptingEnabled ? FH(e13, t) : $H(e13, t);
      break;
    }
    case k.TAG_ID.PLAINTEXT: {
      _1e(e13, t);
      break;
    }
    case k.TAG_ID.COL:
    case k.TAG_ID.TH:
    case k.TAG_ID.TD:
    case k.TAG_ID.TR:
    case k.TAG_ID.HEAD:
    case k.TAG_ID.FRAME:
    case k.TAG_ID.TBODY:
    case k.TAG_ID.TFOOT:
    case k.TAG_ID.THEAD:
    case k.TAG_ID.CAPTION:
    case k.TAG_ID.COLGROUP:
      break;
    default:
      $H(e13, t);
  }
}
function $1e(e13, t) {
  if (e13.openElements.hasInScope(k.TAG_ID.BODY) && (e13.insertionMode = he.AFTER_BODY, e13.options.sourceCodeLocationInfo)) {
    const r = e13.openElements.tryPeekProperlyNestedBodyElement();
    r && e13._setEndLocation(r, t);
  }
}
function H1e(e13, t) {
  e13.openElements.hasInScope(k.TAG_ID.BODY) && (e13.insertionMode = he.AFTER_BODY, rX(e13, t));
}
function U1e(e13, t) {
  const r = t.tagID;
  e13.openElements.hasInScope(r) && (e13.openElements.generateImpliedEndTags(), e13.openElements.popUntilTagNamePopped(r));
}
function j1e(e13) {
  const t = e13.openElements.tmplCount > 0, {
    formElement: r
  } = e13;
  t || (e13.formElement = null), (r || t) && e13.openElements.hasInScope(k.TAG_ID.FORM) && (e13.openElements.generateImpliedEndTags(), t ? e13.openElements.popUntilTagNamePopped(k.TAG_ID.FORM) : r && e13.openElements.remove(r));
}
function G1e(e13) {
  e13.openElements.hasInButtonScope(k.TAG_ID.P) || e13._insertFakeElement(k.TAG_NAMES.P, k.TAG_ID.P), e13._closePElement();
}
function z1e(e13) {
  e13.openElements.hasInListItemScope(k.TAG_ID.LI) && (e13.openElements.generateImpliedEndTagsWithExclusion(k.TAG_ID.LI), e13.openElements.popUntilTagNamePopped(k.TAG_ID.LI));
}
function V1e(e13, t) {
  const r = t.tagID;
  e13.openElements.hasInScope(r) && (e13.openElements.generateImpliedEndTagsWithExclusion(r), e13.openElements.popUntilTagNamePopped(r));
}
function X1e(e13) {
  e13.openElements.hasNumberedHeaderInScope() && (e13.openElements.generateImpliedEndTags(), e13.openElements.popUntilNumberedHeaderPopped());
}
function W1e(e13, t) {
  const r = t.tagID;
  e13.openElements.hasInScope(r) && (e13.openElements.generateImpliedEndTags(), e13.openElements.popUntilTagNamePopped(r), e13.activeFormattingElements.clearToLastMarker());
}
function Y1e(e13) {
  e13._reconstructActiveFormattingElements(), e13._insertFakeElement(k.TAG_NAMES.BR, k.TAG_ID.BR), e13.openElements.pop(), e13.framesetOk = false;
}
function W2(e13, t) {
  const r = t.tagName, n = t.tagID;
  for (let i = e13.openElements.stackTop; i > 0; i--) {
    const o = e13.openElements.items[i], a = e13.openElements.tagIDs[i];
    if (n === a && (n !== k.TAG_ID.UNKNOWN || e13.treeAdapter.getTagName(o) === r)) {
      e13.openElements.generateImpliedEndTagsWithExclusion(n), e13.openElements.stackTop >= i && e13.openElements.shortenToLength(i);
      break;
    }
    if (e13._isSpecialElement(o, a))
      break;
  }
}
function V1(e13, t) {
  switch (t.tagID) {
    case k.TAG_ID.A:
    case k.TAG_ID.B:
    case k.TAG_ID.I:
    case k.TAG_ID.S:
    case k.TAG_ID.U:
    case k.TAG_ID.EM:
    case k.TAG_ID.TT:
    case k.TAG_ID.BIG:
    case k.TAG_ID.CODE:
    case k.TAG_ID.FONT:
    case k.TAG_ID.NOBR:
    case k.TAG_ID.SMALL:
    case k.TAG_ID.STRIKE:
    case k.TAG_ID.STRONG: {
      kN(e13, t);
      break;
    }
    case k.TAG_ID.P: {
      G1e(e13);
      break;
    }
    case k.TAG_ID.DL:
    case k.TAG_ID.UL:
    case k.TAG_ID.OL:
    case k.TAG_ID.DIR:
    case k.TAG_ID.DIV:
    case k.TAG_ID.NAV:
    case k.TAG_ID.PRE:
    case k.TAG_ID.MAIN:
    case k.TAG_ID.MENU:
    case k.TAG_ID.ASIDE:
    case k.TAG_ID.BUTTON:
    case k.TAG_ID.CENTER:
    case k.TAG_ID.FIGURE:
    case k.TAG_ID.FOOTER:
    case k.TAG_ID.HEADER:
    case k.TAG_ID.HGROUP:
    case k.TAG_ID.DIALOG:
    case k.TAG_ID.ADDRESS:
    case k.TAG_ID.ARTICLE:
    case k.TAG_ID.DETAILS:
    case k.TAG_ID.SECTION:
    case k.TAG_ID.SUMMARY:
    case k.TAG_ID.LISTING:
    case k.TAG_ID.FIELDSET:
    case k.TAG_ID.BLOCKQUOTE:
    case k.TAG_ID.FIGCAPTION: {
      U1e(e13, t);
      break;
    }
    case k.TAG_ID.LI: {
      z1e(e13);
      break;
    }
    case k.TAG_ID.DD:
    case k.TAG_ID.DT: {
      V1e(e13, t);
      break;
    }
    case k.TAG_ID.H1:
    case k.TAG_ID.H2:
    case k.TAG_ID.H3:
    case k.TAG_ID.H4:
    case k.TAG_ID.H5:
    case k.TAG_ID.H6: {
      X1e(e13);
      break;
    }
    case k.TAG_ID.BR: {
      Y1e(e13);
      break;
    }
    case k.TAG_ID.BODY: {
      $1e(e13, t);
      break;
    }
    case k.TAG_ID.HTML: {
      H1e(e13, t);
      break;
    }
    case k.TAG_ID.FORM: {
      j1e(e13);
      break;
    }
    case k.TAG_ID.APPLET:
    case k.TAG_ID.OBJECT:
    case k.TAG_ID.MARQUEE: {
      W1e(e13, t);
      break;
    }
    case k.TAG_ID.TEMPLATE: {
      eh(e13, t);
      break;
    }
    default:
      W2(e13, t);
  }
}
function Y2(e13, t) {
  e13.tmplInsertionModeStack.length > 0 ? tX(e13, t) : DN(e13, t);
}
function q1e(e13, t) {
  var r;
  t.tagID === k.TAG_ID.SCRIPT && ((r = e13.scriptHandler) === null || r === void 0 || r.call(e13, e13.openElements.current)), e13.openElements.pop(), e13.insertionMode = e13.originalInsertionMode;
}
function K1e(e13, t) {
  e13._err(t, Un.ERR.eofInElementThatCanContainOnlyText), e13.openElements.pop(), e13.insertionMode = e13.originalInsertionMode, e13.onEof(t);
}
function rO(e13, t) {
  if (j2.has(e13.openElements.currentTagId))
    switch (e13.pendingCharacterTokens.length = 0, e13.hasNonWhitespacePendingCharacterToken = false, e13.originalInsertionMode = e13.insertionMode, e13.insertionMode = he.IN_TABLE_TEXT, t.type) {
      case hn.TokenType.CHARACTER: {
        K2(e13, t);
        break;
      }
      case hn.TokenType.WHITESPACE_CHARACTER: {
        q2(e13, t);
        break;
      }
    }
  else
    ry(e13, t);
}
function Z1e(e13, t) {
  e13.openElements.clearBackToTableContext(), e13.activeFormattingElements.insertMarker(), e13._insertElement(t, k.NS.HTML), e13.insertionMode = he.IN_CAPTION;
}
function Q1e(e13, t) {
  e13.openElements.clearBackToTableContext(), e13._insertElement(t, k.NS.HTML), e13.insertionMode = he.IN_COLUMN_GROUP;
}
function J1e(e13, t) {
  e13.openElements.clearBackToTableContext(), e13._insertFakeElement(k.TAG_NAMES.COLGROUP, k.TAG_ID.COLGROUP), e13.insertionMode = he.IN_COLUMN_GROUP, RN(e13, t);
}
function eSe(e13, t) {
  e13.openElements.clearBackToTableContext(), e13._insertElement(t, k.NS.HTML), e13.insertionMode = he.IN_TABLE_BODY;
}
function tSe(e13, t) {
  e13.openElements.clearBackToTableContext(), e13._insertFakeElement(k.TAG_NAMES.TBODY, k.TAG_ID.TBODY), e13.insertionMode = he.IN_TABLE_BODY, X1(e13, t);
}
function rSe(e13, t) {
  e13.openElements.hasInTableScope(k.TAG_ID.TABLE) && (e13.openElements.popUntilTagNamePopped(k.TAG_ID.TABLE), e13._resetInsertionMode(), e13._processStartTag(t));
}
function nSe(e13, t) {
  X2(t) ? e13._appendElement(t, k.NS.HTML) : ry(e13, t), t.ackSelfClosing = true;
}
function iSe(e13, t) {
  !e13.formElement && e13.openElements.tmplCount === 0 && (e13._insertElement(t, k.NS.HTML), e13.formElement = e13.openElements.current, e13.openElements.pop());
}
function Ed(e13, t) {
  switch (t.tagID) {
    case k.TAG_ID.TD:
    case k.TAG_ID.TH:
    case k.TAG_ID.TR: {
      tSe(e13, t);
      break;
    }
    case k.TAG_ID.STYLE:
    case k.TAG_ID.SCRIPT:
    case k.TAG_ID.TEMPLATE: {
      oa(e13, t);
      break;
    }
    case k.TAG_ID.COL: {
      J1e(e13, t);
      break;
    }
    case k.TAG_ID.FORM: {
      iSe(e13, t);
      break;
    }
    case k.TAG_ID.TABLE: {
      rSe(e13, t);
      break;
    }
    case k.TAG_ID.TBODY:
    case k.TAG_ID.TFOOT:
    case k.TAG_ID.THEAD: {
      eSe(e13, t);
      break;
    }
    case k.TAG_ID.INPUT: {
      nSe(e13, t);
      break;
    }
    case k.TAG_ID.CAPTION: {
      Z1e(e13, t);
      break;
    }
    case k.TAG_ID.COLGROUP: {
      Q1e(e13, t);
      break;
    }
    default:
      ry(e13, t);
  }
}
function ov(e13, t) {
  switch (t.tagID) {
    case k.TAG_ID.TABLE: {
      e13.openElements.hasInTableScope(k.TAG_ID.TABLE) && (e13.openElements.popUntilTagNamePopped(k.TAG_ID.TABLE), e13._resetInsertionMode());
      break;
    }
    case k.TAG_ID.TEMPLATE: {
      eh(e13, t);
      break;
    }
    case k.TAG_ID.BODY:
    case k.TAG_ID.CAPTION:
    case k.TAG_ID.COL:
    case k.TAG_ID.COLGROUP:
    case k.TAG_ID.HTML:
    case k.TAG_ID.TBODY:
    case k.TAG_ID.TD:
    case k.TAG_ID.TFOOT:
    case k.TAG_ID.TH:
    case k.TAG_ID.THEAD:
    case k.TAG_ID.TR:
      break;
    default:
      ry(e13, t);
  }
}
function ry(e13, t) {
  const r = e13.fosterParentingEnabled;
  e13.fosterParentingEnabled = true, z1(e13, t), e13.fosterParentingEnabled = r;
}
function q2(e13, t) {
  e13.pendingCharacterTokens.push(t);
}
function K2(e13, t) {
  e13.pendingCharacterTokens.push(t), e13.hasNonWhitespacePendingCharacterToken = true;
}
function Zp(e13, t) {
  let r = 0;
  if (e13.hasNonWhitespacePendingCharacterToken)
    for (; r < e13.pendingCharacterTokens.length; r++)
      ry(e13, e13.pendingCharacterTokens[r]);
  else
    for (; r < e13.pendingCharacterTokens.length; r++)
      e13._insertCharacters(e13.pendingCharacterTokens[r]);
  e13.insertionMode = e13.originalInsertionMode, e13._processToken(t);
}
var Z2 = /* @__PURE__ */ new Set([k.TAG_ID.CAPTION, k.TAG_ID.COL, k.TAG_ID.COLGROUP, k.TAG_ID.TBODY, k.TAG_ID.TD, k.TAG_ID.TFOOT, k.TAG_ID.TH, k.TAG_ID.THEAD, k.TAG_ID.TR]);
function oSe(e13, t) {
  const r = t.tagID;
  Z2.has(r) ? e13.openElements.hasInTableScope(k.TAG_ID.CAPTION) && (e13.openElements.generateImpliedEndTags(), e13.openElements.popUntilTagNamePopped(k.TAG_ID.CAPTION), e13.activeFormattingElements.clearToLastMarker(), e13.insertionMode = he.IN_TABLE, Ed(e13, t)) : ii(e13, t);
}
function aSe(e13, t) {
  const r = t.tagID;
  switch (r) {
    case k.TAG_ID.CAPTION:
    case k.TAG_ID.TABLE: {
      e13.openElements.hasInTableScope(k.TAG_ID.CAPTION) && (e13.openElements.generateImpliedEndTags(), e13.openElements.popUntilTagNamePopped(k.TAG_ID.CAPTION), e13.activeFormattingElements.clearToLastMarker(), e13.insertionMode = he.IN_TABLE, r === k.TAG_ID.TABLE && ov(e13, t));
      break;
    }
    case k.TAG_ID.BODY:
    case k.TAG_ID.COL:
    case k.TAG_ID.COLGROUP:
    case k.TAG_ID.HTML:
    case k.TAG_ID.TBODY:
    case k.TAG_ID.TD:
    case k.TAG_ID.TFOOT:
    case k.TAG_ID.TH:
    case k.TAG_ID.THEAD:
    case k.TAG_ID.TR:
      break;
    default:
      V1(e13, t);
  }
}
function RN(e13, t) {
  switch (t.tagID) {
    case k.TAG_ID.HTML: {
      ii(e13, t);
      break;
    }
    case k.TAG_ID.COL: {
      e13._appendElement(t, k.NS.HTML), t.ackSelfClosing = true;
      break;
    }
    case k.TAG_ID.TEMPLATE: {
      oa(e13, t);
      break;
    }
    default:
      G0(e13, t);
  }
}
function sSe(e13, t) {
  switch (t.tagID) {
    case k.TAG_ID.COLGROUP: {
      e13.openElements.currentTagId === k.TAG_ID.COLGROUP && (e13.openElements.pop(), e13.insertionMode = he.IN_TABLE);
      break;
    }
    case k.TAG_ID.TEMPLATE: {
      eh(e13, t);
      break;
    }
    case k.TAG_ID.COL:
      break;
    default:
      G0(e13, t);
  }
}
function G0(e13, t) {
  e13.openElements.currentTagId === k.TAG_ID.COLGROUP && (e13.openElements.pop(), e13.insertionMode = he.IN_TABLE, e13._processToken(t));
}
function X1(e13, t) {
  switch (t.tagID) {
    case k.TAG_ID.TR: {
      e13.openElements.clearBackToTableBodyContext(), e13._insertElement(t, k.NS.HTML), e13.insertionMode = he.IN_ROW;
      break;
    }
    case k.TAG_ID.TH:
    case k.TAG_ID.TD: {
      e13.openElements.clearBackToTableBodyContext(), e13._insertFakeElement(k.TAG_NAMES.TR, k.TAG_ID.TR), e13.insertionMode = he.IN_ROW, W1(e13, t);
      break;
    }
    case k.TAG_ID.CAPTION:
    case k.TAG_ID.COL:
    case k.TAG_ID.COLGROUP:
    case k.TAG_ID.TBODY:
    case k.TAG_ID.TFOOT:
    case k.TAG_ID.THEAD: {
      e13.openElements.hasTableBodyContextInTableScope() && (e13.openElements.clearBackToTableBodyContext(), e13.openElements.pop(), e13.insertionMode = he.IN_TABLE, Ed(e13, t));
      break;
    }
    default:
      Ed(e13, t);
  }
}
function QP(e13, t) {
  const r = t.tagID;
  switch (t.tagID) {
    case k.TAG_ID.TBODY:
    case k.TAG_ID.TFOOT:
    case k.TAG_ID.THEAD: {
      e13.openElements.hasInTableScope(r) && (e13.openElements.clearBackToTableBodyContext(), e13.openElements.pop(), e13.insertionMode = he.IN_TABLE);
      break;
    }
    case k.TAG_ID.TABLE: {
      e13.openElements.hasTableBodyContextInTableScope() && (e13.openElements.clearBackToTableBodyContext(), e13.openElements.pop(), e13.insertionMode = he.IN_TABLE, ov(e13, t));
      break;
    }
    case k.TAG_ID.BODY:
    case k.TAG_ID.CAPTION:
    case k.TAG_ID.COL:
    case k.TAG_ID.COLGROUP:
    case k.TAG_ID.HTML:
    case k.TAG_ID.TD:
    case k.TAG_ID.TH:
    case k.TAG_ID.TR:
      break;
    default:
      ov(e13, t);
  }
}
function W1(e13, t) {
  switch (t.tagID) {
    case k.TAG_ID.TH:
    case k.TAG_ID.TD: {
      e13.openElements.clearBackToTableRowContext(), e13._insertElement(t, k.NS.HTML), e13.insertionMode = he.IN_CELL, e13.activeFormattingElements.insertMarker();
      break;
    }
    case k.TAG_ID.CAPTION:
    case k.TAG_ID.COL:
    case k.TAG_ID.COLGROUP:
    case k.TAG_ID.TBODY:
    case k.TAG_ID.TFOOT:
    case k.TAG_ID.THEAD:
    case k.TAG_ID.TR: {
      e13.openElements.hasInTableScope(k.TAG_ID.TR) && (e13.openElements.clearBackToTableRowContext(), e13.openElements.pop(), e13.insertionMode = he.IN_TABLE_BODY, X1(e13, t));
      break;
    }
    default:
      Ed(e13, t);
  }
}
function Q2(e13, t) {
  switch (t.tagID) {
    case k.TAG_ID.TR: {
      e13.openElements.hasInTableScope(k.TAG_ID.TR) && (e13.openElements.clearBackToTableRowContext(), e13.openElements.pop(), e13.insertionMode = he.IN_TABLE_BODY);
      break;
    }
    case k.TAG_ID.TABLE: {
      e13.openElements.hasInTableScope(k.TAG_ID.TR) && (e13.openElements.clearBackToTableRowContext(), e13.openElements.pop(), e13.insertionMode = he.IN_TABLE_BODY, QP(e13, t));
      break;
    }
    case k.TAG_ID.TBODY:
    case k.TAG_ID.TFOOT:
    case k.TAG_ID.THEAD: {
      (e13.openElements.hasInTableScope(t.tagID) || e13.openElements.hasInTableScope(k.TAG_ID.TR)) && (e13.openElements.clearBackToTableRowContext(), e13.openElements.pop(), e13.insertionMode = he.IN_TABLE_BODY, QP(e13, t));
      break;
    }
    case k.TAG_ID.BODY:
    case k.TAG_ID.CAPTION:
    case k.TAG_ID.COL:
    case k.TAG_ID.COLGROUP:
    case k.TAG_ID.HTML:
    case k.TAG_ID.TD:
    case k.TAG_ID.TH:
      break;
    default:
      ov(e13, t);
  }
}
function lSe(e13, t) {
  const r = t.tagID;
  Z2.has(r) ? (e13.openElements.hasInTableScope(k.TAG_ID.TD) || e13.openElements.hasInTableScope(k.TAG_ID.TH)) && (e13._closeTableCell(), W1(e13, t)) : ii(e13, t);
}
function cSe(e13, t) {
  const r = t.tagID;
  switch (r) {
    case k.TAG_ID.TD:
    case k.TAG_ID.TH: {
      e13.openElements.hasInTableScope(r) && (e13.openElements.generateImpliedEndTags(), e13.openElements.popUntilTagNamePopped(r), e13.activeFormattingElements.clearToLastMarker(), e13.insertionMode = he.IN_ROW);
      break;
    }
    case k.TAG_ID.TABLE:
    case k.TAG_ID.TBODY:
    case k.TAG_ID.TFOOT:
    case k.TAG_ID.THEAD:
    case k.TAG_ID.TR: {
      e13.openElements.hasInTableScope(r) && (e13._closeTableCell(), Q2(e13, t));
      break;
    }
    case k.TAG_ID.BODY:
    case k.TAG_ID.CAPTION:
    case k.TAG_ID.COL:
    case k.TAG_ID.COLGROUP:
    case k.TAG_ID.HTML:
      break;
    default:
      V1(e13, t);
  }
}
function J2(e13, t) {
  switch (t.tagID) {
    case k.TAG_ID.HTML: {
      ii(e13, t);
      break;
    }
    case k.TAG_ID.OPTION: {
      e13.openElements.currentTagId === k.TAG_ID.OPTION && e13.openElements.pop(), e13._insertElement(t, k.NS.HTML);
      break;
    }
    case k.TAG_ID.OPTGROUP: {
      e13.openElements.currentTagId === k.TAG_ID.OPTION && e13.openElements.pop(), e13.openElements.currentTagId === k.TAG_ID.OPTGROUP && e13.openElements.pop(), e13._insertElement(t, k.NS.HTML);
      break;
    }
    case k.TAG_ID.INPUT:
    case k.TAG_ID.KEYGEN:
    case k.TAG_ID.TEXTAREA:
    case k.TAG_ID.SELECT: {
      e13.openElements.hasInSelectScope(k.TAG_ID.SELECT) && (e13.openElements.popUntilTagNamePopped(k.TAG_ID.SELECT), e13._resetInsertionMode(), t.tagID !== k.TAG_ID.SELECT && e13._processStartTag(t));
      break;
    }
    case k.TAG_ID.SCRIPT:
    case k.TAG_ID.TEMPLATE: {
      oa(e13, t);
      break;
    }
  }
}
function eX(e13, t) {
  switch (t.tagID) {
    case k.TAG_ID.OPTGROUP: {
      e13.openElements.stackTop > 0 && e13.openElements.currentTagId === k.TAG_ID.OPTION && e13.openElements.tagIDs[e13.openElements.stackTop - 1] === k.TAG_ID.OPTGROUP && e13.openElements.pop(), e13.openElements.currentTagId === k.TAG_ID.OPTGROUP && e13.openElements.pop();
      break;
    }
    case k.TAG_ID.OPTION: {
      e13.openElements.currentTagId === k.TAG_ID.OPTION && e13.openElements.pop();
      break;
    }
    case k.TAG_ID.SELECT: {
      e13.openElements.hasInSelectScope(k.TAG_ID.SELECT) && (e13.openElements.popUntilTagNamePopped(k.TAG_ID.SELECT), e13._resetInsertionMode());
      break;
    }
    case k.TAG_ID.TEMPLATE: {
      eh(e13, t);
      break;
    }
  }
}
function uSe(e13, t) {
  const r = t.tagID;
  r === k.TAG_ID.CAPTION || r === k.TAG_ID.TABLE || r === k.TAG_ID.TBODY || r === k.TAG_ID.TFOOT || r === k.TAG_ID.THEAD || r === k.TAG_ID.TR || r === k.TAG_ID.TD || r === k.TAG_ID.TH ? (e13.openElements.popUntilTagNamePopped(k.TAG_ID.SELECT), e13._resetInsertionMode(), e13._processStartTag(t)) : J2(e13, t);
}
function hSe(e13, t) {
  const r = t.tagID;
  r === k.TAG_ID.CAPTION || r === k.TAG_ID.TABLE || r === k.TAG_ID.TBODY || r === k.TAG_ID.TFOOT || r === k.TAG_ID.THEAD || r === k.TAG_ID.TR || r === k.TAG_ID.TD || r === k.TAG_ID.TH ? e13.openElements.hasInTableScope(r) && (e13.openElements.popUntilTagNamePopped(k.TAG_ID.SELECT), e13._resetInsertionMode(), e13.onEndTag(t)) : eX(e13, t);
}
function fSe(e13, t) {
  switch (t.tagID) {
    case k.TAG_ID.BASE:
    case k.TAG_ID.BASEFONT:
    case k.TAG_ID.BGSOUND:
    case k.TAG_ID.LINK:
    case k.TAG_ID.META:
    case k.TAG_ID.NOFRAMES:
    case k.TAG_ID.SCRIPT:
    case k.TAG_ID.STYLE:
    case k.TAG_ID.TEMPLATE:
    case k.TAG_ID.TITLE: {
      oa(e13, t);
      break;
    }
    case k.TAG_ID.CAPTION:
    case k.TAG_ID.COLGROUP:
    case k.TAG_ID.TBODY:
    case k.TAG_ID.TFOOT:
    case k.TAG_ID.THEAD: {
      e13.tmplInsertionModeStack[0] = he.IN_TABLE, e13.insertionMode = he.IN_TABLE, Ed(e13, t);
      break;
    }
    case k.TAG_ID.COL: {
      e13.tmplInsertionModeStack[0] = he.IN_COLUMN_GROUP, e13.insertionMode = he.IN_COLUMN_GROUP, RN(e13, t);
      break;
    }
    case k.TAG_ID.TR: {
      e13.tmplInsertionModeStack[0] = he.IN_TABLE_BODY, e13.insertionMode = he.IN_TABLE_BODY, X1(e13, t);
      break;
    }
    case k.TAG_ID.TD:
    case k.TAG_ID.TH: {
      e13.tmplInsertionModeStack[0] = he.IN_ROW, e13.insertionMode = he.IN_ROW, W1(e13, t);
      break;
    }
    default:
      e13.tmplInsertionModeStack[0] = he.IN_BODY, e13.insertionMode = he.IN_BODY, ii(e13, t);
  }
}
function dSe(e13, t) {
  t.tagID === k.TAG_ID.TEMPLATE && eh(e13, t);
}
function tX(e13, t) {
  e13.openElements.tmplCount > 0 ? (e13.openElements.popUntilTagNamePopped(k.TAG_ID.TEMPLATE), e13.activeFormattingElements.clearToLastMarker(), e13.tmplInsertionModeStack.shift(), e13._resetInsertionMode(), e13.onEof(t)) : DN(e13, t);
}
function pSe(e13, t) {
  t.tagID === k.TAG_ID.HTML ? ii(e13, t) : z0(e13, t);
}
function rX(e13, t) {
  var r;
  if (t.tagID === k.TAG_ID.HTML) {
    if (e13.fragmentContext || (e13.insertionMode = he.AFTER_AFTER_BODY), e13.options.sourceCodeLocationInfo && e13.openElements.tagIDs[0] === k.TAG_ID.HTML) {
      e13._setEndLocation(e13.openElements.items[0], t);
      const n = e13.openElements.items[1];
      n && !(!((r = e13.treeAdapter.getNodeSourceCodeLocation(n)) === null || r === void 0) && r.endTag) && e13._setEndLocation(n, t);
    }
  } else
    z0(e13, t);
}
function z0(e13, t) {
  e13.insertionMode = he.IN_BODY, z1(e13, t);
}
function mSe(e13, t) {
  switch (t.tagID) {
    case k.TAG_ID.HTML: {
      ii(e13, t);
      break;
    }
    case k.TAG_ID.FRAMESET: {
      e13._insertElement(t, k.NS.HTML);
      break;
    }
    case k.TAG_ID.FRAME: {
      e13._appendElement(t, k.NS.HTML), t.ackSelfClosing = true;
      break;
    }
    case k.TAG_ID.NOFRAMES: {
      oa(e13, t);
      break;
    }
  }
}
function gSe(e13, t) {
  t.tagID === k.TAG_ID.FRAMESET && !e13.openElements.isRootHtmlElementCurrent() && (e13.openElements.pop(), !e13.fragmentContext && e13.openElements.currentTagId !== k.TAG_ID.FRAMESET && (e13.insertionMode = he.AFTER_FRAMESET));
}
function vSe(e13, t) {
  switch (t.tagID) {
    case k.TAG_ID.HTML: {
      ii(e13, t);
      break;
    }
    case k.TAG_ID.NOFRAMES: {
      oa(e13, t);
      break;
    }
  }
}
function ySe(e13, t) {
  t.tagID === k.TAG_ID.HTML && (e13.insertionMode = he.AFTER_AFTER_FRAMESET);
}
function _Se(e13, t) {
  t.tagID === k.TAG_ID.HTML ? ii(e13, t) : cb(e13, t);
}
function cb(e13, t) {
  e13.insertionMode = he.IN_BODY, z1(e13, t);
}
function bSe(e13, t) {
  switch (t.tagID) {
    case k.TAG_ID.HTML: {
      ii(e13, t);
      break;
    }
    case k.TAG_ID.NOFRAMES: {
      oa(e13, t);
      break;
    }
  }
}
function TSe(e13, t) {
  t.chars = U2.REPLACEMENT_CHARACTER, e13._insertCharacters(t);
}
function ESe(e13, t) {
  e13._insertCharacters(t), e13.framesetOk = false;
}
function nX(e13) {
  for (; e13.treeAdapter.getNamespaceURI(e13.openElements.current) !== k.NS.HTML && !e13._isIntegrationPoint(e13.openElements.currentTagId, e13.openElements.current); )
    e13.openElements.pop();
}
function SSe(e13, t) {
  if (ya.causesExit(t))
    nX(e13), e13._startTagOutsideForeignContent(t);
  else {
    const r = e13._getAdjustedCurrentElement(), n = e13.treeAdapter.getNamespaceURI(r);
    n === k.NS.MATHML ? ya.adjustTokenMathMLAttrs(t) : n === k.NS.SVG && (ya.adjustTokenSVGTagName(t), ya.adjustTokenSVGAttrs(t)), ya.adjustTokenXMLAttrs(t), t.selfClosing ? e13._appendElement(t, n) : e13._insertElement(t, n), t.ackSelfClosing = true;
  }
}
function wSe(e13, t) {
  if (t.tagID === k.TAG_ID.P || t.tagID === k.TAG_ID.BR) {
    nX(e13), e13._endTagOutsideForeignContent(t);
    return;
  }
  for (let r = e13.openElements.stackTop; r > 0; r--) {
    const n = e13.openElements.items[r];
    if (e13.treeAdapter.getNamespaceURI(n) === k.NS.HTML) {
      e13._endTagOutsideForeignContent(t);
      break;
    }
    const i = e13.treeAdapter.getTagName(n);
    if (i.toLowerCase() === t.tagName) {
      t.tagName = i, e13.openElements.shortenToLength(r);
      break;
    }
  }
}
var Sd = {};
Object.defineProperty(Sd, "__esModule", {
  value: true
});
Sd.serializeOuter = Sd.serialize = void 0;
var Ir = Xs;
var iX = dd;
var ASe = G1;
var OSe = /* @__PURE__ */ new Set([Ir.TAG_NAMES.AREA, Ir.TAG_NAMES.BASE, Ir.TAG_NAMES.BASEFONT, Ir.TAG_NAMES.BGSOUND, Ir.TAG_NAMES.BR, Ir.TAG_NAMES.COL, Ir.TAG_NAMES.EMBED, Ir.TAG_NAMES.FRAME, Ir.TAG_NAMES.HR, Ir.TAG_NAMES.IMG, Ir.TAG_NAMES.INPUT, Ir.TAG_NAMES.KEYGEN, Ir.TAG_NAMES.LINK, Ir.TAG_NAMES.META, Ir.TAG_NAMES.PARAM, Ir.TAG_NAMES.SOURCE, Ir.TAG_NAMES.TRACK, Ir.TAG_NAMES.WBR]);
function oX(e13, t) {
  return t.treeAdapter.isElementNode(e13) && t.treeAdapter.getNamespaceURI(e13) === Ir.NS.HTML && OSe.has(t.treeAdapter.getTagName(e13));
}
var aX = {
  treeAdapter: ASe.defaultTreeAdapter,
  scriptingEnabled: true
};
function ISe(e13, t) {
  const r = Object.assign(Object.assign({}, aX), t);
  return oX(e13, r) ? "" : sX(e13, r);
}
Sd.serialize = ISe;
function PSe(e13, t) {
  const r = Object.assign(Object.assign({}, aX), t);
  return lX(e13, r);
}
Sd.serializeOuter = PSe;
function sX(e13, t) {
  let r = "";
  const n = t.treeAdapter.isElementNode(e13) && t.treeAdapter.getTagName(e13) === Ir.TAG_NAMES.TEMPLATE && t.treeAdapter.getNamespaceURI(e13) === Ir.NS.HTML ? t.treeAdapter.getTemplateContent(e13) : e13, i = t.treeAdapter.getChildNodes(n);
  if (i)
    for (const o of i)
      r += lX(o, t);
  return r;
}
function lX(e13, t) {
  return t.treeAdapter.isElementNode(e13) ? CSe(e13, t) : t.treeAdapter.isTextNode(e13) ? kSe(e13, t) : t.treeAdapter.isCommentNode(e13) ? DSe(e13, t) : t.treeAdapter.isDocumentTypeNode(e13) ? RSe(e13, t) : "";
}
function CSe(e13, t) {
  const r = t.treeAdapter.getTagName(e13);
  return `<${r}${xSe(e13, t)}>${oX(e13, t) ? "" : `${sX(e13, t)}</${r}>`}`;
}
function xSe(e13, {
  treeAdapter: t
}) {
  let r = "";
  for (const n of t.getAttrList(e13)) {
    if (r += " ", !n.namespace)
      r += n.name;
    else
      switch (n.namespace) {
        case Ir.NS.XML: {
          r += `xml:${n.name}`;
          break;
        }
        case Ir.NS.XMLNS: {
          n.name !== "xmlns" && (r += "xmlns:"), r += n.name;
          break;
        }
        case Ir.NS.XLINK: {
          r += `xlink:${n.name}`;
          break;
        }
        default:
          r += `${n.prefix}:${n.name}`;
      }
    r += `="${(0, iX.escapeAttribute)(n.value)}"`;
  }
  return r;
}
function kSe(e13, t) {
  const {
    treeAdapter: r
  } = t, n = r.getTextNodeContent(e13), i = r.getParentNode(e13), o = i && r.isElementNode(i) && r.getTagName(i);
  return o && r.getNamespaceURI(i) === Ir.NS.HTML && (0, Ir.hasUnescapedText)(o, t.scriptingEnabled) ? n : (0, iX.escapeText)(n);
}
function DSe(e13, {
  treeAdapter: t
}) {
  return `<!--${t.getCommentNodeContent(e13)}-->`;
}
function RSe(e13, {
  treeAdapter: t
}) {
  return `<!DOCTYPE ${t.getDocumentTypeNodeName(e13)}>`;
}
(function(e13) {
  Object.defineProperty(e13, "__esModule", {
    value: true
  }), e13.parseFragment = e13.parse = e13.TokenizerMode = e13.Tokenizer = e13.Token = e13.html = e13.foreignContent = e13.ErrorCodes = e13.serializeOuter = e13.serialize = e13.Parser = e13.defaultTreeAdapter = void 0;
  const t = iv;
  var r = G1;
  Object.defineProperty(e13, "defaultTreeAdapter", {
    enumerable: true,
    get: function() {
      return r.defaultTreeAdapter;
    }
  });
  var n = iv;
  Object.defineProperty(e13, "Parser", {
    enumerable: true,
    get: function() {
      return n.Parser;
    }
  });
  var i = Sd;
  Object.defineProperty(e13, "serialize", {
    enumerable: true,
    get: function() {
      return i.serialize;
    }
  }), Object.defineProperty(e13, "serializeOuter", {
    enumerable: true,
    get: function() {
      return i.serializeOuter;
    }
  });
  var o = ty;
  Object.defineProperty(e13, "ErrorCodes", {
    enumerable: true,
    get: function() {
      return o.ERR;
    }
  }), e13.foreignContent = xN, e13.html = Xs, e13.Token = U1;
  var a = bu;
  Object.defineProperty(e13, "Tokenizer", {
    enumerable: true,
    get: function() {
      return a.Tokenizer;
    }
  }), Object.defineProperty(e13, "TokenizerMode", {
    enumerable: true,
    get: function() {
      return a.TokenizerMode;
    }
  });
  function s(u, c) {
    return t.Parser.parse(u, c);
  }
  e13.parse = s;
  function l(u, c, f) {
    typeof u == "string" && (f = c, c = u, u = null);
    const h = t.Parser.getFragmentParser(u, f);
    return h.tokenizer.write(c, true), h.getFragment();
  }
  e13.parseFragment = l;
})(D2);
var cX = {};
var uX = {};
var av = {};
var Tu = {};
var Y1 = {};
var q1 = {};
(function(e13) {
  Object.defineProperty(e13, "__esModule", {
    value: true
  }), e13.isUndefinedCodePoint = e13.isControlCodePoint = e13.getSurrogatePairCodePoint = e13.isSurrogatePair = e13.isSurrogate = e13.SEQUENCES = e13.CODE_POINTS = e13.REPLACEMENT_CHARACTER = void 0;
  const t = /* @__PURE__ */ new Set([65534, 65535, 131070, 131071, 196606, 196607, 262142, 262143, 327678, 327679, 393214, 393215, 458750, 458751, 524286, 524287, 589822, 589823, 655358, 655359, 720894, 720895, 786430, 786431, 851966, 851967, 917502, 917503, 983038, 983039, 1048574, 1048575, 1114110, 1114111]);
  e13.REPLACEMENT_CHARACTER = "�", function(s) {
    s[s.EOF = -1] = "EOF", s[s.NULL = 0] = "NULL", s[s.TABULATION = 9] = "TABULATION", s[s.CARRIAGE_RETURN = 13] = "CARRIAGE_RETURN", s[s.LINE_FEED = 10] = "LINE_FEED", s[s.FORM_FEED = 12] = "FORM_FEED", s[s.SPACE = 32] = "SPACE", s[s.EXCLAMATION_MARK = 33] = "EXCLAMATION_MARK", s[s.QUOTATION_MARK = 34] = "QUOTATION_MARK", s[s.NUMBER_SIGN = 35] = "NUMBER_SIGN", s[s.AMPERSAND = 38] = "AMPERSAND", s[s.APOSTROPHE = 39] = "APOSTROPHE", s[s.HYPHEN_MINUS = 45] = "HYPHEN_MINUS", s[s.SOLIDUS = 47] = "SOLIDUS", s[s.DIGIT_0 = 48] = "DIGIT_0", s[s.DIGIT_9 = 57] = "DIGIT_9", s[s.SEMICOLON = 59] = "SEMICOLON", s[s.LESS_THAN_SIGN = 60] = "LESS_THAN_SIGN", s[s.EQUALS_SIGN = 61] = "EQUALS_SIGN", s[s.GREATER_THAN_SIGN = 62] = "GREATER_THAN_SIGN", s[s.QUESTION_MARK = 63] = "QUESTION_MARK", s[s.LATIN_CAPITAL_A = 65] = "LATIN_CAPITAL_A", s[s.LATIN_CAPITAL_F = 70] = "LATIN_CAPITAL_F", s[s.LATIN_CAPITAL_X = 88] = "LATIN_CAPITAL_X", s[s.LATIN_CAPITAL_Z = 90] = "LATIN_CAPITAL_Z", s[s.RIGHT_SQUARE_BRACKET = 93] = "RIGHT_SQUARE_BRACKET", s[s.GRAVE_ACCENT = 96] = "GRAVE_ACCENT", s[s.LATIN_SMALL_A = 97] = "LATIN_SMALL_A", s[s.LATIN_SMALL_F = 102] = "LATIN_SMALL_F", s[s.LATIN_SMALL_X = 120] = "LATIN_SMALL_X", s[s.LATIN_SMALL_Z = 122] = "LATIN_SMALL_Z", s[s.REPLACEMENT_CHARACTER = 65533] = "REPLACEMENT_CHARACTER";
  }(e13.CODE_POINTS || (e13.CODE_POINTS = {})), e13.SEQUENCES = {
    DASH_DASH: "--",
    CDATA_START: "[CDATA[",
    DOCTYPE: "doctype",
    SCRIPT: "script",
    PUBLIC: "public",
    SYSTEM: "system"
  };
  function r(s) {
    return s >= 55296 && s <= 57343;
  }
  e13.isSurrogate = r;
  function n(s) {
    return s >= 56320 && s <= 57343;
  }
  e13.isSurrogatePair = n;
  function i(s, l) {
    return (s - 55296) * 1024 + 9216 + l;
  }
  e13.getSurrogatePairCodePoint = i;
  function o(s) {
    return s !== 32 && s !== 10 && s !== 13 && s !== 9 && s !== 12 && s >= 1 && s <= 31 || s >= 127 && s <= 159;
  }
  e13.isControlCodePoint = o;
  function a(s) {
    return s >= 64976 && s <= 65007 || t.has(s);
  }
  e13.isUndefinedCodePoint = a;
})(q1);
var ny = {};
(function(e13) {
  Object.defineProperty(e13, "__esModule", {
    value: true
  }), e13.ERR = void 0, function(t) {
    t.controlCharacterInInputStream = "control-character-in-input-stream", t.noncharacterInInputStream = "noncharacter-in-input-stream", t.surrogateInInputStream = "surrogate-in-input-stream", t.nonVoidHtmlElementStartTagWithTrailingSolidus = "non-void-html-element-start-tag-with-trailing-solidus", t.endTagWithAttributes = "end-tag-with-attributes", t.endTagWithTrailingSolidus = "end-tag-with-trailing-solidus", t.unexpectedSolidusInTag = "unexpected-solidus-in-tag", t.unexpectedNullCharacter = "unexpected-null-character", t.unexpectedQuestionMarkInsteadOfTagName = "unexpected-question-mark-instead-of-tag-name", t.invalidFirstCharacterOfTagName = "invalid-first-character-of-tag-name", t.unexpectedEqualsSignBeforeAttributeName = "unexpected-equals-sign-before-attribute-name", t.missingEndTagName = "missing-end-tag-name", t.unexpectedCharacterInAttributeName = "unexpected-character-in-attribute-name", t.unknownNamedCharacterReference = "unknown-named-character-reference", t.missingSemicolonAfterCharacterReference = "missing-semicolon-after-character-reference", t.unexpectedCharacterAfterDoctypeSystemIdentifier = "unexpected-character-after-doctype-system-identifier", t.unexpectedCharacterInUnquotedAttributeValue = "unexpected-character-in-unquoted-attribute-value", t.eofBeforeTagName = "eof-before-tag-name", t.eofInTag = "eof-in-tag", t.missingAttributeValue = "missing-attribute-value", t.missingWhitespaceBetweenAttributes = "missing-whitespace-between-attributes", t.missingWhitespaceAfterDoctypePublicKeyword = "missing-whitespace-after-doctype-public-keyword", t.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers = "missing-whitespace-between-doctype-public-and-system-identifiers", t.missingWhitespaceAfterDoctypeSystemKeyword = "missing-whitespace-after-doctype-system-keyword", t.missingQuoteBeforeDoctypePublicIdentifier = "missing-quote-before-doctype-public-identifier", t.missingQuoteBeforeDoctypeSystemIdentifier = "missing-quote-before-doctype-system-identifier", t.missingDoctypePublicIdentifier = "missing-doctype-public-identifier", t.missingDoctypeSystemIdentifier = "missing-doctype-system-identifier", t.abruptDoctypePublicIdentifier = "abrupt-doctype-public-identifier", t.abruptDoctypeSystemIdentifier = "abrupt-doctype-system-identifier", t.cdataInHtmlContent = "cdata-in-html-content", t.incorrectlyOpenedComment = "incorrectly-opened-comment", t.eofInScriptHtmlCommentLikeText = "eof-in-script-html-comment-like-text", t.eofInDoctype = "eof-in-doctype", t.nestedComment = "nested-comment", t.abruptClosingOfEmptyComment = "abrupt-closing-of-empty-comment", t.eofInComment = "eof-in-comment", t.incorrectlyClosedComment = "incorrectly-closed-comment", t.eofInCdata = "eof-in-cdata", t.absenceOfDigitsInNumericCharacterReference = "absence-of-digits-in-numeric-character-reference", t.nullCharacterReference = "null-character-reference", t.surrogateCharacterReference = "surrogate-character-reference", t.characterReferenceOutsideUnicodeRange = "character-reference-outside-unicode-range", t.controlCharacterReference = "control-character-reference", t.noncharacterCharacterReference = "noncharacter-character-reference", t.missingWhitespaceBeforeDoctypeName = "missing-whitespace-before-doctype-name", t.missingDoctypeName = "missing-doctype-name", t.invalidCharacterSequenceAfterDoctypeName = "invalid-character-sequence-after-doctype-name", t.duplicateAttribute = "duplicate-attribute", t.nonConformingDoctype = "non-conforming-doctype", t.missingDoctype = "missing-doctype", t.misplacedDoctype = "misplaced-doctype", t.endTagWithoutMatchingOpenElement = "end-tag-without-matching-open-element", t.closingOfElementWithOpenChildElements = "closing-of-element-with-open-child-elements", t.disallowedContentInNoscriptInHead = "disallowed-content-in-noscript-in-head", t.openElementsLeftAfterEof = "open-elements-left-after-eof", t.abandonedHeadElementChild = "abandoned-head-element-child", t.misplacedStartTagForHeadElement = "misplaced-start-tag-for-head-element", t.nestedNoscriptInHead = "nested-noscript-in-head", t.eofInElementThatCanContainOnlyText = "eof-in-element-that-can-contain-only-text";
  }(e13.ERR || (e13.ERR = {}));
})(ny);
function NSe(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function MSe(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, BSe(n.key), n);
  }
}
function LSe(e13, t, r) {
  return t && MSe(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function BSe(e13) {
  var t = FSe(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function FSe(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
Object.defineProperty(Y1, "__esModule", {
  value: true
});
Y1.Preprocessor = void 0;
var si = q1;
var nO = ny;
var $Se = 65536;
var HSe = function() {
  function e13(t) {
    NSe(this, e13), this.handler = t, this.html = "", this.pos = -1, this.lastGapPos = -2, this.gapStack = [], this.skipNextNewLine = false, this.lastChunkWritten = false, this.endOfChunkHit = false, this.bufferWaterline = $Se, this.isEol = false, this.lineStartPos = 0, this.droppedBufferSize = 0, this.line = 1, this.lastErrOffset = -1;
  }
  return LSe(e13, [{
    key: "col",
    get: function() {
      return this.pos - this.lineStartPos + +(this.lastGapPos !== this.pos);
    }
  }, {
    key: "offset",
    get: function() {
      return this.droppedBufferSize + this.pos;
    }
  }, {
    key: "getError",
    value: function(r) {
      const {
        line: n,
        col: i,
        offset: o
      } = this;
      return {
        code: r,
        startLine: n,
        endLine: n,
        startCol: i,
        endCol: i,
        startOffset: o,
        endOffset: o
      };
    }
  }, {
    key: "_err",
    value: function(r) {
      this.handler.onParseError && this.lastErrOffset !== this.offset && (this.lastErrOffset = this.offset, this.handler.onParseError(this.getError(r)));
    }
  }, {
    key: "_addGap",
    value: function() {
      this.gapStack.push(this.lastGapPos), this.lastGapPos = this.pos;
    }
  }, {
    key: "_processSurrogate",
    value: function(r) {
      if (this.pos !== this.html.length - 1) {
        const n = this.html.charCodeAt(this.pos + 1);
        if ((0, si.isSurrogatePair)(n))
          return this.pos++, this._addGap(), (0, si.getSurrogatePairCodePoint)(r, n);
      } else if (!this.lastChunkWritten)
        return this.endOfChunkHit = true, si.CODE_POINTS.EOF;
      return this._err(nO.ERR.surrogateInInputStream), r;
    }
  }, {
    key: "willDropParsedChunk",
    value: function() {
      return this.pos > this.bufferWaterline;
    }
  }, {
    key: "dropParsedChunk",
    value: function() {
      this.willDropParsedChunk() && (this.html = this.html.substring(this.pos), this.lineStartPos -= this.pos, this.droppedBufferSize += this.pos, this.pos = 0, this.lastGapPos = -2, this.gapStack.length = 0);
    }
  }, {
    key: "write",
    value: function(r, n) {
      this.html.length > 0 ? this.html += r : this.html = r, this.endOfChunkHit = false, this.lastChunkWritten = n;
    }
  }, {
    key: "insertHtmlAtCurrentPos",
    value: function(r) {
      this.html = this.html.substring(0, this.pos + 1) + r + this.html.substring(this.pos + 1), this.endOfChunkHit = false;
    }
  }, {
    key: "startsWith",
    value: function(r, n) {
      if (this.pos + r.length > this.html.length)
        return this.endOfChunkHit = !this.lastChunkWritten, false;
      if (n)
        return this.html.startsWith(r, this.pos);
      for (let i = 0; i < r.length; i++)
        if ((this.html.charCodeAt(this.pos + i) | 32) !== r.charCodeAt(i))
          return false;
      return true;
    }
  }, {
    key: "peek",
    value: function(r) {
      const n = this.pos + r;
      if (n >= this.html.length)
        return this.endOfChunkHit = !this.lastChunkWritten, si.CODE_POINTS.EOF;
      const i = this.html.charCodeAt(n);
      return i === si.CODE_POINTS.CARRIAGE_RETURN ? si.CODE_POINTS.LINE_FEED : i;
    }
  }, {
    key: "advance",
    value: function() {
      if (this.pos++, this.isEol && (this.isEol = false, this.line++, this.lineStartPos = this.pos), this.pos >= this.html.length)
        return this.endOfChunkHit = !this.lastChunkWritten, si.CODE_POINTS.EOF;
      let r = this.html.charCodeAt(this.pos);
      return r === si.CODE_POINTS.CARRIAGE_RETURN ? (this.isEol = true, this.skipNextNewLine = true, si.CODE_POINTS.LINE_FEED) : r === si.CODE_POINTS.LINE_FEED && (this.isEol = true, this.skipNextNewLine) ? (this.line--, this.skipNextNewLine = false, this._addGap(), this.advance()) : (this.skipNextNewLine = false, (0, si.isSurrogate)(r) && (r = this._processSurrogate(r)), this.handler.onParseError === null || r > 31 && r < 127 || r === si.CODE_POINTS.LINE_FEED || r === si.CODE_POINTS.CARRIAGE_RETURN || r > 159 && r < 64976 || this._checkForProblematicCharacters(r), r);
    }
  }, {
    key: "_checkForProblematicCharacters",
    value: function(r) {
      (0, si.isControlCodePoint)(r) ? this._err(nO.ERR.controlCharacterInInputStream) : (0, si.isUndefinedCodePoint)(r) && this._err(nO.ERR.noncharacterInInputStream);
    }
  }, {
    key: "retreat",
    value: function(r) {
      for (this.pos -= r; this.pos < this.lastGapPos; )
        this.lastGapPos = this.gapStack.pop(), this.pos--;
      this.isEol = false;
    }
  }]), e13;
}();
Y1.Preprocessor = HSe;
var K1 = {};
(function(e13) {
  Object.defineProperty(e13, "__esModule", {
    value: true
  }), e13.getTokenAttr = e13.TokenType = void 0, function(r) {
    r[r.CHARACTER = 0] = "CHARACTER", r[r.NULL_CHARACTER = 1] = "NULL_CHARACTER", r[r.WHITESPACE_CHARACTER = 2] = "WHITESPACE_CHARACTER", r[r.START_TAG = 3] = "START_TAG", r[r.END_TAG = 4] = "END_TAG", r[r.COMMENT = 5] = "COMMENT", r[r.DOCTYPE = 6] = "DOCTYPE", r[r.EOF = 7] = "EOF", r[r.HIBERNATION = 8] = "HIBERNATION";
  }(e13.TokenType || (e13.TokenType = {}));
  function t(r, n) {
    for (let i = r.attrs.length - 1; i >= 0; i--)
      if (r.attrs[i].name === n)
        return r.attrs[i].value;
    return null;
  }
  e13.getTokenAttr = t;
})(K1);
var Ws2 = {};
(function(e13) {
  Object.defineProperty(e13, "__esModule", {
    value: true
  }), e13.hasUnescapedText = e13.isNumberedHeader = e13.SPECIAL_ELEMENTS = e13.getTagID = e13.TAG_ID = e13.TAG_NAMES = e13.DOCUMENT_MODE = e13.ATTRS = e13.NS = void 0;
  var t;
  (function(c) {
    c.HTML = "http://www.w3.org/1999/xhtml", c.MATHML = "http://www.w3.org/1998/Math/MathML", c.SVG = "http://www.w3.org/2000/svg", c.XLINK = "http://www.w3.org/1999/xlink", c.XML = "http://www.w3.org/XML/1998/namespace", c.XMLNS = "http://www.w3.org/2000/xmlns/";
  })(t = e13.NS || (e13.NS = {})), function(c) {
    c.TYPE = "type", c.ACTION = "action", c.ENCODING = "encoding", c.PROMPT = "prompt", c.NAME = "name", c.COLOR = "color", c.FACE = "face", c.SIZE = "size";
  }(e13.ATTRS || (e13.ATTRS = {})), function(c) {
    c.NO_QUIRKS = "no-quirks", c.QUIRKS = "quirks", c.LIMITED_QUIRKS = "limited-quirks";
  }(e13.DOCUMENT_MODE || (e13.DOCUMENT_MODE = {}));
  var r;
  (function(c) {
    c.A = "a", c.ADDRESS = "address", c.ANNOTATION_XML = "annotation-xml", c.APPLET = "applet", c.AREA = "area", c.ARTICLE = "article", c.ASIDE = "aside", c.B = "b", c.BASE = "base", c.BASEFONT = "basefont", c.BGSOUND = "bgsound", c.BIG = "big", c.BLOCKQUOTE = "blockquote", c.BODY = "body", c.BR = "br", c.BUTTON = "button", c.CAPTION = "caption", c.CENTER = "center", c.CODE = "code", c.COL = "col", c.COLGROUP = "colgroup", c.DD = "dd", c.DESC = "desc", c.DETAILS = "details", c.DIALOG = "dialog", c.DIR = "dir", c.DIV = "div", c.DL = "dl", c.DT = "dt", c.EM = "em", c.EMBED = "embed", c.FIELDSET = "fieldset", c.FIGCAPTION = "figcaption", c.FIGURE = "figure", c.FONT = "font", c.FOOTER = "footer", c.FOREIGN_OBJECT = "foreignObject", c.FORM = "form", c.FRAME = "frame", c.FRAMESET = "frameset", c.H1 = "h1", c.H2 = "h2", c.H3 = "h3", c.H4 = "h4", c.H5 = "h5", c.H6 = "h6", c.HEAD = "head", c.HEADER = "header", c.HGROUP = "hgroup", c.HR = "hr", c.HTML = "html", c.I = "i", c.IMG = "img", c.IMAGE = "image", c.INPUT = "input", c.IFRAME = "iframe", c.KEYGEN = "keygen", c.LABEL = "label", c.LI = "li", c.LINK = "link", c.LISTING = "listing", c.MAIN = "main", c.MALIGNMARK = "malignmark", c.MARQUEE = "marquee", c.MATH = "math", c.MENU = "menu", c.META = "meta", c.MGLYPH = "mglyph", c.MI = "mi", c.MO = "mo", c.MN = "mn", c.MS = "ms", c.MTEXT = "mtext", c.NAV = "nav", c.NOBR = "nobr", c.NOFRAMES = "noframes", c.NOEMBED = "noembed", c.NOSCRIPT = "noscript", c.OBJECT = "object", c.OL = "ol", c.OPTGROUP = "optgroup", c.OPTION = "option", c.P = "p", c.PARAM = "param", c.PLAINTEXT = "plaintext", c.PRE = "pre", c.RB = "rb", c.RP = "rp", c.RT = "rt", c.RTC = "rtc", c.RUBY = "ruby", c.S = "s", c.SCRIPT = "script", c.SECTION = "section", c.SELECT = "select", c.SOURCE = "source", c.SMALL = "small", c.SPAN = "span", c.STRIKE = "strike", c.STRONG = "strong", c.STYLE = "style", c.SUB = "sub", c.SUMMARY = "summary", c.SUP = "sup", c.TABLE = "table", c.TBODY = "tbody", c.TEMPLATE = "template", c.TEXTAREA = "textarea", c.TFOOT = "tfoot", c.TD = "td", c.TH = "th", c.THEAD = "thead", c.TITLE = "title", c.TR = "tr", c.TRACK = "track", c.TT = "tt", c.U = "u", c.UL = "ul", c.SVG = "svg", c.VAR = "var", c.WBR = "wbr", c.XMP = "xmp";
  })(r = e13.TAG_NAMES || (e13.TAG_NAMES = {}));
  var n;
  (function(c) {
    c[c.UNKNOWN = 0] = "UNKNOWN", c[c.A = 1] = "A", c[c.ADDRESS = 2] = "ADDRESS", c[c.ANNOTATION_XML = 3] = "ANNOTATION_XML", c[c.APPLET = 4] = "APPLET", c[c.AREA = 5] = "AREA", c[c.ARTICLE = 6] = "ARTICLE", c[c.ASIDE = 7] = "ASIDE", c[c.B = 8] = "B", c[c.BASE = 9] = "BASE", c[c.BASEFONT = 10] = "BASEFONT", c[c.BGSOUND = 11] = "BGSOUND", c[c.BIG = 12] = "BIG", c[c.BLOCKQUOTE = 13] = "BLOCKQUOTE", c[c.BODY = 14] = "BODY", c[c.BR = 15] = "BR", c[c.BUTTON = 16] = "BUTTON", c[c.CAPTION = 17] = "CAPTION", c[c.CENTER = 18] = "CENTER", c[c.CODE = 19] = "CODE", c[c.COL = 20] = "COL", c[c.COLGROUP = 21] = "COLGROUP", c[c.DD = 22] = "DD", c[c.DESC = 23] = "DESC", c[c.DETAILS = 24] = "DETAILS", c[c.DIALOG = 25] = "DIALOG", c[c.DIR = 26] = "DIR", c[c.DIV = 27] = "DIV", c[c.DL = 28] = "DL", c[c.DT = 29] = "DT", c[c.EM = 30] = "EM", c[c.EMBED = 31] = "EMBED", c[c.FIELDSET = 32] = "FIELDSET", c[c.FIGCAPTION = 33] = "FIGCAPTION", c[c.FIGURE = 34] = "FIGURE", c[c.FONT = 35] = "FONT", c[c.FOOTER = 36] = "FOOTER", c[c.FOREIGN_OBJECT = 37] = "FOREIGN_OBJECT", c[c.FORM = 38] = "FORM", c[c.FRAME = 39] = "FRAME", c[c.FRAMESET = 40] = "FRAMESET", c[c.H1 = 41] = "H1", c[c.H2 = 42] = "H2", c[c.H3 = 43] = "H3", c[c.H4 = 44] = "H4", c[c.H5 = 45] = "H5", c[c.H6 = 46] = "H6", c[c.HEAD = 47] = "HEAD", c[c.HEADER = 48] = "HEADER", c[c.HGROUP = 49] = "HGROUP", c[c.HR = 50] = "HR", c[c.HTML = 51] = "HTML", c[c.I = 52] = "I", c[c.IMG = 53] = "IMG", c[c.IMAGE = 54] = "IMAGE", c[c.INPUT = 55] = "INPUT", c[c.IFRAME = 56] = "IFRAME", c[c.KEYGEN = 57] = "KEYGEN", c[c.LABEL = 58] = "LABEL", c[c.LI = 59] = "LI", c[c.LINK = 60] = "LINK", c[c.LISTING = 61] = "LISTING", c[c.MAIN = 62] = "MAIN", c[c.MALIGNMARK = 63] = "MALIGNMARK", c[c.MARQUEE = 64] = "MARQUEE", c[c.MATH = 65] = "MATH", c[c.MENU = 66] = "MENU", c[c.META = 67] = "META", c[c.MGLYPH = 68] = "MGLYPH", c[c.MI = 69] = "MI", c[c.MO = 70] = "MO", c[c.MN = 71] = "MN", c[c.MS = 72] = "MS", c[c.MTEXT = 73] = "MTEXT", c[c.NAV = 74] = "NAV", c[c.NOBR = 75] = "NOBR", c[c.NOFRAMES = 76] = "NOFRAMES", c[c.NOEMBED = 77] = "NOEMBED", c[c.NOSCRIPT = 78] = "NOSCRIPT", c[c.OBJECT = 79] = "OBJECT", c[c.OL = 80] = "OL", c[c.OPTGROUP = 81] = "OPTGROUP", c[c.OPTION = 82] = "OPTION", c[c.P = 83] = "P", c[c.PARAM = 84] = "PARAM", c[c.PLAINTEXT = 85] = "PLAINTEXT", c[c.PRE = 86] = "PRE", c[c.RB = 87] = "RB", c[c.RP = 88] = "RP", c[c.RT = 89] = "RT", c[c.RTC = 90] = "RTC", c[c.RUBY = 91] = "RUBY", c[c.S = 92] = "S", c[c.SCRIPT = 93] = "SCRIPT", c[c.SECTION = 94] = "SECTION", c[c.SELECT = 95] = "SELECT", c[c.SOURCE = 96] = "SOURCE", c[c.SMALL = 97] = "SMALL", c[c.SPAN = 98] = "SPAN", c[c.STRIKE = 99] = "STRIKE", c[c.STRONG = 100] = "STRONG", c[c.STYLE = 101] = "STYLE", c[c.SUB = 102] = "SUB", c[c.SUMMARY = 103] = "SUMMARY", c[c.SUP = 104] = "SUP", c[c.TABLE = 105] = "TABLE", c[c.TBODY = 106] = "TBODY", c[c.TEMPLATE = 107] = "TEMPLATE", c[c.TEXTAREA = 108] = "TEXTAREA", c[c.TFOOT = 109] = "TFOOT", c[c.TD = 110] = "TD", c[c.TH = 111] = "TH", c[c.THEAD = 112] = "THEAD", c[c.TITLE = 113] = "TITLE", c[c.TR = 114] = "TR", c[c.TRACK = 115] = "TRACK", c[c.TT = 116] = "TT", c[c.U = 117] = "U", c[c.UL = 118] = "UL", c[c.SVG = 119] = "SVG", c[c.VAR = 120] = "VAR", c[c.WBR = 121] = "WBR", c[c.XMP = 122] = "XMP";
  })(n = e13.TAG_ID || (e13.TAG_ID = {}));
  const i = /* @__PURE__ */ new Map([[r.A, n.A], [r.ADDRESS, n.ADDRESS], [r.ANNOTATION_XML, n.ANNOTATION_XML], [r.APPLET, n.APPLET], [r.AREA, n.AREA], [r.ARTICLE, n.ARTICLE], [r.ASIDE, n.ASIDE], [r.B, n.B], [r.BASE, n.BASE], [r.BASEFONT, n.BASEFONT], [r.BGSOUND, n.BGSOUND], [r.BIG, n.BIG], [r.BLOCKQUOTE, n.BLOCKQUOTE], [r.BODY, n.BODY], [r.BR, n.BR], [r.BUTTON, n.BUTTON], [r.CAPTION, n.CAPTION], [r.CENTER, n.CENTER], [r.CODE, n.CODE], [r.COL, n.COL], [r.COLGROUP, n.COLGROUP], [r.DD, n.DD], [r.DESC, n.DESC], [r.DETAILS, n.DETAILS], [r.DIALOG, n.DIALOG], [r.DIR, n.DIR], [r.DIV, n.DIV], [r.DL, n.DL], [r.DT, n.DT], [r.EM, n.EM], [r.EMBED, n.EMBED], [r.FIELDSET, n.FIELDSET], [r.FIGCAPTION, n.FIGCAPTION], [r.FIGURE, n.FIGURE], [r.FONT, n.FONT], [r.FOOTER, n.FOOTER], [r.FOREIGN_OBJECT, n.FOREIGN_OBJECT], [r.FORM, n.FORM], [r.FRAME, n.FRAME], [r.FRAMESET, n.FRAMESET], [r.H1, n.H1], [r.H2, n.H2], [r.H3, n.H3], [r.H4, n.H4], [r.H5, n.H5], [r.H6, n.H6], [r.HEAD, n.HEAD], [r.HEADER, n.HEADER], [r.HGROUP, n.HGROUP], [r.HR, n.HR], [r.HTML, n.HTML], [r.I, n.I], [r.IMG, n.IMG], [r.IMAGE, n.IMAGE], [r.INPUT, n.INPUT], [r.IFRAME, n.IFRAME], [r.KEYGEN, n.KEYGEN], [r.LABEL, n.LABEL], [r.LI, n.LI], [r.LINK, n.LINK], [r.LISTING, n.LISTING], [r.MAIN, n.MAIN], [r.MALIGNMARK, n.MALIGNMARK], [r.MARQUEE, n.MARQUEE], [r.MATH, n.MATH], [r.MENU, n.MENU], [r.META, n.META], [r.MGLYPH, n.MGLYPH], [r.MI, n.MI], [r.MO, n.MO], [r.MN, n.MN], [r.MS, n.MS], [r.MTEXT, n.MTEXT], [r.NAV, n.NAV], [r.NOBR, n.NOBR], [r.NOFRAMES, n.NOFRAMES], [r.NOEMBED, n.NOEMBED], [r.NOSCRIPT, n.NOSCRIPT], [r.OBJECT, n.OBJECT], [r.OL, n.OL], [r.OPTGROUP, n.OPTGROUP], [r.OPTION, n.OPTION], [r.P, n.P], [r.PARAM, n.PARAM], [r.PLAINTEXT, n.PLAINTEXT], [r.PRE, n.PRE], [r.RB, n.RB], [r.RP, n.RP], [r.RT, n.RT], [r.RTC, n.RTC], [r.RUBY, n.RUBY], [r.S, n.S], [r.SCRIPT, n.SCRIPT], [r.SECTION, n.SECTION], [r.SELECT, n.SELECT], [r.SOURCE, n.SOURCE], [r.SMALL, n.SMALL], [r.SPAN, n.SPAN], [r.STRIKE, n.STRIKE], [r.STRONG, n.STRONG], [r.STYLE, n.STYLE], [r.SUB, n.SUB], [r.SUMMARY, n.SUMMARY], [r.SUP, n.SUP], [r.TABLE, n.TABLE], [r.TBODY, n.TBODY], [r.TEMPLATE, n.TEMPLATE], [r.TEXTAREA, n.TEXTAREA], [r.TFOOT, n.TFOOT], [r.TD, n.TD], [r.TH, n.TH], [r.THEAD, n.THEAD], [r.TITLE, n.TITLE], [r.TR, n.TR], [r.TRACK, n.TRACK], [r.TT, n.TT], [r.U, n.U], [r.UL, n.UL], [r.SVG, n.SVG], [r.VAR, n.VAR], [r.WBR, n.WBR], [r.XMP, n.XMP]]);
  function o(c) {
    var f;
    return (f = i.get(c)) !== null && f !== void 0 ? f : n.UNKNOWN;
  }
  e13.getTagID = o;
  const a = n;
  e13.SPECIAL_ELEMENTS = {
    [t.HTML]: /* @__PURE__ */ new Set([a.ADDRESS, a.APPLET, a.AREA, a.ARTICLE, a.ASIDE, a.BASE, a.BASEFONT, a.BGSOUND, a.BLOCKQUOTE, a.BODY, a.BR, a.BUTTON, a.CAPTION, a.CENTER, a.COL, a.COLGROUP, a.DD, a.DETAILS, a.DIR, a.DIV, a.DL, a.DT, a.EMBED, a.FIELDSET, a.FIGCAPTION, a.FIGURE, a.FOOTER, a.FORM, a.FRAME, a.FRAMESET, a.H1, a.H2, a.H3, a.H4, a.H5, a.H6, a.HEAD, a.HEADER, a.HGROUP, a.HR, a.HTML, a.IFRAME, a.IMG, a.INPUT, a.LI, a.LINK, a.LISTING, a.MAIN, a.MARQUEE, a.MENU, a.META, a.NAV, a.NOEMBED, a.NOFRAMES, a.NOSCRIPT, a.OBJECT, a.OL, a.P, a.PARAM, a.PLAINTEXT, a.PRE, a.SCRIPT, a.SECTION, a.SELECT, a.SOURCE, a.STYLE, a.SUMMARY, a.TABLE, a.TBODY, a.TD, a.TEMPLATE, a.TEXTAREA, a.TFOOT, a.TH, a.THEAD, a.TITLE, a.TR, a.TRACK, a.UL, a.WBR, a.XMP]),
    [t.MATHML]: /* @__PURE__ */ new Set([a.MI, a.MO, a.MN, a.MS, a.MTEXT, a.ANNOTATION_XML]),
    [t.SVG]: /* @__PURE__ */ new Set([a.TITLE, a.FOREIGN_OBJECT, a.DESC]),
    [t.XLINK]: /* @__PURE__ */ new Set(),
    [t.XML]: /* @__PURE__ */ new Set(),
    [t.XMLNS]: /* @__PURE__ */ new Set()
  };
  function s(c) {
    return c === a.H1 || c === a.H2 || c === a.H3 || c === a.H4 || c === a.H5 || c === a.H6;
  }
  e13.isNumberedHeader = s;
  const l = /* @__PURE__ */ new Set([r.STYLE, r.SCRIPT, r.XMP, r.IFRAME, r.NOEMBED, r.NOFRAMES, r.PLAINTEXT]);
  function u(c, f) {
    return l.has(c) || f && c === r.NOSCRIPT;
  }
  e13.hasUnescapedText = u;
})(Ws2);
function USe(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function jSe(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, zSe(n.key), n);
  }
}
function GSe(e13, t, r) {
  return t && jSe(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function zSe(e13) {
  var t = VSe(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function VSe(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
Object.defineProperty(Tu, "__esModule", {
  value: true
});
Tu.Tokenizer = Tu.TokenizerMode = void 0;
var XSe = Y1;
var X = q1;
var Pi = K1;
var ha = vu;
var Be = ny;
var iO = Ws2;
var WSe = /* @__PURE__ */ new Map([[128, 8364], [130, 8218], [131, 402], [132, 8222], [133, 8230], [134, 8224], [135, 8225], [136, 710], [137, 8240], [138, 352], [139, 8249], [140, 338], [142, 381], [145, 8216], [146, 8217], [147, 8220], [148, 8221], [149, 8226], [150, 8211], [151, 8212], [152, 732], [153, 8482], [154, 353], [155, 8250], [156, 339], [158, 382], [159, 376]]);
var re;
(function(e13) {
  e13[e13.DATA = 0] = "DATA", e13[e13.RCDATA = 1] = "RCDATA", e13[e13.RAWTEXT = 2] = "RAWTEXT", e13[e13.SCRIPT_DATA = 3] = "SCRIPT_DATA", e13[e13.PLAINTEXT = 4] = "PLAINTEXT", e13[e13.TAG_OPEN = 5] = "TAG_OPEN", e13[e13.END_TAG_OPEN = 6] = "END_TAG_OPEN", e13[e13.TAG_NAME = 7] = "TAG_NAME", e13[e13.RCDATA_LESS_THAN_SIGN = 8] = "RCDATA_LESS_THAN_SIGN", e13[e13.RCDATA_END_TAG_OPEN = 9] = "RCDATA_END_TAG_OPEN", e13[e13.RCDATA_END_TAG_NAME = 10] = "RCDATA_END_TAG_NAME", e13[e13.RAWTEXT_LESS_THAN_SIGN = 11] = "RAWTEXT_LESS_THAN_SIGN", e13[e13.RAWTEXT_END_TAG_OPEN = 12] = "RAWTEXT_END_TAG_OPEN", e13[e13.RAWTEXT_END_TAG_NAME = 13] = "RAWTEXT_END_TAG_NAME", e13[e13.SCRIPT_DATA_LESS_THAN_SIGN = 14] = "SCRIPT_DATA_LESS_THAN_SIGN", e13[e13.SCRIPT_DATA_END_TAG_OPEN = 15] = "SCRIPT_DATA_END_TAG_OPEN", e13[e13.SCRIPT_DATA_END_TAG_NAME = 16] = "SCRIPT_DATA_END_TAG_NAME", e13[e13.SCRIPT_DATA_ESCAPE_START = 17] = "SCRIPT_DATA_ESCAPE_START", e13[e13.SCRIPT_DATA_ESCAPE_START_DASH = 18] = "SCRIPT_DATA_ESCAPE_START_DASH", e13[e13.SCRIPT_DATA_ESCAPED = 19] = "SCRIPT_DATA_ESCAPED", e13[e13.SCRIPT_DATA_ESCAPED_DASH = 20] = "SCRIPT_DATA_ESCAPED_DASH", e13[e13.SCRIPT_DATA_ESCAPED_DASH_DASH = 21] = "SCRIPT_DATA_ESCAPED_DASH_DASH", e13[e13.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN = 22] = "SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN", e13[e13.SCRIPT_DATA_ESCAPED_END_TAG_OPEN = 23] = "SCRIPT_DATA_ESCAPED_END_TAG_OPEN", e13[e13.SCRIPT_DATA_ESCAPED_END_TAG_NAME = 24] = "SCRIPT_DATA_ESCAPED_END_TAG_NAME", e13[e13.SCRIPT_DATA_DOUBLE_ESCAPE_START = 25] = "SCRIPT_DATA_DOUBLE_ESCAPE_START", e13[e13.SCRIPT_DATA_DOUBLE_ESCAPED = 26] = "SCRIPT_DATA_DOUBLE_ESCAPED", e13[e13.SCRIPT_DATA_DOUBLE_ESCAPED_DASH = 27] = "SCRIPT_DATA_DOUBLE_ESCAPED_DASH", e13[e13.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH = 28] = "SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH", e13[e13.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN = 29] = "SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN", e13[e13.SCRIPT_DATA_DOUBLE_ESCAPE_END = 30] = "SCRIPT_DATA_DOUBLE_ESCAPE_END", e13[e13.BEFORE_ATTRIBUTE_NAME = 31] = "BEFORE_ATTRIBUTE_NAME", e13[e13.ATTRIBUTE_NAME = 32] = "ATTRIBUTE_NAME", e13[e13.AFTER_ATTRIBUTE_NAME = 33] = "AFTER_ATTRIBUTE_NAME", e13[e13.BEFORE_ATTRIBUTE_VALUE = 34] = "BEFORE_ATTRIBUTE_VALUE", e13[e13.ATTRIBUTE_VALUE_DOUBLE_QUOTED = 35] = "ATTRIBUTE_VALUE_DOUBLE_QUOTED", e13[e13.ATTRIBUTE_VALUE_SINGLE_QUOTED = 36] = "ATTRIBUTE_VALUE_SINGLE_QUOTED", e13[e13.ATTRIBUTE_VALUE_UNQUOTED = 37] = "ATTRIBUTE_VALUE_UNQUOTED", e13[e13.AFTER_ATTRIBUTE_VALUE_QUOTED = 38] = "AFTER_ATTRIBUTE_VALUE_QUOTED", e13[e13.SELF_CLOSING_START_TAG = 39] = "SELF_CLOSING_START_TAG", e13[e13.BOGUS_COMMENT = 40] = "BOGUS_COMMENT", e13[e13.MARKUP_DECLARATION_OPEN = 41] = "MARKUP_DECLARATION_OPEN", e13[e13.COMMENT_START = 42] = "COMMENT_START", e13[e13.COMMENT_START_DASH = 43] = "COMMENT_START_DASH", e13[e13.COMMENT = 44] = "COMMENT", e13[e13.COMMENT_LESS_THAN_SIGN = 45] = "COMMENT_LESS_THAN_SIGN", e13[e13.COMMENT_LESS_THAN_SIGN_BANG = 46] = "COMMENT_LESS_THAN_SIGN_BANG", e13[e13.COMMENT_LESS_THAN_SIGN_BANG_DASH = 47] = "COMMENT_LESS_THAN_SIGN_BANG_DASH", e13[e13.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH = 48] = "COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH", e13[e13.COMMENT_END_DASH = 49] = "COMMENT_END_DASH", e13[e13.COMMENT_END = 50] = "COMMENT_END", e13[e13.COMMENT_END_BANG = 51] = "COMMENT_END_BANG", e13[e13.DOCTYPE = 52] = "DOCTYPE", e13[e13.BEFORE_DOCTYPE_NAME = 53] = "BEFORE_DOCTYPE_NAME", e13[e13.DOCTYPE_NAME = 54] = "DOCTYPE_NAME", e13[e13.AFTER_DOCTYPE_NAME = 55] = "AFTER_DOCTYPE_NAME", e13[e13.AFTER_DOCTYPE_PUBLIC_KEYWORD = 56] = "AFTER_DOCTYPE_PUBLIC_KEYWORD", e13[e13.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER = 57] = "BEFORE_DOCTYPE_PUBLIC_IDENTIFIER", e13[e13.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED = 58] = "DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED", e13[e13.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED = 59] = "DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED", e13[e13.AFTER_DOCTYPE_PUBLIC_IDENTIFIER = 60] = "AFTER_DOCTYPE_PUBLIC_IDENTIFIER", e13[e13.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS = 61] = "BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS", e13[e13.AFTER_DOCTYPE_SYSTEM_KEYWORD = 62] = "AFTER_DOCTYPE_SYSTEM_KEYWORD", e13[e13.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER = 63] = "BEFORE_DOCTYPE_SYSTEM_IDENTIFIER", e13[e13.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED = 64] = "DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED", e13[e13.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED = 65] = "DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED", e13[e13.AFTER_DOCTYPE_SYSTEM_IDENTIFIER = 66] = "AFTER_DOCTYPE_SYSTEM_IDENTIFIER", e13[e13.BOGUS_DOCTYPE = 67] = "BOGUS_DOCTYPE", e13[e13.CDATA_SECTION = 68] = "CDATA_SECTION", e13[e13.CDATA_SECTION_BRACKET = 69] = "CDATA_SECTION_BRACKET", e13[e13.CDATA_SECTION_END = 70] = "CDATA_SECTION_END", e13[e13.CHARACTER_REFERENCE = 71] = "CHARACTER_REFERENCE", e13[e13.NAMED_CHARACTER_REFERENCE = 72] = "NAMED_CHARACTER_REFERENCE", e13[e13.AMBIGUOUS_AMPERSAND = 73] = "AMBIGUOUS_AMPERSAND", e13[e13.NUMERIC_CHARACTER_REFERENCE = 74] = "NUMERIC_CHARACTER_REFERENCE", e13[e13.HEXADEMICAL_CHARACTER_REFERENCE_START = 75] = "HEXADEMICAL_CHARACTER_REFERENCE_START", e13[e13.HEXADEMICAL_CHARACTER_REFERENCE = 76] = "HEXADEMICAL_CHARACTER_REFERENCE", e13[e13.DECIMAL_CHARACTER_REFERENCE = 77] = "DECIMAL_CHARACTER_REFERENCE", e13[e13.NUMERIC_CHARACTER_REFERENCE_END = 78] = "NUMERIC_CHARACTER_REFERENCE_END";
})(re || (re = {}));
Tu.TokenizerMode = {
  DATA: re.DATA,
  RCDATA: re.RCDATA,
  RAWTEXT: re.RAWTEXT,
  SCRIPT_DATA: re.SCRIPT_DATA,
  PLAINTEXT: re.PLAINTEXT,
  CDATA_SECTION: re.CDATA_SECTION
};
function sg(e13) {
  return e13 >= X.CODE_POINTS.DIGIT_0 && e13 <= X.CODE_POINTS.DIGIT_9;
}
function Am(e13) {
  return e13 >= X.CODE_POINTS.LATIN_CAPITAL_A && e13 <= X.CODE_POINTS.LATIN_CAPITAL_Z;
}
function YSe(e13) {
  return e13 >= X.CODE_POINTS.LATIN_SMALL_A && e13 <= X.CODE_POINTS.LATIN_SMALL_Z;
}
function ul(e13) {
  return YSe(e13) || Am(e13);
}
function JP(e13) {
  return ul(e13) || sg(e13);
}
function hX(e13) {
  return e13 >= X.CODE_POINTS.LATIN_CAPITAL_A && e13 <= X.CODE_POINTS.LATIN_CAPITAL_F;
}
function fX(e13) {
  return e13 >= X.CODE_POINTS.LATIN_SMALL_A && e13 <= X.CODE_POINTS.LATIN_SMALL_F;
}
function qSe(e13) {
  return sg(e13) || hX(e13) || fX(e13);
}
function c_(e13) {
  return e13 + 32;
}
function dX(e13) {
  return e13 === X.CODE_POINTS.SPACE || e13 === X.CODE_POINTS.LINE_FEED || e13 === X.CODE_POINTS.TABULATION || e13 === X.CODE_POINTS.FORM_FEED;
}
function KSe(e13) {
  return e13 === X.CODE_POINTS.EQUALS_SIGN || JP(e13);
}
function HH(e13) {
  return dX(e13) || e13 === X.CODE_POINTS.SOLIDUS || e13 === X.CODE_POINTS.GREATER_THAN_SIGN;
}
var ZSe = function() {
  function e13(t, r) {
    USe(this, e13), this.options = t, this.handler = r, this.paused = false, this.inLoop = false, this.inForeignNode = false, this.lastStartTagName = "", this.active = false, this.state = re.DATA, this.returnState = re.DATA, this.charRefCode = -1, this.consumedAfterSnapshot = -1, this.currentCharacterToken = null, this.currentToken = null, this.currentAttr = {
      name: "",
      value: ""
    }, this.preprocessor = new XSe.Preprocessor(r), this.currentLocation = this.getCurrentLocation(-1);
  }
  return GSe(e13, [{
    key: "_err",
    value: function(r) {
      var n, i;
      (i = (n = this.handler).onParseError) === null || i === void 0 || i.call(n, this.preprocessor.getError(r));
    }
    // NOTE: `offset` may never run across line boundaries.
  }, {
    key: "getCurrentLocation",
    value: function(r) {
      return this.options.sourceCodeLocationInfo ? {
        startLine: this.preprocessor.line,
        startCol: this.preprocessor.col - r,
        startOffset: this.preprocessor.offset - r,
        endLine: -1,
        endCol: -1,
        endOffset: -1
      } : null;
    }
  }, {
    key: "_runParsingLoop",
    value: function() {
      if (!this.inLoop) {
        for (this.inLoop = true; this.active && !this.paused; ) {
          this.consumedAfterSnapshot = 0;
          const r = this._consume();
          this._ensureHibernation() || this._callState(r);
        }
        this.inLoop = false;
      }
    }
    //API
  }, {
    key: "pause",
    value: function() {
      this.paused = true;
    }
  }, {
    key: "resume",
    value: function(r) {
      if (!this.paused)
        throw new Error("Parser was already resumed");
      this.paused = false, !this.inLoop && (this._runParsingLoop(), this.paused || (r == null ? void 0 : r()));
    }
  }, {
    key: "write",
    value: function(r, n, i) {
      this.active = true, this.preprocessor.write(r, n), this._runParsingLoop(), this.paused || (i == null ? void 0 : i());
    }
  }, {
    key: "insertHtmlAtCurrentPos",
    value: function(r) {
      this.active = true, this.preprocessor.insertHtmlAtCurrentPos(r), this._runParsingLoop();
    }
    //Hibernation
  }, {
    key: "_ensureHibernation",
    value: function() {
      return this.preprocessor.endOfChunkHit ? (this._unconsume(this.consumedAfterSnapshot), this.active = false, true) : false;
    }
    //Consumption
  }, {
    key: "_consume",
    value: function() {
      return this.consumedAfterSnapshot++, this.preprocessor.advance();
    }
  }, {
    key: "_unconsume",
    value: function(r) {
      this.consumedAfterSnapshot -= r, this.preprocessor.retreat(r);
    }
  }, {
    key: "_reconsumeInState",
    value: function(r, n) {
      this.state = r, this._callState(n);
    }
  }, {
    key: "_advanceBy",
    value: function(r) {
      this.consumedAfterSnapshot += r;
      for (let n = 0; n < r; n++)
        this.preprocessor.advance();
    }
  }, {
    key: "_consumeSequenceIfMatch",
    value: function(r, n) {
      return this.preprocessor.startsWith(r, n) ? (this._advanceBy(r.length - 1), true) : false;
    }
    //Token creation
  }, {
    key: "_createStartTagToken",
    value: function() {
      this.currentToken = {
        type: Pi.TokenType.START_TAG,
        tagName: "",
        tagID: iO.TAG_ID.UNKNOWN,
        selfClosing: false,
        ackSelfClosing: false,
        attrs: [],
        location: this.getCurrentLocation(1)
      };
    }
  }, {
    key: "_createEndTagToken",
    value: function() {
      this.currentToken = {
        type: Pi.TokenType.END_TAG,
        tagName: "",
        tagID: iO.TAG_ID.UNKNOWN,
        selfClosing: false,
        ackSelfClosing: false,
        attrs: [],
        location: this.getCurrentLocation(2)
      };
    }
  }, {
    key: "_createCommentToken",
    value: function(r) {
      this.currentToken = {
        type: Pi.TokenType.COMMENT,
        data: "",
        location: this.getCurrentLocation(r)
      };
    }
  }, {
    key: "_createDoctypeToken",
    value: function(r) {
      this.currentToken = {
        type: Pi.TokenType.DOCTYPE,
        name: r,
        forceQuirks: false,
        publicId: null,
        systemId: null,
        location: this.currentLocation
      };
    }
  }, {
    key: "_createCharacterToken",
    value: function(r, n) {
      this.currentCharacterToken = {
        type: r,
        chars: n,
        location: this.currentLocation
      };
    }
    //Tag attributes
  }, {
    key: "_createAttr",
    value: function(r) {
      this.currentAttr = {
        name: r,
        value: ""
      }, this.currentLocation = this.getCurrentLocation(0);
    }
  }, {
    key: "_leaveAttrName",
    value: function() {
      var r, n;
      const i = this.currentToken;
      if ((0, Pi.getTokenAttr)(i, this.currentAttr.name) === null) {
        if (i.attrs.push(this.currentAttr), i.location && this.currentLocation) {
          const o = (r = (n = i.location).attrs) !== null && r !== void 0 ? r : n.attrs = /* @__PURE__ */ Object.create(null);
          o[this.currentAttr.name] = this.currentLocation, this._leaveAttrValue();
        }
      } else
        this._err(Be.ERR.duplicateAttribute);
    }
  }, {
    key: "_leaveAttrValue",
    value: function() {
      this.currentLocation && (this.currentLocation.endLine = this.preprocessor.line, this.currentLocation.endCol = this.preprocessor.col, this.currentLocation.endOffset = this.preprocessor.offset);
    }
    //Token emission
  }, {
    key: "prepareToken",
    value: function(r) {
      this._emitCurrentCharacterToken(r.location), this.currentToken = null, r.location && (r.location.endLine = this.preprocessor.line, r.location.endCol = this.preprocessor.col + 1, r.location.endOffset = this.preprocessor.offset + 1), this.currentLocation = this.getCurrentLocation(-1);
    }
  }, {
    key: "emitCurrentTagToken",
    value: function() {
      const r = this.currentToken;
      this.prepareToken(r), r.tagID = (0, iO.getTagID)(r.tagName), r.type === Pi.TokenType.START_TAG ? (this.lastStartTagName = r.tagName, this.handler.onStartTag(r)) : (r.attrs.length > 0 && this._err(Be.ERR.endTagWithAttributes), r.selfClosing && this._err(Be.ERR.endTagWithTrailingSolidus), this.handler.onEndTag(r)), this.preprocessor.dropParsedChunk();
    }
  }, {
    key: "emitCurrentComment",
    value: function(r) {
      this.prepareToken(r), this.handler.onComment(r), this.preprocessor.dropParsedChunk();
    }
  }, {
    key: "emitCurrentDoctype",
    value: function(r) {
      this.prepareToken(r), this.handler.onDoctype(r), this.preprocessor.dropParsedChunk();
    }
  }, {
    key: "_emitCurrentCharacterToken",
    value: function(r) {
      if (this.currentCharacterToken) {
        switch (r && this.currentCharacterToken.location && (this.currentCharacterToken.location.endLine = r.startLine, this.currentCharacterToken.location.endCol = r.startCol, this.currentCharacterToken.location.endOffset = r.startOffset), this.currentCharacterToken.type) {
          case Pi.TokenType.CHARACTER: {
            this.handler.onCharacter(this.currentCharacterToken);
            break;
          }
          case Pi.TokenType.NULL_CHARACTER: {
            this.handler.onNullCharacter(this.currentCharacterToken);
            break;
          }
          case Pi.TokenType.WHITESPACE_CHARACTER: {
            this.handler.onWhitespaceCharacter(this.currentCharacterToken);
            break;
          }
        }
        this.currentCharacterToken = null;
      }
    }
  }, {
    key: "_emitEOFToken",
    value: function() {
      const r = this.getCurrentLocation(0);
      r && (r.endLine = r.startLine, r.endCol = r.startCol, r.endOffset = r.startOffset), this._emitCurrentCharacterToken(r), this.handler.onEof({
        type: Pi.TokenType.EOF,
        location: r
      }), this.active = false;
    }
    //Characters emission
    //OPTIMIZATION: specification uses only one type of character tokens (one token per character).
    //This causes a huge memory overhead and a lot of unnecessary parser loops. parse5 uses 3 groups of characters.
    //If we have a sequence of characters that belong to the same group, the parser can process it
    //as a single solid character token.
    //So, there are 3 types of character tokens in parse5:
    //1)TokenType.NULL_CHARACTER - \u0000-character sequences (e.g. '\u0000\u0000\u0000')
    //2)TokenType.WHITESPACE_CHARACTER - any whitespace/new-line character sequences (e.g. '\n  \r\t   \f')
    //3)TokenType.CHARACTER - any character sequence which don't belong to groups 1 and 2 (e.g. 'abcdef1234@@#$%^')
  }, {
    key: "_appendCharToCurrentCharacterToken",
    value: function(r, n) {
      if (this.currentCharacterToken)
        if (this.currentCharacterToken.type !== r)
          this.currentLocation = this.getCurrentLocation(0), this._emitCurrentCharacterToken(this.currentLocation), this.preprocessor.dropParsedChunk();
        else {
          this.currentCharacterToken.chars += n;
          return;
        }
      this._createCharacterToken(r, n);
    }
  }, {
    key: "_emitCodePoint",
    value: function(r) {
      const n = dX(r) ? Pi.TokenType.WHITESPACE_CHARACTER : r === X.CODE_POINTS.NULL ? Pi.TokenType.NULL_CHARACTER : Pi.TokenType.CHARACTER;
      this._appendCharToCurrentCharacterToken(n, String.fromCodePoint(r));
    }
    //NOTE: used when we emit characters explicitly.
    //This is always for non-whitespace and non-null characters, which allows us to avoid additional checks.
  }, {
    key: "_emitChars",
    value: function(r) {
      this._appendCharToCurrentCharacterToken(Pi.TokenType.CHARACTER, r);
    }
    // Character reference helpers
  }, {
    key: "_matchNamedCharacterReference",
    value: function(r) {
      let n = null, i = 0, o = false;
      for (let a = 0, s = ha.htmlDecodeTree[0]; a >= 0 && (a = (0, ha.determineBranch)(ha.htmlDecodeTree, s, a + 1, r), !(a < 0)); r = this._consume()) {
        i += 1, s = ha.htmlDecodeTree[a];
        const l = s & ha.BinTrieFlags.VALUE_LENGTH;
        if (l) {
          const u = (l >> 14) - 1;
          if (r !== X.CODE_POINTS.SEMICOLON && this._isCharacterReferenceInAttribute() && KSe(this.preprocessor.peek(1)) ? (n = [X.CODE_POINTS.AMPERSAND], a += u) : (n = u === 0 ? [ha.htmlDecodeTree[a] & ~ha.BinTrieFlags.VALUE_LENGTH] : u === 1 ? [ha.htmlDecodeTree[++a]] : [ha.htmlDecodeTree[++a], ha.htmlDecodeTree[++a]], i = 0, o = r !== X.CODE_POINTS.SEMICOLON), u === 0) {
            this._consume();
            break;
          }
        }
      }
      return this._unconsume(i), o && !this.preprocessor.endOfChunkHit && this._err(Be.ERR.missingSemicolonAfterCharacterReference), this._unconsume(1), n;
    }
  }, {
    key: "_isCharacterReferenceInAttribute",
    value: function() {
      return this.returnState === re.ATTRIBUTE_VALUE_DOUBLE_QUOTED || this.returnState === re.ATTRIBUTE_VALUE_SINGLE_QUOTED || this.returnState === re.ATTRIBUTE_VALUE_UNQUOTED;
    }
  }, {
    key: "_flushCodePointConsumedAsCharacterReference",
    value: function(r) {
      this._isCharacterReferenceInAttribute() ? this.currentAttr.value += String.fromCodePoint(r) : this._emitCodePoint(r);
    }
    // Calling states this way turns out to be much faster than any other approach.
  }, {
    key: "_callState",
    value: function(r) {
      switch (this.state) {
        case re.DATA: {
          this._stateData(r);
          break;
        }
        case re.RCDATA: {
          this._stateRcdata(r);
          break;
        }
        case re.RAWTEXT: {
          this._stateRawtext(r);
          break;
        }
        case re.SCRIPT_DATA: {
          this._stateScriptData(r);
          break;
        }
        case re.PLAINTEXT: {
          this._statePlaintext(r);
          break;
        }
        case re.TAG_OPEN: {
          this._stateTagOpen(r);
          break;
        }
        case re.END_TAG_OPEN: {
          this._stateEndTagOpen(r);
          break;
        }
        case re.TAG_NAME: {
          this._stateTagName(r);
          break;
        }
        case re.RCDATA_LESS_THAN_SIGN: {
          this._stateRcdataLessThanSign(r);
          break;
        }
        case re.RCDATA_END_TAG_OPEN: {
          this._stateRcdataEndTagOpen(r);
          break;
        }
        case re.RCDATA_END_TAG_NAME: {
          this._stateRcdataEndTagName(r);
          break;
        }
        case re.RAWTEXT_LESS_THAN_SIGN: {
          this._stateRawtextLessThanSign(r);
          break;
        }
        case re.RAWTEXT_END_TAG_OPEN: {
          this._stateRawtextEndTagOpen(r);
          break;
        }
        case re.RAWTEXT_END_TAG_NAME: {
          this._stateRawtextEndTagName(r);
          break;
        }
        case re.SCRIPT_DATA_LESS_THAN_SIGN: {
          this._stateScriptDataLessThanSign(r);
          break;
        }
        case re.SCRIPT_DATA_END_TAG_OPEN: {
          this._stateScriptDataEndTagOpen(r);
          break;
        }
        case re.SCRIPT_DATA_END_TAG_NAME: {
          this._stateScriptDataEndTagName(r);
          break;
        }
        case re.SCRIPT_DATA_ESCAPE_START: {
          this._stateScriptDataEscapeStart(r);
          break;
        }
        case re.SCRIPT_DATA_ESCAPE_START_DASH: {
          this._stateScriptDataEscapeStartDash(r);
          break;
        }
        case re.SCRIPT_DATA_ESCAPED: {
          this._stateScriptDataEscaped(r);
          break;
        }
        case re.SCRIPT_DATA_ESCAPED_DASH: {
          this._stateScriptDataEscapedDash(r);
          break;
        }
        case re.SCRIPT_DATA_ESCAPED_DASH_DASH: {
          this._stateScriptDataEscapedDashDash(r);
          break;
        }
        case re.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN: {
          this._stateScriptDataEscapedLessThanSign(r);
          break;
        }
        case re.SCRIPT_DATA_ESCAPED_END_TAG_OPEN: {
          this._stateScriptDataEscapedEndTagOpen(r);
          break;
        }
        case re.SCRIPT_DATA_ESCAPED_END_TAG_NAME: {
          this._stateScriptDataEscapedEndTagName(r);
          break;
        }
        case re.SCRIPT_DATA_DOUBLE_ESCAPE_START: {
          this._stateScriptDataDoubleEscapeStart(r);
          break;
        }
        case re.SCRIPT_DATA_DOUBLE_ESCAPED: {
          this._stateScriptDataDoubleEscaped(r);
          break;
        }
        case re.SCRIPT_DATA_DOUBLE_ESCAPED_DASH: {
          this._stateScriptDataDoubleEscapedDash(r);
          break;
        }
        case re.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH: {
          this._stateScriptDataDoubleEscapedDashDash(r);
          break;
        }
        case re.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN: {
          this._stateScriptDataDoubleEscapedLessThanSign(r);
          break;
        }
        case re.SCRIPT_DATA_DOUBLE_ESCAPE_END: {
          this._stateScriptDataDoubleEscapeEnd(r);
          break;
        }
        case re.BEFORE_ATTRIBUTE_NAME: {
          this._stateBeforeAttributeName(r);
          break;
        }
        case re.ATTRIBUTE_NAME: {
          this._stateAttributeName(r);
          break;
        }
        case re.AFTER_ATTRIBUTE_NAME: {
          this._stateAfterAttributeName(r);
          break;
        }
        case re.BEFORE_ATTRIBUTE_VALUE: {
          this._stateBeforeAttributeValue(r);
          break;
        }
        case re.ATTRIBUTE_VALUE_DOUBLE_QUOTED: {
          this._stateAttributeValueDoubleQuoted(r);
          break;
        }
        case re.ATTRIBUTE_VALUE_SINGLE_QUOTED: {
          this._stateAttributeValueSingleQuoted(r);
          break;
        }
        case re.ATTRIBUTE_VALUE_UNQUOTED: {
          this._stateAttributeValueUnquoted(r);
          break;
        }
        case re.AFTER_ATTRIBUTE_VALUE_QUOTED: {
          this._stateAfterAttributeValueQuoted(r);
          break;
        }
        case re.SELF_CLOSING_START_TAG: {
          this._stateSelfClosingStartTag(r);
          break;
        }
        case re.BOGUS_COMMENT: {
          this._stateBogusComment(r);
          break;
        }
        case re.MARKUP_DECLARATION_OPEN: {
          this._stateMarkupDeclarationOpen(r);
          break;
        }
        case re.COMMENT_START: {
          this._stateCommentStart(r);
          break;
        }
        case re.COMMENT_START_DASH: {
          this._stateCommentStartDash(r);
          break;
        }
        case re.COMMENT: {
          this._stateComment(r);
          break;
        }
        case re.COMMENT_LESS_THAN_SIGN: {
          this._stateCommentLessThanSign(r);
          break;
        }
        case re.COMMENT_LESS_THAN_SIGN_BANG: {
          this._stateCommentLessThanSignBang(r);
          break;
        }
        case re.COMMENT_LESS_THAN_SIGN_BANG_DASH: {
          this._stateCommentLessThanSignBangDash(r);
          break;
        }
        case re.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH: {
          this._stateCommentLessThanSignBangDashDash(r);
          break;
        }
        case re.COMMENT_END_DASH: {
          this._stateCommentEndDash(r);
          break;
        }
        case re.COMMENT_END: {
          this._stateCommentEnd(r);
          break;
        }
        case re.COMMENT_END_BANG: {
          this._stateCommentEndBang(r);
          break;
        }
        case re.DOCTYPE: {
          this._stateDoctype(r);
          break;
        }
        case re.BEFORE_DOCTYPE_NAME: {
          this._stateBeforeDoctypeName(r);
          break;
        }
        case re.DOCTYPE_NAME: {
          this._stateDoctypeName(r);
          break;
        }
        case re.AFTER_DOCTYPE_NAME: {
          this._stateAfterDoctypeName(r);
          break;
        }
        case re.AFTER_DOCTYPE_PUBLIC_KEYWORD: {
          this._stateAfterDoctypePublicKeyword(r);
          break;
        }
        case re.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER: {
          this._stateBeforeDoctypePublicIdentifier(r);
          break;
        }
        case re.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED: {
          this._stateDoctypePublicIdentifierDoubleQuoted(r);
          break;
        }
        case re.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED: {
          this._stateDoctypePublicIdentifierSingleQuoted(r);
          break;
        }
        case re.AFTER_DOCTYPE_PUBLIC_IDENTIFIER: {
          this._stateAfterDoctypePublicIdentifier(r);
          break;
        }
        case re.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS: {
          this._stateBetweenDoctypePublicAndSystemIdentifiers(r);
          break;
        }
        case re.AFTER_DOCTYPE_SYSTEM_KEYWORD: {
          this._stateAfterDoctypeSystemKeyword(r);
          break;
        }
        case re.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER: {
          this._stateBeforeDoctypeSystemIdentifier(r);
          break;
        }
        case re.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED: {
          this._stateDoctypeSystemIdentifierDoubleQuoted(r);
          break;
        }
        case re.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED: {
          this._stateDoctypeSystemIdentifierSingleQuoted(r);
          break;
        }
        case re.AFTER_DOCTYPE_SYSTEM_IDENTIFIER: {
          this._stateAfterDoctypeSystemIdentifier(r);
          break;
        }
        case re.BOGUS_DOCTYPE: {
          this._stateBogusDoctype(r);
          break;
        }
        case re.CDATA_SECTION: {
          this._stateCdataSection(r);
          break;
        }
        case re.CDATA_SECTION_BRACKET: {
          this._stateCdataSectionBracket(r);
          break;
        }
        case re.CDATA_SECTION_END: {
          this._stateCdataSectionEnd(r);
          break;
        }
        case re.CHARACTER_REFERENCE: {
          this._stateCharacterReference(r);
          break;
        }
        case re.NAMED_CHARACTER_REFERENCE: {
          this._stateNamedCharacterReference(r);
          break;
        }
        case re.AMBIGUOUS_AMPERSAND: {
          this._stateAmbiguousAmpersand(r);
          break;
        }
        case re.NUMERIC_CHARACTER_REFERENCE: {
          this._stateNumericCharacterReference(r);
          break;
        }
        case re.HEXADEMICAL_CHARACTER_REFERENCE_START: {
          this._stateHexademicalCharacterReferenceStart(r);
          break;
        }
        case re.HEXADEMICAL_CHARACTER_REFERENCE: {
          this._stateHexademicalCharacterReference(r);
          break;
        }
        case re.DECIMAL_CHARACTER_REFERENCE: {
          this._stateDecimalCharacterReference(r);
          break;
        }
        case re.NUMERIC_CHARACTER_REFERENCE_END: {
          this._stateNumericCharacterReferenceEnd(r);
          break;
        }
        default:
          throw new Error("Unknown state");
      }
    }
    // State machine
    // Data state
    //------------------------------------------------------------------
  }, {
    key: "_stateData",
    value: function(r) {
      switch (r) {
        case X.CODE_POINTS.LESS_THAN_SIGN: {
          this.state = re.TAG_OPEN;
          break;
        }
        case X.CODE_POINTS.AMPERSAND: {
          this.returnState = re.DATA, this.state = re.CHARACTER_REFERENCE;
          break;
        }
        case X.CODE_POINTS.NULL: {
          this._err(Be.ERR.unexpectedNullCharacter), this._emitCodePoint(r);
          break;
        }
        case X.CODE_POINTS.EOF: {
          this._emitEOFToken();
          break;
        }
        default:
          this._emitCodePoint(r);
      }
    }
    //  RCDATA state
    //------------------------------------------------------------------
  }, {
    key: "_stateRcdata",
    value: function(r) {
      switch (r) {
        case X.CODE_POINTS.AMPERSAND: {
          this.returnState = re.RCDATA, this.state = re.CHARACTER_REFERENCE;
          break;
        }
        case X.CODE_POINTS.LESS_THAN_SIGN: {
          this.state = re.RCDATA_LESS_THAN_SIGN;
          break;
        }
        case X.CODE_POINTS.NULL: {
          this._err(Be.ERR.unexpectedNullCharacter), this._emitChars(X.REPLACEMENT_CHARACTER);
          break;
        }
        case X.CODE_POINTS.EOF: {
          this._emitEOFToken();
          break;
        }
        default:
          this._emitCodePoint(r);
      }
    }
    // RAWTEXT state
    //------------------------------------------------------------------
  }, {
    key: "_stateRawtext",
    value: function(r) {
      switch (r) {
        case X.CODE_POINTS.LESS_THAN_SIGN: {
          this.state = re.RAWTEXT_LESS_THAN_SIGN;
          break;
        }
        case X.CODE_POINTS.NULL: {
          this._err(Be.ERR.unexpectedNullCharacter), this._emitChars(X.REPLACEMENT_CHARACTER);
          break;
        }
        case X.CODE_POINTS.EOF: {
          this._emitEOFToken();
          break;
        }
        default:
          this._emitCodePoint(r);
      }
    }
    // Script data state
    //------------------------------------------------------------------
  }, {
    key: "_stateScriptData",
    value: function(r) {
      switch (r) {
        case X.CODE_POINTS.LESS_THAN_SIGN: {
          this.state = re.SCRIPT_DATA_LESS_THAN_SIGN;
          break;
        }
        case X.CODE_POINTS.NULL: {
          this._err(Be.ERR.unexpectedNullCharacter), this._emitChars(X.REPLACEMENT_CHARACTER);
          break;
        }
        case X.CODE_POINTS.EOF: {
          this._emitEOFToken();
          break;
        }
        default:
          this._emitCodePoint(r);
      }
    }
    // PLAINTEXT state
    //------------------------------------------------------------------
  }, {
    key: "_statePlaintext",
    value: function(r) {
      switch (r) {
        case X.CODE_POINTS.NULL: {
          this._err(Be.ERR.unexpectedNullCharacter), this._emitChars(X.REPLACEMENT_CHARACTER);
          break;
        }
        case X.CODE_POINTS.EOF: {
          this._emitEOFToken();
          break;
        }
        default:
          this._emitCodePoint(r);
      }
    }
    // Tag open state
    //------------------------------------------------------------------
  }, {
    key: "_stateTagOpen",
    value: function(r) {
      if (ul(r))
        this._createStartTagToken(), this.state = re.TAG_NAME, this._stateTagName(r);
      else
        switch (r) {
          case X.CODE_POINTS.EXCLAMATION_MARK: {
            this.state = re.MARKUP_DECLARATION_OPEN;
            break;
          }
          case X.CODE_POINTS.SOLIDUS: {
            this.state = re.END_TAG_OPEN;
            break;
          }
          case X.CODE_POINTS.QUESTION_MARK: {
            this._err(Be.ERR.unexpectedQuestionMarkInsteadOfTagName), this._createCommentToken(1), this.state = re.BOGUS_COMMENT, this._stateBogusComment(r);
            break;
          }
          case X.CODE_POINTS.EOF: {
            this._err(Be.ERR.eofBeforeTagName), this._emitChars("<"), this._emitEOFToken();
            break;
          }
          default:
            this._err(Be.ERR.invalidFirstCharacterOfTagName), this._emitChars("<"), this.state = re.DATA, this._stateData(r);
        }
    }
    // End tag open state
    //------------------------------------------------------------------
  }, {
    key: "_stateEndTagOpen",
    value: function(r) {
      if (ul(r))
        this._createEndTagToken(), this.state = re.TAG_NAME, this._stateTagName(r);
      else
        switch (r) {
          case X.CODE_POINTS.GREATER_THAN_SIGN: {
            this._err(Be.ERR.missingEndTagName), this.state = re.DATA;
            break;
          }
          case X.CODE_POINTS.EOF: {
            this._err(Be.ERR.eofBeforeTagName), this._emitChars("</"), this._emitEOFToken();
            break;
          }
          default:
            this._err(Be.ERR.invalidFirstCharacterOfTagName), this._createCommentToken(2), this.state = re.BOGUS_COMMENT, this._stateBogusComment(r);
        }
    }
    // Tag name state
    //------------------------------------------------------------------
  }, {
    key: "_stateTagName",
    value: function(r) {
      const n = this.currentToken;
      switch (r) {
        case X.CODE_POINTS.SPACE:
        case X.CODE_POINTS.LINE_FEED:
        case X.CODE_POINTS.TABULATION:
        case X.CODE_POINTS.FORM_FEED: {
          this.state = re.BEFORE_ATTRIBUTE_NAME;
          break;
        }
        case X.CODE_POINTS.SOLIDUS: {
          this.state = re.SELF_CLOSING_START_TAG;
          break;
        }
        case X.CODE_POINTS.GREATER_THAN_SIGN: {
          this.state = re.DATA, this.emitCurrentTagToken();
          break;
        }
        case X.CODE_POINTS.NULL: {
          this._err(Be.ERR.unexpectedNullCharacter), n.tagName += X.REPLACEMENT_CHARACTER;
          break;
        }
        case X.CODE_POINTS.EOF: {
          this._err(Be.ERR.eofInTag), this._emitEOFToken();
          break;
        }
        default:
          n.tagName += String.fromCodePoint(Am(r) ? c_(r) : r);
      }
    }
    // RCDATA less-than sign state
    //------------------------------------------------------------------
  }, {
    key: "_stateRcdataLessThanSign",
    value: function(r) {
      r === X.CODE_POINTS.SOLIDUS ? this.state = re.RCDATA_END_TAG_OPEN : (this._emitChars("<"), this.state = re.RCDATA, this._stateRcdata(r));
    }
    // RCDATA end tag open state
    //------------------------------------------------------------------
  }, {
    key: "_stateRcdataEndTagOpen",
    value: function(r) {
      ul(r) ? (this.state = re.RCDATA_END_TAG_NAME, this._stateRcdataEndTagName(r)) : (this._emitChars("</"), this.state = re.RCDATA, this._stateRcdata(r));
    }
  }, {
    key: "handleSpecialEndTag",
    value: function(r) {
      if (!this.preprocessor.startsWith(this.lastStartTagName, false))
        return !this._ensureHibernation();
      this._createEndTagToken();
      const n = this.currentToken;
      switch (n.tagName = this.lastStartTagName, this.preprocessor.peek(this.lastStartTagName.length)) {
        case X.CODE_POINTS.SPACE:
        case X.CODE_POINTS.LINE_FEED:
        case X.CODE_POINTS.TABULATION:
        case X.CODE_POINTS.FORM_FEED:
          return this._advanceBy(this.lastStartTagName.length), this.state = re.BEFORE_ATTRIBUTE_NAME, false;
        case X.CODE_POINTS.SOLIDUS:
          return this._advanceBy(this.lastStartTagName.length), this.state = re.SELF_CLOSING_START_TAG, false;
        case X.CODE_POINTS.GREATER_THAN_SIGN:
          return this._advanceBy(this.lastStartTagName.length), this.emitCurrentTagToken(), this.state = re.DATA, false;
        default:
          return !this._ensureHibernation();
      }
    }
    // RCDATA end tag name state
    //------------------------------------------------------------------
  }, {
    key: "_stateRcdataEndTagName",
    value: function(r) {
      this.handleSpecialEndTag(r) && (this._emitChars("</"), this.state = re.RCDATA, this._stateRcdata(r));
    }
    // RAWTEXT less-than sign state
    //------------------------------------------------------------------
  }, {
    key: "_stateRawtextLessThanSign",
    value: function(r) {
      r === X.CODE_POINTS.SOLIDUS ? this.state = re.RAWTEXT_END_TAG_OPEN : (this._emitChars("<"), this.state = re.RAWTEXT, this._stateRawtext(r));
    }
    // RAWTEXT end tag open state
    //------------------------------------------------------------------
  }, {
    key: "_stateRawtextEndTagOpen",
    value: function(r) {
      ul(r) ? (this.state = re.RAWTEXT_END_TAG_NAME, this._stateRawtextEndTagName(r)) : (this._emitChars("</"), this.state = re.RAWTEXT, this._stateRawtext(r));
    }
    // RAWTEXT end tag name state
    //------------------------------------------------------------------
  }, {
    key: "_stateRawtextEndTagName",
    value: function(r) {
      this.handleSpecialEndTag(r) && (this._emitChars("</"), this.state = re.RAWTEXT, this._stateRawtext(r));
    }
    // Script data less-than sign state
    //------------------------------------------------------------------
  }, {
    key: "_stateScriptDataLessThanSign",
    value: function(r) {
      switch (r) {
        case X.CODE_POINTS.SOLIDUS: {
          this.state = re.SCRIPT_DATA_END_TAG_OPEN;
          break;
        }
        case X.CODE_POINTS.EXCLAMATION_MARK: {
          this.state = re.SCRIPT_DATA_ESCAPE_START, this._emitChars("<!");
          break;
        }
        default:
          this._emitChars("<"), this.state = re.SCRIPT_DATA, this._stateScriptData(r);
      }
    }
    // Script data end tag open state
    //------------------------------------------------------------------
  }, {
    key: "_stateScriptDataEndTagOpen",
    value: function(r) {
      ul(r) ? (this.state = re.SCRIPT_DATA_END_TAG_NAME, this._stateScriptDataEndTagName(r)) : (this._emitChars("</"), this.state = re.SCRIPT_DATA, this._stateScriptData(r));
    }
    // Script data end tag name state
    //------------------------------------------------------------------
  }, {
    key: "_stateScriptDataEndTagName",
    value: function(r) {
      this.handleSpecialEndTag(r) && (this._emitChars("</"), this.state = re.SCRIPT_DATA, this._stateScriptData(r));
    }
    // Script data escape start state
    //------------------------------------------------------------------
  }, {
    key: "_stateScriptDataEscapeStart",
    value: function(r) {
      r === X.CODE_POINTS.HYPHEN_MINUS ? (this.state = re.SCRIPT_DATA_ESCAPE_START_DASH, this._emitChars("-")) : (this.state = re.SCRIPT_DATA, this._stateScriptData(r));
    }
    // Script data escape start dash state
    //------------------------------------------------------------------
  }, {
    key: "_stateScriptDataEscapeStartDash",
    value: function(r) {
      r === X.CODE_POINTS.HYPHEN_MINUS ? (this.state = re.SCRIPT_DATA_ESCAPED_DASH_DASH, this._emitChars("-")) : (this.state = re.SCRIPT_DATA, this._stateScriptData(r));
    }
    // Script data escaped state
    //------------------------------------------------------------------
  }, {
    key: "_stateScriptDataEscaped",
    value: function(r) {
      switch (r) {
        case X.CODE_POINTS.HYPHEN_MINUS: {
          this.state = re.SCRIPT_DATA_ESCAPED_DASH, this._emitChars("-");
          break;
        }
        case X.CODE_POINTS.LESS_THAN_SIGN: {
          this.state = re.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;
          break;
        }
        case X.CODE_POINTS.NULL: {
          this._err(Be.ERR.unexpectedNullCharacter), this._emitChars(X.REPLACEMENT_CHARACTER);
          break;
        }
        case X.CODE_POINTS.EOF: {
          this._err(Be.ERR.eofInScriptHtmlCommentLikeText), this._emitEOFToken();
          break;
        }
        default:
          this._emitCodePoint(r);
      }
    }
    // Script data escaped dash state
    //------------------------------------------------------------------
  }, {
    key: "_stateScriptDataEscapedDash",
    value: function(r) {
      switch (r) {
        case X.CODE_POINTS.HYPHEN_MINUS: {
          this.state = re.SCRIPT_DATA_ESCAPED_DASH_DASH, this._emitChars("-");
          break;
        }
        case X.CODE_POINTS.LESS_THAN_SIGN: {
          this.state = re.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;
          break;
        }
        case X.CODE_POINTS.NULL: {
          this._err(Be.ERR.unexpectedNullCharacter), this.state = re.SCRIPT_DATA_ESCAPED, this._emitChars(X.REPLACEMENT_CHARACTER);
          break;
        }
        case X.CODE_POINTS.EOF: {
          this._err(Be.ERR.eofInScriptHtmlCommentLikeText), this._emitEOFToken();
          break;
        }
        default:
          this.state = re.SCRIPT_DATA_ESCAPED, this._emitCodePoint(r);
      }
    }
    // Script data escaped dash dash state
    //------------------------------------------------------------------
  }, {
    key: "_stateScriptDataEscapedDashDash",
    value: function(r) {
      switch (r) {
        case X.CODE_POINTS.HYPHEN_MINUS: {
          this._emitChars("-");
          break;
        }
        case X.CODE_POINTS.LESS_THAN_SIGN: {
          this.state = re.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;
          break;
        }
        case X.CODE_POINTS.GREATER_THAN_SIGN: {
          this.state = re.SCRIPT_DATA, this._emitChars(">");
          break;
        }
        case X.CODE_POINTS.NULL: {
          this._err(Be.ERR.unexpectedNullCharacter), this.state = re.SCRIPT_DATA_ESCAPED, this._emitChars(X.REPLACEMENT_CHARACTER);
          break;
        }
        case X.CODE_POINTS.EOF: {
          this._err(Be.ERR.eofInScriptHtmlCommentLikeText), this._emitEOFToken();
          break;
        }
        default:
          this.state = re.SCRIPT_DATA_ESCAPED, this._emitCodePoint(r);
      }
    }
    // Script data escaped less-than sign state
    //------------------------------------------------------------------
  }, {
    key: "_stateScriptDataEscapedLessThanSign",
    value: function(r) {
      r === X.CODE_POINTS.SOLIDUS ? this.state = re.SCRIPT_DATA_ESCAPED_END_TAG_OPEN : ul(r) ? (this._emitChars("<"), this.state = re.SCRIPT_DATA_DOUBLE_ESCAPE_START, this._stateScriptDataDoubleEscapeStart(r)) : (this._emitChars("<"), this.state = re.SCRIPT_DATA_ESCAPED, this._stateScriptDataEscaped(r));
    }
    // Script data escaped end tag open state
    //------------------------------------------------------------------
  }, {
    key: "_stateScriptDataEscapedEndTagOpen",
    value: function(r) {
      ul(r) ? (this.state = re.SCRIPT_DATA_ESCAPED_END_TAG_NAME, this._stateScriptDataEscapedEndTagName(r)) : (this._emitChars("</"), this.state = re.SCRIPT_DATA_ESCAPED, this._stateScriptDataEscaped(r));
    }
    // Script data escaped end tag name state
    //------------------------------------------------------------------
  }, {
    key: "_stateScriptDataEscapedEndTagName",
    value: function(r) {
      this.handleSpecialEndTag(r) && (this._emitChars("</"), this.state = re.SCRIPT_DATA_ESCAPED, this._stateScriptDataEscaped(r));
    }
    // Script data double escape start state
    //------------------------------------------------------------------
  }, {
    key: "_stateScriptDataDoubleEscapeStart",
    value: function(r) {
      if (this.preprocessor.startsWith(X.SEQUENCES.SCRIPT, false) && HH(this.preprocessor.peek(X.SEQUENCES.SCRIPT.length))) {
        this._emitCodePoint(r);
        for (let n = 0; n < X.SEQUENCES.SCRIPT.length; n++)
          this._emitCodePoint(this._consume());
        this.state = re.SCRIPT_DATA_DOUBLE_ESCAPED;
      } else this._ensureHibernation() || (this.state = re.SCRIPT_DATA_ESCAPED, this._stateScriptDataEscaped(r));
    }
    // Script data double escaped state
    //------------------------------------------------------------------
  }, {
    key: "_stateScriptDataDoubleEscaped",
    value: function(r) {
      switch (r) {
        case X.CODE_POINTS.HYPHEN_MINUS: {
          this.state = re.SCRIPT_DATA_DOUBLE_ESCAPED_DASH, this._emitChars("-");
          break;
        }
        case X.CODE_POINTS.LESS_THAN_SIGN: {
          this.state = re.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN, this._emitChars("<");
          break;
        }
        case X.CODE_POINTS.NULL: {
          this._err(Be.ERR.unexpectedNullCharacter), this._emitChars(X.REPLACEMENT_CHARACTER);
          break;
        }
        case X.CODE_POINTS.EOF: {
          this._err(Be.ERR.eofInScriptHtmlCommentLikeText), this._emitEOFToken();
          break;
        }
        default:
          this._emitCodePoint(r);
      }
    }
    // Script data double escaped dash state
    //------------------------------------------------------------------
  }, {
    key: "_stateScriptDataDoubleEscapedDash",
    value: function(r) {
      switch (r) {
        case X.CODE_POINTS.HYPHEN_MINUS: {
          this.state = re.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH, this._emitChars("-");
          break;
        }
        case X.CODE_POINTS.LESS_THAN_SIGN: {
          this.state = re.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN, this._emitChars("<");
          break;
        }
        case X.CODE_POINTS.NULL: {
          this._err(Be.ERR.unexpectedNullCharacter), this.state = re.SCRIPT_DATA_DOUBLE_ESCAPED, this._emitChars(X.REPLACEMENT_CHARACTER);
          break;
        }
        case X.CODE_POINTS.EOF: {
          this._err(Be.ERR.eofInScriptHtmlCommentLikeText), this._emitEOFToken();
          break;
        }
        default:
          this.state = re.SCRIPT_DATA_DOUBLE_ESCAPED, this._emitCodePoint(r);
      }
    }
    // Script data double escaped dash dash state
    //------------------------------------------------------------------
  }, {
    key: "_stateScriptDataDoubleEscapedDashDash",
    value: function(r) {
      switch (r) {
        case X.CODE_POINTS.HYPHEN_MINUS: {
          this._emitChars("-");
          break;
        }
        case X.CODE_POINTS.LESS_THAN_SIGN: {
          this.state = re.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN, this._emitChars("<");
          break;
        }
        case X.CODE_POINTS.GREATER_THAN_SIGN: {
          this.state = re.SCRIPT_DATA, this._emitChars(">");
          break;
        }
        case X.CODE_POINTS.NULL: {
          this._err(Be.ERR.unexpectedNullCharacter), this.state = re.SCRIPT_DATA_DOUBLE_ESCAPED, this._emitChars(X.REPLACEMENT_CHARACTER);
          break;
        }
        case X.CODE_POINTS.EOF: {
          this._err(Be.ERR.eofInScriptHtmlCommentLikeText), this._emitEOFToken();
          break;
        }
        default:
          this.state = re.SCRIPT_DATA_DOUBLE_ESCAPED, this._emitCodePoint(r);
      }
    }
    // Script data double escaped less-than sign state
    //------------------------------------------------------------------
  }, {
    key: "_stateScriptDataDoubleEscapedLessThanSign",
    value: function(r) {
      r === X.CODE_POINTS.SOLIDUS ? (this.state = re.SCRIPT_DATA_DOUBLE_ESCAPE_END, this._emitChars("/")) : (this.state = re.SCRIPT_DATA_DOUBLE_ESCAPED, this._stateScriptDataDoubleEscaped(r));
    }
    // Script data double escape end state
    //------------------------------------------------------------------
  }, {
    key: "_stateScriptDataDoubleEscapeEnd",
    value: function(r) {
      if (this.preprocessor.startsWith(X.SEQUENCES.SCRIPT, false) && HH(this.preprocessor.peek(X.SEQUENCES.SCRIPT.length))) {
        this._emitCodePoint(r);
        for (let n = 0; n < X.SEQUENCES.SCRIPT.length; n++)
          this._emitCodePoint(this._consume());
        this.state = re.SCRIPT_DATA_ESCAPED;
      } else this._ensureHibernation() || (this.state = re.SCRIPT_DATA_DOUBLE_ESCAPED, this._stateScriptDataDoubleEscaped(r));
    }
    // Before attribute name state
    //------------------------------------------------------------------
  }, {
    key: "_stateBeforeAttributeName",
    value: function(r) {
      switch (r) {
        case X.CODE_POINTS.SPACE:
        case X.CODE_POINTS.LINE_FEED:
        case X.CODE_POINTS.TABULATION:
        case X.CODE_POINTS.FORM_FEED:
          break;
        case X.CODE_POINTS.SOLIDUS:
        case X.CODE_POINTS.GREATER_THAN_SIGN:
        case X.CODE_POINTS.EOF: {
          this.state = re.AFTER_ATTRIBUTE_NAME, this._stateAfterAttributeName(r);
          break;
        }
        case X.CODE_POINTS.EQUALS_SIGN: {
          this._err(Be.ERR.unexpectedEqualsSignBeforeAttributeName), this._createAttr("="), this.state = re.ATTRIBUTE_NAME;
          break;
        }
        default:
          this._createAttr(""), this.state = re.ATTRIBUTE_NAME, this._stateAttributeName(r);
      }
    }
    // Attribute name state
    //------------------------------------------------------------------
  }, {
    key: "_stateAttributeName",
    value: function(r) {
      switch (r) {
        case X.CODE_POINTS.SPACE:
        case X.CODE_POINTS.LINE_FEED:
        case X.CODE_POINTS.TABULATION:
        case X.CODE_POINTS.FORM_FEED:
        case X.CODE_POINTS.SOLIDUS:
        case X.CODE_POINTS.GREATER_THAN_SIGN:
        case X.CODE_POINTS.EOF: {
          this._leaveAttrName(), this.state = re.AFTER_ATTRIBUTE_NAME, this._stateAfterAttributeName(r);
          break;
        }
        case X.CODE_POINTS.EQUALS_SIGN: {
          this._leaveAttrName(), this.state = re.BEFORE_ATTRIBUTE_VALUE;
          break;
        }
        case X.CODE_POINTS.QUOTATION_MARK:
        case X.CODE_POINTS.APOSTROPHE:
        case X.CODE_POINTS.LESS_THAN_SIGN: {
          this._err(Be.ERR.unexpectedCharacterInAttributeName), this.currentAttr.name += String.fromCodePoint(r);
          break;
        }
        case X.CODE_POINTS.NULL: {
          this._err(Be.ERR.unexpectedNullCharacter), this.currentAttr.name += X.REPLACEMENT_CHARACTER;
          break;
        }
        default:
          this.currentAttr.name += String.fromCodePoint(Am(r) ? c_(r) : r);
      }
    }
    // After attribute name state
    //------------------------------------------------------------------
  }, {
    key: "_stateAfterAttributeName",
    value: function(r) {
      switch (r) {
        case X.CODE_POINTS.SPACE:
        case X.CODE_POINTS.LINE_FEED:
        case X.CODE_POINTS.TABULATION:
        case X.CODE_POINTS.FORM_FEED:
          break;
        case X.CODE_POINTS.SOLIDUS: {
          this.state = re.SELF_CLOSING_START_TAG;
          break;
        }
        case X.CODE_POINTS.EQUALS_SIGN: {
          this.state = re.BEFORE_ATTRIBUTE_VALUE;
          break;
        }
        case X.CODE_POINTS.GREATER_THAN_SIGN: {
          this.state = re.DATA, this.emitCurrentTagToken();
          break;
        }
        case X.CODE_POINTS.EOF: {
          this._err(Be.ERR.eofInTag), this._emitEOFToken();
          break;
        }
        default:
          this._createAttr(""), this.state = re.ATTRIBUTE_NAME, this._stateAttributeName(r);
      }
    }
    // Before attribute value state
    //------------------------------------------------------------------
  }, {
    key: "_stateBeforeAttributeValue",
    value: function(r) {
      switch (r) {
        case X.CODE_POINTS.SPACE:
        case X.CODE_POINTS.LINE_FEED:
        case X.CODE_POINTS.TABULATION:
        case X.CODE_POINTS.FORM_FEED:
          break;
        case X.CODE_POINTS.QUOTATION_MARK: {
          this.state = re.ATTRIBUTE_VALUE_DOUBLE_QUOTED;
          break;
        }
        case X.CODE_POINTS.APOSTROPHE: {
          this.state = re.ATTRIBUTE_VALUE_SINGLE_QUOTED;
          break;
        }
        case X.CODE_POINTS.GREATER_THAN_SIGN: {
          this._err(Be.ERR.missingAttributeValue), this.state = re.DATA, this.emitCurrentTagToken();
          break;
        }
        default:
          this.state = re.ATTRIBUTE_VALUE_UNQUOTED, this._stateAttributeValueUnquoted(r);
      }
    }
    // Attribute value (double-quoted) state
    //------------------------------------------------------------------
  }, {
    key: "_stateAttributeValueDoubleQuoted",
    value: function(r) {
      switch (r) {
        case X.CODE_POINTS.QUOTATION_MARK: {
          this.state = re.AFTER_ATTRIBUTE_VALUE_QUOTED;
          break;
        }
        case X.CODE_POINTS.AMPERSAND: {
          this.returnState = re.ATTRIBUTE_VALUE_DOUBLE_QUOTED, this.state = re.CHARACTER_REFERENCE;
          break;
        }
        case X.CODE_POINTS.NULL: {
          this._err(Be.ERR.unexpectedNullCharacter), this.currentAttr.value += X.REPLACEMENT_CHARACTER;
          break;
        }
        case X.CODE_POINTS.EOF: {
          this._err(Be.ERR.eofInTag), this._emitEOFToken();
          break;
        }
        default:
          this.currentAttr.value += String.fromCodePoint(r);
      }
    }
    // Attribute value (single-quoted) state
    //------------------------------------------------------------------
  }, {
    key: "_stateAttributeValueSingleQuoted",
    value: function(r) {
      switch (r) {
        case X.CODE_POINTS.APOSTROPHE: {
          this.state = re.AFTER_ATTRIBUTE_VALUE_QUOTED;
          break;
        }
        case X.CODE_POINTS.AMPERSAND: {
          this.returnState = re.ATTRIBUTE_VALUE_SINGLE_QUOTED, this.state = re.CHARACTER_REFERENCE;
          break;
        }
        case X.CODE_POINTS.NULL: {
          this._err(Be.ERR.unexpectedNullCharacter), this.currentAttr.value += X.REPLACEMENT_CHARACTER;
          break;
        }
        case X.CODE_POINTS.EOF: {
          this._err(Be.ERR.eofInTag), this._emitEOFToken();
          break;
        }
        default:
          this.currentAttr.value += String.fromCodePoint(r);
      }
    }
    // Attribute value (unquoted) state
    //------------------------------------------------------------------
  }, {
    key: "_stateAttributeValueUnquoted",
    value: function(r) {
      switch (r) {
        case X.CODE_POINTS.SPACE:
        case X.CODE_POINTS.LINE_FEED:
        case X.CODE_POINTS.TABULATION:
        case X.CODE_POINTS.FORM_FEED: {
          this._leaveAttrValue(), this.state = re.BEFORE_ATTRIBUTE_NAME;
          break;
        }
        case X.CODE_POINTS.AMPERSAND: {
          this.returnState = re.ATTRIBUTE_VALUE_UNQUOTED, this.state = re.CHARACTER_REFERENCE;
          break;
        }
        case X.CODE_POINTS.GREATER_THAN_SIGN: {
          this._leaveAttrValue(), this.state = re.DATA, this.emitCurrentTagToken();
          break;
        }
        case X.CODE_POINTS.NULL: {
          this._err(Be.ERR.unexpectedNullCharacter), this.currentAttr.value += X.REPLACEMENT_CHARACTER;
          break;
        }
        case X.CODE_POINTS.QUOTATION_MARK:
        case X.CODE_POINTS.APOSTROPHE:
        case X.CODE_POINTS.LESS_THAN_SIGN:
        case X.CODE_POINTS.EQUALS_SIGN:
        case X.CODE_POINTS.GRAVE_ACCENT: {
          this._err(Be.ERR.unexpectedCharacterInUnquotedAttributeValue), this.currentAttr.value += String.fromCodePoint(r);
          break;
        }
        case X.CODE_POINTS.EOF: {
          this._err(Be.ERR.eofInTag), this._emitEOFToken();
          break;
        }
        default:
          this.currentAttr.value += String.fromCodePoint(r);
      }
    }
    // After attribute value (quoted) state
    //------------------------------------------------------------------
  }, {
    key: "_stateAfterAttributeValueQuoted",
    value: function(r) {
      switch (r) {
        case X.CODE_POINTS.SPACE:
        case X.CODE_POINTS.LINE_FEED:
        case X.CODE_POINTS.TABULATION:
        case X.CODE_POINTS.FORM_FEED: {
          this._leaveAttrValue(), this.state = re.BEFORE_ATTRIBUTE_NAME;
          break;
        }
        case X.CODE_POINTS.SOLIDUS: {
          this._leaveAttrValue(), this.state = re.SELF_CLOSING_START_TAG;
          break;
        }
        case X.CODE_POINTS.GREATER_THAN_SIGN: {
          this._leaveAttrValue(), this.state = re.DATA, this.emitCurrentTagToken();
          break;
        }
        case X.CODE_POINTS.EOF: {
          this._err(Be.ERR.eofInTag), this._emitEOFToken();
          break;
        }
        default:
          this._err(Be.ERR.missingWhitespaceBetweenAttributes), this.state = re.BEFORE_ATTRIBUTE_NAME, this._stateBeforeAttributeName(r);
      }
    }
    // Self-closing start tag state
    //------------------------------------------------------------------
  }, {
    key: "_stateSelfClosingStartTag",
    value: function(r) {
      switch (r) {
        case X.CODE_POINTS.GREATER_THAN_SIGN: {
          const n = this.currentToken;
          n.selfClosing = true, this.state = re.DATA, this.emitCurrentTagToken();
          break;
        }
        case X.CODE_POINTS.EOF: {
          this._err(Be.ERR.eofInTag), this._emitEOFToken();
          break;
        }
        default:
          this._err(Be.ERR.unexpectedSolidusInTag), this.state = re.BEFORE_ATTRIBUTE_NAME, this._stateBeforeAttributeName(r);
      }
    }
    // Bogus comment state
    //------------------------------------------------------------------
  }, {
    key: "_stateBogusComment",
    value: function(r) {
      const n = this.currentToken;
      switch (r) {
        case X.CODE_POINTS.GREATER_THAN_SIGN: {
          this.state = re.DATA, this.emitCurrentComment(n);
          break;
        }
        case X.CODE_POINTS.EOF: {
          this.emitCurrentComment(n), this._emitEOFToken();
          break;
        }
        case X.CODE_POINTS.NULL: {
          this._err(Be.ERR.unexpectedNullCharacter), n.data += X.REPLACEMENT_CHARACTER;
          break;
        }
        default:
          n.data += String.fromCodePoint(r);
      }
    }
    // Markup declaration open state
    //------------------------------------------------------------------
  }, {
    key: "_stateMarkupDeclarationOpen",
    value: function(r) {
      this._consumeSequenceIfMatch(X.SEQUENCES.DASH_DASH, true) ? (this._createCommentToken(X.SEQUENCES.DASH_DASH.length + 1), this.state = re.COMMENT_START) : this._consumeSequenceIfMatch(X.SEQUENCES.DOCTYPE, false) ? (this.currentLocation = this.getCurrentLocation(X.SEQUENCES.DOCTYPE.length + 1), this.state = re.DOCTYPE) : this._consumeSequenceIfMatch(X.SEQUENCES.CDATA_START, true) ? this.inForeignNode ? this.state = re.CDATA_SECTION : (this._err(Be.ERR.cdataInHtmlContent), this._createCommentToken(X.SEQUENCES.CDATA_START.length + 1), this.currentToken.data = "[CDATA[", this.state = re.BOGUS_COMMENT) : this._ensureHibernation() || (this._err(Be.ERR.incorrectlyOpenedComment), this._createCommentToken(2), this.state = re.BOGUS_COMMENT, this._stateBogusComment(r));
    }
    // Comment start state
    //------------------------------------------------------------------
  }, {
    key: "_stateCommentStart",
    value: function(r) {
      switch (r) {
        case X.CODE_POINTS.HYPHEN_MINUS: {
          this.state = re.COMMENT_START_DASH;
          break;
        }
        case X.CODE_POINTS.GREATER_THAN_SIGN: {
          this._err(Be.ERR.abruptClosingOfEmptyComment), this.state = re.DATA;
          const n = this.currentToken;
          this.emitCurrentComment(n);
          break;
        }
        default:
          this.state = re.COMMENT, this._stateComment(r);
      }
    }
    // Comment start dash state
    //------------------------------------------------------------------
  }, {
    key: "_stateCommentStartDash",
    value: function(r) {
      const n = this.currentToken;
      switch (r) {
        case X.CODE_POINTS.HYPHEN_MINUS: {
          this.state = re.COMMENT_END;
          break;
        }
        case X.CODE_POINTS.GREATER_THAN_SIGN: {
          this._err(Be.ERR.abruptClosingOfEmptyComment), this.state = re.DATA, this.emitCurrentComment(n);
          break;
        }
        case X.CODE_POINTS.EOF: {
          this._err(Be.ERR.eofInComment), this.emitCurrentComment(n), this._emitEOFToken();
          break;
        }
        default:
          n.data += "-", this.state = re.COMMENT, this._stateComment(r);
      }
    }
    // Comment state
    //------------------------------------------------------------------
  }, {
    key: "_stateComment",
    value: function(r) {
      const n = this.currentToken;
      switch (r) {
        case X.CODE_POINTS.HYPHEN_MINUS: {
          this.state = re.COMMENT_END_DASH;
          break;
        }
        case X.CODE_POINTS.LESS_THAN_SIGN: {
          n.data += "<", this.state = re.COMMENT_LESS_THAN_SIGN;
          break;
        }
        case X.CODE_POINTS.NULL: {
          this._err(Be.ERR.unexpectedNullCharacter), n.data += X.REPLACEMENT_CHARACTER;
          break;
        }
        case X.CODE_POINTS.EOF: {
          this._err(Be.ERR.eofInComment), this.emitCurrentComment(n), this._emitEOFToken();
          break;
        }
        default:
          n.data += String.fromCodePoint(r);
      }
    }
    // Comment less-than sign state
    //------------------------------------------------------------------
  }, {
    key: "_stateCommentLessThanSign",
    value: function(r) {
      const n = this.currentToken;
      switch (r) {
        case X.CODE_POINTS.EXCLAMATION_MARK: {
          n.data += "!", this.state = re.COMMENT_LESS_THAN_SIGN_BANG;
          break;
        }
        case X.CODE_POINTS.LESS_THAN_SIGN: {
          n.data += "<";
          break;
        }
        default:
          this.state = re.COMMENT, this._stateComment(r);
      }
    }
    // Comment less-than sign bang state
    //------------------------------------------------------------------
  }, {
    key: "_stateCommentLessThanSignBang",
    value: function(r) {
      r === X.CODE_POINTS.HYPHEN_MINUS ? this.state = re.COMMENT_LESS_THAN_SIGN_BANG_DASH : (this.state = re.COMMENT, this._stateComment(r));
    }
    // Comment less-than sign bang dash state
    //------------------------------------------------------------------
  }, {
    key: "_stateCommentLessThanSignBangDash",
    value: function(r) {
      r === X.CODE_POINTS.HYPHEN_MINUS ? this.state = re.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH : (this.state = re.COMMENT_END_DASH, this._stateCommentEndDash(r));
    }
    // Comment less-than sign bang dash dash state
    //------------------------------------------------------------------
  }, {
    key: "_stateCommentLessThanSignBangDashDash",
    value: function(r) {
      r !== X.CODE_POINTS.GREATER_THAN_SIGN && r !== X.CODE_POINTS.EOF && this._err(Be.ERR.nestedComment), this.state = re.COMMENT_END, this._stateCommentEnd(r);
    }
    // Comment end dash state
    //------------------------------------------------------------------
  }, {
    key: "_stateCommentEndDash",
    value: function(r) {
      const n = this.currentToken;
      switch (r) {
        case X.CODE_POINTS.HYPHEN_MINUS: {
          this.state = re.COMMENT_END;
          break;
        }
        case X.CODE_POINTS.EOF: {
          this._err(Be.ERR.eofInComment), this.emitCurrentComment(n), this._emitEOFToken();
          break;
        }
        default:
          n.data += "-", this.state = re.COMMENT, this._stateComment(r);
      }
    }
    // Comment end state
    //------------------------------------------------------------------
  }, {
    key: "_stateCommentEnd",
    value: function(r) {
      const n = this.currentToken;
      switch (r) {
        case X.CODE_POINTS.GREATER_THAN_SIGN: {
          this.state = re.DATA, this.emitCurrentComment(n);
          break;
        }
        case X.CODE_POINTS.EXCLAMATION_MARK: {
          this.state = re.COMMENT_END_BANG;
          break;
        }
        case X.CODE_POINTS.HYPHEN_MINUS: {
          n.data += "-";
          break;
        }
        case X.CODE_POINTS.EOF: {
          this._err(Be.ERR.eofInComment), this.emitCurrentComment(n), this._emitEOFToken();
          break;
        }
        default:
          n.data += "--", this.state = re.COMMENT, this._stateComment(r);
      }
    }
    // Comment end bang state
    //------------------------------------------------------------------
  }, {
    key: "_stateCommentEndBang",
    value: function(r) {
      const n = this.currentToken;
      switch (r) {
        case X.CODE_POINTS.HYPHEN_MINUS: {
          n.data += "--!", this.state = re.COMMENT_END_DASH;
          break;
        }
        case X.CODE_POINTS.GREATER_THAN_SIGN: {
          this._err(Be.ERR.incorrectlyClosedComment), this.state = re.DATA, this.emitCurrentComment(n);
          break;
        }
        case X.CODE_POINTS.EOF: {
          this._err(Be.ERR.eofInComment), this.emitCurrentComment(n), this._emitEOFToken();
          break;
        }
        default:
          n.data += "--!", this.state = re.COMMENT, this._stateComment(r);
      }
    }
    // DOCTYPE state
    //------------------------------------------------------------------
  }, {
    key: "_stateDoctype",
    value: function(r) {
      switch (r) {
        case X.CODE_POINTS.SPACE:
        case X.CODE_POINTS.LINE_FEED:
        case X.CODE_POINTS.TABULATION:
        case X.CODE_POINTS.FORM_FEED: {
          this.state = re.BEFORE_DOCTYPE_NAME;
          break;
        }
        case X.CODE_POINTS.GREATER_THAN_SIGN: {
          this.state = re.BEFORE_DOCTYPE_NAME, this._stateBeforeDoctypeName(r);
          break;
        }
        case X.CODE_POINTS.EOF: {
          this._err(Be.ERR.eofInDoctype), this._createDoctypeToken(null);
          const n = this.currentToken;
          n.forceQuirks = true, this.emitCurrentDoctype(n), this._emitEOFToken();
          break;
        }
        default:
          this._err(Be.ERR.missingWhitespaceBeforeDoctypeName), this.state = re.BEFORE_DOCTYPE_NAME, this._stateBeforeDoctypeName(r);
      }
    }
    // Before DOCTYPE name state
    //------------------------------------------------------------------
  }, {
    key: "_stateBeforeDoctypeName",
    value: function(r) {
      if (Am(r))
        this._createDoctypeToken(String.fromCharCode(c_(r))), this.state = re.DOCTYPE_NAME;
      else
        switch (r) {
          case X.CODE_POINTS.SPACE:
          case X.CODE_POINTS.LINE_FEED:
          case X.CODE_POINTS.TABULATION:
          case X.CODE_POINTS.FORM_FEED:
            break;
          case X.CODE_POINTS.NULL: {
            this._err(Be.ERR.unexpectedNullCharacter), this._createDoctypeToken(X.REPLACEMENT_CHARACTER), this.state = re.DOCTYPE_NAME;
            break;
          }
          case X.CODE_POINTS.GREATER_THAN_SIGN: {
            this._err(Be.ERR.missingDoctypeName), this._createDoctypeToken(null);
            const n = this.currentToken;
            n.forceQuirks = true, this.emitCurrentDoctype(n), this.state = re.DATA;
            break;
          }
          case X.CODE_POINTS.EOF: {
            this._err(Be.ERR.eofInDoctype), this._createDoctypeToken(null);
            const n = this.currentToken;
            n.forceQuirks = true, this.emitCurrentDoctype(n), this._emitEOFToken();
            break;
          }
          default:
            this._createDoctypeToken(String.fromCodePoint(r)), this.state = re.DOCTYPE_NAME;
        }
    }
    // DOCTYPE name state
    //------------------------------------------------------------------
  }, {
    key: "_stateDoctypeName",
    value: function(r) {
      const n = this.currentToken;
      switch (r) {
        case X.CODE_POINTS.SPACE:
        case X.CODE_POINTS.LINE_FEED:
        case X.CODE_POINTS.TABULATION:
        case X.CODE_POINTS.FORM_FEED: {
          this.state = re.AFTER_DOCTYPE_NAME;
          break;
        }
        case X.CODE_POINTS.GREATER_THAN_SIGN: {
          this.state = re.DATA, this.emitCurrentDoctype(n);
          break;
        }
        case X.CODE_POINTS.NULL: {
          this._err(Be.ERR.unexpectedNullCharacter), n.name += X.REPLACEMENT_CHARACTER;
          break;
        }
        case X.CODE_POINTS.EOF: {
          this._err(Be.ERR.eofInDoctype), n.forceQuirks = true, this.emitCurrentDoctype(n), this._emitEOFToken();
          break;
        }
        default:
          n.name += String.fromCodePoint(Am(r) ? c_(r) : r);
      }
    }
    // After DOCTYPE name state
    //------------------------------------------------------------------
  }, {
    key: "_stateAfterDoctypeName",
    value: function(r) {
      const n = this.currentToken;
      switch (r) {
        case X.CODE_POINTS.SPACE:
        case X.CODE_POINTS.LINE_FEED:
        case X.CODE_POINTS.TABULATION:
        case X.CODE_POINTS.FORM_FEED:
          break;
        case X.CODE_POINTS.GREATER_THAN_SIGN: {
          this.state = re.DATA, this.emitCurrentDoctype(n);
          break;
        }
        case X.CODE_POINTS.EOF: {
          this._err(Be.ERR.eofInDoctype), n.forceQuirks = true, this.emitCurrentDoctype(n), this._emitEOFToken();
          break;
        }
        default:
          this._consumeSequenceIfMatch(X.SEQUENCES.PUBLIC, false) ? this.state = re.AFTER_DOCTYPE_PUBLIC_KEYWORD : this._consumeSequenceIfMatch(X.SEQUENCES.SYSTEM, false) ? this.state = re.AFTER_DOCTYPE_SYSTEM_KEYWORD : this._ensureHibernation() || (this._err(Be.ERR.invalidCharacterSequenceAfterDoctypeName), n.forceQuirks = true, this.state = re.BOGUS_DOCTYPE, this._stateBogusDoctype(r));
      }
    }
    // After DOCTYPE public keyword state
    //------------------------------------------------------------------
  }, {
    key: "_stateAfterDoctypePublicKeyword",
    value: function(r) {
      const n = this.currentToken;
      switch (r) {
        case X.CODE_POINTS.SPACE:
        case X.CODE_POINTS.LINE_FEED:
        case X.CODE_POINTS.TABULATION:
        case X.CODE_POINTS.FORM_FEED: {
          this.state = re.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;
          break;
        }
        case X.CODE_POINTS.QUOTATION_MARK: {
          this._err(Be.ERR.missingWhitespaceAfterDoctypePublicKeyword), n.publicId = "", this.state = re.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;
          break;
        }
        case X.CODE_POINTS.APOSTROPHE: {
          this._err(Be.ERR.missingWhitespaceAfterDoctypePublicKeyword), n.publicId = "", this.state = re.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;
          break;
        }
        case X.CODE_POINTS.GREATER_THAN_SIGN: {
          this._err(Be.ERR.missingDoctypePublicIdentifier), n.forceQuirks = true, this.state = re.DATA, this.emitCurrentDoctype(n);
          break;
        }
        case X.CODE_POINTS.EOF: {
          this._err(Be.ERR.eofInDoctype), n.forceQuirks = true, this.emitCurrentDoctype(n), this._emitEOFToken();
          break;
        }
        default:
          this._err(Be.ERR.missingQuoteBeforeDoctypePublicIdentifier), n.forceQuirks = true, this.state = re.BOGUS_DOCTYPE, this._stateBogusDoctype(r);
      }
    }
    // Before DOCTYPE public identifier state
    //------------------------------------------------------------------
  }, {
    key: "_stateBeforeDoctypePublicIdentifier",
    value: function(r) {
      const n = this.currentToken;
      switch (r) {
        case X.CODE_POINTS.SPACE:
        case X.CODE_POINTS.LINE_FEED:
        case X.CODE_POINTS.TABULATION:
        case X.CODE_POINTS.FORM_FEED:
          break;
        case X.CODE_POINTS.QUOTATION_MARK: {
          n.publicId = "", this.state = re.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;
          break;
        }
        case X.CODE_POINTS.APOSTROPHE: {
          n.publicId = "", this.state = re.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;
          break;
        }
        case X.CODE_POINTS.GREATER_THAN_SIGN: {
          this._err(Be.ERR.missingDoctypePublicIdentifier), n.forceQuirks = true, this.state = re.DATA, this.emitCurrentDoctype(n);
          break;
        }
        case X.CODE_POINTS.EOF: {
          this._err(Be.ERR.eofInDoctype), n.forceQuirks = true, this.emitCurrentDoctype(n), this._emitEOFToken();
          break;
        }
        default:
          this._err(Be.ERR.missingQuoteBeforeDoctypePublicIdentifier), n.forceQuirks = true, this.state = re.BOGUS_DOCTYPE, this._stateBogusDoctype(r);
      }
    }
    // DOCTYPE public identifier (double-quoted) state
    //------------------------------------------------------------------
  }, {
    key: "_stateDoctypePublicIdentifierDoubleQuoted",
    value: function(r) {
      const n = this.currentToken;
      switch (r) {
        case X.CODE_POINTS.QUOTATION_MARK: {
          this.state = re.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;
          break;
        }
        case X.CODE_POINTS.NULL: {
          this._err(Be.ERR.unexpectedNullCharacter), n.publicId += X.REPLACEMENT_CHARACTER;
          break;
        }
        case X.CODE_POINTS.GREATER_THAN_SIGN: {
          this._err(Be.ERR.abruptDoctypePublicIdentifier), n.forceQuirks = true, this.emitCurrentDoctype(n), this.state = re.DATA;
          break;
        }
        case X.CODE_POINTS.EOF: {
          this._err(Be.ERR.eofInDoctype), n.forceQuirks = true, this.emitCurrentDoctype(n), this._emitEOFToken();
          break;
        }
        default:
          n.publicId += String.fromCodePoint(r);
      }
    }
    // DOCTYPE public identifier (single-quoted) state
    //------------------------------------------------------------------
  }, {
    key: "_stateDoctypePublicIdentifierSingleQuoted",
    value: function(r) {
      const n = this.currentToken;
      switch (r) {
        case X.CODE_POINTS.APOSTROPHE: {
          this.state = re.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;
          break;
        }
        case X.CODE_POINTS.NULL: {
          this._err(Be.ERR.unexpectedNullCharacter), n.publicId += X.REPLACEMENT_CHARACTER;
          break;
        }
        case X.CODE_POINTS.GREATER_THAN_SIGN: {
          this._err(Be.ERR.abruptDoctypePublicIdentifier), n.forceQuirks = true, this.emitCurrentDoctype(n), this.state = re.DATA;
          break;
        }
        case X.CODE_POINTS.EOF: {
          this._err(Be.ERR.eofInDoctype), n.forceQuirks = true, this.emitCurrentDoctype(n), this._emitEOFToken();
          break;
        }
        default:
          n.publicId += String.fromCodePoint(r);
      }
    }
    // After DOCTYPE public identifier state
    //------------------------------------------------------------------
  }, {
    key: "_stateAfterDoctypePublicIdentifier",
    value: function(r) {
      const n = this.currentToken;
      switch (r) {
        case X.CODE_POINTS.SPACE:
        case X.CODE_POINTS.LINE_FEED:
        case X.CODE_POINTS.TABULATION:
        case X.CODE_POINTS.FORM_FEED: {
          this.state = re.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;
          break;
        }
        case X.CODE_POINTS.GREATER_THAN_SIGN: {
          this.state = re.DATA, this.emitCurrentDoctype(n);
          break;
        }
        case X.CODE_POINTS.QUOTATION_MARK: {
          this._err(Be.ERR.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers), n.systemId = "", this.state = re.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;
          break;
        }
        case X.CODE_POINTS.APOSTROPHE: {
          this._err(Be.ERR.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers), n.systemId = "", this.state = re.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;
          break;
        }
        case X.CODE_POINTS.EOF: {
          this._err(Be.ERR.eofInDoctype), n.forceQuirks = true, this.emitCurrentDoctype(n), this._emitEOFToken();
          break;
        }
        default:
          this._err(Be.ERR.missingQuoteBeforeDoctypeSystemIdentifier), n.forceQuirks = true, this.state = re.BOGUS_DOCTYPE, this._stateBogusDoctype(r);
      }
    }
    // Between DOCTYPE public and system identifiers state
    //------------------------------------------------------------------
  }, {
    key: "_stateBetweenDoctypePublicAndSystemIdentifiers",
    value: function(r) {
      const n = this.currentToken;
      switch (r) {
        case X.CODE_POINTS.SPACE:
        case X.CODE_POINTS.LINE_FEED:
        case X.CODE_POINTS.TABULATION:
        case X.CODE_POINTS.FORM_FEED:
          break;
        case X.CODE_POINTS.GREATER_THAN_SIGN: {
          this.emitCurrentDoctype(n), this.state = re.DATA;
          break;
        }
        case X.CODE_POINTS.QUOTATION_MARK: {
          n.systemId = "", this.state = re.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;
          break;
        }
        case X.CODE_POINTS.APOSTROPHE: {
          n.systemId = "", this.state = re.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;
          break;
        }
        case X.CODE_POINTS.EOF: {
          this._err(Be.ERR.eofInDoctype), n.forceQuirks = true, this.emitCurrentDoctype(n), this._emitEOFToken();
          break;
        }
        default:
          this._err(Be.ERR.missingQuoteBeforeDoctypeSystemIdentifier), n.forceQuirks = true, this.state = re.BOGUS_DOCTYPE, this._stateBogusDoctype(r);
      }
    }
    // After DOCTYPE system keyword state
    //------------------------------------------------------------------
  }, {
    key: "_stateAfterDoctypeSystemKeyword",
    value: function(r) {
      const n = this.currentToken;
      switch (r) {
        case X.CODE_POINTS.SPACE:
        case X.CODE_POINTS.LINE_FEED:
        case X.CODE_POINTS.TABULATION:
        case X.CODE_POINTS.FORM_FEED: {
          this.state = re.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;
          break;
        }
        case X.CODE_POINTS.QUOTATION_MARK: {
          this._err(Be.ERR.missingWhitespaceAfterDoctypeSystemKeyword), n.systemId = "", this.state = re.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;
          break;
        }
        case X.CODE_POINTS.APOSTROPHE: {
          this._err(Be.ERR.missingWhitespaceAfterDoctypeSystemKeyword), n.systemId = "", this.state = re.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;
          break;
        }
        case X.CODE_POINTS.GREATER_THAN_SIGN: {
          this._err(Be.ERR.missingDoctypeSystemIdentifier), n.forceQuirks = true, this.state = re.DATA, this.emitCurrentDoctype(n);
          break;
        }
        case X.CODE_POINTS.EOF: {
          this._err(Be.ERR.eofInDoctype), n.forceQuirks = true, this.emitCurrentDoctype(n), this._emitEOFToken();
          break;
        }
        default:
          this._err(Be.ERR.missingQuoteBeforeDoctypeSystemIdentifier), n.forceQuirks = true, this.state = re.BOGUS_DOCTYPE, this._stateBogusDoctype(r);
      }
    }
    // Before DOCTYPE system identifier state
    //------------------------------------------------------------------
  }, {
    key: "_stateBeforeDoctypeSystemIdentifier",
    value: function(r) {
      const n = this.currentToken;
      switch (r) {
        case X.CODE_POINTS.SPACE:
        case X.CODE_POINTS.LINE_FEED:
        case X.CODE_POINTS.TABULATION:
        case X.CODE_POINTS.FORM_FEED:
          break;
        case X.CODE_POINTS.QUOTATION_MARK: {
          n.systemId = "", this.state = re.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;
          break;
        }
        case X.CODE_POINTS.APOSTROPHE: {
          n.systemId = "", this.state = re.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;
          break;
        }
        case X.CODE_POINTS.GREATER_THAN_SIGN: {
          this._err(Be.ERR.missingDoctypeSystemIdentifier), n.forceQuirks = true, this.state = re.DATA, this.emitCurrentDoctype(n);
          break;
        }
        case X.CODE_POINTS.EOF: {
          this._err(Be.ERR.eofInDoctype), n.forceQuirks = true, this.emitCurrentDoctype(n), this._emitEOFToken();
          break;
        }
        default:
          this._err(Be.ERR.missingQuoteBeforeDoctypeSystemIdentifier), n.forceQuirks = true, this.state = re.BOGUS_DOCTYPE, this._stateBogusDoctype(r);
      }
    }
    // DOCTYPE system identifier (double-quoted) state
    //------------------------------------------------------------------
  }, {
    key: "_stateDoctypeSystemIdentifierDoubleQuoted",
    value: function(r) {
      const n = this.currentToken;
      switch (r) {
        case X.CODE_POINTS.QUOTATION_MARK: {
          this.state = re.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;
          break;
        }
        case X.CODE_POINTS.NULL: {
          this._err(Be.ERR.unexpectedNullCharacter), n.systemId += X.REPLACEMENT_CHARACTER;
          break;
        }
        case X.CODE_POINTS.GREATER_THAN_SIGN: {
          this._err(Be.ERR.abruptDoctypeSystemIdentifier), n.forceQuirks = true, this.emitCurrentDoctype(n), this.state = re.DATA;
          break;
        }
        case X.CODE_POINTS.EOF: {
          this._err(Be.ERR.eofInDoctype), n.forceQuirks = true, this.emitCurrentDoctype(n), this._emitEOFToken();
          break;
        }
        default:
          n.systemId += String.fromCodePoint(r);
      }
    }
    // DOCTYPE system identifier (single-quoted) state
    //------------------------------------------------------------------
  }, {
    key: "_stateDoctypeSystemIdentifierSingleQuoted",
    value: function(r) {
      const n = this.currentToken;
      switch (r) {
        case X.CODE_POINTS.APOSTROPHE: {
          this.state = re.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;
          break;
        }
        case X.CODE_POINTS.NULL: {
          this._err(Be.ERR.unexpectedNullCharacter), n.systemId += X.REPLACEMENT_CHARACTER;
          break;
        }
        case X.CODE_POINTS.GREATER_THAN_SIGN: {
          this._err(Be.ERR.abruptDoctypeSystemIdentifier), n.forceQuirks = true, this.emitCurrentDoctype(n), this.state = re.DATA;
          break;
        }
        case X.CODE_POINTS.EOF: {
          this._err(Be.ERR.eofInDoctype), n.forceQuirks = true, this.emitCurrentDoctype(n), this._emitEOFToken();
          break;
        }
        default:
          n.systemId += String.fromCodePoint(r);
      }
    }
    // After DOCTYPE system identifier state
    //------------------------------------------------------------------
  }, {
    key: "_stateAfterDoctypeSystemIdentifier",
    value: function(r) {
      const n = this.currentToken;
      switch (r) {
        case X.CODE_POINTS.SPACE:
        case X.CODE_POINTS.LINE_FEED:
        case X.CODE_POINTS.TABULATION:
        case X.CODE_POINTS.FORM_FEED:
          break;
        case X.CODE_POINTS.GREATER_THAN_SIGN: {
          this.emitCurrentDoctype(n), this.state = re.DATA;
          break;
        }
        case X.CODE_POINTS.EOF: {
          this._err(Be.ERR.eofInDoctype), n.forceQuirks = true, this.emitCurrentDoctype(n), this._emitEOFToken();
          break;
        }
        default:
          this._err(Be.ERR.unexpectedCharacterAfterDoctypeSystemIdentifier), this.state = re.BOGUS_DOCTYPE, this._stateBogusDoctype(r);
      }
    }
    // Bogus DOCTYPE state
    //------------------------------------------------------------------
  }, {
    key: "_stateBogusDoctype",
    value: function(r) {
      const n = this.currentToken;
      switch (r) {
        case X.CODE_POINTS.GREATER_THAN_SIGN: {
          this.emitCurrentDoctype(n), this.state = re.DATA;
          break;
        }
        case X.CODE_POINTS.NULL: {
          this._err(Be.ERR.unexpectedNullCharacter);
          break;
        }
        case X.CODE_POINTS.EOF: {
          this.emitCurrentDoctype(n), this._emitEOFToken();
          break;
        }
      }
    }
    // CDATA section state
    //------------------------------------------------------------------
  }, {
    key: "_stateCdataSection",
    value: function(r) {
      switch (r) {
        case X.CODE_POINTS.RIGHT_SQUARE_BRACKET: {
          this.state = re.CDATA_SECTION_BRACKET;
          break;
        }
        case X.CODE_POINTS.EOF: {
          this._err(Be.ERR.eofInCdata), this._emitEOFToken();
          break;
        }
        default:
          this._emitCodePoint(r);
      }
    }
    // CDATA section bracket state
    //------------------------------------------------------------------
  }, {
    key: "_stateCdataSectionBracket",
    value: function(r) {
      r === X.CODE_POINTS.RIGHT_SQUARE_BRACKET ? this.state = re.CDATA_SECTION_END : (this._emitChars("]"), this.state = re.CDATA_SECTION, this._stateCdataSection(r));
    }
    // CDATA section end state
    //------------------------------------------------------------------
  }, {
    key: "_stateCdataSectionEnd",
    value: function(r) {
      switch (r) {
        case X.CODE_POINTS.GREATER_THAN_SIGN: {
          this.state = re.DATA;
          break;
        }
        case X.CODE_POINTS.RIGHT_SQUARE_BRACKET: {
          this._emitChars("]");
          break;
        }
        default:
          this._emitChars("]]"), this.state = re.CDATA_SECTION, this._stateCdataSection(r);
      }
    }
    // Character reference state
    //------------------------------------------------------------------
  }, {
    key: "_stateCharacterReference",
    value: function(r) {
      r === X.CODE_POINTS.NUMBER_SIGN ? this.state = re.NUMERIC_CHARACTER_REFERENCE : JP(r) ? (this.state = re.NAMED_CHARACTER_REFERENCE, this._stateNamedCharacterReference(r)) : (this._flushCodePointConsumedAsCharacterReference(X.CODE_POINTS.AMPERSAND), this._reconsumeInState(this.returnState, r));
    }
    // Named character reference state
    //------------------------------------------------------------------
  }, {
    key: "_stateNamedCharacterReference",
    value: function(r) {
      const n = this._matchNamedCharacterReference(r);
      if (!this._ensureHibernation())
        if (n) {
          for (let i = 0; i < n.length; i++)
            this._flushCodePointConsumedAsCharacterReference(n[i]);
          this.state = this.returnState;
        } else
          this._flushCodePointConsumedAsCharacterReference(X.CODE_POINTS.AMPERSAND), this.state = re.AMBIGUOUS_AMPERSAND;
    }
    // Ambiguos ampersand state
    //------------------------------------------------------------------
  }, {
    key: "_stateAmbiguousAmpersand",
    value: function(r) {
      JP(r) ? this._flushCodePointConsumedAsCharacterReference(r) : (r === X.CODE_POINTS.SEMICOLON && this._err(Be.ERR.unknownNamedCharacterReference), this._reconsumeInState(this.returnState, r));
    }
    // Numeric character reference state
    //------------------------------------------------------------------
  }, {
    key: "_stateNumericCharacterReference",
    value: function(r) {
      this.charRefCode = 0, r === X.CODE_POINTS.LATIN_SMALL_X || r === X.CODE_POINTS.LATIN_CAPITAL_X ? this.state = re.HEXADEMICAL_CHARACTER_REFERENCE_START : sg(r) ? (this.state = re.DECIMAL_CHARACTER_REFERENCE, this._stateDecimalCharacterReference(r)) : (this._err(Be.ERR.absenceOfDigitsInNumericCharacterReference), this._flushCodePointConsumedAsCharacterReference(X.CODE_POINTS.AMPERSAND), this._flushCodePointConsumedAsCharacterReference(X.CODE_POINTS.NUMBER_SIGN), this._reconsumeInState(this.returnState, r));
    }
    // Hexademical character reference start state
    //------------------------------------------------------------------
  }, {
    key: "_stateHexademicalCharacterReferenceStart",
    value: function(r) {
      qSe(r) ? (this.state = re.HEXADEMICAL_CHARACTER_REFERENCE, this._stateHexademicalCharacterReference(r)) : (this._err(Be.ERR.absenceOfDigitsInNumericCharacterReference), this._flushCodePointConsumedAsCharacterReference(X.CODE_POINTS.AMPERSAND), this._flushCodePointConsumedAsCharacterReference(X.CODE_POINTS.NUMBER_SIGN), this._unconsume(2), this.state = this.returnState);
    }
    // Hexademical character reference state
    //------------------------------------------------------------------
  }, {
    key: "_stateHexademicalCharacterReference",
    value: function(r) {
      hX(r) ? this.charRefCode = this.charRefCode * 16 + r - 55 : fX(r) ? this.charRefCode = this.charRefCode * 16 + r - 87 : sg(r) ? this.charRefCode = this.charRefCode * 16 + r - 48 : r === X.CODE_POINTS.SEMICOLON ? this.state = re.NUMERIC_CHARACTER_REFERENCE_END : (this._err(Be.ERR.missingSemicolonAfterCharacterReference), this.state = re.NUMERIC_CHARACTER_REFERENCE_END, this._stateNumericCharacterReferenceEnd(r));
    }
    // Decimal character reference state
    //------------------------------------------------------------------
  }, {
    key: "_stateDecimalCharacterReference",
    value: function(r) {
      sg(r) ? this.charRefCode = this.charRefCode * 10 + r - 48 : r === X.CODE_POINTS.SEMICOLON ? this.state = re.NUMERIC_CHARACTER_REFERENCE_END : (this._err(Be.ERR.missingSemicolonAfterCharacterReference), this.state = re.NUMERIC_CHARACTER_REFERENCE_END, this._stateNumericCharacterReferenceEnd(r));
    }
    // Numeric character reference end state
    //------------------------------------------------------------------
  }, {
    key: "_stateNumericCharacterReferenceEnd",
    value: function(r) {
      if (this.charRefCode === X.CODE_POINTS.NULL)
        this._err(Be.ERR.nullCharacterReference), this.charRefCode = X.CODE_POINTS.REPLACEMENT_CHARACTER;
      else if (this.charRefCode > 1114111)
        this._err(Be.ERR.characterReferenceOutsideUnicodeRange), this.charRefCode = X.CODE_POINTS.REPLACEMENT_CHARACTER;
      else if ((0, X.isSurrogate)(this.charRefCode))
        this._err(Be.ERR.surrogateCharacterReference), this.charRefCode = X.CODE_POINTS.REPLACEMENT_CHARACTER;
      else if ((0, X.isUndefinedCodePoint)(this.charRefCode))
        this._err(Be.ERR.noncharacterCharacterReference);
      else if ((0, X.isControlCodePoint)(this.charRefCode) || this.charRefCode === X.CODE_POINTS.CARRIAGE_RETURN) {
        this._err(Be.ERR.controlCharacterReference);
        const n = WSe.get(this.charRefCode);
        n !== void 0 && (this.charRefCode = n);
      }
      this._flushCodePointConsumedAsCharacterReference(this.charRefCode), this._reconsumeInState(this.returnState, r);
    }
  }]), e13;
}();
Tu.Tokenizer = ZSe;
var Z1 = {};
function QSe(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function JSe(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, twe(n.key), n);
  }
}
function ewe(e13, t, r) {
  return t && JSe(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function twe(e13) {
  var t = rwe(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function rwe(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
Object.defineProperty(Z1, "__esModule", {
  value: true
});
Z1.OpenElementStack = void 0;
var He = Ws2;
var pX = /* @__PURE__ */ new Set([He.TAG_ID.DD, He.TAG_ID.DT, He.TAG_ID.LI, He.TAG_ID.OPTGROUP, He.TAG_ID.OPTION, He.TAG_ID.P, He.TAG_ID.RB, He.TAG_ID.RP, He.TAG_ID.RT, He.TAG_ID.RTC]);
var UH = /* @__PURE__ */ new Set([...pX, He.TAG_ID.CAPTION, He.TAG_ID.COLGROUP, He.TAG_ID.TBODY, He.TAG_ID.TD, He.TAG_ID.TFOOT, He.TAG_ID.TH, He.TAG_ID.THEAD, He.TAG_ID.TR]);
var u_ = /* @__PURE__ */ new Map([[He.TAG_ID.APPLET, He.NS.HTML], [He.TAG_ID.CAPTION, He.NS.HTML], [He.TAG_ID.HTML, He.NS.HTML], [He.TAG_ID.MARQUEE, He.NS.HTML], [He.TAG_ID.OBJECT, He.NS.HTML], [He.TAG_ID.TABLE, He.NS.HTML], [He.TAG_ID.TD, He.NS.HTML], [He.TAG_ID.TEMPLATE, He.NS.HTML], [He.TAG_ID.TH, He.NS.HTML], [He.TAG_ID.ANNOTATION_XML, He.NS.MATHML], [He.TAG_ID.MI, He.NS.MATHML], [He.TAG_ID.MN, He.NS.MATHML], [He.TAG_ID.MO, He.NS.MATHML], [He.TAG_ID.MS, He.NS.MATHML], [He.TAG_ID.MTEXT, He.NS.MATHML], [He.TAG_ID.DESC, He.NS.SVG], [He.TAG_ID.FOREIGN_OBJECT, He.NS.SVG], [He.TAG_ID.TITLE, He.NS.SVG]]);
var nwe = [He.TAG_ID.H1, He.TAG_ID.H2, He.TAG_ID.H3, He.TAG_ID.H4, He.TAG_ID.H5, He.TAG_ID.H6];
var iwe = [He.TAG_ID.TR, He.TAG_ID.TEMPLATE, He.TAG_ID.HTML];
var owe = [He.TAG_ID.TBODY, He.TAG_ID.TFOOT, He.TAG_ID.THEAD, He.TAG_ID.TEMPLATE, He.TAG_ID.HTML];
var awe = [He.TAG_ID.TABLE, He.TAG_ID.TEMPLATE, He.TAG_ID.HTML];
var swe = [He.TAG_ID.TD, He.TAG_ID.TH];
var lwe = function() {
  function e13(t, r, n) {
    QSe(this, e13), this.treeAdapter = r, this.handler = n, this.items = [], this.tagIDs = [], this.stackTop = -1, this.tmplCount = 0, this.currentTagId = He.TAG_ID.UNKNOWN, this.current = t;
  }
  return ewe(e13, [{
    key: "currentTmplContentOrNode",
    get: function() {
      return this._isInTemplate() ? this.treeAdapter.getTemplateContent(this.current) : this.current;
    }
  }, {
    key: "_indexOf",
    value: function(r) {
      return this.items.lastIndexOf(r, this.stackTop);
    }
    //Update current element
  }, {
    key: "_isInTemplate",
    value: function() {
      return this.currentTagId === He.TAG_ID.TEMPLATE && this.treeAdapter.getNamespaceURI(this.current) === He.NS.HTML;
    }
  }, {
    key: "_updateCurrentElement",
    value: function() {
      this.current = this.items[this.stackTop], this.currentTagId = this.tagIDs[this.stackTop];
    }
    //Mutations
  }, {
    key: "push",
    value: function(r, n) {
      this.stackTop++, this.items[this.stackTop] = r, this.current = r, this.tagIDs[this.stackTop] = n, this.currentTagId = n, this._isInTemplate() && this.tmplCount++, this.handler.onItemPush(r, n, true);
    }
  }, {
    key: "pop",
    value: function() {
      const r = this.current;
      this.tmplCount > 0 && this._isInTemplate() && this.tmplCount--, this.stackTop--, this._updateCurrentElement(), this.handler.onItemPop(r, true);
    }
  }, {
    key: "replace",
    value: function(r, n) {
      const i = this._indexOf(r);
      this.items[i] = n, i === this.stackTop && (this.current = n);
    }
  }, {
    key: "insertAfter",
    value: function(r, n, i) {
      const o = this._indexOf(r) + 1;
      this.items.splice(o, 0, n), this.tagIDs.splice(o, 0, i), this.stackTop++, o === this.stackTop && this._updateCurrentElement(), this.handler.onItemPush(this.current, this.currentTagId, o === this.stackTop);
    }
  }, {
    key: "popUntilTagNamePopped",
    value: function(r) {
      let n = this.stackTop + 1;
      do
        n = this.tagIDs.lastIndexOf(r, n - 1);
      while (n > 0 && this.treeAdapter.getNamespaceURI(this.items[n]) !== He.NS.HTML);
      this.shortenToLength(n < 0 ? 0 : n);
    }
  }, {
    key: "shortenToLength",
    value: function(r) {
      for (; this.stackTop >= r; ) {
        const n = this.current;
        this.tmplCount > 0 && this._isInTemplate() && (this.tmplCount -= 1), this.stackTop--, this._updateCurrentElement(), this.handler.onItemPop(n, this.stackTop < r);
      }
    }
  }, {
    key: "popUntilElementPopped",
    value: function(r) {
      const n = this._indexOf(r);
      this.shortenToLength(n < 0 ? 0 : n);
    }
  }, {
    key: "popUntilPopped",
    value: function(r, n) {
      const i = this._indexOfTagNames(r, n);
      this.shortenToLength(i < 0 ? 0 : i);
    }
  }, {
    key: "popUntilNumberedHeaderPopped",
    value: function() {
      this.popUntilPopped(nwe, He.NS.HTML);
    }
  }, {
    key: "popUntilTableCellPopped",
    value: function() {
      this.popUntilPopped(swe, He.NS.HTML);
    }
  }, {
    key: "popAllUpToHtmlElement",
    value: function() {
      this.tmplCount = 0, this.shortenToLength(1);
    }
  }, {
    key: "_indexOfTagNames",
    value: function(r, n) {
      for (let i = this.stackTop; i >= 0; i--)
        if (r.includes(this.tagIDs[i]) && this.treeAdapter.getNamespaceURI(this.items[i]) === n)
          return i;
      return -1;
    }
  }, {
    key: "clearBackTo",
    value: function(r, n) {
      const i = this._indexOfTagNames(r, n);
      this.shortenToLength(i + 1);
    }
  }, {
    key: "clearBackToTableContext",
    value: function() {
      this.clearBackTo(awe, He.NS.HTML);
    }
  }, {
    key: "clearBackToTableBodyContext",
    value: function() {
      this.clearBackTo(owe, He.NS.HTML);
    }
  }, {
    key: "clearBackToTableRowContext",
    value: function() {
      this.clearBackTo(iwe, He.NS.HTML);
    }
  }, {
    key: "remove",
    value: function(r) {
      const n = this._indexOf(r);
      n >= 0 && (n === this.stackTop ? this.pop() : (this.items.splice(n, 1), this.tagIDs.splice(n, 1), this.stackTop--, this._updateCurrentElement(), this.handler.onItemPop(r, false)));
    }
    //Search
  }, {
    key: "tryPeekProperlyNestedBodyElement",
    value: function() {
      return this.stackTop >= 1 && this.tagIDs[1] === He.TAG_ID.BODY ? this.items[1] : null;
    }
  }, {
    key: "contains",
    value: function(r) {
      return this._indexOf(r) > -1;
    }
  }, {
    key: "getCommonAncestor",
    value: function(r) {
      const n = this._indexOf(r) - 1;
      return n >= 0 ? this.items[n] : null;
    }
  }, {
    key: "isRootHtmlElementCurrent",
    value: function() {
      return this.stackTop === 0 && this.tagIDs[0] === He.TAG_ID.HTML;
    }
    //Element in scope
  }, {
    key: "hasInScope",
    value: function(r) {
      for (let n = this.stackTop; n >= 0; n--) {
        const i = this.tagIDs[n], o = this.treeAdapter.getNamespaceURI(this.items[n]);
        if (i === r && o === He.NS.HTML)
          return true;
        if (u_.get(i) === o)
          return false;
      }
      return true;
    }
  }, {
    key: "hasNumberedHeaderInScope",
    value: function() {
      for (let r = this.stackTop; r >= 0; r--) {
        const n = this.tagIDs[r], i = this.treeAdapter.getNamespaceURI(this.items[r]);
        if ((0, He.isNumberedHeader)(n) && i === He.NS.HTML)
          return true;
        if (u_.get(n) === i)
          return false;
      }
      return true;
    }
  }, {
    key: "hasInListItemScope",
    value: function(r) {
      for (let n = this.stackTop; n >= 0; n--) {
        const i = this.tagIDs[n], o = this.treeAdapter.getNamespaceURI(this.items[n]);
        if (i === r && o === He.NS.HTML)
          return true;
        if ((i === He.TAG_ID.UL || i === He.TAG_ID.OL) && o === He.NS.HTML || u_.get(i) === o)
          return false;
      }
      return true;
    }
  }, {
    key: "hasInButtonScope",
    value: function(r) {
      for (let n = this.stackTop; n >= 0; n--) {
        const i = this.tagIDs[n], o = this.treeAdapter.getNamespaceURI(this.items[n]);
        if (i === r && o === He.NS.HTML)
          return true;
        if (i === He.TAG_ID.BUTTON && o === He.NS.HTML || u_.get(i) === o)
          return false;
      }
      return true;
    }
  }, {
    key: "hasInTableScope",
    value: function(r) {
      for (let n = this.stackTop; n >= 0; n--) {
        const i = this.tagIDs[n];
        if (this.treeAdapter.getNamespaceURI(this.items[n]) === He.NS.HTML) {
          if (i === r)
            return true;
          if (i === He.TAG_ID.TABLE || i === He.TAG_ID.TEMPLATE || i === He.TAG_ID.HTML)
            return false;
        }
      }
      return true;
    }
  }, {
    key: "hasTableBodyContextInTableScope",
    value: function() {
      for (let r = this.stackTop; r >= 0; r--) {
        const n = this.tagIDs[r];
        if (this.treeAdapter.getNamespaceURI(this.items[r]) === He.NS.HTML) {
          if (n === He.TAG_ID.TBODY || n === He.TAG_ID.THEAD || n === He.TAG_ID.TFOOT)
            return true;
          if (n === He.TAG_ID.TABLE || n === He.TAG_ID.HTML)
            return false;
        }
      }
      return true;
    }
  }, {
    key: "hasInSelectScope",
    value: function(r) {
      for (let n = this.stackTop; n >= 0; n--) {
        const i = this.tagIDs[n];
        if (this.treeAdapter.getNamespaceURI(this.items[n]) === He.NS.HTML) {
          if (i === r)
            return true;
          if (i !== He.TAG_ID.OPTION && i !== He.TAG_ID.OPTGROUP)
            return false;
        }
      }
      return true;
    }
    //Implied end tags
  }, {
    key: "generateImpliedEndTags",
    value: function() {
      for (; pX.has(this.currentTagId); )
        this.pop();
    }
  }, {
    key: "generateImpliedEndTagsThoroughly",
    value: function() {
      for (; UH.has(this.currentTagId); )
        this.pop();
    }
  }, {
    key: "generateImpliedEndTagsWithExclusion",
    value: function(r) {
      for (; this.currentTagId !== r && UH.has(this.currentTagId); )
        this.pop();
    }
  }]), e13;
}();
Z1.OpenElementStack = lwe;
var mX = {};
(function(e13) {
  function t(c, f) {
    if (!(c instanceof f))
      throw new TypeError("Cannot call a class as a function");
  }
  function r(c, f) {
    for (var h = 0; h < f.length; h++) {
      var d = f[h];
      d.enumerable = d.enumerable || false, d.configurable = true, "value" in d && (d.writable = true), Object.defineProperty(c, i(d.key), d);
    }
  }
  function n(c, f, h) {
    return f && r(c.prototype, f), Object.defineProperty(c, "prototype", { writable: false }), c;
  }
  function i(c) {
    var f = o(c, "string");
    return typeof f == "symbol" ? f : String(f);
  }
  function o(c, f) {
    if (typeof c != "object" || c === null)
      return c;
    var h = c[Symbol.toPrimitive];
    if (h !== void 0) {
      var d = h.call(c, f);
      if (typeof d != "object")
        return d;
      throw new TypeError("@@toPrimitive must return a primitive value.");
    }
    return String(c);
  }
  Object.defineProperty(e13, "__esModule", {
    value: true
  }), e13.FormattingElementList = e13.EntryType = void 0;
  const a = 3;
  var s;
  (function(c) {
    c[c.Marker = 0] = "Marker", c[c.Element = 1] = "Element";
  })(s = e13.EntryType || (e13.EntryType = {}));
  const l = {
    type: s.Marker
  };
  let u = function() {
    function c(f) {
      t(this, c), this.treeAdapter = f, this.entries = [], this.bookmark = null;
    }
    return n(c, [{
      key: "_getNoahArkConditionCandidates",
      value: function(h, d) {
        const p = [], m = d.length, g = this.treeAdapter.getTagName(h), v = this.treeAdapter.getNamespaceURI(h);
        for (let b = 0; b < this.entries.length; b++) {
          const y = this.entries[b];
          if (y.type === s.Marker)
            break;
          const {
            element: _
          } = y;
          if (this.treeAdapter.getTagName(_) === g && this.treeAdapter.getNamespaceURI(_) === v) {
            const T = this.treeAdapter.getAttrList(_);
            T.length === m && p.push({
              idx: b,
              attrs: T
            });
          }
        }
        return p;
      }
    }, {
      key: "_ensureNoahArkCondition",
      value: function(h) {
        if (this.entries.length < a)
          return;
        const d = this.treeAdapter.getAttrList(h), p = this._getNoahArkConditionCandidates(h, d);
        if (p.length < a)
          return;
        const m = new Map(d.map((v) => [v.name, v.value]));
        let g = 0;
        for (let v = 0; v < p.length; v++) {
          const b = p[v];
          b.attrs.every((y) => m.get(y.name) === y.value) && (g += 1, g >= a && this.entries.splice(b.idx, 1));
        }
      }
      //Mutations
    }, {
      key: "insertMarker",
      value: function() {
        this.entries.unshift(l);
      }
    }, {
      key: "pushElement",
      value: function(h, d) {
        this._ensureNoahArkCondition(h), this.entries.unshift({
          type: s.Element,
          element: h,
          token: d
        });
      }
    }, {
      key: "insertElementAfterBookmark",
      value: function(h, d) {
        const p = this.entries.indexOf(this.bookmark);
        this.entries.splice(p, 0, {
          type: s.Element,
          element: h,
          token: d
        });
      }
    }, {
      key: "removeEntry",
      value: function(h) {
        const d = this.entries.indexOf(h);
        d >= 0 && this.entries.splice(d, 1);
      }
      /**
       * Clears the list of formatting elements up to the last marker.
       *
       * @see https://html.spec.whatwg.org/multipage/parsing.html#clear-the-list-of-active-formatting-elements-up-to-the-last-marker
       */
    }, {
      key: "clearToLastMarker",
      value: function() {
        const h = this.entries.indexOf(l);
        h >= 0 ? this.entries.splice(0, h + 1) : this.entries.length = 0;
      }
      //Search
    }, {
      key: "getElementEntryInScopeWithTagName",
      value: function(h) {
        const d = this.entries.find((p) => p.type === s.Marker || this.treeAdapter.getTagName(p.element) === h);
        return d && d.type === s.Element ? d : null;
      }
    }, {
      key: "getElementEntry",
      value: function(h) {
        return this.entries.find((d) => d.type === s.Element && d.element === h);
      }
    }]), c;
  }();
  e13.FormattingElementList = u;
})(mX);
var Q1 = {};
(function(e13) {
  Object.defineProperty(e13, "__esModule", {
    value: true
  }), e13.defaultTreeAdapter = void 0;
  const t = Ws2;
  function r(n) {
    return {
      nodeName: "#text",
      value: n,
      parentNode: null
    };
  }
  e13.defaultTreeAdapter = {
    //Node construction
    createDocument() {
      return {
        nodeName: "#document",
        mode: t.DOCUMENT_MODE.NO_QUIRKS,
        childNodes: []
      };
    },
    createDocumentFragment() {
      return {
        nodeName: "#document-fragment",
        childNodes: []
      };
    },
    createElement(n, i, o) {
      return {
        nodeName: n,
        tagName: n,
        attrs: o,
        namespaceURI: i,
        childNodes: [],
        parentNode: null
      };
    },
    createCommentNode(n) {
      return {
        nodeName: "#comment",
        data: n,
        parentNode: null
      };
    },
    //Tree mutation
    appendChild(n, i) {
      n.childNodes.push(i), i.parentNode = n;
    },
    insertBefore(n, i, o) {
      const a = n.childNodes.indexOf(o);
      n.childNodes.splice(a, 0, i), i.parentNode = n;
    },
    setTemplateContent(n, i) {
      n.content = i;
    },
    getTemplateContent(n) {
      return n.content;
    },
    setDocumentType(n, i, o, a) {
      const s = n.childNodes.find((l) => l.nodeName === "#documentType");
      if (s)
        s.name = i, s.publicId = o, s.systemId = a;
      else {
        const l = {
          nodeName: "#documentType",
          name: i,
          publicId: o,
          systemId: a,
          parentNode: null
        };
        e13.defaultTreeAdapter.appendChild(n, l);
      }
    },
    setDocumentMode(n, i) {
      n.mode = i;
    },
    getDocumentMode(n) {
      return n.mode;
    },
    detachNode(n) {
      if (n.parentNode) {
        const i = n.parentNode.childNodes.indexOf(n);
        n.parentNode.childNodes.splice(i, 1), n.parentNode = null;
      }
    },
    insertText(n, i) {
      if (n.childNodes.length > 0) {
        const o = n.childNodes[n.childNodes.length - 1];
        if (e13.defaultTreeAdapter.isTextNode(o)) {
          o.value += i;
          return;
        }
      }
      e13.defaultTreeAdapter.appendChild(n, r(i));
    },
    insertTextBefore(n, i, o) {
      const a = n.childNodes[n.childNodes.indexOf(o) - 1];
      a && e13.defaultTreeAdapter.isTextNode(a) ? a.value += i : e13.defaultTreeAdapter.insertBefore(n, r(i), o);
    },
    adoptAttributes(n, i) {
      const o = new Set(n.attrs.map((a) => a.name));
      for (let a = 0; a < i.length; a++)
        o.has(i[a].name) || n.attrs.push(i[a]);
    },
    //Tree traversing
    getFirstChild(n) {
      return n.childNodes[0];
    },
    getChildNodes(n) {
      return n.childNodes;
    },
    getParentNode(n) {
      return n.parentNode;
    },
    getAttrList(n) {
      return n.attrs;
    },
    //Node data
    getTagName(n) {
      return n.tagName;
    },
    getNamespaceURI(n) {
      return n.namespaceURI;
    },
    getTextNodeContent(n) {
      return n.value;
    },
    getCommentNodeContent(n) {
      return n.data;
    },
    getDocumentTypeNodeName(n) {
      return n.name;
    },
    getDocumentTypeNodePublicId(n) {
      return n.publicId;
    },
    getDocumentTypeNodeSystemId(n) {
      return n.systemId;
    },
    //Node types
    isTextNode(n) {
      return n.nodeName === "#text";
    },
    isCommentNode(n) {
      return n.nodeName === "#comment";
    },
    isDocumentTypeNode(n) {
      return n.nodeName === "#documentType";
    },
    isElementNode(n) {
      return Object.prototype.hasOwnProperty.call(n, "tagName");
    },
    // Source code location
    setNodeSourceCodeLocation(n, i) {
      n.sourceCodeLocation = i;
    },
    getNodeSourceCodeLocation(n) {
      return n.sourceCodeLocation;
    },
    updateNodeSourceCodeLocation(n, i) {
      n.sourceCodeLocation = Object.assign(Object.assign({}, n.sourceCodeLocation), i);
    }
  };
})(Q1);
var wd = {};
Object.defineProperty(wd, "__esModule", {
  value: true
});
wd.getDocumentMode = wd.isConforming = void 0;
var Ih = Ws2;
var gX = "html";
var cwe = "about:legacy-compat";
var uwe = "http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd";
var vX = ["+//silmaril//dtd html pro v0r11 19970101//", "-//as//dtd html 3.0 aswedit + extensions//", "-//advasoft ltd//dtd html 3.0 aswedit + extensions//", "-//ietf//dtd html 2.0 level 1//", "-//ietf//dtd html 2.0 level 2//", "-//ietf//dtd html 2.0 strict level 1//", "-//ietf//dtd html 2.0 strict level 2//", "-//ietf//dtd html 2.0 strict//", "-//ietf//dtd html 2.0//", "-//ietf//dtd html 2.1e//", "-//ietf//dtd html 3.0//", "-//ietf//dtd html 3.2 final//", "-//ietf//dtd html 3.2//", "-//ietf//dtd html 3//", "-//ietf//dtd html level 0//", "-//ietf//dtd html level 1//", "-//ietf//dtd html level 2//", "-//ietf//dtd html level 3//", "-//ietf//dtd html strict level 0//", "-//ietf//dtd html strict level 1//", "-//ietf//dtd html strict level 2//", "-//ietf//dtd html strict level 3//", "-//ietf//dtd html strict//", "-//ietf//dtd html//", "-//metrius//dtd metrius presentational//", "-//microsoft//dtd internet explorer 2.0 html strict//", "-//microsoft//dtd internet explorer 2.0 html//", "-//microsoft//dtd internet explorer 2.0 tables//", "-//microsoft//dtd internet explorer 3.0 html strict//", "-//microsoft//dtd internet explorer 3.0 html//", "-//microsoft//dtd internet explorer 3.0 tables//", "-//netscape comm. corp.//dtd html//", "-//netscape comm. corp.//dtd strict html//", "-//o'reilly and associates//dtd html 2.0//", "-//o'reilly and associates//dtd html extended 1.0//", "-//o'reilly and associates//dtd html extended relaxed 1.0//", "-//sq//dtd html 2.0 hotmetal + extensions//", "-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//", "-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//", "-//spyglass//dtd html 2.0 extended//", "-//sun microsystems corp.//dtd hotjava html//", "-//sun microsystems corp.//dtd hotjava strict html//", "-//w3c//dtd html 3 1995-03-24//", "-//w3c//dtd html 3.2 draft//", "-//w3c//dtd html 3.2 final//", "-//w3c//dtd html 3.2//", "-//w3c//dtd html 3.2s draft//", "-//w3c//dtd html 4.0 frameset//", "-//w3c//dtd html 4.0 transitional//", "-//w3c//dtd html experimental 19960712//", "-//w3c//dtd html experimental 970421//", "-//w3c//dtd w3 html//", "-//w3o//dtd w3 html 3.0//", "-//webtechs//dtd mozilla html 2.0//", "-//webtechs//dtd mozilla html//"];
var hwe = [...vX, "-//w3c//dtd html 4.01 frameset//", "-//w3c//dtd html 4.01 transitional//"];
var fwe = /* @__PURE__ */ new Set(["-//w3o//dtd w3 html strict 3.0//en//", "-/w3c/dtd html 4.0 transitional/en", "html"]);
var yX = ["-//w3c//dtd xhtml 1.0 frameset//", "-//w3c//dtd xhtml 1.0 transitional//"];
var dwe = [...yX, "-//w3c//dtd html 4.01 frameset//", "-//w3c//dtd html 4.01 transitional//"];
function jH(e13, t) {
  return t.some((r) => e13.startsWith(r));
}
function pwe(e13) {
  return e13.name === gX && e13.publicId === null && (e13.systemId === null || e13.systemId === cwe);
}
wd.isConforming = pwe;
function mwe(e13) {
  if (e13.name !== gX)
    return Ih.DOCUMENT_MODE.QUIRKS;
  const {
    systemId: t
  } = e13;
  if (t && t.toLowerCase() === uwe)
    return Ih.DOCUMENT_MODE.QUIRKS;
  let {
    publicId: r
  } = e13;
  if (r !== null) {
    if (r = r.toLowerCase(), fwe.has(r))
      return Ih.DOCUMENT_MODE.QUIRKS;
    let n = t === null ? hwe : vX;
    if (jH(r, n))
      return Ih.DOCUMENT_MODE.QUIRKS;
    if (n = t === null ? yX : dwe, jH(r, n))
      return Ih.DOCUMENT_MODE.LIMITED_QUIRKS;
  }
  return Ih.DOCUMENT_MODE.NO_QUIRKS;
}
wd.getDocumentMode = mwe;
var NN = {};
(function(e13) {
  Object.defineProperty(e13, "__esModule", {
    value: true
  }), e13.isIntegrationPoint = e13.adjustTokenSVGTagName = e13.adjustTokenXMLAttrs = e13.adjustTokenSVGAttrs = e13.adjustTokenMathMLAttrs = e13.causesExit = e13.SVG_TAG_NAMES_ADJUSTMENT_MAP = void 0;
  const t = Ws2, r = {
    TEXT_HTML: "text/html",
    APPLICATION_XML: "application/xhtml+xml"
  }, n = "definitionurl", i = "definitionURL", o = new Map(["attributeName", "attributeType", "baseFrequency", "baseProfile", "calcMode", "clipPathUnits", "diffuseConstant", "edgeMode", "filterUnits", "glyphRef", "gradientTransform", "gradientUnits", "kernelMatrix", "kernelUnitLength", "keyPoints", "keySplines", "keyTimes", "lengthAdjust", "limitingConeAngle", "markerHeight", "markerUnits", "markerWidth", "maskContentUnits", "maskUnits", "numOctaves", "pathLength", "patternContentUnits", "patternTransform", "patternUnits", "pointsAtX", "pointsAtY", "pointsAtZ", "preserveAlpha", "preserveAspectRatio", "primitiveUnits", "refX", "refY", "repeatCount", "repeatDur", "requiredExtensions", "requiredFeatures", "specularConstant", "specularExponent", "spreadMethod", "startOffset", "stdDeviation", "stitchTiles", "surfaceScale", "systemLanguage", "tableValues", "targetX", "targetY", "textLength", "viewBox", "viewTarget", "xChannelSelector", "yChannelSelector", "zoomAndPan"].map((g) => [g.toLowerCase(), g])), a = /* @__PURE__ */ new Map([["xlink:actuate", {
    prefix: "xlink",
    name: "actuate",
    namespace: t.NS.XLINK
  }], ["xlink:arcrole", {
    prefix: "xlink",
    name: "arcrole",
    namespace: t.NS.XLINK
  }], ["xlink:href", {
    prefix: "xlink",
    name: "href",
    namespace: t.NS.XLINK
  }], ["xlink:role", {
    prefix: "xlink",
    name: "role",
    namespace: t.NS.XLINK
  }], ["xlink:show", {
    prefix: "xlink",
    name: "show",
    namespace: t.NS.XLINK
  }], ["xlink:title", {
    prefix: "xlink",
    name: "title",
    namespace: t.NS.XLINK
  }], ["xlink:type", {
    prefix: "xlink",
    name: "type",
    namespace: t.NS.XLINK
  }], ["xml:base", {
    prefix: "xml",
    name: "base",
    namespace: t.NS.XML
  }], ["xml:lang", {
    prefix: "xml",
    name: "lang",
    namespace: t.NS.XML
  }], ["xml:space", {
    prefix: "xml",
    name: "space",
    namespace: t.NS.XML
  }], ["xmlns", {
    prefix: "",
    name: "xmlns",
    namespace: t.NS.XMLNS
  }], ["xmlns:xlink", {
    prefix: "xmlns",
    name: "xlink",
    namespace: t.NS.XMLNS
  }]]);
  e13.SVG_TAG_NAMES_ADJUSTMENT_MAP = new Map(["altGlyph", "altGlyphDef", "altGlyphItem", "animateColor", "animateMotion", "animateTransform", "clipPath", "feBlend", "feColorMatrix", "feComponentTransfer", "feComposite", "feConvolveMatrix", "feDiffuseLighting", "feDisplacementMap", "feDistantLight", "feFlood", "feFuncA", "feFuncB", "feFuncG", "feFuncR", "feGaussianBlur", "feImage", "feMerge", "feMergeNode", "feMorphology", "feOffset", "fePointLight", "feSpecularLighting", "feSpotLight", "feTile", "feTurbulence", "foreignObject", "glyphRef", "linearGradient", "radialGradient", "textPath"].map((g) => [g.toLowerCase(), g]));
  const s = /* @__PURE__ */ new Set([t.TAG_ID.B, t.TAG_ID.BIG, t.TAG_ID.BLOCKQUOTE, t.TAG_ID.BODY, t.TAG_ID.BR, t.TAG_ID.CENTER, t.TAG_ID.CODE, t.TAG_ID.DD, t.TAG_ID.DIV, t.TAG_ID.DL, t.TAG_ID.DT, t.TAG_ID.EM, t.TAG_ID.EMBED, t.TAG_ID.H1, t.TAG_ID.H2, t.TAG_ID.H3, t.TAG_ID.H4, t.TAG_ID.H5, t.TAG_ID.H6, t.TAG_ID.HEAD, t.TAG_ID.HR, t.TAG_ID.I, t.TAG_ID.IMG, t.TAG_ID.LI, t.TAG_ID.LISTING, t.TAG_ID.MENU, t.TAG_ID.META, t.TAG_ID.NOBR, t.TAG_ID.OL, t.TAG_ID.P, t.TAG_ID.PRE, t.TAG_ID.RUBY, t.TAG_ID.S, t.TAG_ID.SMALL, t.TAG_ID.SPAN, t.TAG_ID.STRONG, t.TAG_ID.STRIKE, t.TAG_ID.SUB, t.TAG_ID.SUP, t.TAG_ID.TABLE, t.TAG_ID.TT, t.TAG_ID.U, t.TAG_ID.UL, t.TAG_ID.VAR]);
  function l(g) {
    const v = g.tagID;
    return v === t.TAG_ID.FONT && g.attrs.some(({
      name: y
    }) => y === t.ATTRS.COLOR || y === t.ATTRS.SIZE || y === t.ATTRS.FACE) || s.has(v);
  }
  e13.causesExit = l;
  function u(g) {
    for (let v = 0; v < g.attrs.length; v++)
      if (g.attrs[v].name === n) {
        g.attrs[v].name = i;
        break;
      }
  }
  e13.adjustTokenMathMLAttrs = u;
  function c(g) {
    for (let v = 0; v < g.attrs.length; v++) {
      const b = o.get(g.attrs[v].name);
      b != null && (g.attrs[v].name = b);
    }
  }
  e13.adjustTokenSVGAttrs = c;
  function f(g) {
    for (let v = 0; v < g.attrs.length; v++) {
      const b = a.get(g.attrs[v].name);
      b && (g.attrs[v].prefix = b.prefix, g.attrs[v].name = b.name, g.attrs[v].namespace = b.namespace);
    }
  }
  e13.adjustTokenXMLAttrs = f;
  function h(g) {
    const v = e13.SVG_TAG_NAMES_ADJUSTMENT_MAP.get(g.tagName);
    v != null && (g.tagName = v, g.tagID = (0, t.getTagID)(g.tagName));
  }
  e13.adjustTokenSVGTagName = h;
  function d(g, v) {
    return v === t.NS.MATHML && (g === t.TAG_ID.MI || g === t.TAG_ID.MO || g === t.TAG_ID.MN || g === t.TAG_ID.MS || g === t.TAG_ID.MTEXT);
  }
  function p(g, v, b) {
    if (v === t.NS.MATHML && g === t.TAG_ID.ANNOTATION_XML) {
      for (let y = 0; y < b.length; y++)
        if (b[y].name === t.ATTRS.ENCODING) {
          const _ = b[y].value.toLowerCase();
          return _ === r.TEXT_HTML || _ === r.APPLICATION_XML;
        }
    }
    return v === t.NS.SVG && (g === t.TAG_ID.FOREIGN_OBJECT || g === t.TAG_ID.DESC || g === t.TAG_ID.TITLE);
  }
  function m(g, v, b, y) {
    return (!y || y === t.NS.HTML) && p(g, v, b) || (!y || y === t.NS.MATHML) && d(g, v);
  }
  e13.isIntegrationPoint = m;
})(NN);
function gwe(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function GH(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, ywe(n.key), n);
  }
}
function vwe(e13, t, r) {
  return t && GH(e13.prototype, t), r && GH(e13, r), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function ywe(e13) {
  var t = _we(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function _we(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
Object.defineProperty(av, "__esModule", {
  value: true
});
av.Parser = void 0;
var hi = Tu;
var bwe = Z1;
var zH = mX;
var Twe = Q1;
var VH = wd;
var _a = NN;
var jn = ny;
var _X = q1;
var D = Ws2;
var fn = K1;
var Ewe = "hidden";
var Swe = 8;
var wwe = 3;
var fe;
(function(e13) {
  e13[e13.INITIAL = 0] = "INITIAL", e13[e13.BEFORE_HTML = 1] = "BEFORE_HTML", e13[e13.BEFORE_HEAD = 2] = "BEFORE_HEAD", e13[e13.IN_HEAD = 3] = "IN_HEAD", e13[e13.IN_HEAD_NO_SCRIPT = 4] = "IN_HEAD_NO_SCRIPT", e13[e13.AFTER_HEAD = 5] = "AFTER_HEAD", e13[e13.IN_BODY = 6] = "IN_BODY", e13[e13.TEXT = 7] = "TEXT", e13[e13.IN_TABLE = 8] = "IN_TABLE", e13[e13.IN_TABLE_TEXT = 9] = "IN_TABLE_TEXT", e13[e13.IN_CAPTION = 10] = "IN_CAPTION", e13[e13.IN_COLUMN_GROUP = 11] = "IN_COLUMN_GROUP", e13[e13.IN_TABLE_BODY = 12] = "IN_TABLE_BODY", e13[e13.IN_ROW = 13] = "IN_ROW", e13[e13.IN_CELL = 14] = "IN_CELL", e13[e13.IN_SELECT = 15] = "IN_SELECT", e13[e13.IN_SELECT_IN_TABLE = 16] = "IN_SELECT_IN_TABLE", e13[e13.IN_TEMPLATE = 17] = "IN_TEMPLATE", e13[e13.AFTER_BODY = 18] = "AFTER_BODY", e13[e13.IN_FRAMESET = 19] = "IN_FRAMESET", e13[e13.AFTER_FRAMESET = 20] = "AFTER_FRAMESET", e13[e13.AFTER_AFTER_BODY = 21] = "AFTER_AFTER_BODY", e13[e13.AFTER_AFTER_FRAMESET = 22] = "AFTER_AFTER_FRAMESET";
})(fe || (fe = {}));
var Awe = {
  startLine: -1,
  startCol: -1,
  startOffset: -1,
  endLine: -1,
  endCol: -1,
  endOffset: -1
};
var bX = /* @__PURE__ */ new Set([D.TAG_ID.TABLE, D.TAG_ID.TBODY, D.TAG_ID.TFOOT, D.TAG_ID.THEAD, D.TAG_ID.TR]);
var XH = {
  scriptingEnabled: true,
  sourceCodeLocationInfo: false,
  treeAdapter: Twe.defaultTreeAdapter,
  onParseError: null
};
var Owe = function() {
  function e13(t, r, n = null, i = null) {
    gwe(this, e13), this.fragmentContext = n, this.scriptHandler = i, this.currentToken = null, this.stopped = false, this.insertionMode = fe.INITIAL, this.originalInsertionMode = fe.INITIAL, this.headElement = null, this.formElement = null, this.currentNotInHTML = false, this.tmplInsertionModeStack = [], this.pendingCharacterTokens = [], this.hasNonWhitespacePendingCharacterToken = false, this.framesetOk = true, this.skipNextNewLine = false, this.fosterParentingEnabled = false, this.options = Object.assign(Object.assign({}, XH), t), this.treeAdapter = this.options.treeAdapter, this.onParseError = this.options.onParseError, this.onParseError && (this.options.sourceCodeLocationInfo = true), this.document = r ?? this.treeAdapter.createDocument(), this.tokenizer = new hi.Tokenizer(this.options, this), this.activeFormattingElements = new zH.FormattingElementList(this.treeAdapter), this.fragmentContextID = n ? (0, D.getTagID)(this.treeAdapter.getTagName(n)) : D.TAG_ID.UNKNOWN, this._setContextModes(n ?? this.document, this.fragmentContextID), this.openElements = new bwe.OpenElementStack(this.document, this.treeAdapter, this);
  }
  return vwe(e13, [{
    key: "getFragment",
    value: function() {
      const r = this.treeAdapter.getFirstChild(this.document), n = this.treeAdapter.createDocumentFragment();
      return this._adoptNodes(r, n), n;
    }
    //Errors
  }, {
    key: "_err",
    value: function(r, n, i) {
      var o;
      if (!this.onParseError)
        return;
      const a = (o = r.location) !== null && o !== void 0 ? o : Awe, s = {
        code: n,
        startLine: a.startLine,
        startCol: a.startCol,
        startOffset: a.startOffset,
        endLine: i ? a.startLine : a.endLine,
        endCol: i ? a.startCol : a.endCol,
        endOffset: i ? a.startOffset : a.endOffset
      };
      this.onParseError(s);
    }
    //Stack events
  }, {
    key: "onItemPush",
    value: function(r, n, i) {
      var o, a;
      (a = (o = this.treeAdapter).onItemPush) === null || a === void 0 || a.call(o, r), i && this.openElements.stackTop > 0 && this._setContextModes(r, n);
    }
  }, {
    key: "onItemPop",
    value: function(r, n) {
      var i, o;
      if (this.options.sourceCodeLocationInfo && this._setEndLocation(r, this.currentToken), (o = (i = this.treeAdapter).onItemPop) === null || o === void 0 || o.call(i, r, this.openElements.current), n) {
        let a, s;
        this.openElements.stackTop === 0 && this.fragmentContext ? (a = this.fragmentContext, s = this.fragmentContextID) : {
          current: a,
          currentTagId: s
        } = this.openElements, this._setContextModes(a, s);
      }
    }
  }, {
    key: "_setContextModes",
    value: function(r, n) {
      const i = r === this.document || this.treeAdapter.getNamespaceURI(r) === D.NS.HTML;
      this.currentNotInHTML = !i, this.tokenizer.inForeignNode = !i && !this._isIntegrationPoint(n, r);
    }
  }, {
    key: "_switchToTextParsing",
    value: function(r, n) {
      this._insertElement(r, D.NS.HTML), this.tokenizer.state = n, this.originalInsertionMode = this.insertionMode, this.insertionMode = fe.TEXT;
    }
  }, {
    key: "switchToPlaintextParsing",
    value: function() {
      this.insertionMode = fe.TEXT, this.originalInsertionMode = fe.IN_BODY, this.tokenizer.state = hi.TokenizerMode.PLAINTEXT;
    }
    //Fragment parsing
  }, {
    key: "_getAdjustedCurrentElement",
    value: function() {
      return this.openElements.stackTop === 0 && this.fragmentContext ? this.fragmentContext : this.openElements.current;
    }
  }, {
    key: "_findFormInFragmentContext",
    value: function() {
      let r = this.fragmentContext;
      for (; r; ) {
        if (this.treeAdapter.getTagName(r) === D.TAG_NAMES.FORM) {
          this.formElement = r;
          break;
        }
        r = this.treeAdapter.getParentNode(r);
      }
    }
  }, {
    key: "_initTokenizerForFragmentParsing",
    value: function() {
      if (!(!this.fragmentContext || this.treeAdapter.getNamespaceURI(this.fragmentContext) !== D.NS.HTML))
        switch (this.fragmentContextID) {
          case D.TAG_ID.TITLE:
          case D.TAG_ID.TEXTAREA: {
            this.tokenizer.state = hi.TokenizerMode.RCDATA;
            break;
          }
          case D.TAG_ID.STYLE:
          case D.TAG_ID.XMP:
          case D.TAG_ID.IFRAME:
          case D.TAG_ID.NOEMBED:
          case D.TAG_ID.NOFRAMES:
          case D.TAG_ID.NOSCRIPT: {
            this.tokenizer.state = hi.TokenizerMode.RAWTEXT;
            break;
          }
          case D.TAG_ID.SCRIPT: {
            this.tokenizer.state = hi.TokenizerMode.SCRIPT_DATA;
            break;
          }
          case D.TAG_ID.PLAINTEXT: {
            this.tokenizer.state = hi.TokenizerMode.PLAINTEXT;
            break;
          }
        }
    }
    //Tree mutation
  }, {
    key: "_setDocumentType",
    value: function(r) {
      const n = r.name || "", i = r.publicId || "", o = r.systemId || "";
      if (this.treeAdapter.setDocumentType(this.document, n, i, o), r.location) {
        const s = this.treeAdapter.getChildNodes(this.document).find((l) => this.treeAdapter.isDocumentTypeNode(l));
        s && this.treeAdapter.setNodeSourceCodeLocation(s, r.location);
      }
    }
  }, {
    key: "_attachElementToTree",
    value: function(r, n) {
      if (this.options.sourceCodeLocationInfo) {
        const i = n && Object.assign(Object.assign({}, n), {
          startTag: n
        });
        this.treeAdapter.setNodeSourceCodeLocation(r, i);
      }
      if (this._shouldFosterParentOnInsertion())
        this._fosterParentElement(r);
      else {
        const i = this.openElements.currentTmplContentOrNode;
        this.treeAdapter.appendChild(i, r);
      }
    }
  }, {
    key: "_appendElement",
    value: function(r, n) {
      const i = this.treeAdapter.createElement(r.tagName, n, r.attrs);
      this._attachElementToTree(i, r.location);
    }
  }, {
    key: "_insertElement",
    value: function(r, n) {
      const i = this.treeAdapter.createElement(r.tagName, n, r.attrs);
      this._attachElementToTree(i, r.location), this.openElements.push(i, r.tagID);
    }
  }, {
    key: "_insertFakeElement",
    value: function(r, n) {
      const i = this.treeAdapter.createElement(r, D.NS.HTML, []);
      this._attachElementToTree(i, null), this.openElements.push(i, n);
    }
  }, {
    key: "_insertTemplate",
    value: function(r) {
      const n = this.treeAdapter.createElement(r.tagName, D.NS.HTML, r.attrs), i = this.treeAdapter.createDocumentFragment();
      this.treeAdapter.setTemplateContent(n, i), this._attachElementToTree(n, r.location), this.openElements.push(n, r.tagID), this.options.sourceCodeLocationInfo && this.treeAdapter.setNodeSourceCodeLocation(i, null);
    }
  }, {
    key: "_insertFakeRootElement",
    value: function() {
      const r = this.treeAdapter.createElement(D.TAG_NAMES.HTML, D.NS.HTML, []);
      this.options.sourceCodeLocationInfo && this.treeAdapter.setNodeSourceCodeLocation(r, null), this.treeAdapter.appendChild(this.openElements.current, r), this.openElements.push(r, D.TAG_ID.HTML);
    }
  }, {
    key: "_appendCommentNode",
    value: function(r, n) {
      const i = this.treeAdapter.createCommentNode(r.data);
      this.treeAdapter.appendChild(n, i), this.options.sourceCodeLocationInfo && this.treeAdapter.setNodeSourceCodeLocation(i, r.location);
    }
  }, {
    key: "_insertCharacters",
    value: function(r) {
      let n, i;
      if (this._shouldFosterParentOnInsertion() ? ({
        parent: n,
        beforeElement: i
      } = this._findFosterParentingLocation(), i ? this.treeAdapter.insertTextBefore(n, r.chars, i) : this.treeAdapter.insertText(n, r.chars)) : (n = this.openElements.currentTmplContentOrNode, this.treeAdapter.insertText(n, r.chars)), !r.location)
        return;
      const o = this.treeAdapter.getChildNodes(n), a = i ? o.lastIndexOf(i) : o.length, s = o[a - 1];
      if (this.treeAdapter.getNodeSourceCodeLocation(s)) {
        const {
          endLine: u,
          endCol: c,
          endOffset: f
        } = r.location;
        this.treeAdapter.updateNodeSourceCodeLocation(s, {
          endLine: u,
          endCol: c,
          endOffset: f
        });
      } else this.options.sourceCodeLocationInfo && this.treeAdapter.setNodeSourceCodeLocation(s, r.location);
    }
  }, {
    key: "_adoptNodes",
    value: function(r, n) {
      for (let i = this.treeAdapter.getFirstChild(r); i; i = this.treeAdapter.getFirstChild(r))
        this.treeAdapter.detachNode(i), this.treeAdapter.appendChild(n, i);
    }
  }, {
    key: "_setEndLocation",
    value: function(r, n) {
      if (this.treeAdapter.getNodeSourceCodeLocation(r) && n.location) {
        const i = n.location, o = this.treeAdapter.getTagName(r), a = (
          // NOTE: For cases like <p> <p> </p> - First 'p' closes without a closing
          // tag and for cases like <td> <p> </td> - 'p' closes without a closing tag.
          n.type === fn.TokenType.END_TAG && o === n.tagName ? {
            endTag: Object.assign({}, i),
            endLine: i.endLine,
            endCol: i.endCol,
            endOffset: i.endOffset
          } : {
            endLine: i.startLine,
            endCol: i.startCol,
            endOffset: i.startOffset
          }
        );
        this.treeAdapter.updateNodeSourceCodeLocation(r, a);
      }
    }
    //Token processing
  }, {
    key: "shouldProcessStartTagTokenInForeignContent",
    value: function(r) {
      if (!this.currentNotInHTML)
        return false;
      let n, i;
      return this.openElements.stackTop === 0 && this.fragmentContext ? (n = this.fragmentContext, i = this.fragmentContextID) : {
        current: n,
        currentTagId: i
      } = this.openElements, r.tagID === D.TAG_ID.SVG && this.treeAdapter.getTagName(n) === D.TAG_NAMES.ANNOTATION_XML && this.treeAdapter.getNamespaceURI(n) === D.NS.MATHML ? false : (
        // Check that `current` is not an integration point for HTML or MathML elements.
        this.tokenizer.inForeignNode || // If it _is_ an integration point, then we might have to check that it is not an HTML
        // integration point.
        (r.tagID === D.TAG_ID.MGLYPH || r.tagID === D.TAG_ID.MALIGNMARK) && !this._isIntegrationPoint(i, n, D.NS.HTML)
      );
    }
  }, {
    key: "_processToken",
    value: function(r) {
      switch (r.type) {
        case fn.TokenType.CHARACTER: {
          this.onCharacter(r);
          break;
        }
        case fn.TokenType.NULL_CHARACTER: {
          this.onNullCharacter(r);
          break;
        }
        case fn.TokenType.COMMENT: {
          this.onComment(r);
          break;
        }
        case fn.TokenType.DOCTYPE: {
          this.onDoctype(r);
          break;
        }
        case fn.TokenType.START_TAG: {
          this._processStartTag(r);
          break;
        }
        case fn.TokenType.END_TAG: {
          this.onEndTag(r);
          break;
        }
        case fn.TokenType.EOF: {
          this.onEof(r);
          break;
        }
        case fn.TokenType.WHITESPACE_CHARACTER: {
          this.onWhitespaceCharacter(r);
          break;
        }
      }
    }
    //Integration points
  }, {
    key: "_isIntegrationPoint",
    value: function(r, n, i) {
      const o = this.treeAdapter.getNamespaceURI(n), a = this.treeAdapter.getAttrList(n);
      return _a.isIntegrationPoint(r, o, a, i);
    }
    //Active formatting elements reconstruction
  }, {
    key: "_reconstructActiveFormattingElements",
    value: function() {
      const r = this.activeFormattingElements.entries.length;
      if (r) {
        const n = this.activeFormattingElements.entries.findIndex((o) => o.type === zH.EntryType.Marker || this.openElements.contains(o.element)), i = n < 0 ? r - 1 : n - 1;
        for (let o = i; o >= 0; o--) {
          const a = this.activeFormattingElements.entries[o];
          this._insertElement(a.token, this.treeAdapter.getNamespaceURI(a.element)), a.element = this.openElements.current;
        }
      }
    }
    //Close elements
  }, {
    key: "_closeTableCell",
    value: function() {
      this.openElements.generateImpliedEndTags(), this.openElements.popUntilTableCellPopped(), this.activeFormattingElements.clearToLastMarker(), this.insertionMode = fe.IN_ROW;
    }
  }, {
    key: "_closePElement",
    value: function() {
      this.openElements.generateImpliedEndTagsWithExclusion(D.TAG_ID.P), this.openElements.popUntilTagNamePopped(D.TAG_ID.P);
    }
    //Insertion modes
  }, {
    key: "_resetInsertionMode",
    value: function() {
      for (let r = this.openElements.stackTop; r >= 0; r--)
        switch (r === 0 && this.fragmentContext ? this.fragmentContextID : this.openElements.tagIDs[r]) {
          case D.TAG_ID.TR: {
            this.insertionMode = fe.IN_ROW;
            return;
          }
          case D.TAG_ID.TBODY:
          case D.TAG_ID.THEAD:
          case D.TAG_ID.TFOOT: {
            this.insertionMode = fe.IN_TABLE_BODY;
            return;
          }
          case D.TAG_ID.CAPTION: {
            this.insertionMode = fe.IN_CAPTION;
            return;
          }
          case D.TAG_ID.COLGROUP: {
            this.insertionMode = fe.IN_COLUMN_GROUP;
            return;
          }
          case D.TAG_ID.TABLE: {
            this.insertionMode = fe.IN_TABLE;
            return;
          }
          case D.TAG_ID.BODY: {
            this.insertionMode = fe.IN_BODY;
            return;
          }
          case D.TAG_ID.FRAMESET: {
            this.insertionMode = fe.IN_FRAMESET;
            return;
          }
          case D.TAG_ID.SELECT: {
            this._resetInsertionModeForSelect(r);
            return;
          }
          case D.TAG_ID.TEMPLATE: {
            this.insertionMode = this.tmplInsertionModeStack[0];
            return;
          }
          case D.TAG_ID.HTML: {
            this.insertionMode = this.headElement ? fe.AFTER_HEAD : fe.BEFORE_HEAD;
            return;
          }
          case D.TAG_ID.TD:
          case D.TAG_ID.TH: {
            if (r > 0) {
              this.insertionMode = fe.IN_CELL;
              return;
            }
            break;
          }
          case D.TAG_ID.HEAD: {
            if (r > 0) {
              this.insertionMode = fe.IN_HEAD;
              return;
            }
            break;
          }
        }
      this.insertionMode = fe.IN_BODY;
    }
  }, {
    key: "_resetInsertionModeForSelect",
    value: function(r) {
      if (r > 0)
        for (let n = r - 1; n > 0; n--) {
          const i = this.openElements.tagIDs[n];
          if (i === D.TAG_ID.TEMPLATE)
            break;
          if (i === D.TAG_ID.TABLE) {
            this.insertionMode = fe.IN_SELECT_IN_TABLE;
            return;
          }
        }
      this.insertionMode = fe.IN_SELECT;
    }
    //Foster parenting
  }, {
    key: "_isElementCausesFosterParenting",
    value: function(r) {
      return bX.has(r);
    }
  }, {
    key: "_shouldFosterParentOnInsertion",
    value: function() {
      return this.fosterParentingEnabled && this._isElementCausesFosterParenting(this.openElements.currentTagId);
    }
  }, {
    key: "_findFosterParentingLocation",
    value: function() {
      for (let r = this.openElements.stackTop; r >= 0; r--) {
        const n = this.openElements.items[r];
        switch (this.openElements.tagIDs[r]) {
          case D.TAG_ID.TEMPLATE: {
            if (this.treeAdapter.getNamespaceURI(n) === D.NS.HTML)
              return {
                parent: this.treeAdapter.getTemplateContent(n),
                beforeElement: null
              };
            break;
          }
          case D.TAG_ID.TABLE: {
            const i = this.treeAdapter.getParentNode(n);
            return i ? {
              parent: i,
              beforeElement: n
            } : {
              parent: this.openElements.items[r - 1],
              beforeElement: null
            };
          }
        }
      }
      return {
        parent: this.openElements.items[0],
        beforeElement: null
      };
    }
  }, {
    key: "_fosterParentElement",
    value: function(r) {
      const n = this._findFosterParentingLocation();
      n.beforeElement ? this.treeAdapter.insertBefore(n.parent, r, n.beforeElement) : this.treeAdapter.appendChild(n.parent, r);
    }
    //Special elements
  }, {
    key: "_isSpecialElement",
    value: function(r, n) {
      const i = this.treeAdapter.getNamespaceURI(r);
      return D.SPECIAL_ELEMENTS[i].has(n);
    }
  }, {
    key: "onCharacter",
    value: function(r) {
      if (this.skipNextNewLine = false, this.tokenizer.inForeignNode) {
        rOe(this, r);
        return;
      }
      switch (this.insertionMode) {
        case fe.INITIAL: {
          Qp(this, r);
          break;
        }
        case fe.BEFORE_HTML: {
          lg(this, r);
          break;
        }
        case fe.BEFORE_HEAD: {
          cg(this, r);
          break;
        }
        case fe.IN_HEAD: {
          ug(this, r);
          break;
        }
        case fe.IN_HEAD_NO_SCRIPT: {
          hg(this, r);
          break;
        }
        case fe.AFTER_HEAD: {
          fg(this, r);
          break;
        }
        case fe.IN_BODY:
        case fe.IN_CAPTION:
        case fe.IN_CELL:
        case fe.IN_TEMPLATE: {
          EX(this, r);
          break;
        }
        case fe.TEXT:
        case fe.IN_SELECT:
        case fe.IN_SELECT_IN_TABLE: {
          this._insertCharacters(r);
          break;
        }
        case fe.IN_TABLE:
        case fe.IN_TABLE_BODY:
        case fe.IN_ROW: {
          oO(this, r);
          break;
        }
        case fe.IN_TABLE_TEXT: {
          PX(this, r);
          break;
        }
        case fe.IN_COLUMN_GROUP: {
          V0(this, r);
          break;
        }
        case fe.AFTER_BODY: {
          X0(this, r);
          break;
        }
        case fe.AFTER_AFTER_BODY: {
          ub(this, r);
          break;
        }
      }
    }
  }, {
    key: "onNullCharacter",
    value: function(r) {
      if (this.skipNextNewLine = false, this.tokenizer.inForeignNode) {
        tOe(this, r);
        return;
      }
      switch (this.insertionMode) {
        case fe.INITIAL: {
          Qp(this, r);
          break;
        }
        case fe.BEFORE_HTML: {
          lg(this, r);
          break;
        }
        case fe.BEFORE_HEAD: {
          cg(this, r);
          break;
        }
        case fe.IN_HEAD: {
          ug(this, r);
          break;
        }
        case fe.IN_HEAD_NO_SCRIPT: {
          hg(this, r);
          break;
        }
        case fe.AFTER_HEAD: {
          fg(this, r);
          break;
        }
        case fe.TEXT: {
          this._insertCharacters(r);
          break;
        }
        case fe.IN_TABLE:
        case fe.IN_TABLE_BODY:
        case fe.IN_ROW: {
          oO(this, r);
          break;
        }
        case fe.IN_COLUMN_GROUP: {
          V0(this, r);
          break;
        }
        case fe.AFTER_BODY: {
          X0(this, r);
          break;
        }
        case fe.AFTER_AFTER_BODY: {
          ub(this, r);
          break;
        }
      }
    }
  }, {
    key: "onComment",
    value: function(r) {
      if (this.skipNextNewLine = false, this.currentNotInHTML) {
        eC(this, r);
        return;
      }
      switch (this.insertionMode) {
        case fe.INITIAL:
        case fe.BEFORE_HTML:
        case fe.BEFORE_HEAD:
        case fe.IN_HEAD:
        case fe.IN_HEAD_NO_SCRIPT:
        case fe.AFTER_HEAD:
        case fe.IN_BODY:
        case fe.IN_TABLE:
        case fe.IN_CAPTION:
        case fe.IN_COLUMN_GROUP:
        case fe.IN_TABLE_BODY:
        case fe.IN_ROW:
        case fe.IN_CELL:
        case fe.IN_SELECT:
        case fe.IN_SELECT_IN_TABLE:
        case fe.IN_TEMPLATE:
        case fe.IN_FRAMESET:
        case fe.AFTER_FRAMESET: {
          eC(this, r);
          break;
        }
        case fe.IN_TABLE_TEXT: {
          Jp(this, r);
          break;
        }
        case fe.AFTER_BODY: {
          Rwe(this, r);
          break;
        }
        case fe.AFTER_AFTER_BODY:
        case fe.AFTER_AFTER_FRAMESET: {
          Nwe(this, r);
          break;
        }
      }
    }
  }, {
    key: "onDoctype",
    value: function(r) {
      switch (this.skipNextNewLine = false, this.insertionMode) {
        case fe.INITIAL: {
          Mwe(this, r);
          break;
        }
        case fe.BEFORE_HEAD:
        case fe.IN_HEAD:
        case fe.IN_HEAD_NO_SCRIPT:
        case fe.AFTER_HEAD: {
          this._err(r, jn.ERR.misplacedDoctype);
          break;
        }
        case fe.IN_TABLE_TEXT: {
          Jp(this, r);
          break;
        }
      }
    }
  }, {
    key: "onStartTag",
    value: function(r) {
      this.skipNextNewLine = false, this.currentToken = r, this._processStartTag(r), r.selfClosing && !r.ackSelfClosing && this._err(r, jn.ERR.nonVoidHtmlElementStartTagWithTrailingSolidus);
    }
    /**
     * Processes a given start tag.
     *
     * `onStartTag` checks if a self-closing tag was recognized. When a token
     * is moved inbetween multiple insertion modes, this check for self-closing
     * could lead to false positives. To avoid this, `_processStartTag` is used
     * for nested calls.
     *
     * @param token The token to process.
     */
  }, {
    key: "_processStartTag",
    value: function(r) {
      this.shouldProcessStartTagTokenInForeignContent(r) ? nOe(this, r) : this._startTagOutsideForeignContent(r);
    }
  }, {
    key: "_startTagOutsideForeignContent",
    value: function(r) {
      switch (this.insertionMode) {
        case fe.INITIAL: {
          Qp(this, r);
          break;
        }
        case fe.BEFORE_HTML: {
          Lwe(this, r);
          break;
        }
        case fe.BEFORE_HEAD: {
          Fwe(this, r);
          break;
        }
        case fe.IN_HEAD: {
          aa(this, r);
          break;
        }
        case fe.IN_HEAD_NO_SCRIPT: {
          Uwe(this, r);
          break;
        }
        case fe.AFTER_HEAD: {
          Gwe(this, r);
          break;
        }
        case fe.IN_BODY: {
          oi(this, r);
          break;
        }
        case fe.IN_TABLE: {
          Ad(this, r);
          break;
        }
        case fe.IN_TABLE_TEXT: {
          Jp(this, r);
          break;
        }
        case fe.IN_CAPTION: {
          $Ae(this, r);
          break;
        }
        case fe.IN_COLUMN_GROUP: {
          BN(this, r);
          break;
        }
        case fe.IN_TABLE_BODY: {
          tS(this, r);
          break;
        }
        case fe.IN_ROW: {
          rS(this, r);
          break;
        }
        case fe.IN_CELL: {
          jAe(this, r);
          break;
        }
        case fe.IN_SELECT: {
          kX(this, r);
          break;
        }
        case fe.IN_SELECT_IN_TABLE: {
          zAe(this, r);
          break;
        }
        case fe.IN_TEMPLATE: {
          XAe(this, r);
          break;
        }
        case fe.AFTER_BODY: {
          YAe(this, r);
          break;
        }
        case fe.IN_FRAMESET: {
          qAe(this, r);
          break;
        }
        case fe.AFTER_FRAMESET: {
          ZAe(this, r);
          break;
        }
        case fe.AFTER_AFTER_BODY: {
          JAe(this, r);
          break;
        }
        case fe.AFTER_AFTER_FRAMESET: {
          eOe(this, r);
          break;
        }
      }
    }
  }, {
    key: "onEndTag",
    value: function(r) {
      this.skipNextNewLine = false, this.currentToken = r, this.currentNotInHTML ? iOe(this, r) : this._endTagOutsideForeignContent(r);
    }
  }, {
    key: "_endTagOutsideForeignContent",
    value: function(r) {
      switch (this.insertionMode) {
        case fe.INITIAL: {
          Qp(this, r);
          break;
        }
        case fe.BEFORE_HTML: {
          Bwe(this, r);
          break;
        }
        case fe.BEFORE_HEAD: {
          $we(this, r);
          break;
        }
        case fe.IN_HEAD: {
          Hwe(this, r);
          break;
        }
        case fe.IN_HEAD_NO_SCRIPT: {
          jwe(this, r);
          break;
        }
        case fe.AFTER_HEAD: {
          zwe(this, r);
          break;
        }
        case fe.IN_BODY: {
          eS(this, r);
          break;
        }
        case fe.TEXT: {
          CAe(this, r);
          break;
        }
        case fe.IN_TABLE: {
          sv(this, r);
          break;
        }
        case fe.IN_TABLE_TEXT: {
          Jp(this, r);
          break;
        }
        case fe.IN_CAPTION: {
          HAe(this, r);
          break;
        }
        case fe.IN_COLUMN_GROUP: {
          UAe(this, r);
          break;
        }
        case fe.IN_TABLE_BODY: {
          tC(this, r);
          break;
        }
        case fe.IN_ROW: {
          xX(this, r);
          break;
        }
        case fe.IN_CELL: {
          GAe(this, r);
          break;
        }
        case fe.IN_SELECT: {
          DX(this, r);
          break;
        }
        case fe.IN_SELECT_IN_TABLE: {
          VAe(this, r);
          break;
        }
        case fe.IN_TEMPLATE: {
          WAe(this, r);
          break;
        }
        case fe.AFTER_BODY: {
          NX(this, r);
          break;
        }
        case fe.IN_FRAMESET: {
          KAe(this, r);
          break;
        }
        case fe.AFTER_FRAMESET: {
          QAe(this, r);
          break;
        }
        case fe.AFTER_AFTER_BODY: {
          ub(this, r);
          break;
        }
      }
    }
  }, {
    key: "onEof",
    value: function(r) {
      switch (this.insertionMode) {
        case fe.INITIAL: {
          Qp(this, r);
          break;
        }
        case fe.BEFORE_HTML: {
          lg(this, r);
          break;
        }
        case fe.BEFORE_HEAD: {
          cg(this, r);
          break;
        }
        case fe.IN_HEAD: {
          ug(this, r);
          break;
        }
        case fe.IN_HEAD_NO_SCRIPT: {
          hg(this, r);
          break;
        }
        case fe.AFTER_HEAD: {
          fg(this, r);
          break;
        }
        case fe.IN_BODY:
        case fe.IN_TABLE:
        case fe.IN_CAPTION:
        case fe.IN_COLUMN_GROUP:
        case fe.IN_TABLE_BODY:
        case fe.IN_ROW:
        case fe.IN_CELL:
        case fe.IN_SELECT:
        case fe.IN_SELECT_IN_TABLE: {
          OX(this, r);
          break;
        }
        case fe.TEXT: {
          xAe(this, r);
          break;
        }
        case fe.IN_TABLE_TEXT: {
          Jp(this, r);
          break;
        }
        case fe.IN_TEMPLATE: {
          RX(this, r);
          break;
        }
        case fe.AFTER_BODY:
        case fe.IN_FRAMESET:
        case fe.AFTER_FRAMESET:
        case fe.AFTER_AFTER_BODY:
        case fe.AFTER_AFTER_FRAMESET: {
          LN(this, r);
          break;
        }
      }
    }
  }, {
    key: "onWhitespaceCharacter",
    value: function(r) {
      if (this.skipNextNewLine && (this.skipNextNewLine = false, r.chars.charCodeAt(0) === _X.CODE_POINTS.LINE_FEED)) {
        if (r.chars.length === 1)
          return;
        r.chars = r.chars.substr(1);
      }
      if (this.tokenizer.inForeignNode) {
        this._insertCharacters(r);
        return;
      }
      switch (this.insertionMode) {
        case fe.IN_HEAD:
        case fe.IN_HEAD_NO_SCRIPT:
        case fe.AFTER_HEAD:
        case fe.TEXT:
        case fe.IN_COLUMN_GROUP:
        case fe.IN_SELECT:
        case fe.IN_SELECT_IN_TABLE:
        case fe.IN_FRAMESET:
        case fe.AFTER_FRAMESET: {
          this._insertCharacters(r);
          break;
        }
        case fe.IN_BODY:
        case fe.IN_CAPTION:
        case fe.IN_CELL:
        case fe.IN_TEMPLATE:
        case fe.AFTER_BODY:
        case fe.AFTER_AFTER_BODY:
        case fe.AFTER_AFTER_FRAMESET: {
          TX(this, r);
          break;
        }
        case fe.IN_TABLE:
        case fe.IN_TABLE_BODY:
        case fe.IN_ROW: {
          oO(this, r);
          break;
        }
        case fe.IN_TABLE_TEXT: {
          IX(this, r);
          break;
        }
      }
    }
  }], [{
    key: "parse",
    value: function(r, n) {
      const i = new this(n);
      return i.tokenizer.write(r, true), i.document;
    }
  }, {
    key: "getFragmentParser",
    value: function(r, n) {
      const i = Object.assign(Object.assign({}, XH), n);
      r ?? (r = i.treeAdapter.createElement(D.TAG_NAMES.TEMPLATE, D.NS.HTML, []));
      const o = i.treeAdapter.createElement("documentmock", D.NS.HTML, []), a = new this(i, o, r);
      return a.fragmentContextID === D.TAG_ID.TEMPLATE && a.tmplInsertionModeStack.unshift(fe.IN_TEMPLATE), a._initTokenizerForFragmentParsing(), a._insertFakeRootElement(), a._resetInsertionMode(), a._findFormInFragmentContext(), a;
    }
  }]), e13;
}();
av.Parser = Owe;
function Iwe(e13, t) {
  let r = e13.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);
  return r ? e13.openElements.contains(r.element) ? e13.openElements.hasInScope(t.tagID) || (r = null) : (e13.activeFormattingElements.removeEntry(r), r = null) : AX(e13, t), r;
}
function Pwe(e13, t) {
  let r = null, n = e13.openElements.stackTop;
  for (; n >= 0; n--) {
    const i = e13.openElements.items[n];
    if (i === t.element)
      break;
    e13._isSpecialElement(i, e13.openElements.tagIDs[n]) && (r = i);
  }
  return r || (e13.openElements.shortenToLength(n < 0 ? 0 : n), e13.activeFormattingElements.removeEntry(t)), r;
}
function Cwe(e13, t, r) {
  let n = t, i = e13.openElements.getCommonAncestor(t);
  for (let o = 0, a = i; a !== r; o++, a = i) {
    i = e13.openElements.getCommonAncestor(a);
    const s = e13.activeFormattingElements.getElementEntry(a), l = s && o >= wwe;
    !s || l ? (l && e13.activeFormattingElements.removeEntry(s), e13.openElements.remove(a)) : (a = xwe(e13, s), n === t && (e13.activeFormattingElements.bookmark = s), e13.treeAdapter.detachNode(n), e13.treeAdapter.appendChild(a, n), n = a);
  }
  return n;
}
function xwe(e13, t) {
  const r = e13.treeAdapter.getNamespaceURI(t.element), n = e13.treeAdapter.createElement(t.token.tagName, r, t.token.attrs);
  return e13.openElements.replace(t.element, n), t.element = n, n;
}
function kwe(e13, t, r) {
  const n = e13.treeAdapter.getTagName(t), i = (0, D.getTagID)(n);
  if (e13._isElementCausesFosterParenting(i))
    e13._fosterParentElement(r);
  else {
    const o = e13.treeAdapter.getNamespaceURI(t);
    i === D.TAG_ID.TEMPLATE && o === D.NS.HTML && (t = e13.treeAdapter.getTemplateContent(t)), e13.treeAdapter.appendChild(t, r);
  }
}
function Dwe(e13, t, r) {
  const n = e13.treeAdapter.getNamespaceURI(r.element), {
    token: i
  } = r, o = e13.treeAdapter.createElement(i.tagName, n, i.attrs);
  e13._adoptNodes(t, o), e13.treeAdapter.appendChild(t, o), e13.activeFormattingElements.insertElementAfterBookmark(o, i), e13.activeFormattingElements.removeEntry(r), e13.openElements.remove(r.element), e13.openElements.insertAfter(t, o, i.tagID);
}
function MN(e13, t) {
  for (let r = 0; r < Swe; r++) {
    const n = Iwe(e13, t);
    if (!n)
      break;
    const i = Pwe(e13, n);
    if (!i)
      break;
    e13.activeFormattingElements.bookmark = n;
    const o = Cwe(e13, i, n.element), a = e13.openElements.getCommonAncestor(n.element);
    e13.treeAdapter.detachNode(o), a && kwe(e13, a, o), Dwe(e13, i, n);
  }
}
function eC(e13, t) {
  e13._appendCommentNode(t, e13.openElements.currentTmplContentOrNode);
}
function Rwe(e13, t) {
  e13._appendCommentNode(t, e13.openElements.items[0]);
}
function Nwe(e13, t) {
  e13._appendCommentNode(t, e13.document);
}
function LN(e13, t) {
  if (e13.stopped = true, t.location) {
    const r = e13.fragmentContext ? 0 : 2;
    for (let n = e13.openElements.stackTop; n >= r; n--)
      e13._setEndLocation(e13.openElements.items[n], t);
    if (!e13.fragmentContext && e13.openElements.stackTop >= 0) {
      const n = e13.openElements.items[0], i = e13.treeAdapter.getNodeSourceCodeLocation(n);
      if (i && !i.endTag && (e13._setEndLocation(n, t), e13.openElements.stackTop >= 1)) {
        const o = e13.openElements.items[1], a = e13.treeAdapter.getNodeSourceCodeLocation(o);
        a && !a.endTag && e13._setEndLocation(o, t);
      }
    }
  }
}
function Mwe(e13, t) {
  e13._setDocumentType(t);
  const r = t.forceQuirks ? D.DOCUMENT_MODE.QUIRKS : VH.getDocumentMode(t);
  VH.isConforming(t) || e13._err(t, jn.ERR.nonConformingDoctype), e13.treeAdapter.setDocumentMode(e13.document, r), e13.insertionMode = fe.BEFORE_HTML;
}
function Qp(e13, t) {
  e13._err(t, jn.ERR.missingDoctype, true), e13.treeAdapter.setDocumentMode(e13.document, D.DOCUMENT_MODE.QUIRKS), e13.insertionMode = fe.BEFORE_HTML, e13._processToken(t);
}
function Lwe(e13, t) {
  t.tagID === D.TAG_ID.HTML ? (e13._insertElement(t, D.NS.HTML), e13.insertionMode = fe.BEFORE_HEAD) : lg(e13, t);
}
function Bwe(e13, t) {
  const r = t.tagID;
  (r === D.TAG_ID.HTML || r === D.TAG_ID.HEAD || r === D.TAG_ID.BODY || r === D.TAG_ID.BR) && lg(e13, t);
}
function lg(e13, t) {
  e13._insertFakeRootElement(), e13.insertionMode = fe.BEFORE_HEAD, e13._processToken(t);
}
function Fwe(e13, t) {
  switch (t.tagID) {
    case D.TAG_ID.HTML: {
      oi(e13, t);
      break;
    }
    case D.TAG_ID.HEAD: {
      e13._insertElement(t, D.NS.HTML), e13.headElement = e13.openElements.current, e13.insertionMode = fe.IN_HEAD;
      break;
    }
    default:
      cg(e13, t);
  }
}
function $we(e13, t) {
  const r = t.tagID;
  r === D.TAG_ID.HEAD || r === D.TAG_ID.BODY || r === D.TAG_ID.HTML || r === D.TAG_ID.BR ? cg(e13, t) : e13._err(t, jn.ERR.endTagWithoutMatchingOpenElement);
}
function cg(e13, t) {
  e13._insertFakeElement(D.TAG_NAMES.HEAD, D.TAG_ID.HEAD), e13.headElement = e13.openElements.current, e13.insertionMode = fe.IN_HEAD, e13._processToken(t);
}
function aa(e13, t) {
  switch (t.tagID) {
    case D.TAG_ID.HTML: {
      oi(e13, t);
      break;
    }
    case D.TAG_ID.BASE:
    case D.TAG_ID.BASEFONT:
    case D.TAG_ID.BGSOUND:
    case D.TAG_ID.LINK:
    case D.TAG_ID.META: {
      e13._appendElement(t, D.NS.HTML), t.ackSelfClosing = true;
      break;
    }
    case D.TAG_ID.TITLE: {
      e13._switchToTextParsing(t, hi.TokenizerMode.RCDATA);
      break;
    }
    case D.TAG_ID.NOSCRIPT: {
      e13.options.scriptingEnabled ? e13._switchToTextParsing(t, hi.TokenizerMode.RAWTEXT) : (e13._insertElement(t, D.NS.HTML), e13.insertionMode = fe.IN_HEAD_NO_SCRIPT);
      break;
    }
    case D.TAG_ID.NOFRAMES:
    case D.TAG_ID.STYLE: {
      e13._switchToTextParsing(t, hi.TokenizerMode.RAWTEXT);
      break;
    }
    case D.TAG_ID.SCRIPT: {
      e13._switchToTextParsing(t, hi.TokenizerMode.SCRIPT_DATA);
      break;
    }
    case D.TAG_ID.TEMPLATE: {
      e13._insertTemplate(t), e13.activeFormattingElements.insertMarker(), e13.framesetOk = false, e13.insertionMode = fe.IN_TEMPLATE, e13.tmplInsertionModeStack.unshift(fe.IN_TEMPLATE);
      break;
    }
    case D.TAG_ID.HEAD: {
      e13._err(t, jn.ERR.misplacedStartTagForHeadElement);
      break;
    }
    default:
      ug(e13, t);
  }
}
function Hwe(e13, t) {
  switch (t.tagID) {
    case D.TAG_ID.HEAD: {
      e13.openElements.pop(), e13.insertionMode = fe.AFTER_HEAD;
      break;
    }
    case D.TAG_ID.BODY:
    case D.TAG_ID.BR:
    case D.TAG_ID.HTML: {
      ug(e13, t);
      break;
    }
    case D.TAG_ID.TEMPLATE: {
      th(e13, t);
      break;
    }
    default:
      e13._err(t, jn.ERR.endTagWithoutMatchingOpenElement);
  }
}
function th(e13, t) {
  e13.openElements.tmplCount > 0 ? (e13.openElements.generateImpliedEndTagsThoroughly(), e13.openElements.currentTagId !== D.TAG_ID.TEMPLATE && e13._err(t, jn.ERR.closingOfElementWithOpenChildElements), e13.openElements.popUntilTagNamePopped(D.TAG_ID.TEMPLATE), e13.activeFormattingElements.clearToLastMarker(), e13.tmplInsertionModeStack.shift(), e13._resetInsertionMode()) : e13._err(t, jn.ERR.endTagWithoutMatchingOpenElement);
}
function ug(e13, t) {
  e13.openElements.pop(), e13.insertionMode = fe.AFTER_HEAD, e13._processToken(t);
}
function Uwe(e13, t) {
  switch (t.tagID) {
    case D.TAG_ID.HTML: {
      oi(e13, t);
      break;
    }
    case D.TAG_ID.BASEFONT:
    case D.TAG_ID.BGSOUND:
    case D.TAG_ID.HEAD:
    case D.TAG_ID.LINK:
    case D.TAG_ID.META:
    case D.TAG_ID.NOFRAMES:
    case D.TAG_ID.STYLE: {
      aa(e13, t);
      break;
    }
    case D.TAG_ID.NOSCRIPT: {
      e13._err(t, jn.ERR.nestedNoscriptInHead);
      break;
    }
    default:
      hg(e13, t);
  }
}
function jwe(e13, t) {
  switch (t.tagID) {
    case D.TAG_ID.NOSCRIPT: {
      e13.openElements.pop(), e13.insertionMode = fe.IN_HEAD;
      break;
    }
    case D.TAG_ID.BR: {
      hg(e13, t);
      break;
    }
    default:
      e13._err(t, jn.ERR.endTagWithoutMatchingOpenElement);
  }
}
function hg(e13, t) {
  const r = t.type === fn.TokenType.EOF ? jn.ERR.openElementsLeftAfterEof : jn.ERR.disallowedContentInNoscriptInHead;
  e13._err(t, r), e13.openElements.pop(), e13.insertionMode = fe.IN_HEAD, e13._processToken(t);
}
function Gwe(e13, t) {
  switch (t.tagID) {
    case D.TAG_ID.HTML: {
      oi(e13, t);
      break;
    }
    case D.TAG_ID.BODY: {
      e13._insertElement(t, D.NS.HTML), e13.framesetOk = false, e13.insertionMode = fe.IN_BODY;
      break;
    }
    case D.TAG_ID.FRAMESET: {
      e13._insertElement(t, D.NS.HTML), e13.insertionMode = fe.IN_FRAMESET;
      break;
    }
    case D.TAG_ID.BASE:
    case D.TAG_ID.BASEFONT:
    case D.TAG_ID.BGSOUND:
    case D.TAG_ID.LINK:
    case D.TAG_ID.META:
    case D.TAG_ID.NOFRAMES:
    case D.TAG_ID.SCRIPT:
    case D.TAG_ID.STYLE:
    case D.TAG_ID.TEMPLATE:
    case D.TAG_ID.TITLE: {
      e13._err(t, jn.ERR.abandonedHeadElementChild), e13.openElements.push(e13.headElement, D.TAG_ID.HEAD), aa(e13, t), e13.openElements.remove(e13.headElement);
      break;
    }
    case D.TAG_ID.HEAD: {
      e13._err(t, jn.ERR.misplacedStartTagForHeadElement);
      break;
    }
    default:
      fg(e13, t);
  }
}
function zwe(e13, t) {
  switch (t.tagID) {
    case D.TAG_ID.BODY:
    case D.TAG_ID.HTML:
    case D.TAG_ID.BR: {
      fg(e13, t);
      break;
    }
    case D.TAG_ID.TEMPLATE: {
      th(e13, t);
      break;
    }
    default:
      e13._err(t, jn.ERR.endTagWithoutMatchingOpenElement);
  }
}
function fg(e13, t) {
  e13._insertFakeElement(D.TAG_NAMES.BODY, D.TAG_ID.BODY), e13.insertionMode = fe.IN_BODY, J1(e13, t);
}
function J1(e13, t) {
  switch (t.type) {
    case fn.TokenType.CHARACTER: {
      EX(e13, t);
      break;
    }
    case fn.TokenType.WHITESPACE_CHARACTER: {
      TX(e13, t);
      break;
    }
    case fn.TokenType.COMMENT: {
      eC(e13, t);
      break;
    }
    case fn.TokenType.START_TAG: {
      oi(e13, t);
      break;
    }
    case fn.TokenType.END_TAG: {
      eS(e13, t);
      break;
    }
    case fn.TokenType.EOF: {
      OX(e13, t);
      break;
    }
  }
}
function TX(e13, t) {
  e13._reconstructActiveFormattingElements(), e13._insertCharacters(t);
}
function EX(e13, t) {
  e13._reconstructActiveFormattingElements(), e13._insertCharacters(t), e13.framesetOk = false;
}
function Vwe(e13, t) {
  e13.openElements.tmplCount === 0 && e13.treeAdapter.adoptAttributes(e13.openElements.items[0], t.attrs);
}
function Xwe(e13, t) {
  const r = e13.openElements.tryPeekProperlyNestedBodyElement();
  r && e13.openElements.tmplCount === 0 && (e13.framesetOk = false, e13.treeAdapter.adoptAttributes(r, t.attrs));
}
function Wwe(e13, t) {
  const r = e13.openElements.tryPeekProperlyNestedBodyElement();
  e13.framesetOk && r && (e13.treeAdapter.detachNode(r), e13.openElements.popAllUpToHtmlElement(), e13._insertElement(t, D.NS.HTML), e13.insertionMode = fe.IN_FRAMESET);
}
function Ywe(e13, t) {
  e13.openElements.hasInButtonScope(D.TAG_ID.P) && e13._closePElement(), e13._insertElement(t, D.NS.HTML);
}
function qwe(e13, t) {
  e13.openElements.hasInButtonScope(D.TAG_ID.P) && e13._closePElement(), (0, D.isNumberedHeader)(e13.openElements.currentTagId) && e13.openElements.pop(), e13._insertElement(t, D.NS.HTML);
}
function Kwe(e13, t) {
  e13.openElements.hasInButtonScope(D.TAG_ID.P) && e13._closePElement(), e13._insertElement(t, D.NS.HTML), e13.skipNextNewLine = true, e13.framesetOk = false;
}
function Zwe(e13, t) {
  const r = e13.openElements.tmplCount > 0;
  (!e13.formElement || r) && (e13.openElements.hasInButtonScope(D.TAG_ID.P) && e13._closePElement(), e13._insertElement(t, D.NS.HTML), r || (e13.formElement = e13.openElements.current));
}
function Qwe(e13, t) {
  e13.framesetOk = false;
  const r = t.tagID;
  for (let n = e13.openElements.stackTop; n >= 0; n--) {
    const i = e13.openElements.tagIDs[n];
    if (r === D.TAG_ID.LI && i === D.TAG_ID.LI || (r === D.TAG_ID.DD || r === D.TAG_ID.DT) && (i === D.TAG_ID.DD || i === D.TAG_ID.DT)) {
      e13.openElements.generateImpliedEndTagsWithExclusion(i), e13.openElements.popUntilTagNamePopped(i);
      break;
    }
    if (i !== D.TAG_ID.ADDRESS && i !== D.TAG_ID.DIV && i !== D.TAG_ID.P && e13._isSpecialElement(e13.openElements.items[n], i))
      break;
  }
  e13.openElements.hasInButtonScope(D.TAG_ID.P) && e13._closePElement(), e13._insertElement(t, D.NS.HTML);
}
function Jwe(e13, t) {
  e13.openElements.hasInButtonScope(D.TAG_ID.P) && e13._closePElement(), e13._insertElement(t, D.NS.HTML), e13.tokenizer.state = hi.TokenizerMode.PLAINTEXT;
}
function eAe(e13, t) {
  e13.openElements.hasInScope(D.TAG_ID.BUTTON) && (e13.openElements.generateImpliedEndTags(), e13.openElements.popUntilTagNamePopped(D.TAG_ID.BUTTON)), e13._reconstructActiveFormattingElements(), e13._insertElement(t, D.NS.HTML), e13.framesetOk = false;
}
function tAe(e13, t) {
  const r = e13.activeFormattingElements.getElementEntryInScopeWithTagName(D.TAG_NAMES.A);
  r && (MN(e13, t), e13.openElements.remove(r.element), e13.activeFormattingElements.removeEntry(r)), e13._reconstructActiveFormattingElements(), e13._insertElement(t, D.NS.HTML), e13.activeFormattingElements.pushElement(e13.openElements.current, t);
}
function rAe(e13, t) {
  e13._reconstructActiveFormattingElements(), e13._insertElement(t, D.NS.HTML), e13.activeFormattingElements.pushElement(e13.openElements.current, t);
}
function nAe(e13, t) {
  e13._reconstructActiveFormattingElements(), e13.openElements.hasInScope(D.TAG_ID.NOBR) && (MN(e13, t), e13._reconstructActiveFormattingElements()), e13._insertElement(t, D.NS.HTML), e13.activeFormattingElements.pushElement(e13.openElements.current, t);
}
function iAe(e13, t) {
  e13._reconstructActiveFormattingElements(), e13._insertElement(t, D.NS.HTML), e13.activeFormattingElements.insertMarker(), e13.framesetOk = false;
}
function oAe(e13, t) {
  e13.treeAdapter.getDocumentMode(e13.document) !== D.DOCUMENT_MODE.QUIRKS && e13.openElements.hasInButtonScope(D.TAG_ID.P) && e13._closePElement(), e13._insertElement(t, D.NS.HTML), e13.framesetOk = false, e13.insertionMode = fe.IN_TABLE;
}
function SX(e13, t) {
  e13._reconstructActiveFormattingElements(), e13._appendElement(t, D.NS.HTML), e13.framesetOk = false, t.ackSelfClosing = true;
}
function wX(e13) {
  const t = (0, fn.getTokenAttr)(e13, D.ATTRS.TYPE);
  return t != null && t.toLowerCase() === Ewe;
}
function aAe(e13, t) {
  e13._reconstructActiveFormattingElements(), e13._appendElement(t, D.NS.HTML), wX(t) || (e13.framesetOk = false), t.ackSelfClosing = true;
}
function sAe(e13, t) {
  e13._appendElement(t, D.NS.HTML), t.ackSelfClosing = true;
}
function lAe(e13, t) {
  e13.openElements.hasInButtonScope(D.TAG_ID.P) && e13._closePElement(), e13._appendElement(t, D.NS.HTML), e13.framesetOk = false, t.ackSelfClosing = true;
}
function cAe(e13, t) {
  t.tagName = D.TAG_NAMES.IMG, t.tagID = D.TAG_ID.IMG, SX(e13, t);
}
function uAe(e13, t) {
  e13._insertElement(t, D.NS.HTML), e13.skipNextNewLine = true, e13.tokenizer.state = hi.TokenizerMode.RCDATA, e13.originalInsertionMode = e13.insertionMode, e13.framesetOk = false, e13.insertionMode = fe.TEXT;
}
function hAe(e13, t) {
  e13.openElements.hasInButtonScope(D.TAG_ID.P) && e13._closePElement(), e13._reconstructActiveFormattingElements(), e13.framesetOk = false, e13._switchToTextParsing(t, hi.TokenizerMode.RAWTEXT);
}
function fAe(e13, t) {
  e13.framesetOk = false, e13._switchToTextParsing(t, hi.TokenizerMode.RAWTEXT);
}
function WH(e13, t) {
  e13._switchToTextParsing(t, hi.TokenizerMode.RAWTEXT);
}
function dAe(e13, t) {
  e13._reconstructActiveFormattingElements(), e13._insertElement(t, D.NS.HTML), e13.framesetOk = false, e13.insertionMode = e13.insertionMode === fe.IN_TABLE || e13.insertionMode === fe.IN_CAPTION || e13.insertionMode === fe.IN_TABLE_BODY || e13.insertionMode === fe.IN_ROW || e13.insertionMode === fe.IN_CELL ? fe.IN_SELECT_IN_TABLE : fe.IN_SELECT;
}
function pAe(e13, t) {
  e13.openElements.currentTagId === D.TAG_ID.OPTION && e13.openElements.pop(), e13._reconstructActiveFormattingElements(), e13._insertElement(t, D.NS.HTML);
}
function mAe(e13, t) {
  e13.openElements.hasInScope(D.TAG_ID.RUBY) && e13.openElements.generateImpliedEndTags(), e13._insertElement(t, D.NS.HTML);
}
function gAe(e13, t) {
  e13.openElements.hasInScope(D.TAG_ID.RUBY) && e13.openElements.generateImpliedEndTagsWithExclusion(D.TAG_ID.RTC), e13._insertElement(t, D.NS.HTML);
}
function vAe(e13, t) {
  e13._reconstructActiveFormattingElements(), _a.adjustTokenMathMLAttrs(t), _a.adjustTokenXMLAttrs(t), t.selfClosing ? e13._appendElement(t, D.NS.MATHML) : e13._insertElement(t, D.NS.MATHML), t.ackSelfClosing = true;
}
function yAe(e13, t) {
  e13._reconstructActiveFormattingElements(), _a.adjustTokenSVGAttrs(t), _a.adjustTokenXMLAttrs(t), t.selfClosing ? e13._appendElement(t, D.NS.SVG) : e13._insertElement(t, D.NS.SVG), t.ackSelfClosing = true;
}
function YH(e13, t) {
  e13._reconstructActiveFormattingElements(), e13._insertElement(t, D.NS.HTML);
}
function oi(e13, t) {
  switch (t.tagID) {
    case D.TAG_ID.I:
    case D.TAG_ID.S:
    case D.TAG_ID.B:
    case D.TAG_ID.U:
    case D.TAG_ID.EM:
    case D.TAG_ID.TT:
    case D.TAG_ID.BIG:
    case D.TAG_ID.CODE:
    case D.TAG_ID.FONT:
    case D.TAG_ID.SMALL:
    case D.TAG_ID.STRIKE:
    case D.TAG_ID.STRONG: {
      rAe(e13, t);
      break;
    }
    case D.TAG_ID.A: {
      tAe(e13, t);
      break;
    }
    case D.TAG_ID.H1:
    case D.TAG_ID.H2:
    case D.TAG_ID.H3:
    case D.TAG_ID.H4:
    case D.TAG_ID.H5:
    case D.TAG_ID.H6: {
      qwe(e13, t);
      break;
    }
    case D.TAG_ID.P:
    case D.TAG_ID.DL:
    case D.TAG_ID.OL:
    case D.TAG_ID.UL:
    case D.TAG_ID.DIV:
    case D.TAG_ID.DIR:
    case D.TAG_ID.NAV:
    case D.TAG_ID.MAIN:
    case D.TAG_ID.MENU:
    case D.TAG_ID.ASIDE:
    case D.TAG_ID.CENTER:
    case D.TAG_ID.FIGURE:
    case D.TAG_ID.FOOTER:
    case D.TAG_ID.HEADER:
    case D.TAG_ID.HGROUP:
    case D.TAG_ID.DIALOG:
    case D.TAG_ID.DETAILS:
    case D.TAG_ID.ADDRESS:
    case D.TAG_ID.ARTICLE:
    case D.TAG_ID.SECTION:
    case D.TAG_ID.SUMMARY:
    case D.TAG_ID.FIELDSET:
    case D.TAG_ID.BLOCKQUOTE:
    case D.TAG_ID.FIGCAPTION: {
      Ywe(e13, t);
      break;
    }
    case D.TAG_ID.LI:
    case D.TAG_ID.DD:
    case D.TAG_ID.DT: {
      Qwe(e13, t);
      break;
    }
    case D.TAG_ID.BR:
    case D.TAG_ID.IMG:
    case D.TAG_ID.WBR:
    case D.TAG_ID.AREA:
    case D.TAG_ID.EMBED:
    case D.TAG_ID.KEYGEN: {
      SX(e13, t);
      break;
    }
    case D.TAG_ID.HR: {
      lAe(e13, t);
      break;
    }
    case D.TAG_ID.RB:
    case D.TAG_ID.RTC: {
      mAe(e13, t);
      break;
    }
    case D.TAG_ID.RT:
    case D.TAG_ID.RP: {
      gAe(e13, t);
      break;
    }
    case D.TAG_ID.PRE:
    case D.TAG_ID.LISTING: {
      Kwe(e13, t);
      break;
    }
    case D.TAG_ID.XMP: {
      hAe(e13, t);
      break;
    }
    case D.TAG_ID.SVG: {
      yAe(e13, t);
      break;
    }
    case D.TAG_ID.HTML: {
      Vwe(e13, t);
      break;
    }
    case D.TAG_ID.BASE:
    case D.TAG_ID.LINK:
    case D.TAG_ID.META:
    case D.TAG_ID.STYLE:
    case D.TAG_ID.TITLE:
    case D.TAG_ID.SCRIPT:
    case D.TAG_ID.BGSOUND:
    case D.TAG_ID.BASEFONT:
    case D.TAG_ID.TEMPLATE: {
      aa(e13, t);
      break;
    }
    case D.TAG_ID.BODY: {
      Xwe(e13, t);
      break;
    }
    case D.TAG_ID.FORM: {
      Zwe(e13, t);
      break;
    }
    case D.TAG_ID.NOBR: {
      nAe(e13, t);
      break;
    }
    case D.TAG_ID.MATH: {
      vAe(e13, t);
      break;
    }
    case D.TAG_ID.TABLE: {
      oAe(e13, t);
      break;
    }
    case D.TAG_ID.INPUT: {
      aAe(e13, t);
      break;
    }
    case D.TAG_ID.PARAM:
    case D.TAG_ID.TRACK:
    case D.TAG_ID.SOURCE: {
      sAe(e13, t);
      break;
    }
    case D.TAG_ID.IMAGE: {
      cAe(e13, t);
      break;
    }
    case D.TAG_ID.BUTTON: {
      eAe(e13, t);
      break;
    }
    case D.TAG_ID.APPLET:
    case D.TAG_ID.OBJECT:
    case D.TAG_ID.MARQUEE: {
      iAe(e13, t);
      break;
    }
    case D.TAG_ID.IFRAME: {
      fAe(e13, t);
      break;
    }
    case D.TAG_ID.SELECT: {
      dAe(e13, t);
      break;
    }
    case D.TAG_ID.OPTION:
    case D.TAG_ID.OPTGROUP: {
      pAe(e13, t);
      break;
    }
    case D.TAG_ID.NOEMBED: {
      WH(e13, t);
      break;
    }
    case D.TAG_ID.FRAMESET: {
      Wwe(e13, t);
      break;
    }
    case D.TAG_ID.TEXTAREA: {
      uAe(e13, t);
      break;
    }
    case D.TAG_ID.NOSCRIPT: {
      e13.options.scriptingEnabled ? WH(e13, t) : YH(e13, t);
      break;
    }
    case D.TAG_ID.PLAINTEXT: {
      Jwe(e13, t);
      break;
    }
    case D.TAG_ID.COL:
    case D.TAG_ID.TH:
    case D.TAG_ID.TD:
    case D.TAG_ID.TR:
    case D.TAG_ID.HEAD:
    case D.TAG_ID.FRAME:
    case D.TAG_ID.TBODY:
    case D.TAG_ID.TFOOT:
    case D.TAG_ID.THEAD:
    case D.TAG_ID.CAPTION:
    case D.TAG_ID.COLGROUP:
      break;
    default:
      YH(e13, t);
  }
}
function _Ae(e13, t) {
  if (e13.openElements.hasInScope(D.TAG_ID.BODY) && (e13.insertionMode = fe.AFTER_BODY, e13.options.sourceCodeLocationInfo)) {
    const r = e13.openElements.tryPeekProperlyNestedBodyElement();
    r && e13._setEndLocation(r, t);
  }
}
function bAe(e13, t) {
  e13.openElements.hasInScope(D.TAG_ID.BODY) && (e13.insertionMode = fe.AFTER_BODY, NX(e13, t));
}
function TAe(e13, t) {
  const r = t.tagID;
  e13.openElements.hasInScope(r) && (e13.openElements.generateImpliedEndTags(), e13.openElements.popUntilTagNamePopped(r));
}
function EAe(e13) {
  const t = e13.openElements.tmplCount > 0, {
    formElement: r
  } = e13;
  t || (e13.formElement = null), (r || t) && e13.openElements.hasInScope(D.TAG_ID.FORM) && (e13.openElements.generateImpliedEndTags(), t ? e13.openElements.popUntilTagNamePopped(D.TAG_ID.FORM) : r && e13.openElements.remove(r));
}
function SAe(e13) {
  e13.openElements.hasInButtonScope(D.TAG_ID.P) || e13._insertFakeElement(D.TAG_NAMES.P, D.TAG_ID.P), e13._closePElement();
}
function wAe(e13) {
  e13.openElements.hasInListItemScope(D.TAG_ID.LI) && (e13.openElements.generateImpliedEndTagsWithExclusion(D.TAG_ID.LI), e13.openElements.popUntilTagNamePopped(D.TAG_ID.LI));
}
function AAe(e13, t) {
  const r = t.tagID;
  e13.openElements.hasInScope(r) && (e13.openElements.generateImpliedEndTagsWithExclusion(r), e13.openElements.popUntilTagNamePopped(r));
}
function OAe(e13) {
  e13.openElements.hasNumberedHeaderInScope() && (e13.openElements.generateImpliedEndTags(), e13.openElements.popUntilNumberedHeaderPopped());
}
function IAe(e13, t) {
  const r = t.tagID;
  e13.openElements.hasInScope(r) && (e13.openElements.generateImpliedEndTags(), e13.openElements.popUntilTagNamePopped(r), e13.activeFormattingElements.clearToLastMarker());
}
function PAe(e13) {
  e13._reconstructActiveFormattingElements(), e13._insertFakeElement(D.TAG_NAMES.BR, D.TAG_ID.BR), e13.openElements.pop(), e13.framesetOk = false;
}
function AX(e13, t) {
  const r = t.tagName, n = t.tagID;
  for (let i = e13.openElements.stackTop; i > 0; i--) {
    const o = e13.openElements.items[i], a = e13.openElements.tagIDs[i];
    if (n === a && (n !== D.TAG_ID.UNKNOWN || e13.treeAdapter.getTagName(o) === r)) {
      e13.openElements.generateImpliedEndTagsWithExclusion(n), e13.openElements.stackTop >= i && e13.openElements.shortenToLength(i);
      break;
    }
    if (e13._isSpecialElement(o, a))
      break;
  }
}
function eS(e13, t) {
  switch (t.tagID) {
    case D.TAG_ID.A:
    case D.TAG_ID.B:
    case D.TAG_ID.I:
    case D.TAG_ID.S:
    case D.TAG_ID.U:
    case D.TAG_ID.EM:
    case D.TAG_ID.TT:
    case D.TAG_ID.BIG:
    case D.TAG_ID.CODE:
    case D.TAG_ID.FONT:
    case D.TAG_ID.NOBR:
    case D.TAG_ID.SMALL:
    case D.TAG_ID.STRIKE:
    case D.TAG_ID.STRONG: {
      MN(e13, t);
      break;
    }
    case D.TAG_ID.P: {
      SAe(e13);
      break;
    }
    case D.TAG_ID.DL:
    case D.TAG_ID.UL:
    case D.TAG_ID.OL:
    case D.TAG_ID.DIR:
    case D.TAG_ID.DIV:
    case D.TAG_ID.NAV:
    case D.TAG_ID.PRE:
    case D.TAG_ID.MAIN:
    case D.TAG_ID.MENU:
    case D.TAG_ID.ASIDE:
    case D.TAG_ID.BUTTON:
    case D.TAG_ID.CENTER:
    case D.TAG_ID.FIGURE:
    case D.TAG_ID.FOOTER:
    case D.TAG_ID.HEADER:
    case D.TAG_ID.HGROUP:
    case D.TAG_ID.DIALOG:
    case D.TAG_ID.ADDRESS:
    case D.TAG_ID.ARTICLE:
    case D.TAG_ID.DETAILS:
    case D.TAG_ID.SECTION:
    case D.TAG_ID.SUMMARY:
    case D.TAG_ID.LISTING:
    case D.TAG_ID.FIELDSET:
    case D.TAG_ID.BLOCKQUOTE:
    case D.TAG_ID.FIGCAPTION: {
      TAe(e13, t);
      break;
    }
    case D.TAG_ID.LI: {
      wAe(e13);
      break;
    }
    case D.TAG_ID.DD:
    case D.TAG_ID.DT: {
      AAe(e13, t);
      break;
    }
    case D.TAG_ID.H1:
    case D.TAG_ID.H2:
    case D.TAG_ID.H3:
    case D.TAG_ID.H4:
    case D.TAG_ID.H5:
    case D.TAG_ID.H6: {
      OAe(e13);
      break;
    }
    case D.TAG_ID.BR: {
      PAe(e13);
      break;
    }
    case D.TAG_ID.BODY: {
      _Ae(e13, t);
      break;
    }
    case D.TAG_ID.HTML: {
      bAe(e13, t);
      break;
    }
    case D.TAG_ID.FORM: {
      EAe(e13);
      break;
    }
    case D.TAG_ID.APPLET:
    case D.TAG_ID.OBJECT:
    case D.TAG_ID.MARQUEE: {
      IAe(e13, t);
      break;
    }
    case D.TAG_ID.TEMPLATE: {
      th(e13, t);
      break;
    }
    default:
      AX(e13, t);
  }
}
function OX(e13, t) {
  e13.tmplInsertionModeStack.length > 0 ? RX(e13, t) : LN(e13, t);
}
function CAe(e13, t) {
  var r;
  t.tagID === D.TAG_ID.SCRIPT && ((r = e13.scriptHandler) === null || r === void 0 || r.call(e13, e13.openElements.current)), e13.openElements.pop(), e13.insertionMode = e13.originalInsertionMode;
}
function xAe(e13, t) {
  e13._err(t, jn.ERR.eofInElementThatCanContainOnlyText), e13.openElements.pop(), e13.insertionMode = e13.originalInsertionMode, e13.onEof(t);
}
function oO(e13, t) {
  if (bX.has(e13.openElements.currentTagId))
    switch (e13.pendingCharacterTokens.length = 0, e13.hasNonWhitespacePendingCharacterToken = false, e13.originalInsertionMode = e13.insertionMode, e13.insertionMode = fe.IN_TABLE_TEXT, t.type) {
      case fn.TokenType.CHARACTER: {
        PX(e13, t);
        break;
      }
      case fn.TokenType.WHITESPACE_CHARACTER: {
        IX(e13, t);
        break;
      }
    }
  else
    iy(e13, t);
}
function kAe(e13, t) {
  e13.openElements.clearBackToTableContext(), e13.activeFormattingElements.insertMarker(), e13._insertElement(t, D.NS.HTML), e13.insertionMode = fe.IN_CAPTION;
}
function DAe(e13, t) {
  e13.openElements.clearBackToTableContext(), e13._insertElement(t, D.NS.HTML), e13.insertionMode = fe.IN_COLUMN_GROUP;
}
function RAe(e13, t) {
  e13.openElements.clearBackToTableContext(), e13._insertFakeElement(D.TAG_NAMES.COLGROUP, D.TAG_ID.COLGROUP), e13.insertionMode = fe.IN_COLUMN_GROUP, BN(e13, t);
}
function NAe(e13, t) {
  e13.openElements.clearBackToTableContext(), e13._insertElement(t, D.NS.HTML), e13.insertionMode = fe.IN_TABLE_BODY;
}
function MAe(e13, t) {
  e13.openElements.clearBackToTableContext(), e13._insertFakeElement(D.TAG_NAMES.TBODY, D.TAG_ID.TBODY), e13.insertionMode = fe.IN_TABLE_BODY, tS(e13, t);
}
function LAe(e13, t) {
  e13.openElements.hasInTableScope(D.TAG_ID.TABLE) && (e13.openElements.popUntilTagNamePopped(D.TAG_ID.TABLE), e13._resetInsertionMode(), e13._processStartTag(t));
}
function BAe(e13, t) {
  wX(t) ? e13._appendElement(t, D.NS.HTML) : iy(e13, t), t.ackSelfClosing = true;
}
function FAe(e13, t) {
  !e13.formElement && e13.openElements.tmplCount === 0 && (e13._insertElement(t, D.NS.HTML), e13.formElement = e13.openElements.current, e13.openElements.pop());
}
function Ad(e13, t) {
  switch (t.tagID) {
    case D.TAG_ID.TD:
    case D.TAG_ID.TH:
    case D.TAG_ID.TR: {
      MAe(e13, t);
      break;
    }
    case D.TAG_ID.STYLE:
    case D.TAG_ID.SCRIPT:
    case D.TAG_ID.TEMPLATE: {
      aa(e13, t);
      break;
    }
    case D.TAG_ID.COL: {
      RAe(e13, t);
      break;
    }
    case D.TAG_ID.FORM: {
      FAe(e13, t);
      break;
    }
    case D.TAG_ID.TABLE: {
      LAe(e13, t);
      break;
    }
    case D.TAG_ID.TBODY:
    case D.TAG_ID.TFOOT:
    case D.TAG_ID.THEAD: {
      NAe(e13, t);
      break;
    }
    case D.TAG_ID.INPUT: {
      BAe(e13, t);
      break;
    }
    case D.TAG_ID.CAPTION: {
      kAe(e13, t);
      break;
    }
    case D.TAG_ID.COLGROUP: {
      DAe(e13, t);
      break;
    }
    default:
      iy(e13, t);
  }
}
function sv(e13, t) {
  switch (t.tagID) {
    case D.TAG_ID.TABLE: {
      e13.openElements.hasInTableScope(D.TAG_ID.TABLE) && (e13.openElements.popUntilTagNamePopped(D.TAG_ID.TABLE), e13._resetInsertionMode());
      break;
    }
    case D.TAG_ID.TEMPLATE: {
      th(e13, t);
      break;
    }
    case D.TAG_ID.BODY:
    case D.TAG_ID.CAPTION:
    case D.TAG_ID.COL:
    case D.TAG_ID.COLGROUP:
    case D.TAG_ID.HTML:
    case D.TAG_ID.TBODY:
    case D.TAG_ID.TD:
    case D.TAG_ID.TFOOT:
    case D.TAG_ID.TH:
    case D.TAG_ID.THEAD:
    case D.TAG_ID.TR:
      break;
    default:
      iy(e13, t);
  }
}
function iy(e13, t) {
  const r = e13.fosterParentingEnabled;
  e13.fosterParentingEnabled = true, J1(e13, t), e13.fosterParentingEnabled = r;
}
function IX(e13, t) {
  e13.pendingCharacterTokens.push(t);
}
function PX(e13, t) {
  e13.pendingCharacterTokens.push(t), e13.hasNonWhitespacePendingCharacterToken = true;
}
function Jp(e13, t) {
  let r = 0;
  if (e13.hasNonWhitespacePendingCharacterToken)
    for (; r < e13.pendingCharacterTokens.length; r++)
      iy(e13, e13.pendingCharacterTokens[r]);
  else
    for (; r < e13.pendingCharacterTokens.length; r++)
      e13._insertCharacters(e13.pendingCharacterTokens[r]);
  e13.insertionMode = e13.originalInsertionMode, e13._processToken(t);
}
var CX = /* @__PURE__ */ new Set([D.TAG_ID.CAPTION, D.TAG_ID.COL, D.TAG_ID.COLGROUP, D.TAG_ID.TBODY, D.TAG_ID.TD, D.TAG_ID.TFOOT, D.TAG_ID.TH, D.TAG_ID.THEAD, D.TAG_ID.TR]);
function $Ae(e13, t) {
  const r = t.tagID;
  CX.has(r) ? e13.openElements.hasInTableScope(D.TAG_ID.CAPTION) && (e13.openElements.generateImpliedEndTags(), e13.openElements.popUntilTagNamePopped(D.TAG_ID.CAPTION), e13.activeFormattingElements.clearToLastMarker(), e13.insertionMode = fe.IN_TABLE, Ad(e13, t)) : oi(e13, t);
}
function HAe(e13, t) {
  const r = t.tagID;
  switch (r) {
    case D.TAG_ID.CAPTION:
    case D.TAG_ID.TABLE: {
      e13.openElements.hasInTableScope(D.TAG_ID.CAPTION) && (e13.openElements.generateImpliedEndTags(), e13.openElements.popUntilTagNamePopped(D.TAG_ID.CAPTION), e13.activeFormattingElements.clearToLastMarker(), e13.insertionMode = fe.IN_TABLE, r === D.TAG_ID.TABLE && sv(e13, t));
      break;
    }
    case D.TAG_ID.BODY:
    case D.TAG_ID.COL:
    case D.TAG_ID.COLGROUP:
    case D.TAG_ID.HTML:
    case D.TAG_ID.TBODY:
    case D.TAG_ID.TD:
    case D.TAG_ID.TFOOT:
    case D.TAG_ID.TH:
    case D.TAG_ID.THEAD:
    case D.TAG_ID.TR:
      break;
    default:
      eS(e13, t);
  }
}
function BN(e13, t) {
  switch (t.tagID) {
    case D.TAG_ID.HTML: {
      oi(e13, t);
      break;
    }
    case D.TAG_ID.COL: {
      e13._appendElement(t, D.NS.HTML), t.ackSelfClosing = true;
      break;
    }
    case D.TAG_ID.TEMPLATE: {
      aa(e13, t);
      break;
    }
    default:
      V0(e13, t);
  }
}
function UAe(e13, t) {
  switch (t.tagID) {
    case D.TAG_ID.COLGROUP: {
      e13.openElements.currentTagId === D.TAG_ID.COLGROUP && (e13.openElements.pop(), e13.insertionMode = fe.IN_TABLE);
      break;
    }
    case D.TAG_ID.TEMPLATE: {
      th(e13, t);
      break;
    }
    case D.TAG_ID.COL:
      break;
    default:
      V0(e13, t);
  }
}
function V0(e13, t) {
  e13.openElements.currentTagId === D.TAG_ID.COLGROUP && (e13.openElements.pop(), e13.insertionMode = fe.IN_TABLE, e13._processToken(t));
}
function tS(e13, t) {
  switch (t.tagID) {
    case D.TAG_ID.TR: {
      e13.openElements.clearBackToTableBodyContext(), e13._insertElement(t, D.NS.HTML), e13.insertionMode = fe.IN_ROW;
      break;
    }
    case D.TAG_ID.TH:
    case D.TAG_ID.TD: {
      e13.openElements.clearBackToTableBodyContext(), e13._insertFakeElement(D.TAG_NAMES.TR, D.TAG_ID.TR), e13.insertionMode = fe.IN_ROW, rS(e13, t);
      break;
    }
    case D.TAG_ID.CAPTION:
    case D.TAG_ID.COL:
    case D.TAG_ID.COLGROUP:
    case D.TAG_ID.TBODY:
    case D.TAG_ID.TFOOT:
    case D.TAG_ID.THEAD: {
      e13.openElements.hasTableBodyContextInTableScope() && (e13.openElements.clearBackToTableBodyContext(), e13.openElements.pop(), e13.insertionMode = fe.IN_TABLE, Ad(e13, t));
      break;
    }
    default:
      Ad(e13, t);
  }
}
function tC(e13, t) {
  const r = t.tagID;
  switch (t.tagID) {
    case D.TAG_ID.TBODY:
    case D.TAG_ID.TFOOT:
    case D.TAG_ID.THEAD: {
      e13.openElements.hasInTableScope(r) && (e13.openElements.clearBackToTableBodyContext(), e13.openElements.pop(), e13.insertionMode = fe.IN_TABLE);
      break;
    }
    case D.TAG_ID.TABLE: {
      e13.openElements.hasTableBodyContextInTableScope() && (e13.openElements.clearBackToTableBodyContext(), e13.openElements.pop(), e13.insertionMode = fe.IN_TABLE, sv(e13, t));
      break;
    }
    case D.TAG_ID.BODY:
    case D.TAG_ID.CAPTION:
    case D.TAG_ID.COL:
    case D.TAG_ID.COLGROUP:
    case D.TAG_ID.HTML:
    case D.TAG_ID.TD:
    case D.TAG_ID.TH:
    case D.TAG_ID.TR:
      break;
    default:
      sv(e13, t);
  }
}
function rS(e13, t) {
  switch (t.tagID) {
    case D.TAG_ID.TH:
    case D.TAG_ID.TD: {
      e13.openElements.clearBackToTableRowContext(), e13._insertElement(t, D.NS.HTML), e13.insertionMode = fe.IN_CELL, e13.activeFormattingElements.insertMarker();
      break;
    }
    case D.TAG_ID.CAPTION:
    case D.TAG_ID.COL:
    case D.TAG_ID.COLGROUP:
    case D.TAG_ID.TBODY:
    case D.TAG_ID.TFOOT:
    case D.TAG_ID.THEAD:
    case D.TAG_ID.TR: {
      e13.openElements.hasInTableScope(D.TAG_ID.TR) && (e13.openElements.clearBackToTableRowContext(), e13.openElements.pop(), e13.insertionMode = fe.IN_TABLE_BODY, tS(e13, t));
      break;
    }
    default:
      Ad(e13, t);
  }
}
function xX(e13, t) {
  switch (t.tagID) {
    case D.TAG_ID.TR: {
      e13.openElements.hasInTableScope(D.TAG_ID.TR) && (e13.openElements.clearBackToTableRowContext(), e13.openElements.pop(), e13.insertionMode = fe.IN_TABLE_BODY);
      break;
    }
    case D.TAG_ID.TABLE: {
      e13.openElements.hasInTableScope(D.TAG_ID.TR) && (e13.openElements.clearBackToTableRowContext(), e13.openElements.pop(), e13.insertionMode = fe.IN_TABLE_BODY, tC(e13, t));
      break;
    }
    case D.TAG_ID.TBODY:
    case D.TAG_ID.TFOOT:
    case D.TAG_ID.THEAD: {
      (e13.openElements.hasInTableScope(t.tagID) || e13.openElements.hasInTableScope(D.TAG_ID.TR)) && (e13.openElements.clearBackToTableRowContext(), e13.openElements.pop(), e13.insertionMode = fe.IN_TABLE_BODY, tC(e13, t));
      break;
    }
    case D.TAG_ID.BODY:
    case D.TAG_ID.CAPTION:
    case D.TAG_ID.COL:
    case D.TAG_ID.COLGROUP:
    case D.TAG_ID.HTML:
    case D.TAG_ID.TD:
    case D.TAG_ID.TH:
      break;
    default:
      sv(e13, t);
  }
}
function jAe(e13, t) {
  const r = t.tagID;
  CX.has(r) ? (e13.openElements.hasInTableScope(D.TAG_ID.TD) || e13.openElements.hasInTableScope(D.TAG_ID.TH)) && (e13._closeTableCell(), rS(e13, t)) : oi(e13, t);
}
function GAe(e13, t) {
  const r = t.tagID;
  switch (r) {
    case D.TAG_ID.TD:
    case D.TAG_ID.TH: {
      e13.openElements.hasInTableScope(r) && (e13.openElements.generateImpliedEndTags(), e13.openElements.popUntilTagNamePopped(r), e13.activeFormattingElements.clearToLastMarker(), e13.insertionMode = fe.IN_ROW);
      break;
    }
    case D.TAG_ID.TABLE:
    case D.TAG_ID.TBODY:
    case D.TAG_ID.TFOOT:
    case D.TAG_ID.THEAD:
    case D.TAG_ID.TR: {
      e13.openElements.hasInTableScope(r) && (e13._closeTableCell(), xX(e13, t));
      break;
    }
    case D.TAG_ID.BODY:
    case D.TAG_ID.CAPTION:
    case D.TAG_ID.COL:
    case D.TAG_ID.COLGROUP:
    case D.TAG_ID.HTML:
      break;
    default:
      eS(e13, t);
  }
}
function kX(e13, t) {
  switch (t.tagID) {
    case D.TAG_ID.HTML: {
      oi(e13, t);
      break;
    }
    case D.TAG_ID.OPTION: {
      e13.openElements.currentTagId === D.TAG_ID.OPTION && e13.openElements.pop(), e13._insertElement(t, D.NS.HTML);
      break;
    }
    case D.TAG_ID.OPTGROUP: {
      e13.openElements.currentTagId === D.TAG_ID.OPTION && e13.openElements.pop(), e13.openElements.currentTagId === D.TAG_ID.OPTGROUP && e13.openElements.pop(), e13._insertElement(t, D.NS.HTML);
      break;
    }
    case D.TAG_ID.INPUT:
    case D.TAG_ID.KEYGEN:
    case D.TAG_ID.TEXTAREA:
    case D.TAG_ID.SELECT: {
      e13.openElements.hasInSelectScope(D.TAG_ID.SELECT) && (e13.openElements.popUntilTagNamePopped(D.TAG_ID.SELECT), e13._resetInsertionMode(), t.tagID !== D.TAG_ID.SELECT && e13._processStartTag(t));
      break;
    }
    case D.TAG_ID.SCRIPT:
    case D.TAG_ID.TEMPLATE: {
      aa(e13, t);
      break;
    }
  }
}
function DX(e13, t) {
  switch (t.tagID) {
    case D.TAG_ID.OPTGROUP: {
      e13.openElements.stackTop > 0 && e13.openElements.currentTagId === D.TAG_ID.OPTION && e13.openElements.tagIDs[e13.openElements.stackTop - 1] === D.TAG_ID.OPTGROUP && e13.openElements.pop(), e13.openElements.currentTagId === D.TAG_ID.OPTGROUP && e13.openElements.pop();
      break;
    }
    case D.TAG_ID.OPTION: {
      e13.openElements.currentTagId === D.TAG_ID.OPTION && e13.openElements.pop();
      break;
    }
    case D.TAG_ID.SELECT: {
      e13.openElements.hasInSelectScope(D.TAG_ID.SELECT) && (e13.openElements.popUntilTagNamePopped(D.TAG_ID.SELECT), e13._resetInsertionMode());
      break;
    }
    case D.TAG_ID.TEMPLATE: {
      th(e13, t);
      break;
    }
  }
}
function zAe(e13, t) {
  const r = t.tagID;
  r === D.TAG_ID.CAPTION || r === D.TAG_ID.TABLE || r === D.TAG_ID.TBODY || r === D.TAG_ID.TFOOT || r === D.TAG_ID.THEAD || r === D.TAG_ID.TR || r === D.TAG_ID.TD || r === D.TAG_ID.TH ? (e13.openElements.popUntilTagNamePopped(D.TAG_ID.SELECT), e13._resetInsertionMode(), e13._processStartTag(t)) : kX(e13, t);
}
function VAe(e13, t) {
  const r = t.tagID;
  r === D.TAG_ID.CAPTION || r === D.TAG_ID.TABLE || r === D.TAG_ID.TBODY || r === D.TAG_ID.TFOOT || r === D.TAG_ID.THEAD || r === D.TAG_ID.TR || r === D.TAG_ID.TD || r === D.TAG_ID.TH ? e13.openElements.hasInTableScope(r) && (e13.openElements.popUntilTagNamePopped(D.TAG_ID.SELECT), e13._resetInsertionMode(), e13.onEndTag(t)) : DX(e13, t);
}
function XAe(e13, t) {
  switch (t.tagID) {
    case D.TAG_ID.BASE:
    case D.TAG_ID.BASEFONT:
    case D.TAG_ID.BGSOUND:
    case D.TAG_ID.LINK:
    case D.TAG_ID.META:
    case D.TAG_ID.NOFRAMES:
    case D.TAG_ID.SCRIPT:
    case D.TAG_ID.STYLE:
    case D.TAG_ID.TEMPLATE:
    case D.TAG_ID.TITLE: {
      aa(e13, t);
      break;
    }
    case D.TAG_ID.CAPTION:
    case D.TAG_ID.COLGROUP:
    case D.TAG_ID.TBODY:
    case D.TAG_ID.TFOOT:
    case D.TAG_ID.THEAD: {
      e13.tmplInsertionModeStack[0] = fe.IN_TABLE, e13.insertionMode = fe.IN_TABLE, Ad(e13, t);
      break;
    }
    case D.TAG_ID.COL: {
      e13.tmplInsertionModeStack[0] = fe.IN_COLUMN_GROUP, e13.insertionMode = fe.IN_COLUMN_GROUP, BN(e13, t);
      break;
    }
    case D.TAG_ID.TR: {
      e13.tmplInsertionModeStack[0] = fe.IN_TABLE_BODY, e13.insertionMode = fe.IN_TABLE_BODY, tS(e13, t);
      break;
    }
    case D.TAG_ID.TD:
    case D.TAG_ID.TH: {
      e13.tmplInsertionModeStack[0] = fe.IN_ROW, e13.insertionMode = fe.IN_ROW, rS(e13, t);
      break;
    }
    default:
      e13.tmplInsertionModeStack[0] = fe.IN_BODY, e13.insertionMode = fe.IN_BODY, oi(e13, t);
  }
}
function WAe(e13, t) {
  t.tagID === D.TAG_ID.TEMPLATE && th(e13, t);
}
function RX(e13, t) {
  e13.openElements.tmplCount > 0 ? (e13.openElements.popUntilTagNamePopped(D.TAG_ID.TEMPLATE), e13.activeFormattingElements.clearToLastMarker(), e13.tmplInsertionModeStack.shift(), e13._resetInsertionMode(), e13.onEof(t)) : LN(e13, t);
}
function YAe(e13, t) {
  t.tagID === D.TAG_ID.HTML ? oi(e13, t) : X0(e13, t);
}
function NX(e13, t) {
  var r;
  if (t.tagID === D.TAG_ID.HTML) {
    if (e13.fragmentContext || (e13.insertionMode = fe.AFTER_AFTER_BODY), e13.options.sourceCodeLocationInfo && e13.openElements.tagIDs[0] === D.TAG_ID.HTML) {
      e13._setEndLocation(e13.openElements.items[0], t);
      const n = e13.openElements.items[1];
      n && !(!((r = e13.treeAdapter.getNodeSourceCodeLocation(n)) === null || r === void 0) && r.endTag) && e13._setEndLocation(n, t);
    }
  } else
    X0(e13, t);
}
function X0(e13, t) {
  e13.insertionMode = fe.IN_BODY, J1(e13, t);
}
function qAe(e13, t) {
  switch (t.tagID) {
    case D.TAG_ID.HTML: {
      oi(e13, t);
      break;
    }
    case D.TAG_ID.FRAMESET: {
      e13._insertElement(t, D.NS.HTML);
      break;
    }
    case D.TAG_ID.FRAME: {
      e13._appendElement(t, D.NS.HTML), t.ackSelfClosing = true;
      break;
    }
    case D.TAG_ID.NOFRAMES: {
      aa(e13, t);
      break;
    }
  }
}
function KAe(e13, t) {
  t.tagID === D.TAG_ID.FRAMESET && !e13.openElements.isRootHtmlElementCurrent() && (e13.openElements.pop(), !e13.fragmentContext && e13.openElements.currentTagId !== D.TAG_ID.FRAMESET && (e13.insertionMode = fe.AFTER_FRAMESET));
}
function ZAe(e13, t) {
  switch (t.tagID) {
    case D.TAG_ID.HTML: {
      oi(e13, t);
      break;
    }
    case D.TAG_ID.NOFRAMES: {
      aa(e13, t);
      break;
    }
  }
}
function QAe(e13, t) {
  t.tagID === D.TAG_ID.HTML && (e13.insertionMode = fe.AFTER_AFTER_FRAMESET);
}
function JAe(e13, t) {
  t.tagID === D.TAG_ID.HTML ? oi(e13, t) : ub(e13, t);
}
function ub(e13, t) {
  e13.insertionMode = fe.IN_BODY, J1(e13, t);
}
function eOe(e13, t) {
  switch (t.tagID) {
    case D.TAG_ID.HTML: {
      oi(e13, t);
      break;
    }
    case D.TAG_ID.NOFRAMES: {
      aa(e13, t);
      break;
    }
  }
}
function tOe(e13, t) {
  t.chars = _X.REPLACEMENT_CHARACTER, e13._insertCharacters(t);
}
function rOe(e13, t) {
  e13._insertCharacters(t), e13.framesetOk = false;
}
function MX(e13) {
  for (; e13.treeAdapter.getNamespaceURI(e13.openElements.current) !== D.NS.HTML && !e13._isIntegrationPoint(e13.openElements.currentTagId, e13.openElements.current); )
    e13.openElements.pop();
}
function nOe(e13, t) {
  if (_a.causesExit(t))
    MX(e13), e13._startTagOutsideForeignContent(t);
  else {
    const r = e13._getAdjustedCurrentElement(), n = e13.treeAdapter.getNamespaceURI(r);
    n === D.NS.MATHML ? _a.adjustTokenMathMLAttrs(t) : n === D.NS.SVG && (_a.adjustTokenSVGTagName(t), _a.adjustTokenSVGAttrs(t)), _a.adjustTokenXMLAttrs(t), t.selfClosing ? e13._appendElement(t, n) : e13._insertElement(t, n), t.ackSelfClosing = true;
  }
}
function iOe(e13, t) {
  if (t.tagID === D.TAG_ID.P || t.tagID === D.TAG_ID.BR) {
    MX(e13), e13._endTagOutsideForeignContent(t);
    return;
  }
  for (let r = e13.openElements.stackTop; r > 0; r--) {
    const n = e13.openElements.items[r];
    if (e13.treeAdapter.getNamespaceURI(n) === D.NS.HTML) {
      e13._endTagOutsideForeignContent(t);
      break;
    }
    const i = e13.treeAdapter.getTagName(n);
    if (i.toLowerCase() === t.tagName) {
      t.tagName = i, e13.openElements.shortenToLength(r);
      break;
    }
  }
}
var Od = {};
Object.defineProperty(Od, "__esModule", {
  value: true
});
Od.serializeOuter = Od.serialize = void 0;
var Pr = Ws2;
var LX = dd;
var oOe = Q1;
var aOe = /* @__PURE__ */ new Set([Pr.TAG_NAMES.AREA, Pr.TAG_NAMES.BASE, Pr.TAG_NAMES.BASEFONT, Pr.TAG_NAMES.BGSOUND, Pr.TAG_NAMES.BR, Pr.TAG_NAMES.COL, Pr.TAG_NAMES.EMBED, Pr.TAG_NAMES.FRAME, Pr.TAG_NAMES.HR, Pr.TAG_NAMES.IMG, Pr.TAG_NAMES.INPUT, Pr.TAG_NAMES.KEYGEN, Pr.TAG_NAMES.LINK, Pr.TAG_NAMES.META, Pr.TAG_NAMES.PARAM, Pr.TAG_NAMES.SOURCE, Pr.TAG_NAMES.TRACK, Pr.TAG_NAMES.WBR]);
function BX(e13, t) {
  return t.treeAdapter.isElementNode(e13) && t.treeAdapter.getNamespaceURI(e13) === Pr.NS.HTML && aOe.has(t.treeAdapter.getTagName(e13));
}
var FX = {
  treeAdapter: oOe.defaultTreeAdapter,
  scriptingEnabled: true
};
function sOe(e13, t) {
  const r = Object.assign(Object.assign({}, FX), t);
  return BX(e13, r) ? "" : $X(e13, r);
}
Od.serialize = sOe;
function lOe(e13, t) {
  const r = Object.assign(Object.assign({}, FX), t);
  return HX(e13, r);
}
Od.serializeOuter = lOe;
function $X(e13, t) {
  let r = "";
  const n = t.treeAdapter.isElementNode(e13) && t.treeAdapter.getTagName(e13) === Pr.TAG_NAMES.TEMPLATE && t.treeAdapter.getNamespaceURI(e13) === Pr.NS.HTML ? t.treeAdapter.getTemplateContent(e13) : e13, i = t.treeAdapter.getChildNodes(n);
  if (i)
    for (const o of i)
      r += HX(o, t);
  return r;
}
function HX(e13, t) {
  return t.treeAdapter.isElementNode(e13) ? cOe(e13, t) : t.treeAdapter.isTextNode(e13) ? hOe(e13, t) : t.treeAdapter.isCommentNode(e13) ? fOe(e13, t) : t.treeAdapter.isDocumentTypeNode(e13) ? dOe(e13, t) : "";
}
function cOe(e13, t) {
  const r = t.treeAdapter.getTagName(e13);
  return `<${r}${uOe(e13, t)}>${BX(e13, t) ? "" : `${$X(e13, t)}</${r}>`}`;
}
function uOe(e13, {
  treeAdapter: t
}) {
  let r = "";
  for (const n of t.getAttrList(e13)) {
    if (r += " ", !n.namespace)
      r += n.name;
    else
      switch (n.namespace) {
        case Pr.NS.XML: {
          r += `xml:${n.name}`;
          break;
        }
        case Pr.NS.XMLNS: {
          n.name !== "xmlns" && (r += "xmlns:"), r += n.name;
          break;
        }
        case Pr.NS.XLINK: {
          r += `xlink:${n.name}`;
          break;
        }
        default:
          r += `${n.prefix}:${n.name}`;
      }
    r += `="${(0, LX.escapeAttribute)(n.value)}"`;
  }
  return r;
}
function hOe(e13, t) {
  const {
    treeAdapter: r
  } = t, n = r.getTextNodeContent(e13), i = r.getParentNode(e13), o = i && r.isElementNode(i) && r.getTagName(i);
  return o && r.getNamespaceURI(i) === Pr.NS.HTML && (0, Pr.hasUnescapedText)(o, t.scriptingEnabled) ? n : (0, LX.escapeText)(n);
}
function fOe(e13, {
  treeAdapter: t
}) {
  return `<!--${t.getCommentNodeContent(e13)}-->`;
}
function dOe(e13, {
  treeAdapter: t
}) {
  return `<!DOCTYPE ${t.getDocumentTypeNodeName(e13)}>`;
}
(function(e13) {
  Object.defineProperty(e13, "__esModule", {
    value: true
  }), e13.parseFragment = e13.parse = e13.TokenizerMode = e13.Tokenizer = e13.Token = e13.html = e13.foreignContent = e13.ErrorCodes = e13.serializeOuter = e13.serialize = e13.Parser = e13.defaultTreeAdapter = void 0;
  const t = av;
  var r = Q1;
  Object.defineProperty(e13, "defaultTreeAdapter", {
    enumerable: true,
    get: function() {
      return r.defaultTreeAdapter;
    }
  });
  var n = av;
  Object.defineProperty(e13, "Parser", {
    enumerable: true,
    get: function() {
      return n.Parser;
    }
  });
  var i = Od;
  Object.defineProperty(e13, "serialize", {
    enumerable: true,
    get: function() {
      return i.serialize;
    }
  }), Object.defineProperty(e13, "serializeOuter", {
    enumerable: true,
    get: function() {
      return i.serializeOuter;
    }
  });
  var o = ny;
  Object.defineProperty(e13, "ErrorCodes", {
    enumerable: true,
    get: function() {
      return o.ERR;
    }
  }), e13.foreignContent = NN, e13.html = Ws2, e13.Token = K1;
  var a = Tu;
  Object.defineProperty(e13, "Tokenizer", {
    enumerable: true,
    get: function() {
      return a.Tokenizer;
    }
  }), Object.defineProperty(e13, "TokenizerMode", {
    enumerable: true,
    get: function() {
      return a.TokenizerMode;
    }
  });
  function s(u, c) {
    return t.Parser.parse(u, c);
  }
  e13.parse = s;
  function l(u, c, f) {
    typeof u == "string" && (f = c, c = u, u = null);
    const h = t.Parser.getFragmentParser(u, f);
    return h.tokenizer.write(c, true), h.getFragment();
  }
  e13.parseFragment = l;
})(uX);
(function(e13) {
  Object.defineProperty(e13, "__esModule", {
    value: true
  }), e13.adapter = e13.serializeDoctypeContent = void 0;
  const t = uX, r = ri;
  function n(a) {
    return new r.Text(a);
  }
  function i(a) {
    const s = a.includes('"') ? "'" : '"';
    return s + a + s;
  }
  function o(a, s, l) {
    let u = "!DOCTYPE ";
    return a && (u += a), s ? u += ` PUBLIC ${i(s)}` : l && (u += " SYSTEM"), l && (u += ` ${i(l)}`), u;
  }
  e13.serializeDoctypeContent = o, e13.adapter = {
    // Re-exports from domhandler
    isCommentNode: r.isComment,
    isElementNode: r.isTag,
    isTextNode: r.isText,
    //Node construction
    createDocument() {
      const a = new r.Document([]);
      return a["x-mode"] = t.html.DOCUMENT_MODE.NO_QUIRKS, a;
    },
    createDocumentFragment() {
      return new r.Document([]);
    },
    createElement(a, s, l) {
      const u = /* @__PURE__ */ Object.create(null), c = /* @__PURE__ */ Object.create(null), f = /* @__PURE__ */ Object.create(null);
      for (let d = 0; d < l.length; d++) {
        const p = l[d].name;
        u[p] = l[d].value, c[p] = l[d].namespace, f[p] = l[d].prefix;
      }
      const h = new r.Element(a, u, []);
      return h.namespace = s, h["x-attribsNamespace"] = c, h["x-attribsPrefix"] = f, h;
    },
    createCommentNode(a) {
      return new r.Comment(a);
    },
    //Tree mutation
    appendChild(a, s) {
      const l = a.children[a.children.length - 1];
      l && (l.next = s, s.prev = l), a.children.push(s), s.parent = a;
    },
    insertBefore(a, s, l) {
      const u = a.children.indexOf(l), {
        prev: c
      } = l;
      c && (c.next = s, s.prev = c), l.prev = s, s.next = l, a.children.splice(u, 0, s), s.parent = a;
    },
    setTemplateContent(a, s) {
      e13.adapter.appendChild(a, s);
    },
    getTemplateContent(a) {
      return a.children[0];
    },
    setDocumentType(a, s, l, u) {
      const c = o(s, l, u);
      let f = a.children.find((h) => (0, r.isDirective)(h) && h.name === "!doctype");
      f ? f.data = c ?? null : (f = new r.ProcessingInstruction("!doctype", c), e13.adapter.appendChild(a, f)), f["x-name"] = s ?? void 0, f["x-publicId"] = l ?? void 0, f["x-systemId"] = u ?? void 0;
    },
    setDocumentMode(a, s) {
      a["x-mode"] = s;
    },
    getDocumentMode(a) {
      return a["x-mode"];
    },
    detachNode(a) {
      if (a.parent) {
        const s = a.parent.children.indexOf(a), {
          prev: l,
          next: u
        } = a;
        a.prev = null, a.next = null, l && (l.next = u), u && (u.prev = l), a.parent.children.splice(s, 1), a.parent = null;
      }
    },
    insertText(a, s) {
      const l = a.children[a.children.length - 1];
      l && (0, r.isText)(l) ? l.data += s : e13.adapter.appendChild(a, n(s));
    },
    insertTextBefore(a, s, l) {
      const u = a.children[a.children.indexOf(l) - 1];
      u && (0, r.isText)(u) ? u.data += s : e13.adapter.insertBefore(a, n(s), l);
    },
    adoptAttributes(a, s) {
      for (let l = 0; l < s.length; l++) {
        const u = s[l].name;
        typeof a.attribs[u] > "u" && (a.attribs[u] = s[l].value, a["x-attribsNamespace"][u] = s[l].namespace, a["x-attribsPrefix"][u] = s[l].prefix);
      }
    },
    //Tree traversing
    getFirstChild(a) {
      return a.children[0];
    },
    getChildNodes(a) {
      return a.children;
    },
    getParentNode(a) {
      return a.parent;
    },
    getAttrList(a) {
      return a.attributes;
    },
    //Node data
    getTagName(a) {
      return a.name;
    },
    getNamespaceURI(a) {
      return a.namespace;
    },
    getTextNodeContent(a) {
      return a.data;
    },
    getCommentNodeContent(a) {
      return a.data;
    },
    getDocumentTypeNodeName(a) {
      var s;
      return (s = a["x-name"]) !== null && s !== void 0 ? s : "";
    },
    getDocumentTypeNodePublicId(a) {
      var s;
      return (s = a["x-publicId"]) !== null && s !== void 0 ? s : "";
    },
    getDocumentTypeNodeSystemId(a) {
      var s;
      return (s = a["x-systemId"]) !== null && s !== void 0 ? s : "";
    },
    //Node types
    isDocumentTypeNode(a) {
      return (0, r.isDirective)(a) && a.name === "!doctype";
    },
    // Source code location
    setNodeSourceCodeLocation(a, s) {
      s && (a.startIndex = s.startOffset, a.endIndex = s.endOffset), a.sourceCodeLocation = s;
    },
    getNodeSourceCodeLocation(a) {
      return a.sourceCodeLocation;
    },
    updateNodeSourceCodeLocation(a, s) {
      s.endOffset != null && (a.endIndex = s.endOffset), a.sourceCodeLocation = Object.assign(Object.assign({}, a.sourceCodeLocation), s);
    }
  };
})(cX);
var pOe = De && De.__spreadArray || function(e13, t, r) {
  if (r || arguments.length === 2)
    for (var n = 0, i = t.length, o; n < i; n++)
      (o || !(n in t)) && (o || (o = Array.prototype.slice.call(t, 0, n)), o[n] = t[n]);
  return e13.concat(o || Array.prototype.slice.call(t));
};
Object.defineProperty(bd, "__esModule", {
  value: true
});
bd.renderWithParse5 = bd.parseWithParse5 = void 0;
var mOe = ri;
var rC = D2;
var UX = cX;
function gOe(e13, t, r, n) {
  var i = {
    scriptingEnabled: typeof t.scriptingEnabled == "boolean" ? t.scriptingEnabled : true,
    treeAdapter: UX.adapter,
    sourceCodeLocationInfo: t.sourceCodeLocationInfo
  };
  return r ? (0, rC.parse)(e13, i) : (0, rC.parseFragment)(n, e13, i);
}
bd.parseWithParse5 = gOe;
var vOe = {
  treeAdapter: UX.adapter
};
function yOe(e13) {
  for (var t, r = ("length" in e13) ? e13 : [e13], n = 0; n < r.length; n += 1) {
    var i = r[n];
    (0, mOe.isDocument)(i) && (t = Array.prototype.splice).call.apply(t, pOe([r, n, 1], i.children, false));
  }
  for (var o = "", n = 0; n < r.length; n += 1) {
    var i = r[n];
    o += (0, rC.serializeOuter)(i, vOe);
  }
  return o;
}
bd.renderWithParse5 = yOe;
var jX = {};
var lv = {};
var FN = {};
(function(e13) {
  Object.defineProperty(e13, "__esModule", {
    value: true
  }), e13.QuoteType = void 0;
  var t = vu, r;
  (function(h) {
    h[h.Tab = 9] = "Tab", h[h.NewLine = 10] = "NewLine", h[h.FormFeed = 12] = "FormFeed", h[h.CarriageReturn = 13] = "CarriageReturn", h[h.Space = 32] = "Space", h[h.ExclamationMark = 33] = "ExclamationMark", h[h.Number = 35] = "Number", h[h.Amp = 38] = "Amp", h[h.SingleQuote = 39] = "SingleQuote", h[h.DoubleQuote = 34] = "DoubleQuote", h[h.Dash = 45] = "Dash", h[h.Slash = 47] = "Slash", h[h.Zero = 48] = "Zero", h[h.Nine = 57] = "Nine", h[h.Semi = 59] = "Semi", h[h.Lt = 60] = "Lt", h[h.Eq = 61] = "Eq", h[h.Gt = 62] = "Gt", h[h.Questionmark = 63] = "Questionmark", h[h.UpperA = 65] = "UpperA", h[h.LowerA = 97] = "LowerA", h[h.UpperF = 70] = "UpperF", h[h.LowerF = 102] = "LowerF", h[h.UpperZ = 90] = "UpperZ", h[h.LowerZ = 122] = "LowerZ", h[h.LowerX = 120] = "LowerX", h[h.OpeningSquareBracket = 91] = "OpeningSquareBracket";
  })(r || (r = {}));
  var n;
  (function(h) {
    h[h.Text = 1] = "Text", h[h.BeforeTagName = 2] = "BeforeTagName", h[h.InTagName = 3] = "InTagName", h[h.InSelfClosingTag = 4] = "InSelfClosingTag", h[h.BeforeClosingTagName = 5] = "BeforeClosingTagName", h[h.InClosingTagName = 6] = "InClosingTagName", h[h.AfterClosingTagName = 7] = "AfterClosingTagName", h[h.BeforeAttributeName = 8] = "BeforeAttributeName", h[h.InAttributeName = 9] = "InAttributeName", h[h.AfterAttributeName = 10] = "AfterAttributeName", h[h.BeforeAttributeValue = 11] = "BeforeAttributeValue", h[h.InAttributeValueDq = 12] = "InAttributeValueDq", h[h.InAttributeValueSq = 13] = "InAttributeValueSq", h[h.InAttributeValueNq = 14] = "InAttributeValueNq", h[h.BeforeDeclaration = 15] = "BeforeDeclaration", h[h.InDeclaration = 16] = "InDeclaration", h[h.InProcessingInstruction = 17] = "InProcessingInstruction", h[h.BeforeComment = 18] = "BeforeComment", h[h.CDATASequence = 19] = "CDATASequence", h[h.InSpecialComment = 20] = "InSpecialComment", h[h.InCommentLike = 21] = "InCommentLike", h[h.BeforeSpecialS = 22] = "BeforeSpecialS", h[h.SpecialStartSequence = 23] = "SpecialStartSequence", h[h.InSpecialTag = 24] = "InSpecialTag", h[h.BeforeEntity = 25] = "BeforeEntity", h[h.BeforeNumericEntity = 26] = "BeforeNumericEntity", h[h.InNamedEntity = 27] = "InNamedEntity", h[h.InNumericEntity = 28] = "InNumericEntity", h[h.InHexEntity = 29] = "InHexEntity";
  })(n || (n = {}));
  function i(h) {
    return h === r.Space || h === r.NewLine || h === r.Tab || h === r.FormFeed || h === r.CarriageReturn;
  }
  function o(h) {
    return h === r.Slash || h === r.Gt || i(h);
  }
  function a(h) {
    return h >= r.Zero && h <= r.Nine;
  }
  function s(h) {
    return h >= r.LowerA && h <= r.LowerZ || h >= r.UpperA && h <= r.UpperZ;
  }
  function l(h) {
    return h >= r.UpperA && h <= r.UpperF || h >= r.LowerA && h <= r.LowerF;
  }
  var u;
  (function(h) {
    h[h.NoValue = 0] = "NoValue", h[h.Unquoted = 1] = "Unquoted", h[h.Single = 2] = "Single", h[h.Double = 3] = "Double";
  })(u = e13.QuoteType || (e13.QuoteType = {}));
  var c = {
    Cdata: new Uint8Array([67, 68, 65, 84, 65, 91]),
    CdataEnd: new Uint8Array([93, 93, 62]),
    CommentEnd: new Uint8Array([45, 45, 62]),
    ScriptEnd: new Uint8Array([60, 47, 115, 99, 114, 105, 112, 116]),
    StyleEnd: new Uint8Array([60, 47, 115, 116, 121, 108, 101]),
    TitleEnd: new Uint8Array([60, 47, 116, 105, 116, 108, 101])
    // `</title`
  }, f = (
    /** @class */
    function() {
      function h(d, p) {
        var m = d.xmlMode, g = m === void 0 ? false : m, v = d.decodeEntities, b = v === void 0 ? true : v;
        this.cbs = p, this.state = n.Text, this.buffer = "", this.sectionStart = 0, this.index = 0, this.baseState = n.Text, this.isSpecial = false, this.running = true, this.offset = 0, this.currentSequence = void 0, this.sequenceIndex = 0, this.trieIndex = 0, this.trieCurrent = 0, this.entityResult = 0, this.entityExcess = 0, this.xmlMode = g, this.decodeEntities = b, this.entityTrie = g ? t.xmlDecodeTree : t.htmlDecodeTree;
      }
      return h.prototype.reset = function() {
        this.state = n.Text, this.buffer = "", this.sectionStart = 0, this.index = 0, this.baseState = n.Text, this.currentSequence = void 0, this.running = true, this.offset = 0;
      }, h.prototype.write = function(d) {
        this.offset += this.buffer.length, this.buffer = d, this.parse();
      }, h.prototype.end = function() {
        this.running && this.finish();
      }, h.prototype.pause = function() {
        this.running = false;
      }, h.prototype.resume = function() {
        this.running = true, this.index < this.buffer.length + this.offset && this.parse();
      }, h.prototype.getIndex = function() {
        return this.index;
      }, h.prototype.getSectionStart = function() {
        return this.sectionStart;
      }, h.prototype.stateText = function(d) {
        d === r.Lt || !this.decodeEntities && this.fastForwardTo(r.Lt) ? (this.index > this.sectionStart && this.cbs.ontext(this.sectionStart, this.index), this.state = n.BeforeTagName, this.sectionStart = this.index) : this.decodeEntities && d === r.Amp && (this.state = n.BeforeEntity);
      }, h.prototype.stateSpecialStartSequence = function(d) {
        var p = this.sequenceIndex === this.currentSequence.length, m = p ? (
          // If we are at the end of the sequence, make sure the tag name has ended
          o(d)
        ) : (
          // Otherwise, do a case-insensitive comparison
          (d | 32) === this.currentSequence[this.sequenceIndex]
        );
        if (!m)
          this.isSpecial = false;
        else if (!p) {
          this.sequenceIndex++;
          return;
        }
        this.sequenceIndex = 0, this.state = n.InTagName, this.stateInTagName(d);
      }, h.prototype.stateInSpecialTag = function(d) {
        if (this.sequenceIndex === this.currentSequence.length) {
          if (d === r.Gt || i(d)) {
            var p = this.index - this.currentSequence.length;
            if (this.sectionStart < p) {
              var m = this.index;
              this.index = p, this.cbs.ontext(this.sectionStart, p), this.index = m;
            }
            this.isSpecial = false, this.sectionStart = p + 2, this.stateInClosingTagName(d);
            return;
          }
          this.sequenceIndex = 0;
        }
        (d | 32) === this.currentSequence[this.sequenceIndex] ? this.sequenceIndex += 1 : this.sequenceIndex === 0 ? this.currentSequence === c.TitleEnd ? this.decodeEntities && d === r.Amp && (this.state = n.BeforeEntity) : this.fastForwardTo(r.Lt) && (this.sequenceIndex = 1) : this.sequenceIndex = +(d === r.Lt);
      }, h.prototype.stateCDATASequence = function(d) {
        d === c.Cdata[this.sequenceIndex] ? ++this.sequenceIndex === c.Cdata.length && (this.state = n.InCommentLike, this.currentSequence = c.CdataEnd, this.sequenceIndex = 0, this.sectionStart = this.index + 1) : (this.sequenceIndex = 0, this.state = n.InDeclaration, this.stateInDeclaration(d));
      }, h.prototype.fastForwardTo = function(d) {
        for (; ++this.index < this.buffer.length + this.offset; )
          if (this.buffer.charCodeAt(this.index - this.offset) === d)
            return true;
        return this.index = this.buffer.length + this.offset - 1, false;
      }, h.prototype.stateInCommentLike = function(d) {
        d === this.currentSequence[this.sequenceIndex] ? ++this.sequenceIndex === this.currentSequence.length && (this.currentSequence === c.CdataEnd ? this.cbs.oncdata(this.sectionStart, this.index, 2) : this.cbs.oncomment(this.sectionStart, this.index, 2), this.sequenceIndex = 0, this.sectionStart = this.index + 1, this.state = n.Text) : this.sequenceIndex === 0 ? this.fastForwardTo(this.currentSequence[0]) && (this.sequenceIndex = 1) : d !== this.currentSequence[this.sequenceIndex - 1] && (this.sequenceIndex = 0);
      }, h.prototype.isTagStartChar = function(d) {
        return this.xmlMode ? !o(d) : s(d);
      }, h.prototype.startSpecial = function(d, p) {
        this.isSpecial = true, this.currentSequence = d, this.sequenceIndex = p, this.state = n.SpecialStartSequence;
      }, h.prototype.stateBeforeTagName = function(d) {
        if (d === r.ExclamationMark)
          this.state = n.BeforeDeclaration, this.sectionStart = this.index + 1;
        else if (d === r.Questionmark)
          this.state = n.InProcessingInstruction, this.sectionStart = this.index + 1;
        else if (this.isTagStartChar(d)) {
          var p = d | 32;
          this.sectionStart = this.index, !this.xmlMode && p === c.TitleEnd[2] ? this.startSpecial(c.TitleEnd, 3) : this.state = !this.xmlMode && p === c.ScriptEnd[2] ? n.BeforeSpecialS : n.InTagName;
        } else d === r.Slash ? this.state = n.BeforeClosingTagName : (this.state = n.Text, this.stateText(d));
      }, h.prototype.stateInTagName = function(d) {
        o(d) && (this.cbs.onopentagname(this.sectionStart, this.index), this.sectionStart = -1, this.state = n.BeforeAttributeName, this.stateBeforeAttributeName(d));
      }, h.prototype.stateBeforeClosingTagName = function(d) {
        i(d) || (d === r.Gt ? this.state = n.Text : (this.state = this.isTagStartChar(d) ? n.InClosingTagName : n.InSpecialComment, this.sectionStart = this.index));
      }, h.prototype.stateInClosingTagName = function(d) {
        (d === r.Gt || i(d)) && (this.cbs.onclosetag(this.sectionStart, this.index), this.sectionStart = -1, this.state = n.AfterClosingTagName, this.stateAfterClosingTagName(d));
      }, h.prototype.stateAfterClosingTagName = function(d) {
        (d === r.Gt || this.fastForwardTo(r.Gt)) && (this.state = n.Text, this.baseState = n.Text, this.sectionStart = this.index + 1);
      }, h.prototype.stateBeforeAttributeName = function(d) {
        d === r.Gt ? (this.cbs.onopentagend(this.index), this.isSpecial ? (this.state = n.InSpecialTag, this.sequenceIndex = 0) : this.state = n.Text, this.baseState = this.state, this.sectionStart = this.index + 1) : d === r.Slash ? this.state = n.InSelfClosingTag : i(d) || (this.state = n.InAttributeName, this.sectionStart = this.index);
      }, h.prototype.stateInSelfClosingTag = function(d) {
        d === r.Gt ? (this.cbs.onselfclosingtag(this.index), this.state = n.Text, this.baseState = n.Text, this.sectionStart = this.index + 1, this.isSpecial = false) : i(d) || (this.state = n.BeforeAttributeName, this.stateBeforeAttributeName(d));
      }, h.prototype.stateInAttributeName = function(d) {
        (d === r.Eq || o(d)) && (this.cbs.onattribname(this.sectionStart, this.index), this.sectionStart = -1, this.state = n.AfterAttributeName, this.stateAfterAttributeName(d));
      }, h.prototype.stateAfterAttributeName = function(d) {
        d === r.Eq ? this.state = n.BeforeAttributeValue : d === r.Slash || d === r.Gt ? (this.cbs.onattribend(u.NoValue, this.index), this.state = n.BeforeAttributeName, this.stateBeforeAttributeName(d)) : i(d) || (this.cbs.onattribend(u.NoValue, this.index), this.state = n.InAttributeName, this.sectionStart = this.index);
      }, h.prototype.stateBeforeAttributeValue = function(d) {
        d === r.DoubleQuote ? (this.state = n.InAttributeValueDq, this.sectionStart = this.index + 1) : d === r.SingleQuote ? (this.state = n.InAttributeValueSq, this.sectionStart = this.index + 1) : i(d) || (this.sectionStart = this.index, this.state = n.InAttributeValueNq, this.stateInAttributeValueNoQuotes(d));
      }, h.prototype.handleInAttributeValue = function(d, p) {
        d === p || !this.decodeEntities && this.fastForwardTo(p) ? (this.cbs.onattribdata(this.sectionStart, this.index), this.sectionStart = -1, this.cbs.onattribend(p === r.DoubleQuote ? u.Double : u.Single, this.index), this.state = n.BeforeAttributeName) : this.decodeEntities && d === r.Amp && (this.baseState = this.state, this.state = n.BeforeEntity);
      }, h.prototype.stateInAttributeValueDoubleQuotes = function(d) {
        this.handleInAttributeValue(d, r.DoubleQuote);
      }, h.prototype.stateInAttributeValueSingleQuotes = function(d) {
        this.handleInAttributeValue(d, r.SingleQuote);
      }, h.prototype.stateInAttributeValueNoQuotes = function(d) {
        i(d) || d === r.Gt ? (this.cbs.onattribdata(this.sectionStart, this.index), this.sectionStart = -1, this.cbs.onattribend(u.Unquoted, this.index), this.state = n.BeforeAttributeName, this.stateBeforeAttributeName(d)) : this.decodeEntities && d === r.Amp && (this.baseState = this.state, this.state = n.BeforeEntity);
      }, h.prototype.stateBeforeDeclaration = function(d) {
        d === r.OpeningSquareBracket ? (this.state = n.CDATASequence, this.sequenceIndex = 0) : this.state = d === r.Dash ? n.BeforeComment : n.InDeclaration;
      }, h.prototype.stateInDeclaration = function(d) {
        (d === r.Gt || this.fastForwardTo(r.Gt)) && (this.cbs.ondeclaration(this.sectionStart, this.index), this.state = n.Text, this.sectionStart = this.index + 1);
      }, h.prototype.stateInProcessingInstruction = function(d) {
        (d === r.Gt || this.fastForwardTo(r.Gt)) && (this.cbs.onprocessinginstruction(this.sectionStart, this.index), this.state = n.Text, this.sectionStart = this.index + 1);
      }, h.prototype.stateBeforeComment = function(d) {
        d === r.Dash ? (this.state = n.InCommentLike, this.currentSequence = c.CommentEnd, this.sequenceIndex = 2, this.sectionStart = this.index + 1) : this.state = n.InDeclaration;
      }, h.prototype.stateInSpecialComment = function(d) {
        (d === r.Gt || this.fastForwardTo(r.Gt)) && (this.cbs.oncomment(this.sectionStart, this.index, 0), this.state = n.Text, this.sectionStart = this.index + 1);
      }, h.prototype.stateBeforeSpecialS = function(d) {
        var p = d | 32;
        p === c.ScriptEnd[3] ? this.startSpecial(c.ScriptEnd, 4) : p === c.StyleEnd[3] ? this.startSpecial(c.StyleEnd, 4) : (this.state = n.InTagName, this.stateInTagName(d));
      }, h.prototype.stateBeforeEntity = function(d) {
        this.entityExcess = 1, this.entityResult = 0, d === r.Number ? this.state = n.BeforeNumericEntity : d === r.Amp || (this.trieIndex = 0, this.trieCurrent = this.entityTrie[0], this.state = n.InNamedEntity, this.stateInNamedEntity(d));
      }, h.prototype.stateInNamedEntity = function(d) {
        if (this.entityExcess += 1, this.trieIndex = (0, t.determineBranch)(this.entityTrie, this.trieCurrent, this.trieIndex + 1, d), this.trieIndex < 0) {
          this.emitNamedEntity(), this.index--;
          return;
        }
        this.trieCurrent = this.entityTrie[this.trieIndex];
        var p = this.trieCurrent & t.BinTrieFlags.VALUE_LENGTH;
        if (p) {
          var m = (p >> 14) - 1;
          if (!this.allowLegacyEntity() && d !== r.Semi)
            this.trieIndex += m;
          else {
            var g = this.index - this.entityExcess + 1;
            g > this.sectionStart && this.emitPartial(this.sectionStart, g), this.entityResult = this.trieIndex, this.trieIndex += m, this.entityExcess = 0, this.sectionStart = this.index + 1, m === 0 && this.emitNamedEntity();
          }
        }
      }, h.prototype.emitNamedEntity = function() {
        if (this.state = this.baseState, this.entityResult !== 0) {
          var d = (this.entityTrie[this.entityResult] & t.BinTrieFlags.VALUE_LENGTH) >> 14;
          switch (d) {
            case 1: {
              this.emitCodePoint(this.entityTrie[this.entityResult] & ~t.BinTrieFlags.VALUE_LENGTH);
              break;
            }
            case 2: {
              this.emitCodePoint(this.entityTrie[this.entityResult + 1]);
              break;
            }
            case 3:
              this.emitCodePoint(this.entityTrie[this.entityResult + 1]), this.emitCodePoint(this.entityTrie[this.entityResult + 2]);
          }
        }
      }, h.prototype.stateBeforeNumericEntity = function(d) {
        (d | 32) === r.LowerX ? (this.entityExcess++, this.state = n.InHexEntity) : (this.state = n.InNumericEntity, this.stateInNumericEntity(d));
      }, h.prototype.emitNumericEntity = function(d) {
        var p = this.index - this.entityExcess - 1, m = p + 2 + +(this.state === n.InHexEntity);
        m !== this.index && (p > this.sectionStart && this.emitPartial(this.sectionStart, p), this.sectionStart = this.index + Number(d), this.emitCodePoint((0, t.replaceCodePoint)(this.entityResult))), this.state = this.baseState;
      }, h.prototype.stateInNumericEntity = function(d) {
        d === r.Semi ? this.emitNumericEntity(true) : a(d) ? (this.entityResult = this.entityResult * 10 + (d - r.Zero), this.entityExcess++) : (this.allowLegacyEntity() ? this.emitNumericEntity(false) : this.state = this.baseState, this.index--);
      }, h.prototype.stateInHexEntity = function(d) {
        d === r.Semi ? this.emitNumericEntity(true) : a(d) ? (this.entityResult = this.entityResult * 16 + (d - r.Zero), this.entityExcess++) : l(d) ? (this.entityResult = this.entityResult * 16 + ((d | 32) - r.LowerA + 10), this.entityExcess++) : (this.allowLegacyEntity() ? this.emitNumericEntity(false) : this.state = this.baseState, this.index--);
      }, h.prototype.allowLegacyEntity = function() {
        return !this.xmlMode && (this.baseState === n.Text || this.baseState === n.InSpecialTag);
      }, h.prototype.cleanup = function() {
        this.running && this.sectionStart !== this.index && (this.state === n.Text || this.state === n.InSpecialTag && this.sequenceIndex === 0 ? (this.cbs.ontext(this.sectionStart, this.index), this.sectionStart = this.index) : (this.state === n.InAttributeValueDq || this.state === n.InAttributeValueSq || this.state === n.InAttributeValueNq) && (this.cbs.onattribdata(this.sectionStart, this.index), this.sectionStart = this.index));
      }, h.prototype.shouldContinue = function() {
        return this.index < this.buffer.length + this.offset && this.running;
      }, h.prototype.parse = function() {
        for (; this.shouldContinue(); ) {
          var d = this.buffer.charCodeAt(this.index - this.offset);
          switch (this.state) {
            case n.Text: {
              this.stateText(d);
              break;
            }
            case n.SpecialStartSequence: {
              this.stateSpecialStartSequence(d);
              break;
            }
            case n.InSpecialTag: {
              this.stateInSpecialTag(d);
              break;
            }
            case n.CDATASequence: {
              this.stateCDATASequence(d);
              break;
            }
            case n.InAttributeValueDq: {
              this.stateInAttributeValueDoubleQuotes(d);
              break;
            }
            case n.InAttributeName: {
              this.stateInAttributeName(d);
              break;
            }
            case n.InCommentLike: {
              this.stateInCommentLike(d);
              break;
            }
            case n.InSpecialComment: {
              this.stateInSpecialComment(d);
              break;
            }
            case n.BeforeAttributeName: {
              this.stateBeforeAttributeName(d);
              break;
            }
            case n.InTagName: {
              this.stateInTagName(d);
              break;
            }
            case n.InClosingTagName: {
              this.stateInClosingTagName(d);
              break;
            }
            case n.BeforeTagName: {
              this.stateBeforeTagName(d);
              break;
            }
            case n.AfterAttributeName: {
              this.stateAfterAttributeName(d);
              break;
            }
            case n.InAttributeValueSq: {
              this.stateInAttributeValueSingleQuotes(d);
              break;
            }
            case n.BeforeAttributeValue: {
              this.stateBeforeAttributeValue(d);
              break;
            }
            case n.BeforeClosingTagName: {
              this.stateBeforeClosingTagName(d);
              break;
            }
            case n.AfterClosingTagName: {
              this.stateAfterClosingTagName(d);
              break;
            }
            case n.BeforeSpecialS: {
              this.stateBeforeSpecialS(d);
              break;
            }
            case n.InAttributeValueNq: {
              this.stateInAttributeValueNoQuotes(d);
              break;
            }
            case n.InSelfClosingTag: {
              this.stateInSelfClosingTag(d);
              break;
            }
            case n.InDeclaration: {
              this.stateInDeclaration(d);
              break;
            }
            case n.BeforeDeclaration: {
              this.stateBeforeDeclaration(d);
              break;
            }
            case n.BeforeComment: {
              this.stateBeforeComment(d);
              break;
            }
            case n.InProcessingInstruction: {
              this.stateInProcessingInstruction(d);
              break;
            }
            case n.InNamedEntity: {
              this.stateInNamedEntity(d);
              break;
            }
            case n.BeforeEntity: {
              this.stateBeforeEntity(d);
              break;
            }
            case n.InHexEntity: {
              this.stateInHexEntity(d);
              break;
            }
            case n.InNumericEntity: {
              this.stateInNumericEntity(d);
              break;
            }
            default:
              this.stateBeforeNumericEntity(d);
          }
          this.index++;
        }
        this.cleanup();
      }, h.prototype.finish = function() {
        this.state === n.InNamedEntity && this.emitNamedEntity(), this.sectionStart < this.index && this.handleTrailingData(), this.cbs.onend();
      }, h.prototype.handleTrailingData = function() {
        var d = this.buffer.length + this.offset;
        this.state === n.InCommentLike ? this.currentSequence === c.CdataEnd ? this.cbs.oncdata(this.sectionStart, d, 0) : this.cbs.oncomment(this.sectionStart, d, 0) : this.state === n.InNumericEntity && this.allowLegacyEntity() ? this.emitNumericEntity(false) : this.state === n.InHexEntity && this.allowLegacyEntity() ? this.emitNumericEntity(false) : this.state === n.InTagName || this.state === n.BeforeAttributeName || this.state === n.BeforeAttributeValue || this.state === n.AfterAttributeName || this.state === n.InAttributeName || this.state === n.InAttributeValueSq || this.state === n.InAttributeValueDq || this.state === n.InAttributeValueNq || this.state === n.InClosingTagName || this.cbs.ontext(this.sectionStart, d);
      }, h.prototype.emitPartial = function(d, p) {
        this.baseState !== n.Text && this.baseState !== n.InSpecialTag ? this.cbs.onattribdata(d, p) : this.cbs.ontext(d, p);
      }, h.prototype.emitCodePoint = function(d) {
        this.baseState !== n.Text && this.baseState !== n.InSpecialTag ? this.cbs.onattribentity(d) : this.cbs.ontextentity(d);
      }, h;
    }()
  );
  e13.default = f;
})(FN);
var _Oe = De && De.__createBinding || (Object.create ? function(e13, t, r, n) {
  n === void 0 && (n = r);
  var i = Object.getOwnPropertyDescriptor(t, r);
  (!i || ("get" in i ? !t.__esModule : i.writable || i.configurable)) && (i = {
    enumerable: true,
    get: function() {
      return t[r];
    }
  }), Object.defineProperty(e13, n, i);
} : function(e13, t, r, n) {
  n === void 0 && (n = r), e13[n] = t[r];
});
var bOe = De && De.__setModuleDefault || (Object.create ? function(e13, t) {
  Object.defineProperty(e13, "default", {
    enumerable: true,
    value: t
  });
} : function(e13, t) {
  e13.default = t;
});
var TOe = De && De.__importStar || function(e13) {
  if (e13 && e13.__esModule)
    return e13;
  var t = {};
  if (e13 != null)
    for (var r in e13)
      r !== "default" && Object.prototype.hasOwnProperty.call(e13, r) && _Oe(t, e13, r);
  return bOe(t, e13), t;
};
Object.defineProperty(lv, "__esModule", {
  value: true
});
lv.Parser = void 0;
var h_ = TOe(FN);
var qH = vu;
var Ph = /* @__PURE__ */ new Set(["input", "option", "optgroup", "select", "button", "datalist", "textarea"]);
var _r = /* @__PURE__ */ new Set(["p"]);
var KH = /* @__PURE__ */ new Set(["thead", "tbody"]);
var ZH = /* @__PURE__ */ new Set(["dd", "dt"]);
var QH = /* @__PURE__ */ new Set(["rt", "rp"]);
var EOe = /* @__PURE__ */ new Map([["tr", /* @__PURE__ */ new Set(["tr", "th", "td"])], ["th", /* @__PURE__ */ new Set(["th"])], ["td", /* @__PURE__ */ new Set(["thead", "th", "td"])], ["body", /* @__PURE__ */ new Set(["head", "link", "script"])], ["li", /* @__PURE__ */ new Set(["li"])], ["p", _r], ["h1", _r], ["h2", _r], ["h3", _r], ["h4", _r], ["h5", _r], ["h6", _r], ["select", Ph], ["input", Ph], ["output", Ph], ["button", Ph], ["datalist", Ph], ["textarea", Ph], ["option", /* @__PURE__ */ new Set(["option"])], ["optgroup", /* @__PURE__ */ new Set(["optgroup", "option"])], ["dd", ZH], ["dt", ZH], ["address", _r], ["article", _r], ["aside", _r], ["blockquote", _r], ["details", _r], ["div", _r], ["dl", _r], ["fieldset", _r], ["figcaption", _r], ["figure", _r], ["footer", _r], ["form", _r], ["header", _r], ["hr", _r], ["main", _r], ["nav", _r], ["ol", _r], ["pre", _r], ["section", _r], ["table", _r], ["ul", _r], ["rt", QH], ["rp", QH], ["tbody", KH], ["tfoot", KH]]);
var SOe = /* @__PURE__ */ new Set(["area", "base", "basefont", "br", "col", "command", "embed", "frame", "hr", "img", "input", "isindex", "keygen", "link", "meta", "param", "source", "track", "wbr"]);
var JH = /* @__PURE__ */ new Set(["math", "svg"]);
var e32 = /* @__PURE__ */ new Set(["mi", "mo", "mn", "ms", "mtext", "annotation-xml", "foreignobject", "desc", "title"]);
var wOe = /\s|\//;
var AOe = (
  /** @class */
  function() {
    function e13(t, r) {
      r === void 0 && (r = {});
      var n, i, o, a, s;
      this.options = r, this.startIndex = 0, this.endIndex = 0, this.openTagStart = 0, this.tagname = "", this.attribname = "", this.attribvalue = "", this.attribs = null, this.stack = [], this.foreignContext = [], this.buffers = [], this.bufferOffset = 0, this.writeIndex = 0, this.ended = false, this.cbs = t ?? {}, this.lowerCaseTagNames = (n = r.lowerCaseTags) !== null && n !== void 0 ? n : !r.xmlMode, this.lowerCaseAttributeNames = (i = r.lowerCaseAttributeNames) !== null && i !== void 0 ? i : !r.xmlMode, this.tokenizer = new ((o = r.Tokenizer) !== null && o !== void 0 ? o : h_.default)(this.options, this), (s = (a = this.cbs).onparserinit) === null || s === void 0 || s.call(a, this);
    }
    return e13.prototype.ontext = function(t, r) {
      var n, i, o = this.getSlice(t, r);
      this.endIndex = r - 1, (i = (n = this.cbs).ontext) === null || i === void 0 || i.call(n, o), this.startIndex = r;
    }, e13.prototype.ontextentity = function(t) {
      var r, n, i = this.tokenizer.getSectionStart();
      this.endIndex = i - 1, (n = (r = this.cbs).ontext) === null || n === void 0 || n.call(r, (0, qH.fromCodePoint)(t)), this.startIndex = i;
    }, e13.prototype.isVoidElement = function(t) {
      return !this.options.xmlMode && SOe.has(t);
    }, e13.prototype.onopentagname = function(t, r) {
      this.endIndex = r;
      var n = this.getSlice(t, r);
      this.lowerCaseTagNames && (n = n.toLowerCase()), this.emitOpenTag(n);
    }, e13.prototype.emitOpenTag = function(t) {
      var r, n, i, o;
      this.openTagStart = this.startIndex, this.tagname = t;
      var a = !this.options.xmlMode && EOe.get(t);
      if (a)
        for (; this.stack.length > 0 && a.has(this.stack[this.stack.length - 1]); ) {
          var s = this.stack.pop();
          (n = (r = this.cbs).onclosetag) === null || n === void 0 || n.call(r, s, true);
        }
      this.isVoidElement(t) || (this.stack.push(t), JH.has(t) ? this.foreignContext.push(true) : e32.has(t) && this.foreignContext.push(false)), (o = (i = this.cbs).onopentagname) === null || o === void 0 || o.call(i, t), this.cbs.onopentag && (this.attribs = {});
    }, e13.prototype.endOpenTag = function(t) {
      var r, n;
      this.startIndex = this.openTagStart, this.attribs && ((n = (r = this.cbs).onopentag) === null || n === void 0 || n.call(r, this.tagname, this.attribs, t), this.attribs = null), this.cbs.onclosetag && this.isVoidElement(this.tagname) && this.cbs.onclosetag(this.tagname, true), this.tagname = "";
    }, e13.prototype.onopentagend = function(t) {
      this.endIndex = t, this.endOpenTag(false), this.startIndex = t + 1;
    }, e13.prototype.onclosetag = function(t, r) {
      var n, i, o, a, s, l;
      this.endIndex = r;
      var u = this.getSlice(t, r);
      if (this.lowerCaseTagNames && (u = u.toLowerCase()), (JH.has(u) || e32.has(u)) && this.foreignContext.pop(), this.isVoidElement(u))
        !this.options.xmlMode && u === "br" && ((i = (n = this.cbs).onopentagname) === null || i === void 0 || i.call(n, "br"), (a = (o = this.cbs).onopentag) === null || a === void 0 || a.call(o, "br", {}, true), (l = (s = this.cbs).onclosetag) === null || l === void 0 || l.call(s, "br", false));
      else {
        var c = this.stack.lastIndexOf(u);
        if (c !== -1)
          if (this.cbs.onclosetag)
            for (var f = this.stack.length - c; f--; )
              this.cbs.onclosetag(this.stack.pop(), f !== 0);
          else
            this.stack.length = c;
        else !this.options.xmlMode && u === "p" && (this.emitOpenTag("p"), this.closeCurrentTag(true));
      }
      this.startIndex = r + 1;
    }, e13.prototype.onselfclosingtag = function(t) {
      this.endIndex = t, this.options.xmlMode || this.options.recognizeSelfClosing || this.foreignContext[this.foreignContext.length - 1] ? (this.closeCurrentTag(false), this.startIndex = t + 1) : this.onopentagend(t);
    }, e13.prototype.closeCurrentTag = function(t) {
      var r, n, i = this.tagname;
      this.endOpenTag(t), this.stack[this.stack.length - 1] === i && ((n = (r = this.cbs).onclosetag) === null || n === void 0 || n.call(r, i, !t), this.stack.pop());
    }, e13.prototype.onattribname = function(t, r) {
      this.startIndex = t;
      var n = this.getSlice(t, r);
      this.attribname = this.lowerCaseAttributeNames ? n.toLowerCase() : n;
    }, e13.prototype.onattribdata = function(t, r) {
      this.attribvalue += this.getSlice(t, r);
    }, e13.prototype.onattribentity = function(t) {
      this.attribvalue += (0, qH.fromCodePoint)(t);
    }, e13.prototype.onattribend = function(t, r) {
      var n, i;
      this.endIndex = r, (i = (n = this.cbs).onattribute) === null || i === void 0 || i.call(n, this.attribname, this.attribvalue, t === h_.QuoteType.Double ? '"' : t === h_.QuoteType.Single ? "'" : t === h_.QuoteType.NoValue ? void 0 : null), this.attribs && !Object.prototype.hasOwnProperty.call(this.attribs, this.attribname) && (this.attribs[this.attribname] = this.attribvalue), this.attribvalue = "";
    }, e13.prototype.getInstructionName = function(t) {
      var r = t.search(wOe), n = r < 0 ? t : t.substr(0, r);
      return this.lowerCaseTagNames && (n = n.toLowerCase()), n;
    }, e13.prototype.ondeclaration = function(t, r) {
      this.endIndex = r;
      var n = this.getSlice(t, r);
      if (this.cbs.onprocessinginstruction) {
        var i = this.getInstructionName(n);
        this.cbs.onprocessinginstruction("!".concat(i), "!".concat(n));
      }
      this.startIndex = r + 1;
    }, e13.prototype.onprocessinginstruction = function(t, r) {
      this.endIndex = r;
      var n = this.getSlice(t, r);
      if (this.cbs.onprocessinginstruction) {
        var i = this.getInstructionName(n);
        this.cbs.onprocessinginstruction("?".concat(i), "?".concat(n));
      }
      this.startIndex = r + 1;
    }, e13.prototype.oncomment = function(t, r, n) {
      var i, o, a, s;
      this.endIndex = r, (o = (i = this.cbs).oncomment) === null || o === void 0 || o.call(i, this.getSlice(t, r - n)), (s = (a = this.cbs).oncommentend) === null || s === void 0 || s.call(a), this.startIndex = r + 1;
    }, e13.prototype.oncdata = function(t, r, n) {
      var i, o, a, s, l, u, c, f, h, d;
      this.endIndex = r;
      var p = this.getSlice(t, r - n);
      this.options.xmlMode || this.options.recognizeCDATA ? ((o = (i = this.cbs).oncdatastart) === null || o === void 0 || o.call(i), (s = (a = this.cbs).ontext) === null || s === void 0 || s.call(a, p), (u = (l = this.cbs).oncdataend) === null || u === void 0 || u.call(l)) : ((f = (c = this.cbs).oncomment) === null || f === void 0 || f.call(c, "[CDATA[".concat(p, "]]")), (d = (h = this.cbs).oncommentend) === null || d === void 0 || d.call(h)), this.startIndex = r + 1;
    }, e13.prototype.onend = function() {
      var t, r;
      if (this.cbs.onclosetag) {
        this.endIndex = this.startIndex;
        for (var n = this.stack.length; n > 0; this.cbs.onclosetag(this.stack[--n], true))
          ;
      }
      (r = (t = this.cbs).onend) === null || r === void 0 || r.call(t);
    }, e13.prototype.reset = function() {
      var t, r, n, i;
      (r = (t = this.cbs).onreset) === null || r === void 0 || r.call(t), this.tokenizer.reset(), this.tagname = "", this.attribname = "", this.attribs = null, this.stack.length = 0, this.startIndex = 0, this.endIndex = 0, (i = (n = this.cbs).onparserinit) === null || i === void 0 || i.call(n, this), this.buffers.length = 0, this.bufferOffset = 0, this.writeIndex = 0, this.ended = false;
    }, e13.prototype.parseComplete = function(t) {
      this.reset(), this.end(t);
    }, e13.prototype.getSlice = function(t, r) {
      for (; t - this.bufferOffset >= this.buffers[0].length; )
        this.shiftBuffer();
      for (var n = this.buffers[0].slice(t - this.bufferOffset, r - this.bufferOffset); r - this.bufferOffset > this.buffers[0].length; )
        this.shiftBuffer(), n += this.buffers[0].slice(0, r - this.bufferOffset);
      return n;
    }, e13.prototype.shiftBuffer = function() {
      this.bufferOffset += this.buffers[0].length, this.writeIndex--, this.buffers.shift();
    }, e13.prototype.write = function(t) {
      var r, n;
      if (this.ended) {
        (n = (r = this.cbs).onerror) === null || n === void 0 || n.call(r, new Error(".write() after done!"));
        return;
      }
      this.buffers.push(t), this.tokenizer.running && (this.tokenizer.write(t), this.writeIndex++);
    }, e13.prototype.end = function(t) {
      var r, n;
      if (this.ended) {
        (n = (r = this.cbs).onerror) === null || n === void 0 || n.call(r, new Error(".end() after done!"));
        return;
      }
      t && this.write(t), this.ended = true, this.tokenizer.end();
    }, e13.prototype.pause = function() {
      this.tokenizer.pause();
    }, e13.prototype.resume = function() {
      for (this.tokenizer.resume(); this.tokenizer.running && this.writeIndex < this.buffers.length; )
        this.tokenizer.write(this.buffers[this.writeIndex++]);
      this.ended && this.tokenizer.end();
    }, e13.prototype.parseChunk = function(t) {
      this.write(t);
    }, e13.prototype.done = function(t) {
      this.end(t);
    }, e13;
  }()
);
lv.Parser = AOe;
(function(e13) {
  var t = De && De.__createBinding || (Object.create ? function(v, b, y, _) {
    _ === void 0 && (_ = y);
    var T = Object.getOwnPropertyDescriptor(b, y);
    (!T || ("get" in T ? !b.__esModule : T.writable || T.configurable)) && (T = {
      enumerable: true,
      get: function() {
        return b[y];
      }
    }), Object.defineProperty(v, _, T);
  } : function(v, b, y, _) {
    _ === void 0 && (_ = y), v[_] = b[y];
  }), r = De && De.__setModuleDefault || (Object.create ? function(v, b) {
    Object.defineProperty(v, "default", {
      enumerable: true,
      value: b
    });
  } : function(v, b) {
    v.default = b;
  }), n = De && De.__importStar || function(v) {
    if (v && v.__esModule)
      return v;
    var b = {};
    if (v != null)
      for (var y in v)
        y !== "default" && Object.prototype.hasOwnProperty.call(v, y) && t(b, v, y);
    return r(b, v), b;
  }, i = De && De.__importDefault || function(v) {
    return v && v.__esModule ? v : {
      default: v
    };
  };
  Object.defineProperty(e13, "__esModule", {
    value: true
  }), e13.DomUtils = e13.parseFeed = e13.getFeed = e13.ElementType = e13.Tokenizer = e13.createDomStream = e13.parseDOM = e13.parseDocument = e13.DefaultHandler = e13.DomHandler = e13.Parser = void 0;
  var o = lv, a = lv;
  Object.defineProperty(e13, "Parser", {
    enumerable: true,
    get: function() {
      return a.Parser;
    }
  });
  var s = ri, l = ri;
  Object.defineProperty(e13, "DomHandler", {
    enumerable: true,
    get: function() {
      return l.DomHandler;
    }
  }), Object.defineProperty(e13, "DefaultHandler", {
    enumerable: true,
    get: function() {
      return l.DomHandler;
    }
  });
  function u(v, b) {
    var y = new s.DomHandler(void 0, b);
    return new o.Parser(y, b).end(v), y.root;
  }
  e13.parseDocument = u;
  function c(v, b) {
    return u(v, b).children;
  }
  e13.parseDOM = c;
  function f(v, b, y) {
    var _ = new s.DomHandler(v, b, y);
    return new o.Parser(_, b);
  }
  e13.createDomStream = f;
  var h = FN;
  Object.defineProperty(e13, "Tokenizer", {
    enumerable: true,
    get: function() {
      return i(h).default;
    }
  }), e13.ElementType = n(op);
  var d = Ko, p = Ko;
  Object.defineProperty(e13, "getFeed", {
    enumerable: true,
    get: function() {
      return p.getFeed;
    }
  });
  var m = {
    xmlMode: true
  };
  function g(v, b) {
    return b === void 0 && (b = m), (0, d.getFeed)(c(v, b));
  }
  e13.parseFeed = g, e13.DomUtils = n(Ko);
})(jX);
(function(e13) {
  var t = De && De.__createBinding || (Object.create ? function(p, m, g, v) {
    v === void 0 && (v = g);
    var b = Object.getOwnPropertyDescriptor(m, g);
    (!b || ("get" in b ? !m.__esModule : b.writable || b.configurable)) && (b = {
      enumerable: true,
      get: function() {
        return m[g];
      }
    }), Object.defineProperty(p, v, b);
  } : function(p, m, g, v) {
    v === void 0 && (v = g), p[v] = m[g];
  }), r = De && De.__setModuleDefault || (Object.create ? function(p, m) {
    Object.defineProperty(p, "default", {
      enumerable: true,
      value: m
    });
  } : function(p, m) {
    p.default = m;
  }), n = De && De.__exportStar || function(p, m) {
    for (var g in p)
      g !== "default" && !Object.prototype.hasOwnProperty.call(m, g) && t(m, p, g);
  }, i = De && De.__importStar || function(p) {
    if (p && p.__esModule)
      return p;
    var m = {};
    if (p != null)
      for (var g in p)
        g !== "default" && Object.prototype.hasOwnProperty.call(p, g) && t(m, p, g);
    return r(m, p), m;
  }, o = De && De.__importDefault || function(p) {
    return p && p.__esModule ? p : {
      default: p
    };
  };
  Object.defineProperty(e13, "__esModule", {
    value: true
  }), e13.root = e13.parseHTML = e13.merge = e13.contains = e13.text = e13.xml = e13.html = e13.load = void 0, n(R7, e13);
  var a = w1, s = _u, l = bd, u = o(ap), c = jX, f = (0, s.getParse)(function(p, m, g, v) {
    return m.xmlMode || m._useHtmlParser2 ? (0, c.parseDocument)(p, m) : (0, l.parseWithParse5)(p, m, g, v);
  });
  e13.load = (0, a.getLoad)(f, function(p, m) {
    return m.xmlMode || m._useHtmlParser2 ? (0, u.default)(p, m) : (0, l.renderWithParse5)(p);
  }), e13.default = (0, e13.load)([]);
  var h = tn;
  Object.defineProperty(e13, "html", {
    enumerable: true,
    get: function() {
      return h.html;
    }
  }), Object.defineProperty(e13, "xml", {
    enumerable: true,
    get: function() {
      return h.xml;
    }
  }), Object.defineProperty(e13, "text", {
    enumerable: true,
    get: function() {
      return h.text;
    }
  });
  var d = i(tn);
  e13.contains = d.contains, e13.merge = d.merge, e13.parseHTML = d.parseHTML, e13.root = d.root;
})(D7);
var rh = {};
var nS = {};
var OOe = /* @__PURE__ */ function() {
  function e13(t, r) {
    for (var n = 0; n < r.length; n++) {
      var i = r[n];
      i.enumerable = i.enumerable || false, i.configurable = true, "value" in i && (i.writable = true), Object.defineProperty(t, i.key, i);
    }
  }
  return function(t, r, n) {
    return r && e13(t.prototype, r), n && e13(t, n), t;
  };
}();
function IOe(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function f_(e13, t) {
  return new Error(String(e13) + " is a required method of " + String(t) + ", but was not implemented.");
}
var GX = function() {
  function e13() {
    IOe(this, e13), this.options = {};
  }
  return OOe(e13, [{
    key: "createRenderer",
    value: /* @__PURE__ */ function() {
      function t(r) {
        throw f_("createRenderer", "EnzymeAdapter");
      }
      return t;
    }()
    // converts an RSTNode to the corresponding JSX Pragma Element. This will be needed
    // in order to implement the `Wrapper.mount()` and `Wrapper.shallow()` methods, but should
    // be pretty straightforward for people to implement.
    // eslint-disable-next-line class-methods-use-this, no-unused-vars
  }, {
    key: "nodeToElement",
    value: /* @__PURE__ */ function() {
      function t(r) {
        throw f_("nodeToElement", "EnzymeAdapter");
      }
      return t;
    }()
    // eslint-disable-next-line class-methods-use-this
  }, {
    key: "matchesElementType",
    value: /* @__PURE__ */ function() {
      function t(r, n) {
        if (!r)
          return r;
        var i = r.type;
        return i === n;
      }
      return t;
    }()
    // eslint-disable-next-line class-methods-use-this, no-unused-vars
  }, {
    key: "isValidElement",
    value: /* @__PURE__ */ function() {
      function t(r) {
        throw f_("isValidElement", "EnzymeAdapter");
      }
      return t;
    }()
    // eslint-disable-next-line class-methods-use-this, no-unused-vars
  }, {
    key: "createElement",
    value: /* @__PURE__ */ function() {
      function t(r, n) {
        throw f_("createElement", "EnzymeAdapter");
      }
      return t;
    }()
    // eslint-disable-next-line class-methods-use-this
  }, {
    key: "invokeSetStateCallback",
    value: /* @__PURE__ */ function() {
      function t(r, n) {
        n.call(r);
      }
      return t;
    }()
  }]), e13;
}();
GX.MODES = {
  STRING: "string",
  MOUNT: "mount",
  SHALLOW: "shallow"
};
var zX = GX;
(function(e13) {
  Object.defineProperty(e13, "__esModule", {
    value: true
  }), e13.default = i;
  var t = zX, r = n(t);
  function n(o) {
    return o && o.__esModule ? o : {
      default: o
    };
  }
  function i(o) {
    if (!o)
      throw new Error(`
      Enzyme Internal Error: Enzyme expects an adapter to be configured, but found none.
      To configure an adapter, you should call \`Enzyme.configure({ adapter: new Adapter() })\`
      before using any of Enzyme's top level APIs, where \`Adapter\` is the adapter
      corresponding to the library currently being tested. For example:

      import Adapter from 'enzyme-adapter-react-15';

      To find out more about this, see https://airbnb.io/enzyme/docs/installation/index.html
    `);
    if (typeof o == "function")
      throw Object.getPrototypeOf(o) === r.default ? new Error(`
        Enzyme Internal Error: Enzyme expects an adapter instance to be configured -
        you provided an adapter *constructor*.
        To configure an adapter, you should call \`Enzyme.configure({ adapter: new Adapter() })\`
        before using any of Enzyme's top level APIs, where \`Adapter\` is the adapter
        corresponding to the library currently being tested. For example:

        import Adapter from 'enzyme-adapter-react-15';

        To find out more about this, see https://airbnb.io/enzyme/docs/installation/index.html
      `) : new Error(`
      Enzyme Internal Error: Enzyme expects an adapter to be configured -
      an enzyme adapter must be an object instance; you provided a function.
      To configure an adapter, you should call \`Enzyme.configure({ adapter: new Adapter() })\`
      before using any of Enzyme's top level APIs, where \`Adapter\` is the adapter
      corresponding to the library currently being tested. For example:

      import Adapter from 'enzyme-adapter-react-15';

      To find out more about this, see https://airbnb.io/enzyme/docs/installation/index.html
    `);
    if (!(o instanceof r.default))
      throw new Error("Enzyme Internal Error: configured enzyme adapter did not inherit from the EnzymeAdapter base class");
  }
})(nS);
Object.defineProperty(rh, "__esModule", {
  value: true
});
rh.get = kOe;
rh.merge = WX;
rh.reset = DOe;
var POe = tp;
var VX = XX(POe);
var COe = nS;
var xOe = XX(COe);
function XX(e13) {
  return e13 && e13.__esModule ? e13 : {
    default: e13
  };
}
var $N = {};
function kOe() {
  return (0, VX.default)({}, $N);
}
function WX(e13) {
  e13.adapter && (0, xOe.default)(e13.adapter), (0, VX.default)($N, e13);
}
function DOe() {
  var e13 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
  $N = {}, WX(e13);
}
var _n = {};
var nC = { exports: {} };
(function(e13, t) {
  Object.defineProperty(t, "__esModule", {
    value: true
  });
  var r = function(n) {
    function i(o, a) {
      return n.apply(this, arguments);
    }
    return i.toString = function() {
      return n.toString();
    }, i;
  }(function(n, i) {
    return typeof n != "object" || n === null || typeof i != "object" || i === null ? false : Object.keys(i).every(function(o) {
      if (!n.propertyIsEnumerable(o))
        return false;
      var a = i[o], s = n[o];
      return !(typeof a == "object" && a !== null ? !r(s, a) : s !== a);
    });
  });
  t.default = r, e13.exports = t.default;
})(nC, nC.exports);
var ROe = nC.exports;
var ac = {};
(function(e13) {
  Object.defineProperty(e13, "__esModule", {
    value: true
  }), e13.default = o;
  var t = nS, r = i(t), n = rh;
  function i(a) {
    return a && a.__esModule ? a : {
      default: a
    };
  }
  function o() {
    var a = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
    if (a.adapter)
      return (0, r.default)(a.adapter), a.adapter;
    var s = (0, n.get)(), l = s.adapter;
    return (0, r.default)(l), l;
  }
})(ac);
Object.defineProperty(_n, "__esModule", {
  value: true
});
var NOe = /* @__PURE__ */ function() {
  function e13(t, r) {
    var n = [], i = true, o = false, a = void 0;
    try {
      for (var s = t[Symbol.iterator](), l; !(i = (l = s.next()).done) && (n.push(l.value), !(r && n.length === r)); i = true)
        ;
    } catch (u) {
      o = true, a = u;
    } finally {
      try {
        !i && s.return && s.return();
      } finally {
        if (o)
          throw a;
      }
    }
    return n;
  }
  return function(t, r) {
    if (Array.isArray(t))
      return t;
    if (Symbol.iterator in Object(t))
      return e13(t, r);
    throw new TypeError("Invalid attempt to destructure non-iterable instance");
  };
}();
_n.propsOfNode = iS;
_n.childrenOfNode = up;
_n.hasClassName = KOe;
_n.treeForEach = HN;
_n.treeFilter = UN;
_n.findParentNode = ZOe;
_n.pathToNode = YX;
_n.parentsOfNode = JOe;
_n.nodeHasId = eIe;
_n.nodeMatchesObjectProps = iIe;
_n.getTextFromNode = qX;
_n.getTextFromHostNodes = KX;
_n.getHTMLFromHostNodes = ZX;
var MOe = tp;
var LOe = nh(MOe);
var BOe = Xv;
var t3 = nh(BOe);
var FOe = E7;
var $Oe = nh(FOe);
var HOe = ROe;
var UOe = nh(HOe);
var jOe = mN;
var GOe = nh(jOe);
var zOe = qV;
var VOe = nh(zOe);
var XOe = ac;
var WOe = nh(XOe);
function nh(e13) {
  return e13 && e13.__esModule ? e13 : {
    default: e13
  };
}
function YOe(e13, t, r) {
  return t in e13 ? Object.defineProperty(e13, t, {
    value: r,
    enumerable: true,
    configurable: true,
    writable: true
  }) : e13[t] = r, e13;
}
function qOe(e13) {
  if (Array.isArray(e13)) {
    for (var t = 0, r = Array(e13.length); t < e13.length; t++)
      r[t] = e13[t];
    return r;
  } else
    return Array.from(e13);
}
function iS(e13) {
  return e13 && e13.props || {};
}
function up(e13) {
  if (!e13)
    return [];
  var t = (0, WOe.default)(), r = t.isFragment && typeof t.isFragment == "function", n = Array.isArray(e13.rendered) ? (0, t3.default)(e13.rendered, 1) : [e13.rendered];
  return r ? (0, t3.default)(n.map(function(i) {
    return t.isFragment(i) ? up(i) : i;
  }), 1) : n;
}
function KOe(e13, t) {
  var r = iS(e13).className || "";
  return r = String(r).replace(/\s/g, " "), (0, VOe.default)(t) ? t.test(r) : (" " + String(r) + " ").indexOf(" " + String(t) + " ") > -1;
}
function HN(e13, t) {
  e13 && t(e13), up(e13).forEach(function(r) {
    return HN(r, t);
  });
}
function UN(e13, t) {
  var r = [];
  return HN(e13, function(n) {
    t(n) && r.push(n);
  }), r;
}
function ZOe(e13, t) {
  var r = UN(e13, function(n) {
    return n.rendered ? up(n).indexOf(t) !== -1 : false;
  });
  return r[0] || null;
}
function QOe(e13, t) {
  return e13.filter(function(r) {
    return UN(r, t).length !== 0;
  });
}
function YX(e13, t) {
  for (var r = [t], n = [], i = function(l) {
    return e13 === l;
  }; r.length; ) {
    var o = r.pop(), a = up(o);
    if (o === e13)
      return QOe(n, i);
    n.push(o), a.length === 0 && n.pop(), r.push.apply(r, qOe(a));
  }
  return null;
}
function JOe(e13, t) {
  return (YX(e13, t) || []).reverse();
}
function eIe(e13, t) {
  return iS(e13).id === t;
}
var tIe = {};
function rIe(e13) {
  return typeof e13 < "u" ? e13 : tIe;
}
function nIe(e13) {
  return (0, $Oe.default)(e13).reduce(function(t, r) {
    var n = NOe(r, 2), i = n[0], o = n[1];
    return (0, LOe.default)({}, t, YOe({}, i, rIe(o)));
  }, {});
}
function iIe(e13, t) {
  return (0, UOe.default)(iS(e13), nIe(t));
}
function oIe(e13) {
  return typeof e13 == "string" ? String(e13 || "") : e13 && e13.textContent || "";
}
function jN(e13, t) {
  var r = t.getCustom, n = t.handleHostNodes, i = t.recurse, o = t.nullRenderReturnsNull, a = o === void 0 ? false : o;
  return e13 == null ? "" : typeof e13 == "string" || typeof e13 == "number" ? String(e13) : r && e13.type && typeof e13.type == "function" ? r(e13) : n && e13.nodeType === "host" ? n(e13) : e13.rendered == null && a ? null : up(e13).map(i).join("");
}
function qX(e13) {
  return jN(e13, {
    recurse: qX,
    getCustom: /* @__PURE__ */ function() {
      function t(r) {
        var n = r.type;
        return "<" + String(n.displayName || (0, GOe.default)(n)) + " />";
      }
      return t;
    }()
  });
}
function KX(e13, t) {
  return jN(e13, {
    recurse: /* @__PURE__ */ function() {
      function r(n) {
        return KX(n, t);
      }
      return r;
    }(),
    handleHostNodes: /* @__PURE__ */ function() {
      function r(n) {
        var i = [].concat(t.nodeToHostNode(n, true));
        return i.map(oIe).join("");
      }
      return r;
    }()
  });
}
function aIe(e13) {
  return e13 == null ? null : e13.outerHTML.replace(/\sdata-(reactid|reactroot)+="([^"]*)+"/g, "");
}
function ZX(e13, t) {
  return jN(e13, {
    recurse: /* @__PURE__ */ function() {
      function r(n) {
        return ZX(n, t);
      }
      return r;
    }(),
    handleHostNodes: /* @__PURE__ */ function() {
      function r(n) {
        var i = [].concat(t.nodeToHostNode(n, true));
        return i.map(aIe).join("");
      }
      return r;
    }(),
    nullRenderReturnsNull: true
  });
}
(function(e13) {
  Object.defineProperty(e13, "__esModule", {
    value: true
  }), e13.shallowEqual = e13.ITERATOR_SYMBOL = void 0;
  var t = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function(ee) {
    return typeof ee;
  } : function(ee) {
    return ee && typeof Symbol == "function" && ee.constructor === Symbol && ee !== Symbol.prototype ? "symbol" : typeof ee;
  }, r = /* @__PURE__ */ function() {
    function ee(de, Ce) {
      var ke = [], Ve = true, We = false, Ze = void 0;
      try {
        for (var rt = de[Symbol.iterator](), ut; !(Ve = (ut = rt.next()).done) && (ke.push(ut.value), !(Ce && ke.length === Ce)); Ve = true)
          ;
      } catch (Dt) {
        We = true, Ze = Dt;
      } finally {
        try {
          !Ve && rt.return && rt.return();
        } finally {
          if (We)
            throw Ze;
        }
      }
      return ke;
    }
    return function(de, Ce) {
      if (Array.isArray(de))
        return de;
      if (Symbol.iterator in Object(de))
        return ee(de, Ce);
      throw new TypeError("Invalid attempt to destructure non-iterable instance");
    };
  }();
  e13.getAdapter = F, e13.makeOptions = K, e13.isCustomComponent = ie, e13.isCustomComponentElement = J, e13.propsOfNode = pe, e13.typeOfNode = oe, e13.nodeHasType = q, e13.nodeMatches = Ee, e13.nodeEqual = Me, e13.containsChildrenSubArray = Ne, e13.childrenToSimplifiedArray = Ue, e13.isReactElementAlike = ot, e13.withSetStateAllowed = Ke, e13.AND = ht, e13.displayNameOfNode = bt, e13.sym = $t, e13.privateSet = rn, e13.cloneElement = Ht, e13.spyMethod = xe;
  var n = g7;
  Object.defineProperty(e13, "shallowEqual", {
    enumerable: true,
    get: /* @__PURE__ */ function() {
      function ee() {
        return L(n).default;
      }
      return ee;
    }()
  }), e13.isEmptyValue = ne, e13.renderedDive = ce, e13.loadCheerioRoot = _e;
  var i = tp, o = L(i), a = QE, s = L(a), l = dN, u = L(l), c = E7, f = L(c), h = mN, d = L(h), p = np, m = L(p), g = Xv, v = L(g), b = r7, y = L(b), _ = D7, T = L(_), E = ic, O = rh, S = _n, P = ac, C = L(P), w = nS, N = L(w);
  function L(ee) {
    return ee && ee.__esModule ? ee : {
      default: ee
    };
  }
  function A(ee, de, Ce) {
    return de in ee ? Object.defineProperty(ee, de, {
      value: Ce,
      enumerable: true,
      configurable: true,
      writable: true
    }) : ee[de] = Ce, ee;
  }
  function R(ee, de) {
    var Ce = {};
    for (var ke in ee)
      de.indexOf(ke) >= 0 || Object.prototype.hasOwnProperty.call(ee, ke) && (Ce[ke] = ee[ke]);
    return Ce;
  }
  e13.ITERATOR_SYMBOL = typeof Symbol == "function" && Symbol.iterator;
  function F() {
    var ee = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
    return console.warn("getAdapter from Utils is deprecated; please use ./getAdapter instead"), (0, C.default)(ee);
  }
  function $(ee, de) {
    if (ee && de && ee !== de)
      throw new TypeError("If both the `attachTo` and `hydrateIn` options are provided, they must be === (for backwards compatibility)");
  }
  function K(ee) {
    var de = (0, O.get)(), Ce = de.attachTo, ke = de.hydrateIn, Ve = R(de, ["attachTo", "hydrateIn"]);
    $(Ce, ke);
    var We = ee.attachTo, Ze = ee.hydrateIn;
    $(We, Ze);
    var rt = Ze || ke || Ce || We || void 0, ut = Ze || ke || void 0, Dt = (0, o.default)({}, rt && {
      attachTo: rt
    }, ut && {
      hydrateIn: ut
    });
    return (0, o.default)({}, Ve, ee, Dt);
  }
  function ie(ee, de) {
    return (0, N.default)(de), de.isCustomComponent ? !!de.isCustomComponent(ee) : typeof ee == "function";
  }
  function J(ee, de) {
    return de.isCustomComponentElement ? !!de.isCustomComponentElement(ee) : !!ee && de.isValidElement(ee) && typeof ee.type == "function";
  }
  function pe(ee) {
    return (0, f.default)(ee && ee.props || {}).filter(function(de) {
      var Ce = r(de, 2), ke = Ce[1];
      return typeof ke < "u";
    }).reduce(function(de, Ce) {
      var ke = r(Ce, 2), Ve = ke[0], We = ke[1];
      return (0, o.default)(de, A({}, Ve, We));
    }, {});
  }
  function oe(ee) {
    return ee ? ee.type : null;
  }
  function q(ee, de) {
    if (!de || !ee)
      return false;
    var Ce = (0, C.default)();
    if (Ce.displayNameOfNode) {
      var ke = Ce.displayNameOfNode(ee);
      return ke === de;
    }
    return ee.type ? typeof ee.type == "string" ? ee.type === de : (typeof ee.type == "function" ? (0, d.default)(ee.type) === de : ee.type.name === de) || ee.type.displayName === de : false;
  }
  function W(ee, de, Ce, ke) {
    var Ve = ke ? Ee : Me;
    if (ee === de)
      return true;
    if (!Array.isArray(ee) && !Array.isArray(de))
      return Ve(ee, de, Ce);
    var We = (0, v.default)(ee, 1 / 0), Ze = (0, v.default)(de, 1 / 0);
    if (We.length !== Ze.length)
      return false;
    if (We.length === 0 && Ze.length === 0)
      return true;
    for (var rt = 0; rt < We.length; rt += 1)
      if (!Ve(We[rt], Ze[rt], Ce))
        return false;
    return true;
  }
  function se(ee, de, Ce) {
    return W(ee, de, Ce, true);
  }
  function Te(ee, de, Ce) {
    return W(ee, de, Ce, false);
  }
  function Ae(ee, de) {
    var Ce = r(de, 2), ke = Ce[0], Ve = Ce[1], We = Ve == null ? {} : A({}, ke, Ve);
    return (0, o.default)({}, ee, We);
  }
  function Re(ee, de, Ce, ke) {
    if (ee === de)
      return true;
    if (!ee || !de || ee.type !== de.type)
      return false;
    var Ve = pe(ee), We = pe(de);
    ke && (Ve = (0, f.default)(Ve).reduce(Ae, {}), We = (0, f.default)(We).reduce(Ae, {}));
    for (var Ze = Object.keys(Ve), rt = 0; rt < Ze.length; rt += 1) {
      var ut = Ze[rt];
      if (ut !== "children")
        if (ut in We) {
          if (We[ut] !== Ve[ut])
            if (t(We[ut]) === t(Ve[ut]) && t(Ve[ut]) === "object") {
              if (!(0, s.default)(Ve[ut], We[ut]))
                return false;
            } else
              return false;
        } else return false;
    }
    var Dt = "children" in Ve, gt = "children" in We, pr = ke ? se : Te;
    if ((Dt || gt) && !pr(Ue(Ve.children, ke), Ue(We.children, ke), Ce))
      return false;
    if (!et(ee)) {
      var H = Object.keys(We);
      return Ce(Ze.length - Dt, H.length - gt);
    }
    return false;
  }
  function Ee(ee, de) {
    var Ce = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : u.default;
    return Re(ee, de, Ce, true);
  }
  function Me(ee, de) {
    var Ce = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : u.default;
    return Re(ee, de, Ce, false);
  }
  function Ne(ee, de, Ce) {
    var ke = (0, S.childrenOfNode)(de), Ve = function(Ze, rt) {
      return Oe(ee, ke.slice(rt, rt + Ce.length), Ce);
    };
    return ke.some(Ve);
  }
  function Oe(ee, de, Ce) {
    return de.length === Ce.length && de.every(function(ke, Ve) {
      return ee(ke, Ce[Ve]);
    });
  }
  function Fe(ee) {
    var de = [], Ce = function(Ve) {
      Ve === null || Ve === false || typeof Ve > "u" || de.push(Ve);
    };
    return Array.isArray(ee) ? ee.forEach(Ce) : Ce(ee), de;
  }
  function Ue(ee) {
    for (var de = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false, Ce = Fe(ee), ke = [], Ve = 0; Ve < Ce.length; Ve += 1) {
      var We = Ce[Ve], Ze = ke.pop();
      typeof Ze > "u" ? ke.push(We) : et(We) && et(Ze) ? ke.push(Ze + We) : (ke.push(Ze), ke.push(We));
    }
    return de ? ke.map(function(rt) {
      return typeof rt == "string" ? (0, y.default)(rt) : rt;
    }) : ke;
  }
  function et(ee) {
    return typeof ee == "string" || typeof ee == "number";
  }
  function ot(ee, de) {
    return de.isValidElement(ee) || et(ee) || Array.isArray(ee);
  }
  function Ke(ee) {
    var de = false;
    typeof globalThis.document > "u" && (de = true, globalThis.document = {}), ee(), de && (globalThis.document = void 0, delete globalThis.document);
  }
  function ht(ee) {
    var de = ee.slice().reverse();
    return function(Ce) {
      return de.every(function(ke) {
        return ke(Ce);
      });
    };
  }
  function bt(ee) {
    if (!ee)
      return null;
    var de = ee.type;
    return de ? de.displayName || (typeof de == "function" ? (0, d.default)(de) : de.name || de) : null;
  }
  function $t(ee) {
    return typeof Symbol == "function" ? Symbol.for("enzyme." + String(ee)) : ee;
  }
  function rn(ee, de, Ce) {
    Object.defineProperty(ee, de, {
      value: Ce,
      enumerable: false,
      writable: true
    });
  }
  function Ht(ee, de, Ce) {
    return ee.createElement(de.type, (0, o.default)({}, de.props, Ce));
  }
  function xe(ee, de) {
    var Ce = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : function() {
    }, ke = void 0, Ve = ee[de], We = (0, m.default)(ee, de), Ze = void 0;
    return We && (Ze = Object.getOwnPropertyDescriptor(ee, de)), Object.defineProperty(ee, de, {
      configurable: true,
      enumerable: !Ze || !!Ze.enumerable,
      value: Ce(Ve) || /* @__PURE__ */ function() {
        function rt() {
          for (var ut = arguments.length, Dt = Array(ut), gt = 0; gt < ut; gt++)
            Dt[gt] = arguments[gt];
          var pr = Ve.apply(this, Dt);
          return ke = pr, pr;
        }
        return rt;
      }()
    }), {
      restore: /* @__PURE__ */ function() {
        function rt() {
          We ? Ze ? Object.defineProperty(ee, de, Ze) : ee[de] = Ve : delete ee[de];
        }
        return rt;
      }(),
      getLastReturnValue: /* @__PURE__ */ function() {
        function rt() {
          return ke;
        }
        return rt;
      }()
    };
  }
  function ne(ee) {
    return ee === null || ee === false;
  }
  function ce(ee) {
    return ne(ee) ? true : [].concat(ee).every(function(de) {
      if (de) {
        var Ce = de.rendered;
        return ne(Ce) || ce(Ce);
      }
      return ne(de);
    });
  }
  function _e(ee) {
    return ee ? (0, E.isHtml)(ee) ? T.default.load("")(ee) : T.default.load(ee, null, false).root() : T.default.root();
  }
})(Wv);
var sc = {};
var sIe = "[object Symbol]";
var QX = /[&<>"'`]/g;
var lIe = RegExp(QX.source);
var cIe = {
  "&": "&amp;",
  "<": "&lt;",
  ">": "&gt;",
  '"': "&quot;",
  "'": "&#39;",
  "`": "&#96;"
};
var uIe = typeof globalThis == "object" && globalThis && globalThis.Object === Object && globalThis;
var hIe = typeof self == "object" && self && self.Object === Object && self;
var fIe = uIe || hIe || Function("return this")();
function dIe(e13) {
  return function(t) {
    return e13 == null ? void 0 : e13[t];
  };
}
var pIe = dIe(cIe);
var mIe = Object.prototype;
var gIe = mIe.toString;
var r3 = fIe.Symbol;
var n3 = r3 ? r3.prototype : void 0;
var i3 = n3 ? n3.toString : void 0;
function vIe(e13) {
  if (typeof e13 == "string")
    return e13;
  if (_Ie(e13))
    return i3 ? i3.call(e13) : "";
  var t = e13 + "";
  return t == "0" && 1 / e13 == -1 / 0 ? "-0" : t;
}
function yIe(e13) {
  return !!e13 && typeof e13 == "object";
}
function _Ie(e13) {
  return typeof e13 == "symbol" || yIe(e13) && gIe.call(e13) == sIe;
}
function bIe(e13) {
  return e13 == null ? "" : vIe(e13);
}
function TIe(e13) {
  return e13 = bIe(e13), e13 && lIe.test(e13) ? e13.replace(QX, pIe) : e13;
}
var EIe = TIe;
var SIe = String.prototype.valueOf;
var wIe = function(t) {
  try {
    return SIe.call(t), true;
  } catch {
    return false;
  }
};
var AIe = Object.prototype.toString;
var OIe = "[object String]";
var IIe = Vv();
var JX = function(t) {
  return typeof t == "string" ? true : typeof t != "object" ? false : IIe ? wIe(t) : AIe.call(t) === OIe;
};
var PIe = Number.prototype.toString;
var CIe = function(t) {
  try {
    return PIe.call(t), true;
  } catch {
    return false;
  }
};
var xIe = Object.prototype.toString;
var kIe = "[object Number]";
var DIe = Vv();
var RIe = function(t) {
  return typeof t == "number" ? true : typeof t != "object" ? false : DIe ? CIe(t) : xIe.call(t) === kIe;
};
var eW = wi;
var NIe = eW("Boolean.prototype.toString");
var MIe = eW("Object.prototype.toString");
var LIe = function(t) {
  try {
    return NIe(t), true;
  } catch {
    return false;
  }
};
var BIe = "[object Boolean]";
var FIe = Vv();
var $Ie = function(t) {
  return typeof t == "boolean" ? true : t === null || typeof t != "object" ? false : FIe && Symbol.toStringTag in t ? LIe(t) : MIe(t) === BIe;
};
Object.defineProperty(sc, "__esModule", {
  value: true
});
var o3 = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function(e13) {
  return typeof e13;
} : function(e13) {
  return e13 && typeof Symbol == "function" && e13.constructor === Symbol && e13 !== Symbol.prototype ? "symbol" : typeof e13;
};
sc.typeName = nW;
sc.spaces = iW;
sc.indent = oW;
sc.debugNode = GN;
sc.debugNodes = oPe;
var HIe = EIe;
var UIe = Ys(HIe);
var jIe = mN;
var tW = Ys(jIe);
var GIe = JX;
var zIe = Ys(GIe);
var VIe = RIe;
var XIe = Ys(VIe);
var WIe = uN;
var YIe = Ys(WIe);
var qIe = $Ie;
var KIe = Ys(qIe);
var ZIe = PV;
var Gh = Ys(ZIe);
var QIe = np;
var Ch = Ys(QIe);
var rW = _n;
var JIe = ac;
var iC = Ys(JIe);
function Ys(e13) {
  return e13 && e13.__esModule ? e13 : {
    default: e13
  };
}
var ePe = Function.bind.call(Function.call, Boolean.prototype.valueOf);
function nW(e13) {
  var t = (0, iC.default)();
  return t.displayNameOfNode ? (0, iC.default)().displayNameOfNode(e13) || "Component" : typeof e13.type == "function" ? e13.type.displayName || (0, tW.default)(e13.type) || "Component" : e13.type;
}
function iW(e13) {
  return Array(e13 + 1).join(" ");
}
function oW(e13, t) {
  return t.split(`
`).map(function(r) {
    return "" + String(iW(e13)) + String(r);
  }).join(`
`);
}
function tPe(e13, t) {
  return (0, zIe.default)(e13) ? (0, Gh.default)(String(e13), {
    quoteStyle: "double"
  }) : (0, XIe.default)(e13) ? "{" + String((0, Gh.default)(Number(e13))) + "}" : (0, KIe.default)(e13) ? "{" + String((0, Gh.default)(ePe(e13))) + "}" : (0, YIe.default)(e13) ? "{" + String((0, Gh.default)(e13)) + "}" : (typeof e13 > "u" ? "undefined" : o3(e13)) === "object" ? t.verbose ? "{" + String((0, Gh.default)(e13)) + "}" : "{{...}}" : "{[" + (typeof e13 > "u" ? "undefined" : o3(e13)) + "]}";
}
function rPe(e13, t) {
  var r = (0, rW.propsOfNode)(e13), n = Object.keys(r).filter(function(i) {
    return i !== "children";
  });
  return n.map(function(i) {
    return String(i) + "=" + String(tPe(r[i], t));
  }).join(" ");
}
function nPe(e13, t) {
  return e13.length ? `
` + String(e13.map(function(r) {
    return oW(t, r);
  }).join(`
`)) + `
` : "";
}
function iPe(e13) {
  return (0, Ch.default)(e13, "nodeType") && typeof e13.nodeType == "string" && (0, Ch.default)(e13, "type") && (0, Ch.default)(e13, "key") && (0, Ch.default)(e13, "ref") && (0, Ch.default)(e13, "instance") && (0, Ch.default)(e13, "rendered");
}
function GN(e13) {
  var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 2, r = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};
  if (typeof e13 == "string" || typeof e13 == "number")
    return (0, UIe.default)(e13);
  if (typeof e13 == "function") {
    var n = (0, tW.default)(e13);
    return "[function" + (n ? " " + String(n) : "") + "]";
  }
  if (!e13)
    return "";
  var i = (0, iC.default)();
  if (!i.isValidElement(e13) && !iPe(e13))
    return "{" + String((0, Gh.default)(e13)) + "}";
  var o = (0, rW.childrenOfNode)(e13).map(function(h) {
    return GN(h, t, r);
  }).filter(Boolean), a = nW(e13), s = r.ignoreProps ? "" : rPe(e13, r), l = s ? " " : "", u = o.length ? ">" : " ", c = nPe(o, t), f = o.length ? "</" + String(a) + ">" : "/>";
  return "<" + String(a) + l + String(s) + u + String(c) + f;
}
function oPe(e13) {
  var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
  return e13.map(function(r) {
    return GN(r, void 0, t);
  }).join(`


`);
}
var hp = {};
var Id = {};
var zN = {};
Object.defineProperty(zN, "__esModule", {
  value: true
});
var a3 = function(t) {
  return JSON.stringify(t);
};
var aPe = function(t) {
  var r = t.body, n = [], i = true, o = false, a = void 0;
  try {
    for (var s = r[Symbol.iterator](), l; !(i = (l = s.next()).done); i = true) {
      var u = l.value, c = void 0;
      if (u.type === "universalSelector")
        c = "*";
      else if (u.type === "typeSelector")
        c = u.name;
      else if (u.type === "idSelector")
        c = "#" + u.name;
      else if (u.type === "classSelector")
        c = "." + u.name;
      else if (u.type === "attributePresenceSelector")
        c = "[" + u.name + "]";
      else if (u.type === "attributeValueSelector")
        c = "[" + u.name + u.operator + a3(u.value) + "]";
      else if (u.type === "pseudoClassSelector")
        c = ":" + u.name, u.parameters.length && (c += "(" + u.parameters.map(a3).join(", ") + ")");
      else if (u.type === "pseudoElementSelector")
        c = "::" + u.name;
      else
        throw new Error("Unknown token.");
      n.push(c);
    }
  } catch (f) {
    o = true, a = f;
  } finally {
    try {
      !i && s.return && s.return();
    } finally {
      if (o)
        throw a;
    }
  }
  return n.join("");
};
zN.default = function() {
  var e13 = function(r) {
    var n = [], i = true, o = false, a = void 0;
    try {
      for (var s = r[Symbol.iterator](), l; !(i = (l = s.next()).done); i = true) {
        var u = l.value;
        if (u.type === "selector")
          n.push(aPe(u));
        else if (u.type === "descendantCombinator")
          n.push(" ");
        else if (u.type === "childCombinator")
          n.push(" > ");
        else if (u.type === "adjacentSiblingCombinator")
          n.push(" + ");
        else if (u.type === "generalSiblingCombinator")
          n.push(" ~ ");
        else
          throw new Error("Unknown token.");
      }
    } catch (c) {
      o = true, a = c;
    } finally {
      try {
        !i && s.return && s.return();
      } finally {
        if (o)
          throw a;
      }
    }
    return n.join("");
  };
  return {
    generate: e13
  };
};
var VN = {};
var aW = { exports: {} };
(function(e13) {
  (function(t, r) {
    e13.exports ? e13.exports = r() : t.nearley = r();
  })(De, function() {
    function t(u, c, f) {
      return this.id = ++t.highestId, this.name = u, this.symbols = c, this.postprocess = f, this;
    }
    t.highestId = 0, t.prototype.toString = function(u) {
      var c = typeof u > "u" ? this.symbols.map(l).join(" ") : this.symbols.slice(0, u).map(l).join(" ") + " ● " + this.symbols.slice(u).map(l).join(" ");
      return this.name + " → " + c;
    };
    function r(u, c, f, h) {
      this.rule = u, this.dot = c, this.reference = f, this.data = [], this.wantedBy = h, this.isComplete = this.dot === u.symbols.length;
    }
    r.prototype.toString = function() {
      return "{" + this.rule.toString(this.dot) + "}, from: " + (this.reference || 0);
    }, r.prototype.nextState = function(u) {
      var c = new r(this.rule, this.dot + 1, this.reference, this.wantedBy);
      return c.left = this, c.right = u, c.isComplete && (c.data = c.build(), c.right = void 0), c;
    }, r.prototype.build = function() {
      var u = [], c = this;
      do
        u.push(c.right.data), c = c.left;
      while (c.left);
      return u.reverse(), u;
    }, r.prototype.finish = function() {
      this.rule.postprocess && (this.data = this.rule.postprocess(this.data, this.reference, a.fail));
    };
    function n(u, c) {
      this.grammar = u, this.index = c, this.states = [], this.wants = {}, this.scannable = [], this.completed = {};
    }
    n.prototype.process = function(u) {
      for (var c = this.states, f = this.wants, h = this.completed, d = 0; d < c.length; d++) {
        var p = c[d];
        if (p.isComplete) {
          if (p.finish(), p.data !== a.fail) {
            for (var m = p.wantedBy, g = m.length; g--; ) {
              var v = m[g];
              this.complete(v, p);
            }
            if (p.reference === this.index) {
              var b = p.rule.name;
              (this.completed[b] = this.completed[b] || []).push(p);
            }
          }
        } else {
          var b = p.rule.symbols[p.dot];
          if (typeof b != "string") {
            this.scannable.push(p);
            continue;
          }
          if (f[b]) {
            if (f[b].push(p), h.hasOwnProperty(b))
              for (var y = h[b], g = 0; g < y.length; g++) {
                var _ = y[g];
                this.complete(p, _);
              }
          } else
            f[b] = [p], this.predict(b);
        }
      }
    }, n.prototype.predict = function(u) {
      for (var c = this.grammar.byName[u] || [], f = 0; f < c.length; f++) {
        var h = c[f], d = this.wants[u], p = new r(h, 0, this.index, d);
        this.states.push(p);
      }
    }, n.prototype.complete = function(u, c) {
      var f = u.nextState(c);
      this.states.push(f);
    };
    function i(u, c) {
      this.rules = u, this.start = c || this.rules[0].name;
      var f = this.byName = {};
      this.rules.forEach(function(h) {
        f.hasOwnProperty(h.name) || (f[h.name] = []), f[h.name].push(h);
      });
    }
    i.fromCompiled = function(h, c) {
      var f = h.Lexer;
      h.ParserStart && (c = h.ParserStart, h = h.ParserRules);
      var h = h.map(function(p) {
        return new t(p.name, p.symbols, p.postprocess);
      }), d = new i(h, c);
      return d.lexer = f, d;
    };
    function o() {
      this.reset("");
    }
    o.prototype.reset = function(u, c) {
      this.buffer = u, this.index = 0, this.line = c ? c.line : 1, this.lastLineBreak = c ? -c.col : 0;
    }, o.prototype.next = function() {
      if (this.index < this.buffer.length) {
        var u = this.buffer[this.index++];
        return u === `
` && (this.line += 1, this.lastLineBreak = this.index), {
          value: u
        };
      }
    }, o.prototype.save = function() {
      return {
        line: this.line,
        col: this.index - this.lastLineBreak
      };
    }, o.prototype.formatError = function(u, c) {
      var f = this.buffer;
      if (typeof f == "string") {
        var h = f.split(`
`).slice(Math.max(0, this.line - 5), this.line), d = f.indexOf(`
`, this.index);
        d === -1 && (d = f.length);
        var p = this.index - this.lastLineBreak, m = String(this.line).length;
        return c += " at line " + this.line + " col " + p + `:

`, c += h.map(function(v, b) {
          return g(this.line - h.length + b + 1, m) + " " + v;
        }, this).join(`
`), c += `
` + g("", m + p) + `^
`, c;
      } else
        return c + " at index " + (this.index - 1);
      function g(v, b) {
        var y = String(v);
        return Array(b - y.length + 1).join(" ") + y;
      }
    };
    function a(u, c, f) {
      if (u instanceof i)
        var h = u, f = c;
      else
        var h = i.fromCompiled(u, c);
      this.grammar = h, this.options = {
        keepHistory: false,
        lexer: h.lexer || new o()
      };
      for (var d in f || {})
        this.options[d] = f[d];
      this.lexer = this.options.lexer, this.lexerState = void 0;
      var p = new n(h, 0);
      this.table = [p], p.wants[h.start] = [], p.predict(h.start), p.process(), this.current = 0;
    }
    a.fail = {}, a.prototype.feed = function(u) {
      var c = this.lexer;
      c.reset(u, this.lexerState);
      for (var f; ; ) {
        try {
          if (f = c.next(), !f)
            break;
        } catch (O) {
          var m = new n(this.grammar, this.current + 1);
          this.table.push(m);
          var h = new Error(this.reportLexerError(O));
          throw h.offset = this.current, h.token = O.token, h;
        }
        var d = this.table[this.current];
        this.options.keepHistory || delete this.table[this.current - 1];
        var p = this.current + 1, m = new n(this.grammar, p);
        this.table.push(m);
        for (var g = f.text !== void 0 ? f.text : f.value, v = c.constructor === o ? f.value : f, b = d.scannable, y = b.length; y--; ) {
          var _ = b[y], T = _.rule.symbols[_.dot];
          if (T.test ? T.test(v) : T.type ? T.type === f.type : T.literal === g) {
            var E = _.nextState({
              data: v,
              token: f,
              isToken: true,
              reference: p - 1
            });
            m.states.push(E);
          }
        }
        if (m.process(), m.states.length === 0) {
          var h = new Error(this.reportError(f));
          throw h.offset = this.current, h.token = f, h;
        }
        this.options.keepHistory && (d.lexerState = c.save()), this.current++;
      }
      return d && (this.lexerState = c.save()), this.results = this.finish(), this;
    }, a.prototype.reportLexerError = function(u) {
      var c, f, h = u.token;
      return h ? (c = "input " + JSON.stringify(h.text[0]) + " (lexer error)", f = this.lexer.formatError(h, "Syntax error")) : (c = "input (lexer error)", f = u.message), this.reportErrorCommon(f, c);
    }, a.prototype.reportError = function(u) {
      var c = (u.type ? u.type + " token: " : "") + JSON.stringify(u.value !== void 0 ? u.value : u), f = this.lexer.formatError(u, "Syntax error");
      return this.reportErrorCommon(f, c);
    }, a.prototype.reportErrorCommon = function(u, c) {
      var f = [];
      f.push(u);
      var h = this.table.length - 2, d = this.table[h], p = d.states.filter(function(g) {
        var v = g.rule.symbols[g.dot];
        return v && typeof v != "string";
      });
      if (p.length === 0)
        f.push("Unexpected " + c + `. I did not expect any more input. Here is the state of my parse table:
`), this.displayStateStack(d.states, f);
      else {
        f.push("Unexpected " + c + `. Instead, I was expecting to see one of the following:
`);
        var m = p.map(function(g) {
          return this.buildFirstStateStack(g, []) || [g];
        }, this);
        m.forEach(function(g) {
          var v = g[0], b = v.rule.symbols[v.dot], y = this.getSymbolDisplay(b);
          f.push("A " + y + " based on:"), this.displayStateStack(g, f);
        }, this);
      }
      return f.push(""), f.join(`
`);
    }, a.prototype.displayStateStack = function(u, c) {
      for (var f, h = 0, d = 0; d < u.length; d++) {
        var p = u[d], m = p.rule.toString(p.dot);
        m === f ? h++ : (h > 0 && c.push("    ^ " + h + " more lines identical to this"), h = 0, c.push("    " + m)), f = m;
      }
    }, a.prototype.getSymbolDisplay = function(u) {
      return s(u);
    }, a.prototype.buildFirstStateStack = function(u, c) {
      if (c.indexOf(u) !== -1)
        return null;
      if (u.wantedBy.length === 0)
        return [u];
      var f = u.wantedBy[0], h = [u].concat(c), d = this.buildFirstStateStack(f, h);
      return d === null ? null : [u].concat(d);
    }, a.prototype.save = function() {
      var u = this.table[this.current];
      return u.lexerState = this.lexerState, u;
    }, a.prototype.restore = function(u) {
      var c = u.index;
      this.current = c, this.table[c] = u, this.table.splice(c + 1), this.lexerState = u.lexerState, this.results = this.finish();
    }, a.prototype.rewind = function(u) {
      if (!this.options.keepHistory)
        throw new Error("set option `keepHistory` to enable rewinding");
      this.restore(this.table[u]);
    }, a.prototype.finish = function() {
      var u = [], c = this.grammar.start, f = this.table[this.table.length - 1];
      return f.states.forEach(function(h) {
        h.rule.name === c && h.dot === h.rule.symbols.length && h.reference === 0 && h.data !== a.fail && u.push(h);
      }), u.map(function(h) {
        return h.data;
      });
    };
    function s(u) {
      var c = typeof u;
      if (c === "string")
        return u;
      if (c === "object") {
        if (u.literal)
          return JSON.stringify(u.literal);
        if (u instanceof RegExp)
          return "character matching " + u;
        if (u.type)
          return u.type + " token";
        if (u.test)
          return "token matching " + String(u.test);
        throw new Error("Unknown symbol type: " + u);
      }
    }
    function l(u) {
      var c = typeof u;
      if (c === "string")
        return u;
      if (c === "object") {
        if (u.literal)
          return JSON.stringify(u.literal);
        if (u instanceof RegExp)
          return u.toString();
        if (u.type)
          return "%" + u.type;
        if (u.test)
          return "<" + String(u.test) + ">";
        throw new Error("Unknown symbol type: " + u);
      }
    }
    return {
      Parser: a,
      Grammar: i,
      Rule: t
    };
  });
})(aW);
var sPe = aW.exports;
var sW = { exports: {} };
var lPe = 1 / 0;
var cPe = 9007199254740991;
var uPe = "[object Arguments]";
var hPe = "[object Function]";
var fPe = "[object GeneratorFunction]";
var dPe = typeof globalThis == "object" && globalThis && globalThis.Object === Object && globalThis;
var pPe = typeof self == "object" && self && self.Object === Object && self;
var mPe = dPe || pPe || Function("return this")();
var XN = Object.prototype;
var gPe = XN.hasOwnProperty;
var lW = XN.toString;
var s3 = mPe.Symbol;
var vPe = XN.propertyIsEnumerable;
var l3 = s3 ? s3.isConcatSpreadable : void 0;
function cW(e13, t, r, n, i) {
  var o = -1, a = e13.length;
  for (r || (r = yPe), i || (i = []); ++o < a; ) {
    var s = e13[o];
    r(s) ? cW(s, t - 1, r, n, i) : i[i.length] = s;
  }
  return i;
}
function yPe(e13) {
  return TPe(e13) || bPe(e13) || !!(l3 && e13 && e13[l3]);
}
function _Pe(e13) {
  var t = e13 ? e13.length : 0;
  return t ? cW(e13, lPe) : [];
}
function bPe(e13) {
  return SPe(e13) && gPe.call(e13, "callee") && (!vPe.call(e13, "callee") || lW.call(e13) == uPe);
}
var TPe = Array.isArray;
function EPe(e13) {
  return e13 != null && APe(e13.length) && !wPe(e13);
}
function SPe(e13) {
  return IPe(e13) && EPe(e13);
}
function wPe(e13) {
  var t = OPe(e13) ? lW.call(e13) : "";
  return t == hPe || t == fPe;
}
function APe(e13) {
  return typeof e13 == "number" && e13 > -1 && e13 % 1 == 0 && e13 <= cPe;
}
function OPe(e13) {
  var t = typeof e13;
  return !!e13 && (t == "object" || t == "function");
}
function IPe(e13) {
  return !!e13 && typeof e13 == "object";
}
var PPe = _Pe;
(function(e13) {
  (function() {
    function t(f) {
      return f[0];
    }
    var r = PPe, n = function(h, d) {
      return function(p) {
        return p[h].concat([p[d]]);
      };
    }, i = function(h) {
      return h = h.filter(function(d) {
        return d !== null;
      }), r(h);
    }, o = {
      " ": "descendantCombinator",
      "+": "adjacentSiblingCombinator",
      ">": "childCombinator",
      "~": "generalSiblingCombinator"
    }, a = function(h) {
      return (Array.isArray(h[0]) ? h[0] : [h[0]]).concat({
        type: o[h[2]]
      }).concat(h[4]);
    }, s = function(h, d, p) {
      var m = r(h).join(""), g = parseFloat(m);
      return isNaN(g) ? p : g;
    }, l = function(h, d, p) {
      return h[0] === "true" ? true : h[0] === "false" ? false : p;
    }, u = function(h, d, p) {
      if (h[0] === "NaN")
        return NaN;
      if (h[0] !== "undefined")
        return h[0] === "null" ? null : p;
    }, c = {
      Lexer: void 0,
      ParserRules: [{
        name: "combinator",
        symbols: ["selector"]
      }, {
        name: "combinator",
        symbols: ["combinator", "_", /[>+~ ]/, "_", "selector"],
        postprocess: a
      }, {
        name: "selector",
        symbols: ["selectorBody"],
        postprocess: function(h) {
          return {
            type: "selector",
            body: h[0]
          };
        }
      }, {
        name: "selectorBody$ebnf$1",
        symbols: ["typeSelector"],
        postprocess: t
      }, {
        name: "selectorBody$ebnf$1",
        symbols: [],
        postprocess: function(h) {
          return null;
        }
      }, {
        name: "selectorBody$ebnf$2",
        symbols: []
      }, {
        name: "selectorBody$ebnf$2",
        symbols: ["selectorBody$ebnf$2", "simpleSelector"],
        postprocess: function(h) {
          return h[0].concat([h[1]]);
        }
      }, {
        name: "selectorBody",
        symbols: ["selectorBody$ebnf$1", "selectorBody$ebnf$2"],
        postprocess: function(h, d, p) {
          var m = i(h);
          return m.length ? m : p;
        }
      }, {
        name: "selectorBody$ebnf$3",
        symbols: []
      }, {
        name: "selectorBody$ebnf$3",
        symbols: ["selectorBody$ebnf$3", "simpleSelector"],
        postprocess: function(h) {
          return h[0].concat([h[1]]);
        }
      }, {
        name: "selectorBody",
        symbols: ["universalSelector", "selectorBody$ebnf$3"],
        postprocess: i
      }, {
        name: "simpleSelector",
        symbols: ["idSelector"]
      }, {
        name: "simpleSelector",
        symbols: ["classSelector"]
      }, {
        name: "simpleSelector",
        symbols: ["attributeValueSelector"]
      }, {
        name: "simpleSelector",
        symbols: ["attributePresenceSelector"]
      }, {
        name: "simpleSelector",
        symbols: ["pseudoClassSelector"]
      }, {
        name: "simpleSelector",
        symbols: ["pseudoElementSelector"]
      }, {
        name: "typeSelector",
        symbols: ["attributeName"],
        postprocess: function(h) {
          return {
            type: "typeSelector",
            name: h[0]
          };
        }
      }, {
        name: "className$ebnf$1",
        symbols: [{
          literal: "-"
        }],
        postprocess: t
      }, {
        name: "className$ebnf$1",
        symbols: [],
        postprocess: function(h) {
          return null;
        }
      }, {
        name: "className$ebnf$2",
        symbols: []
      }, {
        name: "className$ebnf$2",
        symbols: ["className$ebnf$2", /[_a-zA-Z0-9-]/],
        postprocess: function(h) {
          return h[0].concat([h[1]]);
        }
      }, {
        name: "className",
        symbols: ["className$ebnf$1", /[_a-zA-Z]/, "className$ebnf$2"],
        postprocess: function(h) {
          return (h[0] || "") + h[1] + h[2].join("");
        }
      }, {
        name: "attributeName$ebnf$1",
        symbols: []
      }, {
        name: "attributeName$ebnf$1",
        symbols: ["attributeName$ebnf$1", /[_a-zA-Z()0-9-]/],
        postprocess: function(h) {
          return h[0].concat([h[1]]);
        }
      }, {
        name: "attributeName",
        symbols: [/[_a-z()A-Z]/, "attributeName$ebnf$1"],
        postprocess: function(h) {
          return h[0] + h[1].join("");
        }
      }, {
        name: "classSelector",
        symbols: [{
          literal: "."
        }, "className"],
        postprocess: function(h) {
          return {
            type: "classSelector",
            name: h[1]
          };
        }
      }, {
        name: "idSelector",
        symbols: [{
          literal: "#"
        }, "attributeName"],
        postprocess: function(h) {
          return {
            type: "idSelector",
            name: h[1]
          };
        }
      }, {
        name: "universalSelector",
        symbols: [{
          literal: "*"
        }],
        postprocess: function(h) {
          return {
            type: "universalSelector"
          };
        }
      }, {
        name: "attributePresenceSelector",
        symbols: [{
          literal: "["
        }, "attributeName", {
          literal: "]"
        }],
        postprocess: function(h) {
          return {
            type: "attributePresenceSelector",
            name: h[1]
          };
        }
      }, {
        name: "attributeOperator",
        symbols: [{
          literal: "="
        }]
      }, {
        name: "attributeOperator$string$1",
        symbols: [{
          literal: "~"
        }, {
          literal: "="
        }],
        postprocess: function(h) {
          return h.join("");
        }
      }, {
        name: "attributeOperator",
        symbols: ["attributeOperator$string$1"]
      }, {
        name: "attributeOperator$string$2",
        symbols: [{
          literal: "|"
        }, {
          literal: "="
        }],
        postprocess: function(h) {
          return h.join("");
        }
      }, {
        name: "attributeOperator",
        symbols: ["attributeOperator$string$2"]
      }, {
        name: "attributeOperator$string$3",
        symbols: [{
          literal: "^"
        }, {
          literal: "="
        }],
        postprocess: function(h) {
          return h.join("");
        }
      }, {
        name: "attributeOperator",
        symbols: ["attributeOperator$string$3"]
      }, {
        name: "attributeOperator$string$4",
        symbols: [{
          literal: "$"
        }, {
          literal: "="
        }],
        postprocess: function(h) {
          return h.join("");
        }
      }, {
        name: "attributeOperator",
        symbols: ["attributeOperator$string$4"]
      }, {
        name: "attributeOperator$string$5",
        symbols: [{
          literal: "*"
        }, {
          literal: "="
        }],
        postprocess: function(h) {
          return h.join("");
        }
      }, {
        name: "attributeOperator",
        symbols: ["attributeOperator$string$5"]
      }, {
        name: "attributeValueSelector",
        symbols: [{
          literal: "["
        }, "attributeName", "attributeOperator", "attributeValue", {
          literal: "]"
        }],
        postprocess: function(h) {
          return {
            type: "attributeValueSelector",
            name: h[1],
            value: h[3],
            operator: h[2][0]
          };
        }
      }, {
        name: "attributeValue",
        symbols: ["falsyPrimitiveStrings"],
        postprocess: t
      }, {
        name: "attributeValue",
        symbols: ["numericValue"],
        postprocess: t
      }, {
        name: "attributeValue",
        symbols: ["sqstring"],
        postprocess: t
      }, {
        name: "attributeValue",
        symbols: ["dqstring"],
        postprocess: t
      }, {
        name: "falsyPrimitiveStrings$string$1",
        symbols: [{
          literal: "f"
        }, {
          literal: "a"
        }, {
          literal: "l"
        }, {
          literal: "s"
        }, {
          literal: "e"
        }],
        postprocess: function(h) {
          return h.join("");
        }
      }, {
        name: "falsyPrimitiveStrings",
        symbols: ["falsyPrimitiveStrings$string$1"],
        postprocess: l
      }, {
        name: "falsyPrimitiveStrings$string$2",
        symbols: [{
          literal: "t"
        }, {
          literal: "r"
        }, {
          literal: "u"
        }, {
          literal: "e"
        }],
        postprocess: function(h) {
          return h.join("");
        }
      }, {
        name: "falsyPrimitiveStrings",
        symbols: ["falsyPrimitiveStrings$string$2"],
        postprocess: l
      }, {
        name: "falsyPrimitiveStrings$string$3",
        symbols: [{
          literal: "N"
        }, {
          literal: "a"
        }, {
          literal: "N"
        }],
        postprocess: function(h) {
          return h.join("");
        }
      }, {
        name: "falsyPrimitiveStrings",
        symbols: ["falsyPrimitiveStrings$string$3"],
        postprocess: u
      }, {
        name: "falsyPrimitiveStrings$string$4",
        symbols: [{
          literal: "n"
        }, {
          literal: "u"
        }, {
          literal: "l"
        }, {
          literal: "l"
        }],
        postprocess: function(h) {
          return h.join("");
        }
      }, {
        name: "falsyPrimitiveStrings",
        symbols: ["falsyPrimitiveStrings$string$4"],
        postprocess: u
      }, {
        name: "falsyPrimitiveStrings$string$5",
        symbols: [{
          literal: "u"
        }, {
          literal: "n"
        }, {
          literal: "d"
        }, {
          literal: "e"
        }, {
          literal: "f"
        }, {
          literal: "i"
        }, {
          literal: "n"
        }, {
          literal: "e"
        }, {
          literal: "d"
        }],
        postprocess: function(h) {
          return h.join("");
        }
      }, {
        name: "falsyPrimitiveStrings",
        symbols: ["falsyPrimitiveStrings$string$5"],
        postprocess: u
      }, {
        name: "numericValue",
        symbols: ["int", {
          literal: "."
        }, "int"],
        postprocess: s
      }, {
        name: "numericValue",
        symbols: [{
          literal: "+"
        }, "int", {
          literal: "."
        }, "int"],
        postprocess: s
      }, {
        name: "numericValue",
        symbols: [{
          literal: "-"
        }, "int", {
          literal: "."
        }, "int"],
        postprocess: s
      }, {
        name: "numericValue",
        symbols: [{
          literal: "-"
        }, "int"],
        postprocess: s
      }, {
        name: "numericValue",
        symbols: ["int"],
        postprocess: s
      }, {
        name: "numericValue",
        symbols: [{
          literal: "+"
        }, "int"],
        postprocess: s
      }, {
        name: "numericValue$string$1",
        symbols: [{
          literal: "I"
        }, {
          literal: "n"
        }, {
          literal: "f"
        }, {
          literal: "i"
        }, {
          literal: "n"
        }, {
          literal: "i"
        }, {
          literal: "t"
        }, {
          literal: "y"
        }],
        postprocess: function(h) {
          return h.join("");
        }
      }, {
        name: "numericValue",
        symbols: ["numericValue$string$1"],
        postprocess: s
      }, {
        name: "numericValue$string$2",
        symbols: [{
          literal: "+"
        }, {
          literal: "I"
        }, {
          literal: "n"
        }, {
          literal: "f"
        }, {
          literal: "i"
        }, {
          literal: "n"
        }, {
          literal: "i"
        }, {
          literal: "t"
        }, {
          literal: "y"
        }],
        postprocess: function(h) {
          return h.join("");
        }
      }, {
        name: "numericValue",
        symbols: ["numericValue$string$2"],
        postprocess: s
      }, {
        name: "numericValue$string$3",
        symbols: [{
          literal: "-"
        }, {
          literal: "I"
        }, {
          literal: "n"
        }, {
          literal: "f"
        }, {
          literal: "i"
        }, {
          literal: "n"
        }, {
          literal: "i"
        }, {
          literal: "t"
        }, {
          literal: "y"
        }],
        postprocess: function(h) {
          return h.join("");
        }
      }, {
        name: "numericValue",
        symbols: ["numericValue$string$3"],
        postprocess: s
      }, {
        name: "int$ebnf$1",
        symbols: [/[0-9]/]
      }, {
        name: "int$ebnf$1",
        symbols: ["int$ebnf$1", /[0-9]/],
        postprocess: function(h) {
          return h[0].concat([h[1]]);
        }
      }, {
        name: "int",
        symbols: ["int$ebnf$1"]
      }, {
        name: "classParameters",
        symbols: []
      }, {
        name: "classParameters",
        symbols: ["classParameter"]
      }, {
        name: "classParameters",
        symbols: ["classParameters", {
          literal: ","
        }, "_", "classParameter"],
        postprocess: n(0, 3)
      }, {
        name: "classParameter$ebnf$1",
        symbols: [/[^()"', ]/]
      }, {
        name: "classParameter$ebnf$1",
        symbols: ["classParameter$ebnf$1", /[^()"', ]/],
        postprocess: function(h) {
          return h[0].concat([h[1]]);
        }
      }, {
        name: "classParameter",
        symbols: ["classParameter$ebnf$1"],
        postprocess: function(h) {
          return h[0].join("");
        }
      }, {
        name: "classParameter",
        symbols: ["sqstring"],
        postprocess: t
      }, {
        name: "classParameter",
        symbols: ["dqstring"],
        postprocess: t
      }, {
        name: "pseudoElementSelector$string$1",
        symbols: [{
          literal: ":"
        }, {
          literal: ":"
        }],
        postprocess: function(h) {
          return h.join("");
        }
      }, {
        name: "pseudoElementSelector",
        symbols: ["pseudoElementSelector$string$1", "pseudoClassSelectorName"],
        postprocess: function(h) {
          return {
            type: "pseudoElementSelector",
            name: h[1]
          };
        }
      }, {
        name: "pseudoClassSelector",
        symbols: [{
          literal: ":"
        }, "pseudoClassSelectorName"],
        postprocess: function(h) {
          return {
            type: "pseudoClassSelector",
            name: h[1]
          };
        }
      }, {
        name: "pseudoClassSelector",
        symbols: [{
          literal: ":"
        }, "pseudoClassSelectorName", {
          literal: "("
        }, "classParameters", {
          literal: ")"
        }],
        postprocess: function(h) {
          return {
            type: "pseudoClassSelector",
            name: h[1],
            parameters: h[3]
          };
        }
      }, {
        name: "pseudoClassSelectorName$ebnf$1",
        symbols: [/[a-zA-Z0-9-_]/]
      }, {
        name: "pseudoClassSelectorName$ebnf$1",
        symbols: ["pseudoClassSelectorName$ebnf$1", /[a-zA-Z0-9-_]/],
        postprocess: function(h) {
          return h[0].concat([h[1]]);
        }
      }, {
        name: "pseudoClassSelectorName",
        symbols: [/[a-zA-Z]/, "pseudoClassSelectorName$ebnf$1"],
        postprocess: function(h) {
          return h[0] + h[1].join("");
        }
      }, {
        name: "dqstring$ebnf$1",
        symbols: []
      }, {
        name: "dqstring$ebnf$1",
        symbols: ["dqstring$ebnf$1", "dstrchar"],
        postprocess: function(h) {
          return h[0].concat([h[1]]);
        }
      }, {
        name: "dqstring",
        symbols: [{
          literal: '"'
        }, "dqstring$ebnf$1", {
          literal: '"'
        }],
        postprocess: function(h) {
          return h[1].join("");
        }
      }, {
        name: "dstrchar",
        symbols: [/[^"]/],
        postprocess: t
      }, {
        name: "dstrchar$string$1",
        symbols: [{
          literal: "\\"
        }, {
          literal: '"'
        }],
        postprocess: function(h) {
          return h.join("");
        }
      }, {
        name: "dstrchar",
        symbols: ["dstrchar$string$1"],
        postprocess: function(h) {
          return '"';
        }
      }, {
        name: "sqstring$ebnf$1",
        symbols: []
      }, {
        name: "sqstring$ebnf$1",
        symbols: ["sqstring$ebnf$1", "sstrchar"],
        postprocess: function(h) {
          return h[0].concat([h[1]]);
        }
      }, {
        name: "sqstring",
        symbols: [{
          literal: "'"
        }, "sqstring$ebnf$1", {
          literal: "'"
        }],
        postprocess: function(h) {
          return h[1].join("");
        }
      }, {
        name: "sstrchar",
        symbols: [/[^']/],
        postprocess: t
      }, {
        name: "sstrchar$string$1",
        symbols: [{
          literal: "\\"
        }, {
          literal: "'"
        }],
        postprocess: function(h) {
          return h.join("");
        }
      }, {
        name: "sstrchar",
        symbols: ["sstrchar$string$1"],
        postprocess: function(h) {
          return "'";
        }
      }, {
        name: "_$ebnf$1",
        symbols: []
      }, {
        name: "_$ebnf$1",
        symbols: ["_$ebnf$1", /[ ]/],
        postprocess: function(h) {
          return h[0].concat([h[1]]);
        }
      }, {
        name: "_",
        symbols: ["_$ebnf$1"],
        postprocess: function(h) {
          return null;
        }
      }],
      ParserStart: "combinator"
    };
    e13.exports = c;
  })();
})(sW);
var CPe = sW.exports;
Object.defineProperty(VN, "__esModule", {
  value: true
});
var xPe = sPe;
var kPe = CPe;
var c3 = DPe(kPe);
function DPe(e13) {
  return e13 && e13.__esModule ? e13 : {
    default: e13
  };
}
VN.default = function() {
  var e13 = function(r) {
    var n = new xPe.Parser(c3.default.ParserRules, c3.default.ParserStart), i = n.feed(r).results;
    if (i.length === 0)
      throw new Error("Found no parsings.");
    if (i.length > 1)
      throw new Error("Ambiguous results.");
    return i[0];
  };
  return {
    parse: e13
  };
};
Object.defineProperty(Id, "__esModule", {
  value: true
});
Id.createParser = Id.createGenerator = void 0;
var RPe = zN;
var NPe = uW(RPe);
var MPe = VN;
var LPe = uW(MPe);
function uW(e13) {
  return e13 && e13.__esModule ? e13 : {
    default: e13
  };
}
Id.createGenerator = NPe.default;
Id.createParser = LPe.default;
var BPe = rp;
var hW = wi;
var FPe = hW("Object.prototype.propertyIsEnumerable");
var $Pe = hW("Array.prototype.push");
var fW = function(t) {
  var r = BPe(t), n = [];
  for (var i in r)
    FPe(r, i) && $Pe(n, r[i]);
  return n;
};
var HPe = fW;
var dW = function() {
  return typeof Object.values == "function" ? Object.values : HPe;
};
var UPe = dW;
var jPe = ni;
var GPe = function() {
  var t = UPe();
  return jPe(Object, {
    values: t
  }, {
    values: function() {
      return Object.values !== t;
    }
  }), t;
};
var zPe = ni;
var VPe = Vs;
var XPe = fW;
var pW = dW;
var WPe = GPe;
var mW = VPe(pW(), Object);
zPe(mW, {
  getPolyfill: pW,
  implementation: XPe,
  shim: WPe
});
var YPe = mW;
var qPe = HV;
var KPe = jV();
var ZPe = zV();
var QPe = zv;
var JPe = VV();
var eCe = hN;
var tCe = a7();
var rCe = LV;
var nCe = s7;
var u3 = fN;
var iCe = wi;
var oCe = JX;
var h3 = Object("a");
var aCe = h3[0] !== "a" || !(0 in h3);
var sCe = iCe("String.prototype.split");
var gW = function(t) {
  var r = nCe(this), n = aCe && oCe(r) ? sCe(r, "") : r, i = tCe(n);
  if (!eCe(t))
    throw new TypeError("Array.prototype.filter callback must be a function");
  var o;
  arguments.length > 1 && (o = arguments[1]);
  for (var a = qPe(r, 0), s = 0, l = 0; s < i; ) {
    var u = u3(s), c = JPe(r, u);
    if (c) {
      var f = QPe(r, u), h = rCe(KPe(t, o, [f, s, r]));
      h && (ZPe(a, u3(l), f), l += 1);
    }
    s += 1;
  }
  return a;
};
var lCe = function(t) {
  var r = true, n = true, i = false;
  if (typeof t == "function") {
    try {
      t.call("f", function(o, a, s) {
        typeof s != "object" && (r = false);
      }), t.call([null], function() {
        "use strict";
        n = typeof this == "string";
      }, "x");
    } catch {
      i = true;
    }
    return !i && r && n;
  }
  return false;
};
var cCe = lCe;
var uCe = gW;
var vW = function() {
  var t = Array.prototype.filter;
  return cCe(t) ? t : uCe;
};
var aO;
var f3;
function hCe() {
  if (f3)
    return aO;
  f3 = 1;
  var e13 = ni, t = vW;
  return aO = function() {
    var n = t();
    return e13(Array.prototype, {
      filter: n
    }, {
      filter: function() {
        return Array.prototype.filter !== n;
      }
    }), n;
  }, aO;
}
var fCe = ni;
var dCe = rp;
var pCe = Vs;
var mCe = wi;
var gCe = gW;
var yW = vW;
var vCe = pCe.apply(yW());
var yCe = hCe();
var _Ce = mCe("Array.prototype.slice");
var _W = function(t, r) {
  return dCe(t), vCe(t, _Ce(arguments, 1));
};
fCe(_W, {
  getPolyfill: yW,
  implementation: gCe,
  shim: yCe
});
var bCe = _W;
var TCe = wi;
var ECe = TCe("Array.prototype.push");
var SCe = function(e13, t) {
  for (var r = [], n = 0; n < e13.length; n += 1)
    ECe(r, t(e13[n], n));
  return r;
};
var wCe = [
  ["HTMLElement", "article"],
  ["HTMLElement", "section"],
  ["HTMLBaseFontElement", "basefont", "HTMLBaseFontElementConstructor"],
  // Safari 5.1
  ["HTMLPhraseElement", "cite", "HTMLElement"],
  // Safari 5.1
  ["HTMLElement", "noscript"],
  ["HTMLBGSoundElement", "bgsound", "HTMLElement"],
  // Safari 5.1
  ["HTMLPhraseElement", "blink", "HTMLElement"],
  // Safari 5.1
  ["HTMLElement", "multicol"],
  ["HTMLNextIdElement", "nextid", "HTMLElement"],
  // Safari 5.1
  ["HTMLElement", "rb"],
  ["HTMLElement", "spacer"],
  ["HTMLAnchorElement", "a", "HTMLElement"],
  // Safari 5.1
  // ['HTMLAppletElement', 'applet'], // commented out due to IE 11 java update popup
  ["HTMLAreaElement", "area", "HTMLElement"],
  // Safari 5.1
  ["HTMLAudioElement", "audio", "HTMLElement"],
  // Safari 5.1
  ["HTMLBaseElement", "base", "HTMLElement"],
  // Safari 5.1
  ["HTMLBodyElement", "body", "HTMLElement"],
  // Safari 5.1
  ["HTMLBRElement", "br", "HTMLElement"],
  // Safari 5.1
  ["HTMLButtonElement", "button"],
  ["HTMLCanvasElement", "canvas"],
  ["HTMLContentElement", "content", "HTMLElement"],
  // Safari 5.1
  ["HTMLDataElement", "data", "HTMLElement"],
  // Safari 5.1
  ["HTMLDataListElement", "datalist"],
  ["HTMLDialogElement", "dialog", "HTMLElement"],
  // Safari 5.1
  ["HTMLDirectoryElement", "dir"],
  ["HTMLDivElement", "div"],
  ["HTMLDListElement", "dl"],
  ["HTMLEmbedElement", "embed"],
  ["HTMLFieldSetElement", "fieldset"],
  ["HTMLFontElement", "font"],
  ["HTMLFormElement", "form"],
  ["HTMLFrameElement", "frame"],
  ["HTMLFrameSetElement", "frameset"],
  ["HTMLHeadElement", "head"],
  ["HTMLHeadingElement", "h1"],
  ["HTMLHeadingElement", "h2"],
  ["HTMLHeadingElement", "h3"],
  ["HTMLHeadingElement", "h4"],
  ["HTMLHeadingElement", "h5"],
  ["HTMLHeadingElement", "h6"],
  ["HTMLHtmlElement", "html"],
  ["HTMLHRElement", "hr"],
  ["HTMLIFrameElement", "iframe"],
  ["HTMLImageElement", "img"],
  ["HTMLInputElement", "input"],
  ["HTMLIsIndexElement", "index", "HTMLElement"],
  // in HTML5, this is HTMLUnknownElement (Safari 5.1 for HTMLElement)
  ["HTMLKeygenElement", "keygen", "HTMLBlockElement"],
  ["HTMLLabelElement", "label"],
  ["HTMLLegendElement", "legend"],
  ["HTMLLIElement", "li"],
  ["HTMLLinkElement", "link"],
  ["HTMLElement", "main"],
  // in IE 9-11, this is HTMLUnknownElement
  ["HTMLMapElement", "map"],
  ["HTMLMarqueeElement", "marquee"],
  ["HTMLMenuElement", "menu"],
  ["HTMLMetaElement", "meta"],
  ["HTMLMeterElement", "meter", "HTMLElement"],
  // Safari 5.1
  ["HTMLModElement", "del"],
  ["HTMLModElement", "ins"],
  ["HTMLObjectElement", "object"],
  ["HTMLOListElement", "ol"],
  ["HTMLOptGroupElement", "optgroup"],
  ["HTMLOptionElement", "option"],
  ["HTMLOutputElement", "output"],
  ["HTMLParagraphElement", "p"],
  ["HTMLParamElement", "param"],
  ["HTMLPictureElement", "picture", "HTMLElement"],
  // Safari 5.1
  ["HTMLPreElement", "pre"],
  ["HTMLProgressElement", "progress", "HTMLElement"],
  // Safari 5.1
  ["HTMLQuoteElement", "q", "HTMLBlockquoteElement"],
  // Safari 5.1
  ["HTMLQuoteElement", "blockquote", "HTMLBlockElement", "HTMLBlockquoteElement"],
  // Safari 5.1
  ["HTMLScriptElement", "script"],
  ["HTMLSelectElement", "select"],
  ["HTMLShadowElement", "shadow", "HTMLElement"],
  // Safari 5.1
  ["HTMLSourceElement", "source"],
  ["HTMLSpanElement", "span", "HTMLElement"],
  // Safari 5.1
  ["HTMLStyleElement", "style"],
  ["HTMLTableElement", "table"],
  ["HTMLTableCaptionElement", "caption"],
  ["HTMLTableCellElement", "td", "HTMLTableDataCellElement"],
  ["HTMLTableCellElement", "th", "HTMLTableHeaderCellElement"],
  ["HTMLTableRowElement", "tr"],
  ["HTMLTableColElement", "col"],
  ["HTMLTableColElement", "colgroup"],
  ["HTMLTableSectionElement", "tbody"],
  ["HTMLTableSectionElement", "thead"],
  ["HTMLTableSectionElement", "tfoot"],
  ["HTMLTemplateElement", "template", "HTMLElement"],
  // Safari 5.1
  ["HTMLTextAreaElement", "textarea"],
  ["HTMLTimeElement", "time", "HTMLElement"],
  // Safari 5.1
  ["HTMLTitleElement", "title"],
  ["HTMLTrackElement", "track", "HTMLElement"],
  // Safari 5.1
  ["HTMLUListElement", "ul"],
  ["HTMLVideoElement", "video"],
  ["HTMLElement", "abbr"],
  ["HTMLElement", "address"],
  ["HTMLElement", "aside"],
  ["HTMLElement", "b"],
  ["HTMLElement", "bdi"],
  ["HTMLElement", "bdo"],
  ["HTMLElement", "code"],
  ["HTMLElement", "dd"],
  ["HTMLDetailsElement", "details", "HTMLElement"],
  // Safari 5.1
  ["HTMLElement", "dfn"],
  ["HTMLElement", "dt"],
  ["HTMLElement", "em"],
  ["HTMLElement", "figcaption"],
  ["HTMLElement", "figure"],
  ["HTMLElement", "footer"],
  ["HTMLElement", "header"],
  ["HTMLElement", "hgroup"],
  ["HTMLElement", "i"],
  ["HTMLElement", "kbd"],
  ["HTMLElement", "mark"],
  ["HTMLElement", "nav"],
  ["HTMLElement", "rp"],
  ["HTMLElement", "rt"],
  ["HTMLElement", "ruby"],
  ["HTMLElement", "s"],
  ["HTMLElement", "samp"],
  ["HTMLSlotElement", "slot", "HTMLElement"],
  // Safari 5.1
  ["HTMLElement", "small"],
  ["HTMLElement", "strong"],
  ["HTMLElement", "summary"],
  ["HTMLElement", "u"],
  ["HTMLElement", "var"],
  ["HTMLElement", "wbr"]
];
var ACe = function(t, r, n) {
  if (typeof document < "u" && typeof document.createElement == "function") {
    var i = document.createElement(t).constructor;
    if (i !== n)
      return i;
  }
};
var OCe = function() {
  var t = globalThis.HTMLUnknownElement;
  return {
    all: globalThis.HTMLElement,
    elements: SCe(wCe, function(r) {
      for (var n = r[0], i = r[1], o, a, s = 2; s < arguments.length && !a; s += 1)
        o = r[s], a = o && globalThis[o];
      var l = globalThis[n];
      return {
        constructor: ACe(i, a || l, t),
        constructorName: a ? o : n,
        expectedConstructor: a || l,
        tag: i
      };
    }),
    unknown: t
  };
};
var ICe = bCe;
var PCe = OCe;
var CCe = function(t) {
  if (!t)
    return [];
  var r = PCe();
  return t === r.unknown ? [] : t === r.all ? r.elements : ICe(r.elements, function(n) {
    return n.constructor === t;
  });
};
Object.defineProperty(hp, "__esModule", {
  value: true
});
var bW = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function(e13) {
  return typeof e13;
} : function(e13) {
  return e13 && typeof Symbol == "function" && e13.constructor === Symbol && e13 !== Symbol.prototype ? "symbol" : typeof e13;
};
var xCe = /* @__PURE__ */ function() {
  function e13(t, r) {
    var n = [], i = true, o = false, a = void 0;
    try {
      for (var s = t[Symbol.iterator](), l; !(i = (l = s.next()).done) && (n.push(l.value), !(r && n.length === r)); i = true)
        ;
    } catch (u) {
      o = true, a = u;
    } finally {
      try {
        !i && s.return && s.return();
      } finally {
        if (o)
          throw a;
      }
    }
    return n;
  }
  return function(t, r) {
    if (Array.isArray(t))
      return t;
    if (Symbol.iterator in Object(t))
      return e13(t, r);
    throw new TypeError("Invalid attempt to destructure non-iterable instance");
  };
}();
hp.buildPredicate = IW;
hp.reduceTreeBySelector = oS;
hp.reduceTreesBySelector = dxe;
var kCe = Id;
var DCe = YPe;
var RCe = fp(DCe);
var NCe = Xv;
var WN = fp(NCe);
var MCe = dN;
var LCe = fp(MCe);
var BCe = np;
var FCe = fp(BCe);
var $Ce = CCe;
var HCe = fp($Ce);
var _i = _n;
var TW = Wv;
var UCe = ac;
var EW = fp(UCe);
function fp(e13) {
  return e13 && e13.__esModule ? e13 : {
    default: e13
  };
}
function jCe(e13) {
  if (Array.isArray(e13)) {
    for (var t = 0, r = Array(e13.length); t < e13.length; t++)
      r[t] = e13[t];
    return r;
  } else
    return Array.from(e13);
}
var GCe = (0, kCe.createParser)();
var zCe = "childCombinator";
var VCe = "adjacentSiblingCombinator";
var XCe = "generalSiblingCombinator";
var WCe = "descendantCombinator";
var SW = "selector";
var YCe = "typeSelector";
var qCe = "classSelector";
var KCe = "idSelector";
var ZCe = "universalSelector";
var wW = "attributePresenceSelector";
var QCe = "attributeValueSelector";
var JCe = "pseudoClassSelector";
var exe = "pseudoElementSelector";
var d3 = "=";
var txe = "~=";
var rxe = "|=";
var nxe = "^=";
var ixe = "$=";
var oxe = "*=";
function AW(e13) {
  return [].concat(jCe(new Set(e13)));
}
function YN(e13, t) {
  return AW(t.reduce(e13, []));
}
function OW(e13) {
  try {
    return GCe.parse(e13);
  } catch {
    throw new Error("Failed to parse selector: " + String(e13));
  }
}
function p3(e13, t) {
  var r = t.operator, n = t.value, i = t.name, o = (0, TW.propsOfNode)(e13), a = Object.getOwnPropertyDescriptor(o, i);
  if (a && a.get)
    return false;
  var s = o[i];
  if (typeof s > "u")
    return false;
  if (t.type === wW)
    return (0, FCe.default)(o, t.name);
  if ((typeof s != "string" || typeof n != "string") && r !== d3)
    return false;
  switch (r) {
    case d3:
      return (0, LCe.default)(s, n);
    case txe:
      return s.split(" ").indexOf(n) !== -1;
    case rxe:
      return s === n || s.startsWith(String(n) + "-");
    case nxe:
      return n === "" ? false : s.slice(0, n.length) === n;
    case ixe:
      return n === "" ? false : s.slice(-n.length) === n;
    case oxe:
      return n === "" ? false : s.indexOf(n) !== -1;
    default:
      throw new Error('Enzyme::Selector: Unknown attribute selector operator "' + String(r) + '"');
  }
}
function axe(e13, t, r) {
  var n = t.name, i = t.parameters;
  if (n === "not")
    return i.every(function(h) {
      return oS(h, e13).length === 0;
    });
  if (n === "empty")
    return (0, _i.treeFilter)(e13, function(h) {
      return h !== e13;
    }).length === 0;
  if (n === "first-child") {
    var o = (0, _i.findParentNode)(r, e13), a = o.rendered, s = xCe(a, 1), l = s[0];
    return l === e13;
  }
  if (n === "last-child") {
    var u = (0, _i.findParentNode)(r, e13), c = u.rendered;
    return c[c.length - 1] === e13;
  }
  if (n === "focus") {
    if (typeof document > "u")
      throw new Error('Enzyme::Selector does not support the ":focus" pseudo-element without a global `document`.');
    var f = (0, EW.default)();
    return document.activeElement && f.nodeToHostNode(e13) === document.activeElement;
  }
  throw new TypeError('Enzyme::Selector does not support the "' + String(t.name) + '" pseudo-element or pseudo-class selectors.');
}
function sxe(e13, t, r) {
  if (e13 === null || typeof e13 == "string")
    return false;
  switch (t.type) {
    case ZCe:
      return true;
    case qCe:
      return (0, _i.hasClassName)(e13, t.name);
    case YCe:
      return (0, TW.nodeHasType)(e13, t.name);
    case KCe:
      return (0, _i.nodeHasId)(e13, t.name);
    case wW:
      return p3(e13, t);
    case QCe:
      return p3(e13, t);
    case exe:
    case JCe:
      return axe(e13, t, r);
    default:
      throw new Error("Unknown token type: " + String(t.type));
  }
}
function oC(e13, t) {
  return function(r) {
    return e13.body.every(function(n) {
      return sxe(r, n, t);
    });
  };
}
function lxe(e13) {
  return e13.some(function(t) {
    return t.type !== SW;
  });
}
function IW(e13) {
  if (typeof e13 == "string") {
    var t = OW(e13);
    if (lxe(t))
      throw new TypeError("This method does not support complex CSS selectors");
    return oC(t[0]);
  }
  var r = (0, EW.default)(), n = r.isValidElementType ? r.isValidElementType(e13) : typeof e13 == "function";
  if (n)
    return function(o) {
      return r.matchesElementType(o, e13);
    };
  if ((typeof e13 > "u" ? "undefined" : bW(e13)) === "object") {
    if (!Array.isArray(e13) && e13 !== null && Object.keys(e13).length > 0) {
      var i = (0, RCe.default)(e13).some(function(o) {
        return typeof o > "u";
      });
      if (i)
        throw new TypeError("Enzyme::Props can’t have `undefined` values. Try using ‘findWhere()’ instead.");
      return function(o) {
        return (0, _i.nodeMatchesObjectProps)(o, e13);
      };
    }
    throw new TypeError("Enzyme::Selector does not support an array, null, or empty object as a selector");
  }
  throw new TypeError("Enzyme::Selector expects a string, object, or valid element type (Component Constructor)");
}
function cxe(e13, t, r) {
  return e13.reduce(function(n, i) {
    var o = (0, _i.findParentNode)(r, i);
    if (!o)
      return n;
    var a = (0, _i.childrenOfNode)(o), s = a.indexOf(i), l = a[s + 1];
    return l && t(l) && n.push(l), n;
  }, []);
}
function uxe(e13, t, r) {
  return YN(function(n, i) {
    var o = (0, _i.findParentNode)(r, i);
    if (!o)
      return n;
    var a = (0, _i.childrenOfNode)(o), s = a.indexOf(i), l = a.slice(s + 1);
    return n.concat(l.filter(t));
  }, e13);
}
function hxe(e13, t) {
  return YN(function(r, n) {
    return r.concat((0, _i.childrenOfNode)(n).filter(t));
  }, e13);
}
function fxe(e13, t) {
  return YN(function(r, n) {
    return r.concat((0, _i.treeFilter)(n, t));
  }, (0, WN.default)(e13.map(_i.childrenOfNode)));
}
function oS(e13, t) {
  if (typeof e13 != "string") {
    var r = (0, HCe.default)(e13);
    if (r.length > 0)
      return (0, WN.default)(r.map(function(c) {
        return oS(c.tag, t);
      }));
  }
  if (typeof e13 == "function" || (typeof e13 > "u" ? "undefined" : bW(e13)) === "object")
    return (0, _i.treeFilter)(t, IW(e13));
  var n = [];
  if (typeof e13 == "string")
    for (var i = OW(e13), o = 0; o < i.length; ) {
      var a = i[o];
      if (a.type === SW) {
        var s = oC(a, t);
        n = n.concat((0, _i.treeFilter)(t, s));
      } else {
        var l = a.type;
        o += 1;
        var u = oC(i[o], t);
        switch (l) {
          case VCe:
            n = cxe(n, u, t);
            break;
          case XCe:
            n = uxe(n, u, t);
            break;
          case zCe:
            n = hxe(n, u);
            break;
          case WCe: {
            n = fxe(n, u);
            break;
          }
          default:
            throw new Error("Unknown combinator selector: " + String(l));
        }
      }
      o += 1;
    }
  else
    throw new TypeError("Enzyme::Selector expects a string, object, or Component Constructor");
  return n;
}
function dxe(e13, t) {
  var r = t.map(function(n) {
    return oS(e13, n);
  });
  return AW((0, WN.default)(r, 1));
}
(function(e13) {
  Object.defineProperty(e13, "__esModule", {
    value: true
  });
  var t = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function(oe) {
    return typeof oe;
  } : function(oe) {
    return oe && typeof Symbol == "function" && oe.constructor === Symbol && oe !== Symbol.prototype ? "symbol" : typeof oe;
  }, r = /* @__PURE__ */ function() {
    function oe(q, W) {
      for (var se = 0; se < W.length; se++) {
        var Te = W[se];
        Te.enumerable = Te.enumerable || false, Te.configurable = true, "value" in Te && (Te.writable = true), Object.defineProperty(q, Te.key, Te);
      }
    }
    return function(q, W, se) {
      return W && oe(q.prototype, W), se && oe(q, se), q;
    };
  }(), n = tp, i = m(n), o = Xv, a = m(o), s = np, l = m(s), u = Wv, c = ac, f = m(c), h = sc, d = _n, p = hp;
  function m(oe) {
    return oe && oe.__esModule ? oe : {
      default: oe
    };
  }
  function g(oe, q, W) {
    return q in oe ? Object.defineProperty(oe, q, {
      value: W,
      enumerable: true,
      configurable: true,
      writable: true
    }) : oe[q] = W, oe;
  }
  function v(oe, q) {
    if (!oe)
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    return q && (typeof q == "object" || typeof q == "function") ? q : oe;
  }
  function b(oe, q) {
    if (typeof q != "function" && q !== null)
      throw new TypeError("Super expression must either be null or a function, not " + typeof q);
    oe.prototype = Object.create(q && q.prototype, {
      constructor: {
        value: oe,
        enumerable: false,
        writable: true,
        configurable: true
      }
    }), q && (Object.setPrototypeOf ? Object.setPrototypeOf(oe, q) : oe.__proto__ = q);
  }
  function y(oe, q) {
    if (!(oe instanceof q))
      throw new TypeError("Cannot call a class as a function");
  }
  var _ = (0, u.sym)("__node__"), T = (0, u.sym)("__nodes__"), E = (0, u.sym)("__renderer__"), O = (0, u.sym)("__unrendered__"), S = (0, u.sym)("__root__"), P = (0, u.sym)("__options__"), C = (0, u.sym)("__rootNodes__"), w = (0, u.sym)("__wrappingComponent__"), N = (0, u.sym)("__linkedRoots__"), L = (0, u.sym)("__updatedBy__");
  function A(oe, q) {
    var W = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : d.treeFilter;
    return oe.flatMap(function(se) {
      return W(se.getNodeInternal(), q);
    });
  }
  function R(oe, q) {
    return oe.wrap(oe.getNodesInternal().filter(q).filter(Boolean));
  }
  function F(oe) {
    if (oe[S].length !== 1)
      throw new Error("getRootNodeInternal(wrapper) can only be called when wrapper wraps one node");
    return oe[S] !== oe ? oe[C][0] : oe[S][_];
  }
  function $(oe, q) {
    return (0, d.parentsOfNode)(q, F(oe));
  }
  function K(oe, q) {
    q ? Array.isArray(q) ? ((0, u.privateSet)(oe, _, q[0]), (0, u.privateSet)(oe, T, q)) : ((0, u.privateSet)(oe, _, q), (0, u.privateSet)(oe, T, [q])) : ((0, u.privateSet)(oe, _, null), (0, u.privateSet)(oe, T, [])), (0, u.privateSet)(oe, "length", oe[T].length);
  }
  var ie = function() {
    function oe(q, W) {
      var se = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};
      if (y(this, oe), !globalThis.window && !globalThis.document)
        throw new Error("It looks like you called `mount()` without a global document being loaded.");
      var Te = (0, u.makeOptions)(se);
      if (W)
        (0, u.privateSet)(this, E, W[E]), (0, u.privateSet)(this, S, W), K(this, q), (0, u.privateSet)(this, C, W[T]), (0, u.privateSet)(this, P, W[P]), (0, u.privateSet)(this, N, []);
      else {
        var Ae = (0, f.default)(Te);
        if (!Ae.isValidElement(q))
          throw new TypeError("ReactWrapper can only wrap valid elements");
        var Re = Ae.createRenderer((0, i.default)({
          mode: "mount"
        }, Te));
        if ((0, u.privateSet)(this, E, Re), Re.render(q, Te.context), (0, u.privateSet)(this, S, this), K(this, this[E].getNode()), (0, u.privateSet)(this, P, Te), (0, u.privateSet)(this, N, []), (0, u.isCustomComponent)(Te.wrappingComponent, Ae)) {
          if (typeof this[E].getWrappingComponentRenderer != "function")
            throw new TypeError("your adapter does not support `wrappingComponent`. Try upgrading it!");
          (0, u.privateSet)(this, w, new J(this, this[E].getWrappingComponentRenderer())), this[N].push(this[w]);
        }
      }
      (0, u.privateSet)(this, O, q), (0, u.privateSet)(this, L, null);
    }
    return r(oe, [{
      key: "root",
      value: /* @__PURE__ */ function() {
        function q() {
          return this[S];
        }
        return q;
      }()
      /**
       * Returns the wrapped component.
       *
       * @return {ReactComponent}
       */
    }, {
      key: "getNodeInternal",
      value: /* @__PURE__ */ function() {
        function q() {
          if (this.length !== 1)
            throw new Error("ReactWrapper::getNode() can only be called when wrapping one node");
          return this[T][0];
        }
        return q;
      }()
      /**
       * Returns the the wrapped components.
       *
       * @return {Array<ReactComponent>}
       */
    }, {
      key: "getNodesInternal",
      value: /* @__PURE__ */ function() {
        function q() {
          return this[T];
        }
        return q;
      }()
      /**
       * Returns the wrapped ReactElement.
       *
       * @return {ReactElement}
       */
    }, {
      key: "getElement",
      value: /* @__PURE__ */ function() {
        function q() {
          var W = this;
          return this.single("getElement", function() {
            return (0, f.default)(W[P]).nodeToElement(W[_]);
          });
        }
        return q;
      }()
      /**
       * Returns the wrapped ReactElements.
       *
       * @return {Array<ReactElement>}
       */
    }, {
      key: "getElements",
      value: /* @__PURE__ */ function() {
        function q() {
          var W = this;
          return this[T].map(function(se) {
            return (0, f.default)(W[P]).nodeToElement(se);
          });
        }
        return q;
      }()
      // eslint-disable-next-line class-methods-use-this
    }, {
      key: "getNode",
      value: /* @__PURE__ */ function() {
        function q() {
          throw new Error("ReactWrapper::getNode() is no longer supported. Use ReactWrapper::instance() instead");
        }
        return q;
      }()
      // eslint-disable-next-line class-methods-use-this
    }, {
      key: "getNodes",
      value: /* @__PURE__ */ function() {
        function q() {
          throw new Error("ReactWrapper::getNodes() is no longer supported.");
        }
        return q;
      }()
      /**
       * Returns the outer most DOMComponent of the current wrapper.
       *
       * NOTE: can only be called on a wrapper of a single node.
       *
       * @returns {DOMComponent}
       */
    }, {
      key: "getDOMNode",
      value: /* @__PURE__ */ function() {
        function q() {
          var W = (0, f.default)(this[P]);
          return this.single("getDOMNode", function(se) {
            return W.nodeToHostNode(se, true);
          });
        }
        return q;
      }()
      /**
       * If the root component contained a ref, you can access it here and get the relevant
       * react component instance or HTML element instance.
       *
       * NOTE: can only be called on a wrapper instance that is also the root instance.
       *
       * @param {String} refname
       * @returns {ReactComponent | HTMLElement}
       */
    }, {
      key: "ref",
      value: /* @__PURE__ */ function() {
        function q(W) {
          if (this[S] !== this)
            throw new Error("ReactWrapper::ref(refname) can only be called on the root");
          return this.instance().refs[W];
        }
        return q;
      }()
      /**
       * Returns the wrapper's underlying instance.
       *
       * Example:
       * ```
       * const wrapper = mount(<MyComponent />);
       * const inst = wrapper.instance();
       * expect(inst).to.be.instanceOf(MyComponent);
       * ```
       * @returns {ReactComponent|DOMComponent}
       */
    }, {
      key: "instance",
      value: /* @__PURE__ */ function() {
        function q() {
          var W = this;
          return this.single("instance", function() {
            return W[_].instance;
          });
        }
        return q;
      }()
      /**
       * If a `wrappingComponent` was passed in `options`, this methods returns a `ReactWrapper` around
       * the rendered `wrappingComponent`. This `ReactWrapper` can be used to update the
       * `wrappingComponent`'s props, state, etc.
       *
       * @returns ReactWrapper
       */
    }, {
      key: "getWrappingComponent",
      value: /* @__PURE__ */ function() {
        function q() {
          if (this[S] !== this)
            throw new Error("ReactWrapper::getWrappingComponent() can only be called on the root");
          if (!this[P].wrappingComponent)
            throw new Error("ReactWrapper::getWrappingComponent() can only be called on a wrapper that was originally passed a `wrappingComponent` option");
          return this[w];
        }
        return q;
      }()
      /**
       * Forces a re-render. Useful to run before checking the render output if something external
       * may be updating the state of the component somewhere.
       *
       * NOTE: no matter what instance this is called on, it will always update the root.
       *
       * @returns {ReactWrapper}
       */
    }, {
      key: "update",
      value: /* @__PURE__ */ function() {
        function q() {
          var W = this, se = this[S];
          return this !== se ? se.update() : (K(this, this[E].getNode()), this[N].forEach(function(Te) {
            if (Te !== W[L]) {
              Te[L] = W;
              try {
                Te.update();
              } finally {
                Te[L] = null;
              }
            }
          }), this);
        }
        return q;
      }()
      /**
       * A method that unmounts the component. This can be used to simulate a component going through
       * and unmount/mount lifecycle.
       *
       * @returns {ReactWrapper}
       */
    }, {
      key: "unmount",
      value: /* @__PURE__ */ function() {
        function q() {
          var W = this;
          if (this[S] !== this)
            throw new Error("ReactWrapper::unmount() can only be called on the root");
          return this.single("unmount", function() {
            W[E].unmount(), W.update();
          }), this;
        }
        return q;
      }()
      /**
       * A method that re-mounts the component, if it is not currently mounted.
       * This can be used to simulate a component going through
       * an unmount/mount lifecycle.
       *
       * @returns {ReactWrapper}
       */
    }, {
      key: "mount",
      value: /* @__PURE__ */ function() {
        function q() {
          var W = this;
          if (this[S] !== this)
            throw new Error("ReactWrapper::mount() can only be called on the root");
          return this[E].render(this[O], this[P].context, function() {
            return W.update();
          }), this;
        }
        return q;
      }()
      /**
       * A method that sets the props of the root component, and re-renders. Useful for when you are
       * wanting to test how the component behaves over time with changing props. Calling this, for
       * instance, will call the `componentWillReceiveProps` lifecycle method.
       *
       * Similar to `setState`, this method accepts a props object and will merge it in with the already
       * existing props.
       *
       * NOTE: can only be called on a wrapper instance that is also the root instance.
       *
       * @param {Object} props object
       * @param {Function} cb - callback function
       * @returns {ReactWrapper}
       */
    }, {
      key: "setProps",
      value: /* @__PURE__ */ function() {
        function q(W) {
          var se = this, Te = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : void 0;
          if (this[S] !== this)
            throw new Error("ReactWrapper::setProps() can only be called on the root");
          if (arguments.length > 1 && typeof Te != "function")
            throw new TypeError("ReactWrapper::setProps() expects a function as its second argument");
          var Ae = (0, f.default)(this[P]);
          return this[O] = (0, u.cloneElement)(Ae, this[O], W), this[E].render(this[O], null, function() {
            se.update(), Te && Te();
          }), this;
        }
        return q;
      }()
      /**
       * A method to invoke `setState` on the root component instance similar to how you might in the
       * definition of the component, and re-renders.  This method is useful for testing your component
       * in hard to achieve states, however should be used sparingly. If possible, you should utilize
       * your component's external API in order to get it into whatever state you want to test, in order
       * to be as accurate of a test as possible. This is not always practical, however.
       *
       * NOTE: can only be called on a wrapper instance that is also the root instance.
       *
       * @param {Object} state to merge
       * @param {Function} cb - callback function
       * @returns {ReactWrapper}
       */
    }, {
      key: "setState",
      value: /* @__PURE__ */ function() {
        function q(W) {
          var se = this, Te = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : void 0;
          if (this.instance() === null || this.getNodeInternal().nodeType !== "class")
            throw new Error("ReactWrapper::setState() can only be called on class components");
          if (arguments.length > 1 && typeof Te != "function")
            throw new TypeError("ReactWrapper::setState() expects a function as its second argument");
          return this.instance().setState(W, function() {
            if (se.update(), Te) {
              var Ae = (0, f.default)(se[P]), Re = se.instance();
              Ae.invokeSetStateCallback ? Ae.invokeSetStateCallback(Re, Te) : Te.call(Re);
            }
          }), this;
        }
        return q;
      }()
      /**
       * A method that sets the context of the root component, and re-renders. Useful for when you are
       * wanting to test how the component behaves over time with changing contexts.
       *
       * NOTE: can only be called on a wrapper instance that is also the root instance.
       *
       * @param {Object} context object
       * @returns {ReactWrapper}
       */
    }, {
      key: "setContext",
      value: /* @__PURE__ */ function() {
        function q(W) {
          var se = this;
          if (this[S] !== this)
            throw new Error("ReactWrapper::setContext() can only be called on the root");
          if (!this[P].context)
            throw new Error("ReactWrapper::setContext() can only be called on a wrapper that was originally passed a context option");
          return this[E].render(this[O], W, function() {
            return se.update();
          }), this;
        }
        return q;
      }()
      /**
       * Whether or not a given react element exists in the mount render tree.
       *
       * Example:
       * ```
       * const wrapper = mount(<MyComponent />);
       * expect(wrapper.contains(<div className="foo bar" />)).to.equal(true);
       * ```
       *
       * @param {ReactElement|Array<ReactElement>} nodeOrNodes
       * @returns {Boolean}
       */
    }, {
      key: "contains",
      value: /* @__PURE__ */ function() {
        function q(W) {
          var se = (0, f.default)(this[P]), Te = Array.isArray(W) ? function(Ae) {
            return (0, u.containsChildrenSubArray)(u.nodeEqual, Ae, W.map(function(Re) {
              return se.elementToNode(Re);
            }));
          } : function(Ae) {
            return (0, u.nodeEqual)(se.elementToNode(W), Ae);
          };
          return A(this, Te).length > 0;
        }
        return q;
      }()
      /**
       * Whether or not a given react element exists in the current render tree.
       * It will determine if one of the wrappers element "looks like" the expected
       * element by checking if all props of the expected element are present
       * on the wrappers element and equals to each other.
       *
       * Example:
       * ```
       * // MyComponent outputs <div><div class="foo">Hello</div></div>
       * const wrapper = mount(<MyComponent />);
       * expect(wrapper.containsMatchingElement(<div>Hello</div>)).to.equal(true);
       * ```
       *
       * @param {ReactElement} node
       * @returns {Boolean}
       */
    }, {
      key: "containsMatchingElement",
      value: /* @__PURE__ */ function() {
        function q(W) {
          var se = (0, f.default)(this[P]).elementToNode(W), Te = /* @__PURE__ */ function() {
            function Ae(Re) {
              return (0, u.nodeMatches)(se, Re, function(Ee, Me) {
                return Ee <= Me;
              });
            }
            return Ae;
          }();
          return A(this, Te).length > 0;
        }
        return q;
      }()
      /**
       * Whether or not all the given react elements exist in the current render tree.
       * It will determine if one of the wrappers element "looks like" the expected
       * element by checking if all props of the expected element are present
       * on the wrappers element and equals to each other.
       *
       * Example:
       * ```
       * const wrapper = mount(<MyComponent />);
       * expect(wrapper.containsAllMatchingElements([
       *   <div>Hello</div>,
       *   <div>Goodbye</div>,
       * ])).to.equal(true);
       * ```
       *
       * @param {Array<ReactElement>} nodes
       * @returns {Boolean}
       */
    }, {
      key: "containsAllMatchingElements",
      value: /* @__PURE__ */ function() {
        function q(W) {
          var se = this;
          if (!Array.isArray(W))
            throw new TypeError("nodes should be an Array");
          return W.every(function(Te) {
            return se.containsMatchingElement(Te);
          });
        }
        return q;
      }()
      /**
       * Whether or not one of the given react elements exists in the current render tree.
       * It will determine if one of the wrappers element "looks like" the expected
       * element by checking if all props of the expected element are present
       * on the wrappers element and equals to each other.
       *
       * Example:
       * ```
       * const wrapper = mount(<MyComponent />);
       * expect(wrapper.containsAnyMatchingElements([
       *   <div>Hello</div>,
       *   <div>Goodbye</div>,
       * ])).to.equal(true);
       * ```
       *
       * @param {Array<ReactElement>} nodes
       * @returns {Boolean}
       */
    }, {
      key: "containsAnyMatchingElements",
      value: /* @__PURE__ */ function() {
        function q(W) {
          var se = this;
          return Array.isArray(W) && W.some(function(Te) {
            return se.containsMatchingElement(Te);
          });
        }
        return q;
      }()
      /**
       * Whether or not a given react element exists in the render tree.
       *
       * Example:
       * ```
       * const wrapper = mount(<MyComponent />);
       * expect(wrapper.contains(<div className="foo bar" />)).to.equal(true);
       * ```
       *
       * @param {ReactElement} node
       * @returns {Boolean}
       */
    }, {
      key: "equals",
      value: /* @__PURE__ */ function() {
        function q(W) {
          var se = this;
          return this.single("equals", function() {
            return (0, u.nodeEqual)(se.getNodeInternal(), W);
          });
        }
        return q;
      }()
      /**
       * Whether or not a given react element matches the render tree.
       * Match is based on the expected element and not on wrapper root node.
       * It will determine if the wrapper root node "looks like" the expected
       * element by checking if all props of the expected element are present
       * on the wrapper root node and equals to each other.
       *
       * Example:
       * ```
       * // MyComponent outputs <div class="foo">Hello</div>
       * const wrapper = mount(<MyComponent />);
       * expect(wrapper.matchesElement(<div>Hello</div>)).to.equal(true);
       * ```
       *
       * @param {ReactElement} node
       * @returns {Boolean}
       */
    }, {
      key: "matchesElement",
      value: /* @__PURE__ */ function() {
        function q(W) {
          var se = this;
          return this.single("matchesElement", function() {
            var Te = (0, f.default)(se[P]), Ae = Te.elementToNode(W);
            return (0, u.nodeMatches)(Ae, se.getNodeInternal(), function(Re, Ee) {
              return Re <= Ee;
            });
          });
        }
        return q;
      }()
      /**
       * Finds every node in the render tree of the current wrapper that matches the provided selector.
       *
       * @param {EnzymeSelector} selector
       * @returns {ReactWrapper}
       */
    }, {
      key: "find",
      value: /* @__PURE__ */ function() {
        function q(W) {
          return this.wrap((0, p.reduceTreesBySelector)(W, this.getNodesInternal()));
        }
        return q;
      }()
      /**
       * Returns whether or not current node matches a provided selector.
       *
       * NOTE: can only be called on a wrapper of a single node.
       *
       * @param {EnzymeSelector} selector
       * @returns {boolean}
       */
    }, {
      key: "is",
      value: /* @__PURE__ */ function() {
        function q(W) {
          var se = (0, p.buildPredicate)(W);
          return this.single("is", function(Te) {
            return se(Te);
          });
        }
        return q;
      }()
      /**
       * Returns true if the component rendered nothing, i.e., null or false.
       *
       * @returns {boolean}
       */
    }, {
      key: "isEmptyRender",
      value: /* @__PURE__ */ function() {
        function q() {
          var W = this.getNodeInternal();
          return (0, u.renderedDive)(W);
        }
        return q;
      }()
      /**
       * Returns a new wrapper instance with only the nodes of the current wrapper instance that match
       * the provided predicate function.
       *
       * @param {Function} predicate
       * @returns {ReactWrapper}
       */
    }, {
      key: "filterWhere",
      value: /* @__PURE__ */ function() {
        function q(W) {
          var se = this;
          return R(this, function(Te) {
            return W(se.wrap(Te));
          });
        }
        return q;
      }()
      /**
       * Returns a new wrapper instance with only the nodes of the current wrapper instance that match
       * the provided selector.
       *
       * @param {EnzymeSelector} selector
       * @returns {ReactWrapper}
       */
    }, {
      key: "filter",
      value: /* @__PURE__ */ function() {
        function q(W) {
          var se = (0, p.buildPredicate)(W);
          return R(this, se);
        }
        return q;
      }()
      /**
       * Returns a new wrapper instance with only the nodes of the current wrapper that did not match
       * the provided selector. Essentially the inverse of `filter`.
       *
       * @param {EnzymeSelector} selector
       * @returns {ReactWrapper}
       */
    }, {
      key: "not",
      value: /* @__PURE__ */ function() {
        function q(W) {
          var se = (0, p.buildPredicate)(W);
          return R(this, function(Te) {
            return !se(Te);
          });
        }
        return q;
      }()
      /**
       * Returns a string of the rendered text of the current render tree.  This function should be
       * looked at with skepticism if being used to test what the actual HTML output of the component
       * will be. If that is what you would like to test, use enzyme's `render` function instead.
       *
       * NOTE: can only be called on a wrapper of a single node.
       *
       * @returns {String}
       */
    }, {
      key: "text",
      value: /* @__PURE__ */ function() {
        function q() {
          var W = (0, f.default)(this[P]);
          return this.single("text", function(se) {
            return (0, d.getTextFromHostNodes)(se, W);
          });
        }
        return q;
      }()
      /**
       * Returns the HTML of the node.
       *
       * NOTE: can only be called on a wrapper of a single node.
       *
       * @returns {String}
       */
    }, {
      key: "html",
      value: /* @__PURE__ */ function() {
        function q() {
          var W = (0, f.default)(this[P]);
          return this.single("html", function(se) {
            return (0, d.getHTMLFromHostNodes)(se, W);
          });
        }
        return q;
      }()
      /**
       * Returns the current node rendered to HTML and wrapped in a CheerioWrapper.
       *
       * NOTE: can only be called on a wrapper of a single node.
       *
       * @returns {CheerioWrapper}
       */
    }, {
      key: "render",
      value: /* @__PURE__ */ function() {
        function q() {
          var W = this.html();
          return (0, u.loadCheerioRoot)(W);
        }
        return q;
      }()
      /**
       * Used to simulate events. Pass an eventname and (optionally) event arguments. This method of
       * testing events should be met with some skepticism.
       *
       * @param {String} event
       * @param {Object} mock (optional)
       * @returns {ReactWrapper}
       */
    }, {
      key: "simulate",
      value: /* @__PURE__ */ function() {
        function q(W) {
          var se = this, Te = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
          return this.single("simulate", function(Ae) {
            return se[E].simulateEvent(Ae, W, Te), se[S].update(), se;
          });
        }
        return q;
      }()
      /**
       * Used to simulate throwing a rendering error. Pass an error to throw.
       *
       * @param {String} error
       * @returns {ReactWrapper}
       */
    }, {
      key: "simulateError",
      value: /* @__PURE__ */ function() {
        function q(W) {
          var se = this;
          if (this[S] === this)
            throw new Error("ReactWrapper::simulateError() may not be called on the root");
          return this.single("simulateError", function(Te) {
            if (Te.nodeType === "host")
              throw new Error("ReactWrapper::simulateError() can only be called on custom components");
            var Ae = se[E];
            if (typeof Ae.simulateError != "function")
              throw new TypeError("your adapter does not support `simulateError`. Try upgrading it!");
            var Re = F(se), Ee = [Te].concat($(se, Te));
            return Ae.simulateError(Ee, Re, W), se[S].update(), se;
          });
        }
        return q;
      }()
      /**
       * Returns the props hash for the root node of the wrapper.
       *
       * NOTE: can only be called on a wrapper of a single node.
       *
       * @returns {Object}
       */
    }, {
      key: "props",
      value: /* @__PURE__ */ function() {
        function q() {
          return this.single("props", d.propsOfNode);
        }
        return q;
      }()
      /**
       * Returns the state hash for the root node of the wrapper. Optionally pass in a prop name and it
       * will return just that value.
       *
       * NOTE: can only be called on a wrapper of a single node.
       *
       * @param {String} name (optional)
       * @returns {*}
       */
    }, {
      key: "state",
      value: /* @__PURE__ */ function() {
        function q(W) {
          var se = this, Te = this[S] === this ? this[E].getNode() : this.getNodeInternal();
          if (this.instance() === null || Te.nodeType !== "class")
            throw new Error("ReactWrapper::state() can only be called on class components");
          var Ae = this.single("state", function() {
            return se.instance().state;
          });
          if (typeof W < "u") {
            if (Ae == null)
              throw new TypeError('ReactWrapper::state("' + String(W) + '") requires that `state` not be `null` or `undefined`');
            return Ae[W];
          }
          return Ae;
        }
        return q;
      }()
      /**
       * Returns the context hash for the root node of the wrapper.
       * Optionally pass in a prop name and it will return just that value.
       *
       * NOTE: can only be called on a wrapper of a single node.
       *
       * @param {String} name (optional)
       * @returns {*}
       */
    }, {
      key: "context",
      value: /* @__PURE__ */ function() {
        function q(W) {
          var se = this;
          if (this[S] !== this)
            throw new Error("ReactWrapper::context() can only be called on the root");
          var Te = this.single("context", function() {
            return se.instance();
          });
          if (Te === null)
            throw new Error("ReactWrapper::context() can only be called on components with instances");
          var Ae = Te.context;
          return typeof W < "u" ? Ae[W] : Ae;
        }
        return q;
      }()
      /**
       * Returns a new wrapper with all of the children of the current wrapper.
       *
       * @param {EnzymeSelector} [selector]
       * @returns {ReactWrapper}
       */
    }, {
      key: "children",
      value: /* @__PURE__ */ function() {
        function q(W) {
          var se = this.flatMap(function(Te) {
            return (0, d.childrenOfNode)(Te.getNodeInternal());
          });
          return W ? se.filter(W) : se;
        }
        return q;
      }()
      /**
       * Returns a new wrapper with a specific child
       *
       * @param {Number} [index]
       * @returns {ReactWrapper}
       */
    }, {
      key: "childAt",
      value: /* @__PURE__ */ function() {
        function q(W) {
          var se = this;
          return this.single("childAt", function() {
            return se.children().at(W);
          });
        }
        return q;
      }()
      /**
       * Returns a wrapper around all of the parents/ancestors of the wrapper. Does not include the node
       * in the current wrapper.
       *
       * NOTE: can only be called on a wrapper of a single node.
       *
       * @param {EnzymeSelector} [selector]
       * @returns {ReactWrapper}
       */
    }, {
      key: "parents",
      value: /* @__PURE__ */ function() {
        function q(W) {
          var se = this;
          return this.single("parents", function(Te) {
            var Ae = se.wrap($(se, Te));
            return W ? Ae.filter(W) : Ae;
          });
        }
        return q;
      }()
      /**
       * Returns a wrapper around the immediate parent of the current node.
       *
       * @returns {ReactWrapper}
       */
    }, {
      key: "parent",
      value: /* @__PURE__ */ function() {
        function q() {
          return this.flatMap(function(W) {
            return [W.parents().get(0)];
          });
        }
        return q;
      }()
      /**
       *
       * @param {EnzymeSelector} selector
       * @returns {ReactWrapper}
       */
    }, {
      key: "closest",
      value: /* @__PURE__ */ function() {
        function q(W) {
          if (this.is(W))
            return this;
          var se = this.parents().filter(W);
          return se.length > 0 ? se.first() : this.findWhere(function() {
            return false;
          });
        }
        return q;
      }()
      /**
       * Returns the value of  prop with the given name of the root node.
       *
       * @param {String} propName
       * @returns {*}
       */
    }, {
      key: "prop",
      value: /* @__PURE__ */ function() {
        function q(W) {
          return this.props()[W];
        }
        return q;
      }()
      /**
       * Used to invoke a function prop.
       * Will invoke an function prop and return its value.
       *
       * @param {String} propName
       * @returns {Any}
       */
    }, {
      key: "invoke",
      value: /* @__PURE__ */ function() {
        function q(W) {
          var se = this;
          return this.single("invoke", function() {
            var Te = se.prop(W);
            if (typeof Te != "function")
              throw new TypeError("ReactWrapper::invoke() requires the name of a prop whose value is a function");
            return function() {
              for (var Ae = arguments.length, Re = Array(Ae), Ee = 0; Ee < Ae; Ee++)
                Re[Ee] = arguments[Ee];
              var Me = typeof se[E].wrapInvoke == "function" ? se[E].wrapInvoke(function() {
                return Te.apply(void 0, Re);
              }) : Te.apply(void 0, Re);
              return se[S].update(), Me;
            };
          });
        }
        return q;
      }()
      /**
       * Returns a wrapper of the node rendered by the provided render prop.
       *
       * @param {String} propName
       * @returns {Function}
       */
    }, {
      key: "renderProp",
      value: /* @__PURE__ */ function() {
        function q(W) {
          var se = this, Te = (0, f.default)(this[P]);
          if (typeof Te.wrap != "function")
            throw new RangeError("your adapter does not support `wrap`. Try upgrading it!");
          return this.single("renderProp", function(Ae) {
            if (Ae.nodeType === "host")
              throw new TypeError("ReactWrapper::renderProp() can only be called on custom components");
            if (typeof W != "string")
              throw new TypeError("ReactWrapper::renderProp(): `propName` must be a string");
            var Re = se.props();
            if (!(0, l.default)(Re, W))
              throw new Error("ReactWrapper::renderProp(): no prop called “" + String(W) + "“ found");
            var Ee = Re[W];
            if (typeof Ee != "function")
              throw new TypeError("ReactWrapper::renderProp(): expected prop “" + String(W) + "“ to contain a function, but it holds “" + (typeof Ee > "u" ? "undefined" : t(Ee)) + "“");
            return function() {
              var Me = Ee.apply(void 0, arguments), Ne = Te.wrap(Me);
              return se.wrap(Ne, null, se[P]);
            };
          });
        }
        return q;
      }()
      /**
       * Returns the key assigned to the current node.
       *
       * @returns {String}
       */
    }, {
      key: "key",
      value: /* @__PURE__ */ function() {
        function q() {
          return this.single("key", function(W) {
            return W.key === void 0 ? null : W.key;
          });
        }
        return q;
      }()
      /**
       * Returns the type of the root node of this wrapper. If it's a composite component, this will be
       * the component constructor. If it's native DOM node, it will be a string.
       *
       * @returns {String|Function}
       */
    }, {
      key: "type",
      value: /* @__PURE__ */ function() {
        function q() {
          return this.single("type", function(W) {
            return (0, u.typeOfNode)(W);
          });
        }
        return q;
      }()
      /**
       * Returns the name of the root node of this wrapper.
       *
       * In order of precedence => type.displayName -> type.name -> type.
       *
       * @returns {String}
       */
    }, {
      key: "name",
      value: /* @__PURE__ */ function() {
        function q() {
          var W = (0, f.default)(this[P]);
          return this.single("name", function(se) {
            return W.displayNameOfNode ? W.displayNameOfNode(se) : (0, u.displayNameOfNode)(se);
          });
        }
        return q;
      }()
      /**
       * Returns whether or not the current root node has the given class name or not.
       *
       * NOTE: can only be called on a wrapper of a single node.
       *
       * @param {String} className
       * @returns {Boolean}
       */
    }, {
      key: "hasClass",
      value: /* @__PURE__ */ function() {
        function q(W) {
          return typeof W == "string" && W.indexOf(".") !== -1 && console.warn("It looks like you're calling `ReactWrapper::hasClass()` with a CSS selector. hasClass() expects a class name, not a CSS selector."), this.single("hasClass", function(se) {
            return (0, d.hasClassName)(se, W);
          });
        }
        return q;
      }()
      /**
       * Iterates through each node of the current wrapper and executes the provided function with a
       * wrapper around the corresponding node passed in as the first argument.
       *
       * @param {Function} fn
       * @returns {ReactWrapper}
       */
    }, {
      key: "forEach",
      value: /* @__PURE__ */ function() {
        function q(W) {
          var se = this;
          return this.getNodesInternal().forEach(function(Te, Ae) {
            return W.call(se, se.wrap(Te), Ae);
          }), this;
        }
        return q;
      }()
      /**
       * Maps the current array of nodes to another array. Each node is passed in as a `ReactWrapper`
       * to the map function.
       *
       * @param {Function} fn
       * @returns {Array}
       */
    }, {
      key: "map",
      value: /* @__PURE__ */ function() {
        function q(W) {
          var se = this;
          return this.getNodesInternal().map(function(Te, Ae) {
            return W.call(se, se.wrap(Te), Ae);
          });
        }
        return q;
      }()
      /**
       * Reduces the current array of nodes to another array.
       * Each node is passed in as a `ShallowWrapper` to the reducer function.
       *
       * @param {Function} fn - the reducer function
       * @param {*} initialValue - the initial value
       * @returns {*}
       */
    }, {
      key: "reduce",
      value: /* @__PURE__ */ function() {
        function q(W) {
          var se = this, Te = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : void 0;
          return arguments.length > 1 ? this.getNodesInternal().reduce(function(Ae, Re, Ee) {
            return W.call(se, Ae, se.wrap(Re), Ee);
          }, Te) : this.getNodesInternal().reduce(function(Ae, Re, Ee) {
            return W.call(se, Ee === 1 ? se.wrap(Ae) : Ae, se.wrap(Re), Ee);
          });
        }
        return q;
      }()
      /**
       * Reduces the current array of nodes to another array, from right to left. Each node is passed
       * in as a `ShallowWrapper` to the reducer function.
       *
       * @param {Function} fn - the reducer function
       * @param {*} initialValue - the initial value
       * @returns {*}
       */
    }, {
      key: "reduceRight",
      value: /* @__PURE__ */ function() {
        function q(W) {
          var se = this, Te = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : void 0;
          return arguments.length > 1 ? this.getNodesInternal().reduceRight(function(Ae, Re, Ee) {
            return W.call(se, Ae, se.wrap(Re), Ee);
          }, Te) : this.getNodesInternal().reduceRight(function(Ae, Re, Ee) {
            return W.call(se, Ee === 1 ? se.wrap(Ae) : Ae, se.wrap(Re), Ee);
          });
        }
        return q;
      }()
      /**
       * Returns a new wrapper with a subset of the nodes of the original wrapper, according to the
       * rules of `Array#slice`.
       *
       * @param {Number} begin
       * @param {Number} end
       * @returns {ShallowWrapper}
       */
    }, {
      key: "slice",
      value: /* @__PURE__ */ function() {
        function q(W, se) {
          return this.wrap(this.getNodesInternal().slice(W, se));
        }
        return q;
      }()
      /**
       * Returns whether or not any of the nodes in the wrapper match the provided selector.
       *
       * @param {EnzymeSelector} selector
       * @returns {Boolean}
       */
    }, {
      key: "some",
      value: /* @__PURE__ */ function() {
        function q(W) {
          if (this[S] === this)
            throw new Error("ReactWrapper::some() can not be called on the root");
          var se = (0, p.buildPredicate)(W);
          return this.getNodesInternal().some(se);
        }
        return q;
      }()
      /**
       * Returns whether or not any of the nodes in the wrapper pass the provided predicate function.
       *
       * @param {Function} predicate
       * @returns {Boolean}
       */
    }, {
      key: "someWhere",
      value: /* @__PURE__ */ function() {
        function q(W) {
          var se = this;
          return this.getNodesInternal().some(function(Te, Ae) {
            return W.call(se, se.wrap(Te), Ae);
          });
        }
        return q;
      }()
      /**
       * Returns whether or not all of the nodes in the wrapper match the provided selector.
       *
       * @param {EnzymeSelector} selector
       * @returns {Boolean}
       */
    }, {
      key: "every",
      value: /* @__PURE__ */ function() {
        function q(W) {
          var se = (0, p.buildPredicate)(W);
          return this.getNodesInternal().every(se);
        }
        return q;
      }()
      /**
       * Returns whether or not any of the nodes in the wrapper pass the provided predicate function.
       *
       * @param {Function} predicate
       * @returns {Boolean}
       */
    }, {
      key: "everyWhere",
      value: /* @__PURE__ */ function() {
        function q(W) {
          var se = this;
          return this.getNodesInternal().every(function(Te, Ae) {
            return W.call(se, se.wrap(Te), Ae);
          });
        }
        return q;
      }()
      /**
       * Utility method used to create new wrappers with a mapping function that returns an array of
       * nodes in response to a single node wrapper. The returned wrapper is a single wrapper around
       * all of the mapped nodes flattened (and de-duplicated).
       *
       * @param {Function} fn
       * @returns {ReactWrapper}
       */
    }, {
      key: "flatMap",
      value: /* @__PURE__ */ function() {
        function q(W) {
          var se = this, Te = this.getNodesInternal().map(function(Re, Ee) {
            return W.call(se, se.wrap(Re), Ee);
          }), Ae = (0, a.default)(Te, 1);
          return this.wrap(Ae.filter(Boolean));
        }
        return q;
      }()
      /**
       * Finds all nodes in the current wrapper nodes' render trees that match the provided predicate
       * function.
       *
       * @param {Function} predicate
       * @returns {ReactWrapper}
       */
    }, {
      key: "findWhere",
      value: /* @__PURE__ */ function() {
        function q(W) {
          var se = this;
          return A(this, function(Te) {
            var Ae = se.wrap(Te);
            return Ae.length > 0 && W(Ae);
          });
        }
        return q;
      }()
      /**
       * Returns the node at a given index of the current wrapper.
       *
       * @param {Number} index
       * @returns {ReactElement}
       */
    }, {
      key: "get",
      value: /* @__PURE__ */ function() {
        function q(W) {
          return this.getElements()[W];
        }
        return q;
      }()
      /**
       * Returns a wrapper around the node at a given index of the current wrapper.
       *
       * @param {Number} index
       * @returns {ReactWrapper}
       */
    }, {
      key: "at",
      value: /* @__PURE__ */ function() {
        function q(W) {
          var se = this.getNodesInternal();
          return W < se.length ? this.wrap(se[W]) : this.wrap([]);
        }
        return q;
      }()
      /**
       * Returns a wrapper around the first node of the current wrapper.
       *
       * @returns {ReactWrapper}
       */
    }, {
      key: "first",
      value: /* @__PURE__ */ function() {
        function q() {
          return this.at(0);
        }
        return q;
      }()
      /**
       * Returns a wrapper around the last node of the current wrapper.
       *
       * @returns {ReactWrapper}
       */
    }, {
      key: "last",
      value: /* @__PURE__ */ function() {
        function q() {
          return this.at(this.length - 1);
        }
        return q;
      }()
      /**
       * Delegates to exists()
       *
       * @returns {boolean}
       */
    }, {
      key: "isEmpty",
      value: /* @__PURE__ */ function() {
        function q() {
          return console.warn("Enzyme::Deprecated method isEmpty() called, use exists() instead."), !this.exists();
        }
        return q;
      }()
      /**
       * Returns true if the current wrapper has nodes. False otherwise.
       * If called with a selector it returns `.find(selector).exists()` instead.
       *
       * @param {EnzymeSelector} selector (optional)
       * @returns {boolean}
       */
    }, {
      key: "exists",
      value: /* @__PURE__ */ function() {
        function q() {
          var W = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : null;
          return arguments.length > 0 ? this.find(W).exists() : this.length > 0;
        }
        return q;
      }()
      /**
       * Utility method that throws an error if the current instance has a length other than one.
       * This is primarily used to enforce that certain methods are only run on a wrapper when it is
       * wrapping a single node.
       *
       * @param {Function} fn
       * @returns {*}
       */
    }, {
      key: "single",
      value: /* @__PURE__ */ function() {
        function q(W, se) {
          var Te = typeof W == "string" ? W : "unknown", Ae = typeof se == "function" ? se : W;
          if (this.length !== 1)
            throw new Error("Method “" + Te + "” is meant to be run on 1 node. " + String(this.length) + " found instead.");
          return Ae.call(this, this.getNodeInternal());
        }
        return q;
      }()
      /**
       * Helpful utility method to create a new wrapper with the same root as the current wrapper, with
       * any nodes passed in as the first parameter automatically wrapped.
       *
       * @param {ReactWrapper|ReactElement|Array<ReactElement>} node
       * @returns {ReactWrapper}
       */
    }, {
      key: "wrap",
      value: /* @__PURE__ */ function() {
        function q(W) {
          var se = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : this[S];
          if (W instanceof oe)
            return W;
          for (var Te = arguments.length, Ae = Array(Te > 2 ? Te - 2 : 0), Re = 2; Re < Te; Re++)
            Ae[Re - 2] = arguments[Re];
          return new (Function.prototype.bind.apply(oe, [null].concat([W, se], Ae)))();
        }
        return q;
      }()
      /**
       * Returns an HTML-like string of the shallow render for debugging purposes.
       *
       * @param {Object} [options] - Property bag of additional options.
       * @param {boolean} [options.ignoreProps] - if true, props are omitted from the string.
       * @param {boolean} [options.verbose] - if true, arrays and objects to be verbosely printed.
       * @returns {String}
       */
    }, {
      key: "debug",
      value: /* @__PURE__ */ function() {
        function q() {
          var W = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
          return (0, h.debugNodes)(this.getNodesInternal(), W);
        }
        return q;
      }()
      /**
       * Invokes intercepter and returns itself. intercepter is called with itself.
       * This is helpful when debugging nodes in method chains.
       * @param fn
       * @returns {ReactWrapper}
       */
    }, {
      key: "tap",
      value: /* @__PURE__ */ function() {
        function q(W) {
          return W(this), this;
        }
        return q;
      }()
      /**
       * Detaches the react tree from the DOM. Runs `ReactDOM.unmountComponentAtNode()` under the hood.
       *
       * This method will most commonly be used as a "cleanup" method if you decide to use the
       * `attachTo` option in `mount(node, options)`.
       *
       * The method is intentionally not "fluent" (in that it doesn't return `this`) because you should
       * not be doing anything with this wrapper after this method is called.
       */
    }, {
      key: "detach",
      value: /* @__PURE__ */ function() {
        function q() {
          if (this[S] !== this)
            throw new Error("ReactWrapper::detach() can only be called on the root");
          if (!this[P].attachTo)
            throw new Error("ReactWrapper::detach() can only be called on when the `attachTo` option was passed into `mount()`.");
          this[E].unmount();
        }
        return q;
      }()
      /**
       * Strips out all the not host-nodes from the list of nodes
       *
       * This method is useful if you want to check for the presence of host nodes
       * (actually rendered HTML elements) ignoring the React nodes.
       */
    }, {
      key: "hostNodes",
      value: /* @__PURE__ */ function() {
        function q() {
          return this.filterWhere(function(W) {
            return typeof W.type() == "string";
          });
        }
        return q;
      }()
    }]), oe;
  }(), J = function(oe) {
    b(q, oe);
    function q(W, se) {
      y(this, q);
      var Te = v(this, (q.__proto__ || Object.getPrototypeOf(q)).call(this, se.getNode(), W));
      return (0, u.privateSet)(Te, S, Te), (0, u.privateSet)(Te, E, se), Te[N].push(W), Te;
    }
    return r(q, [{
      key: "getWrappingComponent",
      value: /* @__PURE__ */ function() {
        function W() {
          throw new TypeError("ReactWrapper::getWrappingComponent() can only be called on the root");
        }
        return W;
      }()
    }]), q;
  }(ie);
  u.ITERATOR_SYMBOL && Object.defineProperty(ie.prototype, u.ITERATOR_SYMBOL, {
    configurable: true,
    value: /* @__PURE__ */ function() {
      function oe() {
        var q, W = this[T][u.ITERATOR_SYMBOL](), se = (0, f.default)(this[P]);
        return q = {}, g(q, u.ITERATOR_SYMBOL, function() {
          return this;
        }), g(q, "next", /* @__PURE__ */ function() {
          function Te() {
            var Ae = W.next();
            return Ae.done ? {
              done: true
            } : {
              done: false,
              value: se.nodeToElement(Ae.value)
            };
          }
          return Te;
        }()), q;
      }
      return oe;
    }()
  });
  function pe(oe, q) {
    Object.defineProperty(ie.prototype, oe, {
      get: /* @__PURE__ */ function() {
        function W() {
          throw new Error(`
        Attempted to access ReactWrapper::` + String(oe) + `, which was previously a private property on
        Enzyme ReactWrapper instances, but is no longer and should not be relied upon.
        ` + String(q) + `
      `);
        }
        return W;
      }(),
      enumerable: false,
      configurable: false
    });
  }
  pe("node", "Consider using the getElement() method instead."), pe("nodes", "Consider using the getElements() method instead."), pe("renderer", ""), pe("options", ""), pe("complexSelector", ""), e13.default = ie;
})(QR);
var qN = {};
(function(e13) {
  Object.defineProperty(e13, "__esModule", {
    value: true
  });
  var t = /* @__PURE__ */ function() {
    function xe(ne, ce, _e) {
      ne === null && (ne = Function.prototype);
      var ee = Object.getOwnPropertyDescriptor(ne, ce);
      if (ee === void 0) {
        var de = Object.getPrototypeOf(ne);
        return de === null ? void 0 : xe(de, ce, _e);
      } else {
        if ("value" in ee)
          return ee.value;
        var Ce = ee.get;
        return Ce === void 0 ? void 0 : Ce.call(_e);
      }
    }
    return xe;
  }(), r = /* @__PURE__ */ function() {
    function xe(ne, ce) {
      for (var _e = 0; _e < ce.length; _e++) {
        var ee = ce[_e];
        ee.enumerable = ee.enumerable || false, ee.configurable = true, "value" in ee && (ee.writable = true), Object.defineProperty(ne, ee.key, ee);
      }
    }
    return function(ne, ce, _e) {
      return ce && xe(ne.prototype, ce), _e && xe(ne, _e), ne;
    };
  }(), n = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function(xe) {
    return typeof xe;
  } : function(xe) {
    return xe && typeof Symbol == "function" && xe.constructor === Symbol && xe !== Symbol.prototype ? "symbol" : typeof xe;
  }, i = tp, o = b(i), a = Xv, s = b(a), l = np, u = b(l), c = g7, f = b(c), h = Wv, d = ac, p = b(d), m = sc, g = _n, v = hp;
  function b(xe) {
    return xe && xe.__esModule ? xe : {
      default: xe
    };
  }
  function y(xe, ne) {
    if (!xe)
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    return ne && (typeof ne == "object" || typeof ne == "function") ? ne : xe;
  }
  function _(xe, ne) {
    if (typeof ne != "function" && ne !== null)
      throw new TypeError("Super expression must either be null or a function, not " + typeof ne);
    xe.prototype = Object.create(ne && ne.prototype, {
      constructor: {
        value: xe,
        enumerable: false,
        writable: true,
        configurable: true
      }
    }), ne && (Object.setPrototypeOf ? Object.setPrototypeOf(xe, ne) : xe.__proto__ = ne);
  }
  function T(xe) {
    if (Array.isArray(xe)) {
      for (var ne = 0, ce = Array(xe.length); ne < xe.length; ne++)
        ce[ne] = xe[ne];
      return ce;
    } else
      return Array.from(xe);
  }
  function E(xe, ne) {
    if (!(xe instanceof ne))
      throw new TypeError("Cannot call a class as a function");
  }
  function O(xe, ne, ce) {
    return ne in xe ? Object.defineProperty(xe, ne, {
      value: ce,
      enumerable: true,
      configurable: true,
      writable: true
    }) : xe[ne] = ce, xe;
  }
  var S = (0, h.sym)("__node__"), P = (0, h.sym)("__nodes__"), C = (0, h.sym)("__renderer__"), w = (0, h.sym)("__unrendered__"), N = (0, h.sym)("__root__"), L = (0, h.sym)("__options__"), A = (0, h.sym)("__setState__"), R = (0, h.sym)("__rootNodes__"), F = (0, h.sym)("__childContext__"), $ = (0, h.sym)("__wrappingComponent__"), K = (0, h.sym)("__primaryWrapper__"), ie = (0, h.sym)("__rootFinder__"), J = (0, h.sym)("__providerValues__");
  function pe(xe, ne) {
    var ce = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : g.treeFilter;
    return xe.flatMap(function(_e) {
      return ce(_e.getNodeInternal(), ne);
    });
  }
  function oe(xe, ne) {
    return xe.wrap(xe.getNodesInternal().filter(ne).filter(Boolean));
  }
  function q(xe) {
    var ne = xe.lifecycleExperimental, ce = xe.disableLifecycleMethods, _e = xe.enableComponentDidUpdateOnSetState, ee = xe.supportPrevContextArgumentOfComponentDidUpdate, de = xe.lifecycles;
    if (typeof ne < "u" && typeof ne != "boolean")
      throw new Error("lifecycleExperimental must be either true or false if provided");
    if (typeof ce < "u" && typeof ce != "boolean")
      throw new Error("disableLifecycleMethods must be either true or false if provided");
    if (ne != null && ce != null && ne === ce)
      throw new Error("lifecycleExperimental and disableLifecycleMethods cannot be set to the same value");
    if (typeof _e < "u" && de.componentDidUpdate && de.componentDidUpdate.onSetState !== _e)
      throw new TypeError("the legacy enableComponentDidUpdateOnSetState option should be matched by `lifecycles: { componentDidUpdate: { onSetState: true } }`, for compatibility");
    if (typeof ee < "u" && de.componentDidUpdate && de.componentDidUpdate.prevContext !== ee)
      throw new TypeError("the legacy supportPrevContextArgumentOfComponentDidUpdate option should be matched by `lifecycles: { componentDidUpdate: { prevContext: true } }`, for compatibility");
  }
  function W(xe) {
    var ne = xe.options, ce = ne.lifecycles, _e = ce === void 0 ? {} : ce, ee = ne.enableComponentDidUpdateOnSetState, de = ne.supportPrevContextArgumentOfComponentDidUpdate, Ce = typeof ee < "u", ke = typeof de < "u", Ve = Ce || ke ? (0, o.default)({}, Ce && {
      onSetState: !!ee
    }, ke && {
      prevContext: !!de
    }) : null, We = _e.getDerivedStateFromProps, Ze = We ? {
      hasShouldComponentUpdateBug: !!We.hasShouldComponentUpdateBug
    } : false;
    return (0, o.default)({}, _e, {
      setState: (0, o.default)({}, _e.setState),
      getChildContext: (0, o.default)({
        calledByRenderer: true
      }, _e.getChildContext)
    }, Ve && {
      componentDidUpdate: Ve
    }, {
      getDerivedStateFromProps: Ze
    });
  }
  function se(xe) {
    return xe.nodeType === "host" ? xe : xe.rendered;
  }
  function Te(xe) {
    if (xe[N].length !== 1)
      throw new Error("getRootNodeInternal(wrapper) can only be called when wrapper wraps one node");
    return xe[N] !== xe ? xe[R][0] : xe[N][S];
  }
  function Ae(xe, ne) {
    return (0, g.parentsOfNode)(ne, Te(xe));
  }
  function Re(xe, ne) {
    Array.isArray(ne) ? ((0, h.privateSet)(xe, S, ne[0]), (0, h.privateSet)(xe, P, ne)) : ((0, h.privateSet)(xe, S, ne), (0, h.privateSet)(xe, P, [ne])), (0, h.privateSet)(xe, "length", xe[P].length);
  }
  function Ee(xe, ne, ce, _e) {
    return !(0, f.default)(xe, ne) || !(0, f.default)(ce, _e);
  }
  function Me(xe) {
    return xe && xe.isPureReactComponent;
  }
  function Ne(xe, ne, ce) {
    var _e = xe.instance, ee = xe.type, de = (0, h.displayNameOfNode)(xe);
    if (n(ee.childContextTypes) !== "object")
      return console.warn(String(de) + ".getChildContext(): childContextTypes must be defined in order to use getChildContext()."), {};
    var Ce = _e.getChildContext();
    return Object.keys(Ce).forEach(function(ke) {
      if (!(ke in ee.childContextTypes))
        throw new Error(String(de) + '.getChildContext(): key "' + String(ke) + '" is not defined in childContextTypes.');
    }), typeof ce.checkPropTypes == "function" && ce.checkPropTypes(ee.childContextTypes, Ce, "child context", ne), Ce;
  }
  function Oe(xe, ne) {
    return !(0, h.isCustomComponentElement)(xe, ne) || !xe.type.prototype || typeof xe.type.prototype.getChildContext != "function" ? null : (0, h.spyMethod)(xe.type.prototype, "getChildContext");
  }
  function Fe(xe, ne, ce, _e, ee) {
    var de = ne[C];
    if (xe.options.legacyContextMode === "parent")
      if (ee)
        (0, h.privateSet)(ne, F, ee.getLastReturnValue()), ee.restore();
      else if (typeof ce.getChildContext == "function") {
        var Ce = [ne[S]].concat(Ae(ne, ne[S])), ke = Ne(_e, Ce, de);
        (0, h.privateSet)(ne, F, ke);
      } else
        (0, h.privateSet)(ne, F, null);
  }
  function Ue(xe, ne) {
    var ce = xe.type.getDerivedStateFromProps;
    if (typeof ce == "function")
      var _e = xe.instance, ee = (0, h.spyMethod)(_e, "shouldComponentUpdate", function(Ce) {
        return /* @__PURE__ */ function() {
          function ke() {
            _e.state = ne;
            for (var Ve = arguments.length, We = Array(Ve), Ze = 0; Ze < Ve; Ze++)
              We[Ze] = arguments[Ze];
            var rt = Ce.apply(_e, We), ut = We[1];
            return _e.state = ut, de(), rt;
          }
          return ke;
        }();
      }), de = ee.restore;
  }
  function et(xe, ne, ce) {
    var _e = xe[S], ee = _e && ce.nodeToElement(_e);
    if (xe.type() === ne)
      return xe.dive();
    if (ee && (0, h.isCustomComponentElement)(ee, ce))
      return et(xe.dive(), ne, ce);
    for (var de = xe.children(), Ce = 0; Ce < de.length; Ce += 1) {
      var ke = et(de.at(Ce), ne, ce);
      if (typeof ke < "u")
        return ke;
    }
  }
  function ot(xe, ne) {
    var ce = et(xe, xe[ie], ne);
    if (!ce)
      throw new Error("`wrappingComponent` must render its children!");
    return {
      legacyContext: ce[L].context,
      providerValues: ce[J]
    };
  }
  function Ke(xe, ne, ce, _e) {
    var ee = (0, h.makeOptions)(ce), de = (0, p.default)(ce);
    if ((0, h.privateSet)(ee, J, ce[J]), ne || !(0, h.isCustomComponent)(ee.wrappingComponent, de))
      return ee;
    if (typeof de.wrapWithWrappingComponent != "function")
      throw new TypeError("your adapter does not support `wrappingComponent`. Try upgrading it!");
    var Ce = de.wrapWithWrappingComponent(xe, ee), ke = Ce.node, Ve = Ce.RootFinder, We = new rn(ke, _e, Ve), Ze = ot(We, de), rt = Ze.legacyContext, ut = Ze.providerValues;
    return (0, h.privateSet)(_e, $, We), (0, o.default)({}, ee, O({
      context: (0, o.default)({}, ee.context, rt)
    }, J, ut));
  }
  function ht(xe) {
    var ne = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {}, ce = (0, o.default)({}, xe[L], ne, {
      context: ne.context || (0, o.default)({}, xe[L].context, xe[N][F])
    });
    return (0, h.privateSet)(ce, J, xe[N][J]), ce;
  }
  var bt = function() {
    function xe(ne, ce) {
      var _e = this, ee = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};
      E(this, xe), q(ee);
      var de = Ke(ne, ce, ee, this), Ce = (0, p.default)(de), ke = W(Ce);
      if (ce)
        (0, h.privateSet)(this, N, ce), (0, h.privateSet)(this, w, null), (0, h.privateSet)(this, C, ce[C]), Re(this, ne), (0, h.privateSet)(this, L, ce[L]), (0, h.privateSet)(this, R, ce[P]), (0, h.privateSet)(this, J, null);
      else {
        if (!Ce.isValidElement(ne))
          throw new TypeError("ShallowWrapper can only wrap valid elements");
        var Ve = ke.getChildContext.calledByRenderer ? Oe(ne, Ce) : null;
        (0, h.privateSet)(this, N, this), (0, h.privateSet)(this, w, ne);
        var We = Ce.createRenderer((0, o.default)({
          mode: "shallow"
        }, de));
        (0, h.privateSet)(this, C, We);
        var Ze = new Map(de[J] || []);
        this[C].render(ne, de.context, {
          providerValues: Ze
        });
        var rt = this[C].getNode();
        Re(this, se(rt)), (0, h.privateSet)(this, L, de), (0, h.privateSet)(this, J, Ze);
        var ut = rt.instance;
        ut && !de.disableLifecycleMethods && (ke.componentDidUpdate.onSetState && !ut[A] && ((0, h.privateSet)(ut, A, ut.setState), ut.setState = function(Dt) {
          var gt = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : void 0;
          return _e.setState.apply(_e, T(gt == null ? [Dt] : [Dt, gt]));
        }), typeof ut.componentDidMount == "function" && this[C].batchedUpdates(function() {
          ut.componentDidMount();
        }), Fe(Ce, this, ut, rt, Ve));
      }
    }
    return r(xe, [{
      key: "root",
      value: /* @__PURE__ */ function() {
        function ne() {
          return this[N];
        }
        return ne;
      }()
      /**
       * Returns the wrapped component.
       *
       * @return {ReactComponent}
       */
    }, {
      key: "getNodeInternal",
      value: /* @__PURE__ */ function() {
        function ne() {
          if (this.length !== 1)
            throw new Error("ShallowWrapper::getNode() can only be called when wrapping one node");
          return this[N] === this && this.update(), this[S];
        }
        return ne;
      }()
      /**
       * Returns the the wrapped components.
       *
       * @return {Array<ReactComponent>}
       */
    }, {
      key: "getNodesInternal",
      value: /* @__PURE__ */ function() {
        function ne() {
          return this[N] === this && this.length === 1 && this.update(), this[P];
        }
        return ne;
      }()
      /**
       * Returns the wrapped ReactElement.
       *
       * @return {ReactElement}
       */
    }, {
      key: "getElement",
      value: /* @__PURE__ */ function() {
        function ne() {
          var ce = this;
          return this.single("getElement", function(_e) {
            return (0, p.default)(ce[L]).nodeToElement(_e);
          });
        }
        return ne;
      }()
      /**
       * Returns the wrapped ReactElements.
       *
       * @return {Array<ReactElement>}
       */
    }, {
      key: "getElements",
      value: /* @__PURE__ */ function() {
        function ne() {
          var ce = this;
          return this.getNodesInternal().map(function(_e) {
            return (0, p.default)(ce[L]).nodeToElement(_e);
          });
        }
        return ne;
      }()
      // eslint-disable-next-line class-methods-use-this
    }, {
      key: "getNode",
      value: /* @__PURE__ */ function() {
        function ne() {
          throw new Error("ShallowWrapper::getNode() is no longer supported. Use ShallowWrapper::getElement() instead");
        }
        return ne;
      }()
      // eslint-disable-next-line class-methods-use-this
    }, {
      key: "getNodes",
      value: /* @__PURE__ */ function() {
        function ne() {
          throw new Error("ShallowWrapper::getNodes() is no longer supported. Use ShallowWrapper::getElements() instead");
        }
        return ne;
      }()
      /**
       * Gets the instance of the component being rendered as the root node passed into `shallow()`.
       *
       * NOTE: can only be called on a wrapper instance that is also the root instance.
       *
       * Example:
       * ```
       * const wrapper = shallow(<MyComponent />);
       * const inst = wrapper.instance();
       * expect(inst).to.be.instanceOf(MyComponent);
       * ```
       * @returns {ReactComponent}
       */
    }, {
      key: "instance",
      value: /* @__PURE__ */ function() {
        function ne() {
          if (this[N] !== this)
            throw new Error("ShallowWrapper::instance() can only be called on the root");
          return this[C].getNode().instance;
        }
        return ne;
      }()
      /**
       * If a `wrappingComponent` was passed in `options`, this methods returns a `ShallowWrapper`
       * around the rendered `wrappingComponent`. This `ShallowWrapper` can be used to update the
       * `wrappingComponent`'s props, state, etc.
       *
       * @returns ShallowWrapper
       */
    }, {
      key: "getWrappingComponent",
      value: /* @__PURE__ */ function() {
        function ne() {
          if (this[N] !== this)
            throw new Error("ShallowWrapper::getWrappingComponent() can only be called on the root");
          if (!this[L].wrappingComponent)
            throw new Error("ShallowWrapper::getWrappingComponent() can only be called on a wrapper that was originally passed a `wrappingComponent` option");
          return this[$];
        }
        return ne;
      }()
      /**
       * Forces a re-render. Useful to run before checking the render output if something external
       * may be updating the state of the component somewhere.
       *
       * NOTE: can only be called on a wrapper instance that is also the root instance.
       *
       * @returns {ShallowWrapper}
       */
    }, {
      key: "update",
      value: /* @__PURE__ */ function() {
        function ne() {
          if (this[N] !== this)
            throw new Error("ShallowWrapper::update() can only be called on the root");
          if (this.length !== 1)
            throw new Error("ShallowWrapper::update() can only be called when wrapping one node");
          return Re(this, se(this[C].getNode())), this;
        }
        return ne;
      }()
      /**
       * A method that unmounts the component. This can be used to simulate a component going through
       * and unmount/mount lifecycle.
       * @returns {ShallowWrapper}
       */
    }, {
      key: "unmount",
      value: /* @__PURE__ */ function() {
        function ne() {
          return this[C].unmount(), this[N][$] && this[N][$].unmount(), this;
        }
        return ne;
      }()
      /**
       * A method is for re-render with new props and context.
       * This calls componentDidUpdate method if disableLifecycleMethods is not enabled.
       *
       * NOTE: can only be called on a wrapper instance that is also the root instance.
       *
       * @param {Object} props
       * @param {Object} context
       * @returns {ShallowWrapper}
       */
    }, {
      key: "rerender",
      value: /* @__PURE__ */ function() {
        function ne(ce, _e) {
          var ee = this, de = (0, p.default)(this[L]);
          return this.single("rerender", function() {
            (0, h.withSetStateAllowed)(function() {
              var Ce = ee[C].getNode(), ke = Ce.instance || {}, Ve = Ce.type || {}, We = ke.state, Ze = ke.props || ee[w].props, rt = ke.context || ee[L].context, ut = _e || rt;
              _e && (ee[L] = (0, o.default)({}, ee[L], {
                context: ut
              })), ee[C].batchedUpdates(function() {
                var Dt = W(de), gt = true, pr = void 0, H = void 0;
                if (!ee[L].disableLifecycleMethods && ke) {
                  if (typeof ke.shouldComponentUpdate == "function") {
                    var x = Dt.getDerivedStateFromProps;
                    x && x.hasShouldComponentUpdateBug && Ue(Ce, We), pr = (0, h.spyMethod)(ke, "shouldComponentUpdate");
                  }
                  Dt.getChildContext.calledByRenderer && typeof ke.getChildContext == "function" && (H = (0, h.spyMethod)(ke, "getChildContext"));
                }
                if (!pr && Me(ke) && (gt = Ee(Ze, ce, We, ke.state)), ce && (ee[w] = (0, h.cloneElement)(de, ee[w], ce)), ee[C].render(ee[w], ut, {
                  providerValues: ee[J]
                }), pr && (gt = pr.getLastReturnValue(), pr.restore()), gt && !ee[L].disableLifecycleMethods && ke)
                  if (Fe(de, ee, ke, Ce, H), Dt.getSnapshotBeforeUpdate) {
                    var B = void 0;
                    typeof ke.getSnapshotBeforeUpdate == "function" && (B = ke.getSnapshotBeforeUpdate(Ze, We)), Dt.componentDidUpdate && typeof ke.componentDidUpdate == "function" && (!We || (0, f.default)(We, ee.instance().state) || typeof Ve.getDerivedStateFromProps == "function") && ke.componentDidUpdate(Ze, We, B);
                  } else Dt.componentDidUpdate && typeof ke.componentDidUpdate == "function" && (Dt.componentDidUpdate.prevContext ? ke.componentDidUpdate(Ze, We, rt) : (!We || (0, f.default)(ee.instance().state, We)) && ke.componentDidUpdate(Ze, We));
                else (0, f.default)(ce, ke.props) || (ke.props = (Object.freeze || Object)((0, o.default)({}, ke.props, ce)));
                ee.update();
              });
            });
          }), this;
        }
        return ne;
      }()
      /**
       * A method that sets the props of the root component, and re-renders. Useful for when you are
       * wanting to test how the component behaves over time with changing props. Calling this, for
       * instance, will call the `componentWillReceiveProps` lifecycle method.
       *
       * Similar to `setState`, this method accepts a props object and will merge it in with the already
       * existing props.
       *
       * NOTE: can only be called on a wrapper instance that is also the root instance.
       *
       * @param {Object} props object
       * @param {Function} cb - callback function
       * @returns {ShallowWrapper}
       */
    }, {
      key: "setProps",
      value: /* @__PURE__ */ function() {
        function ne(ce) {
          var _e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : void 0;
          if (this[N] !== this)
            throw new Error("ShallowWrapper::setProps() can only be called on the root");
          if (arguments.length > 1 && typeof _e != "function")
            throw new TypeError("ReactWrapper::setProps() expects a function as its second argument");
          return this.rerender(ce), _e && _e(), this;
        }
        return ne;
      }()
      /**
       * A method to invoke `setState` on the root component instance similar to how you might in the
       * definition of the component, and re-renders.  This method is useful for testing your component
       * in hard to achieve states, however should be used sparingly. If possible, you should utilize
       * your component's external API in order to get it into whatever state you want to test, in order
       * to be as accurate of a test as possible. This is not always practical, however.
       *
       * NOTE: can only be called on a wrapper instance that is also the root instance.
       *
       * @param {Object} state to merge
       * @param {Function} cb - callback function
       * @returns {ShallowWrapper}
       */
    }, {
      key: "setState",
      value: /* @__PURE__ */ function() {
        function ne(ce) {
          var _e = this, ee = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : void 0;
          if (this[N] !== this)
            throw new Error("ShallowWrapper::setState() can only be called on the root");
          if (this.instance() === null || this[C].getNode().nodeType !== "class")
            throw new Error("ShallowWrapper::setState() can only be called on class components");
          if (arguments.length > 1 && typeof ee != "function")
            throw new TypeError("ReactWrapper::setState() expects a function as its second argument");
          return this.single("setState", function() {
            (0, h.withSetStateAllowed)(function() {
              var de = (0, p.default)(_e[L]), Ce = W(de), ke = _e[C].getNode(), Ve = ke.instance, We = Ve.props, Ze = Ve.state, rt = Ve.context, ut = typeof ce == "function" ? ce.call(Ve, Ze, We) : ce, Dt = !Ce.setState.skipsComponentDidUpdateOnNullish || ut != null, gt = void 0, pr = void 0, H = true;
              if (!_e[L].disableLifecycleMethods && Ve) {
                if (Ce.componentDidUpdate && Ce.componentDidUpdate.onSetState && typeof Ve.shouldComponentUpdate == "function") {
                  var x = Ce.getDerivedStateFromProps;
                  x && x.hasShouldComponentUpdateBug && Ue(ke, ce), gt = (0, h.spyMethod)(Ve, "shouldComponentUpdate");
                }
                Ce.getChildContext.calledByRenderer && typeof Ve.getChildContext == "function" && (pr = (0, h.spyMethod)(Ve, "getChildContext"));
              }
              if (!gt && Me(Ve) && (H = Ee(We, Ve.props, Ze, (0, o.default)({}, Ze, ut))), Ve[A] ? Ve[A](ut) : Ve.setState(ut), gt && (H = gt.getLastReturnValue(), gt.restore()), Dt && H && !_e[L].disableLifecycleMethods && (Fe(de, _e, Ve, ke, pr), Ce.componentDidUpdate && Ce.componentDidUpdate.onSetState))
                if (Ce.getSnapshotBeforeUpdate && typeof Ve.getSnapshotBeforeUpdate == "function") {
                  var B = Ve.getSnapshotBeforeUpdate(We, Ze);
                  typeof Ve.componentDidUpdate == "function" && Ve.componentDidUpdate(We, Ze, B);
                } else typeof Ve.componentDidUpdate == "function" && (Ce.componentDidUpdate.prevContext ? Ve.componentDidUpdate(We, Ze, rt) : Ve.componentDidUpdate(We, Ze));
              _e.update(), ee && (de.invokeSetStateCallback ? de.invokeSetStateCallback(Ve, ee) : ee.call(Ve));
            });
          }), this;
        }
        return ne;
      }()
      /**
       * A method that sets the context of the root component, and re-renders. Useful for when you are
       * wanting to test how the component behaves over time with changing contexts.
       *
       * NOTE: can only be called on a wrapper instance that is also the root instance.
       *
       * @param {Object} context object
       * @returns {ShallowWrapper}
       */
    }, {
      key: "setContext",
      value: /* @__PURE__ */ function() {
        function ne(ce) {
          if (this[N] !== this)
            throw new Error("ShallowWrapper::setContext() can only be called on the root");
          if (!this[L].context)
            throw new Error("ShallowWrapper::setContext() can only be called on a wrapper that was originally passed a context option");
          return this.rerender(null, ce);
        }
        return ne;
      }()
      /**
       * Whether or not a given react element exists in the shallow render tree.
       *
       * Example:
       * ```
       * const wrapper = shallow(<MyComponent />);
       * expect(wrapper.contains(<div className="foo bar" />)).to.equal(true);
       * ```
       *
       * @param {ReactElement|Array<ReactElement>} nodeOrNodes
       * @returns {Boolean}
       */
    }, {
      key: "contains",
      value: /* @__PURE__ */ function() {
        function ne(ce) {
          var _e = (0, p.default)(this[L]);
          if (!(0, h.isReactElementAlike)(ce, _e))
            throw new Error("ShallowWrapper::contains() can only be called with a ReactElement (or an array of them), a string, or a number as an argument.");
          var ee = Array.isArray(ce) ? function(de) {
            return (0, h.containsChildrenSubArray)(h.nodeEqual, de, ce.map(function(Ce) {
              return _e.elementToNode(Ce);
            }));
          } : function(de) {
            return (0, h.nodeEqual)(_e.elementToNode(ce), de);
          };
          return pe(this, ee).length > 0;
        }
        return ne;
      }()
      /**
       * Whether or not a given react element exists in the shallow render tree.
       * Match is based on the expected element and not on wrappers element.
       * It will determine if one of the wrappers element "looks like" the expected
       * element by checking if all props of the expected element are present
       * on the wrappers element and equals to each other.
       *
       * Example:
       * ```
       * // MyComponent outputs <div><div class="foo">Hello</div></div>
       * const wrapper = shallow(<MyComponent />);
       * expect(wrapper.containsMatchingElement(<div>Hello</div>)).to.equal(true);
       * ```
       *
       * @param {ReactElement} node
       * @returns {Boolean}
       */
    }, {
      key: "containsMatchingElement",
      value: /* @__PURE__ */ function() {
        function ne(ce) {
          var _e = (0, p.default)(this[L]), ee = _e.elementToNode(ce), de = /* @__PURE__ */ function() {
            function Ce(ke) {
              return (0, h.nodeMatches)(ee, ke, function(Ve, We) {
                return Ve <= We;
              });
            }
            return Ce;
          }();
          return pe(this, de).length > 0;
        }
        return ne;
      }()
      /**
       * Whether or not all the given react elements exist in the shallow render tree.
       * Match is based on the expected element and not on wrappers element.
       * It will determine if one of the wrappers element "looks like" the expected
       * element by checking if all props of the expected element are present
       * on the wrappers element and equals to each other.
       *
       * Example:
       * ```
       * const wrapper = shallow(<MyComponent />);
       * expect(wrapper.containsAllMatchingElements([
       *   <div>Hello</div>,
       *   <div>Goodbye</div>,
       * ])).to.equal(true);
       * ```
       *
       * @param {Array<ReactElement>} nodes
       * @returns {Boolean}
       */
    }, {
      key: "containsAllMatchingElements",
      value: /* @__PURE__ */ function() {
        function ne(ce) {
          var _e = this;
          if (!Array.isArray(ce))
            throw new TypeError("nodes should be an Array");
          return ce.every(function(ee) {
            return _e.containsMatchingElement(ee);
          });
        }
        return ne;
      }()
      /**
       * Whether or not one of the given react elements exists in the shallow render tree.
       * Match is based on the expected element and not on wrappers element.
       * It will determine if one of the wrappers element "looks like" the expected
       * element by checking if all props of the expected element are present
       * on the wrappers element and equals to each other.
       *
       * Example:
       * ```
       * const wrapper = shallow(<MyComponent />);
       * expect(wrapper.containsAnyMatchingElements([
       *   <div>Hello</div>,
       *   <div>Goodbye</div>,
       * ])).to.equal(true);
       * ```
       *
       * @param {Array<ReactElement>} nodes
       * @returns {Boolean}
       */
    }, {
      key: "containsAnyMatchingElements",
      value: /* @__PURE__ */ function() {
        function ne(ce) {
          var _e = this;
          return Array.isArray(ce) && ce.some(function(ee) {
            return _e.containsMatchingElement(ee);
          });
        }
        return ne;
      }()
      /**
       * Whether or not a given react element exists in the render tree.
       *
       * Example:
       * ```
       * const wrapper = shallow(<MyComponent />);
       * expect(wrapper.contains(<div className="foo bar" />)).to.equal(true);
       * ```
       *
       * @param {ReactElement} node
       * @returns {Boolean}
       */
    }, {
      key: "equals",
      value: /* @__PURE__ */ function() {
        function ne(ce) {
          var _e = this;
          return this.single("equals", function() {
            return (0, h.nodeEqual)(_e.getNodeInternal(), ce);
          });
        }
        return ne;
      }()
      /**
       * Whether or not a given react element matches the render tree.
       * Match is based on the expected element and not on wrapper root node.
       * It will determine if the wrapper root node "looks like" the expected
       * element by checking if all props of the expected element are present
       * on the wrapper root node and equals to each other.
       *
       * Example:
       * ```
       * // MyComponent outputs <div class="foo">Hello</div>
       * const wrapper = shallow(<MyComponent />);
       * expect(wrapper.matchesElement(<div>Hello</div>)).to.equal(true);
       * ```
       *
       * @param {ReactElement} node
       * @returns {Boolean}
       */
    }, {
      key: "matchesElement",
      value: /* @__PURE__ */ function() {
        function ne(ce) {
          var _e = this;
          return this.single("matchesElement", function() {
            var ee = (0, p.default)(_e[L]), de = ee.elementToNode(ce);
            return (0, h.nodeMatches)(de, _e.getNodeInternal(), function(Ce, ke) {
              return Ce <= ke;
            });
          });
        }
        return ne;
      }()
      /**
       * Finds every node in the render tree of the current wrapper that matches the provided selector.
       *
       * @param {EnzymeSelector} selector
       * @returns {ShallowWrapper}
       */
    }, {
      key: "find",
      value: /* @__PURE__ */ function() {
        function ne(ce) {
          return this.wrap((0, v.reduceTreesBySelector)(ce, this.getNodesInternal()));
        }
        return ne;
      }()
      /**
       * Returns whether or not current node matches a provided selector.
       *
       * NOTE: can only be called on a wrapper of a single node.
       *
       * @param {EnzymeSelector} selector
       * @returns {boolean}
       */
    }, {
      key: "is",
      value: /* @__PURE__ */ function() {
        function ne(ce) {
          var _e = (0, v.buildPredicate)(ce);
          return this.single("is", function(ee) {
            return _e(ee);
          });
        }
        return ne;
      }()
      /**
       * Returns true if the component rendered nothing, i.e., null or false.
       *
       * @returns {boolean}
       */
    }, {
      key: "isEmptyRender",
      value: /* @__PURE__ */ function() {
        function ne() {
          var ce = this.getNodesInternal();
          return ce.every(function(_e) {
            return (0, h.isEmptyValue)(_e);
          });
        }
        return ne;
      }()
      /**
       * Returns a new wrapper instance with only the nodes of the current wrapper instance that match
       * the provided predicate function. The predicate should receive a wrapped node as its first
       * argument.
       *
       * @param {Function} predicate
       * @returns {ShallowWrapper}
       */
    }, {
      key: "filterWhere",
      value: /* @__PURE__ */ function() {
        function ne(ce) {
          var _e = this;
          return oe(this, function(ee) {
            return ce(_e.wrap(ee));
          });
        }
        return ne;
      }()
      /**
       * Returns a new wrapper instance with only the nodes of the current wrapper instance that match
       * the provided selector.
       *
       * @param {EnzymeSelector} selector
       * @returns {ShallowWrapper}
       */
    }, {
      key: "filter",
      value: /* @__PURE__ */ function() {
        function ne(ce) {
          var _e = (0, v.buildPredicate)(ce);
          return oe(this, _e);
        }
        return ne;
      }()
      /**
       * Returns a new wrapper instance with only the nodes of the current wrapper that did not match
       * the provided selector. Essentially the inverse of `filter`.
       *
       * @param {EnzymeSelector} selector
       * @returns {ShallowWrapper}
       */
    }, {
      key: "not",
      value: /* @__PURE__ */ function() {
        function ne(ce) {
          var _e = (0, v.buildPredicate)(ce);
          return oe(this, function(ee) {
            return !_e(ee);
          });
        }
        return ne;
      }()
      /**
       * Returns a string of the rendered text of the current render tree.  This function should be
       * looked at with skepticism if being used to test what the actual HTML output of the component
       * will be. If that is what you would like to test, use enzyme's `render` function instead.
       *
       * NOTE: can only be called on a wrapper of a single node.
       *
       * @returns {String}
       */
    }, {
      key: "text",
      value: /* @__PURE__ */ function() {
        function ne() {
          return this.single("text", g.getTextFromNode);
        }
        return ne;
      }()
      /**
       * Returns the HTML of the node.
       *
       * NOTE: can only be called on a wrapper of a single node.
       *
       * @returns {String}
       */
    }, {
      key: "html",
      value: /* @__PURE__ */ function() {
        function ne() {
          var ce = this;
          return this.single("html", function(_e) {
            if (ce.type() === null)
              return null;
            var ee = (0, p.default)(ce[L]), de = ee.createRenderer((0, o.default)({}, ce[L], {
              mode: "string"
            }));
            return de.render(ee.nodeToElement(_e));
          });
        }
        return ne;
      }()
      /**
       * Returns the current node rendered to HTML and wrapped in a CheerioWrapper.
       *
       * NOTE: can only be called on a wrapper of a single node.
       *
       * @returns {CheerioWrapper}
       */
    }, {
      key: "render",
      value: /* @__PURE__ */ function() {
        function ne() {
          var ce = this.html();
          return (0, h.loadCheerioRoot)(ce);
        }
        return ne;
      }()
      /**
       * Used to simulate events. Pass an eventname and (optionally) event arguments. This method of
       * testing events should be met with some skepticism.
       *
       * @param {String} event
       * @param {Array} args
       * @returns {ShallowWrapper}
       */
    }, {
      key: "simulate",
      value: /* @__PURE__ */ function() {
        function ne(ce) {
          for (var _e = this, ee = arguments.length, de = Array(ee > 1 ? ee - 1 : 0), Ce = 1; Ce < ee; Ce++)
            de[Ce - 1] = arguments[Ce];
          return this.single("simulate", function(ke) {
            var Ve;
            return (Ve = _e[C]).simulateEvent.apply(Ve, [ke, ce].concat(de)), _e[N].update(), _e;
          });
        }
        return ne;
      }()
      /**
       * Used to simulate throwing a rendering error. Pass an error to throw.
       *
       * @param {String} error
       * @returns {ShallowWrapper}
       */
    }, {
      key: "simulateError",
      value: /* @__PURE__ */ function() {
        function ne(ce) {
          var _e = this;
          return this.single("simulateError", function(ee) {
            if (ee.nodeType === "host")
              throw new TypeError("ShallowWrapper::simulateError() can only be called on custom components");
            var de = _e[C];
            if (typeof de.simulateError != "function")
              throw new TypeError("your adapter does not support `simulateError`. Try upgrading it!");
            var Ce = Te(_e), ke = [ee].concat(Ae(_e, ee));
            return de.simulateError(ke, Ce, ce), _e;
          });
        }
        return ne;
      }()
      /**
       * Returns the props hash for the current node of the wrapper.
       *
       * NOTE: can only be called on a wrapper of a single node.
       *
       * @returns {Object}
       */
    }, {
      key: "props",
      value: /* @__PURE__ */ function() {
        function ne() {
          return this.single("props", g.propsOfNode);
        }
        return ne;
      }()
      /**
       * Returns the state hash for the root node of the wrapper. Optionally pass in a prop name and it
       * will return just that value.
       *
       * NOTE: can only be called on a wrapper of a single node.
       *
       * @param {String} name (optional)
       * @returns {*}
       */
    }, {
      key: "state",
      value: /* @__PURE__ */ function() {
        function ne(ce) {
          var _e = this;
          if (this[N] !== this)
            throw new Error("ShallowWrapper::state() can only be called on the root");
          if (this.instance() === null || this[C].getNode().nodeType !== "class")
            throw new Error("ShallowWrapper::state() can only be called on class components");
          var ee = this.single("state", function() {
            return _e.instance().state;
          });
          if (typeof ce < "u") {
            if (ee == null)
              throw new TypeError('ShallowWrapper::state("' + String(ce) + '") requires that `state` not be `null` or `undefined`');
            return ee[ce];
          }
          return ee;
        }
        return ne;
      }()
      /**
       * Returns the context hash for the root node of the wrapper.
       * Optionally pass in a prop name and it will return just that value.
       *
       * NOTE: can only be called on a wrapper of a single node.
       *
       * @param {String} name (optional)
       * @returns {*}
       */
    }, {
      key: "context",
      value: /* @__PURE__ */ function() {
        function ne(ce) {
          var _e = this;
          if (this[N] !== this)
            throw new Error("ShallowWrapper::context() can only be called on the root");
          if (!this[L].context)
            throw new Error("ShallowWrapper::context() can only be called on a wrapper that was originally passed a context option");
          if (this.instance() === null)
            throw new Error("ShallowWrapper::context() can only be called on wrapped nodes that have a non-null instance");
          var ee = this.single("context", function() {
            return _e.instance().context;
          });
          return ce ? ee[ce] : ee;
        }
        return ne;
      }()
      /**
       * Returns a new wrapper with all of the children of the current wrapper.
       *
       * @param {EnzymeSelector} [selector]
       * @returns {ShallowWrapper}
       */
    }, {
      key: "children",
      value: /* @__PURE__ */ function() {
        function ne(ce) {
          var _e = this.flatMap(function(ee) {
            return (0, g.childrenOfNode)(ee.getNodeInternal());
          });
          return ce ? _e.filter(ce) : _e;
        }
        return ne;
      }()
      /**
       * Returns a new wrapper with a specific child
       *
       * @param {Number} [index]
       * @returns {ShallowWrapper}
       */
    }, {
      key: "childAt",
      value: /* @__PURE__ */ function() {
        function ne(ce) {
          var _e = this;
          return this.single("childAt", function() {
            return _e.children().at(ce);
          });
        }
        return ne;
      }()
      /**
       * Returns a wrapper around all of the parents/ancestors of the wrapper. Does not include the node
       * in the current wrapper.
       *
       * NOTE: can only be called on a wrapper of a single node.
       *
       * @param {EnzymeSelector} [selector]
       * @returns {ShallowWrapper}
       */
    }, {
      key: "parents",
      value: /* @__PURE__ */ function() {
        function ne(ce) {
          var _e = this;
          return this.single("parents", function(ee) {
            var de = _e.wrap(Ae(_e, ee));
            return ce ? de.filter(ce) : de;
          });
        }
        return ne;
      }()
      /**
       * Returns a wrapper around the immediate parent of the current node.
       *
       * @returns {ShallowWrapper}
       */
    }, {
      key: "parent",
      value: /* @__PURE__ */ function() {
        function ne() {
          return this.flatMap(function(ce) {
            return [ce.parents().get(0)];
          });
        }
        return ne;
      }()
      /**
       *
       * @param {EnzymeSelector} selector
       * @returns {ShallowWrapper}
       */
    }, {
      key: "closest",
      value: /* @__PURE__ */ function() {
        function ne(ce) {
          if (this.is(ce))
            return this;
          var _e = this.parents().filter(ce);
          return _e.length > 0 ? _e.first() : this.findWhere(function() {
            return false;
          });
        }
        return ne;
      }()
      /**
       * Shallow renders the current node and returns a shallow wrapper around it.
       *
       * NOTE: can only be called on wrapper of a single node.
       *
       * @param {Object} options
       * @returns {ShallowWrapper}
       */
    }, {
      key: "shallow",
      value: /* @__PURE__ */ function() {
        function ne() {
          var ce = this, _e = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
          return this.single("shallow", function(ee) {
            var de = ht(ce, _e);
            return ce.wrap((0, p.default)(ce[L]).nodeToElement(ee), null, de);
          });
        }
        return ne;
      }()
      /**
       * Returns the value of prop with the given name of the current node.
       *
       * @param propName
       * @returns {*}
       */
    }, {
      key: "prop",
      value: /* @__PURE__ */ function() {
        function ne(ce) {
          return this.props()[ce];
        }
        return ne;
      }()
      /**
       * Used to invoke a function prop.
       * Will invoke an function prop and return its value.
       *
       * @param {String} propName
       * @returns {Any}
       */
    }, {
      key: "invoke",
      value: /* @__PURE__ */ function() {
        function ne(ce) {
          var _e = this;
          return this.single("invoke", function() {
            var ee = _e.prop(ce);
            if (typeof ee != "function")
              throw new TypeError("ShallowWrapper::invoke() requires the name of a prop whose value is a function");
            return function() {
              var de = ee.apply(void 0, arguments);
              return _e[N].update(), de;
            };
          });
        }
        return ne;
      }()
      /**
       * Returns a wrapper of the node rendered by the provided render prop.
       *
       * @param {String} propName
       * @returns {Function}
       */
    }, {
      key: "renderProp",
      value: /* @__PURE__ */ function() {
        function ne(ce) {
          var _e = this, ee = (0, p.default)(this[L]);
          if (typeof ee.wrap != "function")
            throw new RangeError("your adapter does not support `wrap`. Try upgrading it!");
          return this.single("renderProp", function(de) {
            if (de.nodeType === "host")
              throw new TypeError("ShallowWrapper::renderProp() can only be called on custom components");
            if (typeof ce != "string")
              throw new TypeError("ShallowWrapper::renderProp(): `propName` must be a string");
            var Ce = _e.props();
            if (!(0, u.default)(Ce, ce))
              throw new Error("ShallowWrapper::renderProp(): no prop called “" + String(ce) + "“ found");
            var ke = Ce[ce];
            if (typeof ke != "function")
              throw new TypeError("ShallowWrapper::renderProp(): expected prop “" + String(ce) + "“ to contain a function, but it holds “" + (typeof ke > "u" ? "undefined" : n(ke)) + "“");
            return function() {
              var Ve = ke.apply(void 0, arguments), We = ee.wrap(Ve);
              return _e.wrap(We, null, _e[L]);
            };
          });
        }
        return ne;
      }()
      /**
       * Returns the key assigned to the current node.
       *
       * @returns {String}
       */
    }, {
      key: "key",
      value: /* @__PURE__ */ function() {
        function ne() {
          return this.single("key", function(ce) {
            return ce.key === void 0 ? null : ce.key;
          });
        }
        return ne;
      }()
      /**
       * Returns the type of the current node of this wrapper. If it's a composite component, this will
       * be the component constructor. If it's a native DOM node, it will be a string of the tag name.
       * If it's null, it will be null.
       *
       * @returns {String|Function|null}
       */
    }, {
      key: "type",
      value: /* @__PURE__ */ function() {
        function ne() {
          return this.single("type", function(ce) {
            return (0, h.typeOfNode)(ce);
          });
        }
        return ne;
      }()
      /**
       * Returns the name of the current node of this wrapper.
       *
       * In order of precedence => type.displayName -> type.name -> type.
       *
       * @returns {String}
       */
    }, {
      key: "name",
      value: /* @__PURE__ */ function() {
        function ne() {
          var ce = (0, p.default)(this[L]);
          return this.single("name", function(_e) {
            return ce.displayNameOfNode ? ce.displayNameOfNode(_e) : (0, h.displayNameOfNode)(_e);
          });
        }
        return ne;
      }()
      /**
       * Returns whether or not the current node has the given class name or not.
       *
       * NOTE: can only be called on a wrapper of a single node.
       *
       * @param className
       * @returns {Boolean}
       */
    }, {
      key: "hasClass",
      value: /* @__PURE__ */ function() {
        function ne(ce) {
          return typeof ce == "string" && ce.indexOf(".") !== -1 && console.warn("It looks like you're calling `ShallowWrapper::hasClass()` with a CSS selector. hasClass() expects a class name, not a CSS selector."), this.single("hasClass", function(_e) {
            return (0, g.hasClassName)(_e, ce);
          });
        }
        return ne;
      }()
      /**
       * Iterates through each node of the current wrapper and executes the provided function with a
       * wrapper around the corresponding node passed in as the first argument.
       *
       * @param {Function} fn
       * @returns {ShallowWrapper}
       */
    }, {
      key: "forEach",
      value: /* @__PURE__ */ function() {
        function ne(ce) {
          var _e = this;
          return this.getNodesInternal().forEach(function(ee, de) {
            return ce.call(_e, _e.wrap(ee), de);
          }), this;
        }
        return ne;
      }()
      /**
       * Maps the current array of nodes to another array. Each node is passed in as a `ShallowWrapper`
       * to the map function.
       *
       * @param {Function} fn
       * @returns {Array}
       */
    }, {
      key: "map",
      value: /* @__PURE__ */ function() {
        function ne(ce) {
          var _e = this;
          return this.getNodesInternal().map(function(ee, de) {
            return ce.call(_e, _e.wrap(ee), de);
          });
        }
        return ne;
      }()
      /**
       * Reduces the current array of nodes to a value. Each node is passed in as a `ShallowWrapper`
       * to the reducer function.
       *
       * @param {Function} fn - the reducer function
       * @param {*} initialValue - the initial value
       * @returns {*}
       */
    }, {
      key: "reduce",
      value: /* @__PURE__ */ function() {
        function ne(ce) {
          var _e = this, ee = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : void 0;
          return arguments.length > 1 ? this.getNodesInternal().reduce(function(de, Ce, ke) {
            return ce.call(_e, de, _e.wrap(Ce), ke);
          }, ee) : this.getNodesInternal().reduce(function(de, Ce, ke) {
            return ce.call(_e, ke === 1 ? _e.wrap(de) : de, _e.wrap(Ce), ke);
          });
        }
        return ne;
      }()
      /**
       * Reduces the current array of nodes to another array, from right to left. Each node is passed
       * in as a `ShallowWrapper` to the reducer function.
       *
       * @param {Function} fn - the reducer function
       * @param {*} initialValue - the initial value
       * @returns {*}
       */
    }, {
      key: "reduceRight",
      value: /* @__PURE__ */ function() {
        function ne(ce) {
          var _e = this, ee = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : void 0;
          return arguments.length > 1 ? this.getNodesInternal().reduceRight(function(de, Ce, ke) {
            return ce.call(_e, de, _e.wrap(Ce), ke);
          }, ee) : this.getNodesInternal().reduceRight(function(de, Ce, ke) {
            return ce.call(_e, ke === 1 ? _e.wrap(de) : de, _e.wrap(Ce), ke);
          });
        }
        return ne;
      }()
      /**
       * Returns a new wrapper with a subset of the nodes of the original wrapper, according to the
       * rules of `Array#slice`.
       *
       * @param {Number} begin
       * @param {Number} end
       * @returns {ShallowWrapper}
       */
    }, {
      key: "slice",
      value: /* @__PURE__ */ function() {
        function ne(ce, _e) {
          return this.wrap(this.getNodesInternal().slice(ce, _e));
        }
        return ne;
      }()
      /**
       * Returns whether or not any of the nodes in the wrapper match the provided selector.
       *
       * @param {EnzymeSelector} selector
       * @returns {Boolean}
       */
    }, {
      key: "some",
      value: /* @__PURE__ */ function() {
        function ne(ce) {
          if (this[N] === this)
            throw new Error("ShallowWrapper::some() can not be called on the root");
          var _e = (0, v.buildPredicate)(ce);
          return this.getNodesInternal().some(_e);
        }
        return ne;
      }()
      /**
       * Returns whether or not any of the nodes in the wrapper pass the provided predicate function.
       *
       * @param {Function} predicate
       * @returns {Boolean}
       */
    }, {
      key: "someWhere",
      value: /* @__PURE__ */ function() {
        function ne(ce) {
          var _e = this;
          return this.getNodesInternal().some(function(ee, de) {
            return ce.call(_e, _e.wrap(ee), de);
          });
        }
        return ne;
      }()
      /**
       * Returns whether or not all of the nodes in the wrapper match the provided selector.
       *
       * @param {EnzymeSelector} selector
       * @returns {Boolean}
       */
    }, {
      key: "every",
      value: /* @__PURE__ */ function() {
        function ne(ce) {
          var _e = (0, v.buildPredicate)(ce);
          return this.getNodesInternal().every(_e);
        }
        return ne;
      }()
      /**
       * Returns whether or not any of the nodes in the wrapper pass the provided predicate function.
       *
       * @param {Function} predicate
       * @returns {Boolean}
       */
    }, {
      key: "everyWhere",
      value: /* @__PURE__ */ function() {
        function ne(ce) {
          var _e = this;
          return this.getNodesInternal().every(function(ee, de) {
            return ce.call(_e, _e.wrap(ee), de);
          });
        }
        return ne;
      }()
      /**
       * Utility method used to create new wrappers with a mapping function that returns an array of
       * nodes in response to a single node wrapper. The returned wrapper is a single wrapper around
       * all of the mapped nodes flattened (and de-duplicated).
       *
       * @param {Function} fn
       * @returns {ShallowWrapper}
       */
    }, {
      key: "flatMap",
      value: /* @__PURE__ */ function() {
        function ne(ce) {
          var _e = this, ee = this.getNodesInternal().map(function(Ce, ke) {
            return ce.call(_e, _e.wrap(Ce), ke);
          }), de = (0, s.default)(ee, 1);
          return this.wrap(de.filter(Boolean));
        }
        return ne;
      }()
      /**
       * Finds all nodes in the current wrapper nodes' render trees that match the provided predicate
       * function. The predicate function will receive the nodes inside a ShallowWrapper as its
       * first argument.
       *
       * @param {Function} predicate
       * @returns {ShallowWrapper}
       */
    }, {
      key: "findWhere",
      value: /* @__PURE__ */ function() {
        function ne(ce) {
          var _e = this;
          return pe(this, function(ee) {
            var de = _e.wrap(ee);
            return de.length > 0 && ce(de);
          });
        }
        return ne;
      }()
      /**
       * Returns the node at a given index of the current wrapper.
       *
       * @param index
       * @returns {ReactElement}
       */
    }, {
      key: "get",
      value: /* @__PURE__ */ function() {
        function ne(ce) {
          return this.getElements()[ce];
        }
        return ne;
      }()
      /**
       * Returns a wrapper around the node at a given index of the current wrapper.
       *
       * @param index
       * @returns {ShallowWrapper}
       */
    }, {
      key: "at",
      value: /* @__PURE__ */ function() {
        function ne(ce) {
          var _e = this.getNodesInternal();
          return ce < _e.length ? this.wrap(_e[ce]) : this.wrap([]);
        }
        return ne;
      }()
      /**
       * Returns a wrapper around the first node of the current wrapper.
       *
       * @returns {ShallowWrapper}
       */
    }, {
      key: "first",
      value: /* @__PURE__ */ function() {
        function ne() {
          return this.at(0);
        }
        return ne;
      }()
      /**
       * Returns a wrapper around the last node of the current wrapper.
       *
       * @returns {ShallowWrapper}
       */
    }, {
      key: "last",
      value: /* @__PURE__ */ function() {
        function ne() {
          return this.at(this.length - 1);
        }
        return ne;
      }()
      /**
       * Delegates to exists()
       *
       * @returns {boolean}
       */
    }, {
      key: "isEmpty",
      value: /* @__PURE__ */ function() {
        function ne() {
          return console.warn("Enzyme::Deprecated method isEmpty() called, use exists() instead."), !this.exists();
        }
        return ne;
      }()
      /**
       * Returns true if the current wrapper has nodes. False otherwise.
       * If called with a selector it returns `.find(selector).exists()` instead.
       *
       * @param {EnzymeSelector} selector (optional)
       * @returns {boolean}
       */
    }, {
      key: "exists",
      value: /* @__PURE__ */ function() {
        function ne() {
          var ce = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : null;
          return arguments.length > 0 ? this.find(ce).exists() : this.length > 0;
        }
        return ne;
      }()
      /**
       * Utility method that throws an error if the current instance has a length other than one.
       * This is primarily used to enforce that certain methods are only run on a wrapper when it is
       * wrapping a single node.
       *
       * @param fn
       * @returns {*}
       */
    }, {
      key: "single",
      value: /* @__PURE__ */ function() {
        function ne(ce, _e) {
          var ee = typeof ce == "string" ? ce : "unknown", de = typeof _e == "function" ? _e : ce;
          if (this.length !== 1)
            throw new Error("Method “" + ee + "” is meant to be run on 1 node. " + String(this.length) + " found instead.");
          return de.call(this, this.getNodeInternal());
        }
        return ne;
      }()
      /**
       * Helpful utility method to create a new wrapper with the same root as the current wrapper, with
       * any nodes passed in as the first parameter automatically wrapped.
       *
       * @param node
       * @returns {ShallowWrapper}
       */
    }, {
      key: "wrap",
      value: /* @__PURE__ */ function() {
        function ne(ce) {
          var _e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : this[N];
          if (ce instanceof xe)
            return ce;
          for (var ee = arguments.length, de = Array(ee > 2 ? ee - 2 : 0), Ce = 2; Ce < ee; Ce++)
            de[Ce - 2] = arguments[Ce];
          return new (Function.prototype.bind.apply(xe, [null].concat([ce, _e], de)))();
        }
        return ne;
      }()
      /**
       * Returns an HTML-like string of the shallow render for debugging purposes.
       *
       * @param {Object} [options] - Property bag of additional options.
       * @param {boolean} [options.ignoreProps] - if true, props are omitted from the string.
       * @param {boolean} [options.verbose] - if true, arrays and objects to be verbosely printed.
       * @returns {String}
       */
    }, {
      key: "debug",
      value: /* @__PURE__ */ function() {
        function ne() {
          var ce = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
          return (0, m.debugNodes)(this.getNodesInternal(), ce);
        }
        return ne;
      }()
      /**
       * Invokes intercepter and returns itself. intercepter is called with itself.
       * This is helpful when debugging nodes in method chains.
       * @param fn
       * @returns {ShallowWrapper}
       */
    }, {
      key: "tap",
      value: /* @__PURE__ */ function() {
        function ne(ce) {
          return ce(this), this;
        }
        return ne;
      }()
      /**
       * Primarily useful for HOCs (higher-order components), this method may only be
       * run on a single, non-DOM node, and will return the node, shallow-rendered.
       *
       * @param {Object} options
       * @returns {ShallowWrapper}
       */
    }, {
      key: "dive",
      value: /* @__PURE__ */ function() {
        function ne() {
          var ce = this, _e = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {}, ee = (0, p.default)(this[L]), de = "dive";
          return this.single(de, function(Ce) {
            if (Ce && Ce.nodeType === "host")
              throw new TypeError("ShallowWrapper::" + de + "() can not be called on Host Components");
            var ke = (0, p.default)(ce[L]).nodeToElement(Ce);
            if (!(0, h.isCustomComponentElement)(ke, ee))
              throw new TypeError("ShallowWrapper::" + de + "() can only be called on components");
            var Ve = ht(ce, _e);
            return ce.wrap(ke, null, Ve);
          });
        }
        return ne;
      }()
      /**
       * Strips out all the not host-nodes from the list of nodes
       *
       * This method is useful if you want to check for the presence of host nodes
       * (actually rendered HTML elements) ignoring the React nodes.
       */
    }, {
      key: "hostNodes",
      value: /* @__PURE__ */ function() {
        function ne() {
          return this.filterWhere(function(ce) {
            return typeof ce.type() == "string";
          });
        }
        return ne;
      }()
    }]), xe;
  }();
  function $t(xe) {
    var ne = (0, p.default)(xe[L]), ce = xe[K], _e = ce[C], ee = _e.getNode(), de = ot(xe, ne), Ce = de.legacyContext, ke = de.providerValues, Ve = ce[J];
    if (ce.setContext((0, o.default)({}, xe[K][L].context, Ce)), ce[J] = new Map([].concat(T(Ve), T(ke))), typeof ne.isContextConsumer == "function" && ne.isContextConsumer(ee.type)) {
      var We = ee.type, Ze = ne.getProviderFromConsumer(We), rt = ke.get(Ze), ut = Ve.get(Ze);
      rt !== ut && ce.rerender();
    }
  }
  var rn = function(xe) {
    _(ne, xe);
    function ne(ce, _e, ee) {
      E(this, ne);
      var de = y(this, (ne.__proto__ || Object.getPrototypeOf(ne)).call(this, ce));
      return (0, h.privateSet)(de, K, _e), (0, h.privateSet)(de, ie, ee), de;
    }
    return r(ne, [{
      key: "rerender",
      value: /* @__PURE__ */ function() {
        function ce() {
          for (var _e, ee = arguments.length, de = Array(ee), Ce = 0; Ce < ee; Ce++)
            de[Ce] = arguments[Ce];
          var ke = (_e = t(ne.prototype.__proto__ || Object.getPrototypeOf(ne.prototype), "rerender", this)).call.apply(_e, [this].concat(de));
          return $t(this), ke;
        }
        return ce;
      }()
      /**
       * Like setState() on ShallowWrapper, except it also does a "full render" of
       * itself and updates the primary ShallowWrapper's context.
       */
    }, {
      key: "setState",
      value: /* @__PURE__ */ function() {
        function ce() {
          for (var _e, ee = arguments.length, de = Array(ee), Ce = 0; Ce < ee; Ce++)
            de[Ce] = arguments[Ce];
          var ke = (_e = t(ne.prototype.__proto__ || Object.getPrototypeOf(ne.prototype), "setState", this)).call.apply(_e, [this].concat(de));
          return $t(this), ke;
        }
        return ce;
      }()
      // eslint-disable-next-line class-methods-use-this
    }, {
      key: "getWrappingComponent",
      value: /* @__PURE__ */ function() {
        function ce() {
          throw new Error("ShallowWrapper::getWrappingComponent() can only be called on the root");
        }
        return ce;
      }()
    }]), ne;
  }(bt);
  h.ITERATOR_SYMBOL && Object.defineProperty(bt.prototype, h.ITERATOR_SYMBOL, {
    configurable: true,
    value: /* @__PURE__ */ function() {
      function xe() {
        var ne, ce = this.getNodesInternal()[h.ITERATOR_SYMBOL](), _e = (0, p.default)(this[L]);
        return ne = {}, O(ne, h.ITERATOR_SYMBOL, function() {
          return this;
        }), O(ne, "next", /* @__PURE__ */ function() {
          function ee() {
            var de = ce.next();
            return de.done ? {
              done: true
            } : {
              done: false,
              value: _e.nodeToElement(de.value)
            };
          }
          return ee;
        }()), ne;
      }
      return xe;
    }()
  });
  function Ht(xe, ne) {
    Object.defineProperty(bt.prototype, xe, {
      get: /* @__PURE__ */ function() {
        function ce() {
          throw new Error(`
        Attempted to access ShallowWrapper::` + String(xe) + `, which was previously a private property on
        Enzyme ShallowWrapper instances, but is no longer and should not be relied upon.
        ` + String(ne) + `
      `);
        }
        return ce;
      }(),
      enumerable: false,
      configurable: false
    });
  }
  Ht("node", "Consider using the getElement() method instead."), Ht("nodes", "Consider using the getElements() method instead."), Ht("renderer", ""), Ht("options", ""), Ht("complexSelector", ""), e13.default = bt;
})(qN);
var PW = {};
(function(e13) {
  Object.defineProperty(e13, "__esModule", {
    value: true
  }), e13.default = i;
  var t = QR, r = n(t);
  function n(o) {
    return o && o.__esModule ? o : {
      default: o
    };
  }
  function i(o, a) {
    return new r.default(o, null, a);
  }
})(PW);
var CW = {};
(function(e13) {
  Object.defineProperty(e13, "__esModule", {
    value: true
  }), e13.default = i;
  var t = qN, r = n(t);
  function n(o) {
    return o && o.__esModule ? o : {
      default: o
    };
  }
  function i(o, a) {
    return new r.default(o, null, a);
  }
})(CW);
var xW = {};
(function(e13) {
  Object.defineProperty(e13, "__esModule", {
    value: true
  }), e13.default = s;
  var t = tp, r = a(t), n = ac, i = a(n), o = Wv;
  function a(l) {
    return l && l.__esModule ? l : {
      default: l
    };
  }
  function s(l) {
    var u = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {}, c = (0, i.default)(u), f = c.createRenderer((0, r.default)({
      mode: "string"
    }, u)), h = f.render(l, u.context);
    return (0, o.loadCheerioRoot)(h);
  }
})(xW);
var pxe = QR;
var mxe = dp(pxe);
var gxe = qN;
var vxe = dp(gxe);
var yxe = zX;
var _xe = dp(yxe);
var bxe = PW;
var Txe = dp(bxe);
var Exe = CW;
var Sxe = dp(Exe);
var wxe = xW;
var Axe = dp(wxe);
var Oxe = rh;
function dp(e13) {
  return e13 && e13.__esModule ? e13 : {
    default: e13
  };
}
var Ixe = {
  render: Axe.default,
  shallow: Sxe.default,
  mount: Txe.default,
  ShallowWrapper: vxe.default,
  ReactWrapper: mxe.default,
  configure: Oxe.merge,
  EnzymeAdapter: _xe.default
};
var KN = 100;
var Pxe = (e13, t, r, n) => {
  for (const {
    viewId: i,
    trackId: o,
    track: a
  } of e13.instance().iterateOverTracks())
    i === t && o === r && (a.options = {
      ...a.options,
      ...n
    });
  e13.setState(e13.instance().state);
};
var Cxe = (e13) => {
  for (const t of e13.iterateOverTracks())
    if (aV(e13, t.viewId, t.trackId).activeTransitions > 0)
      return true;
  return false;
};
var kW = (e13, t) => {
  Cxe(e13) ? setTimeout(() => {
    kW(e13, t);
  }, KN) : t();
};
var ZN = (e13) => {
  Jg > 0 ? setTimeout(() => ZN(e13), KN) : e13();
};
var xxe = (e13) => {
  for (const t of e13.iterateOverTracks()) {
    let r = ZR(e13, t.viewId, t.trackId);
    if (!(!t.track.server && !t.track.tilesetUid && !(t.track.data && t.track.data.type === "divided")))
      if (t.track.data && t.track.data.type === "divided" || t.track.server && t.track.tilesetUid) {
        if (r.originalTrack && (r = r.originalTrack), !(r.tilesetInfo || r.chromInfo) || r.fetching && r.fetching.size)
          return true;
      } else
        throw Error('"server" and "tilesetUid" belong together');
  }
  return false;
};
var W0 = (e13, t) => {
  xxe(e13) ? setTimeout(() => {
    W0(e13, t);
  }, KN) : t();
};
var DW = (e13, t, r, n, i = {}) => {
  const {
    style: o = "width:800px; background-color: lightgreen;",
    bounded: a = false,
    extendedDelay: s = false
  } = i;
  t && (t.unmount(), t.detach()), e13 && globalThis.document.body.removeChild(e13);
  const l = globalThis.document.createElement("div");
  globalThis.document.body.appendChild(l), l.setAttribute("style", o), l.setAttribute("id", "simple-hg-component");
  const u = Ixe.mount(import_react.default.createElement(Ay, {
    options: {
      bounded: a
    },
    viewConfig: r
  }), {
    attachTo: l
  });
  return u.update(), ZN(() => {
    if (s) {
      const c = () => setTimeout(() => {
        n();
      }, 1e3);
      W0(u.instance(), c);
    } else
      W0(u.instance(), n);
  }), /** @type {const} */
  [l, u];
};
var kxe = (e13) => {
  e13 && (import_react_dom.default.unmountComponentAtNode(e13), document.body.removeChild(e13));
};
async function Dxe(e13, t, r, n) {
  let i;
  return await new Promise((o) => {
    i = DW(e13, t, r, o, n);
  }), i;
}
var Pd2 = 0;
var Om = 0;
var em = 0;
var RW = 1e3;
var Y0;
var Im;
var q0 = 0;
var Eu = 0;
var aS = 0;
var cv = typeof performance == "object" && performance.now ? performance : Date;
var NW = typeof window == "object" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(e13) {
  setTimeout(e13, 17);
};
function QN() {
  return Eu || (NW(Rxe), Eu = cv.now() + aS);
}
function Rxe() {
  Eu = 0;
}
function K0() {
  this._call = this._time = this._next = null;
}
K0.prototype = MW.prototype = {
  constructor: K0,
  restart: function(e13, t, r) {
    if (typeof e13 != "function")
      throw new TypeError("callback is not a function");
    r = (r == null ? QN() : +r) + (t == null ? 0 : +t), !this._next && Im !== this && (Im ? Im._next = this : Y0 = this, Im = this), this._call = e13, this._time = r, aC();
  },
  stop: function() {
    this._call && (this._call = null, this._time = 1 / 0, aC());
  }
};
function MW(e13, t, r) {
  var n = new K0();
  return n.restart(e13, t, r), n;
}
function Nxe() {
  QN(), ++Pd2;
  for (var e13 = Y0, t; e13; )
    (t = Eu - e13._time) >= 0 && e13._call.call(void 0, t), e13 = e13._next;
  --Pd2;
}
function m3() {
  Eu = (q0 = cv.now()) + aS, Pd2 = Om = 0;
  try {
    Nxe();
  } finally {
    Pd2 = 0, Lxe(), Eu = 0;
  }
}
function Mxe() {
  var e13 = cv.now(), t = e13 - q0;
  t > RW && (aS -= t, q0 = e13);
}
function Lxe() {
  for (var e13, t = Y0, r, n = 1 / 0; t; )
    t._call ? (n > t._time && (n = t._time), e13 = t, t = t._next) : (r = t._next, t._next = null, t = e13 ? e13._next = r : Y0 = r);
  Im = e13, aC(n);
}
function aC(e13) {
  if (!Pd2) {
    Om && (Om = clearTimeout(Om));
    var t = e13 - Eu;
    t > 24 ? (e13 < 1 / 0 && (Om = setTimeout(m3, e13 - cv.now() - aS)), em && (em = clearInterval(em))) : (em || (q0 = cv.now(), em = setInterval(Mxe, RW)), Pd2 = 1, NW(m3));
  }
}
function g3(e13, t, r) {
  var n = new K0();
  return t = t == null ? 0 : +t, n.restart((i) => {
    n.stop(), e13(i + t);
  }, t, r), n;
}
var Bxe = Jd("start", "end", "cancel", "interrupt");
var Fxe = [];
var LW = 0;
var sC = 1;
var lC = 2;
var hb = 3;
var v3 = 4;
var cC = 5;
var fb = 6;
function sS(e13, t, r, n, i, o) {
  var a = e13.__transition;
  if (!a)
    e13.__transition = {};
  else if (r in a)
    return;
  $xe(e13, r, {
    name: t,
    index: n,
    // For context during callback.
    group: i,
    // For context during callback.
    on: Bxe,
    tween: Fxe,
    time: o.time,
    delay: o.delay,
    duration: o.duration,
    ease: o.ease,
    timer: null,
    state: LW
  });
}
function JN(e13, t) {
  var r = sa(e13, t);
  if (r.state > LW)
    throw new Error("too late; already scheduled");
  return r;
}
function Ya(e13, t) {
  var r = sa(e13, t);
  if (r.state > hb)
    throw new Error("too late; already running");
  return r;
}
function sa(e13, t) {
  var r = e13.__transition;
  if (!r || !(r = r[t]))
    throw new Error("transition not found");
  return r;
}
function $xe(e13, t, r) {
  var n = e13.__transition, i;
  n[t] = r, r.timer = MW(o, 0, r.time);
  function o(u) {
    r.state = sC, r.timer.restart(a, r.delay, r.time), r.delay <= u && a(u - r.delay);
  }
  function a(u) {
    var c, f, h, d;
    if (r.state !== sC)
      return l();
    for (c in n)
      if (d = n[c], d.name === r.name) {
        if (d.state === hb)
          return g3(a);
        d.state === v3 ? (d.state = fb, d.timer.stop(), d.on.call("interrupt", e13, e13.__data__, d.index, d.group), delete n[c]) : +c < t && (d.state = fb, d.timer.stop(), d.on.call("cancel", e13, e13.__data__, d.index, d.group), delete n[c]);
      }
    if (g3(function() {
      r.state === hb && (r.state = v3, r.timer.restart(s, r.delay, r.time), s(u));
    }), r.state = lC, r.on.call("start", e13, e13.__data__, r.index, r.group), r.state === lC) {
      for (r.state = hb, i = new Array(h = r.tween.length), c = 0, f = -1; c < h; ++c)
        (d = r.tween[c].value.call(e13, e13.__data__, r.index, r.group)) && (i[++f] = d);
      i.length = f + 1;
    }
  }
  function s(u) {
    for (var c = u < r.duration ? r.ease.call(null, u / r.duration) : (r.timer.restart(l), r.state = cC, 1), f = -1, h = i.length; ++f < h; )
      i[f].call(e13, c);
    r.state === cC && (r.on.call("end", e13, e13.__data__, r.index, r.group), l());
  }
  function l() {
    r.state = fb, r.timer.stop(), delete n[t];
    for (var u in n)
      return;
    delete e13.__transition;
  }
}
function dg(e13, t) {
  var r = e13.__transition, n, i, o = true, a;
  if (r) {
    t = t == null ? null : t + "";
    for (a in r) {
      if ((n = r[a]).name !== t) {
        o = false;
        continue;
      }
      i = n.state > lC && n.state < cC, n.state = fb, n.timer.stop(), n.on.call(i ? "interrupt" : "cancel", e13, e13.__data__, n.index, n.group), delete r[a];
    }
    o && delete e13.__transition;
  }
}
function Hxe(e13) {
  return this.each(function() {
    dg(this, e13);
  });
}
function Uxe(e13, t) {
  var r, n;
  return function() {
    var i = Ya(this, e13), o = i.tween;
    if (o !== r) {
      n = r = o;
      for (var a = 0, s = n.length; a < s; ++a)
        if (n[a].name === t) {
          n = n.slice(), n.splice(a, 1);
          break;
        }
    }
    i.tween = n;
  };
}
function jxe(e13, t, r) {
  var n, i;
  if (typeof r != "function")
    throw new Error();
  return function() {
    var o = Ya(this, e13), a = o.tween;
    if (a !== n) {
      i = (n = a).slice();
      for (var s = {
        name: t,
        value: r
      }, l = 0, u = i.length; l < u; ++l)
        if (i[l].name === t) {
          i[l] = s;
          break;
        }
      l === u && i.push(s);
    }
    o.tween = i;
  };
}
function Gxe(e13, t) {
  var r = this._id;
  if (e13 += "", arguments.length < 2) {
    for (var n = sa(this.node(), r).tween, i = 0, o = n.length, a; i < o; ++i)
      if ((a = n[i]).name === e13)
        return a.value;
    return null;
  }
  return this.each((t == null ? Uxe : jxe)(r, e13, t));
}
function eM(e13, t, r) {
  var n = e13._id;
  return e13.each(function() {
    var i = Ya(this, n);
    (i.value || (i.value = {}))[t] = r.apply(this, arguments);
  }), function(i) {
    return sa(i, n).value[t];
  };
}
function BW(e13, t) {
  var r;
  return (typeof t == "number" ? vo : t instanceof dn ? rd : (r = dn(t)) ? (t = r, rd) : GD)(e13, t);
}
function zxe(e13) {
  return function() {
    this.removeAttribute(e13);
  };
}
function Vxe(e13) {
  return function() {
    this.removeAttributeNS(e13.space, e13.local);
  };
}
function Xxe(e13, t, r) {
  var n, i = r + "", o;
  return function() {
    var a = this.getAttribute(e13);
    return a === i ? null : a === n ? o : o = t(n = a, r);
  };
}
function Wxe(e13, t, r) {
  var n, i = r + "", o;
  return function() {
    var a = this.getAttributeNS(e13.space, e13.local);
    return a === i ? null : a === n ? o : o = t(n = a, r);
  };
}
function Yxe(e13, t, r) {
  var n, i, o;
  return function() {
    var a, s = r(this), l;
    return s == null ? void this.removeAttribute(e13) : (a = this.getAttribute(e13), l = s + "", a === l ? null : a === n && l === i ? o : (i = l, o = t(n = a, s)));
  };
}
function qxe(e13, t, r) {
  var n, i, o;
  return function() {
    var a, s = r(this), l;
    return s == null ? void this.removeAttributeNS(e13.space, e13.local) : (a = this.getAttributeNS(e13.space, e13.local), l = s + "", a === l ? null : a === n && l === i ? o : (i = l, o = t(n = a, s)));
  };
}
function Kxe(e13, t) {
  var r = Gu(e13), n = r === "transform" ? Mz : BW;
  return this.attrTween(e13, typeof t == "function" ? (r.local ? qxe : Yxe)(r, n, eM(this, "attr." + e13, t)) : t == null ? (r.local ? Vxe : zxe)(r) : (r.local ? Wxe : Xxe)(r, n, t));
}
function Zxe(e13, t) {
  return function(r) {
    this.setAttribute(e13, t.call(this, r));
  };
}
function Qxe(e13, t) {
  return function(r) {
    this.setAttributeNS(e13.space, e13.local, t.call(this, r));
  };
}
function Jxe(e13, t) {
  var r, n;
  function i() {
    var o = t.apply(this, arguments);
    return o !== n && (r = (n = o) && Qxe(e13, o)), r;
  }
  return i._value = t, i;
}
function eke(e13, t) {
  var r, n;
  function i() {
    var o = t.apply(this, arguments);
    return o !== n && (r = (n = o) && Zxe(e13, o)), r;
  }
  return i._value = t, i;
}
function tke(e13, t) {
  var r = "attr." + e13;
  if (arguments.length < 2)
    return (r = this.tween(r)) && r._value;
  if (t == null)
    return this.tween(r, null);
  if (typeof t != "function")
    throw new Error();
  var n = Gu(e13);
  return this.tween(r, (n.local ? Jxe : eke)(n, t));
}
function rke(e13, t) {
  return function() {
    JN(this, e13).delay = +t.apply(this, arguments);
  };
}
function nke(e13, t) {
  return t = +t, function() {
    JN(this, e13).delay = t;
  };
}
function ike(e13) {
  var t = this._id;
  return arguments.length ? this.each((typeof e13 == "function" ? rke : nke)(t, e13)) : sa(this.node(), t).delay;
}
function oke(e13, t) {
  return function() {
    Ya(this, e13).duration = +t.apply(this, arguments);
  };
}
function ake(e13, t) {
  return t = +t, function() {
    Ya(this, e13).duration = t;
  };
}
function ske(e13) {
  var t = this._id;
  return arguments.length ? this.each((typeof e13 == "function" ? oke : ake)(t, e13)) : sa(this.node(), t).duration;
}
function lke(e13, t) {
  if (typeof t != "function")
    throw new Error();
  return function() {
    Ya(this, e13).ease = t;
  };
}
function cke(e13) {
  var t = this._id;
  return arguments.length ? this.each(lke(t, e13)) : sa(this.node(), t).ease;
}
function uke(e13, t) {
  return function() {
    var r = t.apply(this, arguments);
    if (typeof r != "function")
      throw new Error();
    Ya(this, e13).ease = r;
  };
}
function hke(e13) {
  if (typeof e13 != "function")
    throw new Error();
  return this.each(uke(this._id, e13));
}
function fke(e13) {
  typeof e13 != "function" && (e13 = BE(e13));
  for (var t = this._groups, r = t.length, n = new Array(r), i = 0; i < r; ++i)
    for (var o = t[i], a = o.length, s = n[i] = [], l, u = 0; u < a; ++u)
      (l = o[u]) && e13.call(l, l.__data__, u, o) && s.push(l);
  return new ja(n, this._parents, this._name, this._id);
}
function dke(e13) {
  if (e13._id !== this._id)
    throw new Error();
  for (var t = this._groups, r = e13._groups, n = t.length, i = r.length, o = Math.min(n, i), a = new Array(n), s = 0; s < o; ++s)
    for (var l = t[s], u = r[s], c = l.length, f = a[s] = new Array(c), h, d = 0; d < c; ++d)
      (h = l[d] || u[d]) && (f[d] = h);
  for (; s < n; ++s)
    a[s] = t[s];
  return new ja(a, this._parents, this._name, this._id);
}
function pke(e13) {
  return (e13 + "").trim().split(/^|\s+/).every(function(t) {
    var r = t.indexOf(".");
    return r >= 0 && (t = t.slice(0, r)), !t || t === "start";
  });
}
function mke(e13, t, r) {
  var n, i, o = pke(t) ? JN : Ya;
  return function() {
    var a = o(this, e13), s = a.on;
    s !== n && (i = (n = s).copy()).on(t, r), a.on = i;
  };
}
function gke(e13, t) {
  var r = this._id;
  return arguments.length < 2 ? sa(this.node(), r).on.on(e13) : this.each(mke(r, e13, t));
}
function vke(e13) {
  return function() {
    var t = this.parentNode;
    for (var r in this.__transition)
      if (+r !== e13)
        return;
    t && t.removeChild(this);
  };
}
function yke() {
  return this.on("end.remove", vke(this._id));
}
function _ke(e13) {
  var t = this._name, r = this._id;
  typeof e13 != "function" && (e13 = Cv(e13));
  for (var n = this._groups, i = n.length, o = new Array(i), a = 0; a < i; ++a)
    for (var s = n[a], l = s.length, u = o[a] = new Array(l), c, f, h = 0; h < l; ++h)
      (c = s[h]) && (f = e13.call(c, c.__data__, h, s)) && ("__data__" in c && (f.__data__ = c.__data__), u[h] = f, sS(u[h], t, r, h, u, sa(c, r)));
  return new ja(o, this._parents, t, r);
}
function bke(e13) {
  var t = this._name, r = this._id;
  typeof e13 != "function" && (e13 = LE(e13));
  for (var n = this._groups, i = n.length, o = [], a = [], s = 0; s < i; ++s)
    for (var l = n[s], u = l.length, c, f = 0; f < u; ++f)
      if (c = l[f]) {
        for (var h = e13.call(c, c.__data__, f, l), d, p = sa(c, r), m = 0, g = h.length; m < g; ++m)
          (d = h[m]) && sS(d, t, r, m, h, p);
        o.push(h), a.push(c);
      }
  return new ja(o, a, t, r);
}
var Tke = ra.prototype.constructor;
function Eke() {
  return new Tke(this._groups, this._parents);
}
function Ske(e13, t) {
  var r, n, i;
  return function() {
    var o = Io(this, e13), a = (this.style.removeProperty(e13), Io(this, e13));
    return o === a ? null : o === r && a === n ? i : i = t(r = o, n = a);
  };
}
function FW(e13) {
  return function() {
    this.style.removeProperty(e13);
  };
}
function wke(e13, t, r) {
  var n, i = r + "", o;
  return function() {
    var a = Io(this, e13);
    return a === i ? null : a === n ? o : o = t(n = a, r);
  };
}
function Ake(e13, t, r) {
  var n, i, o;
  return function() {
    var a = Io(this, e13), s = r(this), l = s + "";
    return s == null && (l = s = (this.style.removeProperty(e13), Io(this, e13))), a === l ? null : a === n && l === i ? o : (i = l, o = t(n = a, s));
  };
}
function Oke(e13, t) {
  var r, n, i, o = "style." + t, a = "end." + o, s;
  return function() {
    var l = Ya(this, e13), u = l.on, c = l.value[o] == null ? s || (s = FW(t)) : void 0;
    (u !== r || i !== c) && (n = (r = u).copy()).on(a, i = c), l.on = n;
  };
}
function Ike(e13, t, r) {
  var n = (e13 += "") == "transform" ? Nz : BW;
  return t == null ? this.styleTween(e13, Ske(e13, n)).on("end.style." + e13, FW(e13)) : typeof t == "function" ? this.styleTween(e13, Ake(e13, n, eM(this, "style." + e13, t))).each(Oke(this._id, e13)) : this.styleTween(e13, wke(e13, n, t), r).on("end.style." + e13, null);
}
function Pke(e13, t, r) {
  return function(n) {
    this.style.setProperty(e13, t.call(this, n), r);
  };
}
function Cke(e13, t, r) {
  var n, i;
  function o() {
    var a = t.apply(this, arguments);
    return a !== i && (n = (i = a) && Pke(e13, a, r)), n;
  }
  return o._value = t, o;
}
function xke(e13, t, r) {
  var n = "style." + (e13 += "");
  if (arguments.length < 2)
    return (n = this.tween(n)) && n._value;
  if (t == null)
    return this.tween(n, null);
  if (typeof t != "function")
    throw new Error();
  return this.tween(n, Cke(e13, t, r ?? ""));
}
function kke(e13) {
  return function() {
    this.textContent = e13;
  };
}
function Dke(e13) {
  return function() {
    var t = e13(this);
    this.textContent = t ?? "";
  };
}
function Rke(e13) {
  return this.tween("text", typeof e13 == "function" ? Dke(eM(this, "text", e13)) : kke(e13 == null ? "" : e13 + ""));
}
function Nke(e13) {
  return function(t) {
    this.textContent = e13.call(this, t);
  };
}
function Mke(e13) {
  var t, r;
  function n() {
    var i = e13.apply(this, arguments);
    return i !== r && (t = (r = i) && Nke(i)), t;
  }
  return n._value = e13, n;
}
function Lke(e13) {
  var t = "text";
  if (arguments.length < 1)
    return (t = this.tween(t)) && t._value;
  if (e13 == null)
    return this.tween(t, null);
  if (typeof e13 != "function")
    throw new Error();
  return this.tween(t, Mke(e13));
}
function Bke() {
  for (var e13 = this._name, t = this._id, r = HW(), n = this._groups, i = n.length, o = 0; o < i; ++o)
    for (var a = n[o], s = a.length, l, u = 0; u < s; ++u)
      if (l = a[u]) {
        var c = sa(l, t);
        sS(l, e13, r, u, a, {
          time: c.time + c.delay + c.duration,
          delay: 0,
          duration: c.duration,
          ease: c.ease
        });
      }
  return new ja(n, this._parents, e13, r);
}
function Fke() {
  var e13, t, r = this, n = r._id, i = r.size();
  return new Promise(function(o, a) {
    var s = {
      value: a
    }, l = {
      value: function() {
        --i === 0 && o();
      }
    };
    r.each(function() {
      var u = Ya(this, n), c = u.on;
      c !== e13 && (t = (e13 = c).copy(), t._.cancel.push(s), t._.interrupt.push(s), t._.end.push(l)), u.on = t;
    }), i === 0 && o();
  });
}
var $ke = 0;
function ja(e13, t, r, n) {
  this._groups = e13, this._parents = t, this._name = r, this._id = n;
}
function $W(e13) {
  return ra().transition(e13);
}
function HW() {
  return ++$ke;
}
var ts = ra.prototype;
ja.prototype = $W.prototype = {
  constructor: ja,
  select: _ke,
  selectAll: bke,
  selectChild: ts.selectChild,
  selectChildren: ts.selectChildren,
  filter: fke,
  merge: dke,
  selection: Eke,
  transition: Bke,
  call: ts.call,
  nodes: ts.nodes,
  node: ts.node,
  size: ts.size,
  empty: ts.empty,
  each: ts.each,
  on: gke,
  attr: Kxe,
  attrTween: tke,
  style: Ike,
  styleTween: xke,
  text: Rke,
  textTween: Lke,
  remove: yke,
  tween: Gxe,
  delay: ike,
  duration: ske,
  ease: cke,
  easeVarying: hke,
  end: Fke,
  [Symbol.iterator]: ts[Symbol.iterator]
};
function Hke(e13) {
  return ((e13 *= 2) <= 1 ? e13 * e13 * e13 : (e13 -= 2) * e13 * e13 + 2) / 2;
}
var Uke = {
  time: null,
  // Set on use.
  delay: 0,
  duration: 250,
  ease: Hke
};
function jke(e13, t) {
  for (var r; !(r = e13.__transition) || !(r = r[t]); )
    if (!(e13 = e13.parentNode))
      throw new Error(`transition ${t} not found`);
  return r;
}
function Gke(e13) {
  var t, r;
  e13 instanceof ja ? (t = e13._id, e13 = e13._name) : (t = HW(), (r = Uke).time = QN(), e13 = e13 == null ? null : e13 + "");
  for (var n = this._groups, i = n.length, o = 0; o < i; ++o)
    for (var a = n[o], s = a.length, l, u = 0; u < s; ++u)
      (l = a[u]) && sS(l, e13, t, u, a, r || jke(l, t));
  return new ja(n, this._parents, e13, t);
}
ra.prototype.interrupt = Hxe;
ra.prototype.transition = Gke;
var zke = [null];
function Vke(e13, t) {
  var r = e13.__transition, n, i;
  if (r) {
    t = t == null ? null : t + "";
    for (i in r)
      if ((n = r[i]).state > sC && n.name === t)
        return new ja([[e13]], zke, t, +i);
  }
  return null;
}
var Xke = Object.freeze(Object.defineProperty({
  __proto__: null,
  active: Vke,
  interrupt: dg,
  transition: $W
}, Symbol.toStringTag, { value: "Module" }));
var d_ = (e13) => () => e13;
function Wke(e13, {
  sourceEvent: t,
  target: r,
  transform: n,
  dispatch: i
}) {
  Object.defineProperties(this, {
    type: {
      value: e13,
      enumerable: true,
      configurable: true
    },
    sourceEvent: {
      value: t,
      enumerable: true,
      configurable: true
    },
    target: {
      value: r,
      enumerable: true,
      configurable: true
    },
    transform: {
      value: n,
      enumerable: true,
      configurable: true
    },
    _: {
      value: i
    }
  });
}
function Da(e13, t, r) {
  this.k = e13, this.x = t, this.y = r;
}
Da.prototype = {
  constructor: Da,
  scale: function(e13) {
    return e13 === 1 ? this : new Da(this.k * e13, this.x, this.y);
  },
  translate: function(e13, t) {
    return e13 === 0 & t === 0 ? this : new Da(this.k, this.x + this.k * e13, this.y + this.k * t);
  },
  apply: function(e13) {
    return [e13[0] * this.k + this.x, e13[1] * this.k + this.y];
  },
  applyX: function(e13) {
    return e13 * this.k + this.x;
  },
  applyY: function(e13) {
    return e13 * this.k + this.y;
  },
  invert: function(e13) {
    return [(e13[0] - this.x) / this.k, (e13[1] - this.y) / this.k];
  },
  invertX: function(e13) {
    return (e13 - this.x) / this.k;
  },
  invertY: function(e13) {
    return (e13 - this.y) / this.k;
  },
  rescaleX: function(e13) {
    return e13.copy().domain(e13.range().map(this.invertX, this).map(e13.invert, e13));
  },
  rescaleY: function(e13) {
    return e13.copy().domain(e13.range().map(this.invertY, this).map(e13.invert, e13));
  },
  toString: function() {
    return "translate(" + this.x + "," + this.y + ") scale(" + this.k + ")";
  }
};
var En = new Da(1, 0, 0);
UW.prototype = Da.prototype;
function UW(e13) {
  for (; !e13.__zoom; )
    if (!(e13 = e13.parentNode))
      return En;
  return e13.__zoom;
}
function sO(e13) {
  e13.stopImmediatePropagation();
}
function tm(e13) {
  e13.preventDefault(), e13.stopImmediatePropagation();
}
function Yke(e13) {
  return (!e13.ctrlKey || e13.type === "wheel") && !e13.button;
}
function qke() {
  var e13 = this;
  return e13 instanceof SVGElement ? (e13 = e13.ownerSVGElement || e13, e13.hasAttribute("viewBox") ? (e13 = e13.viewBox.baseVal, [[e13.x, e13.y], [e13.x + e13.width, e13.y + e13.height]]) : [[0, 0], [e13.width.baseVal.value, e13.height.baseVal.value]]) : [[0, 0], [e13.clientWidth, e13.clientHeight]];
}
function y3() {
  return this.__zoom || En;
}
function Kke(e13) {
  return -e13.deltaY * (e13.deltaMode === 1 ? 0.05 : e13.deltaMode ? 1 : 2e-3) * (e13.ctrlKey ? 10 : 1);
}
function Zke() {
  return navigator.maxTouchPoints || "ontouchstart" in this;
}
function Qke(e13, t, r) {
  var n = e13.invertX(t[0][0]) - r[0][0], i = e13.invertX(t[1][0]) - r[1][0], o = e13.invertY(t[0][1]) - r[0][1], a = e13.invertY(t[1][1]) - r[1][1];
  return e13.translate(i > n ? (n + i) / 2 : Math.min(0, n) || Math.max(0, i), a > o ? (o + a) / 2 : Math.min(0, o) || Math.max(0, a));
}
function uC() {
  var e13 = Yke, t = qke, r = Qke, n = Kke, i = Zke, o = [0, 1 / 0], a = [[-1 / 0, -1 / 0], [1 / 0, 1 / 0]], s = 250, l = Moe, u = Jd("start", "zoom", "end"), c, f, h, d = 500, p = 150, m = 0, g = 10;
  function v(A) {
    A.property("__zoom", y3).on("wheel.zoom", S, {
      passive: false
    }).on("mousedown.zoom", P).on("dblclick.zoom", C).filter(i).on("touchstart.zoom", w).on("touchmove.zoom", N).on("touchend.zoom touchcancel.zoom", L).style("-webkit-tap-highlight-color", "rgba(0,0,0,0)");
  }
  v.transform = function(A, R, F, $) {
    var K = A.selection ? A.selection() : A;
    K.property("__zoom", y3), A !== K ? T(A, R, F, $) : K.interrupt().each(function() {
      E(this, arguments).event($).start().zoom(null, typeof R == "function" ? R.apply(this, arguments) : R).end();
    });
  }, v.scaleBy = function(A, R, F, $) {
    v.scaleTo(A, function() {
      var K = this.__zoom.k, ie = typeof R == "function" ? R.apply(this, arguments) : R;
      return K * ie;
    }, F, $);
  }, v.scaleTo = function(A, R, F, $) {
    v.transform(A, function() {
      var K = t.apply(this, arguments), ie = this.__zoom, J = F == null ? _(K) : typeof F == "function" ? F.apply(this, arguments) : F, pe = ie.invert(J), oe = typeof R == "function" ? R.apply(this, arguments) : R;
      return r(y(b(ie, oe), J, pe), K, a);
    }, F, $);
  }, v.translateBy = function(A, R, F, $) {
    v.transform(A, function() {
      return r(this.__zoom.translate(typeof R == "function" ? R.apply(this, arguments) : R, typeof F == "function" ? F.apply(this, arguments) : F), t.apply(this, arguments), a);
    }, null, $);
  }, v.translateTo = function(A, R, F, $, K) {
    v.transform(A, function() {
      var ie = t.apply(this, arguments), J = this.__zoom, pe = $ == null ? _(ie) : typeof $ == "function" ? $.apply(this, arguments) : $;
      return r(En.translate(pe[0], pe[1]).scale(J.k).translate(typeof R == "function" ? -R.apply(this, arguments) : -R, typeof F == "function" ? -F.apply(this, arguments) : -F), ie, a);
    }, $, K);
  };
  function b(A, R) {
    return R = Math.max(o[0], Math.min(o[1], R)), R === A.k ? A : new Da(R, A.x, A.y);
  }
  function y(A, R, F) {
    var $ = R[0] - F[0] * A.k, K = R[1] - F[1] * A.k;
    return $ === A.x && K === A.y ? A : new Da(A.k, $, K);
  }
  function _(A) {
    return [(+A[0][0] + +A[1][0]) / 2, (+A[0][1] + +A[1][1]) / 2];
  }
  function T(A, R, F, $) {
    A.on("start.zoom", function() {
      E(this, arguments).event($).start();
    }).on("interrupt.zoom end.zoom", function() {
      E(this, arguments).event($).end();
    }).tween("zoom", function() {
      var K = this, ie = arguments, J = E(K, ie).event($), pe = t.apply(K, ie), oe = F == null ? _(pe) : typeof F == "function" ? F.apply(K, ie) : F, q = Math.max(pe[1][0] - pe[0][0], pe[1][1] - pe[0][1]), W = K.__zoom, se = typeof R == "function" ? R.apply(K, ie) : R, Te = l(W.invert(oe).concat(q / W.k), se.invert(oe).concat(q / se.k));
      return function(Ae) {
        if (Ae === 1)
          Ae = se;
        else {
          var Re = Te(Ae), Ee = q / Re[2];
          Ae = new Da(Ee, oe[0] - Re[0] * Ee, oe[1] - Re[1] * Ee);
        }
        J.zoom(null, Ae);
      };
    });
  }
  function E(A, R, F) {
    return !F && A.__zooming || new O(A, R);
  }
  function O(A, R) {
    this.that = A, this.args = R, this.active = 0, this.sourceEvent = null, this.extent = t.apply(A, R), this.taps = 0;
  }
  O.prototype = {
    event: function(A) {
      return A && (this.sourceEvent = A), this;
    },
    start: function() {
      return ++this.active === 1 && (this.that.__zooming = this, this.emit("start")), this;
    },
    zoom: function(A, R) {
      return this.mouse && A !== "mouse" && (this.mouse[1] = R.invert(this.mouse[0])), this.touch0 && A !== "touch" && (this.touch0[1] = R.invert(this.touch0[0])), this.touch1 && A !== "touch" && (this.touch1[1] = R.invert(this.touch1[0])), this.that.__zoom = R, this.emit("zoom"), this;
    },
    end: function() {
      return --this.active === 0 && (delete this.that.__zooming, this.emit("end")), this;
    },
    emit: function(A) {
      var R = Wt(this.that).datum();
      u.call(A, this.that, new Wke(A, {
        sourceEvent: this.sourceEvent,
        target: v,
        transform: this.that.__zoom,
        dispatch: u
      }), R);
    }
  };
  function S(A, ...R) {
    if (!e13.apply(this, arguments))
      return;
    var F = E(this, R).event(A), $ = this.__zoom, K = Math.max(o[0], Math.min(o[1], $.k * Math.pow(2, n.apply(this, arguments)))), ie = vr(A);
    if (F.wheel)
      (F.mouse[0][0] !== ie[0] || F.mouse[0][1] !== ie[1]) && (F.mouse[1] = $.invert(F.mouse[0] = ie)), clearTimeout(F.wheel);
    else {
      if ($.k === K)
        return;
      F.mouse = [ie, $.invert(ie)], dg(this), F.start();
    }
    tm(A), F.wheel = setTimeout(J, p), F.zoom("mouse", r(y(b($, K), F.mouse[0], F.mouse[1]), F.extent, a));
    function J() {
      F.wheel = null, F.end();
    }
  }
  function P(A, ...R) {
    if (h || !e13.apply(this, arguments))
      return;
    var F = A.currentTarget, $ = E(this, R, true).event(A), K = Wt(A.view).on("mousemove.zoom", oe, true).on("mouseup.zoom", q, true), ie = vr(A, F), J = A.clientX, pe = A.clientY;
    h1(A.view), sO(A), $.mouse = [ie, this.__zoom.invert(ie)], dg(this), $.start();
    function oe(W) {
      if (tm(W), !$.moved) {
        var se = W.clientX - J, Te = W.clientY - pe;
        $.moved = se * se + Te * Te > m;
      }
      $.event(W).zoom("mouse", r(y($.that.__zoom, $.mouse[0] = vr(W, F), $.mouse[1]), $.extent, a));
    }
    function q(W) {
      K.on("mousemove.zoom mouseup.zoom", null), f1(W.view, $.moved), tm(W), $.event(W).end();
    }
  }
  function C(A, ...R) {
    if (e13.apply(this, arguments)) {
      var F = this.__zoom, $ = vr(A.changedTouches ? A.changedTouches[0] : A, this), K = F.invert($), ie = F.k * (A.shiftKey ? 0.5 : 2), J = r(y(b(F, ie), $, K), t.apply(this, R), a);
      tm(A), s > 0 ? Wt(this).transition().duration(s).call(T, J, $, A) : Wt(this).call(v.transform, J, $, A);
    }
  }
  function w(A, ...R) {
    if (e13.apply(this, arguments)) {
      var F = A.touches, $ = F.length, K = E(this, R, A.changedTouches.length === $).event(A), ie, J, pe, oe;
      for (sO(A), J = 0; J < $; ++J)
        pe = F[J], oe = vr(pe, this), oe = [oe, this.__zoom.invert(oe), pe.identifier], K.touch0 ? !K.touch1 && K.touch0[2] !== oe[2] && (K.touch1 = oe, K.taps = 0) : (K.touch0 = oe, ie = true, K.taps = 1 + !!c);
      c && (c = clearTimeout(c)), ie && (K.taps < 2 && (f = oe[0], c = setTimeout(function() {
        c = null;
      }, d)), dg(this), K.start());
    }
  }
  function N(A, ...R) {
    if (this.__zooming) {
      var F = E(this, R).event(A), $ = A.changedTouches, K = $.length, ie, J, pe, oe;
      for (tm(A), ie = 0; ie < K; ++ie)
        J = $[ie], pe = vr(J, this), F.touch0 && F.touch0[2] === J.identifier ? F.touch0[0] = pe : F.touch1 && F.touch1[2] === J.identifier && (F.touch1[0] = pe);
      if (J = F.that.__zoom, F.touch1) {
        var q = F.touch0[0], W = F.touch0[1], se = F.touch1[0], Te = F.touch1[1], Ae = (Ae = se[0] - q[0]) * Ae + (Ae = se[1] - q[1]) * Ae, Re = (Re = Te[0] - W[0]) * Re + (Re = Te[1] - W[1]) * Re;
        J = b(J, Math.sqrt(Ae / Re)), pe = [(q[0] + se[0]) / 2, (q[1] + se[1]) / 2], oe = [(W[0] + Te[0]) / 2, (W[1] + Te[1]) / 2];
      } else if (F.touch0)
        pe = F.touch0[0], oe = F.touch0[1];
      else
        return;
      F.zoom("touch", r(y(J, pe, oe), F.extent, a));
    }
  }
  function L(A, ...R) {
    if (this.__zooming) {
      var F = E(this, R).event(A), $ = A.changedTouches, K = $.length, ie, J;
      for (sO(A), h && clearTimeout(h), h = setTimeout(function() {
        h = null;
      }, d), ie = 0; ie < K; ++ie)
        J = $[ie], F.touch0 && F.touch0[2] === J.identifier ? delete F.touch0 : F.touch1 && F.touch1[2] === J.identifier && delete F.touch1;
      if (F.touch1 && !F.touch0 && (F.touch0 = F.touch1, delete F.touch1), F.touch0)
        F.touch0[1] = this.__zoom.invert(F.touch0[0]);
      else if (F.end(), F.taps === 2 && (J = vr(J, this), Math.hypot(f[0] - J[0], f[1] - J[1]) < g)) {
        var pe = Wt(this).on("dblclick.zoom");
        pe && pe.apply(this, arguments);
      }
    }
  }
  return v.wheelDelta = function(A) {
    return arguments.length ? (n = typeof A == "function" ? A : d_(+A), v) : n;
  }, v.filter = function(A) {
    return arguments.length ? (e13 = typeof A == "function" ? A : d_(!!A), v) : e13;
  }, v.touchable = function(A) {
    return arguments.length ? (i = typeof A == "function" ? A : d_(!!A), v) : i;
  }, v.extent = function(A) {
    return arguments.length ? (t = typeof A == "function" ? A : d_([[+A[0][0], +A[0][1]], [+A[1][0], +A[1][1]]]), v) : t;
  }, v.scaleExtent = function(A) {
    return arguments.length ? (o[0] = +A[0], o[1] = +A[1], v) : [o[0], o[1]];
  }, v.translateExtent = function(A) {
    return arguments.length ? (a[0][0] = +A[0][0], a[1][0] = +A[1][0], a[0][1] = +A[0][1], a[1][1] = +A[1][1], v) : [[a[0][0], a[0][1]], [a[1][0], a[1][1]]];
  }, v.constrain = function(A) {
    return arguments.length ? (r = A, v) : r;
  }, v.duration = function(A) {
    return arguments.length ? (s = +A, v) : s;
  }, v.interpolate = function(A) {
    return arguments.length ? (l = A, v) : l;
  }, v.on = function() {
    var A = u.on.apply(u, arguments);
    return A === u ? v : A;
  }, v.clickDistance = function(A) {
    return arguments.length ? (m = (A = +A) * A, v) : Math.sqrt(m);
  }, v.tapDistance = function(A) {
    return arguments.length ? (g = +A, v) : g;
  }, v;
}
var Jke = Object.freeze(Object.defineProperty({
  __proto__: null,
  ZoomTransform: Da,
  zoom: uC,
  zoomIdentity: En,
  zoomTransform: UW
}, Symbol.toStringTag, { value: "Module" }));
function eDe(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function tDe(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, nDe(n.key), n);
  }
}
function rDe(e13, t, r) {
  return t && tDe(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function nDe(e13) {
  var t = iDe(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function iDe(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
var oDe = 40;
var xh = 0;
var rm = 5;
var _3 = 4;
var lS = function() {
  function e13(t) {
    eDe(this, e13), this.pAxis = new Ge.PIXI.Graphics(), this.track = t, this.axisTexts = [], this.axisTextFontFamily = "Arial", this.axisTextFontSize = 10;
  }
  return rDe(e13, [{
    key: "startAxis",
    value: function(r) {
      const n = this.pAxis;
      n.clear(), n.lineStyle(1, this.track.getTheme() === wr ? ct("#ffffff") : 0, 1), n.moveTo(0, 0), n.lineTo(0, r);
    }
  }, {
    key: "createAxisTexts",
    value: function(r, n) {
      this.tickValues = this.calculateAxisTickValues(r, n);
      let i = 0;
      const o = this.track.getTheme() === wr ? "white" : "black";
      for (!this.track.options || !this.track.options.axisLabelFormatting || this.track.options.axisLabelFormatting === "scientific" ? this.tickFormat = ro(".2") : this.tickFormat = (a) => a; i < this.tickValues.length; ) {
        const a = this.tickValues[i];
        for (; this.axisTexts.length <= i; ) {
          const s = new Ge.PIXI.Text(a, {
            fontSize: `${this.axisTextFontSize}px`,
            fontFamily: this.axisTextFontFamily,
            fill: o
          });
          this.axisTexts.push(s), this.pAxis.addChild(s);
        }
        this.axisTexts[i].text = this.tickFormat(a), this.axisTexts[i].anchor.y = 0.5, this.axisTexts[i].anchor.x = 0.5, i++;
      }
      for (; this.axisTexts.length > this.tickValues.length; ) {
        const a = this.axisTexts.pop();
        this.pAxis.removeChild(a), a.destroy(true);
      }
    }
  }, {
    key: "calculateAxisTickValues",
    value: function(r, n) {
      const i = Math.max(Math.ceil(n / oDe), 1);
      let o = r.ticks(i);
      return o.length < 1 && (o = r.ticks(i + 1), o.length > 1 && (o = [o[0]])), o;
    }
  }, {
    key: "drawAxisLeft",
    value: function(r, n) {
      this.startAxis(n), this.createAxisTexts(r, n);
      const i = this.pAxis;
      this.track.getTheme() === wr && i.lineStyle(i.lineWidth || i._lineStyle.width, ct("#ffffff")), i.moveTo(0, 0), i.lineTo(-5, 0), i.moveTo(0, n), i.lineTo(-5, n);
      for (let o = 0; o < this.axisTexts.length; o++) {
        const a = this.tickValues[o];
        this.axisTexts[o].x = -(xh + rm + _3 + this.axisTexts[o].width / 2), this.axisTexts[o].y = r(a), i.moveTo(-0, r(a)), i.lineTo(-5, r(a)), this.track && this.track.flipText && (this.axisTexts[o].scale.x = -1);
      }
      this.hideOverlappingAxisLabels();
    }
  }, {
    key: "drawAxisRight",
    value: function(r, n) {
      this.startAxis(n), this.createAxisTexts(r, n);
      const i = this.pAxis;
      this.track.getTheme() === wr && i.lineStyle(i.lineWidth || i._lineStyle.width, ct("#ffffff")), i.moveTo(0, 0), i.lineTo(xh + rm, 0), i.moveTo(0, n), i.lineTo(xh + rm, n);
      for (let o = 0; o < this.axisTexts.length; o++) {
        const a = this.tickValues[o];
        this.axisTexts[o].x = xh + rm + _3 + this.axisTexts[o].width / 2, this.axisTexts[o].y = r(a), i.moveTo(xh, r(a)), i.lineTo(xh + rm, r(a)), this.track && this.track.flipText && (this.axisTexts[o].scale.x = -1);
      }
      this.hideOverlappingAxisLabels();
    }
  }, {
    key: "hideOverlappingAxisLabels",
    value: function() {
      for (let r = this.axisTexts.length - 1; r >= 0; r--)
        this.axisTexts[r].visible = true;
      for (let r = this.axisTexts.length - 1; r >= 0; r--) {
        if (!this.axisTexts[r].visible)
          continue;
        let n = r - 1;
        for (; n >= 0 && this.axisTexts[r].y + this.axisTexts[r].height / 2 > this.axisTexts[n].y - this.axisTexts[n].height / 2; ) {
          this.axisTexts[n].visible = false;
          n -= 1;
        }
      }
    }
  }, {
    key: "exportVerticalAxis",
    value: function(r) {
      const n = document.createElement("g");
      n.setAttribute("class", "axis-vertical");
      let i = "black";
      this.track && this.track.options.lineStrokeColor && (i = this.track.options.lineStrokeColor), this.track.getTheme() === wr && (i = "#cccccc");
      const o = document.createElement("path");
      return o.setAttribute("fill", "transparent"), o.setAttribute("stroke", i), o.setAttribute("id", "axis-line"), o.setAttribute("d", `M0,0 L0,${r}`), n.appendChild(o), n;
    }
  }, {
    key: "createAxisSVGLine",
    value: function() {
      let r = "black";
      this.track && this.track.options.lineStrokeColor && (r = this.track.options.lineStrokeColor), this.track.getTheme() === wr && (r = "#cccccc");
      const n = document.createElement("path");
      return n.setAttribute("id", "tick-mark"), n.setAttribute("fill", "transparent"), n.setAttribute("stroke", r), n;
    }
  }, {
    key: "createAxisSVGText",
    value: function(r) {
      const n = document.createElement("text");
      return n.innerHTML = r, n.setAttribute("id", "axis-text"), n.setAttribute("text-anchor", "middle"), n.setAttribute("font-family", this.axisTextFontFamily), n.setAttribute("font-size", this.axisTextFontSize), n.setAttribute("dy", this.axisTextFontSize / 2 - 2), n;
    }
  }, {
    key: "exportAxisLeftSVG",
    value: function(r, n) {
      const i = this.exportVerticalAxis(n), o = this.createAxisSVGLine();
      i.appendChild(o), o.setAttribute("d", "M0,0 L5,0");
      const a = this.createAxisSVGLine();
      i.appendChild(a), a.setAttribute("d", `M0,${n} L5,${n}`);
      for (let s = 0; s < this.axisTexts.length; s++) {
        const l = this.tickValues[s], u = this.axisTexts[s], c = this.createAxisSVGLine();
        i.appendChild(c), c.setAttribute("d", `M0,${r(l)} L5,${r(l)}`);
        const f = document.createElement("g");
        if (i.appendChild(f), u.visible) {
          const h = this.createAxisSVGText(u.text);
          f.appendChild(h);
        }
        f.setAttribute("transform", `translate(${u.position.x},${u.position.y})
             scale(${u.scale.x},${u.scale.y})`);
      }
      return i;
    }
  }, {
    key: "exportAxisRightSVG",
    value: function(r, n) {
      const i = this.exportVerticalAxis(n), o = this.createAxisSVGLine();
      i.appendChild(o), o.setAttribute("d", "M0,0 L-5,0");
      const a = this.createAxisSVGLine();
      i.appendChild(a), a.setAttribute("d", `M0,${n} L-5,${n}`);
      for (let s = 0; s < this.axisTexts.length; s++) {
        const l = this.tickValues[s], u = this.axisTexts[s], c = this.createAxisSVGLine();
        i.appendChild(c), c.setAttribute("d", `M0,${r(l)} L-5,${r(l)}`);
        const f = document.createElement("g");
        if (i.appendChild(f), u.visible) {
          const h = this.createAxisSVGText(u.text);
          f.appendChild(h);
        }
        f.setAttribute("transform", `translate(${u.position.x},${u.position.y})
             scale(${u.scale.x},${u.scale.y})`);
      }
      return i;
    }
  }, {
    key: "clearAxis",
    value: function() {
      const r = this.pAxis;
      for (; this.axisTexts.length; ) {
        const n = this.axisTexts.pop();
        r.removeChild(n);
      }
      r.clear();
    }
  }]), e13;
}();
var jW = (e13, t) => {
  const r = [];
  for (let n = e13; n < t; n++)
    r.push(n);
  return r;
};
var aDe = (e13, t) => {
  const r = e13.map((s) => +s).sort((s, l) => l - s), n = t.range()[1] - t.range()[0], o = r.map((s) => (t.domain()[1] - t.domain()[0]) / s).map((s) => s / n), a = o.filter((s) => s < 1);
  return a.length === 0 ? 0 : o.indexOf(a[a.length - 1]);
};
var sDe = (e13, t, r, n) => {
  const i = e13.range()[1] - e13.range()[0], o = Math.max((r - t) / (e13.domain()[1] - e13.domain()[0]), 1), s = Math.max(0, Math.ceil(Math.log(i / 384) / Math.LN2));
  let l = Math.round(Math.log(o) / Math.LN2) + s, u = 0;
  return n && (u = Math.floor(Math.log(256) / Math.log(2) - Math.log(n) / Math.log(2))), l += u, l;
};
var GW = (e13, t, r) => {
  if (typeof r > "u" && (r = Number.MAX_SAFE_INTEGER), e13.resolutions)
    return aDe(e13.resolutions, t, e13.min_pos[0], e13.max_pos[0] - 2);
  const n = sDe(t, e13.min_pos[0], e13.max_pos[0], e13.bins_per_dimension || e13.tile_size), i = Math.min(n, r);
  return Math.max(i, 0);
};
var lDe = (e13, t, r, n, i, o) => {
  const a = Math.min(e13, i), s = o / 2 ** a;
  return jW(Math.max(0, Math.floor((t.domain()[0] - r) / s)), Math.min(2 ** a, Math.ceil((t.domain()[1] - r - 1e-7) / s)));
};
var cDe = (e13, t, r, n = Number.MAX_VALUE, i = 256) => {
  const a = e13 * i, s = 20, l = Math.max(0, Math.floor((t.domain()[0] - r) / a)), u = Math.ceil(Math.min(n, t.domain()[1] - r - 1e-7) / a);
  let c = jW(l, u);
  return c.length > s && (console.warn(`Too many visible tiles: ${c.length} truncating to ${s}`), c = c.slice(0, s)), c;
};
var uDe = (e13, t) => {
  if (!e13)
    return [];
  const r = GW(e13, t, e13.max_zoom);
  if (e13.resolutions) {
    const o = e13.resolutions.map((l) => +l).sort((l, u) => u - l);
    return cDe(o[r], t, e13.min_pos[0], e13.max_pos[0]).map((l) => [r, l]);
  }
  return lDe(r, t, e13.min_pos[0], e13.max_pos[0], e13.max_zoom, e13.max_width).map((o) => [r, o]);
};
var hDe = (e13, t) => {
  if (e13.axis || (e13.axis = new lS(e13), e13.pBase.addChild(e13.axis.pAxis)), !e13.options.axisPositionVertical && !e13.options.axisPositionHorizontal) {
    e13.axis.clearAxis();
    return;
  }
  if (e13.options.axisPositionVertical && e13.options.axisPositionVertical === "hidden") {
    e13.axis.clearAxis();
    return;
  }
  if (e13.options.axisPositionHorizontal && e13.options.axisPositionHorizontal === "hidden") {
    e13.axis.clearAxis();
    return;
  }
  const r = e13.options.axisMargin || 0;
  e13.options.axisPositionHorizontal === "left" || e13.options.axisPositionVertical === "top" ? (e13.axis.pAxis.position.x = e13.position[0] + r, e13.axis.pAxis.position.y = e13.position[1], e13.axis.drawAxisRight(t, e13.dimensions[1])) : e13.options.axisPositionHorizontal === "outsideLeft" || e13.options.axisPositionVertical === "outsideTop" ? (e13.axis.pAxis.position.x = e13.position[0] + r, e13.axis.pAxis.position.y = e13.position[1], e13.axis.drawAxisLeft(t, e13.dimensions[1])) : e13.options.axisPositionHorizontal === "right" || e13.options.axisPositionVertical === "bottom" ? (e13.axis.pAxis.position.x = e13.position[0] + e13.dimensions[0] - r, e13.axis.pAxis.position.y = e13.position[1], e13.axis.drawAxisLeft(t, e13.dimensions[1])) : (e13.options.axisPositionHorizontal === "outsideRight" || e13.options.axisPositionVertical === "outsideBottom") && (e13.axis.pAxis.position.x = e13.position[0] + e13.dimensions[0] - r, e13.axis.pAxis.position.y = e13.position[1], e13.axis.drawAxisRight(t, e13.dimensions[1]));
};
var fDe = (e13, t) => {
  const r = e13.valueScaleTransform, {
    y: n,
    k: i
  } = r, o = e13.dimensions[1];
  n + t / i > -(i - 1) * o && n + t / i < 0 && (e13.valueScaleTransform = r.translate(0, t / i)), Object.values(e13.fetchedTiles).forEach((a) => {
    a.graphics.position.y = e13.valueScaleTransform.y;
  }), e13.animate();
};
var dDe = (e13, t, r, n) => {
  const i = r.k, o = r.y, a = (e13 - o) / i, s = Math.max(i / t, 1);
  let l = i * a + o - s * a;
  return l = Math.max(l, -(s - 1) * n), l = Math.min(l, 0), En.translate(0, l).scale(s);
};
var pDe = (e13, t) => {
  const r = +t.split(".")[0], n = +t.split(".")[1], i = e13.max_width, o = e13.min_pos[0], a = i / 2 ** r;
  return {
    tileX: o + n * a,
    tileWidth: a
  };
};
function mDe(e13, t) {
  Object.values(e13.fetchedTiles).forEach((r) => {
    if (!r.drawnAtScale)
      return;
    const n = r.drawnAtScale.range(), i = e13._xScale.range();
    if (n[0] !== i[0] || n[1] !== i[1]) {
      e13.renderTile(r);
      return;
    }
    const o = (r.drawnAtScale.domain()[1] - r.drawnAtScale.domain()[0]) / (e13._xScale.domain()[1] - e13._xScale.domain()[0]);
    if (o > 2 || o < 0.5)
      e13.renderTile(r);
    else {
      const s = e13._xScale.domain().map(r.drawnAtScale)[0];
      for (const l of t)
        l(r).scale.x = o, l(r).x = -s * o;
    }
  });
}
var tu = {
  calculate1DVisibleTiles: uDe,
  calculate1DZoomLevel: GW,
  drawAxis: hDe,
  movedY: fDe,
  getTilePosAndDimensions: pDe,
  stretchRects: mDe,
  zoomedY: dDe
};
var gDe = Object.freeze(Object.defineProperty({
  __proto__: null,
  DenseDataExtrema1D: D0,
  DenseDataExtrema2D: qR,
  IS_TRACK_RANGE_SELECTABLE: ep,
  absToChr: pn,
  accessorTransposition: m9,
  addArrays: g9,
  addClass: Lfe,
  base64ToCanvas: Bfe,
  changeOptions: Pxe,
  chrToAbs: T0,
  chromInfoBisector: p9,
  cloneEvent: v9,
  colorDomainToRgbaArray: Wl,
  colorToHex: ct,
  colorToRgba: k9,
  dataToGenomicLoci: O0,
  debounce: BR,
  decToHexStr: TP,
  dictFromTuples: D9,
  dictItems: po,
  dictKeys: ho,
  dictValues: mr,
  download: Ym,
  expandCombinedTracks: nb,
  fillInMinWidths: R9,
  flatten: yde,
  forEach: _de,
  forwardEvent: I0,
  genomeLociToPixels: bde,
  genomicRangeToChromosomeChunks: Tde,
  getAggregationFunction: KR,
  getDefaultTrackForDatatype: FR,
  getElementDim: H9,
  getTiledPlot: yme,
  getTrackByUid: qi,
  getTrackConfFromHGC: bpe,
  getTrackObjById: Sm,
  getTrackObjectFromHGC: ZR,
  getTrackPositionByUid: qm,
  getTrackRenderer: aV,
  getXylofon: j9,
  gradient: G9,
  hasClass: b0,
  hasParent: z9,
  hexStrToInt: V9,
  intoTheVoid: X9,
  isTrackOrChildTrack: W9,
  isWithin: XR,
  latToY: xpe,
  lngToX: Dpe,
  loadChromInfos: kpe,
  map: zR,
  max: EP,
  maxNonZero: SP,
  min: Y9,
  minNonZero: wP,
  mod: Mpe,
  mountHGComponent: DW,
  mountHGComponentAsync: Dxe,
  ndarrayAssign: q9,
  ndarrayFlatten: Q9,
  ndarrayToList: Z9,
  numericifyVersion: J9,
  objVals: g1,
  or: jv,
  parseChromsizesRows: v1,
  pixiTextToSvg: AP,
  q: qpe,
  rangeQuery2d: Kpe,
  reduce: N9,
  relToAbsChromPos: Zpe,
  removeClass: Jpe,
  removeHGComponent: kxe,
  resetD3BrushStyle: Pf,
  rgbToHex: eme,
  scalesCenterAndK: un,
  scalesToGenomeLoci: eV,
  segmentsToRows: k0,
  selectedItemsToSize: tv,
  showMousePosition: gu,
  some: ime,
  sum: El,
  svgLine: tV,
  throttleAndDebounce: rV,
  tileToCanvas: ome,
  timeout: WR,
  toVoid: Xo,
  totalTrackPixelHeight: ame,
  trackUtils: tu,
  trimTrailingSlash: y1,
  valueToColor: YR,
  visitPositionedTracks: ss,
  visitTracks: GR,
  waitForJsonComplete: ZN,
  waitForTilesLoaded: W0,
  waitForTransitionsFinished: kW
}, Symbol.toStringTag, { value: "Module" }));
function hC() {
  return hC = Object.assign ? Object.assign.bind() : function(e13) {
    for (var t = 1; t < arguments.length; t++) {
      var r = arguments[t];
      for (var n in r)
        Object.prototype.hasOwnProperty.call(r, n) && (e13[n] = r[n]);
    }
    return e13;
  }, hC.apply(this, arguments);
}
var {
  Provider: vDe,
  Consumer: yDe
} = import_react.default.createContext({
  close: Xo,
  open: Xo
});
var ih = (e13) => import_react.default.forwardRef((t, r) => import_react.default.createElement(yDe, null, (n) => import_react.default.createElement(e13, hC({
  ref: r
}, t, {
  theme: n
}))));
var bl = {
  "track-control": "_track-control_w7hx2_1",
  "track-control-vertical": "_track-control-vertical_w7hx2_2",
  "track-control-dark": "_track-control-dark_w7hx2_15",
  "track-control-active": "_track-control-active_w7hx2_16 _track-control_w7hx2_1",
  "track-control-left": "_track-control-left_w7hx2_24",
  "track-control-padding-right": "_track-control-padding-right_w7hx2_48",
  "track-control-button": "_track-control-button_w7hx2_52",
  "track-control-button-vertical": "_track-control-button-vertical_w7hx2_81"
};
var _De = (e13) => nr({
  [bl["track-control-active"]]: e13.isVisible,
  [bl["track-control"]]: !e13.isVisible,
  [bl["track-control-left"]]: e13.isAlignLeft,
  [bl["track-control-vertical"]]: e13.isVertical,
  [bl["track-control-padding-right"]]: e13.paddingRight,
  [bl["track-control-dark"]]: e13.theme === wr
});
var p_ = (e13) => nr("no-zoom", bl["track-control-button"], {
  [bl["track-control-button-vertical"]]: e13.isVertical
});
var lO = null;
var b3 = null;
function zW(e13) {
  (!e13 || !lO || Object.keys(e13).some((n) => lO[n] !== e13[n])) && (lO = e13, b3 = vP(() => import_react.default.createElement("svg", {
    className: p_(e13),
    style: {
      height: "20px",
      width: "20px",
      ...e13.imgStyleMove
    }
  }, import_react.default.createElement("title", null, "Move track"), import_react.default.createElement("use", {
    xlinkHref: "#move"
  }))));
  let t, r;
  return import_react.default.createElement("div", {
    className: _De(e13)
  }, e13.isMoveable && import_react.default.createElement(b3, null), import_react.default.createElement("svg", {
    ref: (n) => {
      t = n;
    },
    className: p_(e13),
    onClick: () => {
      e13.onConfigTrackMenuOpened(e13.uid, t.getBoundingClientRect());
    },
    style: {
      height: "20px",
      width: "20px",
      ...e13.imgStyleSettings
    }
  }, import_react.default.createElement("title", null, "Configure track"), import_react.default.createElement("use", {
    xlinkHref: "#cog"
  })), e13.onAddSeries && import_react.default.createElement("svg", {
    className: p_(e13),
    onClick: () => e13.onAddSeries(e13.uid),
    style: {
      height: "20px",
      width: "20px",
      ...e13.imgStyleAdd
    }
  }, import_react.default.createElement("title", null, "Add series"), import_react.default.createElement("use", {
    xlinkHref: "#plus"
  })), import_react.default.createElement("svg", {
    ref: (n) => {
      r = n;
    },
    className: p_(e13),
    onClick: () => {
      e13.onCloseTrackMenuOpened(e13.uid, r.getBoundingClientRect());
    },
    style: {
      height: "20px",
      width: "20px",
      ...e13.imgStyleClose
    }
  }, import_react.default.createElement("title", null, "Close track"), import_react.default.createElement("use", {
    xlinkHref: "#cross"
  })));
}
zW.propTypes = {
  imgStyleAdd: M.object,
  imgStyleClose: M.object,
  imgStyleMove: M.object,
  imgStyleSettings: M.object,
  isAlignLeft: M.bool,
  isMoveable: M.bool,
  isVertical: M.bool,
  isVisible: M.bool,
  onConfigTrackMenuOpened: M.func,
  onCloseTrackMenuOpened: M.func,
  onAddSeries: M.func,
  paddingRight: M.bool,
  theme: M.symbol.isRequired,
  uid: M.string
};
var cS = ih(zW);
var fC = {
  "center-track": "_center-track_fiu64_1",
  "center-track-container": "_center-track-container_fiu64_6"
};
var $o = {
  "track-range-selection": "_track-range-selection_5bcsr_1",
  "track-range-selection-active": "_track-range-selection-active_5bcsr_8 _track-range-selection_5bcsr_1",
  "track-range-selection-active-primary": "_track-range-selection-active-primary_5bcsr_14 _track-range-selection-active_5bcsr_8 _track-range-selection_5bcsr_1",
  "track-range-selection-active-secondary": "_track-range-selection-active-secondary_5bcsr_18 _track-range-selection-active_5bcsr_8 _track-range-selection_5bcsr_1",
  "track-range-selection-group-inactive": "_track-range-selection-group-inactive_5bcsr_22",
  "track-range-selection-group-brush-selection": "_track-range-selection-group-brush-selection_5bcsr_26"
};
function bDe(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function TDe(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, SDe(n.key), n);
  }
}
function EDe(e13, t, r) {
  return t && TDe(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function SDe(e13) {
  var t = wDe(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function wDe(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
function ADe(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  e13.prototype = Object.create(t && t.prototype, { constructor: { value: e13, writable: true, configurable: true } }), Object.defineProperty(e13, "prototype", { writable: false }), t && dC(e13, t);
}
function dC(e13, t) {
  return dC = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, i) {
    return n.__proto__ = i, n;
  }, dC(e13, t);
}
function ODe(e13) {
  var t = PDe();
  return function() {
    var n = Z0(e13), i;
    if (t) {
      var o = Z0(this).constructor;
      i = Reflect.construct(n, arguments, o);
    } else
      i = n.apply(this, arguments);
    return IDe(this, i);
  };
}
function IDe(e13, t) {
  if (t && (typeof t == "object" || typeof t == "function"))
    return t;
  if (t !== void 0)
    throw new TypeError("Derived constructors may only return object or undefined");
  return hl(e13);
}
function hl(e13) {
  if (e13 === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e13;
}
function PDe() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return false;
  if (typeof Proxy == "function")
    return true;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), true;
  } catch {
    return false;
  }
}
function Z0(e13) {
  return Z0 = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(r) {
    return r.__proto__ || Object.getPrototypeOf(r);
  }, Z0(e13);
}
var m_ = {
  pointerEvents: "all"
};
function kh(e13) {
  return e13 && e13.sourceEvent;
}
var tM = function(e13) {
  ADe(r, e13);
  var t = ODe(r);
  function r(n) {
    var i;
    return bDe(this, r), i = t.call(this, n), i.state = {
      isVisible: false
    }, i.brushBehaviorX = m1().on("brush", i.brushedX.bind(hl(i))).on("end", i.brushedXEnded.bind(hl(i))), i.brushBehaviorY = $v().on("brush", i.brushedY.bind(hl(i))).on("end", i.brushedYEnded.bind(hl(i))), i.brushBehaviorXY = CR().on("start", i.brushStarted.bind(hl(i))).on("brush", i.brushedXY.bind(hl(i))).on("end", i.brushedXYEnded.bind(hl(i))), i;
  }
  return EDe(r, [{
    key: "componentDidMount",
    value: function() {
      this.props.isRangeSelectionActive && this.addBrush2d();
    }
  }, {
    key: "shouldComponentUpdate",
    value: function(i, o) {
      if (this.rangeSelectionTriggeredXY) {
        if (this.rangeSelectionTriggeredXY = false, this.rangeSelectionTriggeredXYEnd) {
          const a = i.rangeSelection[0] || null;
          this.moveBrushXY([a, i.rangeSelection[1]], true), this.rangeSelectionTriggeredXYEnd = false;
        }
        return this.state !== o;
      }
      if (this.props.rangeSelection !== i.rangeSelection) {
        const a = i.rangeSelection[0] || null;
        this.props.is1dRangeSelection ? (this.rangeSelectionTriggeredX || this.moveBrushX(a, i.rangeSelectionEnd), this.rangeSelectionTriggeredXEnd && this.moveBrushX(a, i.rangeSelectionEnd, true), this.rangeSelectionTriggeredY || this.moveBrushY(a, i.rangeSelectionEnd), this.rangeSelectionTriggeredYEnd && this.moveBrushY(a, i.rangeSelectionEnd, true), this.rangeSelectionTriggeredX = false, this.rangeSelectionTriggeredXEnd = false, this.rangeSelectionTriggeredY = false, this.rangeSelectionTriggeredYEnd = false) : this.moveBrushXY([a, i.rangeSelection[1]], i.rangeSelectionEnd);
        const s = this.props.is1dRangeSelection && !i.is1dRangeSelection && a === null;
        return this.state !== o || s;
      }
      return true;
    }
  }, {
    key: "componentDidUpdate",
    value: function() {
      this.props.isRangeSelectionActive ? this.addBrush2d() : (this.removeBrush1d(), this.removeBrush2d());
    }
    /* ---------------------------- Custom Methods ---------------------------- */
  }, {
    key: "addBrush1d",
    value: function() {
      !this.brushElX || !this.brushElY || this.brushElXOld === this.brushElX && this.brushElYOld === this.brushElY || (this.brushElXOld && this.brushElXOld.on(".brush", null), this.brushElYOld && this.brushElYOld.on(".brush", null), this.brushElX.call(this.brushBehaviorX), this.brushElY.call(this.brushBehaviorY), Pf(this.brushElX, $o["track-range-selection-group-brush-selection"]), Pf(this.brushElY, $o["track-range-selection-group-brush-selection"]), this.brushElXOld = this.brushElX, this.brushElYOld = this.brushElY, this.brushIs1dBound = true);
    }
  }, {
    key: "addBrush2d",
    value: function() {
      !this.brushElXY || this.brushElXYOld === this.brushElXY || (this.brushElXYOld && this.brushElXYOld.on(".brush", null), this.brushElXY.call(this.brushBehaviorXY), this.brushElXYOld = this.brushElXY, this.brushIs2dBound = true, Pf(this.brushElXY, $o["track-range-selection-group-brush-selection"]));
    }
  }, {
    key: "brushedX",
    value: function(i) {
      const o = this.rangeSelectionMoved;
      this.rangeSelectionMoved = false, !(!kh(i) || !this.props.onRangeSelectionX || !this.props.is1dRangeSelection || o) && (this.rangeSelectionTriggeredX = true, this.props.onRangeSelectionX(i.selection));
    }
  }, {
    key: "brushedXEnded",
    value: function(i) {
      const o = this.rangeSelectionMovedEnd;
      this.rangeSelectionMovedEnd = false, !(!kh(i) || !this.props.onRangeSelectionX || !this.props.is1dRangeSelection || o) && (this.rangeSelectionTriggeredX = true, this.rangeSelectionTriggeredXEnd = true, this.props.onRangeSelectionXEnd(i.selection));
    }
  }, {
    key: "brushedY",
    value: function(i) {
      const o = this.rangeSelectionMoved;
      this.rangeSelectionMoved = false, !(!kh(i) || !this.props.onRangeSelectionY || !this.props.is1dRangeSelection || o) && (this.rangeSelectionTriggeredY = true, this.props.onRangeSelectionY(i.selection));
    }
  }, {
    key: "brushedYEnded",
    value: function(i) {
      const o = this.rangeSelectionMovedEnd;
      this.rangeSelectionMovedEnd = false, !(!kh(i) || !this.props.onRangeSelectionY || !this.props.is1dRangeSelection || o) && (this.rangeSelectionTriggeredY = true, this.rangeSelectionTriggeredYEnd = true, this.props.onRangeSelectionYEnd(i.selection));
    }
  }, {
    key: "brushedXY",
    value: function(i) {
      const o = this.rangeSelectionMoved;
      this.rangeSelectionMoved = false, !(!kh(i) || !this.props.onRangeSelectionXY || o || this.props.is1dRangeSelection) && (this.rangeSelectionTriggeredXY = true, this.props.onRangeSelectionXY([[i.selection[0][0], i.selection[1][0]], [i.selection[0][1], i.selection[1][1]]]));
    }
  }, {
    key: "brushedXYEnded",
    value: function(i) {
      if (this.props.is1dRangeSelection)
        return;
      const o = this.rangeSelectionMovedEnd;
      this.rangeSelectionMovedEnd = false, i.selection && i.sourceEvent && this.props.onRangeSelectionXY && !o && (this.rangeSelectionTriggeredXY = true, this.rangeSelectionTriggeredXYEnd = true, this.props.onRangeSelectionXYEnd([[i.selection[0][0], i.selection[1][0]], [i.selection[0][1], i.selection[1][1]]])), i.selection || (this.rangeSelectionTriggeredXY = true, this.props.onRangeSelectionReset());
    }
  }, {
    key: "brushStarted",
    value: function(i) {
      kh(i) && this.props.onRangeSelectionStart();
    }
  }, {
    key: "moveBrushX",
    value: function(i, o = false) {
      if (!this.brushEl)
        return;
      this.brushIs2dBound && (this.removeBrush2d(), this.addBrush1d());
      const a = i ? [this.props.scaleX(i[0]), this.props.scaleX(i[1])] : null;
      this.rangeSelectionMoved = true, this.rangeSelectionMovedEnd = true, o ? this.brushElX.transition().call(this.brushBehaviorX.move, a) : this.brushElX.call(this.brushBehaviorX.move, a);
    }
  }, {
    key: "moveBrushY",
    value: function(i, o = false) {
      if (!this.brushEl)
        return;
      this.brushIs2dBound && (this.removeBrush2d(), this.addBrush1d());
      const a = i ? [this.props.scaleY(i[0]), this.props.scaleY(i[1])] : null;
      this.rangeSelectionMoved = true, this.rangeSelectionMovedEnd = true, o ? this.brushElY.transition().call(this.brushBehaviorY.move, a) : this.brushElY.call(this.brushBehaviorY.move, a);
    }
  }, {
    key: "moveBrushXY",
    value: function(i, o = false) {
      if (!this.brushEl)
        return;
      const a = [[this.props.scaleX(i[0][0]), this.props.scaleY(i[1][0])], [this.props.scaleX(i[0][1]), this.props.scaleY(i[1][1])]];
      this.rangeSelectionMoved = true, this.rangeSelectionMovedEnd = true, o ? this.brushElXY.transition().call(this.brushBehaviorXY.move, a) : this.brushElXY.call(this.brushBehaviorXY.move, a);
    }
  }, {
    key: "mouseEnterHandler",
    value: function() {
      this.props.isRangeSelectionActive || this.setState({
        isVisible: true
      });
    }
  }, {
    key: "mouseLeaveHandler",
    value: function() {
      this.setState({
        isVisible: false
      });
    }
  }, {
    key: "removeBrush1d",
    value: function() {
      this.brushIs1dBound && (this.brushElX && (this.brushElX.call(this.brushBehaviorX.move, null), this.brushElX.on(".brush", null)), this.brushElY && (this.brushElY.call(this.brushBehaviorY.move, null), this.brushElY.on(".brush", null)), this.brushIs1dBound = false);
    }
  }, {
    key: "removeBrush2d",
    value: function() {
      this.brushIs2dBound && this.brushElXY && (this.brushElXY.call(this.brushBehaviorXY.move, null), this.brushElXY.on(".brush", null), this.brushElXYOld = void 0, this.brushIs2dBound = false, this.props.is1dRangeSelection || this.props.onRangeSelectionReset());
    }
    /* ------------------------------ Rendering ------------------------------- */
  }, {
    key: "render",
    value: function() {
      const i = this.props.tracks.map((u) => ep(u)).reduce(jv, false), o = this.props.tracks.some((u) => u.contents ? u.contents.some((c) => c.type === "heatmap" ? c.options.colorbarPosition === "topRight" : false) : u.type === "heatmap" ? u.options.colorbarPosition === "topRight" : false);
      let a = "track-range-selection";
      this.props.isRangeSelectionActive && (a += this.props.is1dRangeSelection ? "-active-secondary" : "-active-primary");
      const s = nr(!this.props.is1dRangeSelection && $o["track-range-selection-group-inactive"]), l = nr(this.props.is1dRangeSelection && $o["track-range-selection-group-inactive"]);
      return import_react.default.createElement("div", {
        className: nr(this.props.className, fC["center-track"]),
        onMouseEnter: this.mouseEnterHandler.bind(this),
        onMouseLeave: this.mouseLeaveHandler.bind(this),
        style: {
          height: this.props.height,
          width: this.props.width
        }
      }, i && import_react.default.createElement("svg", {
        className: $o[a],
        style: {
          height: this.props.height,
          width: this.props.width
        },
        xmlns: "http://www.w3.org/2000/svg"
      }, import_react.default.createElement("g", {
        ref: (u) => {
          this.brushElX = Wt(u);
        },
        className: s
      }), import_react.default.createElement("g", {
        ref: (u) => {
          this.brushElY = Wt(u);
        },
        className: s
      }), import_react.default.createElement("g", {
        ref: (u) => {
          this.brushElXY = Wt(u);
        },
        className: l
      })), this.props.editable && // show track controls if config menu is visible or
      // mouse is within the bounds of the track
      import_react.default.createElement(cS, {
        imgStyleAdd: m_,
        imgStyleClose: m_,
        imgStyleMove: m_,
        imgStyleSettings: m_,
        isMoveable: false,
        isVisible: this.state.isVisible || this.props.uid === this.props.configTrackMenuId,
        onAddSeries: this.props.onAddSeries,
        onCloseTrackMenuOpened: this.props.onCloseTrackMenuOpened,
        onConfigTrackMenuOpened: this.props.onConfigTrackMenuOpened,
        paddingRight: o,
        uid: this.props.uid
      }));
    }
  }]), r;
}(import_react.default.Component);
tM.defaultProps = {
  className: "center-track",
  configTrackMenuId: null,
  is1dRangeSelection: false,
  rangeSelectionEnd: M.bool,
  isRangeSelectionActive: false,
  scaleX: (e13) => e13,
  scaleY: (e13) => e13
};
tM.propTypes = {
  className: M.string,
  configTrackMenuId: M.string,
  editable: M.bool,
  height: M.number.isRequired,
  is1dRangeSelection: M.bool,
  isRangeSelectionActive: M.bool,
  onAddSeries: M.func.isRequired,
  onCloseTrackMenuOpened: M.func.isRequired,
  onConfigTrackMenuOpened: M.func.isRequired,
  onRangeSelectionX: M.func.isRequired,
  onRangeSelectionXEnd: M.func.isRequired,
  onRangeSelectionY: M.func.isRequired,
  onRangeSelectionYEnd: M.func.isRequired,
  onRangeSelectionXY: M.func.isRequired,
  onRangeSelectionXYEnd: M.func.isRequired,
  onRangeSelectionReset: M.func.isRequired,
  onRangeSelectionStart: M.func.isRequired,
  rangeSelection: M.array.isRequired,
  rangeSelectionEnd: M.bool,
  scaleX: M.func,
  scaleY: M.func,
  tracks: M.array.isRequired,
  uid: M.string.isRequired,
  width: M.number.isRequired
};
function pC() {
  return pC = Object.assign ? Object.assign.bind() : function(e13) {
    for (var t = 1; t < arguments.length; t++) {
      var r = arguments[t];
      for (var n in r)
        Object.prototype.hasOwnProperty.call(r, n) && (e13[n] = r[n]);
    }
    return e13;
  }, pC.apply(this, arguments);
}
var rM = {
  __fake__: true,
  publish: Xo,
  subscribe: () => ({
    event: "fake",
    handler: Xo
  }),
  unsubscribe: Xo,
  clear: Xo
};
var {
  Provider: CDe,
  Consumer: xDe
} = import_react.default.createContext(rM);
var pp = (e13) => import_react.default.forwardRef((t, r) => import_react.default.createElement(xDe, null, (n) => import_react.default.createElement(e13, pC({
  ref: r
}, t, {
  pubSub: n
}))));
var kDe = {
  "drag-listening-div-active": "_drag-listening-div-active_19gkt_1"
};
function DDe(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function RDe(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, MDe(n.key), n);
  }
}
function NDe(e13, t, r) {
  return t && RDe(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function MDe(e13) {
  var t = LDe(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function LDe(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
function BDe(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  e13.prototype = Object.create(t && t.prototype, { constructor: { value: e13, writable: true, configurable: true } }), Object.defineProperty(e13, "prototype", { writable: false }), t && mC(e13, t);
}
function mC(e13, t) {
  return mC = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, i) {
    return n.__proto__ = i, n;
  }, mC(e13, t);
}
function FDe(e13) {
  var t = UDe();
  return function() {
    var n = Q0(e13), i;
    if (t) {
      var o = Q0(this).constructor;
      i = Reflect.construct(n, arguments, o);
    } else
      i = n.apply(this, arguments);
    return $De(this, i);
  };
}
function $De(e13, t) {
  if (t && (typeof t == "object" || typeof t == "function"))
    return t;
  if (t !== void 0)
    throw new TypeError("Derived constructors may only return object or undefined");
  return HDe(e13);
}
function HDe(e13) {
  if (e13 === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e13;
}
function UDe() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return false;
  if (typeof Proxy == "function")
    return true;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), true;
  } catch {
    return false;
  }
}
function Q0(e13) {
  return Q0 = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(r) {
    return r.__proto__ || Object.getPrototypeOf(r);
  }, Q0(e13);
}
var nM = function(e13) {
  BDe(r, e13);
  var t = FDe(r);
  function r(n) {
    var i;
    return DDe(this, r), i = t.call(this, n), i.state = {
      dragOnTop: false
    }, i;
  }
  return NDe(r, [{
    key: "render",
    value: function() {
      let i = "red";
      return this.props.enabled && this.state.dragOnTop ? i = "green" : this.props.enabled && (i = "blue"), import_react.default.createElement("div", {
        className: nr("DragListeningDiv", {
          [kDe["drag-listening-div-active"]]: this.props.enabled
        }),
        onDragEnter: () => {
          this.setState({
            dragOnTop: true
          });
        },
        onDragLeave: () => {
          this.setState({
            dragOnTop: false
          });
        },
        onDragOver: (o) => {
          o.preventDefault();
        },
        onDrop: () => {
          if (!this.props.enabled)
            return;
          const o = this.props.draggingHappening, a = {
            type: this.props.defaultTrackType,
            uid: Gt.nice(),
            tilesetUid: o.tilesetUid,
            server: o.server
          };
          this.props.onTrackDropped(a), this.props.pubSub.publish("trackDropped", a);
        },
        style: {
          background: i,
          opacity: 0.6,
          ...this.props.style
        }
      });
    }
  }]), r;
}(import_react.default.Component);
nM.defaultProps = {
  enabled: false,
  style: {},
  draggingHappening: {},
  onTrackDropped: () => {
  }
};
nM.propTypes = {
  enabled: M.bool,
  style: M.object,
  defaultTrackType: M.object,
  draggingHappening: M.object,
  onTrackDropped: M.func,
  position: M.string.isRequired,
  pubSub: M.object.isRequired
};
var g_ = pp(nM);
var wc = {
  "gallery-tracks": "_gallery-tracks_fbxxi_1",
  "gallery-track": "_gallery-track_fbxxi_1",
  "gallery-sub-track": "_gallery-sub-track_fbxxi_18",
  "gallery-invisible-track": "_gallery-invisible-track_fbxxi_19"
};
var jDe = "_horizontalList_1y7td_7";
var GDe = "_list_1y7td_14";
var zDe = "_stylizedList_1y7td_21";
var VDe = "_stylizedItem_1y7td_28";
var XDe = "_stylizedHelper_1y7td_39";
var WDe = "_horizontalItem_1y7td_44";
var Ho = {
  "tiled-plot": "_tiled-plot_1y7td_1",
  horizontalList: jDe,
  list: GDe,
  stylizedList: zDe,
  stylizedItem: VDe,
  stylizedHelper: XDe,
  horizontalItem: WDe
};
function YDe(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function qDe(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, ZDe(n.key), n);
  }
}
function KDe(e13, t, r) {
  return t && qDe(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function ZDe(e13) {
  var t = QDe(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function QDe(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
function JDe(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  e13.prototype = Object.create(t && t.prototype, { constructor: { value: e13, writable: true, configurable: true } }), Object.defineProperty(e13, "prototype", { writable: false }), t && gC(e13, t);
}
function gC(e13, t) {
  return gC = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, i) {
    return n.__proto__ = i, n;
  }, gC(e13, t);
}
function eRe(e13) {
  var t = nRe();
  return function() {
    var n = J0(e13), i;
    if (t) {
      var o = J0(this).constructor;
      i = Reflect.construct(n, arguments, o);
    } else
      i = n.apply(this, arguments);
    return tRe(this, i);
  };
}
function tRe(e13, t) {
  if (t && (typeof t == "object" || typeof t == "function"))
    return t;
  if (t !== void 0)
    throw new TypeError("Derived constructors may only return object or undefined");
  return rRe(e13);
}
function rRe(e13) {
  if (e13 === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e13;
}
function nRe() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return false;
  if (typeof Proxy == "function")
    return true;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), true;
  } catch {
    return false;
  }
}
function J0(e13) {
  return J0 = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(r) {
    return r.__proto__ || Object.getPrototypeOf(r);
  }, J0(e13);
}
var v_ = {
  pointerEvents: "all"
};
var VW = function(e13) {
  JDe(r, e13);
  var t = eRe(r);
  function r(n) {
    var i;
    return YDe(this, r), i = t.call(this, n), i.state = {
      hovering: false
    }, i;
  }
  return KDe(r, [{
    key: "mouseEnterHandler",
    value: function() {
      this.setState({
        hovering: true
      });
    }
  }, {
    key: "mouseLeaveHandler",
    value: function() {
      this.setState({
        hovering: false
      });
    }
  }, {
    key: "render",
    value: function() {
      return import_react.default.createElement("div", {
        className: nr("gallery-tracks", wc["gallery-tracks"])
      }, this.props.tracks && this.props.tracks.map((i, o) => import_react.default.createElement("div", {
        key: i.uid || o,
        className: wc["gallery-track"],
        onMouseLeave: this.mouseLeaveHandler.bind(this),
        style: {
          top: i.height * o,
          right: i.height * o,
          bottom: i.height * o,
          left: i.height * o
        }
      }, import_react.default.createElement("div", {
        className: wc["gallery-sub-track"],
        onMouseEnter: this.mouseEnterHandler.bind(this),
        style: {
          top: 0,
          right: 0,
          left: 0,
          height: i.height
        }
      }), import_react.default.createElement("div", {
        className: wc["gallery-sub-track"],
        onMouseEnter: this.mouseEnterHandler.bind(this),
        style: {
          top: 0,
          right: 0,
          bottom: 0,
          width: i.height
        }
      }), import_react.default.createElement("div", {
        className: wc["gallery-sub-track"],
        onMouseEnter: this.mouseEnterHandler.bind(this),
        style: {
          right: 0,
          bottom: 0,
          left: 0,
          height: i.height
        }
      }), import_react.default.createElement("div", {
        className: wc["gallery-sub-track"],
        onMouseEnter: this.mouseEnterHandler.bind(this),
        style: {
          top: 0,
          bottom: 0,
          left: 0,
          width: i.height
        }
      }), import_react.default.createElement("div", {
        className: wc["gallery-invisible-track"],
        onMouseLeave: this.mouseLeaveHandler.bind(this),
        style: {
          top: i.height,
          right: i.height,
          bottom: i.height,
          left: i.height
        }
      }), this.props.editable && import_react.default.createElement(cS, {
        configMenuVisible: true,
        imgStyleAdd: v_,
        imgStyleClose: v_,
        imgStyleMove: v_,
        imgStyleSettings: v_,
        isMoveable: false,
        isVisible: this.state.hovering,
        onCloseTrackMenuOpened: this.props.onCloseTrackMenuOpened,
        onConfigTrackMenuOpened: this.props.onConfigTrackMenuOpened,
        uid: i.uid || o
      }))));
    }
  }]), r;
}(import_react.default.Component);
VW.propTypes = {
  editable: M.bool,
  onCloseTrackMenuOpened: M.func.isRequired,
  onConfigTrackMenuOpened: M.func.isRequired,
  tracks: M.array
};
function iRe(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function oRe(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, sRe(n.key), n);
  }
}
function aRe(e13, t, r) {
  return t && oRe(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function sRe(e13) {
  var t = lRe(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function lRe(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
var Df = function() {
  function e13(t, r) {
    iRe(this, e13), this.context = t;
    const {
      id: n,
      pubSub: i,
      getTheme: o
    } = t;
    this.pubSub = i ?? rM, this.id = n, this._xScale = It(), this._yScale = It(), this._refXScale = It(), this._refYScale = It(), this.position = [0, 0], this.dimensions = [1, 1], this.options = r, this.pubSubs = [], this.getTheme = o ?? (() => {
    }), this.pubSubs.push(this.pubSub.subscribe("app.mouseMove", this.defaultMouseMoveHandler.bind(this))), this.isLeftModified = false;
  }
  return aRe(e13, [{
    key: "isWithin",
    value: function(r, n) {
      let i = r, o = n, a = this.position[0], s = this.position[1];
      return this.isLeftModified && (i = n, o = r, a = this.position[1], s = this.position[0]), XR(i, o, a, this.dimensions[0] + a, s, this.dimensions[1] + s);
    }
    /**
     * Get a property from the track.
     * @template {keyof this} T
     * @param {T} prop - The property to get.
     * @return {() => this[T]}
     */
  }, {
    key: "getProp",
    value: function(r) {
      return () => this[r];
    }
  }, {
    key: "getData",
    value: function() {
    }
    /**
     * Capture click events. x and y are relative to the track position
     * @template T
     * @param {number} x - X position of the click event.
     * @param {number} y - Y position of the click event.
     * @param {T} evt - The event.
     * @return {{ type: 'generic', event: T, payload: null }}
     */
  }, {
    key: "click",
    value: function(r, n, i) {
      return {
        type: "generic",
        event: i,
        payload: null
      };
    }
    /** There was a click event outside the track * */
  }, {
    key: "clickOutside",
    value: function() {
    }
    /** @returns {[number, number]} */
  }, {
    key: "getDimensions",
    value: function() {
      return this.dimensions;
    }
    /** @param {[number, number]} newDimensions */
  }, {
    key: "setDimensions",
    value: function(r) {
      this.dimensions = r, this._xScale.range([0, this.dimensions[0]]), this._yScale.range([0, this.dimensions[1]]);
    }
    /**
     * @overload
     * @return {import('./types').Scale}
     */
    /**
     * @overload
     * @param {import('./types').Scale} scale
     * @return {this}
     */
    /**
     * Either get or set the reference xScale
     *
     * @param {import('./types').Scale=} scale
     * @return {import('./types').Scale | this}
     */
  }, {
    key: "refXScale",
    value: function(r) {
      return r ? (this._refXScale = r, this) : this._refXScale;
    }
    /**
     * @overload
     * @return {import('./types').Scale}
     */
    /**
     * @overload
     * @param {import('./types').Scale} scale
     * @return {this}
     */
    /**
     * Either get or set the reference yScale
     *
     * @param {import('./types').Scale=} scale
     * @return {import('./types').Scale | this}
     */
  }, {
    key: "refYScale",
    value: function(r) {
      return r ? (this._refYScale = r, this) : this._refYScale;
    }
    /**
     * @overload
     * @return {import('./types').Scale}
     */
    /**
     * @overload
     * @param {import('./types').Scale} scale
     * @return {this}
     */
    /**
     * Either get or set the xScale
     *
     * @param {import('./types').Scale=} scale
     * @return {import('./types').Scale | this}
     */
  }, {
    key: "xScale",
    value: function(r) {
      return r ? (this._xScale = r, this) : this._xScale;
    }
    /**
     * @overload
     * @return {import('./types').Scale}
     */
    /**
     * @overload
     * @param {import('./types').Scale} scale
     * @return {this}
     */
    /**
     * Either get or set the yScale
     *
     * @param {import('./types').Scale=} scale
     * @return {import('./types').Scale | this}
     */
  }, {
    key: "yScale",
    value: function(r) {
      return r ? (this._yScale = r, this) : this._yScale;
    }
    /**
     * @param {import('./types').Scale} newXScale
     * @param {import('./types').Scale} newYScale
     * @returns {void}
     */
  }, {
    key: "zoomed",
    value: function(r, n) {
      this.xScale(r), this.yScale(n);
    }
    /**
     * @param {import('./types').Scale} refXScale
     * @param {import('./types').Scale} refYScale
     * @returns {void}
     */
  }, {
    key: "refScalesChanged",
    value: function(r, n) {
      this._refXScale = r, this._refYScale = n;
    }
    /** @returns {void} */
  }, {
    key: "draw",
    value: function() {
    }
    /** @returns {[number, number]} */
  }, {
    key: "getPosition",
    value: function() {
      return this.position;
    }
    /**
     * @param {[number, number]} newPosition
     * @returns {void}
     */
  }, {
    key: "setPosition",
    value: function(r) {
      this.position = r;
    }
    /**
     * A blank handler for MouseMove / Zoom events. Should be overriden
     * by individual tracks to provide
     *
     * @param {{}} evt
     * @returns {void}
     */
  }, {
    key: "defaultMouseMoveHandler",
    value: function(r) {
    }
    /** @returns {void} */
  }, {
    key: "remove",
    value: function() {
      this.pubSubs.forEach((r) => this.pubSub.unsubscribe(r)), this.pubSubs = [];
    }
    /**
     * @param {Options} options
     * @returns {void}
     */
  }, {
    key: "rerender",
    value: function(r) {
    }
    /**
     * This function is for seeing whether this track should respond
     * to events at this mouse position. The difference to `isWithin()` is that it
     * can be overwritten if a track is inactive for example.
     *
     * @param {number} x - X position to be tested.
     * @param {number} y - Y position to be tested.
     * @returns {boolean}
     */
  }, {
    key: "respondsToPosition",
    value: function(r, n) {
      return this.isWithin(r, n);
    }
    /**
     * @param {number} trackY
     * @param {number} kMultiplier
     * @returns {void}
     */
  }, {
    key: "zoomedY",
    value: function(r, n) {
    }
    /**
     * @param {number} dY
     * @returns {void}
     */
  }, {
    key: "movedY",
    value: function(r) {
    }
  }]), e13;
}();
function cRe(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function uRe(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, fRe(n.key), n);
  }
}
function hRe(e13, t, r) {
  return t && uRe(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function fRe(e13) {
  var t = dRe(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function dRe(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
function db() {
  return typeof Reflect < "u" && Reflect.get ? db = Reflect.get.bind() : db = function(t, r, n) {
    var i = pRe(t, r);
    if (i) {
      var o = Object.getOwnPropertyDescriptor(i, r);
      return o.get ? o.get.call(arguments.length < 3 ? t : n) : o.value;
    }
  }, db.apply(this, arguments);
}
function pRe(e13, t) {
  for (; !Object.prototype.hasOwnProperty.call(e13, t) && (e13 = Cd(e13), e13 !== null); )
    ;
  return e13;
}
function mRe(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  e13.prototype = Object.create(t && t.prototype, { constructor: { value: e13, writable: true, configurable: true } }), Object.defineProperty(e13, "prototype", { writable: false }), t && vC(e13, t);
}
function vC(e13, t) {
  return vC = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, i) {
    return n.__proto__ = i, n;
  }, vC(e13, t);
}
function gRe(e13) {
  var t = _Re();
  return function() {
    var n = Cd(e13), i;
    if (t) {
      var o = Cd(this).constructor;
      i = Reflect.construct(n, arguments, o);
    } else
      i = n.apply(this, arguments);
    return vRe(this, i);
  };
}
function vRe(e13, t) {
  if (t && (typeof t == "object" || typeof t == "function"))
    return t;
  if (t !== void 0)
    throw new TypeError("Derived constructors may only return object or undefined");
  return yRe(e13);
}
function yRe(e13) {
  if (e13 === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e13;
}
function _Re() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return false;
  if (typeof Proxy == "function")
    return true;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), true;
  } catch {
    return false;
  }
}
function Cd(e13) {
  return Cd = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(r) {
    return r.__proto__ || Object.getPrototypeOf(r);
  }, Cd(e13);
}
function bRe(e13, t) {
  const r = Qd(t, e13);
  return Xu(`.${r}`, e13)(e13);
}
function TRe(e13, t) {
  const r = e13.map((o) => +o).sort((o, a) => a - o), n = r[t], i = r[r.length - 1];
  return bRe(n, i);
}
function ERe(e13, t, r, n) {
  const i = t / (2 ** e13 * r);
  if (!Number.isNaN(i)) {
    const o = t / (2 ** n * r), a = Qd(o, i);
    return Xu(`.${a}`, i)(i);
  }
  return console.warn("NaN resolution, screen is probably too small."), "";
}
var Ai = function(e13) {
  mRe(r, e13);
  var t = gRe(r);
  function r(n, i) {
    var o;
    cRe(this, r), o = t.call(this, n, i);
    const {
      scene: a
    } = n;
    o.scene = a, o.delayDrawing = false, o.pBase = new Ge.PIXI.Graphics(), o.pMasked = new Ge.PIXI.Graphics(), o.pMask = new Ge.PIXI.Graphics(), o.pMain = new Ge.PIXI.Graphics(), o.pBorder = new Ge.PIXI.Graphics(), o.pBackground = new Ge.PIXI.Graphics(), o.pForeground = new Ge.PIXI.Graphics(), o.pLabel = new Ge.PIXI.Graphics(), o.pMobile = new Ge.PIXI.Graphics(), o.pAxis = new Ge.PIXI.Graphics(), o.pMouseOver = new Ge.PIXI.Graphics(), o.scene.addChild(o.pBase), o.pBase.addChild(o.pMasked), o.pMasked.addChild(o.pBackground), o.pMasked.addChild(o.pMain), o.pMasked.addChild(o.pMask), o.pMasked.addChild(o.pMobile), o.pMasked.addChild(o.pBorder), o.pMasked.addChild(o.pLabel), o.pMasked.addChild(o.pForeground), o.pMasked.addChild(o.pMouseOver), o.pBase.addChild(o.pAxis), o.pMasked.mask = o.pMask, o.prevOptions = "", o.options = Object.assign(o.options, i);
    const s = o.getName();
    return o.labelTextFontFamily = "Arial", o.labelTextFontSize = 12, o.labelXOffset = 0, o.labelText = new Ge.PIXI.Text(s, {
      fontSize: `${o.labelTextFontSize}px`,
      fontFamily: o.labelTextFontFamily,
      fill: "black"
    }), o.pLabel.addChild(o.labelText), o.errorText = new Ge.PIXI.Text("", {
      fontSize: "12px",
      fontFamily: "Arial",
      fill: "red"
    }), o.errorText.anchor.x = 0.5, o.errorText.anchor.y = 0.5, o.pLabel.addChild(o.errorText), o.errorTextText = "", o.flipText = false, o.tilesetInfo = void 0, o;
  }
  return hRe(r, [{
    key: "setLabelText",
    value: function() {
    }
    /** @param {[number, number]} newPosition */
  }, {
    key: "setPosition",
    value: function(i) {
      this.position = i, this.drawBorder(), this.drawLabel(), this.drawBackground(), this.setMask(this.position, this.dimensions), this.setForeground();
    }
    /** @param {[number, number]} newDimensions */
  }, {
    key: "setDimensions",
    value: function(i) {
      db(Cd(r.prototype), "setDimensions", this).call(this, i), this.drawBorder(), this.drawLabel(), this.drawBackground(), this.setMask(this.position, this.dimensions), this.setForeground();
    }
    /**
     * @param {[number, number]} position
     * @param {[number, number]} dimensions
     */
  }, {
    key: "setMask",
    value: function(i, o) {
      this.pMask.clear(), this.pMask.beginFill(), this.pMask.drawRect(i[0], i[1], o[0], o[1]), this.pMask.endFill();
    }
  }, {
    key: "setForeground",
    value: function() {
      this.pForeground.position.y = this.position[1], this.pForeground.position.x = this.position[0];
    }
    /**
     * We're going to destroy this object, so we need to detach its
     * graphics from the scene
     */
  }, {
    key: "remove",
    value: function() {
      this.pBase.clear(), this.scene.removeChild(this.pBase);
    }
    /**
     * Draw a border around each track.
     */
  }, {
    key: "drawBorder",
    value: function() {
      const i = this.pBorder;
      if (i.clear(), !this.options || !this.options.trackBorderWidth)
        return;
      const o = ct(this.options.trackBorderColor ? this.options.trackBorderColor : "white");
      i.lineStyle(this.options.trackBorderWidth, o), i.drawRect(this.position[0], this.position[1], this.dimensions[0], this.dimensions[1]);
    }
  }, {
    key: "drawError",
    value: function() {
      if (this.errorText.x = this.position[0] + this.dimensions[0] / 2, this.errorText.y = this.position[1] + this.dimensions[1] / 2, this.errorText.text = this.errorTextText, this.errorTextText && this.errorTextText.length) {
        const i = this.pBorder;
        i.clear(), i.lineStyle(1, ct("red")), i.drawRect(this.position[0], this.position[1], this.dimensions[0], this.dimensions[1]);
      }
    }
  }, {
    key: "drawBackground",
    value: function() {
      const i = this.pBackground;
      if (i.clear(), !this.options || !this.options.backgroundColor)
        return;
      let o = 1, a = this.options.backgroundColor;
      this.options.backgroundColor === "transparent" && (o = 0, a = "white");
      const s = ct(a);
      i.beginFill(s, o), i.drawRect(this.position[0], this.position[1], this.dimensions[0], this.dimensions[1]);
    }
    /**
     * Determine the label color based on the number of options.
     *
     * @return {string} The color to use for the label.
     */
  }, {
    key: "getLabelColor",
    value: function() {
      return this.options.labelColor && this.options.labelColor !== "[glyph-color]" ? this.options.labelColor : this.options.lineStrokeColor || this.options.barFillColor || "black";
    }
  }, {
    key: "getName",
    value: function() {
      return this.options.name ? this.options.name : this.tilesetInfo && this.tilesetInfo.name || "";
    }
  }, {
    key: "drawLabel",
    value: function() {
      if (!this.labelText)
        return;
      const i = this.pLabel;
      if (i.clear(), !this.options || !this.options.labelPosition || this.options.labelPosition === "hidden") {
        this.labelText.alpha = 0;
        return;
      }
      const {
        labelBackgroundColor: o = "white",
        labelBackgroundOpacity: a = 0.5
      } = this.options;
      i.beginFill(ct(o), +a);
      const s = ct(this.getLabelColor()), l = 2;
      if (this.dimensions[0] < 0)
        return;
      let u = this.options.labelShowAssembly && this.tilesetInfo && this.tilesetInfo.coordSystem ? `${this.tilesetInfo.coordSystem} | ` : "";
      if (u += this.getName(), this.options.labelShowResolution && Epe(this.tilesetInfo) && this.tilesetInfo.bins_per_dimension) {
        const p = ERe(this.calculateZoomLevel(), this.tilesetInfo.max_width, this.tilesetInfo.bins_per_dimension, this.tilesetInfo.max_zoom);
        u += `
[Current data resolution: ${p}]`;
      } else if (this.options.labelShowResolution && Spe(this.tilesetInfo)) {
        const p = TRe(this.tilesetInfo.resolutions, this.calculateZoomLevel());
        u += `
[Current data resolution: ${p}]`;
      }
      if (this.options && this.options.dataTransform) {
        let p = null;
        if (this.tilesetInfo && this.tilesetInfo.transforms)
          for (const m of this.tilesetInfo.transforms)
            m.value === this.options.dataTransform && (p = m);
        p ? u += `
[Transform: ${p.name}]` : this.options.dataTransform === "None" ? u += `
[Transform: None ]` : u += `
[Transform: Default ]`;
      }
      this.labelText.text = u, this.labelText.style = {
        fontSize: `${this.labelTextFontSize}px`,
        fontFamily: this.labelTextFontFamily,
        fill: s
      }, this.labelText.alpha = typeof this.options.labelTextOpacity < "u" ? this.options.labelTextOpacity : 1, this.labelText.visible = true, this.flipText && (this.labelText.scale.x = -1);
      const {
        labelLeftMargin: c = 0,
        labelRightMargin: f = 0,
        labelTopMargin: h = 0,
        labelBottomMargin: d = 0
      } = this.options;
      this.options.labelPosition === "topLeft" ? (this.labelText.x = this.position[0] + c + this.labelXOffset, this.labelText.y = this.position[1] + h, this.labelText.anchor.x = 0.5, this.labelText.anchor.y = 0, this.labelText.x += this.labelText.width / 2, i.drawRect(this.position[0] + c + this.labelXOffset, this.position[1] + h, this.labelText.width + l, this.labelText.height + l)) : this.options.labelPosition === "bottomLeft" && !this.flipText || this.options.labelPosition === "topRight" && this.flipText ? (this.labelText.x = this.position[0] + (c || h), this.labelText.y = this.position[1] + this.dimensions[1] - (d || f), this.labelText.anchor.x = 0.5, this.labelText.anchor.y = 1, this.labelText.x += this.labelText.width / 2 + this.labelXOffset, i.drawRect(this.position[0] + (c || h) + this.labelXOffset, this.position[1] + this.dimensions[1] - this.labelText.height - l - (d || f), this.labelText.width + l, this.labelText.height + l)) : this.options.labelPosition === "topRight" && !this.flipText || this.options.labelPosition === "bottomLeft" && this.flipText ? (this.labelText.x = this.position[0] + this.dimensions[0] - (f || d), this.labelText.y = this.position[1] + (h || c), this.labelText.anchor.x = 0.5, this.labelText.anchor.y = 0, this.labelText.x -= this.labelText.width / 2 + this.labelXOffset, i.drawRect(this.position[0] + this.dimensions[0] - this.labelText.width - l - (f || d) - this.labelXOffset, this.position[1] + (h || c), this.labelText.width + l, this.labelText.height + l)) : this.options.labelPosition === "bottomRight" ? (this.labelText.x = this.position[0] + this.dimensions[0] - f, this.labelText.y = this.position[1] + this.dimensions[1] - d, this.labelText.anchor.x = 0.5, this.labelText.anchor.y = 1, this.labelText.x -= this.labelText.width / 2 + this.labelXOffset, i.drawRect(this.position[0] + this.dimensions[0] - this.labelText.width - l - f - this.labelXOffset, this.position[1] + this.dimensions[1] - this.labelText.height - l - d, this.labelText.width + l, this.labelText.height + l)) : this.options.labelPosition === "outerLeft" && !this.flipText || this.options.labelPosition === "outerTop" && this.flipText ? (this.labelText.x = this.position[0], this.labelText.y = this.position[1] + this.dimensions[1] / 2, this.labelText.anchor.x = 0.5, this.labelText.anchor.y = 0.5, this.labelText.x -= this.labelText.width / 2 + 3) : this.options.labelPosition === "outerTop" && !this.flipText || this.options.labelPosition === "outerLeft" && this.flipText ? (this.labelText.x = this.position[0] + this.dimensions[0] / 2, this.labelText.y = this.position[1], this.labelText.anchor.x = 0.5, this.labelText.anchor.y = 0.5, this.labelText.y -= this.labelText.height / 2 + 3) : this.options.labelPosition === "outerBottom" && !this.flipText || this.options.labelPosition === "outerRight" && this.flipText ? (this.labelText.x = this.position[0] + this.dimensions[0] / 2, this.labelText.y = this.position[1] + this.dimensions[1], this.labelText.anchor.x = 0.5, this.labelText.anchor.y = 0.5, this.labelText.y += this.labelText.height / 2 + 3) : this.options.labelPosition === "outerRight" && !this.flipText || this.options.labelPosition === "outerBottom" && this.flipText ? (this.labelText.x = this.position[0] + this.dimensions[0], this.labelText.y = this.position[1] + this.dimensions[1] / 2, this.labelText.anchor.x = 0.5, this.labelText.anchor.y = 0.5, this.labelText.x += this.labelText.width / 2 + 3) : this.labelText.visible = false, this.options.labelPosition === "outerLeft" || this.options.labelPosition === "outerRight" || this.options.labelPosition === "outerTop" || this.options.labelPosition === "outerBottom" ? this.pLabel.setParent(this.pBase) : this.pLabel.setParent(this.pMasked);
    }
    /** @param {PixiTrackOptions} options */
  }, {
    key: "rerender",
    value: function(i) {
      this.options = i, this.draw(), this.drawBackground(), this.drawLabel(), this.drawError(), this.drawBorder();
    }
    /**
     * Draw all the data associated with this track
     */
  }, {
    key: "draw",
    value: function() {
      this.drawError();
    }
    /**
     * Export an SVG representation of this track
     *
     * @returns {[HTMLElement, HTMLElement]} The two returned DOM nodes are both SVG
     * elements [base, track]. Base is a parent which contains track as a
     * child. Track is clipped with a clipping rectangle contained in base.
     *
     */
  }, {
    key: "exportSVG",
    value: function() {
      const i = document.createElement("g"), o = document.createElement("rect");
      o.setAttribute("x", `${this.position[0]}`), o.setAttribute("y", `${this.position[1]}`), o.setAttribute("width", `${this.dimensions[0]}`), o.setAttribute("height", `${this.dimensions[1]}`), this.options && this.options.backgroundColor ? o.setAttribute("fill", this.options.backgroundColor) : o.setAttribute("fill-opacity", "0");
      const a = document.createElement("g");
      a.setAttribute("class", "g-clipped"), i.appendChild(a), a.appendChild(o);
      const s = document.createElement("g");
      a.setAttribute("class", "g-track"), a.appendChild(s);
      const l = document.createElement("g");
      a.setAttribute("class", "g-labels"), a.appendChild(l);
      const u = document.createElementNS("http://www.w3.org/2000/svg", "clipPath");
      i.appendChild(u);
      const c = document.createElementNS("http://www.w3.org/2000/svg", "polygon");
      u.appendChild(c), c.setAttribute("points", `${this.position[0]},${this.position[1]} ${this.position[0] + this.dimensions[0]},${this.position[1]} ${this.position[0] + this.dimensions[0]},${this.position[1] + this.dimensions[1]} ${this.position[0]},${this.position[1] + this.dimensions[1]} `);
      const f = Gt.nice();
      u.setAttribute("id", f), a.setAttribute("style", `clip-path:url(#${f});`);
      const h = this.labelText.text.split(`
`);
      let d = 0;
      const m = (this.labelTextFontSize + 2) * h.length + 3;
      this.labelText.anchor.y === 0.5 ? d = m / 2 : this.labelText.anchor.y === 1 && (d = -m);
      for (let g = 0; g < h.length; g++) {
        const v = document.createElement("text");
        if (v.setAttribute("font-family", this.labelTextFontFamily), v.setAttribute("font-size", `${this.labelTextFontSize}px`), v.innerText = h[g], this.options.labelPosition === "topLeft" || this.options.labelPosition === "topRight") {
          const b = d + (g + 1) * (this.labelTextFontSize + 2);
          v.setAttribute("dy", String(b));
        } else (this.options.labelPosition === "bottomLeft" || this.options.labelPosition === "bottomRight") && v.setAttribute("dy", String(d + g * (this.labelTextFontSize + 2)));
        v.setAttribute("fill", this.options.labelColor ?? ""), this.labelText.anchor.x === 0.5 ? v.setAttribute("text-anchor", "middle") : this.labelText.anchor.x === 1 && v.setAttribute("text-anchor", "end"), l.appendChild(v);
      }
      return l.setAttribute("transform", `translate(${this.labelText.x},${this.labelText.y})scale(${this.labelText.scale.x},1)`), [i, s];
    }
    /**
     * @returns {number}
     */
  }, {
    key: "calculateZoomLevel",
    value: function() {
      throw new Error("Must be implemented by subclass");
    }
  }]), r;
}(Df);
function SRe(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function wRe(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, ORe(n.key), n);
  }
}
function ARe(e13, t, r) {
  return t && wRe(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function ORe(e13) {
  var t = IRe(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function IRe(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
function PRe(e13) {
  return e13.length === 2;
}
var uS = function() {
  function e13(t, r) {
    if (SRe(this, e13), this.tilesetInfoLoading = true, !t) {
      console.error("No dataconfig provided");
      return;
    }
    this.dataConfig = JSON.parse(JSON.stringify(t)), this.uuid = Gt.nice(), this.pubSub = r, t.children && (this.dataConfig.children = t.children.map((n) => new e13(n, r)));
  }
  return ARe(e13, [{
    key: "registerFileUrl",
    value: async function({
      server: r,
      url: n,
      filetype: i,
      coordSystem: o
    }) {
      const a = `${y1(r)}/register_url/`;
      return fetch(a, {
        method: "POST",
        body: JSON.stringify({
          fileurl: n,
          filetype: i,
          coordSystem: o
        }),
        headers: {
          "Content-Type": "application/json; charset=utf-8"
        }
      });
    }
    /**
     * Obtain tileset infos for all of the tilesets listed
     * @param {import('../types').HandleTilesetInfoFinished} finished - A callback that will be called
     */
  }, {
    key: "tilesetInfo",
    value: function(r) {
      const {
        server: n,
        url: i,
        filetype: o,
        coordSystem: a
      } = this.dataConfig;
      return n && i && o ? this.registerFileUrl({
        server: n,
        url: i,
        filetype: o,
        coordSystem: a
      }).then((s) => s.json()).then((s) => {
        this.dataConfig.tilesetUid = s.uid, this.tilesetInfoAfterRegister(r);
      }).catch((s) => {
        console.error("Error registering url", s);
      }) : new Promise(() => {
        this.tilesetInfoAfterRegister(r);
      });
    }
    /**
     * Obtain tileset infos for all of the tilesets listed
     *
     * If there is more than one tileset info, this function
     * should (not currently implemented) check if the tileset
     * infos have the same dimensions and then return a common
     * one.
     *
     * @param {import('../types').HandleTilesetInfoFinished} finished - A callback that will be called
     *  when all tileset infos are loaded
     */
  }, {
    key: "tilesetInfoAfterRegister",
    value: function(r) {
      if (this.dataConfig.children) {
        const n = this.dataConfig.children.map((i) => (
          /** @type {Promise<TilesetInfo>} */
          new Promise((o) => {
            i.tilesetInfo(o);
          })
        ));
        Promise.all(n).then((i) => {
          r(i[0]);
        });
      } else {
        const {
          server: n,
          tilesetUid: i
        } = this.dataConfig;
        !n || !i ? (console.warn("No dataConfig children, server or tilesetUid:", this.dataConfig), r(null)) : Je.trackInfo(n, i, (o) => {
          this.dataConfig.tilesetInfo = o[i], r(o[i], i);
        }, (o) => {
          this.tilesetInfoLoading = false, r({
            error: o
          });
        }, this.pubSub);
      }
    }
    /**
     * @param {string} tilesetUid - Uid of the tileset on the server
     * @param {string} tileId - The tileId of the tile
     * @returns {string} The full tile id that the server will parse.
     *
     * @example
     * ```javascript
     * // returns 'xyxx.0.0.0'
     * fullTileId('xyxx', '0.0.0');
     * ```
     */
  }, {
    key: "fullTileId",
    value: function(r, n) {
      return `${r}.${n}`;
    }
    /**
     * Fetch a set of tiles.
     *
     * Because the track shouldn't care about tileset ids, the tile ids
     * should just include positions and any necessary transforms.
     *
     * @param {(tiles: Record<string, DividedTile | Tile>) => void} receivedTiles - A function to call once the tiles have been fetched
     * @param {string[]} tileIds - The tile ids to fetch
     * @returns {Promise<Record<string, DividedTile | Tile>>}
     */
  }, {
    key: "fetchTilesDebounced",
    value: function(r, n) {
      var i;
      if (this.dataConfig.type === "horizontal-section")
        return this.fetchHorizontalSection(r, n);
      if (this.dataConfig.type === "vertical-section")
        return this.fetchHorizontalSection(r, n, true);
      if (!this.dataConfig.children && this.dataConfig.tilesetUid)
        return new Promise((s) => {
          Je.fetchTilesDebounced({
            id: Gt.nice(),
            server: this.dataConfig.server,
            done: s,
            ids: n.map((l) => `${this.dataConfig.tilesetUid}.${l}`),
            options: this.dataConfig.options
          }, this.pubSub, true);
        }).then((s) => {
          const l = mr(s)[0].tilesetUid, u = {};
          for (let c = 0; c < n.length; c++) {
            const f = this.fullTileId(l, n[c]);
            s[f].tilePositionId = n[c], u[n[c]] = s[f];
          }
          return r(u), u;
        });
      const o = ((i = this.dataConfig.children) == null ? void 0 : i.map((a) => (
        /** @type {Promise<Record<string, Tile | DividedTile>>} */
        new Promise((s) => {
          a.fetchTilesDebounced(s, n);
        })
      ))) ?? [];
      return Promise.all(o).then((a) => {
        if (this.dataConfig.type === "divided" && PRe(a)) {
          const s = this.makeDivided(a, n);
          return r(s), s;
        }
        return console.warn("Unimplemented dataConfig type. Returning first data source.", this.dataConfig), r(a[0]), a[0];
      });
    }
    /**
     * Return an array consisting of the division of the numerator
     * array by the denominator array
     *
     * @param {ArrayLike<number>} numeratorData - An array of numerical values
     * @param {ArrayLike<number>} denominatorData - An array of numerical values
     *
     * @returns {Float32Array} An array consisting of the division of the numerator by the denominator
     */
  }, {
    key: "divideData",
    value: function(r, n) {
      const i = new Float32Array(r.length);
      for (let o = 0; o < i.length; o++)
        n[o] === 0 ? i[o] = NaN : i[o] = r[o] / n[o];
      return i;
    }
    /*
     * Take a horizontal slice across the returned tiles at the
     * given position.
     *
     * @param {list} returnedTiles: The tiles returned from a fetch request
     * @param {Number} sliceYPos: The y position across which to slice
     */
  }, {
    key: "horizontalSlice",
    value: function() {
      return null;
    }
    /**
     * Extract a slice from a matrix at a given position.
     *
     * @param {Array<number>} inputData - An array containing a matrix stored row-wise
     * @param {Array<number>} arrayShape - The shape of the array, should be a
     *  two element array e.g. [256,256].
     * @param {number} sliceIndex - The index across which to take the slice
     * @param {number=} axis - The axis along which to take the slice
     * @returns {Array<number>} an array corresponding to a slice of this matrix
     */
  }, {
    key: "extractDataSlice",
    value: function(r, n, i, o) {
      if (!o)
        return r.slice(n[1] * i, n[1] * (i + 1));
      const a = new Array(n[1]);
      for (let s = i; s < r.length; s += n[0])
        a[Math.floor(s / n[0])] = r[s];
      return a;
    }
    /**
     * Fetch a horizontal section of a 2D dataset
     * @param {(tiles: Record<string, Tile>) => void} receivedTiles - A function to call once the tiles have been fetched
     * @param {string[]} tileIds - The tile ids to fetch
     * @param {boolean=} vertical - Whether to fetch a vertical section
     * @returns {Promise<Record<string, Tile>>}
     */
  }, {
    key: "fetchHorizontalSection",
    value: function(r, n, i = false) {
      const o = [], a = [], {
        slicePos: s,
        tilesetInfo: l
      } = this.dataConfig;
      if (!s || !l)
        throw new Error("No slice position or tileset info");
      for (const c of n) {
        const f = c.split("."), h = +f[0], d = +f[1], p = It().domain([s, s]);
        let m = [];
        if ("resolutions" in l) {
          const b = l.resolutions.map((y) => +y).sort((y, _) => _ - y);
          m = Je.calculateTilesFromResolution(b[h], p, l.min_pos[i ? 1 : 0], l.max_pos[i ? 1 : 0]);
        } else
          m = Je.calculateTiles(h, p, l.min_pos[i ? 1 : 0], l.max_pos[i ? 1 : 0], l.max_zoom, l.max_width);
        const g = [d, m[0]].sort((b, y) => b - y);
        g[0] === d ? a.push(false) : a.push(true);
        const v = `${h}.${g[0]}.${g[1]}`;
        o.push(v);
      }
      return new Promise((c) => {
        Je.fetchTilesDebounced({
          id: Gt.nice(),
          server: this.dataConfig.server,
          done: c,
          ids: o.map((f) => `${this.dataConfig.tilesetUid}.${f}`)
        }, this.pubSub, true);
      }).then((c) => {
        const f = mr(c)[0].tilesetUid, h = {};
        for (let d = 0; d < o.length; d++) {
          const p = o[d].split("."), m = +p[0], g = +p[1], v = +p[2], b = Je.calculateTileAndPosInTile(
            l,
            // @ts-expect-error - This is undefined for legacy tilesets, but
            // `calculateTileAndPosInTile` ignores this argument with `resolutions`.
            // We should probably refactor `calculateTileAndPosInTile` to just take
            // the `tilesetInfo` object.
            l.max_width,
            l.min_pos[1],
            m,
            +s
          )[1], y = this.fullTileId(f, o[d]), _ = c[y];
          let T = null;
          if (g === v) {
            T = this.extractDataSlice(_.dense, [256, 256], b);
            const O = this.extractDataSlice(_.dense, [256, 256], b, 1);
            for (let S = 0; S < T.length; S++)
              T[S] += O[S];
          } else a[d] ? T = this.extractDataSlice(_.dense, [256, 256], b, 1) : T = this.extractDataSlice(_.dense, [256, 256], b);
          const E = {
            min_value: Math.min.apply(null, T),
            max_value: Math.max.apply(null, T),
            denseDataExtrema: new D0(T),
            minNonZero: wP(T),
            maxNonZero: SP(T),
            dense: T,
            dtype: _.dtype,
            server: _.server,
            tilePos: a[d] ? [v] : [g],
            tilePositionId: n[d],
            tilesetUid: f,
            zoomLevel: _.zoomLevel
          };
          h[n[d]] = E;
        }
        return r(h), h;
      });
    }
    /**
     * @typedef {{ zoomLevel: number, tilePos: number[], dense?: ArrayLike<number> }} Dividable
     * @param {[Record<string, Dividable>, Record<string, Dividable>]} returnedTiles
     * @param {string[]} tileIds
     * @returns {Record<string, DividedTile>}
     */
  }, {
    key: "makeDivided",
    value: function(r, n) {
      r.length < 2 && console.warn("Only one tileset specified for a divided datafetcher:", this.dataConfig);
      const i = {};
      for (let o = 0; o < n.length; o++) {
        const a = r[0][n[o]].zoomLevel, s = r[0][n[o]].tilePos;
        let l = {
          zoomLevel: a,
          tilePos: s,
          tilePositionId: n[o]
        };
        const u = r[0][n[o]].dense, c = r[1][n[o]].dense;
        if (u && c) {
          const f = this.divideData(u, c), h = s.length === 2 ? new qR(f) : new D0(f);
          l = {
            dense: f,
            denseDataExtrema: h,
            minNonZero: wP(f),
            maxNonZero: SP(f),
            zoomLevel: a,
            tilePos: s,
            tilePositionId: n[o]
          };
        }
        i[n[o]] = l;
      }
      return i;
    }
  }]), e13;
}();
var qs = {};
(function(e13) {
  var t = typeof Uint8Array < "u" && typeof Uint16Array < "u" && typeof Int32Array < "u";
  function r(o, a) {
    return Object.prototype.hasOwnProperty.call(o, a);
  }
  e13.assign = function(o) {
    for (var a = Array.prototype.slice.call(arguments, 1); a.length; ) {
      var s = a.shift();
      if (s) {
        if (typeof s != "object")
          throw new TypeError(s + "must be non-object");
        for (var l in s)
          r(s, l) && (o[l] = s[l]);
      }
    }
    return o;
  }, e13.shrinkBuf = function(o, a) {
    return o.length === a ? o : o.subarray ? o.subarray(0, a) : (o.length = a, o);
  };
  var n = {
    arraySet: function(o, a, s, l, u) {
      if (a.subarray && o.subarray) {
        o.set(a.subarray(s, s + l), u);
        return;
      }
      for (var c = 0; c < l; c++)
        o[u + c] = a[s + c];
    },
    // Join array of chunks to single array.
    flattenChunks: function(o) {
      var a, s, l, u, c, f;
      for (l = 0, a = 0, s = o.length; a < s; a++)
        l += o[a].length;
      for (f = new Uint8Array(l), u = 0, a = 0, s = o.length; a < s; a++)
        c = o[a], f.set(c, u), u += c.length;
      return f;
    }
  }, i = {
    arraySet: function(o, a, s, l, u) {
      for (var c = 0; c < l; c++)
        o[u + c] = a[s + c];
    },
    // Join array of chunks to single array.
    flattenChunks: function(o) {
      return [].concat.apply([], o);
    }
  };
  e13.setTyped = function(o) {
    o ? (e13.Buf8 = Uint8Array, e13.Buf16 = Uint16Array, e13.Buf32 = Int32Array, e13.assign(e13, n)) : (e13.Buf8 = Array, e13.Buf16 = Array, e13.Buf32 = Array, e13.assign(e13, i));
  }, e13.setTyped(t);
})(qs);
var oy = {};
var qa = {};
var mp = {};
var CRe = qs;
var xRe = 4;
var T3 = 0;
var E3 = 1;
var kRe = 2;
function gp(e13) {
  for (var t = e13.length; --t >= 0; )
    e13[t] = 0;
}
var DRe = 0;
var XW = 1;
var RRe = 2;
var NRe = 3;
var MRe = 258;
var iM = 29;
var ay = 256;
var uv = ay + 1 + iM;
var Rf = 30;
var oM = 19;
var WW = 2 * uv + 1;
var jc = 15;
var cO = 16;
var LRe = 7;
var aM = 256;
var YW = 16;
var qW = 17;
var KW = 18;
var yC = (
  /* extra bits for each length code */
  [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0]
);
var pb = (
  /* extra bits for each distance code */
  [0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13]
);
var BRe = (
  /* extra bits for each bit length code */
  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 3, 7]
);
var ZW = [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15];
var FRe = 512;
var ls = new Array((uv + 2) * 2);
gp(ls);
var pg = new Array(Rf * 2);
gp(pg);
var hv = new Array(FRe);
gp(hv);
var fv = new Array(MRe - NRe + 1);
gp(fv);
var sM = new Array(iM);
gp(sM);
var eT = new Array(Rf);
gp(eT);
function uO(e13, t, r, n, i) {
  this.static_tree = e13, this.extra_bits = t, this.extra_base = r, this.elems = n, this.max_length = i, this.has_stree = e13 && e13.length;
}
var QW;
var JW;
var eY;
function hO(e13, t) {
  this.dyn_tree = e13, this.max_code = 0, this.stat_desc = t;
}
function tY(e13) {
  return e13 < 256 ? hv[e13] : hv[256 + (e13 >>> 7)];
}
function dv(e13, t) {
  e13.pending_buf[e13.pending++] = t & 255, e13.pending_buf[e13.pending++] = t >>> 8 & 255;
}
function Li(e13, t, r) {
  e13.bi_valid > cO - r ? (e13.bi_buf |= t << e13.bi_valid & 65535, dv(e13, e13.bi_buf), e13.bi_buf = t >> cO - e13.bi_valid, e13.bi_valid += r - cO) : (e13.bi_buf |= t << e13.bi_valid & 65535, e13.bi_valid += r);
}
function ba(e13, t, r) {
  Li(
    e13,
    r[t * 2],
    r[t * 2 + 1]
    /*.Len*/
  );
}
function rY(e13, t) {
  var r = 0;
  do
    r |= e13 & 1, e13 >>>= 1, r <<= 1;
  while (--t > 0);
  return r >>> 1;
}
function $Re(e13) {
  e13.bi_valid === 16 ? (dv(e13, e13.bi_buf), e13.bi_buf = 0, e13.bi_valid = 0) : e13.bi_valid >= 8 && (e13.pending_buf[e13.pending++] = e13.bi_buf & 255, e13.bi_buf >>= 8, e13.bi_valid -= 8);
}
function HRe(e13, t) {
  var r = t.dyn_tree, n = t.max_code, i = t.stat_desc.static_tree, o = t.stat_desc.has_stree, a = t.stat_desc.extra_bits, s = t.stat_desc.extra_base, l = t.stat_desc.max_length, u, c, f, h, d, p, m = 0;
  for (h = 0; h <= jc; h++)
    e13.bl_count[h] = 0;
  for (r[e13.heap[e13.heap_max] * 2 + 1] = 0, u = e13.heap_max + 1; u < WW; u++)
    c = e13.heap[u], h = r[r[c * 2 + 1] * 2 + 1] + 1, h > l && (h = l, m++), r[c * 2 + 1] = h, !(c > n) && (e13.bl_count[h]++, d = 0, c >= s && (d = a[c - s]), p = r[c * 2], e13.opt_len += p * (h + d), o && (e13.static_len += p * (i[c * 2 + 1] + d)));
  if (m !== 0) {
    do {
      for (h = l - 1; e13.bl_count[h] === 0; )
        h--;
      e13.bl_count[h]--, e13.bl_count[h + 1] += 2, e13.bl_count[l]--, m -= 2;
    } while (m > 0);
    for (h = l; h !== 0; h--)
      for (c = e13.bl_count[h]; c !== 0; )
        f = e13.heap[--u], !(f > n) && (r[f * 2 + 1] !== h && (e13.opt_len += (h - r[f * 2 + 1]) * r[f * 2], r[f * 2 + 1] = h), c--);
  }
}
function nY(e13, t, r) {
  var n = new Array(jc + 1), i = 0, o, a;
  for (o = 1; o <= jc; o++)
    n[o] = i = i + r[o - 1] << 1;
  for (a = 0; a <= t; a++) {
    var s = e13[a * 2 + 1];
    s !== 0 && (e13[a * 2] = rY(n[s]++, s));
  }
}
function URe() {
  var e13, t, r, n, i, o = new Array(jc + 1);
  for (r = 0, n = 0; n < iM - 1; n++)
    for (sM[n] = r, e13 = 0; e13 < 1 << yC[n]; e13++)
      fv[r++] = n;
  for (fv[r - 1] = n, i = 0, n = 0; n < 16; n++)
    for (eT[n] = i, e13 = 0; e13 < 1 << pb[n]; e13++)
      hv[i++] = n;
  for (i >>= 7; n < Rf; n++)
    for (eT[n] = i << 7, e13 = 0; e13 < 1 << pb[n] - 7; e13++)
      hv[256 + i++] = n;
  for (t = 0; t <= jc; t++)
    o[t] = 0;
  for (e13 = 0; e13 <= 143; )
    ls[e13 * 2 + 1] = 8, e13++, o[8]++;
  for (; e13 <= 255; )
    ls[e13 * 2 + 1] = 9, e13++, o[9]++;
  for (; e13 <= 279; )
    ls[e13 * 2 + 1] = 7, e13++, o[7]++;
  for (; e13 <= 287; )
    ls[e13 * 2 + 1] = 8, e13++, o[8]++;
  for (nY(ls, uv + 1, o), e13 = 0; e13 < Rf; e13++)
    pg[e13 * 2 + 1] = 5, pg[e13 * 2] = rY(e13, 5);
  QW = new uO(ls, yC, ay + 1, uv, jc), JW = new uO(pg, pb, 0, Rf, jc), eY = new uO(new Array(0), BRe, 0, oM, LRe);
}
function iY(e13) {
  var t;
  for (t = 0; t < uv; t++)
    e13.dyn_ltree[t * 2] = 0;
  for (t = 0; t < Rf; t++)
    e13.dyn_dtree[t * 2] = 0;
  for (t = 0; t < oM; t++)
    e13.bl_tree[t * 2] = 0;
  e13.dyn_ltree[aM * 2] = 1, e13.opt_len = e13.static_len = 0, e13.last_lit = e13.matches = 0;
}
function oY(e13) {
  e13.bi_valid > 8 ? dv(e13, e13.bi_buf) : e13.bi_valid > 0 && (e13.pending_buf[e13.pending++] = e13.bi_buf), e13.bi_buf = 0, e13.bi_valid = 0;
}
function jRe(e13, t, r, n) {
  oY(e13), dv(e13, r), dv(e13, ~r), CRe.arraySet(e13.pending_buf, e13.window, t, r, e13.pending), e13.pending += r;
}
function S3(e13, t, r, n) {
  var i = t * 2, o = r * 2;
  return e13[i] < e13[o] || e13[i] === e13[o] && n[t] <= n[r];
}
function fO(e13, t, r) {
  for (var n = e13.heap[r], i = r << 1; i <= e13.heap_len && (i < e13.heap_len && S3(t, e13.heap[i + 1], e13.heap[i], e13.depth) && i++, !S3(t, n, e13.heap[i], e13.depth)); )
    e13.heap[r] = e13.heap[i], r = i, i <<= 1;
  e13.heap[r] = n;
}
function w3(e13, t, r) {
  var n, i, o = 0, a, s;
  if (e13.last_lit !== 0)
    do
      n = e13.pending_buf[e13.d_buf + o * 2] << 8 | e13.pending_buf[e13.d_buf + o * 2 + 1], i = e13.pending_buf[e13.l_buf + o], o++, n === 0 ? ba(e13, i, t) : (a = fv[i], ba(e13, a + ay + 1, t), s = yC[a], s !== 0 && (i -= sM[a], Li(e13, i, s)), n--, a = tY(n), ba(e13, a, r), s = pb[a], s !== 0 && (n -= eT[a], Li(e13, n, s)));
    while (o < e13.last_lit);
  ba(e13, aM, t);
}
function _C(e13, t) {
  var r = t.dyn_tree, n = t.stat_desc.static_tree, i = t.stat_desc.has_stree, o = t.stat_desc.elems, a, s, l = -1, u;
  for (e13.heap_len = 0, e13.heap_max = WW, a = 0; a < o; a++)
    r[a * 2] !== 0 ? (e13.heap[++e13.heap_len] = l = a, e13.depth[a] = 0) : r[a * 2 + 1] = 0;
  for (; e13.heap_len < 2; )
    u = e13.heap[++e13.heap_len] = l < 2 ? ++l : 0, r[u * 2] = 1, e13.depth[u] = 0, e13.opt_len--, i && (e13.static_len -= n[u * 2 + 1]);
  for (t.max_code = l, a = e13.heap_len >> 1; a >= 1; a--)
    fO(e13, r, a);
  u = o;
  do
    a = e13.heap[
      1
      /*SMALLEST*/
    ], e13.heap[
      1
      /*SMALLEST*/
    ] = e13.heap[e13.heap_len--], fO(
      e13,
      r,
      1
      /*SMALLEST*/
    ), s = e13.heap[
      1
      /*SMALLEST*/
    ], e13.heap[--e13.heap_max] = a, e13.heap[--e13.heap_max] = s, r[u * 2] = r[a * 2] + r[s * 2], e13.depth[u] = (e13.depth[a] >= e13.depth[s] ? e13.depth[a] : e13.depth[s]) + 1, r[a * 2 + 1] = r[s * 2 + 1] = u, e13.heap[
      1
      /*SMALLEST*/
    ] = u++, fO(
      e13,
      r,
      1
      /*SMALLEST*/
    );
  while (e13.heap_len >= 2);
  e13.heap[--e13.heap_max] = e13.heap[
    1
    /*SMALLEST*/
  ], HRe(e13, t), nY(r, l, e13.bl_count);
}
function A3(e13, t, r) {
  var n, i = -1, o, a = t[0 * 2 + 1], s = 0, l = 7, u = 4;
  for (a === 0 && (l = 138, u = 3), t[(r + 1) * 2 + 1] = 65535, n = 0; n <= r; n++)
    o = a, a = t[(n + 1) * 2 + 1], !(++s < l && o === a) && (s < u ? e13.bl_tree[o * 2] += s : o !== 0 ? (o !== i && e13.bl_tree[o * 2]++, e13.bl_tree[YW * 2]++) : s <= 10 ? e13.bl_tree[qW * 2]++ : e13.bl_tree[KW * 2]++, s = 0, i = o, a === 0 ? (l = 138, u = 3) : o === a ? (l = 6, u = 3) : (l = 7, u = 4));
}
function O3(e13, t, r) {
  var n, i = -1, o, a = t[0 * 2 + 1], s = 0, l = 7, u = 4;
  for (a === 0 && (l = 138, u = 3), n = 0; n <= r; n++)
    if (o = a, a = t[(n + 1) * 2 + 1], !(++s < l && o === a)) {
      if (s < u)
        do
          ba(e13, o, e13.bl_tree);
        while (--s !== 0);
      else o !== 0 ? (o !== i && (ba(e13, o, e13.bl_tree), s--), ba(e13, YW, e13.bl_tree), Li(e13, s - 3, 2)) : s <= 10 ? (ba(e13, qW, e13.bl_tree), Li(e13, s - 3, 3)) : (ba(e13, KW, e13.bl_tree), Li(e13, s - 11, 7));
      s = 0, i = o, a === 0 ? (l = 138, u = 3) : o === a ? (l = 6, u = 3) : (l = 7, u = 4);
    }
}
function GRe(e13) {
  var t;
  for (A3(e13, e13.dyn_ltree, e13.l_desc.max_code), A3(e13, e13.dyn_dtree, e13.d_desc.max_code), _C(e13, e13.bl_desc), t = oM - 1; t >= 3 && e13.bl_tree[ZW[t] * 2 + 1] === 0; t--)
    ;
  return e13.opt_len += 3 * (t + 1) + 5 + 5 + 4, t;
}
function zRe(e13, t, r, n) {
  var i;
  for (Li(e13, t - 257, 5), Li(e13, r - 1, 5), Li(e13, n - 4, 4), i = 0; i < n; i++)
    Li(e13, e13.bl_tree[ZW[i] * 2 + 1], 3);
  O3(e13, e13.dyn_ltree, t - 1), O3(e13, e13.dyn_dtree, r - 1);
}
function VRe(e13) {
  var t = 4093624447, r;
  for (r = 0; r <= 31; r++, t >>>= 1)
    if (t & 1 && e13.dyn_ltree[r * 2] !== 0)
      return T3;
  if (e13.dyn_ltree[9 * 2] !== 0 || e13.dyn_ltree[10 * 2] !== 0 || e13.dyn_ltree[13 * 2] !== 0)
    return E3;
  for (r = 32; r < ay; r++)
    if (e13.dyn_ltree[r * 2] !== 0)
      return E3;
  return T3;
}
var I3 = false;
function XRe(e13) {
  I3 || (URe(), I3 = true), e13.l_desc = new hO(e13.dyn_ltree, QW), e13.d_desc = new hO(e13.dyn_dtree, JW), e13.bl_desc = new hO(e13.bl_tree, eY), e13.bi_buf = 0, e13.bi_valid = 0, iY(e13);
}
function aY(e13, t, r, n) {
  Li(e13, (DRe << 1) + (n ? 1 : 0), 3), jRe(e13, t, r);
}
function WRe(e13) {
  Li(e13, XW << 1, 3), ba(e13, aM, ls), $Re(e13);
}
function YRe(e13, t, r, n) {
  var i, o, a = 0;
  e13.level > 0 ? (e13.strm.data_type === kRe && (e13.strm.data_type = VRe(e13)), _C(e13, e13.l_desc), _C(e13, e13.d_desc), a = GRe(e13), i = e13.opt_len + 3 + 7 >>> 3, o = e13.static_len + 3 + 7 >>> 3, o <= i && (i = o)) : i = o = r + 5, r + 4 <= i && t !== -1 ? aY(e13, t, r, n) : e13.strategy === xRe || o === i ? (Li(e13, (XW << 1) + (n ? 1 : 0), 3), w3(e13, ls, pg)) : (Li(e13, (RRe << 1) + (n ? 1 : 0), 3), zRe(e13, e13.l_desc.max_code + 1, e13.d_desc.max_code + 1, a + 1), w3(e13, e13.dyn_ltree, e13.dyn_dtree)), iY(e13), n && oY(e13);
}
function qRe(e13, t, r) {
  return e13.pending_buf[e13.d_buf + e13.last_lit * 2] = t >>> 8 & 255, e13.pending_buf[e13.d_buf + e13.last_lit * 2 + 1] = t & 255, e13.pending_buf[e13.l_buf + e13.last_lit] = r & 255, e13.last_lit++, t === 0 ? e13.dyn_ltree[r * 2]++ : (e13.matches++, t--, e13.dyn_ltree[(fv[r] + ay + 1) * 2]++, e13.dyn_dtree[tY(t) * 2]++), e13.last_lit === e13.lit_bufsize - 1;
}
mp._tr_init = XRe;
mp._tr_stored_block = aY;
mp._tr_flush_block = YRe;
mp._tr_tally = qRe;
mp._tr_align = WRe;
function KRe(e13, t, r, n) {
  for (var i = e13 & 65535 | 0, o = e13 >>> 16 & 65535 | 0, a = 0; r !== 0; ) {
    a = r > 2e3 ? 2e3 : r, r -= a;
    do
      i = i + t[n++] | 0, o = o + i | 0;
    while (--a);
    i %= 65521, o %= 65521;
  }
  return i | o << 16 | 0;
}
var sY = KRe;
function ZRe() {
  for (var e13, t = [], r = 0; r < 256; r++) {
    e13 = r;
    for (var n = 0; n < 8; n++)
      e13 = e13 & 1 ? 3988292384 ^ e13 >>> 1 : e13 >>> 1;
    t[r] = e13;
  }
  return t;
}
var QRe = ZRe();
function JRe(e13, t, r, n) {
  var i = QRe, o = n + r;
  e13 ^= -1;
  for (var a = n; a < o; a++)
    e13 = e13 >>> 8 ^ i[(e13 ^ t[a]) & 255];
  return e13 ^ -1;
}
var lY = JRe;
var lM = {
  2: "need dictionary",
  /* Z_NEED_DICT       2  */
  1: "stream end",
  /* Z_STREAM_END      1  */
  0: "",
  /* Z_OK              0  */
  "-1": "file error",
  /* Z_ERRNO         (-1) */
  "-2": "stream error",
  /* Z_STREAM_ERROR  (-2) */
  "-3": "data error",
  /* Z_DATA_ERROR    (-3) */
  "-4": "insufficient memory",
  /* Z_MEM_ERROR     (-4) */
  "-5": "buffer error",
  /* Z_BUF_ERROR     (-5) */
  "-6": "incompatible version"
  /* Z_VERSION_ERROR (-6) */
};
var fi = qs;
var Ao = mp;
var cY = sY;
var fl = lY;
var eNe = lM;
var oh = 0;
var tNe = 1;
var rNe = 3;
var $l = 4;
var P3 = 5;
var Ta = 0;
var C3 = 1;
var Oo = -2;
var nNe = -3;
var dO = -5;
var iNe = -1;
var oNe = 1;
var y_ = 2;
var aNe = 3;
var sNe = 4;
var lNe = 0;
var cNe = 2;
var hS = 8;
var uNe = 9;
var hNe = 15;
var fNe = 8;
var dNe = 29;
var pNe = 256;
var bC = pNe + 1 + dNe;
var mNe = 30;
var gNe = 19;
var vNe = 2 * bC + 1;
var yNe = 15;
var er = 3;
var Rl = 258;
var Zo = Rl + er + 1;
var _Ne = 32;
var fS = 42;
var TC = 69;
var mb = 73;
var gb = 91;
var vb = 103;
var Gc = 113;
var Pm = 666;
var mn = 1;
var sy = 2;
var Su = 3;
var vp = 4;
var bNe = 3;
function Nl(e13, t) {
  return e13.msg = eNe[t], t;
}
function x3(e13) {
  return (e13 << 1) - (e13 > 4 ? 9 : 0);
}
function Sl(e13) {
  for (var t = e13.length; --t >= 0; )
    e13[t] = 0;
}
function dl(e13) {
  var t = e13.state, r = t.pending;
  r > e13.avail_out && (r = e13.avail_out), r !== 0 && (fi.arraySet(e13.output, t.pending_buf, t.pending_out, r, e13.next_out), e13.next_out += r, t.pending_out += r, e13.total_out += r, e13.avail_out -= r, t.pending -= r, t.pending === 0 && (t.pending_out = 0));
}
function $n(e13, t) {
  Ao._tr_flush_block(e13, e13.block_start >= 0 ? e13.block_start : -1, e13.strstart - e13.block_start, t), e13.block_start = e13.strstart, dl(e13.strm);
}
function sr(e13, t) {
  e13.pending_buf[e13.pending++] = t;
}
function nm(e13, t) {
  e13.pending_buf[e13.pending++] = t >>> 8 & 255, e13.pending_buf[e13.pending++] = t & 255;
}
function TNe(e13, t, r, n) {
  var i = e13.avail_in;
  return i > n && (i = n), i === 0 ? 0 : (e13.avail_in -= i, fi.arraySet(t, e13.input, e13.next_in, i, r), e13.state.wrap === 1 ? e13.adler = cY(e13.adler, t, i, r) : e13.state.wrap === 2 && (e13.adler = fl(e13.adler, t, i, r)), e13.next_in += i, e13.total_in += i, i);
}
function uY(e13, t) {
  var r = e13.max_chain_length, n = e13.strstart, i, o, a = e13.prev_length, s = e13.nice_match, l = e13.strstart > e13.w_size - Zo ? e13.strstart - (e13.w_size - Zo) : 0, u = e13.window, c = e13.w_mask, f = e13.prev, h = e13.strstart + Rl, d = u[n + a - 1], p = u[n + a];
  e13.prev_length >= e13.good_match && (r >>= 2), s > e13.lookahead && (s = e13.lookahead);
  do
    if (i = t, !(u[i + a] !== p || u[i + a - 1] !== d || u[i] !== u[n] || u[++i] !== u[n + 1])) {
      n += 2, i++;
      do
        ;
      while (u[++n] === u[++i] && u[++n] === u[++i] && u[++n] === u[++i] && u[++n] === u[++i] && u[++n] === u[++i] && u[++n] === u[++i] && u[++n] === u[++i] && u[++n] === u[++i] && n < h);
      if (o = Rl - (h - n), n = h - Rl, o > a) {
        if (e13.match_start = t, a = o, o >= s)
          break;
        d = u[n + a - 1], p = u[n + a];
      }
    }
  while ((t = f[t & c]) > l && --r !== 0);
  return a <= e13.lookahead ? a : e13.lookahead;
}
function wu(e13) {
  var t = e13.w_size, r, n, i, o, a;
  do {
    if (o = e13.window_size - e13.lookahead - e13.strstart, e13.strstart >= t + (t - Zo)) {
      fi.arraySet(e13.window, e13.window, t, t, 0), e13.match_start -= t, e13.strstart -= t, e13.block_start -= t, n = e13.hash_size, r = n;
      do
        i = e13.head[--r], e13.head[r] = i >= t ? i - t : 0;
      while (--n);
      n = t, r = n;
      do
        i = e13.prev[--r], e13.prev[r] = i >= t ? i - t : 0;
      while (--n);
      o += t;
    }
    if (e13.strm.avail_in === 0)
      break;
    if (n = TNe(e13.strm, e13.window, e13.strstart + e13.lookahead, o), e13.lookahead += n, e13.lookahead + e13.insert >= er)
      for (a = e13.strstart - e13.insert, e13.ins_h = e13.window[a], e13.ins_h = (e13.ins_h << e13.hash_shift ^ e13.window[a + 1]) & e13.hash_mask; e13.insert && (e13.ins_h = (e13.ins_h << e13.hash_shift ^ e13.window[a + er - 1]) & e13.hash_mask, e13.prev[a & e13.w_mask] = e13.head[e13.ins_h], e13.head[e13.ins_h] = a, a++, e13.insert--, !(e13.lookahead + e13.insert < er)); )
        ;
  } while (e13.lookahead < Zo && e13.strm.avail_in !== 0);
}
function ENe(e13, t) {
  var r = 65535;
  for (r > e13.pending_buf_size - 5 && (r = e13.pending_buf_size - 5); ; ) {
    if (e13.lookahead <= 1) {
      if (wu(e13), e13.lookahead === 0 && t === oh)
        return mn;
      if (e13.lookahead === 0)
        break;
    }
    e13.strstart += e13.lookahead, e13.lookahead = 0;
    var n = e13.block_start + r;
    if ((e13.strstart === 0 || e13.strstart >= n) && (e13.lookahead = e13.strstart - n, e13.strstart = n, $n(e13, false), e13.strm.avail_out === 0) || e13.strstart - e13.block_start >= e13.w_size - Zo && ($n(e13, false), e13.strm.avail_out === 0))
      return mn;
  }
  return e13.insert = 0, t === $l ? ($n(e13, true), e13.strm.avail_out === 0 ? Su : vp) : (e13.strstart > e13.block_start && ($n(e13, false), e13.strm.avail_out === 0), mn);
}
function pO(e13, t) {
  for (var r, n; ; ) {
    if (e13.lookahead < Zo) {
      if (wu(e13), e13.lookahead < Zo && t === oh)
        return mn;
      if (e13.lookahead === 0)
        break;
    }
    if (r = 0, e13.lookahead >= er && (e13.ins_h = (e13.ins_h << e13.hash_shift ^ e13.window[e13.strstart + er - 1]) & e13.hash_mask, r = e13.prev[e13.strstart & e13.w_mask] = e13.head[e13.ins_h], e13.head[e13.ins_h] = e13.strstart), r !== 0 && e13.strstart - r <= e13.w_size - Zo && (e13.match_length = uY(e13, r)), e13.match_length >= er)
      if (n = Ao._tr_tally(e13, e13.strstart - e13.match_start, e13.match_length - er), e13.lookahead -= e13.match_length, e13.match_length <= e13.max_lazy_match && e13.lookahead >= er) {
        e13.match_length--;
        do
          e13.strstart++, e13.ins_h = (e13.ins_h << e13.hash_shift ^ e13.window[e13.strstart + er - 1]) & e13.hash_mask, r = e13.prev[e13.strstart & e13.w_mask] = e13.head[e13.ins_h], e13.head[e13.ins_h] = e13.strstart;
        while (--e13.match_length !== 0);
        e13.strstart++;
      } else
        e13.strstart += e13.match_length, e13.match_length = 0, e13.ins_h = e13.window[e13.strstart], e13.ins_h = (e13.ins_h << e13.hash_shift ^ e13.window[e13.strstart + 1]) & e13.hash_mask;
    else
      n = Ao._tr_tally(e13, 0, e13.window[e13.strstart]), e13.lookahead--, e13.strstart++;
    if (n && ($n(e13, false), e13.strm.avail_out === 0))
      return mn;
  }
  return e13.insert = e13.strstart < er - 1 ? e13.strstart : er - 1, t === $l ? ($n(e13, true), e13.strm.avail_out === 0 ? Su : vp) : e13.last_lit && ($n(e13, false), e13.strm.avail_out === 0) ? mn : sy;
}
function Dh(e13, t) {
  for (var r, n, i; ; ) {
    if (e13.lookahead < Zo) {
      if (wu(e13), e13.lookahead < Zo && t === oh)
        return mn;
      if (e13.lookahead === 0)
        break;
    }
    if (r = 0, e13.lookahead >= er && (e13.ins_h = (e13.ins_h << e13.hash_shift ^ e13.window[e13.strstart + er - 1]) & e13.hash_mask, r = e13.prev[e13.strstart & e13.w_mask] = e13.head[e13.ins_h], e13.head[e13.ins_h] = e13.strstart), e13.prev_length = e13.match_length, e13.prev_match = e13.match_start, e13.match_length = er - 1, r !== 0 && e13.prev_length < e13.max_lazy_match && e13.strstart - r <= e13.w_size - Zo && (e13.match_length = uY(e13, r), e13.match_length <= 5 && (e13.strategy === oNe || e13.match_length === er && e13.strstart - e13.match_start > 4096) && (e13.match_length = er - 1)), e13.prev_length >= er && e13.match_length <= e13.prev_length) {
      i = e13.strstart + e13.lookahead - er, n = Ao._tr_tally(e13, e13.strstart - 1 - e13.prev_match, e13.prev_length - er), e13.lookahead -= e13.prev_length - 1, e13.prev_length -= 2;
      do
        ++e13.strstart <= i && (e13.ins_h = (e13.ins_h << e13.hash_shift ^ e13.window[e13.strstart + er - 1]) & e13.hash_mask, r = e13.prev[e13.strstart & e13.w_mask] = e13.head[e13.ins_h], e13.head[e13.ins_h] = e13.strstart);
      while (--e13.prev_length !== 0);
      if (e13.match_available = 0, e13.match_length = er - 1, e13.strstart++, n && ($n(e13, false), e13.strm.avail_out === 0))
        return mn;
    } else if (e13.match_available) {
      if (n = Ao._tr_tally(e13, 0, e13.window[e13.strstart - 1]), n && $n(e13, false), e13.strstart++, e13.lookahead--, e13.strm.avail_out === 0)
        return mn;
    } else
      e13.match_available = 1, e13.strstart++, e13.lookahead--;
  }
  return e13.match_available && (n = Ao._tr_tally(e13, 0, e13.window[e13.strstart - 1]), e13.match_available = 0), e13.insert = e13.strstart < er - 1 ? e13.strstart : er - 1, t === $l ? ($n(e13, true), e13.strm.avail_out === 0 ? Su : vp) : e13.last_lit && ($n(e13, false), e13.strm.avail_out === 0) ? mn : sy;
}
function SNe(e13, t) {
  for (var r, n, i, o, a = e13.window; ; ) {
    if (e13.lookahead <= Rl) {
      if (wu(e13), e13.lookahead <= Rl && t === oh)
        return mn;
      if (e13.lookahead === 0)
        break;
    }
    if (e13.match_length = 0, e13.lookahead >= er && e13.strstart > 0 && (i = e13.strstart - 1, n = a[i], n === a[++i] && n === a[++i] && n === a[++i])) {
      o = e13.strstart + Rl;
      do
        ;
      while (n === a[++i] && n === a[++i] && n === a[++i] && n === a[++i] && n === a[++i] && n === a[++i] && n === a[++i] && n === a[++i] && i < o);
      e13.match_length = Rl - (o - i), e13.match_length > e13.lookahead && (e13.match_length = e13.lookahead);
    }
    if (e13.match_length >= er ? (r = Ao._tr_tally(e13, 1, e13.match_length - er), e13.lookahead -= e13.match_length, e13.strstart += e13.match_length, e13.match_length = 0) : (r = Ao._tr_tally(e13, 0, e13.window[e13.strstart]), e13.lookahead--, e13.strstart++), r && ($n(e13, false), e13.strm.avail_out === 0))
      return mn;
  }
  return e13.insert = 0, t === $l ? ($n(e13, true), e13.strm.avail_out === 0 ? Su : vp) : e13.last_lit && ($n(e13, false), e13.strm.avail_out === 0) ? mn : sy;
}
function wNe(e13, t) {
  for (var r; ; ) {
    if (e13.lookahead === 0 && (wu(e13), e13.lookahead === 0)) {
      if (t === oh)
        return mn;
      break;
    }
    if (e13.match_length = 0, r = Ao._tr_tally(e13, 0, e13.window[e13.strstart]), e13.lookahead--, e13.strstart++, r && ($n(e13, false), e13.strm.avail_out === 0))
      return mn;
  }
  return e13.insert = 0, t === $l ? ($n(e13, true), e13.strm.avail_out === 0 ? Su : vp) : e13.last_lit && ($n(e13, false), e13.strm.avail_out === 0) ? mn : sy;
}
function fa(e13, t, r, n, i) {
  this.good_length = e13, this.max_lazy = t, this.nice_length = r, this.max_chain = n, this.func = i;
}
var gf;
gf = [
  /*      good lazy nice chain */
  new fa(0, 0, 0, 0, ENe),
  /* 0 store only */
  new fa(4, 4, 8, 4, pO),
  /* 1 max speed, no lazy matches */
  new fa(4, 5, 16, 8, pO),
  /* 2 */
  new fa(4, 6, 32, 32, pO),
  /* 3 */
  new fa(4, 4, 16, 16, Dh),
  /* 4 lazy matches */
  new fa(8, 16, 32, 32, Dh),
  /* 5 */
  new fa(8, 16, 128, 128, Dh),
  /* 6 */
  new fa(8, 32, 128, 256, Dh),
  /* 7 */
  new fa(32, 128, 258, 1024, Dh),
  /* 8 */
  new fa(32, 258, 258, 4096, Dh)
  /* 9 max compression */
];
function ANe(e13) {
  e13.window_size = 2 * e13.w_size, Sl(e13.head), e13.max_lazy_match = gf[e13.level].max_lazy, e13.good_match = gf[e13.level].good_length, e13.nice_match = gf[e13.level].nice_length, e13.max_chain_length = gf[e13.level].max_chain, e13.strstart = 0, e13.block_start = 0, e13.lookahead = 0, e13.insert = 0, e13.match_length = e13.prev_length = er - 1, e13.match_available = 0, e13.ins_h = 0;
}
function ONe() {
  this.strm = null, this.status = 0, this.pending_buf = null, this.pending_buf_size = 0, this.pending_out = 0, this.pending = 0, this.wrap = 0, this.gzhead = null, this.gzindex = 0, this.method = hS, this.last_flush = -1, this.w_size = 0, this.w_bits = 0, this.w_mask = 0, this.window = null, this.window_size = 0, this.prev = null, this.head = null, this.ins_h = 0, this.hash_size = 0, this.hash_bits = 0, this.hash_mask = 0, this.hash_shift = 0, this.block_start = 0, this.match_length = 0, this.prev_match = 0, this.match_available = 0, this.strstart = 0, this.match_start = 0, this.lookahead = 0, this.prev_length = 0, this.max_chain_length = 0, this.max_lazy_match = 0, this.level = 0, this.strategy = 0, this.good_match = 0, this.nice_match = 0, this.dyn_ltree = new fi.Buf16(vNe * 2), this.dyn_dtree = new fi.Buf16((2 * mNe + 1) * 2), this.bl_tree = new fi.Buf16((2 * gNe + 1) * 2), Sl(this.dyn_ltree), Sl(this.dyn_dtree), Sl(this.bl_tree), this.l_desc = null, this.d_desc = null, this.bl_desc = null, this.bl_count = new fi.Buf16(yNe + 1), this.heap = new fi.Buf16(2 * bC + 1), Sl(this.heap), this.heap_len = 0, this.heap_max = 0, this.depth = new fi.Buf16(2 * bC + 1), Sl(this.depth), this.l_buf = 0, this.lit_bufsize = 0, this.last_lit = 0, this.d_buf = 0, this.opt_len = 0, this.static_len = 0, this.matches = 0, this.insert = 0, this.bi_buf = 0, this.bi_valid = 0;
}
function hY(e13) {
  var t;
  return !e13 || !e13.state ? Nl(e13, Oo) : (e13.total_in = e13.total_out = 0, e13.data_type = cNe, t = e13.state, t.pending = 0, t.pending_out = 0, t.wrap < 0 && (t.wrap = -t.wrap), t.status = t.wrap ? fS : Gc, e13.adler = t.wrap === 2 ? 0 : 1, t.last_flush = oh, Ao._tr_init(t), Ta);
}
function fY(e13) {
  var t = hY(e13);
  return t === Ta && ANe(e13.state), t;
}
function INe(e13, t) {
  return !e13 || !e13.state || e13.state.wrap !== 2 ? Oo : (e13.state.gzhead = t, Ta);
}
function dY(e13, t, r, n, i, o) {
  if (!e13)
    return Oo;
  var a = 1;
  if (t === iNe && (t = 6), n < 0 ? (a = 0, n = -n) : n > 15 && (a = 2, n -= 16), i < 1 || i > uNe || r !== hS || n < 8 || n > 15 || t < 0 || t > 9 || o < 0 || o > sNe)
    return Nl(e13, Oo);
  n === 8 && (n = 9);
  var s = new ONe();
  return e13.state = s, s.strm = e13, s.wrap = a, s.gzhead = null, s.w_bits = n, s.w_size = 1 << s.w_bits, s.w_mask = s.w_size - 1, s.hash_bits = i + 7, s.hash_size = 1 << s.hash_bits, s.hash_mask = s.hash_size - 1, s.hash_shift = ~~((s.hash_bits + er - 1) / er), s.window = new fi.Buf8(s.w_size * 2), s.head = new fi.Buf16(s.hash_size), s.prev = new fi.Buf16(s.w_size), s.lit_bufsize = 1 << i + 6, s.pending_buf_size = s.lit_bufsize * 4, s.pending_buf = new fi.Buf8(s.pending_buf_size), s.d_buf = 1 * s.lit_bufsize, s.l_buf = 3 * s.lit_bufsize, s.level = t, s.strategy = o, s.method = r, fY(e13);
}
function PNe(e13, t) {
  return dY(e13, t, hS, hNe, fNe, lNe);
}
function CNe(e13, t) {
  var r, n, i, o;
  if (!e13 || !e13.state || t > P3 || t < 0)
    return e13 ? Nl(e13, Oo) : Oo;
  if (n = e13.state, !e13.output || !e13.input && e13.avail_in !== 0 || n.status === Pm && t !== $l)
    return Nl(e13, e13.avail_out === 0 ? dO : Oo);
  if (n.strm = e13, r = n.last_flush, n.last_flush = t, n.status === fS)
    if (n.wrap === 2)
      e13.adler = 0, sr(n, 31), sr(n, 139), sr(n, 8), n.gzhead ? (sr(n, (n.gzhead.text ? 1 : 0) + (n.gzhead.hcrc ? 2 : 0) + (n.gzhead.extra ? 4 : 0) + (n.gzhead.name ? 8 : 0) + (n.gzhead.comment ? 16 : 0)), sr(n, n.gzhead.time & 255), sr(n, n.gzhead.time >> 8 & 255), sr(n, n.gzhead.time >> 16 & 255), sr(n, n.gzhead.time >> 24 & 255), sr(n, n.level === 9 ? 2 : n.strategy >= y_ || n.level < 2 ? 4 : 0), sr(n, n.gzhead.os & 255), n.gzhead.extra && n.gzhead.extra.length && (sr(n, n.gzhead.extra.length & 255), sr(n, n.gzhead.extra.length >> 8 & 255)), n.gzhead.hcrc && (e13.adler = fl(e13.adler, n.pending_buf, n.pending, 0)), n.gzindex = 0, n.status = TC) : (sr(n, 0), sr(n, 0), sr(n, 0), sr(n, 0), sr(n, 0), sr(n, n.level === 9 ? 2 : n.strategy >= y_ || n.level < 2 ? 4 : 0), sr(n, bNe), n.status = Gc);
    else {
      var a = hS + (n.w_bits - 8 << 4) << 8, s = -1;
      n.strategy >= y_ || n.level < 2 ? s = 0 : n.level < 6 ? s = 1 : n.level === 6 ? s = 2 : s = 3, a |= s << 6, n.strstart !== 0 && (a |= _Ne), a += 31 - a % 31, n.status = Gc, nm(n, a), n.strstart !== 0 && (nm(n, e13.adler >>> 16), nm(n, e13.adler & 65535)), e13.adler = 1;
    }
  if (n.status === TC)
    if (n.gzhead.extra) {
      for (i = n.pending; n.gzindex < (n.gzhead.extra.length & 65535) && !(n.pending === n.pending_buf_size && (n.gzhead.hcrc && n.pending > i && (e13.adler = fl(e13.adler, n.pending_buf, n.pending - i, i)), dl(e13), i = n.pending, n.pending === n.pending_buf_size)); )
        sr(n, n.gzhead.extra[n.gzindex] & 255), n.gzindex++;
      n.gzhead.hcrc && n.pending > i && (e13.adler = fl(e13.adler, n.pending_buf, n.pending - i, i)), n.gzindex === n.gzhead.extra.length && (n.gzindex = 0, n.status = mb);
    } else
      n.status = mb;
  if (n.status === mb)
    if (n.gzhead.name) {
      i = n.pending;
      do {
        if (n.pending === n.pending_buf_size && (n.gzhead.hcrc && n.pending > i && (e13.adler = fl(e13.adler, n.pending_buf, n.pending - i, i)), dl(e13), i = n.pending, n.pending === n.pending_buf_size)) {
          o = 1;
          break;
        }
        n.gzindex < n.gzhead.name.length ? o = n.gzhead.name.charCodeAt(n.gzindex++) & 255 : o = 0, sr(n, o);
      } while (o !== 0);
      n.gzhead.hcrc && n.pending > i && (e13.adler = fl(e13.adler, n.pending_buf, n.pending - i, i)), o === 0 && (n.gzindex = 0, n.status = gb);
    } else
      n.status = gb;
  if (n.status === gb)
    if (n.gzhead.comment) {
      i = n.pending;
      do {
        if (n.pending === n.pending_buf_size && (n.gzhead.hcrc && n.pending > i && (e13.adler = fl(e13.adler, n.pending_buf, n.pending - i, i)), dl(e13), i = n.pending, n.pending === n.pending_buf_size)) {
          o = 1;
          break;
        }
        n.gzindex < n.gzhead.comment.length ? o = n.gzhead.comment.charCodeAt(n.gzindex++) & 255 : o = 0, sr(n, o);
      } while (o !== 0);
      n.gzhead.hcrc && n.pending > i && (e13.adler = fl(e13.adler, n.pending_buf, n.pending - i, i)), o === 0 && (n.status = vb);
    } else
      n.status = vb;
  if (n.status === vb && (n.gzhead.hcrc ? (n.pending + 2 > n.pending_buf_size && dl(e13), n.pending + 2 <= n.pending_buf_size && (sr(n, e13.adler & 255), sr(n, e13.adler >> 8 & 255), e13.adler = 0, n.status = Gc)) : n.status = Gc), n.pending !== 0) {
    if (dl(e13), e13.avail_out === 0)
      return n.last_flush = -1, Ta;
  } else if (e13.avail_in === 0 && x3(t) <= x3(r) && t !== $l)
    return Nl(e13, dO);
  if (n.status === Pm && e13.avail_in !== 0)
    return Nl(e13, dO);
  if (e13.avail_in !== 0 || n.lookahead !== 0 || t !== oh && n.status !== Pm) {
    var l = n.strategy === y_ ? wNe(n, t) : n.strategy === aNe ? SNe(n, t) : gf[n.level].func(n, t);
    if ((l === Su || l === vp) && (n.status = Pm), l === mn || l === Su)
      return e13.avail_out === 0 && (n.last_flush = -1), Ta;
    if (l === sy && (t === tNe ? Ao._tr_align(n) : t !== P3 && (Ao._tr_stored_block(n, 0, 0, false), t === rNe && (Sl(n.head), n.lookahead === 0 && (n.strstart = 0, n.block_start = 0, n.insert = 0))), dl(e13), e13.avail_out === 0))
      return n.last_flush = -1, Ta;
  }
  return t !== $l ? Ta : n.wrap <= 0 ? C3 : (n.wrap === 2 ? (sr(n, e13.adler & 255), sr(n, e13.adler >> 8 & 255), sr(n, e13.adler >> 16 & 255), sr(n, e13.adler >> 24 & 255), sr(n, e13.total_in & 255), sr(n, e13.total_in >> 8 & 255), sr(n, e13.total_in >> 16 & 255), sr(n, e13.total_in >> 24 & 255)) : (nm(n, e13.adler >>> 16), nm(n, e13.adler & 65535)), dl(e13), n.wrap > 0 && (n.wrap = -n.wrap), n.pending !== 0 ? Ta : C3);
}
function xNe(e13) {
  var t;
  return !e13 || !e13.state ? Oo : (t = e13.state.status, t !== fS && t !== TC && t !== mb && t !== gb && t !== vb && t !== Gc && t !== Pm ? Nl(e13, Oo) : (e13.state = null, t === Gc ? Nl(e13, nNe) : Ta));
}
function kNe(e13, t) {
  var r = t.length, n, i, o, a, s, l, u, c;
  if (!e13 || !e13.state || (n = e13.state, a = n.wrap, a === 2 || a === 1 && n.status !== fS || n.lookahead))
    return Oo;
  for (a === 1 && (e13.adler = cY(e13.adler, t, r, 0)), n.wrap = 0, r >= n.w_size && (a === 0 && (Sl(n.head), n.strstart = 0, n.block_start = 0, n.insert = 0), c = new fi.Buf8(n.w_size), fi.arraySet(c, t, r - n.w_size, n.w_size, 0), t = c, r = n.w_size), s = e13.avail_in, l = e13.next_in, u = e13.input, e13.avail_in = r, e13.next_in = 0, e13.input = t, wu(n); n.lookahead >= er; ) {
    i = n.strstart, o = n.lookahead - (er - 1);
    do
      n.ins_h = (n.ins_h << n.hash_shift ^ n.window[i + er - 1]) & n.hash_mask, n.prev[i & n.w_mask] = n.head[n.ins_h], n.head[n.ins_h] = i, i++;
    while (--o);
    n.strstart = i, n.lookahead = er - 1, wu(n);
  }
  return n.strstart += n.lookahead, n.block_start = n.strstart, n.insert = n.lookahead, n.lookahead = 0, n.match_length = n.prev_length = er - 1, n.match_available = 0, e13.next_in = l, e13.input = u, e13.avail_in = s, n.wrap = a, Ta;
}
qa.deflateInit = PNe;
qa.deflateInit2 = dY;
qa.deflateReset = fY;
qa.deflateResetKeep = hY;
qa.deflateSetHeader = INe;
qa.deflate = CNe;
qa.deflateEnd = xNe;
qa.deflateSetDictionary = kNe;
qa.deflateInfo = "pako deflate (from Nodeca project)";
var ah = {};
var dS = qs;
var pY = true;
var mY = true;
try {
  String.fromCharCode.apply(null, [0]);
} catch {
  pY = false;
}
try {
  String.fromCharCode.apply(null, new Uint8Array(1));
} catch {
  mY = false;
}
var pv = new dS.Buf8(256);
for (il = 0; il < 256; il++)
  pv[il] = il >= 252 ? 6 : il >= 248 ? 5 : il >= 240 ? 4 : il >= 224 ? 3 : il >= 192 ? 2 : 1;
var il;
pv[254] = pv[254] = 1;
ah.string2buf = function(e13) {
  var t, r, n, i, o, a = e13.length, s = 0;
  for (i = 0; i < a; i++)
    r = e13.charCodeAt(i), (r & 64512) === 55296 && i + 1 < a && (n = e13.charCodeAt(i + 1), (n & 64512) === 56320 && (r = 65536 + (r - 55296 << 10) + (n - 56320), i++)), s += r < 128 ? 1 : r < 2048 ? 2 : r < 65536 ? 3 : 4;
  for (t = new dS.Buf8(s), o = 0, i = 0; o < s; i++)
    r = e13.charCodeAt(i), (r & 64512) === 55296 && i + 1 < a && (n = e13.charCodeAt(i + 1), (n & 64512) === 56320 && (r = 65536 + (r - 55296 << 10) + (n - 56320), i++)), r < 128 ? t[o++] = r : r < 2048 ? (t[o++] = 192 | r >>> 6, t[o++] = 128 | r & 63) : r < 65536 ? (t[o++] = 224 | r >>> 12, t[o++] = 128 | r >>> 6 & 63, t[o++] = 128 | r & 63) : (t[o++] = 240 | r >>> 18, t[o++] = 128 | r >>> 12 & 63, t[o++] = 128 | r >>> 6 & 63, t[o++] = 128 | r & 63);
  return t;
};
function gY(e13, t) {
  if (t < 65534 && (e13.subarray && mY || !e13.subarray && pY))
    return String.fromCharCode.apply(null, dS.shrinkBuf(e13, t));
  for (var r = "", n = 0; n < t; n++)
    r += String.fromCharCode(e13[n]);
  return r;
}
ah.buf2binstring = function(e13) {
  return gY(e13, e13.length);
};
ah.binstring2buf = function(e13) {
  for (var t = new dS.Buf8(e13.length), r = 0, n = t.length; r < n; r++)
    t[r] = e13.charCodeAt(r);
  return t;
};
ah.buf2string = function(e13, t) {
  var r, n, i, o, a = t || e13.length, s = new Array(a * 2);
  for (n = 0, r = 0; r < a; ) {
    if (i = e13[r++], i < 128) {
      s[n++] = i;
      continue;
    }
    if (o = pv[i], o > 4) {
      s[n++] = 65533, r += o - 1;
      continue;
    }
    for (i &= o === 2 ? 31 : o === 3 ? 15 : 7; o > 1 && r < a; )
      i = i << 6 | e13[r++] & 63, o--;
    if (o > 1) {
      s[n++] = 65533;
      continue;
    }
    i < 65536 ? s[n++] = i : (i -= 65536, s[n++] = 55296 | i >> 10 & 1023, s[n++] = 56320 | i & 1023);
  }
  return gY(s, n);
};
ah.utf8border = function(e13, t) {
  var r;
  for (t = t || e13.length, t > e13.length && (t = e13.length), r = t - 1; r >= 0 && (e13[r] & 192) === 128; )
    r--;
  return r < 0 || r === 0 ? t : r + pv[e13[r]] > t ? r : t;
};
function DNe() {
  this.input = null, this.next_in = 0, this.avail_in = 0, this.total_in = 0, this.output = null, this.next_out = 0, this.avail_out = 0, this.total_out = 0, this.msg = "", this.state = null, this.data_type = 2, this.adler = 0;
}
var vY = DNe;
var mg = qa;
var gg = qs;
var EC = ah;
var SC = lM;
var RNe = vY;
var yY = Object.prototype.toString;
var NNe = 0;
var mO = 4;
var Nf = 0;
var k3 = 1;
var D3 = 2;
var MNe = -1;
var LNe = 0;
var BNe = 8;
function Au(e13) {
  if (!(this instanceof Au))
    return new Au(e13);
  this.options = gg.assign({
    level: MNe,
    method: BNe,
    chunkSize: 16384,
    windowBits: 15,
    memLevel: 8,
    strategy: LNe,
    to: ""
  }, e13 || {});
  var t = this.options;
  t.raw && t.windowBits > 0 ? t.windowBits = -t.windowBits : t.gzip && t.windowBits > 0 && t.windowBits < 16 && (t.windowBits += 16), this.err = 0, this.msg = "", this.ended = false, this.chunks = [], this.strm = new RNe(), this.strm.avail_out = 0;
  var r = mg.deflateInit2(this.strm, t.level, t.method, t.windowBits, t.memLevel, t.strategy);
  if (r !== Nf)
    throw new Error(SC[r]);
  if (t.header && mg.deflateSetHeader(this.strm, t.header), t.dictionary) {
    var n;
    if (typeof t.dictionary == "string" ? n = EC.string2buf(t.dictionary) : yY.call(t.dictionary) === "[object ArrayBuffer]" ? n = new Uint8Array(t.dictionary) : n = t.dictionary, r = mg.deflateSetDictionary(this.strm, n), r !== Nf)
      throw new Error(SC[r]);
    this._dict_set = true;
  }
}
Au.prototype.push = function(e13, t) {
  var r = this.strm, n = this.options.chunkSize, i, o;
  if (this.ended)
    return false;
  o = t === ~~t ? t : t === true ? mO : NNe, typeof e13 == "string" ? r.input = EC.string2buf(e13) : yY.call(e13) === "[object ArrayBuffer]" ? r.input = new Uint8Array(e13) : r.input = e13, r.next_in = 0, r.avail_in = r.input.length;
  do {
    if (r.avail_out === 0 && (r.output = new gg.Buf8(n), r.next_out = 0, r.avail_out = n), i = mg.deflate(r, o), i !== k3 && i !== Nf)
      return this.onEnd(i), this.ended = true, false;
    (r.avail_out === 0 || r.avail_in === 0 && (o === mO || o === D3)) && (this.options.to === "string" ? this.onData(EC.buf2binstring(gg.shrinkBuf(r.output, r.next_out))) : this.onData(gg.shrinkBuf(r.output, r.next_out)));
  } while ((r.avail_in > 0 || r.avail_out === 0) && i !== k3);
  return o === mO ? (i = mg.deflateEnd(this.strm), this.onEnd(i), this.ended = true, i === Nf) : (o === D3 && (this.onEnd(Nf), r.avail_out = 0), true);
};
Au.prototype.onData = function(e13) {
  this.chunks.push(e13);
};
Au.prototype.onEnd = function(e13) {
  e13 === Nf && (this.options.to === "string" ? this.result = this.chunks.join("") : this.result = gg.flattenChunks(this.chunks)), this.chunks = [], this.err = e13, this.msg = this.strm.msg;
};
function cM(e13, t) {
  var r = new Au(t);
  if (r.push(e13, true), r.err)
    throw r.msg || SC[r.err];
  return r.result;
}
function FNe(e13, t) {
  return t = t || {}, t.raw = true, cM(e13, t);
}
function $Ne(e13, t) {
  return t = t || {}, t.gzip = true, cM(e13, t);
}
oy.Deflate = Au;
oy.deflate = cM;
oy.deflateRaw = FNe;
oy.gzip = $Ne;
var ly = {};
var la = {};
var __ = 30;
var HNe = 12;
var UNe = function(t, r) {
  var n, i, o, a, s, l, u, c, f, h, d, p, m, g, v, b, y, _, T, E, O, S, P, C, w;
  n = t.state, i = t.next_in, C = t.input, o = i + (t.avail_in - 5), a = t.next_out, w = t.output, s = a - (r - t.avail_out), l = a + (t.avail_out - 257), u = n.dmax, c = n.wsize, f = n.whave, h = n.wnext, d = n.window, p = n.hold, m = n.bits, g = n.lencode, v = n.distcode, b = (1 << n.lenbits) - 1, y = (1 << n.distbits) - 1;
  e:
    do {
      m < 15 && (p += C[i++] << m, m += 8, p += C[i++] << m, m += 8), _ = g[p & b];
      t:
        for (; ; ) {
          if (T = _ >>> 24, p >>>= T, m -= T, T = _ >>> 16 & 255, T === 0)
            w[a++] = _ & 65535;
          else if (T & 16) {
            E = _ & 65535, T &= 15, T && (m < T && (p += C[i++] << m, m += 8), E += p & (1 << T) - 1, p >>>= T, m -= T), m < 15 && (p += C[i++] << m, m += 8, p += C[i++] << m, m += 8), _ = v[p & y];
            r:
              for (; ; ) {
                if (T = _ >>> 24, p >>>= T, m -= T, T = _ >>> 16 & 255, T & 16) {
                  if (O = _ & 65535, T &= 15, m < T && (p += C[i++] << m, m += 8, m < T && (p += C[i++] << m, m += 8)), O += p & (1 << T) - 1, O > u) {
                    t.msg = "invalid distance too far back", n.mode = __;
                    break e;
                  }
                  if (p >>>= T, m -= T, T = a - s, O > T) {
                    if (T = O - T, T > f && n.sane) {
                      t.msg = "invalid distance too far back", n.mode = __;
                      break e;
                    }
                    if (S = 0, P = d, h === 0) {
                      if (S += c - T, T < E) {
                        E -= T;
                        do
                          w[a++] = d[S++];
                        while (--T);
                        S = a - O, P = w;
                      }
                    } else if (h < T) {
                      if (S += c + h - T, T -= h, T < E) {
                        E -= T;
                        do
                          w[a++] = d[S++];
                        while (--T);
                        if (S = 0, h < E) {
                          T = h, E -= T;
                          do
                            w[a++] = d[S++];
                          while (--T);
                          S = a - O, P = w;
                        }
                      }
                    } else if (S += h - T, T < E) {
                      E -= T;
                      do
                        w[a++] = d[S++];
                      while (--T);
                      S = a - O, P = w;
                    }
                    for (; E > 2; )
                      w[a++] = P[S++], w[a++] = P[S++], w[a++] = P[S++], E -= 3;
                    E && (w[a++] = P[S++], E > 1 && (w[a++] = P[S++]));
                  } else {
                    S = a - O;
                    do
                      w[a++] = w[S++], w[a++] = w[S++], w[a++] = w[S++], E -= 3;
                    while (E > 2);
                    E && (w[a++] = w[S++], E > 1 && (w[a++] = w[S++]));
                  }
                } else if ((T & 64) === 0) {
                  _ = v[(_ & 65535) + (p & (1 << T) - 1)];
                  continue r;
                } else {
                  t.msg = "invalid distance code", n.mode = __;
                  break e;
                }
                break;
              }
          } else if ((T & 64) === 0) {
            _ = g[(_ & 65535) + (p & (1 << T) - 1)];
            continue t;
          } else if (T & 32) {
            n.mode = HNe;
            break e;
          } else {
            t.msg = "invalid literal/length code", n.mode = __;
            break e;
          }
          break;
        }
    } while (i < o && a < l);
  E = m >> 3, i -= E, m -= E << 3, p &= (1 << m) - 1, t.next_in = i, t.next_out = a, t.avail_in = i < o ? 5 + (o - i) : 5 - (i - o), t.avail_out = a < l ? 257 + (l - a) : 257 - (a - l), n.hold = p, n.bits = m;
};
var R3 = qs;
var Rh = 15;
var N3 = 852;
var M3 = 592;
var L3 = 0;
var gO = 1;
var B3 = 2;
var jNe = [
  /* Length codes 257..285 base */
  3,
  4,
  5,
  6,
  7,
  8,
  9,
  10,
  11,
  13,
  15,
  17,
  19,
  23,
  27,
  31,
  35,
  43,
  51,
  59,
  67,
  83,
  99,
  115,
  131,
  163,
  195,
  227,
  258,
  0,
  0
];
var GNe = [
  /* Length codes 257..285 extra */
  16,
  16,
  16,
  16,
  16,
  16,
  16,
  16,
  17,
  17,
  17,
  17,
  18,
  18,
  18,
  18,
  19,
  19,
  19,
  19,
  20,
  20,
  20,
  20,
  21,
  21,
  21,
  21,
  16,
  72,
  78
];
var zNe = [
  /* Distance codes 0..29 base */
  1,
  2,
  3,
  4,
  5,
  7,
  9,
  13,
  17,
  25,
  33,
  49,
  65,
  97,
  129,
  193,
  257,
  385,
  513,
  769,
  1025,
  1537,
  2049,
  3073,
  4097,
  6145,
  8193,
  12289,
  16385,
  24577,
  0,
  0
];
var VNe = [
  /* Distance codes 0..29 extra */
  16,
  16,
  16,
  16,
  17,
  17,
  18,
  18,
  19,
  19,
  20,
  20,
  21,
  21,
  22,
  22,
  23,
  23,
  24,
  24,
  25,
  25,
  26,
  26,
  27,
  27,
  28,
  28,
  29,
  29,
  64,
  64
];
var XNe = function(t, r, n, i, o, a, s, l) {
  var u = l.bits, c = 0, f = 0, h = 0, d = 0, p = 0, m = 0, g = 0, v = 0, b = 0, y = 0, _, T, E, O, S, P = null, C = 0, w, N = new R3.Buf16(Rh + 1), L = new R3.Buf16(Rh + 1), A = null, R = 0, F, $, K;
  for (c = 0; c <= Rh; c++)
    N[c] = 0;
  for (f = 0; f < i; f++)
    N[r[n + f]]++;
  for (p = u, d = Rh; d >= 1 && N[d] === 0; d--)
    ;
  if (p > d && (p = d), d === 0)
    return o[a++] = 1 << 24 | 64 << 16 | 0, o[a++] = 1 << 24 | 64 << 16 | 0, l.bits = 1, 0;
  for (h = 1; h < d && N[h] === 0; h++)
    ;
  for (p < h && (p = h), v = 1, c = 1; c <= Rh; c++)
    if (v <<= 1, v -= N[c], v < 0)
      return -1;
  if (v > 0 && (t === L3 || d !== 1))
    return -1;
  for (L[1] = 0, c = 1; c < Rh; c++)
    L[c + 1] = L[c] + N[c];
  for (f = 0; f < i; f++)
    r[n + f] !== 0 && (s[L[r[n + f]]++] = f);
  if (t === L3 ? (P = A = s, w = 19) : t === gO ? (P = jNe, C -= 257, A = GNe, R -= 257, w = 256) : (P = zNe, A = VNe, w = -1), y = 0, f = 0, c = h, S = a, m = p, g = 0, E = -1, b = 1 << p, O = b - 1, t === gO && b > N3 || t === B3 && b > M3)
    return 1;
  for (; ; ) {
    F = c - g, s[f] < w ? ($ = 0, K = s[f]) : s[f] > w ? ($ = A[R + s[f]], K = P[C + s[f]]) : ($ = 96, K = 0), _ = 1 << c - g, T = 1 << m, h = T;
    do
      T -= _, o[S + (y >> g) + T] = F << 24 | $ << 16 | K | 0;
    while (T !== 0);
    for (_ = 1 << c - 1; y & _; )
      _ >>= 1;
    if (_ !== 0 ? (y &= _ - 1, y += _) : y = 0, f++, --N[c] === 0) {
      if (c === d)
        break;
      c = r[n + s[f]];
    }
    if (c > p && (y & O) !== E) {
      for (g === 0 && (g = p), S += h, m = c - g, v = 1 << m; m + g < d && (v -= N[m + g], !(v <= 0)); )
        m++, v <<= 1;
      if (b += 1 << m, t === gO && b > N3 || t === B3 && b > M3)
        return 1;
      E = y & O, o[E] = p << 24 | m << 16 | S - a | 0;
    }
  }
  return y !== 0 && (o[S + y] = c - g << 24 | 64 << 16 | 0), l.bits = p, 0;
};
var to = qs;
var wC = sY;
var da = lY;
var WNe = UNe;
var vg = XNe;
var YNe = 0;
var _Y = 1;
var bY = 2;
var F3 = 4;
var qNe = 5;
var b_ = 6;
var Ou = 0;
var KNe = 1;
var ZNe = 2;
var Po = -2;
var TY = -3;
var EY = -4;
var QNe = -5;
var $3 = 8;
var SY = 1;
var H3 = 2;
var U3 = 3;
var j3 = 4;
var G3 = 5;
var z3 = 6;
var V3 = 7;
var X3 = 8;
var W3 = 9;
var Y3 = 10;
var tT = 11;
var rs = 12;
var vO = 13;
var q3 = 14;
var yO = 15;
var K3 = 16;
var Z3 = 17;
var Q3 = 18;
var J3 = 19;
var T_ = 20;
var E_ = 21;
var eU = 22;
var tU = 23;
var rU = 24;
var nU = 25;
var iU = 26;
var _O = 27;
var oU = 28;
var aU = 29;
var Mr = 30;
var wY = 31;
var JNe = 32;
var eMe = 852;
var tMe = 592;
var rMe = 15;
var nMe = rMe;
function sU(e13) {
  return (e13 >>> 24 & 255) + (e13 >>> 8 & 65280) + ((e13 & 65280) << 8) + ((e13 & 255) << 24);
}
function iMe() {
  this.mode = 0, this.last = false, this.wrap = 0, this.havedict = false, this.flags = 0, this.dmax = 0, this.check = 0, this.total = 0, this.head = null, this.wbits = 0, this.wsize = 0, this.whave = 0, this.wnext = 0, this.window = null, this.hold = 0, this.bits = 0, this.length = 0, this.offset = 0, this.extra = 0, this.lencode = null, this.distcode = null, this.lenbits = 0, this.distbits = 0, this.ncode = 0, this.nlen = 0, this.ndist = 0, this.have = 0, this.next = null, this.lens = new to.Buf16(320), this.work = new to.Buf16(288), this.lendyn = null, this.distdyn = null, this.sane = 0, this.back = 0, this.was = 0;
}
function AY(e13) {
  var t;
  return !e13 || !e13.state ? Po : (t = e13.state, e13.total_in = e13.total_out = t.total = 0, e13.msg = "", t.wrap && (e13.adler = t.wrap & 1), t.mode = SY, t.last = 0, t.havedict = 0, t.dmax = 32768, t.head = null, t.hold = 0, t.bits = 0, t.lencode = t.lendyn = new to.Buf32(eMe), t.distcode = t.distdyn = new to.Buf32(tMe), t.sane = 1, t.back = -1, Ou);
}
function OY(e13) {
  var t;
  return !e13 || !e13.state ? Po : (t = e13.state, t.wsize = 0, t.whave = 0, t.wnext = 0, AY(e13));
}
function IY(e13, t) {
  var r, n;
  return !e13 || !e13.state || (n = e13.state, t < 0 ? (r = 0, t = -t) : (r = (t >> 4) + 1, t < 48 && (t &= 15)), t && (t < 8 || t > 15)) ? Po : (n.window !== null && n.wbits !== t && (n.window = null), n.wrap = r, n.wbits = t, OY(e13));
}
function PY(e13, t) {
  var r, n;
  return e13 ? (n = new iMe(), e13.state = n, n.window = null, r = IY(e13, t), r !== Ou && (e13.state = null), r) : Po;
}
function oMe(e13) {
  return PY(e13, nMe);
}
var lU = true;
var bO;
var TO;
function aMe(e13) {
  if (lU) {
    var t;
    for (bO = new to.Buf32(512), TO = new to.Buf32(32), t = 0; t < 144; )
      e13.lens[t++] = 8;
    for (; t < 256; )
      e13.lens[t++] = 9;
    for (; t < 280; )
      e13.lens[t++] = 7;
    for (; t < 288; )
      e13.lens[t++] = 8;
    for (vg(_Y, e13.lens, 0, 288, bO, 0, e13.work, {
      bits: 9
    }), t = 0; t < 32; )
      e13.lens[t++] = 5;
    vg(bY, e13.lens, 0, 32, TO, 0, e13.work, {
      bits: 5
    }), lU = false;
  }
  e13.lencode = bO, e13.lenbits = 9, e13.distcode = TO, e13.distbits = 5;
}
function CY(e13, t, r, n) {
  var i, o = e13.state;
  return o.window === null && (o.wsize = 1 << o.wbits, o.wnext = 0, o.whave = 0, o.window = new to.Buf8(o.wsize)), n >= o.wsize ? (to.arraySet(o.window, t, r - o.wsize, o.wsize, 0), o.wnext = 0, o.whave = o.wsize) : (i = o.wsize - o.wnext, i > n && (i = n), to.arraySet(o.window, t, r - n, i, o.wnext), n -= i, n ? (to.arraySet(o.window, t, r - n, n, 0), o.wnext = n, o.whave = o.wsize) : (o.wnext += i, o.wnext === o.wsize && (o.wnext = 0), o.whave < o.wsize && (o.whave += i))), 0;
}
function sMe(e13, t) {
  var r, n, i, o, a, s, l, u, c, f, h, d, p, m, g = 0, v, b, y, _, T, E, O, S, P = new to.Buf8(4), C, w, N = (
    /* permutation of code lengths */
    [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15]
  );
  if (!e13 || !e13.state || !e13.output || !e13.input && e13.avail_in !== 0)
    return Po;
  r = e13.state, r.mode === rs && (r.mode = vO), a = e13.next_out, i = e13.output, l = e13.avail_out, o = e13.next_in, n = e13.input, s = e13.avail_in, u = r.hold, c = r.bits, f = s, h = l, S = Ou;
  e:
    for (; ; )
      switch (r.mode) {
        case SY:
          if (r.wrap === 0) {
            r.mode = vO;
            break;
          }
          for (; c < 16; ) {
            if (s === 0)
              break e;
            s--, u += n[o++] << c, c += 8;
          }
          if (r.wrap & 2 && u === 35615) {
            r.check = 0, P[0] = u & 255, P[1] = u >>> 8 & 255, r.check = da(r.check, P, 2, 0), u = 0, c = 0, r.mode = H3;
            break;
          }
          if (r.flags = 0, r.head && (r.head.done = false), !(r.wrap & 1) || /* check if zlib header allowed */
          (((u & 255) << 8) + (u >> 8)) % 31) {
            e13.msg = "incorrect header check", r.mode = Mr;
            break;
          }
          if ((u & 15) !== $3) {
            e13.msg = "unknown compression method", r.mode = Mr;
            break;
          }
          if (u >>>= 4, c -= 4, O = (u & 15) + 8, r.wbits === 0)
            r.wbits = O;
          else if (O > r.wbits) {
            e13.msg = "invalid window size", r.mode = Mr;
            break;
          }
          r.dmax = 1 << O, e13.adler = r.check = 1, r.mode = u & 512 ? Y3 : rs, u = 0, c = 0;
          break;
        case H3:
          for (; c < 16; ) {
            if (s === 0)
              break e;
            s--, u += n[o++] << c, c += 8;
          }
          if (r.flags = u, (r.flags & 255) !== $3) {
            e13.msg = "unknown compression method", r.mode = Mr;
            break;
          }
          if (r.flags & 57344) {
            e13.msg = "unknown header flags set", r.mode = Mr;
            break;
          }
          r.head && (r.head.text = u >> 8 & 1), r.flags & 512 && (P[0] = u & 255, P[1] = u >>> 8 & 255, r.check = da(r.check, P, 2, 0)), u = 0, c = 0, r.mode = U3;
        case U3:
          for (; c < 32; ) {
            if (s === 0)
              break e;
            s--, u += n[o++] << c, c += 8;
          }
          r.head && (r.head.time = u), r.flags & 512 && (P[0] = u & 255, P[1] = u >>> 8 & 255, P[2] = u >>> 16 & 255, P[3] = u >>> 24 & 255, r.check = da(r.check, P, 4, 0)), u = 0, c = 0, r.mode = j3;
        case j3:
          for (; c < 16; ) {
            if (s === 0)
              break e;
            s--, u += n[o++] << c, c += 8;
          }
          r.head && (r.head.xflags = u & 255, r.head.os = u >> 8), r.flags & 512 && (P[0] = u & 255, P[1] = u >>> 8 & 255, r.check = da(r.check, P, 2, 0)), u = 0, c = 0, r.mode = G3;
        case G3:
          if (r.flags & 1024) {
            for (; c < 16; ) {
              if (s === 0)
                break e;
              s--, u += n[o++] << c, c += 8;
            }
            r.length = u, r.head && (r.head.extra_len = u), r.flags & 512 && (P[0] = u & 255, P[1] = u >>> 8 & 255, r.check = da(r.check, P, 2, 0)), u = 0, c = 0;
          } else r.head && (r.head.extra = null);
          r.mode = z3;
        case z3:
          if (r.flags & 1024 && (d = r.length, d > s && (d = s), d && (r.head && (O = r.head.extra_len - r.length, r.head.extra || (r.head.extra = new Array(r.head.extra_len)), to.arraySet(
            r.head.extra,
            n,
            o,
            // extra field is limited to 65536 bytes
            // - no need for additional size check
            d,
            /*len + copy > state.head.extra_max - len ? state.head.extra_max : copy,*/
            O
          )), r.flags & 512 && (r.check = da(r.check, n, d, o)), s -= d, o += d, r.length -= d), r.length))
            break e;
          r.length = 0, r.mode = V3;
        case V3:
          if (r.flags & 2048) {
            if (s === 0)
              break e;
            d = 0;
            do
              O = n[o + d++], r.head && O && r.length < 65536 && (r.head.name += String.fromCharCode(O));
            while (O && d < s);
            if (r.flags & 512 && (r.check = da(r.check, n, d, o)), s -= d, o += d, O)
              break e;
          } else r.head && (r.head.name = null);
          r.length = 0, r.mode = X3;
        case X3:
          if (r.flags & 4096) {
            if (s === 0)
              break e;
            d = 0;
            do
              O = n[o + d++], r.head && O && r.length < 65536 && (r.head.comment += String.fromCharCode(O));
            while (O && d < s);
            if (r.flags & 512 && (r.check = da(r.check, n, d, o)), s -= d, o += d, O)
              break e;
          } else r.head && (r.head.comment = null);
          r.mode = W3;
        case W3:
          if (r.flags & 512) {
            for (; c < 16; ) {
              if (s === 0)
                break e;
              s--, u += n[o++] << c, c += 8;
            }
            if (u !== (r.check & 65535)) {
              e13.msg = "header crc mismatch", r.mode = Mr;
              break;
            }
            u = 0, c = 0;
          }
          r.head && (r.head.hcrc = r.flags >> 9 & 1, r.head.done = true), e13.adler = r.check = 0, r.mode = rs;
          break;
        case Y3:
          for (; c < 32; ) {
            if (s === 0)
              break e;
            s--, u += n[o++] << c, c += 8;
          }
          e13.adler = r.check = sU(u), u = 0, c = 0, r.mode = tT;
        case tT:
          if (r.havedict === 0)
            return e13.next_out = a, e13.avail_out = l, e13.next_in = o, e13.avail_in = s, r.hold = u, r.bits = c, ZNe;
          e13.adler = r.check = 1, r.mode = rs;
        case rs:
          if (t === qNe || t === b_)
            break e;
        case vO:
          if (r.last) {
            u >>>= c & 7, c -= c & 7, r.mode = _O;
            break;
          }
          for (; c < 3; ) {
            if (s === 0)
              break e;
            s--, u += n[o++] << c, c += 8;
          }
          switch (r.last = u & 1, u >>>= 1, c -= 1, u & 3) {
            case 0:
              r.mode = q3;
              break;
            case 1:
              if (aMe(r), r.mode = T_, t === b_) {
                u >>>= 2, c -= 2;
                break e;
              }
              break;
            case 2:
              r.mode = Z3;
              break;
            case 3:
              e13.msg = "invalid block type", r.mode = Mr;
          }
          u >>>= 2, c -= 2;
          break;
        case q3:
          for (u >>>= c & 7, c -= c & 7; c < 32; ) {
            if (s === 0)
              break e;
            s--, u += n[o++] << c, c += 8;
          }
          if ((u & 65535) !== (u >>> 16 ^ 65535)) {
            e13.msg = "invalid stored block lengths", r.mode = Mr;
            break;
          }
          if (r.length = u & 65535, u = 0, c = 0, r.mode = yO, t === b_)
            break e;
        case yO:
          r.mode = K3;
        case K3:
          if (d = r.length, d) {
            if (d > s && (d = s), d > l && (d = l), d === 0)
              break e;
            to.arraySet(i, n, o, d, a), s -= d, o += d, l -= d, a += d, r.length -= d;
            break;
          }
          r.mode = rs;
          break;
        case Z3:
          for (; c < 14; ) {
            if (s === 0)
              break e;
            s--, u += n[o++] << c, c += 8;
          }
          if (r.nlen = (u & 31) + 257, u >>>= 5, c -= 5, r.ndist = (u & 31) + 1, u >>>= 5, c -= 5, r.ncode = (u & 15) + 4, u >>>= 4, c -= 4, r.nlen > 286 || r.ndist > 30) {
            e13.msg = "too many length or distance symbols", r.mode = Mr;
            break;
          }
          r.have = 0, r.mode = Q3;
        case Q3:
          for (; r.have < r.ncode; ) {
            for (; c < 3; ) {
              if (s === 0)
                break e;
              s--, u += n[o++] << c, c += 8;
            }
            r.lens[N[r.have++]] = u & 7, u >>>= 3, c -= 3;
          }
          for (; r.have < 19; )
            r.lens[N[r.have++]] = 0;
          if (r.lencode = r.lendyn, r.lenbits = 7, C = {
            bits: r.lenbits
          }, S = vg(YNe, r.lens, 0, 19, r.lencode, 0, r.work, C), r.lenbits = C.bits, S) {
            e13.msg = "invalid code lengths set", r.mode = Mr;
            break;
          }
          r.have = 0, r.mode = J3;
        case J3:
          for (; r.have < r.nlen + r.ndist; ) {
            for (; g = r.lencode[u & (1 << r.lenbits) - 1], v = g >>> 24, b = g >>> 16 & 255, y = g & 65535, !(v <= c); ) {
              if (s === 0)
                break e;
              s--, u += n[o++] << c, c += 8;
            }
            if (y < 16)
              u >>>= v, c -= v, r.lens[r.have++] = y;
            else {
              if (y === 16) {
                for (w = v + 2; c < w; ) {
                  if (s === 0)
                    break e;
                  s--, u += n[o++] << c, c += 8;
                }
                if (u >>>= v, c -= v, r.have === 0) {
                  e13.msg = "invalid bit length repeat", r.mode = Mr;
                  break;
                }
                O = r.lens[r.have - 1], d = 3 + (u & 3), u >>>= 2, c -= 2;
              } else if (y === 17) {
                for (w = v + 3; c < w; ) {
                  if (s === 0)
                    break e;
                  s--, u += n[o++] << c, c += 8;
                }
                u >>>= v, c -= v, O = 0, d = 3 + (u & 7), u >>>= 3, c -= 3;
              } else {
                for (w = v + 7; c < w; ) {
                  if (s === 0)
                    break e;
                  s--, u += n[o++] << c, c += 8;
                }
                u >>>= v, c -= v, O = 0, d = 11 + (u & 127), u >>>= 7, c -= 7;
              }
              if (r.have + d > r.nlen + r.ndist) {
                e13.msg = "invalid bit length repeat", r.mode = Mr;
                break;
              }
              for (; d--; )
                r.lens[r.have++] = O;
            }
          }
          if (r.mode === Mr)
            break;
          if (r.lens[256] === 0) {
            e13.msg = "invalid code -- missing end-of-block", r.mode = Mr;
            break;
          }
          if (r.lenbits = 9, C = {
            bits: r.lenbits
          }, S = vg(_Y, r.lens, 0, r.nlen, r.lencode, 0, r.work, C), r.lenbits = C.bits, S) {
            e13.msg = "invalid literal/lengths set", r.mode = Mr;
            break;
          }
          if (r.distbits = 6, r.distcode = r.distdyn, C = {
            bits: r.distbits
          }, S = vg(bY, r.lens, r.nlen, r.ndist, r.distcode, 0, r.work, C), r.distbits = C.bits, S) {
            e13.msg = "invalid distances set", r.mode = Mr;
            break;
          }
          if (r.mode = T_, t === b_)
            break e;
        case T_:
          r.mode = E_;
        case E_:
          if (s >= 6 && l >= 258) {
            e13.next_out = a, e13.avail_out = l, e13.next_in = o, e13.avail_in = s, r.hold = u, r.bits = c, WNe(e13, h), a = e13.next_out, i = e13.output, l = e13.avail_out, o = e13.next_in, n = e13.input, s = e13.avail_in, u = r.hold, c = r.bits, r.mode === rs && (r.back = -1);
            break;
          }
          for (r.back = 0; g = r.lencode[u & (1 << r.lenbits) - 1], v = g >>> 24, b = g >>> 16 & 255, y = g & 65535, !(v <= c); ) {
            if (s === 0)
              break e;
            s--, u += n[o++] << c, c += 8;
          }
          if (b && (b & 240) === 0) {
            for (_ = v, T = b, E = y; g = r.lencode[E + ((u & (1 << _ + T) - 1) >> _)], v = g >>> 24, b = g >>> 16 & 255, y = g & 65535, !(_ + v <= c); ) {
              if (s === 0)
                break e;
              s--, u += n[o++] << c, c += 8;
            }
            u >>>= _, c -= _, r.back += _;
          }
          if (u >>>= v, c -= v, r.back += v, r.length = y, b === 0) {
            r.mode = iU;
            break;
          }
          if (b & 32) {
            r.back = -1, r.mode = rs;
            break;
          }
          if (b & 64) {
            e13.msg = "invalid literal/length code", r.mode = Mr;
            break;
          }
          r.extra = b & 15, r.mode = eU;
        case eU:
          if (r.extra) {
            for (w = r.extra; c < w; ) {
              if (s === 0)
                break e;
              s--, u += n[o++] << c, c += 8;
            }
            r.length += u & (1 << r.extra) - 1, u >>>= r.extra, c -= r.extra, r.back += r.extra;
          }
          r.was = r.length, r.mode = tU;
        case tU:
          for (; g = r.distcode[u & (1 << r.distbits) - 1], v = g >>> 24, b = g >>> 16 & 255, y = g & 65535, !(v <= c); ) {
            if (s === 0)
              break e;
            s--, u += n[o++] << c, c += 8;
          }
          if ((b & 240) === 0) {
            for (_ = v, T = b, E = y; g = r.distcode[E + ((u & (1 << _ + T) - 1) >> _)], v = g >>> 24, b = g >>> 16 & 255, y = g & 65535, !(_ + v <= c); ) {
              if (s === 0)
                break e;
              s--, u += n[o++] << c, c += 8;
            }
            u >>>= _, c -= _, r.back += _;
          }
          if (u >>>= v, c -= v, r.back += v, b & 64) {
            e13.msg = "invalid distance code", r.mode = Mr;
            break;
          }
          r.offset = y, r.extra = b & 15, r.mode = rU;
        case rU:
          if (r.extra) {
            for (w = r.extra; c < w; ) {
              if (s === 0)
                break e;
              s--, u += n[o++] << c, c += 8;
            }
            r.offset += u & (1 << r.extra) - 1, u >>>= r.extra, c -= r.extra, r.back += r.extra;
          }
          if (r.offset > r.dmax) {
            e13.msg = "invalid distance too far back", r.mode = Mr;
            break;
          }
          r.mode = nU;
        case nU:
          if (l === 0)
            break e;
          if (d = h - l, r.offset > d) {
            if (d = r.offset - d, d > r.whave && r.sane) {
              e13.msg = "invalid distance too far back", r.mode = Mr;
              break;
            }
            d > r.wnext ? (d -= r.wnext, p = r.wsize - d) : p = r.wnext - d, d > r.length && (d = r.length), m = r.window;
          } else
            m = i, p = a - r.offset, d = r.length;
          d > l && (d = l), l -= d, r.length -= d;
          do
            i[a++] = m[p++];
          while (--d);
          r.length === 0 && (r.mode = E_);
          break;
        case iU:
          if (l === 0)
            break e;
          i[a++] = r.length, l--, r.mode = E_;
          break;
        case _O:
          if (r.wrap) {
            for (; c < 32; ) {
              if (s === 0)
                break e;
              s--, u |= n[o++] << c, c += 8;
            }
            if (h -= l, e13.total_out += h, r.total += h, h && (e13.adler = r.check = /*UPDATE(state.check, put - _out, _out);*/
            r.flags ? da(r.check, i, h, a - h) : wC(r.check, i, h, a - h)), h = l, (r.flags ? u : sU(u)) !== r.check) {
              e13.msg = "incorrect data check", r.mode = Mr;
              break;
            }
            u = 0, c = 0;
          }
          r.mode = oU;
        case oU:
          if (r.wrap && r.flags) {
            for (; c < 32; ) {
              if (s === 0)
                break e;
              s--, u += n[o++] << c, c += 8;
            }
            if (u !== (r.total & 4294967295)) {
              e13.msg = "incorrect length check", r.mode = Mr;
              break;
            }
            u = 0, c = 0;
          }
          r.mode = aU;
        case aU:
          S = KNe;
          break e;
        case Mr:
          S = TY;
          break e;
        case wY:
          return EY;
        case JNe:
        default:
          return Po;
      }
  return e13.next_out = a, e13.avail_out = l, e13.next_in = o, e13.avail_in = s, r.hold = u, r.bits = c, (r.wsize || h !== e13.avail_out && r.mode < Mr && (r.mode < _O || t !== F3)) && CY(e13, e13.output, e13.next_out, h - e13.avail_out), f -= e13.avail_in, h -= e13.avail_out, e13.total_in += f, e13.total_out += h, r.total += h, r.wrap && h && (e13.adler = r.check = /*UPDATE(state.check, strm.next_out - _out, _out);*/
  r.flags ? da(r.check, i, h, e13.next_out - h) : wC(r.check, i, h, e13.next_out - h)), e13.data_type = r.bits + (r.last ? 64 : 0) + (r.mode === rs ? 128 : 0) + (r.mode === T_ || r.mode === yO ? 256 : 0), (f === 0 && h === 0 || t === F3) && S === Ou && (S = QNe), S;
}
function lMe(e13) {
  if (!e13 || !e13.state)
    return Po;
  var t = e13.state;
  return t.window && (t.window = null), e13.state = null, Ou;
}
function cMe(e13, t) {
  var r;
  return !e13 || !e13.state || (r = e13.state, (r.wrap & 2) === 0) ? Po : (r.head = t, t.done = false, Ou);
}
function uMe(e13, t) {
  var r = t.length, n, i, o;
  return !e13 || !e13.state || (n = e13.state, n.wrap !== 0 && n.mode !== tT) ? Po : n.mode === tT && (i = 1, i = wC(i, t, r, 0), i !== n.check) ? TY : (o = CY(e13, t, r, r), o ? (n.mode = wY, EY) : (n.havedict = 1, Ou));
}
la.inflateReset = OY;
la.inflateReset2 = IY;
la.inflateResetKeep = AY;
la.inflateInit = oMe;
la.inflateInit2 = PY;
la.inflate = sMe;
la.inflateEnd = lMe;
la.inflateGetHeader = cMe;
la.inflateSetDictionary = uMe;
la.inflateInfo = "pako inflate (from Nodeca project)";
var xY = {
  /* Allowed flush values; see deflate() and inflate() below for details */
  Z_NO_FLUSH: 0,
  Z_PARTIAL_FLUSH: 1,
  Z_SYNC_FLUSH: 2,
  Z_FULL_FLUSH: 3,
  Z_FINISH: 4,
  Z_BLOCK: 5,
  Z_TREES: 6,
  /* Return codes for the compression/decompression functions. Negative values
  * are errors, positive values are used for special but normal events.
  */
  Z_OK: 0,
  Z_STREAM_END: 1,
  Z_NEED_DICT: 2,
  Z_ERRNO: -1,
  Z_STREAM_ERROR: -2,
  Z_DATA_ERROR: -3,
  //Z_MEM_ERROR:     -4,
  Z_BUF_ERROR: -5,
  //Z_VERSION_ERROR: -6,
  /* compression levels */
  Z_NO_COMPRESSION: 0,
  Z_BEST_SPEED: 1,
  Z_BEST_COMPRESSION: 9,
  Z_DEFAULT_COMPRESSION: -1,
  Z_FILTERED: 1,
  Z_HUFFMAN_ONLY: 2,
  Z_RLE: 3,
  Z_FIXED: 4,
  Z_DEFAULT_STRATEGY: 0,
  /* Possible values of the data_type field (though see inflate()) */
  Z_BINARY: 0,
  Z_TEXT: 1,
  //Z_ASCII:                1, // = Z_TEXT (deprecated)
  Z_UNKNOWN: 2,
  /* The deflate compression method */
  Z_DEFLATED: 8
  //Z_NULL:                 null // Use -1 or null inline, depending on var type
};
function hMe() {
  this.text = 0, this.time = 0, this.xflags = 0, this.os = 0, this.extra = null, this.extra_len = 0, this.name = "", this.comment = "", this.hcrc = 0, this.done = false;
}
var fMe = hMe;
var Mf = la;
var yg = qs;
var yb = ah;
var Zr = xY;
var AC = lM;
var dMe = vY;
var pMe = fMe;
var kY = Object.prototype.toString;
function Iu(e13) {
  if (!(this instanceof Iu))
    return new Iu(e13);
  this.options = yg.assign({
    chunkSize: 16384,
    windowBits: 0,
    to: ""
  }, e13 || {});
  var t = this.options;
  t.raw && t.windowBits >= 0 && t.windowBits < 16 && (t.windowBits = -t.windowBits, t.windowBits === 0 && (t.windowBits = -15)), t.windowBits >= 0 && t.windowBits < 16 && !(e13 && e13.windowBits) && (t.windowBits += 32), t.windowBits > 15 && t.windowBits < 48 && (t.windowBits & 15) === 0 && (t.windowBits |= 15), this.err = 0, this.msg = "", this.ended = false, this.chunks = [], this.strm = new dMe(), this.strm.avail_out = 0;
  var r = Mf.inflateInit2(this.strm, t.windowBits);
  if (r !== Zr.Z_OK)
    throw new Error(AC[r]);
  if (this.header = new pMe(), Mf.inflateGetHeader(this.strm, this.header), t.dictionary && (typeof t.dictionary == "string" ? t.dictionary = yb.string2buf(t.dictionary) : kY.call(t.dictionary) === "[object ArrayBuffer]" && (t.dictionary = new Uint8Array(t.dictionary)), t.raw && (r = Mf.inflateSetDictionary(this.strm, t.dictionary), r !== Zr.Z_OK)))
    throw new Error(AC[r]);
}
Iu.prototype.push = function(e13, t) {
  var r = this.strm, n = this.options.chunkSize, i = this.options.dictionary, o, a, s, l, u, c = false;
  if (this.ended)
    return false;
  a = t === ~~t ? t : t === true ? Zr.Z_FINISH : Zr.Z_NO_FLUSH, typeof e13 == "string" ? r.input = yb.binstring2buf(e13) : kY.call(e13) === "[object ArrayBuffer]" ? r.input = new Uint8Array(e13) : r.input = e13, r.next_in = 0, r.avail_in = r.input.length;
  do {
    if (r.avail_out === 0 && (r.output = new yg.Buf8(n), r.next_out = 0, r.avail_out = n), o = Mf.inflate(r, Zr.Z_NO_FLUSH), o === Zr.Z_NEED_DICT && i && (o = Mf.inflateSetDictionary(this.strm, i)), o === Zr.Z_BUF_ERROR && c === true && (o = Zr.Z_OK, c = false), o !== Zr.Z_STREAM_END && o !== Zr.Z_OK)
      return this.onEnd(o), this.ended = true, false;
    r.next_out && (r.avail_out === 0 || o === Zr.Z_STREAM_END || r.avail_in === 0 && (a === Zr.Z_FINISH || a === Zr.Z_SYNC_FLUSH)) && (this.options.to === "string" ? (s = yb.utf8border(r.output, r.next_out), l = r.next_out - s, u = yb.buf2string(r.output, s), r.next_out = l, r.avail_out = n - l, l && yg.arraySet(r.output, r.output, s, l, 0), this.onData(u)) : this.onData(yg.shrinkBuf(r.output, r.next_out))), r.avail_in === 0 && r.avail_out === 0 && (c = true);
  } while ((r.avail_in > 0 || r.avail_out === 0) && o !== Zr.Z_STREAM_END);
  return o === Zr.Z_STREAM_END && (a = Zr.Z_FINISH), a === Zr.Z_FINISH ? (o = Mf.inflateEnd(this.strm), this.onEnd(o), this.ended = true, o === Zr.Z_OK) : (a === Zr.Z_SYNC_FLUSH && (this.onEnd(Zr.Z_OK), r.avail_out = 0), true);
};
Iu.prototype.onData = function(e13) {
  this.chunks.push(e13);
};
Iu.prototype.onEnd = function(e13) {
  e13 === Zr.Z_OK && (this.options.to === "string" ? this.result = this.chunks.join("") : this.result = yg.flattenChunks(this.chunks)), this.chunks = [], this.err = e13, this.msg = this.strm.msg;
};
function uM(e13, t) {
  var r = new Iu(t);
  if (r.push(e13, true), r.err)
    throw r.msg || AC[r.err];
  return r.result;
}
function mMe(e13, t) {
  return t = t || {}, t.raw = true, uM(e13, t);
}
ly.Inflate = Iu;
ly.inflate = uM;
ly.inflateRaw = mMe;
ly.ungzip = uM;
var gMe = qs.assign;
var vMe = oy;
var yMe = ly;
var _Me = xY;
var DY = {};
gMe(DY, vMe, yMe, _Me);
var bMe = DY;
var TMe = $i(bMe);
var EMe = ["JAN", "FEB", "MAR", "APR", "MAY", "JUN", "JUL", "AUG", "SEP", "OCT", "NOV", "DEC"];
var SMe = EMe;
function wMe(e13) {
  if (typeof e13 != "string")
    throw new TypeError("input must be a string");
  let t = [], r, n, i = {
    // Contains in order: locus name, sequence length, molecule type (e.g. DNA), genbank division (see 1-18 below), modification date
    // locus definition has changed with time, use accession number for a unique identifier
    LOCUS_TAG: "LOCUS",
    DEFINITION_TAG: "DEFINITION",
    // Accession tag
    // Example: Z78533
    ACCESSION_TAG: "ACCESSION",
    // The version tag contains 2 informations
    // The accession number with a revision
    // The GI (GenInfo Identifier), a ncbi sequential number
    // Example: Z78533.1  GI:2765658
    // Unicity garanteed with respect to sequence. If 1 nucleotide changes, the version is different.
    VERSION_TAG: "VERSION",
    KEYWORDS_TAG: "KEYWORDS",
    // SEGMENT_TAG:"SEGMENT"
    // Source is free text
    SOURCE_TAG: "SOURCE",
    ORGANISM_TAG: "ORGANISM",
    REFERENCE_TAG: "REFERENCE",
    FEATURES_TAG: "FEATURES",
    // CONTIG_TAG: "CONTIG"
    ORIGIN_TAG: "ORIGIN",
    END_SEQUENCE_TAG: "//"
  }, o = e13.split(/\r?\n/), a, s, l, u, c, f = false;
  for (let A of o) {
    if (A === null)
      break;
    let R = S(A), F = C(A), $ = N(A), K = w(A);
    if (R === i.END_SEQUENCE_TAG || K ? (a = R, s = null) : $ && (s = R), !(A.trim() === "" || R === ";")) {
      if (!f && a !== i.LOCUS_TAG)
        break;
      switch (a) {
        case i.LOCUS_TAG:
          f = true, g(A);
          break;
        case i.FEATURES_TAG:
          y(A, R, F);
          break;
        case i.ORIGIN_TAG:
          m(A, R);
          break;
        case i.DEFINITION_TAG:
        case i.ACCESSION_TAG:
        case i.VERSION_TAG:
        case i.KEYWORDS_TAG:
          P(a, A, a.toLowerCase());
          break;
        case i.SOURCE_TAG:
          s === i.ORGANISM_TAG ? P(s, A, "organism") : P(R, A, "source");
          break;
        case i.REFERENCE_TAG:
          if (R === i.REFERENCE_TAG) {
            const ie = r.references || [];
            r.references = ie, ie.push({});
          }
          b(A, s);
          break;
        case i.END_SEQUENCE_TAG:
          h();
          break;
      }
    }
  }
  return t[t.length - 1] !== r && h(), t;
  function h() {
    p(), t.push(r);
  }
  function d() {
    return r.features[r.features.length - 1];
  }
  function p() {
    if (r && r.features)
      for (let A = 0; A < r.features.length; A++)
        r.features[A] = L(r.features[A]);
  }
  function m(A, R) {
    if (R !== i.ORIGIN_TAG) {
      let F = A.replace(/[\s]*[0-9]*/g, "");
      r.sequence += F;
    }
  }
  function g(A) {
    r = {
      features: [],
      name: "Untitled sequence",
      sequence: "",
      references: []
    }, A = v(i.LOCUS_TAG, A);
    const R = A.match(/^([^\s]+)\s+(\d+)\s+bp\s+([^\s]+)\s+([^\s]+)\s+([^\s]+)\s*([^\s]+)?$/);
    let F = R[1], $ = +R[2], K = R[3], ie = R[4] === "circular";
    const J = r;
    let pe = "";
    R[6] ? (J.genbankDivision = R[5], pe = R[6]) : pe = R[5], J.circular = ie, J.moleculeType = K;
    const oe = pe.match(/^(\d{2})-(.{3})-(\d{4})$/), q = /* @__PURE__ */ new Date();
    q.setFullYear(+oe[3]), q.setUTCMonth(SMe.indexOf(oe[2].toUpperCase())), q.setDate(+oe[1]), q.setUTCHours(12), q.setMinutes(0), q.setSeconds(0), q.setMilliseconds(0), J.date = q.toISOString(), J.name = F, J.size = $;
  }
  function v(A, R) {
    return R = R.replace(/^\s*/, ""), R.indexOf(A) === 0 && (R = R.replace(A, "")), R.trim();
  }
  function b(A, R) {
    const F = r.references;
    let $ = F[F.length - 1];
    R ? P(R, A, R.toLowerCase(), $) : P(i.REFERENCE_TAG, A, "description", $);
  }
  function y(A, R, F) {
    let $;
    if (R === i.FEATURES_TAG) {
      u = true;
      return;
    }
    if (u && (l = RY(A), u = false), AMe(A, l))
      c ? (E(A.trim()), c = true) : (n && (n[n.length - 1] += A.trim().replace(/"/g, "")), c = false);
    else if (T(A))
      d() && (O(A), c = false);
    else {
      F.match(/complement/g) ? $ = -1 : $ = 1, _();
      let K = d();
      K.type = R, K.strand = $, E(F), c = true;
    }
  }
  function _() {
    r.features.push({
      notes: {}
    });
  }
  function T(A) {
    let R = false;
    return (A.trim().charAt(0).match(/\//) || A.match(/^[\s]*\/[\w]+=[\S]+/)) && (R = true), R;
  }
  function E(A) {
    A = A.trim();
    let R = [];
    A.replace(/(\d+)/g, function($, K) {
      R.push(K);
    });
    let F = d();
    F.start = +R[0], F.end = R[1] === void 0 ? +R[0] : +R[1];
  }
  function O(A) {
    let R, F;
    R = A.trim(), R = R.replace(/^\/|"$/g, ""), F = R.split(/="|=/);
    let $ = F[1];
    $ && ($ = $.replace(/\\/g, " "), A.match(/="/g) ? $ = $.replace(/".*/g, "") : $.match(/^\d+$/g) && ($ = +$));
    let K = F[0], ie = d().notes;
    ie[K] ? ie[K].push($) : ie[K] = [$], n = ie[K];
  }
  function S(A) {
    let R;
    return A = A.trim(), R = A.split(/[\s]+/), R[0];
  }
  function P(A, R, F, $) {
    $ = $ || r;
    let K = v(A, R);
    $[F] = $[F] ? `${$[F]} ` : "", $[F] += K;
  }
  function C(A) {
    let R;
    return A.indexOf("=") < 0 ? (A = A.replace(/^[\s]*[\S]+[\s]+|[\s]+$/, ""), A = A.trim(), A) : (R = A.split(/=/), R[1]);
  }
  function w(A) {
    let R = false;
    return A.substr(0, 10).match(/^[\S]+/) && (R = true), R;
  }
  function N(A) {
    let R = false;
    return A.substr(0, 10).match(/^[\s]+[\S]+/) && (R = true), R;
  }
  function L(A) {
    return A.notes.label ? A.name = A.notes.label[0] : A.notes.gene ? A.name = A.notes.gene[0] : A.notes.ApEinfo_label ? A.name = A.notes.ApEinfo_label[0] : A.notes.name ? A.name = A.notes.name[0] : A.notes.organism ? A.name = A.notes.organism[0] : A.notes.locus_tag ? A.name = A.notes.locus_tag[0] : A.notes.note ? A.name = A.notes.note[0] : A.name = "Untitled Feature", A.name = typeof A.name == "string" ? A.name : String(A.name), A;
  }
}
function AMe(e13, t) {
  let r = RY(e13);
  return !(t === r || e13.trim().charAt(0).match(/\//));
}
function RY(e13) {
  let t = /^\s*/.exec(e13);
  return t !== null ? t[0].length : 0;
}
var OMe = wMe;
var IMe = $i(OMe);
function PMe(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function CMe(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, kMe(n.key), n);
  }
}
function xMe(e13, t, r) {
  return t && CMe(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function kMe(e13) {
  var t = DMe(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function DMe(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
function cU(e13, t, r) {
  const n = [];
  if (!e13.length)
    return [];
  let o = e13[0].start, a = e13[0].end;
  for (let s = 1; s < e13.length; s++)
    e13[s].start < a + 5 * 1 / t ? a = Math.max(a, e13[s].end) : (n.push({
      type: "filler",
      start: o,
      end: a,
      strand: r
    }), o = e13[s].start, a = e13[s].end);
  return n.push({
    start: o,
    end: a,
    type: "filler",
    strand: r
  }), n;
}
function RMe(e13) {
  for (let t = e13.length - 1; t > 0; t--) {
    const r = Math.floor(Math.random() * (t + 1)), n = e13[t];
    e13[t] = e13[r], e13[r] = n;
  }
  return e13;
}
function NMe(e13) {
  return e13.type === "filler";
}
function MMe(e13) {
  const t = e13.end - e13.start, r = e13.strand === 1 ? "+" : "-", n = Gt.nice();
  return NMe(e13) ? {
    xStart: e13.start,
    xEnd: e13.end,
    strand: e13.strand,
    fields: [],
    type: "filler",
    uid: n
  } : {
    xStart: e13.start,
    xEnd: e13.end,
    strand: r,
    chrOffset: 0,
    importance: e13.end - e13.start,
    uid: n,
    type: e13.type,
    fields: ["chrom", e13.start, e13.end, e13.name, t, r, "", "", e13.type, e13.name, e13.start.toString(), e13.end.toString(), e13.start.toString(), e13.end.toString()]
  };
}
function LMe(e13) {
  const t = IMe(e13), r = RMe(t[0].features.filter((n) => n.type !== "source").sort((n, i) => n.start - i.start));
  return {
    json: t,
    features: r
  };
}
async function BMe(e13, {
  gzipped: t
}) {
  if (!t)
    return e13.text();
  const r = await e13.arrayBuffer();
  return TMe.inflate(r, {
    to: "string"
  });
}
var NY = function() {
  function e13(t) {
    PMe(this, e13), this.dataConfig = t, this.trackUid = Gt.nice(), this.errorTxt = "";
    let r;
    if (t.url) {
      const n = t.url.slice(t.url.length - 3);
      r = fetch(t.url, {
        mode: "cors",
        redirect: "follow",
        method: "GET"
      }).then((i) => BMe(i, {
        gzipped: n === ".gz"
      }));
    } else if (t.text)
      r = Promise.resolve(t.text);
    else
      throw new Error("No data or URL specified");
    this.gbDataPromise = r.then((n) => LMe(n));
  }
  return xMe(e13, [{
    key: "tilesetInfo",
    value: function(r) {
      return this.tilesetInfoLoading = true, this.gbDataPromise.then((n) => {
        this.tilesetInfoLoading = false;
        const i = 1024, o = {
          name: `genbank-${this.trackUid}`,
          tile_size: i,
          max_zoom: Math.ceil(Math.log(n.json[0].size / i) / Math.log(2)),
          max_width: n.json[0].size,
          min_pos: [0],
          max_pos: [n.json[0].size]
        };
        return r && r(o), o;
      }).catch((n) => {
        this.tilesetInfoLoading = false, r && r({
          error: `Error parsing genbank: ${n}`
        });
      });
    }
    /**
     * @param {(tiles: Record<string, GenbankTile>) => void} receivedTiles
     * @param {string[]} tileIds
     * @returns {Promise<Record<string, GenbankTile>>}
     */
  }, {
    key: "fetchTilesDebounced",
    value: async function(r, n) {
      const i = {}, o = [], a = [];
      for (const l of n) {
        const u = l.split("."), c = parseInt(u[0], 10), f = parseInt(u[1], 10);
        if (Number.isNaN(f) || Number.isNaN(c)) {
          console.warn("Invalid tile zoom or position:", c, f);
          continue;
        }
        o.push(l), a.push(this.tile(c, f));
      }
      const s = await Promise.all(a);
      for (let l = 0; l < s.length; l++) {
        const u = o[l];
        i[u] = s[l], i[u].tilePositionId = u;
      }
      return r(i), i;
    }
    /**
     * @param {number} z
     * @param {number} x
     * @returns {Promise<GeneAnnotation[]>}
     */
  }, {
    key: "tile",
    value: async function(r, n) {
      const [i, o] = await Promise.all([this.tilesetInfo(), this.gbDataPromise]);
      if (!i)
        throw new Error("No tileset info");
      const a = +i.max_width / 2 ** +r, s = i.min_pos[0] + n * a, l = i.min_pos[0] + (n + 1) * a, u = o.features.filter((m) => m.end > s && m.start < l), c = 1024 / 2 ** (i.max_zoom - r), f = cU(u.filter((m) => m.strand === 1), c, "+"), h = cU(u.filter((m) => m.strand !== 1), c, "-"), d = [], p = 20;
      for (let m = 0; m < o.features.length && !(d.length >= p); m++)
        o.features[m].end >= s && o.features[m].start <= l && d.push(o.features[m]);
      return [d, f, h].flatMap((m) => m.map(MMe));
    }
  }]), e13;
}();
function FMe(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function $Me(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, UMe(n.key), n);
  }
}
function HMe(e13, t, r) {
  return t && $Me(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function UMe(e13) {
  var t = jMe(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function jMe(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
var MY = function() {
  function e13(t) {
    FMe(this, e13), this.dataConfig = t, this.tilesetInfoData = Object.values(this.dataConfig.tilesetInfo)[0], this.tilesData = {}, this.tilesetInfoLoading = true;
  }
  return HMe(e13, [{
    key: "tilesetInfo",
    value: async function(r) {
      return this.tilesetInfoLoading = false, r(this.tilesetInfoData), this.tilesetInfoData;
    }
    /** We expect there to be a tilesetUid in the provided tilesetInfo
     * and tiles data since tileResponseToData needs it
     *
     * It is also easier for users to paste in request responses for debugging.
     *
     * @param {(tiles: Record<string, LocalTile>) => void} receivedTiles
     * @param {string[]} tileIds
     */
  }, {
    key: "fetchTilesDebounced",
    value: async function(r, n) {
      this.tilesData = {};
      for (const a of Object.keys(this.dataConfig.tiles)) {
        const l = `localtile.${a.split(".").slice(1).join(".")}`;
        this.tilesData[l] = this.dataConfig.tiles[a];
      }
      const i = {}, o = n.map((a) => `localtile.${a}`);
      jR(this.tilesData, "", o);
      for (const a of n)
        i[a] = this.tilesData[`localtile.${a}`];
      return r(i), i;
    }
    /**
     * @param {number} z
     * @param {number} x
     * @returns {void}
     */
  }, {
    key: "tile",
    value: function(r, n) {
    }
  }]), e13;
}();
function GMe(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function zMe(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, XMe(n.key), n);
  }
}
function VMe(e13, t, r) {
  return t && zMe(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function XMe(e13) {
  var t = WMe(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function WMe(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
function YMe(e13) {
  return e13.data === null;
}
var qMe = function() {
  function e13() {
    GMe(this, e13), this.taskList = [], this.taskHandle = null, this.requestIdleCallbackTimeout = 300;
  }
  return VMe(e13, [{
    key: "enqueueTask",
    value: function(r, n, i = null) {
      i === null ? this.taskList.push({
        handler: r,
        data: n
      }) : (this.taskList = this.taskList.filter((o) => o.trackId !== i), this.taskList.push({
        handler: r,
        data: n,
        trackId: i
      })), this.taskHandle || (this.taskHandle = requestIdleCallback(this.runTaskQueue.bind(this), {
        timeout: this.requestIdleCallbackTimeout
      }));
    }
    /**
     * @param {{ timeRemaining(): number, didTimeout: boolean }} deadline
     */
  }, {
    key: "runTaskQueue",
    value: function(r) {
      for (; (r.timeRemaining() > 0 || r.didTimeout) && this.taskList.length; ) {
        const n = this.taskList.shift();
        n && YMe(n) ? n.handler() : n && n.handler(n.data);
      }
      this.taskList.length ? this.taskHandle = requestIdleCallback(this.runTaskQueue.bind(this), {
        timeout: this.requestIdleCallbackTimeout
      }) : this.taskHandle = 0;
    }
  }]), e13;
}();
var KMe = new qMe();
function ZMe(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function QMe(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, eLe(n.key), n);
  }
}
function JMe(e13, t, r) {
  return t && QMe(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function eLe(e13) {
  var t = tLe(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function tLe(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
function zc() {
  return typeof Reflect < "u" && Reflect.get ? zc = Reflect.get.bind() : zc = function(t, r, n) {
    var i = rLe(t, r);
    if (i) {
      var o = Object.getOwnPropertyDescriptor(i, r);
      return o.get ? o.get.call(arguments.length < 3 ? t : n) : o.value;
    }
  }, zc.apply(this, arguments);
}
function rLe(e13, t) {
  for (; !Object.prototype.hasOwnProperty.call(e13, t) && (e13 = ys(e13), e13 !== null); )
    ;
  return e13;
}
function nLe(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  e13.prototype = Object.create(t && t.prototype, { constructor: { value: e13, writable: true, configurable: true } }), Object.defineProperty(e13, "prototype", { writable: false }), t && OC(e13, t);
}
function OC(e13, t) {
  return OC = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, i) {
    return n.__proto__ = i, n;
  }, OC(e13, t);
}
function iLe(e13) {
  var t = aLe();
  return function() {
    var n = ys(e13), i;
    if (t) {
      var o = ys(this).constructor;
      i = Reflect.construct(n, arguments, o);
    } else
      i = n.apply(this, arguments);
    return oLe(this, i);
  };
}
function oLe(e13, t) {
  if (t && (typeof t == "object" || typeof t == "function"))
    return t;
  if (t !== void 0)
    throw new TypeError("Derived constructors may only return object or undefined");
  return IC(e13);
}
function IC(e13) {
  if (e13 === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e13;
}
function aLe() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return false;
  if (typeof Proxy == "function")
    return true;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), true;
  } catch {
    return false;
  }
}
function ys(e13) {
  return ys = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(r) {
    return r.__proto__ || Object.getPrototypeOf(r);
  }, ys(e13);
}
function sLe(e13, t, r, n, i) {
  const o = e13, a = 0;
  return o === "log" && t > 0 ? ["log", Jl().range([254, 0]).domain([t + a, n + a])] : ["linear", It().range([254, 0]).domain([t, n])];
}
var sh = function(e13) {
  nLe(r, e13);
  var t = iLe(r);
  function r(n, i) {
    var o;
    ZMe(this, r), o = t.call(this, n, i);
    const {
      pubSub: a,
      dataConfig: s,
      handleTilesetInfoReceived: l,
      animate: u,
      onValueScaleChanged: c
    } = n;
    return o.renderVersion = 1, o.visibleTiles = /* @__PURE__ */ new Set(), o.visibleTileIds = /* @__PURE__ */ new Set(), o.renderingTiles = /* @__PURE__ */ new Set(), o.fetching = /* @__PURE__ */ new Set(), o.scale = {}, o.fetchedTiles = {}, o.tileGraphics = {}, o.maxZoom = 0, o.medianVisibleValue = null, o.backgroundTaskScheduler = KMe, o.continuousScaling = "requestIdleCallback" in window, o.valueScaleMin = null, o.fixedValueScaleMin = null, o.valueScaleMax = null, o.fixedValueScaleMax = null, o.listeners = {}, o.pubSub = a, o.animate = u, o.onValueScaleChanged = c, o.prevValueScale = null, n.dataFetcher ? o.dataFetcher = n.dataFetcher : o.dataFetcher = new uS(s, o.pubSub), o.tilesetInfo = null, o.uuid = Gt.nice(), o.trackNotFoundText = new Ge.PIXI.Text("", {
      fontSize: "12px",
      fontFamily: "Arial",
      fill: "black"
    }), o.pLabel.addChild(o.trackNotFoundText), o.refreshTilesDebounced = rV(o.refreshTiles.bind(IC(o)), S0, S0), o.dataFetcher.tilesetInfo((f, h) => {
      if (f) {
        if (o.tilesetInfo = f, o.dataFetcher.dataConfig.tilesetUid || (o.dataFetcher.dataConfig.tilesetUid = h), o.tilesetUid = o.dataFetcher.dataConfig.tilesetUid, o.server = o.dataFetcher.dataConfig.server || "unknown", o.tilesetInfo && o.tilesetInfo.chromsizes && (o.chromInfo = v1(o.tilesetInfo.chromsizes)), "error" in o.tilesetInfo) {
          console.warn("Error retrieving tilesetInfo:", s, o.tilesetInfo.error), o.tilesetInfo = null, o.setError(o.tilesetInfo.error);
          return;
        }
        o.tilesetInfo.resolutions ? o.maxZoom = o.tilesetInfo.resolutions.length : o.maxZoom = +o.tilesetInfo.max_zoom, o.options && o.options.maxZoom && (o.options.maxZoom >= 0 ? o.maxZoom = Math.min(o.options.maxZoom, o.maxZoom) : console.error("Invalid maxZoom on track:", IC(o))), o.refreshTiles(), l && l(f), o.options || (o.options = {}), o.options.name = o.options.name || f.name, o.checkValueScaleLimits(), o.draw(), o.drawLabel(), o.animate();
      }
    }), o;
  }
  return JMe(r, [{
    key: "setError",
    value: function(i) {
      this.errorTextText = i, this.draw(), this.animate();
    }
  }, {
    key: "setFixedValueScaleMin",
    value: function(i) {
      Number.isNaN(+i) ? this.fixedValueScaleMin = null : this.fixedValueScaleMin = +i;
    }
  }, {
    key: "setFixedValueScaleMax",
    value: function(i) {
      Number.isNaN(+i) ? this.fixedValueScaleMax = null : this.fixedValueScaleMax = +i;
    }
  }, {
    key: "checkValueScaleLimits",
    value: function() {
      this.valueScaleMin = typeof this.options.valueScaleMin < "u" ? +this.options.valueScaleMin : null, this.fixedValueScaleMin !== null && (this.valueScaleMin = this.fixedValueScaleMin), this.valueScaleMax = typeof this.options.valueScaleMax < "u" ? +this.options.valueScaleMax : null, this.fixedValueScaleMax !== null && (this.valueScaleMax = this.fixedValueScaleMax);
    }
    /**
     * Register an event listener for track events. Currently, the only supported
     * event is ``dataChanged``.
     *
     * @param {string} event The event to listen for
     * @param {function} callback The callback to call when the event occurs. The
     *  parameters for the event depend on the event called.
     *
     * @example
     *
     *  trackObj.on('dataChanged', (newData) => {
     *   console.log('newData:', newData)
     *  });
     */
  }, {
    key: "on",
    value: function(i, o) {
      this.listeners[i] || (this.listeners[i] = []), this.listeners[i].push(o);
    }
  }, {
    key: "off",
    value: function(i, o) {
      const a = this.listeners[i].indexOf(o);
      a === -1 || a >= this.listeners[i].length || this.listeners[i].splice(a, 1);
    }
  }, {
    key: "rerender",
    value: function(i) {
      zc(ys(r.prototype), "rerender", this).call(this, i), this.renderVersion += 1, this.tilesetInfo && (this.checkValueScaleLimits(), this.tilesetInfo.resolutions ? this.maxZoom = this.tilesetInfo.resolutions.length : this.maxZoom = +this.tilesetInfo.max_zoom, this.options && this.options.maxZoom && (this.options.maxZoom >= 0 ? this.maxZoom = Math.min(this.options.maxZoom, this.maxZoom) : console.error("Invalid maxZoom on track:", this)));
    }
    /**
     * Return the set of ids of all tiles which are both visible and fetched.
     */
  }, {
    key: "visibleAndFetchedIds",
    value: function() {
      return Object.keys(this.fetchedTiles).filter((i) => this.visibleTileIds.has(i));
    }
  }, {
    key: "visibleAndFetchedTiles",
    value: function() {
      return this.visibleAndFetchedIds().map((i) => this.fetchedTiles[i]);
    }
    /**
     * Set which tiles are visible right now.
     *
     * @param tiles: A set of tiles which will be considered the currently visible
     * tile positions.
     */
  }, {
    key: "setVisibleTiles",
    value: function(i) {
      this.visibleTiles = i.map((o) => ({
        tileId: this.tileToLocalId(o),
        remoteId: this.tileToRemoteId(o),
        mirrored: o.mirrored
      })), this.visibleTileIds = new Set(this.visibleTiles.map((o) => o.tileId));
    }
  }, {
    key: "removeOldTiles",
    value: function() {
      this.calculateVisibleTiles();
      const o = [...new Set(Object.keys(this.fetchedTiles))].filter((a) => !this.visibleTileIds.has(a));
      this.removeTiles(o);
    }
  }, {
    key: "refreshTiles",
    value: function() {
      if (!this.tilesetInfo)
        return;
      this.calculateVisibleTiles();
      const i = new Set(Object.keys(this.fetchedTiles)), o = [...this.visibleTiles].filter((a) => !this.fetching.has(a.remoteId) && !i.has(a.tileId));
      for (let a = 0; a < o.length; a++)
        this.fetching.add(o[a].remoteId);
      this.removeOldTiles(), this.fetchNewTiles(o);
    }
  }, {
    key: "parentInFetched",
    value: function(i) {
      const o = i.tileData.tilesetUid;
      let a = i.tileData.zoomLevel, s = i.tileData.tilePos;
      for (; a > 0; )
        if (a -= 1, s = s.map((u) => Math.floor(u / 2)), `${o}.${a}.${s.join(".")}` in this.fetchedTiles)
          return true;
      return false;
    }
  }, {
    key: "parentTileId",
    value: function(i) {
      const o = i.tileData.zoomLevel - 1, a = i.tileData.tilePos.map((l) => Math.floor(l / 2));
      return `${i.tileData.tilesetUid}.${o}.${a.join(".")}`;
    }
    /**
     * Remove obsolete tiles
     *
     * @param toRemoveIds: An array of tile ids to remove from the list of fetched tiles.
     */
  }, {
    key: "removeTiles",
    value: function(i) {
      !i.length || !this.areAllVisibleTilesLoaded() || this.renderingTiles.size || (i.forEach((o) => {
        const a = o;
        this.destroyTile(this.fetchedTiles[a]), a in this.tileGraphics && (this.pMain.removeChild(this.tileGraphics[a]), delete this.tileGraphics[a]), delete this.fetchedTiles[a];
      }), this.synchronizeTilesAndGraphics(), this.draw());
    }
  }, {
    key: "zoomed",
    value: function(i, o, a = 1, s = 0, l = 0) {
      this.xScale(i), this.yScale(o), this.refreshTilesDebounced(), this.pMobile.position.x = s, this.pMobile.position.y = this.position[1], this.pMobile.scale.x = a, this.pMobile.scale.y = 1;
    }
  }, {
    key: "setPosition",
    value: function(i) {
      zc(ys(r.prototype), "setPosition", this).call(this, i);
    }
  }, {
    key: "setDimensions",
    value: function(i) {
      zc(ys(r.prototype), "setDimensions", this).call(this, i);
    }
    /**
     * Check to see if all the visible tiles are loaded.
     *
     * If they are, remove all other tiles.
     */
  }, {
    key: "areAllVisibleTilesLoaded",
    value: function() {
      const i = new Set(Object.keys(this.fetchedTiles)), o = [...this.visibleTileIds];
      for (let a = 0; a < o.length; a++)
        if (!i.has(o[a]))
          return false;
      return true;
    }
    /**
     * Function is called when all tiles that should be visible have
     * been received.
     */
  }, {
    key: "allTilesLoaded",
    value: function() {
    }
  }, {
    key: "minValue",
    value: function(i) {
      return i ? (this.scale.minValue = i, this) : this.valueScaleMin !== null ? this.valueScaleMin : this.scale.minValue;
    }
  }, {
    key: "maxValue",
    value: function(i) {
      return i ? (this.scale.maxValue = i, this) : this.valueScaleMax !== null ? this.valueScaleMax : this.scale.maxValue;
    }
  }, {
    key: "minRawValue",
    value: function() {
      return this.scale.minRawValue;
    }
  }, {
    key: "maxRawValue",
    value: function() {
      return this.scale.maxRawValue;
    }
  }, {
    key: "initTile",
    value: function() {
      this.scale.minRawValue = this.continuousScaling ? this.minVisibleValue() : this.minVisibleValueInTiles(), this.scale.maxRawValue = this.continuousScaling ? this.maxVisibleValue() : this.maxVisibleValueInTiles(), this.scale.minValue = this.scale.minRawValue, this.scale.maxValue = this.scale.maxRawValue;
    }
  }, {
    key: "updateTile",
    value: function() {
    }
  }, {
    key: "destroyTile",
    value: function() {
    }
  }, {
    key: "addMissingGraphics",
    value: function() {
      const i = Object.keys(this.fetchedTiles);
      this.renderVersion += 1;
      for (let o = 0; o < i.length; o++)
        if (!(i[o] in this.tileGraphics)) {
          const a = new Ge.PIXI.Graphics();
          this.pMain.addChild(a), this.fetchedTiles[i[o]].graphics = a, this.initTile(this.fetchedTiles[i[o]]), this.tileGraphics[i[o]] = a;
        }
    }
    /**
     * Change the graphics for existing tiles
     */
  }, {
    key: "updateExistingGraphics",
    value: function() {
      const i = Object.keys(this.fetchedTiles);
      for (let o = 0; o < i.length; o++) {
        const a = this.fetchedTiles[i[o]];
        this.updateTile(a);
      }
    }
  }, {
    key: "synchronizeTilesAndGraphics",
    value: function() {
      if (this.addMissingGraphics(), this.removeOldTiles(), this.updateExistingGraphics(), this.listeners.dataChanged)
        for (const i of this.listeners.dataChanged)
          i(this.visibleAndFetchedTiles().map((o) => o.tileData));
    }
  }, {
    key: "loadTileData",
    value: function(i, o) {
      let a = this.lruCache.get(i.tileId);
      return a || (a = o(i.data, i.type), this.lruCache.put(i.tileId, a)), a;
    }
  }, {
    key: "fetchNewTiles",
    value: function(i) {
      if (i.length > 0) {
        const o = [...new Set(i.map((a) => a.remoteId))];
        this.dataFetcher.fetchTilesDebounced(this.receivedTiles.bind(this), o);
      }
    }
    /**
     * We've gotten a bunch of tiles from the server in
     * response to a request from fetchTiles.
     */
  }, {
    key: "receivedTiles",
    value: function(i) {
      for (let o = 0; o < this.visibleTiles.length; o++) {
        const {
          tileId: a
        } = this.visibleTiles[o];
        if (i[this.visibleTiles[o].remoteId] && this.visibleTiles[o].remoteId in i) {
          if (a in this.fetchedTiles || (this.fetchedTiles[a] = this.visibleTiles[o]), Array.isArray(i[this.visibleTiles[o].remoteId])) {
            const s = i[this.visibleTiles[o].remoteId];
            this.fetchedTiles[a].tileData = [...s], Object.keys(s).filter((l) => Number.isNaN(+l)).forEach((l) => {
              this.fetchedTiles[a].tileData[l] = s[l];
            });
          } else
            this.fetchedTiles[a].tileData = {
              ...i[this.visibleTiles[o].remoteId]
            };
          this.fetchedTiles[a].tileData.error && console.warn("Error in loaded tile", a, this.fetchedTiles[a].tileData);
        }
      }
      for (const o in i)
        if (i[o]) {
          const a = i[o].tilePositionId;
          this.fetching.has(a) && this.fetching.delete(a);
        }
      this.synchronizeTilesAndGraphics(), this.draw(), this.drawLabel(), this.valueScale && (!this.prevValueScale || JSON.stringify(this.valueScale.domain()) !== JSON.stringify(this.prevValueScale.domain())) && (this.prevValueScale = this.valueScale.copy(), this.onValueScaleChanged && this.onValueScaleChanged()), this.animate(), this.areAllVisibleTilesLoaded() && this.pubSub && this.pubSub.publish("TiledPixiTrack.tilesLoaded", {
        uuid: this.uuid
      });
    }
  }, {
    key: "draw",
    value: function() {
      if (this.delayDrawing)
        return;
      this.tilesetInfo ? this.trackNotFoundText.visible = false : (this.dataFetcher.tilesetInfoLoading ? this.trackNotFoundText.text = "Loading..." : this.trackNotFoundText.text = `Tileset info not found. Server: [${this.server}] tilesetUid: [${this.tilesetUid}]`, [this.trackNotFoundText.x, this.trackNotFoundText.y] = this.position, this.flipText && (this.trackNotFoundText.anchor.x = 1, this.trackNotFoundText.scale.x = -1), this.trackNotFoundText.visible = true), this.pubSub && this.pubSub.publish("TiledPixiTrack.tilesDrawnStart", {
        uuid: this.uuid
      });
      const i = Object.values(this.fetchedTiles).map((o) => o.tileData && o.tileData.error && `${o.tileId}: ${o.tileData.error}`).filter((o) => o);
      i.length ? this.errorTextText = i.join(`
`) : this.errorTextText = "", zc(ys(r.prototype), "draw", this).call(this), Object.keys(this.fetchedTiles).forEach((o) => {
        this.drawTile(this.fetchedTiles[o]);
      }), this.pubSub && this.pubSub.publish("TiledPixiTrack.tilesDrawnEnd", {
        uuid: this.uuid
      });
    }
    /**
     * Draw a tile on some graphics
     */
  }, {
    key: "drawTile",
    value: function() {
    }
  }, {
    key: "calculateMedianVisibleValue",
    value: function() {
      this.areAllVisibleTilesLoaded() && this.allTilesLoaded();
      let i = this.visibleAndFetchedIds();
      i.length === 0 && (i = Object.keys(this.fetchedTiles));
      const o = [].concat(...i.filter((a) => this.fetchedTiles[a].tileData.dense).map((a) => Array.from(this.fetchedTiles[a].tileData.dense))).filter((a) => a > 0);
      return this.medianVisibleValue = LD(o), this.medianVisibleValue;
    }
  }, {
    key: "allVisibleValues",
    value: function() {
      return [].concat(...this.visibleAndFetchedIds().map((i) => Array.from(this.fetchedTiles[i].tileData.dense)));
    }
    // Should be overwriten by child clases to get the true minimal
    // visible value in the currently viewed area
  }, {
    key: "minVisibleValue",
    value: function(i = false) {
      return this.minVisibleValueInTiles(i);
    }
  }, {
    key: "minVisibleValueInTiles",
    value: function(i = false) {
      let o = this.visibleAndFetchedIds();
      o.length === 0 && (o = Object.keys(this.fetchedTiles));
      let a = Math.min(...o.map((s) => this.fetchedTiles[s].tileData.minNonZero));
      return a === Number.MAX_SAFE_INTEGER && (a = null), i ? a : this.valueScaleMin !== null ? this.valueScaleMin : a;
    }
    // Should be overwriten by child clases to get the true maximal
    // visible value in the currently viewed area
  }, {
    key: "maxVisibleValue",
    value: function(i = false) {
      return this.maxVisibleValueInTiles(i);
    }
  }, {
    key: "maxVisibleValueInTiles",
    value: function(i = false) {
      let o = this.visibleAndFetchedIds();
      o.length === 0 && (o = Object.keys(this.fetchedTiles));
      let a = Math.max(...o.map((s) => this.fetchedTiles[s].tileData.maxNonZero));
      return a === Number.MIN_SAFE_INTEGER && (a = null), i ? a : this.valueScaleMax !== null ? this.valueScaleMax : a;
    }
  }, {
    key: "makeValueScale",
    value: function(i, o, a, s) {
      let l = null, u = 0, c = s;
      (c === null || typeof c > "u") && (c = 6);
      let f = Math.min(this.dimensions[1] - c, c), h = Math.max(this.dimensions[1] - c, c);
      if (this.dimensions[1] - c < c && (f = this.dimensions[1] / 2, h = this.dimensions[1] / 2), this.options.valueScaling === "log")
        u = o, u || (u = i), l = Jl().domain([u, a + u]).range([f, h]);
      else if (this.options.valueScaling === "quantile") {
        const d = this.dimensions[1] - c, p = c, m = s0().domain(this.allVisibleValues()).range(vi(d, p, (p - d) / 256));
        return m.ticks = (g) => hu(d, p, g), [m, 0];
      } else if (this.options.valueScaling === "setquantile") {
        const d = this.dimensions[1] - c, p = c, m = new Set(this.allVisibleValues()), g = s0().domain([...m]).range(vi(d, p, (p - d) / 256));
        return g.ticks = (v) => hu(d, p, v), [g, 0];
      } else
        l = It().domain([i, a]).range([h, f]);
      return [l, u];
    }
  }]), r;
}(Ai);
function lLe(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function cLe(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, hLe(n.key), n);
  }
}
function uLe(e13, t, r) {
  return t && cLe(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function hLe(e13) {
  var t = fLe(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function fLe(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
function Qr() {
  return typeof Reflect < "u" && Reflect.get ? Qr = Reflect.get.bind() : Qr = function(t, r, n) {
    var i = dLe(t, r);
    if (i) {
      var o = Object.getOwnPropertyDescriptor(i, r);
      return o.get ? o.get.call(arguments.length < 3 ? t : n) : o.value;
    }
  }, Qr.apply(this, arguments);
}
function dLe(e13, t) {
  for (; !Object.prototype.hasOwnProperty.call(e13, t) && (e13 = jr(e13), e13 !== null); )
    ;
  return e13;
}
function pLe(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  e13.prototype = Object.create(t && t.prototype, { constructor: { value: e13, writable: true, configurable: true } }), Object.defineProperty(e13, "prototype", { writable: false }), t && PC(e13, t);
}
function PC(e13, t) {
  return PC = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, i) {
    return n.__proto__ = i, n;
  }, PC(e13, t);
}
function mLe(e13) {
  var t = vLe();
  return function() {
    var n = jr(e13), i;
    if (t) {
      var o = jr(this).constructor;
      i = Reflect.construct(n, arguments, o);
    } else
      i = n.apply(this, arguments);
    return gLe(this, i);
  };
}
function gLe(e13, t) {
  if (t && (typeof t == "object" || typeof t == "function"))
    return t;
  if (t !== void 0)
    throw new TypeError("Derived constructors may only return object or undefined");
  return _b(e13);
}
function _b(e13) {
  if (e13 === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e13;
}
function vLe() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return false;
  if (typeof Proxy == "function")
    return true;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), true;
  } catch {
    return false;
  }
}
function jr(e13) {
  return jr = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(r) {
    return r.__proto__ || Object.getPrototypeOf(r);
  }, jr(e13);
}
var uU = 200;
var pl = 10;
var Cm = 40;
var Jn = 10;
var ml = Jn;
var hU = 4;
var zh = 1;
var gl = 4;
var fU = 5;
var yLe = 256;
var im = pl + Cm + Jn + zh + ml + gl;
var cy = function(e13) {
  pLe(r, e13);
  var t = mLe(r);
  function r(n, i) {
    var o;
    lLe(this, r);
    const a = {
      ...n
    };
    a.onValueScaleChanged = () => {
      n.onValueScaleChanged(), o.drawColorbar();
    }, o = t.call(this, a, i);
    const {
      pubSub: s,
      animate: l,
      svgElement: u,
      onTrackOptionsChanged: c,
      onMouseMoveZoom: f,
      isShowGlobalMousePosition: h,
      isValueScaleLocked: d
    } = n;
    return o.pubSub = s, o.is2d = true, o.animate = l, o.uid = Gt.nice(), o.scaleBrush = $v(), o.onTrackOptionsChanged = c, o.isShowGlobalMousePosition = h, o.isValueScaleLocked = d, o.pColorbarArea = new Ge.PIXI.Graphics(), o.pMasked.addChild(o.pColorbarArea), o.pColorbar = new Ge.PIXI.Graphics(), o.pColorbarArea.addChild(o.pColorbar), o.axis = new lS(_b(o)), o.pColorbarArea.addChild(o.axis.pAxis), o.colorScale = cd, i && i.colorRange && (o.colorScale = Wl(i.colorRange)), o.gBase = Wt(u).append("g"), o.gMain = o.gBase.append("g"), o.gColorscaleBrush = o.gMain.append("g"), o.brushing = false, o.prevOptions = "", o.prevIndUpperLeftTile = "", o.onMouseMoveZoom = f, o.setDataLensSize(11), o.dataLens = new Float32Array(o.dataLensSize ** 2), o.mouseMoveHandlerBound = o.mouseMoveHandler.bind(_b(o)), o.onMouseMoveZoom && o.pubSubs.push(o.pubSub.subscribe("app.mouseMove", o.mouseMoveHandlerBound)), o.options && o.options.showMousePosition && !o.hideMousePosition && (o.hideMousePosition = gu(_b(o), o.is2d, o.isShowGlobalMousePosition())), o.prevOptions = JSON.stringify(i), o;
  }
  return uLe(r, [{
    key: "mouseMoveHandler",
    value: function(i) {
      this.isWithin(i.x, i.y) && (this.mouseX = i.x, this.mouseY = i.y, this.mouseMoveZoomHandler());
    }
    /**
     * Mouse move and zoom handler. Is triggered on both events.
     *
     * @param  {Number}  absX  Absolute X coordinate.
     * @param  {Number}  absY  Absolute Y coordinate
     */
  }, {
    key: "mouseMoveZoomHandler",
    value: function(i = this.mouseX, o = this.mouseY) {
      if (typeof i > "u" || typeof o > "u" || !this.areAllVisibleTilesLoaded() || !this.tilesetInfo)
        return;
      const a = i - this.position[0], s = o - this.position[1];
      let l, u;
      try {
        u = this.getVisibleRectangleData(a - this.dataLensPadding, s - this.dataLensPadding, this.dataLensSize, this.dataLensSize), l = u.get(this.dataLensPadding, this.dataLensPadding);
      } catch {
        return;
      }
      const c = this.dataLensSize;
      let f;
      try {
        f = YR(this.limitedValueScale, this.colorScale, this.valueScale.domain()[0]);
      } catch {
        return;
      }
      if (!f)
        return;
      const h = Math.round(this._xScale.invert(a)), d = Math.round(this._yScale.invert(s));
      let p = [h, d], m = [Math.round(this._xScale.invert(a - this.dataLensPadding)), Math.round(this._xScale.invert(a + this.dataLensPadding))], g = [Math.round(this._yScale.invert(s - this.dataLensPadding)), Math.round(this._yScale.invert(s + this.dataLensPadding))];
      this.chromInfo && (p = p.map((v) => pn(v, this.chromInfo).slice(0, 2)), m = m.map((v) => pn(v, this.chromInfo).slice(0, 2)), g = g.map((v) => pn(v, this.chromInfo).slice(0, 2))), this.onMouseMoveZoom({
        trackId: this.id,
        data: l,
        absX: i,
        absY: o,
        relX: a,
        relY: s,
        dataX: h,
        dataY: d,
        orientation: "2d",
        // Specific to 2D matrices
        dataLens: u,
        dim: c,
        toRgb: f,
        center: p,
        xRange: m,
        yRange: g,
        isGenomicCoords: !!this.chromInfo
      });
    }
  }, {
    key: "scheduleRerender",
    value: function() {
      this.backgroundTaskScheduler.enqueueTask(this.handleRerender.bind(this), null, this.uuid);
    }
  }, {
    key: "handleRerender",
    value: function() {
      this.rerender(this.options, true);
    }
    /**
     * Get absolute (i.e., display) tile dimension and position.
     *
     * @param {Number}  zoomLevel  Current zoom level.
     * @param {Array}  tilePos  Tile position.
     * @return {Object}  Object holding the absolute x, y, width, and height.
     */
  }, {
    key: "getAbsTileDim",
    value: function(i, o, a) {
      const {
        tileX: s,
        tileY: l,
        tileWidth: u,
        tileHeight: c
      } = this.getTilePosAndDimensions(i, o), f = {};
      return f.width = this._refXScale(s + u) - this._refXScale(s), f.height = this._refYScale(l + c) - this._refYScale(l), a ? (f.x = this._refXScale(l), f.y = this._refYScale(s)) : (f.x = this._refXScale(s), f.y = this._refYScale(l)), f;
    }
  }, {
    key: "updateValueScale",
    value: function() {
      let i = this.minValue(), o = this.maxValue();
      const a = 1e-6;
      i != null && o !== void 0 && o !== null && Math.abs(i - o) < a && (i = Math.max(a, i - 1e-3), o += 1e-3);
      const [s, l] = sLe(this.options && this.options.heatmapValueScaling || "log", i, this.medianVisibleValue, o);
      return this.valueScale = l, this.limitedValueScale = this.valueScale.copy(), this.options && typeof this.options.scaleStartPercent < "u" && typeof this.options.scaleEndPercent < "u" && this.limitedValueScale.domain([this.valueScale.domain()[0] + (this.valueScale.domain()[1] - this.valueScale.domain()[0]) * this.options.scaleStartPercent, this.valueScale.domain()[0] + (this.valueScale.domain()[1] - this.valueScale.domain()[0]) * this.options.scaleEndPercent]), [s, l];
    }
  }, {
    key: "rerender",
    value: function(i, o) {
      Qr(jr(r.prototype), "rerender", this).call(this, i, o), this.updateValueScale();
      const a = JSON.stringify(i);
      this.drawColorbar(), !(!o && a === this.prevOptions) && (this.prevOptions = a, this.options = i, Qr(jr(r.prototype), "rerender", this).call(this, i, o), this.calculateVisibleTiles(), i && i.colorRange && (this.colorScale = Wl(i.colorRange)), this.visibleAndFetchedTiles().forEach((s) => this.renderTile(s)), this.hideMousePosition && (this.hideMousePosition(), this.hideMousePosition = void 0), this.options && this.options.showMousePosition && !this.hideMousePosition && (this.hideMousePosition = gu(this, this.is2d, this.isShowGlobalMousePosition())));
    }
  }, {
    key: "drawLabel",
    value: function() {
      this.options.labelPosition === this.options.colorbarPosition ? this.labelXOffset = im : this.labelXOffset = 0, Qr(jr(r.prototype), "drawLabel", this).call(this);
    }
  }, {
    key: "tileDataToCanvas",
    value: function(i) {
      const o = document.createElement("canvas");
      o.width = this.binsPerTile(), o.height = this.binsPerTile();
      const a = o.getContext("2d");
      a.fillStyle = "transparent", a.fillRect(0, 0, o.width, o.height);
      const s = new ImageData(i, o.width, o.height);
      return a.putImageData(s, 0, 0), o;
    }
  }, {
    key: "exportData",
    value: function() {
      if (this.tilesetInfo) {
        const i = this.getVisibleRectangleData(0, 0, this.dimensions[0], this.dimensions[1]), o = {
          bounds: [this._xScale.domain(), this._yScale.domain()],
          dimensions: i.shape,
          data: Q9(i)
        };
        Ym("data.json", JSON.stringify(o));
      }
    }
    /**
     * Position sprite (the rendered tile)
     *
     * @param  {Object}  sprite  PIXI sprite object.
     * @param  {Number}  zoomLevel  Current zoom level.
     * @param  {Array}  tilePos  X,Y position of tile.
     * @param  {Boolean}  mirrored  If `true` tile is mirrored.
     */
  }, {
    key: "setSpriteProperties",
    value: function(i, o, a, s) {
      const l = this.getAbsTileDim(o, a, s);
      i.width = l.width, i.height = l.height, i.x = l.x, i.y = l.y, s && a[0] !== a[1] && (i.rotation = -Math.PI / 2, i.scale.x = Math.abs(i.scale.x) * -1);
    }
  }, {
    key: "refXScale",
    value: function(i) {
      Qr(jr(r.prototype), "refXScale", this).call(this, i), this.draw();
    }
  }, {
    key: "refYScale",
    value: function(i) {
      Qr(jr(r.prototype), "refYScale", this).call(this, i), this.draw();
    }
  }, {
    key: "draw",
    value: function() {
      Qr(jr(r.prototype), "draw", this).call(this);
    }
  }, {
    key: "newBrushOptions",
    value: function(i) {
      const o = JSON.parse(JSON.stringify(this.options)), a = this.valueScale.copy().range([this.colorbarHeight, 0]), s = a.invert(i[0]), u = (a.invert(i[1]) - a.domain()[0]) / // eslint-disable-line operator-linebreak
      (a.domain()[1] - a.domain()[0]), c = (s - a.domain()[0]) / // eslint-disable-line operator-linebreak
      (a.domain()[1] - a.domain()[0]);
      return o.scaleStartPercent = u.toFixed(fU), o.scaleEndPercent = c.toFixed(fU), o;
    }
  }, {
    key: "brushStart",
    value: function() {
      this.brushing = true;
    }
  }, {
    key: "brushMoved",
    value: function(i) {
      if (!i.selection)
        return;
      const o = this.newBrushOptions(i.selection), a = JSON.stringify(o);
      this.gColorscaleBrush.selectAll(".handle--custom").attr("y", (s) => s.type === "n" ? i.selection[0] : i.selection[1] - hU / 2), a !== this.prevOptions && (this.prevOptions = a, this.rerender(o, true), this.onTrackOptionsChanged(o), this.isValueScaleLocked() && this.onValueScaleChanged());
    }
  }, {
    key: "brushEnd",
    value: function() {
      this.brushing = false;
    }
  }, {
    key: "setPosition",
    value: function(i) {
      Qr(jr(r.prototype), "setPosition", this).call(this, i), this.drawColorbar();
    }
  }, {
    key: "setDimensions",
    value: function(i) {
      Qr(jr(r.prototype), "setDimensions", this).call(this, i), this.drawColorbar();
    }
  }, {
    key: "removeColorbar",
    value: function() {
      this.pColorbarArea.visible = false, this.scaleBrush.on(".brush") && this.gColorscaleBrush.call(this.scaleBrush.move, null), this.gColorscaleBrush.on(".brush", null), this.gColorscaleBrush.selectAll("rect").remove();
    }
  }, {
    key: "drawColorbar",
    value: function() {
      if (this.pColorbar.clear(), !this.options || !this.options.colorbarPosition || this.options.colorbarPosition === "hidden") {
        this.removeColorbar();
        return;
      }
      if (this.pColorbarArea.visible = true, !this.valueScale || Number.isNaN(+this.valueScale.domain()[0]) || Number.isNaN(+this.valueScale.domain()[1]))
        return;
      const i = Math.min(this.dimensions[1] / 2, uU);
      if (this.colorbarHeight = i - 2 * Jn, this.colorbarHeight < 0) {
        this.removeColorbar();
        return;
      }
      if (this.valueScale.domain()[1] === this.valueScale.domain()[0]) {
        this.removeColorbar();
        return;
      }
      const o = this.valueScale.copy().range([this.colorbarHeight, 0]);
      this.options.colorbarPosition === "topLeft" || this.options.colorbarPosition === "bottomLeft" ? this.scaleBrush.extent([[gl, 0], [ml, this.colorbarHeight]]) : this.scaleBrush.extent([[0, 0], [ml - gl, this.colorbarHeight]]), this.options.colorbarPosition === "topLeft" && ([this.pColorbarArea.x, this.pColorbarArea.y] = this.position, this.pColorbar.y = Jn, this.axis.pAxis.y = Jn, this.axis.pAxis.x = gl + ml + zh + pl, this.pColorbar.x = gl + ml + zh, this.gColorscaleBrush.attr("transform", `translate(${this.pColorbarArea.x + gl},${this.pColorbarArea.y + this.pColorbar.y - 1})`)), this.options.colorbarPosition === "topRight" && (this.pColorbarArea.x = this.position[0] + this.dimensions[0] - im, this.pColorbarArea.y = this.position[1], this.pColorbar.y = Jn, this.axis.pAxis.y = Jn, this.axis.pAxis.x = Cm + Jn, this.pColorbar.x = Cm + Jn, this.gColorscaleBrush.attr("transform", `translate(${this.pColorbarArea.x + this.pColorbar.x + pl + 2},${this.pColorbarArea.y + this.pColorbar.y - 1})`)), this.options.colorbarPosition === "bottomRight" && (this.pColorbarArea.x = this.position[0] + this.dimensions[0] - im, this.pColorbarArea.y = this.position[1] + this.dimensions[1] - i, this.pColorbar.y = Jn, this.axis.pAxis.y = Jn, this.axis.pAxis.x = Cm + Jn, this.pColorbar.x = Cm + Jn, this.gColorscaleBrush.attr("transform", `translate(${this.pColorbarArea.x + this.pColorbar.x + pl + zh},${this.pColorbarArea.y + this.pColorbar.y - 1})`)), this.options.colorbarPosition === "bottomLeft" && (this.pColorbarArea.x = this.position[0], this.pColorbarArea.y = this.position[1] + this.dimensions[1] - i, this.pColorbar.y = Jn, this.axis.pAxis.y = Jn, this.axis.pAxis.x = gl + ml + zh + pl, this.pColorbar.x = gl + ml + zh, this.gColorscaleBrush.attr("transform", `translate(${this.pColorbarArea.x + 2},${this.pColorbarArea.y + this.pColorbar.y - 1})`)), this.pColorbarArea.clear(), this.pColorbarArea.beginFill(ct(this.options.colorbarBackgroundColor || "white"), +this.options.colorbarBackgroundOpacity >= 0 ? +this.options.colorbarBackgroundOpacity : 0.6), this.pColorbarArea.drawRect(0, 0, im, i), this.options ? (this.options.scaleStartPercent || (this.options.scaleStartPercent = 0), this.options.scaleEndPercent || (this.options.scaleEndPercent = 1)) : this.options = {
        scaleStartPercent: 0,
        scaleEndPercent: 1
      };
      const a = o.domain()[1] - o.domain()[0], s = o(this.options.scaleStartPercent * a + o.domain()[0]), l = o(this.options.scaleEndPercent * a + o.domain()[0]);
      this.brushing || (this.scaleBrush.on("start", this.brushStart.bind(this)).on("brush", this.brushMoved.bind(this)).on("end", this.brushEnd.bind(this)).handleSize(0), this.gColorscaleBrush.on(".brush", null), this.gColorscaleBrush.call(this.scaleBrush), this.northHandle = this.gColorscaleBrush.selectAll(".handle--custom").data([{
        type: "n"
      }, {
        type: "s"
      }]).enter().append("rect").classed("handle--custom", true).attr("cursor", "ns-resize").attr("width", ml).attr("height", hU).style("fill", "#666").style("stroke", "white"), this.flipText && this.northHandle.attr("cursor", "ew-resize"), this.gColorscaleBrush.call(this.scaleBrush.move, [l, s]));
      const u = It().domain([0, 255]).range([0, this.colorbarHeight]);
      for (let c = 0; c < this.colorbarHeight; c++) {
        const f = this.limitedValueScale(o.invert(c)), h = Math.max(0, Math.min(254, Math.floor(f)));
        this.pColorbar.beginFill(ct(`rgb(${this.colorScale[h][0]},${this.colorScale[h][1]},${this.colorScale[h][2]})`)), this.pColorbar.drawRect(0, c, pl, 1);
      }
      this.pAxis.position.x = pl, this.pAxis.position.y = u(0), this.options.colorbarPosition === "topLeft" || this.options.colorbarPosition === "bottomLeft" ? this.axis.drawAxisRight(o, this.colorbarHeight) : (this.options.colorbarPosition === "topRight" || this.options.colorbarPosition === "bottomRight") && this.axis.drawAxisLeft(o, this.colorbarHeight);
    }
  }, {
    key: "exportColorBarSVG",
    value: function() {
      const i = document.createElement("g");
      if (i.setAttribute("class", "color-bar"), !this.options.colorbarPosition || this.options.colorbarPosition === "hidden" || !this.valueScale)
        return i;
      i.setAttribute("transform", `translate(${this.pColorbarArea.x}, ${this.pColorbarArea.y})`);
      const o = document.createElement("rect");
      i.appendChild(o);
      const a = document.createElement("g");
      i.appendChild(a), a.setAttribute("transform", `translate(${this.pColorbar.x}, ${this.pColorbar.y})`);
      const s = Math.min(this.dimensions[1] / 2, uU);
      this.colorbarHeight = s - 2 * Jn, o.setAttribute("x", 0), o.setAttribute("y", 0), o.setAttribute("width", im), o.setAttribute("height", s), o.setAttribute("style", "fill: white; stroke-width: 0; opacity: 0.7");
      const l = 256, u = It().domain([0, l - 1]).range([0, this.colorbarHeight]), c = this.colorbarHeight / l;
      for (let p = 0; p < l; p++) {
        const m = document.createElement("rect");
        a.appendChild(m), m.setAttribute("x", 0), m.setAttribute("y", u(p)), m.setAttribute("width", pl), m.setAttribute("height", c), m.setAttribute("class", "color-rect");
        const g = Math.min(this.colorScale.length - 1, Math.max(0, Math.floor(this.limitedValueScale(this.valueScale.invert(p))))), v = this.colorScale[g];
        v ? m.setAttribute("style", `fill: rgb(${v[0]}, ${v[1]}, ${v[2]})`) : m.setAttribute("style", "fill: rgb(255,255,255,0)");
      }
      const f = document.createElement("g");
      i.appendChild(f), f.setAttribute("transform", `translate(${this.axis.pAxis.position.x},${this.axis.pAxis.position.y})`);
      let h = null;
      const d = this.valueScale.copy().range([this.colorbarHeight, 0]);
      return this.options.colorbarPosition === "topLeft" || this.options.colorbarPosition === "bottomLeft" ? h = this.axis.exportAxisRightSVG(d, this.colorbarHeight) : (this.options.colorbarPosition === "topRight" || this.options.colorbarPosition === "bottomRight") && (h = this.axis.exportAxisLeftSVG(d, this.colorbarHeight)), f.appendChild(h), i;
    }
    /**
     * Set data lens size
     *
     * @param  {Integer}  newDataLensSize  New data lens size. Needs to be an odd
     *   integer.
     */
  }, {
    key: "setDataLensSize",
    value: function(i) {
      this.dataLensPadding = Math.max(0, Math.floor((i - 1) / 2)), this.dataLensSize = this.dataLensPadding * 2 + 1;
    }
  }, {
    key: "binsPerTile",
    value: function() {
      return this.tilesetInfo.bins_per_dimension || yLe;
    }
    /**
     * Get the data in the visible rectangle
     *
     * The parameter coordinates are in pixel coordinates
     *
     * @param {int} x: The upper left corner of the rectangle in pixel coordinates
     * @param {int} y: The upper left corner of the rectangle in pixel coordinates
     * @param {int} width: The width of the rectangle (pixels)
     * @param {int} height: The height of the rectangle (pixels)
     *
     * @returns {Array} A numjs array containing the data in the visible region
     *
     */
  }, {
    key: "getVisibleRectangleData",
    value: function(i, o, a, s) {
      let l = this.calculateZoomLevel();
      l = this.tilesetInfo.max_zoom ? Math.min(this.tilesetInfo.max_zoom, l) : l;
      const c = Je.calculateTileWidth(this.tilesetInfo, l, this.binsPerTile()) / this.binsPerTile(), f = [this._xScale.invert(i), this._xScale.invert(i + a)], h = [this._yScale.invert(o), this._yScale.invert(o + s)], d = [Math.max(f[0], this.tilesetInfo.min_pos[0]), Math.min(f[1], this.tilesetInfo.max_pos[0])], p = [Math.max(h[0], this.tilesetInfo.min_pos[1]), Math.min(h[1], this.tilesetInfo.max_pos[1])], m = Math.floor(d[0] / c), g = Math.floor(p[0] / c), v = Math.max(0, Math.ceil((d[1] - d[0]) / c)), b = Math.max(0, Math.ceil((p[1] - p[0]) / c)), y = If(new Array(b * v).fill(NaN), [b, v]);
      return this.visibleAndFetchedTiles().forEach((_) => {
        const T = _.mirrored ? [_.tileData.tilePos[1], _.tileData.tilePos[0]] : _.tileData.tilePos, {
          tileX: E,
          tileY: O,
          tileWidth: S,
          tileHeight: P
        } = this.getTilePosAndDimensions(_.tileData.zoomLevel, T, this.binsPerTile()), C = Math.floor(E / c), w = Math.floor((E + S) / c), N = Math.floor(O / c), L = Math.floor((O + P) / c);
        let A = Math.max(m, C) - C, R = Math.max(g, N) - N;
        const F = Math.min(m + v, w) - C, $ = Math.min(g + b, L) - N, K = Math.max(C - m, 0), ie = Math.max(N - g, 0), J = F - A, pe = $ - R;
        if (!(J < 0 || pe < 0)) {
          if (_.mirrored && A > R) {
            const oe = A;
            A = R, R = oe;
          }
          q9(y.hi(ie + pe, K + J).lo(ie, K), _.dataArray.hi(R + pe, A + J).lo(R, A));
        }
      }), y;
    }
    /**
     * Convert the raw tile data to a rendered array of values which can be represented as a sprite.
     *
     * @param tile: The data structure containing all the tile information. Relevant to
     *              this function are tile.tileData = \{'dense': [...], ...\}
     *              and tile.graphics
     */
  }, {
    key: "initTile",
    value: function(i) {
      Qr(jr(r.prototype), "initTile", this).call(this, i), i.tileData.dense.length === this.binsPerTile() ** 2 && (i.dataArray = If(Array.from(i.tileData.dense), [this.binsPerTile(), this.binsPerTile()]), this.continuousScaling && i.tileData.tilePos[0] === i.tileData.tilePos[1] && i.mirrored && (i.tileData.denseDataExtrema.mirrorPrecomputedExtrema(), Qr(jr(r.prototype), "initTile", this).call(this, i))), !(this.scale.minValue === null || this.scale.maxValue === null) && this.renderTile(i);
    }
    // /**
    //  * Draw a border around tiles
    //  *
    //  * @param  {Array}  pixData  Pixel data to be adjusted
    //  */
    // addBorder(pixData) {
    //   for (let i = 0; i < 256; i++) {
    //     if (i === 0) {
    //       const prefix = i * 256 * 4;
    //       for (let j = 0; j < 255; j++) {
    //         pixData[prefix + (j * 4)] = 0;
    //         pixData[prefix + (j * 4) + 1] = 0;
    //         pixData[prefix + (j * 4) + 2] = 255;
    //         pixData[prefix + (j * 4) + 3] = 255;
    //       }
    //     }
    //     pixData[(i * 256 * 4)] = 0;
    //     pixData[(i * 256 * 4) + 1] = 0;
    //     pixData[(i * 256 * 4) + 2] = 255;
    //     pixData[(i * 256 * 4) + 3] = 255;
    //   }
    // }
    //
  }, {
    key: "updateTile",
    value: function(i) {
      i.scale && this.scale && this.scale.minValue === i.scale.minValue && this.scale.maxValue === i.scale.maxValue || (this.renderTile(i), this.drawColorbar());
    }
  }, {
    key: "destroyTile",
    value: function(i) {
      i.sprite.destroy(true), i.canvas = null, i.sprite = null, i.texture = null;
    }
  }, {
    key: "pixDataFunction",
    value: function(i, o) {
      if (o) {
        const {
          graphics: a
        } = i, s = this.tileDataToCanvas(o.pixData);
        i.sprite && i.sprite.destroy(true);
        const l = Ge.PIXI.VERSION[0] === "4" ? Ge.PIXI.Texture.fromCanvas(s, Ge.PIXI.SCALE_MODES.NEAREST) : Ge.PIXI.Texture.from(s, {
          scaleMode: Ge.PIXI.SCALE_MODES.NEAREST
        }), u = new Ge.PIXI.Sprite(l);
        i.sprite = u, i.texture = l, i.canvas = s, this.setSpriteProperties(i.sprite, i.tileData.zoomLevel, i.tileData.tilePos, i.mirrored), a.removeChildren(), a.addChild(i.sprite);
      }
      this.renderingTiles.delete(i.tileId);
    }
    /**
     * Render / draw a tile.
     *
     * @param {Object}  tile  Tile data to be rendered.
     */
  }, {
    key: "renderTile",
    value: function(i) {
      const [o] = this.updateValueScale(), a = 0;
      if (this.renderingTiles.add(i.tileId), this.tilesetInfo.tile_size && i.tileData.dense.length < this.tilesetInfo.tile_size) {
        const s = new Float32Array(this.tilesetInfo.tile_size);
        s.fill(NaN), s.set(i.tileData.dense), i.tileData.dense = s;
      }
      Je.tileDataToPixData(
        i,
        o,
        this.limitedValueScale.domain(),
        a,
        // used as a pseudocount to prevent taking the log of 0
        this.colorScale,
        (s) => this.pixDataFunction(i, s),
        this.mirrorTiles() && !i.mirrored && i.tileData.tilePos[0] === i.tileData.tilePos[1],
        this.options.extent === "upper-right" && i.tileData.tilePos[0] === i.tileData.tilePos[1],
        this.options.zeroValueColor ? k9(this.options.zeroValueColor) : void 0,
        {
          selectedRows: this.options.selectRows,
          selectedRowsAggregationMode: this.options.selectRowsAggregationMode,
          selectedRowsAggregationWithRelativeHeight: this.options.selectRowsAggregationWithRelativeHeight,
          selectedRowsAggregationMethod: this.options.selectRowsAggregationMethod
        }
      );
    }
    /**
     * Remove this track from the view
     */
  }, {
    key: "remove",
    value: function() {
      this.gMain.remove(), this.gMain = null, Qr(jr(r.prototype), "remove", this).call(this);
    }
  }, {
    key: "refScalesChanged",
    value: function(i, o) {
      Qr(jr(r.prototype), "refScalesChanged", this).call(this, i, o), g1(this.fetchedTiles).filter((a) => a.sprite).forEach((a) => this.setSpriteProperties(a.sprite, a.tileData.zoomLevel, a.tileData.tilePos, a.mirrored));
    }
    /**
     * Bypass this track's exportSVG function
     */
  }, {
    key: "superSVG",
    value: function() {
      return Qr(jr(r.prototype), "exportSVG", this).call(this);
    }
  }, {
    key: "exportSVG",
    value: function() {
      let i = null, o = null;
      Qr(jr(r.prototype), "exportSVG", this) ? [o, i] = Qr(jr(r.prototype), "exportSVG", this).call(this) : (o = document.createElement("g"), i = o);
      const a = document.createElement("g");
      i.appendChild(a), a.setAttribute("transform", `translate(${this.pMain.position.x},${this.pMain.position.y}) scale(${this.pMain.scale.x},${this.pMain.scale.y})`);
      for (const l of this.visibleAndFetchedTiles()) {
        const u = l.sprite.rotation * 180 / Math.PI, c = document.createElement("g");
        c.setAttribute("transform", `translate(${l.sprite.x},${l.sprite.y}) rotate(${u}) scale(${l.sprite.scale.x},${l.sprite.scale.y})`);
        const f = document.createElement("image");
        f.setAttributeNS("http://www.w3.org/1999/xlink", "xlink:href", l.canvas.toDataURL()), f.setAttribute("width", l.canvas.width), f.setAttribute("height", l.canvas.height), f.setAttribute("style", "image-rendering: pixelated"), c.appendChild(f), a.appendChild(c);
      }
      const s = this.exportColorBarSVG();
      return i.appendChild(s), [o, o];
    }
    // This function gets the indices of the visible part of the upper left tile.
    // The indices are 'rounded' to the grid used by the DenseDataExrema module.
    // It is used to determine if we should check for a new value scale in
    // the case of continuous scaling
  }, {
    key: "getVisiblePartOfUppLeftTile",
    value: function() {
      const i = this.visibleAndFetchedTiles().map((p) => {
        const m = p.mirrored ? [p.tileData.tilePos[1], p.tileData.tilePos[0]] : p.tileData.tilePos;
        return [m[0], m[1], p.tileId];
      });
      if (i.length === 0)
        return null;
      let o = i[0];
      for (let p = 0; p < i.length; p++) {
        const m = i[p];
        (m[0] < o[0] || m[1] < o[1]) && (o = m);
      }
      const a = Math.min(LR, this.binsPerTile()), s = this.binsPerTile() / a, l = this.visibleAndFetchedTiles().filter((p) => p.tileId === o[2])[0], u = this.getIndicesOfVisibleDataInTile(l), c = u[0], f = u[1], h = c - c % s, d = f - f % s;
      return [l.tileId, h, d];
    }
  }, {
    key: "getIndicesOfVisibleDataInTile",
    value: function(i) {
      const o = this._xScale.range(), a = this._yScale.range(), s = i.mirrored ? [i.tileData.tilePos[1], i.tileData.tilePos[0]] : i.tileData.tilePos, {
        tileX: l,
        tileY: u,
        tileWidth: c,
        tileHeight: f
      } = this.getTilePosAndDimensions(i.tileData.zoomLevel, s, this.binsPerTile()), h = It().domain([0, this.binsPerTile()]).range([l, l + c]), d = Math.max(0, Math.round(h.invert(this._xScale.invert(o[0]))) - 1), p = Math.min(this.binsPerTile(), Math.round(h.invert(this._xScale.invert(o[1])))), m = It().domain([0, this.binsPerTile()]).range([u, u + f]), g = Math.max(0, Math.round(m.invert(this._yScale.invert(a[0]))) - 1), v = Math.min(this.binsPerTile(), Math.round(m.invert(this._yScale.invert(a[1]))));
      return i.mirrored && s[0] !== s[1] ? [g, d, v, p] : [d, g, p, v];
    }
  }, {
    key: "minVisibleValue",
    value: function(i = false) {
      const o = this.visibleAndFetchedTiles().map((s) => {
        if (s.tileData.denseDataExtrema === void 0)
          return null;
        const l = this.getIndicesOfVisibleDataInTile(s);
        return s.tileData.denseDataExtrema.getMinNonZeroInSubset(l);
      });
      if (o.length === 0 && this.valueScaleMax === null)
        return null;
      const a = Math.min.apply(null, o);
      return a === Number.MAX_SAFE_INTEGER ? Qr(jr(r.prototype), "minVisibleValue", this).call(this, i) : i ? a : this.valueScaleMin !== null ? this.valueScaleMin : a;
    }
  }, {
    key: "maxVisibleValue",
    value: function(i = false) {
      const o = this.visibleAndFetchedTiles().map((s) => {
        if (s.tileData.denseDataExtrema === void 0)
          return null;
        const l = this.getIndicesOfVisibleDataInTile(s);
        return s.tileData.denseDataExtrema.getMaxNonZeroInSubset(l);
      });
      if (o.length === 0 && this.valueScaleMax === null)
        return null;
      const a = Math.max.apply(null, o);
      return a === Number.MIN_SAFE_INTEGER ? Qr(jr(r.prototype), "maxVisibleValue", this).call(this, i) : i ? a : this.valueScaleMax !== null ? this.valueScaleMax : a;
    }
  }, {
    key: "zoomed",
    value: function(i, o, a, s, l) {
      if (this.brushing)
        return;
      Qr(jr(r.prototype), "zoomed", this).call(this, i, o), this.pMain.position.x = s, this.pMain.position.y = l, this.pMain.scale.x = a, this.pMain.scale.y = a;
      const u = this.isValueScaleLocked();
      if (this.continuousScaling && this.minValue() !== void 0 && this.maxValue() !== void 0) {
        const c = JSON.stringify(this.getVisiblePartOfUppLeftTile());
        if (this.valueScaleMin === null && this.valueScaleMax === null && !u && // syncs the recomputation with the grid used in the DenseDataExtrema module
        c !== this.prevIndUpperLeftTile) {
          const f = this.minVisibleValue(), h = this.maxVisibleValue(), d = 1e-6;
          f !== null && // can happen if tiles haven't loaded
          h !== null && (Math.abs(this.minValue() - f) > d || Math.abs(this.maxValue() - h) > d) && (this.minValue(f), this.maxValue(h), this.scheduleRerender()), this.prevIndUpperLeftTile = c;
        }
        u && this.onValueScaleChanged();
      }
      this.mouseMoveZoomHandler();
    }
    /**
     * Helper method for adding a tile ID in place. Used by `tilesToId()`.
     *
     * @param  {Array}  tiles  Array tile ID should be added to.
     * @param  {Integer}  zoomLevel  Zoom level.
     * @param  {Integer}  row  Column ID, i.e., y.
     * @param  {Integer}  column  Column ID, i.e., x.
     * @param  {Objwect}  dataTransform  ??
     * @param  {Boolean}  mirrored  If `true` tile is mirrored.
     */
  }, {
    key: "addTileId",
    value: function(i, o, a, s, l, u = false) {
      const c = [o, a, s];
      c.mirrored = u, c.dataTransform = l, i.push(c);
    }
    /**
     * Convert tile positions to tile IDs
     *
     * @param  {Array}  xTiles  X positions of tiles
     * @param  {Array}  yTiles  Y positions of tiles
     * @param  {Array}  zoomLevel  Current zoom level
     * @return  {Array}  List of tile IDs
     */
  }, {
    key: "tilesToId",
    value: function(i, o, a) {
      const s = i, l = o, u = this.options && this.options.dataTransform || "default", c = [];
      for (let f = 0; f < s.length; f++)
        for (let h = 0; h < l.length; h++)
          this.mirrorTiles() ? (s[f] >= l[h] ? this.options.extent !== "lower-left" && this.addTileId(c, a, l[h], s[f], u, true) : this.options.extent !== "upper-right" && this.addTileId(c, a, s[f], l[h], u), s[f] === l[h] && this.options.extent === "lower-left" && this.addTileId(c, a, s[f], l[h], u)) : this.addTileId(c, a, s[f], l[h], u);
      return c;
    }
  }, {
    key: "calculateVisibleTiles",
    value: function() {
      if (this.tilesetInfo) {
        if (this.zoomLevel = this.calculateZoomLevel(), this.tilesetInfo.resolutions) {
          const i = this.tilesetInfo.resolutions.map((o) => +o).sort((o, a) => a - o);
          this.xTiles = Je.calculateTilesFromResolution(i[this.zoomLevel], this._xScale, this.tilesetInfo.min_pos[0], this.tilesetInfo.max_pos[0]), this.yTiles = Je.calculateTilesFromResolution(i[this.zoomLevel], this._yScale, this.tilesetInfo.min_pos[0], this.tilesetInfo.max_pos[0]);
        } else
          this.xTiles = Je.calculateTiles(this.zoomLevel, this._xScale, this.tilesetInfo.min_pos[0], this.tilesetInfo.max_pos[0], this.tilesetInfo.max_zoom, this.tilesetInfo.max_width), this.yTiles = Je.calculateTiles(this.zoomLevel, this._yScale, this.options.reverseYAxis ? -this.tilesetInfo.max_pos[1] : this.tilesetInfo.min_pos[1], this.options.reverseYAxis ? -this.tilesetInfo.min_pos[1] : this.tilesetInfo.max_pos[1], this.tilesetInfo.max_zoom, this.tilesetInfo.max_width1 || this.tilesetInfo.max_width);
        this.setVisibleTiles(this.tilesToId(this.xTiles, this.yTiles, this.zoomLevel));
      }
    }
  }, {
    key: "mirrorTiles",
    value: function() {
      return !(this.tilesetInfo.mirror_tiles && (this.tilesetInfo.mirror_tiles === false || this.tilesetInfo.mirror_tiles === "false"));
    }
  }, {
    key: "getMouseOverHtml",
    value: function(i, o) {
      if (!this.options || !this.options.showTooltip || !this.tilesetInfo)
        return "";
      const a = Je.calculateResolution(this.tilesetInfo, this.zoomLevel), s = Math.max(this.tilesetInfo.max_pos[1] - this.tilesetInfo.min_pos[1], this.tilesetInfo.max_pos[0] - this.tilesetInfo.min_pos[0]), l = Math.ceil(Math.log(s / a) / Math.log(10));
      this.setDataLensSize(1);
      const u = this._xScale.invert(i), c = this._yScale.invert(o);
      let f = "<b>Position:</b> ";
      if (this.chromInfo) {
        const d = pn(u, this.chromInfo), p = pn(c, this.chromInfo), m = (g) => ro(`.${l}s`)(g);
        f += `${d[0]}:${m(d[1])} & ${p[0]}:${m(p[1])}`, f += "<br/>";
      }
      let h = null;
      try {
        h = this.getVisibleRectangleData(i, o, 1, 1).get(0, 0);
      } catch {
        return "";
      }
      return this.options && this.options.heatmapValueScaling === "log" ? h > 0 ? `${f}<b>Value:</b> 1e${ro(".3f")(Math.log(h) / Math.log(10))}` : h === 0 ? `${f}<b>Value:</b> 0` : `${f}<b>Value:</b> N/A` : `${f}<b>Value:</b> ${ro(".3f")(h)}`;
    }
    /**
     * Get the tile's position in its coordinate system.
     *
     * @description
     * Normally the absolute coordinate system are the genome basepair positions
     */
  }, {
    key: "getTilePosAndDimensions",
    value: function(i, o, a) {
      const s = a || this.binsPerTile();
      if (this.tilesetInfo.resolutions) {
        const v = this.tilesetInfo.resolutions.map((E) => +E).sort((E, O) => O - E)[i], b = v * s, y = b, _ = v * s * o[0], T = v * s * o[1];
        return {
          tileX: _,
          tileY: T,
          tileWidth: b,
          tileHeight: y
        };
      }
      const l = o[0], u = o[1], c = this.tilesetInfo.min_pos[0], f = this.options.reverseYAxis ? -this.tilesetInfo.max_pos[1] : this.tilesetInfo.min_pos[1], h = this.tilesetInfo.max_width / 2 ** i, d = this.tilesetInfo.max_width / 2 ** i, p = c + l * h, m = f + u * d;
      return {
        tileX: p,
        tileY: m,
        tileWidth: h,
        tileHeight: d
      };
    }
  }, {
    key: "calculateZoomLevel",
    value: function() {
      const i = this.tilesetInfo.min_pos[0], o = this.tilesetInfo.max_pos[0], a = this.tilesetInfo.min_pos[1], s = this.tilesetInfo.max_pos[1];
      let l = null;
      if (this.tilesetInfo.resolutions) {
        const u = Je.calculateZoomLevelFromResolutions(this.tilesetInfo.resolutions, this._xScale, i, o), c = Je.calculateZoomLevelFromResolutions(this.tilesetInfo.resolutions, this._yScale, a, s);
        l = Math.min(u, c);
      } else {
        const u = Je.calculateZoomLevel(this._xScale, this.tilesetInfo.min_pos[0], this.tilesetInfo.max_pos[0], this.binsPerTile()), c = Je.calculateZoomLevel(this._xScale, this.tilesetInfo.min_pos[1], this.tilesetInfo.max_pos[1], this.binsPerTile());
        l = Math.max(u, c), l = Math.min(l, this.maxZoom);
      }
      return this.options && this.options.maxZoom && (this.options.maxZoom >= 0 ? l = Math.min(this.options.maxZoom, l) : console.error("Invalid maxZoom on track:", this)), l;
    }
    /**
     * The local tile identifier
     *
     * @param {array}  tile  Tile definition array to be converted to id. Tile
     *   array must contain `[zoomLevel, xPos, yPos]` and two props `mirrored` and
     *   `dataTransform`.
     */
  }, {
    key: "tileToLocalId",
    value: function(i) {
      return i.dataTransform && i.dataTransform !== "default" ? `${i.join(".")}.${i.mirrored}.${i.dataTransform}` : `${i.join(".")}.${i.mirrored}`;
    }
    /**
     * The tile identifier used on the server
     */
  }, {
    key: "tileToRemoteId",
    value: function(i) {
      return i.dataTransform && i.dataTransform !== "default" ? `${i.join(".")}.${i.dataTransform}` : `${i.join(".")}`;
    }
  }, {
    key: "localToRemoteId",
    value: function(i) {
      const o = i.split(".");
      return o.slice(0, o.length - 1).join(".");
    }
  }]), r;
}(sh);
function _Le(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function bLe(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, ELe(n.key), n);
  }
}
function TLe(e13, t, r) {
  return t && bLe(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function ELe(e13) {
  var t = SLe(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function SLe(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
function wLe(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  e13.prototype = Object.create(t && t.prototype, { constructor: { value: e13, writable: true, configurable: true } }), Object.defineProperty(e13, "prototype", { writable: false }), t && CC(e13, t);
}
function CC(e13, t) {
  return CC = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, i) {
    return n.__proto__ = i, n;
  }, CC(e13, t);
}
function ALe(e13) {
  var t = PLe();
  return function() {
    var n = rT(e13), i;
    if (t) {
      var o = rT(this).constructor;
      i = Reflect.construct(n, arguments, o);
    } else
      i = n.apply(this, arguments);
    return OLe(this, i);
  };
}
function OLe(e13, t) {
  if (t && (typeof t == "object" || typeof t == "function"))
    return t;
  if (t !== void 0)
    throw new TypeError("Derived constructors may only return object or undefined");
  return ILe(e13);
}
function ILe(e13) {
  if (e13 === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e13;
}
function PLe() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return false;
  if (typeof Proxy == "function")
    return true;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), true;
  } catch {
    return false;
  }
}
function rT(e13) {
  return rT = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(r) {
    return r.__proto__ || Object.getPrototypeOf(r);
  }, rT(e13);
}
function LY(e13) {
  if (!e13.graphics)
    return;
  const t = e13.graphics, {
    tileX: r,
    tileY: n,
    tileWidth: i
  } = this.getTilePosAndDimensions(e13.tileData.zoomLevel, e13.tileData.tilePos);
  e13.drawnAtScale = this._xScale.copy();
  const o = 1 / ((this._xScale(1) - this._xScale(0)) / (this._refXScale(1) - this._refXScale(0))), a = 1 / ((this._yScale(1) - this._yScale(0)) / (this._refYScale(1) - this._refYScale(0)));
  e13.text.scale.x = o, e13.text.scale.y = a;
  const s = this._xScale(i) - this._xScale(0);
  if (e13.textGraphics.scale.x = s / 256, e13.textGraphics.scale.y = s / 256, t.clear(), t.lineStyle(4 * o, 255, 1), t.beginFill(16740363, 0.4), t.alpha = 0.5, e13.mirrored) {
    const l = this._refXScale(n + i) - this._refXScale(n), u = this._refYScale(r + i) - this._refYScale(r);
    e13.textGraphics.position.x = this._refXScale(n) + l / 2, e13.textGraphics.position.y = this._refYScale(r) + u / 2, t.drawRect(this._refXScale(n), this._refYScale(r), l, u);
  } else {
    const l = this._refXScale(r + i) - this._refXScale(r), u = this._refYScale(n + i) - this._refYScale(n);
    e13.textGraphics.position.x = this._refXScale(r) + l / 2, e13.textGraphics.position.y = this._refYScale(n) + u / 2, t.drawRect(this._refXScale(r), this._refYScale(n), l, u);
  }
}
function BY(e13) {
  const t = e13.graphics;
  e13.textGraphics = new Ge.PIXI.Graphics(), e13.mirrored ? e13.text = new Ge.PIXI.Text(`${e13.tileData.zoomLevel}/${[e13.tileData.tilePos[1], e13.tileData.tilePos[0]].join("/")}`, {
    fontFamily: "Arial",
    fontSize: 24,
    fill: 16715792,
    align: "center"
  }) : e13.text = new Ge.PIXI.Text(`${e13.tileData.zoomLevel}/${e13.tileData.tilePos.join("/")}`, {
    fontFamily: "Arial",
    fontSize: 24,
    fill: 16715792,
    align: "center"
  }), e13.textGraphics.addChild(e13.text), e13.text.anchor.x = 0.5, e13.text.anchor.y = 0.5, t.addChild(e13.textGraphics);
}
var FY = function(e13) {
  wLe(r, e13);
  var t = ALe(r);
  function r() {
    return _Le(this, r), t.apply(this, arguments);
  }
  return TLe(r, [{
    key: "areAllVisibleTilesLoaded",
    value: function() {
      return true;
    }
  }, {
    key: "initTile",
    value: function(i) {
      BY.bind(this)(i), this.drawTile(i);
    }
  }, {
    key: "destroyTile",
    value: function(i, o) {
    }
  }, {
    key: "drawTile",
    value: function(i) {
      LY.bind(this)(i);
    }
  }, {
    key: "fetchNewTiles",
    value: function(i) {
      i.forEach((o) => {
        const s = o.remoteId.split("."), l = {
          zoomLevel: s[0],
          tilePos: s.slice(1, s.length).map((u) => +u)
        };
        this.fetchedTiles[o.tileId] = o, this.fetchedTiles[o.tileId].tileData = l, this.fetching.has(o.remoteId) && this.fetching.delete(o.remoteId);
      }), this.synchronizeTilesAndGraphics();
    }
  }]), r;
}(cy);
function CLe(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function xLe(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, DLe(n.key), n);
  }
}
function kLe(e13, t, r) {
  return t && xLe(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function DLe(e13) {
  var t = RLe(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function RLe(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
function _g() {
  return typeof Reflect < "u" && Reflect.get ? _g = Reflect.get.bind() : _g = function(t, r, n) {
    var i = NLe(t, r);
    if (i) {
      var o = Object.getOwnPropertyDescriptor(i, r);
      return o.get ? o.get.call(arguments.length < 3 ? t : n) : o.value;
    }
  }, _g.apply(this, arguments);
}
function NLe(e13, t) {
  for (; !Object.prototype.hasOwnProperty.call(e13, t) && (e13 = Pu(e13), e13 !== null); )
    ;
  return e13;
}
function MLe(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  e13.prototype = Object.create(t && t.prototype, { constructor: { value: e13, writable: true, configurable: true } }), Object.defineProperty(e13, "prototype", { writable: false }), t && xC(e13, t);
}
function xC(e13, t) {
  return xC = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, i) {
    return n.__proto__ = i, n;
  }, xC(e13, t);
}
function LLe(e13) {
  var t = FLe();
  return function() {
    var n = Pu(e13), i;
    if (t) {
      var o = Pu(this).constructor;
      i = Reflect.construct(n, arguments, o);
    } else
      i = n.apply(this, arguments);
    return BLe(this, i);
  };
}
function BLe(e13, t) {
  if (t && (typeof t == "object" || typeof t == "function"))
    return t;
  if (t !== void 0)
    throw new TypeError("Derived constructors may only return object or undefined");
  return $Y(e13);
}
function $Y(e13) {
  if (e13 === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e13;
}
function FLe() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return false;
  if (typeof Proxy == "function")
    return true;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), true;
  } catch {
    return false;
  }
}
function Pu(e13) {
  return Pu = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(r) {
    return r.__proto__ || Object.getPrototypeOf(r);
  }, Pu(e13);
}
var $Le = 1024;
var hM = function(e13) {
  MLe(r, e13);
  var t = LLe(r);
  function r(n, i) {
    var o;
    CLe(this, r), o = t.call(this, n, i);
    const {
      onMouseMoveZoom: a,
      isValueScaleLocked: s,
      getLockGroupExtrema: l
    } = n;
    return o.onMouseMoveZoom = a, o.isValueScaleLocked = s, o.getLockGroupExtrema = l, o.onMouseMoveZoom && o.pubSubs.push(o.pubSub.subscribe("app.mouseMove", o.mouseMoveHandler.bind($Y(o)))), o;
  }
  return kLe(r, [{
    key: "initTile",
    value: function(i) {
      _g(Pu(r.prototype), "initTile", this).call(this, i);
    }
  }, {
    key: "tileToLocalId",
    value: function(i) {
      return `${i.join(".")}`;
    }
  }, {
    key: "tileToRemoteId",
    value: function(i) {
      return `${i.join(".")}`;
    }
  }, {
    key: "relevantScale",
    value: function() {
      return null;
    }
  }, {
    key: "setVisibleTiles",
    value: function(i) {
      this.visibleTiles = i.map((o) => ({
        tileId: this.tileToLocalId(o),
        remoteId: this.tileToRemoteId(o)
      })), this.visibleTileIds = new Set(this.visibleTiles.map((o) => o.tileId));
    }
  }, {
    key: "calculateVisibleTiles",
    value: function() {
      if (!this.tilesetInfo)
        return;
      if (this.zoomLevel = this.calculateZoomLevel(), this.tilesetInfo.resolutions) {
        const a = this.tilesetInfo.resolutions.map((u) => +u).sort((u, c) => c - u), l = Je.calculateTilesFromResolution(a[this.zoomLevel], this._xScale, this.tilesetInfo.min_pos[0], this.tilesetInfo.max_pos[0]).map((u) => [this.zoomLevel, u]);
        this.setVisibleTiles(l);
        return;
      }
      const o = Je.calculateTiles(this.zoomLevel, this.relevantScale(), this.tilesetInfo.min_pos[0], this.tilesetInfo.max_pos[0], this.tilesetInfo.max_zoom, this.tilesetInfo.max_width).map((a) => [this.zoomLevel, a]);
      this.setVisibleTiles(o);
    }
  }, {
    key: "getTilePosAndDimensions",
    value: function(i, o, a) {
      const s = o[0], l = o[0];
      if (this.tilesetInfo.resolutions) {
        const v = a || $Le, y = this.tilesetInfo.resolutions.map((S) => +S).sort((S, P) => P - S)[i], _ = y * v, T = _, E = y * v * o[0], O = y * v * o[1];
        return {
          tileX: E,
          tileY: O,
          tileWidth: _,
          tileHeight: T
        };
      }
      const u = this.tilesetInfo.max_width, c = this.tilesetInfo.max_width, f = this.tilesetInfo.min_pos[0], h = this.tilesetInfo.min_pos[1], d = u / 2 ** i, p = c / 2 ** i, m = f + s * d, g = h + l * p;
      return {
        tileX: m,
        tileY: g,
        tileWidth: d,
        tileHeight: p
      };
    }
  }, {
    key: "updateTile",
    value: function(i) {
    }
  }, {
    key: "scheduleRerender",
    value: function() {
      this.backgroundTaskScheduler.enqueueTask(this.handleRerender.bind(this), null, this.uuid);
    }
  }, {
    key: "handleRerender",
    value: function() {
      this.rerender(this.options, false);
    }
  }, {
    key: "getIndicesOfVisibleDataInTile",
    value: function(i) {
      const o = this._xScale.range();
      if (!this.tilesetInfo)
        return [null, null];
      const {
        tileX: a,
        tileWidth: s
      } = this.getTilePosAndDimensions(i.tileData.zoomLevel, i.tileData.tilePos, this.tilesetInfo.bins_per_dimension || this.tilesetInfo.tile_size), l = It().domain([0, this.tilesetInfo.tile_size || this.tilesetInfo.bins_per_dimension]).range([a, a + s]), u = Math.max(0, Math.round(l.invert(this._xScale.invert(o[0])))), c = Math.min(i.tileData.dense.length, Math.round(l.invert(this._xScale.invert(o[1]))));
      return [u, c];
    }
    /**
     * Returns the minimum in the visible area (not visible tiles)
     */
  }, {
    key: "minVisibleValue",
    value: function(i = false) {
      let o = this.visibleAndFetchedIds();
      o.length === 0 && (o = Object.keys(this.fetchedTiles));
      const a = o.map((l) => this.fetchedTiles[l]).map((l) => {
        const u = this.getIndicesOfVisibleDataInTile(l);
        return l.tileData.denseDataExtrema.getMinNonZeroInSubset(u);
      }), s = Math.min(...a);
      return i ? s : this.valueScaleMin !== null ? this.valueScaleMin : s;
    }
    /**
     * Returns the maximum in the visible area (not visible tiles)
     */
  }, {
    key: "maxVisibleValue",
    value: function(i = false) {
      let o = this.visibleAndFetchedIds();
      o.length === 0 && (o = Object.keys(this.fetchedTiles));
      const a = o.map((l) => this.fetchedTiles[l]).map((l) => {
        const u = this.getIndicesOfVisibleDataInTile(l);
        return l.tileData.denseDataExtrema.getMaxNonZeroInSubset(u);
      }), s = Math.max(...a);
      return i ? s : this.valueScaleMax !== null ? this.valueScaleMax : s;
    }
    /**
     * Return an aggregated visible value. For example, the minimum or maximum.
     *
     * @description
     *   The difference to `minVisibleValueInTiles`
     *   is that the truly visible min or max value is returned instead of the
     *   min or max value of the tile. The latter is not necessarily visible.
     *
     *   For 'min' and 'max' this is identical to minVisibleValue and maxVisibleValue
     *
     * @param  {string} aggregator Aggregation method. Currently supports `min`
     *   and `max` only.
     * @return {number} The aggregated value.
     */
  }, {
    key: "getAggregatedVisibleValue",
    value: function(i = "max") {
      const o = i === "min" ? Math.min : Math.max, a = i === "min" ? 1 / 0 : -1 / 0;
      let s = this.visibleAndFetchedIds();
      s.length === 0 && (s = Object.keys(this.fetchedTiles));
      const l = this._xScale.range();
      return s.map((u) => this.fetchedTiles[u]).map((u) => {
        if (!u.tileData.tilePos)
          return i === "min" ? this.minVisibleValue() : this.maxVisibleValue();
        const {
          tileX: c,
          tileWidth: f
        } = this.getTilePosAndDimensions(u.tileData.zoomLevel, u.tileData.tilePos, this.tilesetInfo.bins_per_dimension || this.tilesetInfo.tile_size), h = It().domain([0, this.tilesetInfo.tile_size || this.tilesetInfo.bins_per_dimension]).range([c, c + f]), d = Math.max(0, Math.round(h.invert(this._xScale.invert(l[0])))), p = Math.min(u.tileData.dense.length, Math.round(h.invert(this._xScale.invert(l[1]))));
        return u.tileData.dense.slice(d, p);
      }).reduce((u, c) => o(u, ...c), a);
    }
    /**
     * Get the data value at a relative pixel position
     * @param   {number}  relPos  Relative pixel position, where 0 indicates the
     *   start of the track
     * @return  {number}  The data value at `relPos`
     */
  }, {
    key: "getDataAtPos",
    value: function(i) {
      let o;
      if (!this.tilesetInfo)
        return o;
      const a = this.calculateZoomLevel(), s = Je.calculateTileWidth(this.tilesetInfo, a, this.tilesetInfo.tile_size), l = this._xScale.invert(i) / s, u = this.tileToLocalId([a, Math.floor(l)]), c = this.fetchedTiles[u];
      if (!c)
        return o;
      const f = this.tilesetInfo.tile_size * (l - Math.floor(l));
      return c.tileData.dense ? c.tileData.dense[Math.floor(f)] : null;
    }
  }, {
    key: "mouseMoveHandler",
    value: function({
      x: i,
      y: o
    } = {}) {
      this.isWithin(i, o) && (this.mouseX = i, this.mouseY = o, this.mouseMoveZoomHandler());
    }
  }, {
    key: "mouseMoveZoomHandler",
    value: function() {
    }
  }, {
    key: "zoomed",
    value: function(...i) {
      _g(Pu(r.prototype), "zoomed", this).call(this, ...i), this.mouseMoveZoomHandler();
    }
  }]), r;
}(sh);
function HLe(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function ULe(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, GLe(n.key), n);
  }
}
function jLe(e13, t, r) {
  return t && ULe(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function GLe(e13) {
  var t = zLe(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function zLe(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
function Vc() {
  return typeof Reflect < "u" && Reflect.get ? Vc = Reflect.get.bind() : Vc = function(t, r, n) {
    var i = VLe(t, r);
    if (i) {
      var o = Object.getOwnPropertyDescriptor(i, r);
      return o.get ? o.get.call(arguments.length < 3 ? t : n) : o.value;
    }
  }, Vc.apply(this, arguments);
}
function VLe(e13, t) {
  for (; !Object.prototype.hasOwnProperty.call(e13, t) && (e13 = _s(e13), e13 !== null); )
    ;
  return e13;
}
function XLe(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  e13.prototype = Object.create(t && t.prototype, { constructor: { value: e13, writable: true, configurable: true } }), Object.defineProperty(e13, "prototype", { writable: false }), t && kC(e13, t);
}
function kC(e13, t) {
  return kC = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, i) {
    return n.__proto__ = i, n;
  }, kC(e13, t);
}
function WLe(e13) {
  var t = qLe();
  return function() {
    var n = _s(e13), i;
    if (t) {
      var o = _s(this).constructor;
      i = Reflect.construct(n, arguments, o);
    } else
      i = n.apply(this, arguments);
    return YLe(this, i);
  };
}
function YLe(e13, t) {
  if (t && (typeof t == "object" || typeof t == "function"))
    return t;
  if (t !== void 0)
    throw new TypeError("Derived constructors may only return object or undefined");
  return DC(e13);
}
function DC(e13) {
  if (e13 === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e13;
}
function qLe() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return false;
  if (typeof Proxy == "function")
    return true;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), true;
  } catch {
    return false;
  }
}
function _s(e13) {
  return _s = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(r) {
    return r.__proto__ || Object.getPrototypeOf(r);
  }, _s(e13);
}
var yp = function(e13) {
  XLe(r, e13);
  var t = WLe(r);
  function r(n, i) {
    var o;
    HLe(this, r), o = t.call(this, n, i);
    const {
      animate: a,
      isShowGlobalMousePosition: s
    } = n;
    return o.constIndicator = new Ge.PIXI.Graphics(), o.pMain.addChild(o.constIndicator), o.axis = new lS(DC(o)), o.pBase.addChild(o.axis.pAxis), o.animate = a, o.options = i, o.isShowGlobalMousePosition = s, o.pubSubs = [], o.options.showMousePosition && !o.hideMousePosition && (o.hideMousePosition = gu(DC(o), o.is2d, o.isShowGlobalMousePosition())), o;
  }
  return jLe(r, [{
    key: "rerender",
    value: function(i, o) {
      const a = JSON.stringify(i);
      !o && a === this.prevOptions || (Vc(_s(r.prototype), "rerender", this).call(this, i, o), this.prevOptions = a, this.options = i, this.options.showMousePosition && !this.hideMousePosition && (this.hideMousePosition = gu(this, this.is2d, this.isShowGlobalMousePosition())), !this.options.showMousePosition && this.hideMousePosition && (this.hideMousePosition(), this.hideMousePosition = void 0));
    }
  }, {
    key: "calculateZoomLevel",
    value: function() {
      if (this.tilesetInfo.resolutions)
        return Je.calculateZoomLevelFromResolutions(this.tilesetInfo.resolutions, this._xScale, this.tilesetInfo.min_pos[0], this.tilesetInfo.max_pos[0] - 2);
      const i = Je.calculateZoomLevel(this._xScale, this.tilesetInfo.min_pos[0], this.tilesetInfo.max_pos[0], this.tilesetInfo.bins_per_dimension || this.tilesetInfo.tile_size);
      let o = Math.min(i, this.maxZoom);
      return o = Math.max(o, 0), o;
    }
    /**
     * Which scale should we use for calculating tile positions?
     *
     * Horizontal tracks should use the xScale and vertical tracks
     * should use the yScale
     *
     * This function should be overwritten by HorizontalTiled1DPixiTrack.js
     * and VerticalTiled1DPixiTrack.js
     */
  }, {
    key: "relevantScale",
    value: function() {
      return this._xScale;
    }
  }, {
    key: "draw",
    value: function() {
      Vc(_s(r.prototype), "draw", this).call(this), this.drawConstIndicator();
    }
  }, {
    key: "drawAxis",
    value: function(i) {
      if (!this.options.axisPositionVertical && !this.options.axisPositionHorizontal) {
        this.axis.clearAxis();
        return;
      }
      if (this.options.axisPositionVertical && this.options.axisPositionVertical === "hidden") {
        this.axis.clearAxis();
        return;
      }
      if (this.options.axisPositionHorizontal && this.options.axisPositionHorizontal === "hidden") {
        this.axis.clearAxis();
        return;
      }
      const o = this.options.axisMargin || 0;
      this.options.axisPositionHorizontal === "left" || this.options.axisPositionVertical === "top" ? (this.axis.pAxis.position.x = this.position[0] + o, this.axis.pAxis.position.y = this.position[1], this.axis.drawAxisRight(i, this.dimensions[1])) : this.options.axisPositionHorizontal === "outsideLeft" || this.options.axisPositionVertical === "outsideTop" ? (this.axis.pAxis.position.x = this.position[0] + o, this.axis.pAxis.position.y = this.position[1], this.axis.drawAxisLeft(i, this.dimensions[1])) : this.options.axisPositionHorizontal === "right" || this.options.axisPositionVertical === "bottom" ? (this.axis.pAxis.position.x = this.position[0] + this.dimensions[0] - o, this.axis.pAxis.position.y = this.position[1], this.axis.drawAxisLeft(i, this.dimensions[1])) : (this.options.axisPositionHorizontal === "outsideRight" || this.options.axisPositionVertical === "outsideBottom") && (this.axis.pAxis.position.x = this.position[0] + this.dimensions[0] - o, this.axis.pAxis.position.y = this.position[1], this.axis.drawAxisRight(i, this.dimensions[1]));
    }
  }, {
    key: "mouseMoveZoomHandler",
    value: function(i = this.mouseX, o = this.mouseY) {
      if (typeof i > "u" || !this.areAllVisibleTilesLoaded() || !this.tilesetInfo)
        return;
      let a = 0, s = 0, l = "1d-horizontal";
      this.isLeftModified ? (a = o - this.position[1], s = i - this.position[0], l = "1d-vertical") : (a = i - this.position[0], s = o - this.position[1]);
      const u = i - this.position[0], c = o - this.position[1], f = this._xScale.invert(a), h = this._yScale.invert(s), d = this.getDataAtPos(a);
      d && this.onMouseMoveZoom({
        trackId: this.id,
        data: d,
        absX: i,
        absY: o,
        relX: u,
        relY: c,
        dataX: f,
        dataY: h,
        orientation: l
      });
    }
  }, {
    key: "drawConstIndicator",
    value: function() {
      if (this.constIndicator) {
        for (this.constIndicator.clear(); this.constIndicator.children[0]; )
          this.constIndicator.removeChild(this.constIndicator.children[0]);
        !this.options.constIndicators || !this.valueScale || this.options.constIndicators.forEach(({
          color: i = "black",
          opacity: o = 1,
          label: a = null,
          labelColor: s = "black",
          labelOpacity: l = 1,
          labelPosition: u = "leftTop",
          labelSize: c = 12,
          value: f = 0
        } = {}) => {
          const h = ct(i), d = ct(s);
          this.constIndicator.beginFill(h, o);
          const p = this.valueScale(f);
          let m = 0, g = 0;
          if (a) {
            const v = new Ge.PIXI.Text(a, {
              fontFamily: "Arial",
              fontSize: c,
              fill: d
            });
            switch (v.alpha = l, u) {
              case "right":
                v.anchor.x = 1, v.anchor.y = 0.5, v.x = this.position[0] + this.dimensions[0] - 6, v.y = p, g = v.width + 8;
                break;
              case "rightBottom":
                v.anchor.x = 1, v.anchor.y = 0, v.x = this.position[0] + this.dimensions[0] - 6, v.y = p;
                break;
              case "rightTop":
                v.anchor.x = 1, v.anchor.y = 1, v.x = this.position[0] + this.dimensions[0] - 6, v.y = p;
                break;
              case "left":
                v.anchor.x = 0, v.anchor.y = 0.5, v.x = this.position[0] + 2, v.y = p, m = v.width + 4;
                break;
              case "leftBottom":
                v.anchor.x = 0, v.anchor.y = 0, v.x = this.position[0] + 2, v.y = p;
                break;
              case "leftTop":
              default:
                v.anchor.x = 0, v.anchor.y = 1, v.x = this.position[0] + 2, v.y = p;
                break;
            }
            this.constIndicator.addChild(v);
          }
          this.constIndicator.drawRect(this.position[0] + m, p, this.dimensions[0] - g, 1);
        });
      }
    }
  }, {
    key: "exportSVG",
    value: function() {
      let i = null, o = null;
      Vc(_s(r.prototype), "exportSVG", this) ? [o, i] = Vc(_s(r.prototype), "exportSVG", this).call(this) : (o = document.createElement("g"), i = o), o.setAttribute("class", "horizontal-tiled-1d-track");
      const a = document.createElement("g");
      return i.appendChild(a), this.options.constIndicators && this.options.constIndicators.forEach(({
        color: s = "black",
        opacity: l = 1,
        label: u = null,
        labelColor: c = "black",
        labelOpacity: f = 1,
        labelPosition: h = "leftTop",
        labelSize: d = 12,
        value: p = 0
      } = {}) => {
        const m = this.valueScale(p);
        if (u) {
          const v = document.createElement("text");
          switch (v.textContent = u, v.setAttribute("x", this.position[0]), v.setAttribute("y", m), v.setAttribute("style", `font-family: 'Arial'; font-size: ${d}px; fill: ${c}; fill-opacity: ${f};`), h) {
            case "rightBottom":
              v.setAttribute("x", this.position[0] + this.dimensions[0] - 6), v.setAttribute("y", m + d + 2), v.setAttribute("text-anchor", "end");
              break;
            case "right":
            case "rightTop":
              v.setAttribute("x", this.position[0] + this.dimensions[0] - 6), v.setAttribute("y", m - 2), v.setAttribute("text-anchor", "end");
              break;
            case "leftBottom":
              v.setAttribute("x", this.position[0] + 2), v.setAttribute("y", m + d + 2);
              break;
            case "left":
            case "leftTop":
            default:
              v.setAttribute("x", this.position[0] + 2), v.setAttribute("y", m - 2);
              break;
          }
          a.appendChild(v);
        }
        const g = document.createElement("line");
        g.setAttribute("x1", this.position[0]), g.setAttribute("y1", m), g.setAttribute("x2", this.dimensions[0]), g.setAttribute("y2", m), g.setAttribute("stroke", s), g.setAttribute("stroke-opacity", l), a.appendChild(g);
      }), [o, i];
    }
  }]), r;
}(hM);
function KLe(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function ZLe(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, JLe(n.key), n);
  }
}
function QLe(e13, t, r) {
  return t && ZLe(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function JLe(e13) {
  var t = e5e(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function e5e(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
function bb() {
  return typeof Reflect < "u" && Reflect.get ? bb = Reflect.get.bind() : bb = function(t, r, n) {
    var i = t5e(t, r);
    if (i) {
      var o = Object.getOwnPropertyDescriptor(i, r);
      return o.get ? o.get.call(arguments.length < 3 ? t : n) : o.value;
    }
  }, bb.apply(this, arguments);
}
function t5e(e13, t) {
  for (; !Object.prototype.hasOwnProperty.call(e13, t) && (e13 = xd(e13), e13 !== null); )
    ;
  return e13;
}
function r5e(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  e13.prototype = Object.create(t && t.prototype, { constructor: { value: e13, writable: true, configurable: true } }), Object.defineProperty(e13, "prototype", { writable: false }), t && RC(e13, t);
}
function RC(e13, t) {
  return RC = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, i) {
    return n.__proto__ = i, n;
  }, RC(e13, t);
}
function n5e(e13) {
  var t = a5e();
  return function() {
    var n = xd(e13), i;
    if (t) {
      var o = xd(this).constructor;
      i = Reflect.construct(n, arguments, o);
    } else
      i = n.apply(this, arguments);
    return i5e(this, i);
  };
}
function i5e(e13, t) {
  if (t && (typeof t == "object" || typeof t == "function"))
    return t;
  if (t !== void 0)
    throw new TypeError("Derived constructors may only return object or undefined");
  return o5e(e13);
}
function o5e(e13) {
  if (e13 === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e13;
}
function a5e() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return false;
  if (typeof Proxy == "function")
    return true;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), true;
  } catch {
    return false;
  }
}
function xd(e13) {
  return xd = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(r) {
    return r.__proto__ || Object.getPrototypeOf(r);
  }, xd(e13);
}
var HY = function(e13) {
  r5e(r, e13);
  var t = n5e(r);
  function r(n, i) {
    var o;
    return KLe(this, r), o = t.call(this, n, i), o.pMain = o.pMobile, o;
  }
  return QLe(r, [{
    key: "areAllVisibleTilesLoaded",
    value: function() {
      return true;
    }
  }, {
    key: "initTile",
    value: function(i) {
      const o = i.graphics;
      i.textGraphics = new Ge.PIXI.Graphics(), i.text = new Ge.PIXI.Text(`${i.tileData.zoomLevel}/${i.tileData.tilePos.join("/")}`, {
        fontFamily: "Arial",
        fontSize: 32,
        fill: 16715792,
        align: "center"
      }), i.textGraphics.addChild(i.text), i.text.anchor.x = 0.5, i.text.anchor.y = 0.5, o.addChild(i.textGraphics), this.drawTile(i);
    }
  }, {
    key: "destroyTile",
    value: function(i) {
    }
  }, {
    key: "drawTile",
    value: function(i) {
      if (bb(xd(r.prototype), "drawTile", this).call(this, i), !i.graphics)
        return;
      const o = i.graphics, {
        tileX: a,
        tileWidth: s
      } = this.getTilePosAndDimensions(i.tileData.zoomLevel, i.tileData.tilePos), l = 1 / ((this._xScale(1) - this._xScale(0)) / (this._refXScale(1) - this._refXScale(0)));
      i.text.scale.x = l, o.clear();
      const u = this.dimensions[1], c = this._refXScale(a + s) - this._refXScale(a);
      i.textGraphics.position.x = this._refXScale(a) + c / 2, i.textGraphics.position.y = u / 2;
      const f = this._refXScale(a);
      o.lineStyle(4 * l, 255, 1), o.beginFill(16740363, 0.4), o.alpha = 0.5, o.moveTo(f, 0), o.lineTo(f, u), o.moveTo(f + c, 0), o.lineTo(f + c, u), o.lineStyle(0, 255, 1), o.drawRect(f, 0, c, u);
    }
  }]), r;
}(yp);
function s5e(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function l5e(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, u5e(n.key), n);
  }
}
function c5e(e13, t, r) {
  return t && l5e(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function u5e(e13) {
  var t = h5e(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function h5e(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
function Tb() {
  return typeof Reflect < "u" && Reflect.get ? Tb = Reflect.get.bind() : Tb = function(t, r, n) {
    var i = f5e(t, r);
    if (i) {
      var o = Object.getOwnPropertyDescriptor(i, r);
      return o.get ? o.get.call(arguments.length < 3 ? t : n) : o.value;
    }
  }, Tb.apply(this, arguments);
}
function f5e(e13, t) {
  for (; !Object.prototype.hasOwnProperty.call(e13, t) && (e13 = kd(e13), e13 !== null); )
    ;
  return e13;
}
function d5e(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  e13.prototype = Object.create(t && t.prototype, { constructor: { value: e13, writable: true, configurable: true } }), Object.defineProperty(e13, "prototype", { writable: false }), t && NC(e13, t);
}
function NC(e13, t) {
  return NC = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, i) {
    return n.__proto__ = i, n;
  }, NC(e13, t);
}
function p5e(e13) {
  var t = v5e();
  return function() {
    var n = kd(e13), i;
    if (t) {
      var o = kd(this).constructor;
      i = Reflect.construct(n, arguments, o);
    } else
      i = n.apply(this, arguments);
    return m5e(this, i);
  };
}
function m5e(e13, t) {
  if (t && (typeof t == "object" || typeof t == "function"))
    return t;
  if (t !== void 0)
    throw new TypeError("Derived constructors may only return object or undefined");
  return g5e(e13);
}
function g5e(e13) {
  if (e13 === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e13;
}
function v5e() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return false;
  if (typeof Proxy == "function")
    return true;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), true;
  } catch {
    return false;
  }
}
function kd(e13) {
  return kd = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(r) {
    return r.__proto__ || Object.getPrototypeOf(r);
  }, kd(e13);
}
var UY = function(e13) {
  d5e(r, e13);
  var t = p5e(r);
  function r() {
    return s5e(this, r), t.apply(this, arguments);
  }
  return c5e(r, [{
    key: "calculateZoomLevel",
    value: function() {
      const i = Je.calculateZoomLevel(this._yScale, this.tilesetInfo.min_pos[0], this.tilesetInfo.max_pos[0]);
      return Math.min(i, this.maxZoom);
    }
  }, {
    key: "relevantScale",
    value: function() {
      return this._yScale;
    }
  }, {
    key: "zoomed",
    value: function(i, o) {
      Tb(kd(r.prototype), "zoomed", this).call(this, i, o);
      const a = 1, s = (o(1) - o(0)) / (this._refYScale(1) - this._refYScale(0)), l = this.position[0], u = o(0) + this.position[1] - this._refYScale(1) * s;
      this.pMain.position.x = l, this.pMain.position.y = u, this.pMain.scale.x = a, this.pMain.scale.y = s;
    }
  }]), r;
}(hM);
function y5e(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function _5e(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, T5e(n.key), n);
  }
}
function b5e(e13, t, r) {
  return t && _5e(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function T5e(e13) {
  var t = E5e(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function E5e(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
function Eb() {
  return typeof Reflect < "u" && Reflect.get ? Eb = Reflect.get.bind() : Eb = function(t, r, n) {
    var i = S5e(t, r);
    if (i) {
      var o = Object.getOwnPropertyDescriptor(i, r);
      return o.get ? o.get.call(arguments.length < 3 ? t : n) : o.value;
    }
  }, Eb.apply(this, arguments);
}
function S5e(e13, t) {
  for (; !Object.prototype.hasOwnProperty.call(e13, t) && (e13 = Dd(e13), e13 !== null); )
    ;
  return e13;
}
function w5e(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  e13.prototype = Object.create(t && t.prototype, { constructor: { value: e13, writable: true, configurable: true } }), Object.defineProperty(e13, "prototype", { writable: false }), t && MC(e13, t);
}
function MC(e13, t) {
  return MC = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, i) {
    return n.__proto__ = i, n;
  }, MC(e13, t);
}
function A5e(e13) {
  var t = P5e();
  return function() {
    var n = Dd(e13), i;
    if (t) {
      var o = Dd(this).constructor;
      i = Reflect.construct(n, arguments, o);
    } else
      i = n.apply(this, arguments);
    return O5e(this, i);
  };
}
function O5e(e13, t) {
  if (t && (typeof t == "object" || typeof t == "function"))
    return t;
  if (t !== void 0)
    throw new TypeError("Derived constructors may only return object or undefined");
  return I5e(e13);
}
function I5e(e13) {
  if (e13 === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e13;
}
function P5e() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return false;
  if (typeof Proxy == "function")
    return true;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), true;
  } catch {
    return false;
  }
}
function Dd(e13) {
  return Dd = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(r) {
    return r.__proto__ || Object.getPrototypeOf(r);
  }, Dd(e13);
}
var jY = function(e13) {
  w5e(r, e13);
  var t = A5e(r);
  function r() {
    return y5e(this, r), t.apply(this, arguments);
  }
  return b5e(r, [{
    key: "areAllVisibleTilesLoaded",
    value: function() {
      return true;
    }
  }, {
    key: "initTile",
    value: function(i) {
      const o = i.graphics;
      i.textGraphics = new Ge.PIXI.Graphics(), i.text = new Ge.PIXI.Text(`${i.tileData.zoomLevel}/${i.tileData.tilePos.join("/")}`, {
        fontFamily: "Arial",
        fontSize: 32,
        fill: 16715792,
        align: "center"
      }), i.textGraphics.addChild(i.text), i.text.anchor.x = 0.5, i.text.anchor.y = 0.5, i.text.rotation = -Math.PI / 2, o.addChild(i.textGraphics), this.drawTile(i, o);
    }
  }, {
    key: "destroyTile",
    value: function(i, o) {
    }
  }, {
    key: "drawTile",
    value: function(i) {
      if (Eb(Dd(r.prototype), "drawTile", this).call(this, i), !i.graphics)
        return;
      const o = i.graphics, {
        tileY: a,
        tileHeight: s
      } = this.getTilePosAndDimensions(i.tileData.zoomLevel, i.tileData.tilePos), l = 1 / ((this._yScale(1) - this._yScale(0)) / (this._refYScale(1) - this._refYScale(0)));
      i.text.scale.x = l, o.clear(), o.lineStyle(4 * l, 255, 1), o.beginFill(16740363, 0.4), o.alpha = 0.5;
      const u = this.dimensions[0], c = this._refYScale(a + s) - this._refYScale(a);
      i.textGraphics.position.x = u / 2, i.textGraphics.position.y = this._refYScale(a) + c / 2, o.drawRect(0, this._refYScale(a), u, c);
    }
  }, {
    key: "fetchNewTiles",
    value: function(i) {
      i.forEach((o) => {
        const s = o.remoteId.split("."), l = {
          zoomLevel: s[1],
          tilePos: s.slice(2, s.length).map((u) => +u)
        };
        this.fetchedTiles[o.tileId] = o, this.fetchedTiles[o.tileId].tileData = l, this.fetching.has(o.remoteId) && this.fetching.delete(o.remoteId);
      }), this.synchronizeTilesAndGraphics();
    }
  }]), r;
}(UY);
var EO = Array.prototype.slice;
function C5e(e13) {
  return e13;
}
var Sb = 1;
var wb = 2;
var LC = 3;
var xm = 4;
var dU = 1e-6;
function x5e(e13) {
  return "translate(" + e13 + ",0)";
}
function k5e(e13) {
  return "translate(0," + e13 + ")";
}
function D5e(e13) {
  return (t) => +e13(t);
}
function R5e(e13, t) {
  return t = Math.max(0, e13.bandwidth() - t * 2) / 2, e13.round() && (t = Math.round(t)), (r) => +e13(r) + t;
}
function N5e() {
  return !this.__axis;
}
function pS(e13, t) {
  var r = [], n = null, i = null, o = 6, a = 6, s = 3, l = typeof window < "u" && window.devicePixelRatio > 1 ? 0 : 0.5, u = e13 === Sb || e13 === xm ? -1 : 1, c = e13 === xm || e13 === wb ? "x" : "y", f = e13 === Sb || e13 === LC ? x5e : k5e;
  function h(d) {
    var p = n ?? (t.ticks ? t.ticks.apply(t, r) : t.domain()), m = i ?? (t.tickFormat ? t.tickFormat.apply(t, r) : C5e), g = Math.max(o, 0) + s, v = t.range(), b = +v[0] + l, y = +v[v.length - 1] + l, _ = (t.bandwidth ? R5e : D5e)(t.copy(), l), T = d.selection ? d.selection() : d, E = T.selectAll(".domain").data([null]), O = T.selectAll(".tick").data(p, t).order(), S = O.exit(), P = O.enter().append("g").attr("class", "tick"), C = O.select("line"), w = O.select("text");
    E = E.merge(E.enter().insert("path", ".tick").attr("class", "domain").attr("stroke", "currentColor")), O = O.merge(P), C = C.merge(P.append("line").attr("stroke", "currentColor").attr(c + "2", u * o)), w = w.merge(P.append("text").attr("fill", "currentColor").attr(c, u * g).attr("dy", e13 === Sb ? "0em" : e13 === LC ? "0.71em" : "0.32em")), d !== T && (E = E.transition(d), O = O.transition(d), C = C.transition(d), w = w.transition(d), S = S.transition(d).attr("opacity", dU).attr("transform", function(N) {
      return isFinite(N = _(N)) ? f(N + l) : this.getAttribute("transform");
    }), P.attr("opacity", dU).attr("transform", function(N) {
      var L = this.parentNode.__axis;
      return f((L && isFinite(L = L(N)) ? L : _(N)) + l);
    })), S.remove(), E.attr("d", e13 === xm || e13 === wb ? a ? "M" + u * a + "," + b + "H" + l + "V" + y + "H" + u * a : "M" + l + "," + b + "V" + y : a ? "M" + b + "," + u * a + "V" + l + "H" + y + "V" + u * a : "M" + b + "," + l + "H" + y), O.attr("opacity", 1).attr("transform", function(N) {
      return f(_(N) + l);
    }), C.attr(c + "2", u * o), w.attr(c, u * g).text(m), T.filter(N5e).attr("fill", "none").attr("font-size", 10).attr("font-family", "sans-serif").attr("text-anchor", e13 === wb ? "start" : e13 === xm ? "end" : "middle"), T.each(function() {
      this.__axis = _;
    });
  }
  return h.scale = function(d) {
    return arguments.length ? (t = d, h) : t;
  }, h.ticks = function() {
    return r = EO.call(arguments), h;
  }, h.tickArguments = function(d) {
    return arguments.length ? (r = d == null ? [] : EO.call(d), h) : r.slice();
  }, h.tickValues = function(d) {
    return arguments.length ? (n = d == null ? null : EO.call(d), h) : n && n.slice();
  }, h.tickFormat = function(d) {
    return arguments.length ? (i = d, h) : i;
  }, h.tickSize = function(d) {
    return arguments.length ? (o = a = +d, h) : o;
  }, h.tickSizeInner = function(d) {
    return arguments.length ? (o = +d, h) : o;
  }, h.tickSizeOuter = function(d) {
    return arguments.length ? (a = +d, h) : a;
  }, h.tickPadding = function(d) {
    return arguments.length ? (s = +d, h) : s;
  }, h.offset = function(d) {
    return arguments.length ? (l = +d, h) : l;
  }, h;
}
function GY(e13) {
  return pS(Sb, e13);
}
function M5e(e13) {
  return pS(wb, e13);
}
function L5e(e13) {
  return pS(LC, e13);
}
function zY(e13) {
  return pS(xm, e13);
}
var B5e = Object.freeze(Object.defineProperty({
  __proto__: null,
  axisBottom: L5e,
  axisLeft: zY,
  axisRight: M5e,
  axisTop: GY
}, Symbol.toStringTag, { value: "Module" }));
function F5e(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function $5e(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, U5e(n.key), n);
  }
}
function H5e(e13, t, r) {
  return t && $5e(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function U5e(e13) {
  var t = j5e(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function j5e(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
function G5e(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  e13.prototype = Object.create(t && t.prototype, { constructor: { value: e13, writable: true, configurable: true } }), Object.defineProperty(e13, "prototype", { writable: false }), t && BC(e13, t);
}
function BC(e13, t) {
  return BC = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, i) {
    return n.__proto__ = i, n;
  }, BC(e13, t);
}
function z5e(e13) {
  var t = W5e();
  return function() {
    var n = nT(e13), i;
    if (t) {
      var o = nT(this).constructor;
      i = Reflect.construct(n, arguments, o);
    } else
      i = n.apply(this, arguments);
    return V5e(this, i);
  };
}
function V5e(e13, t) {
  if (t && (typeof t == "object" || typeof t == "function"))
    return t;
  if (t !== void 0)
    throw new TypeError("Derived constructors may only return object or undefined");
  return X5e(e13);
}
function X5e(e13) {
  if (e13 === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e13;
}
function W5e() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return false;
  if (typeof Proxy == "function")
    return true;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), true;
  } catch {
    return false;
  }
}
function nT(e13) {
  return nT = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(r) {
    return r.__proto__ || Object.getPrototypeOf(r);
  }, nT(e13);
}
var lh = function(e13) {
  G5e(r, e13);
  var t = z5e(r);
  function r(n, i) {
    var o;
    F5e(this, r), o = t.call(this, n, i);
    const {
      svgElement: a
    } = n;
    return o.gMain = Wt(a).append("g"), o.clipUid = Gt.nice(), o.clipRect = o.gMain.append("clipPath").attr("id", `track-bounds-${o.clipUid}`).append("rect"), o.gMain.attr("clip-path", `url(#track-bounds-${o.clipUid})`), o;
  }
  return H5e(r, [{
    key: "setPosition",
    value: function(i) {
      this.position = i, this.gMain.attr("transform", `translate(${this.position[0]},${this.position[1]})`), this.draw();
    }
  }, {
    key: "setDimensions",
    value: function(i) {
      this.dimensions = i, this._xScale.range([0, this.dimensions[0]]), this._yScale.range([0, this.dimensions[1]]), i[0] >= 0 && i[1] >= 0 ? (this.clipRect.attr("width", i[0]), this.clipRect.attr("height", i[1])) : (this.clipRect.attr("width", 0), this.clipRect.attr("height", 0)), this.draw();
    }
  }, {
    key: "remove",
    value: function() {
      this.gMain.remove(), this.gMain = null;
    }
  }, {
    key: "draw",
    value: function() {
      return this;
    }
  }]), r;
}(Df);
function Y5e(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function q5e(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, Z5e(n.key), n);
  }
}
function K5e(e13, t, r) {
  return t && q5e(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function Z5e(e13) {
  var t = Q5e(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function Q5e(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
function bg() {
  return typeof Reflect < "u" && Reflect.get ? bg = Reflect.get.bind() : bg = function(t, r, n) {
    var i = J5e(t, r);
    if (i) {
      var o = Object.getOwnPropertyDescriptor(i, r);
      return o.get ? o.get.call(arguments.length < 3 ? t : n) : o.value;
    }
  }, bg.apply(this, arguments);
}
function J5e(e13, t) {
  for (; !Object.prototype.hasOwnProperty.call(e13, t) && (e13 = Cu(e13), e13 !== null); )
    ;
  return e13;
}
function eBe(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  e13.prototype = Object.create(t && t.prototype, { constructor: { value: e13, writable: true, configurable: true } }), Object.defineProperty(e13, "prototype", { writable: false }), t && FC(e13, t);
}
function FC(e13, t) {
  return FC = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, i) {
    return n.__proto__ = i, n;
  }, FC(e13, t);
}
function tBe(e13) {
  var t = iBe();
  return function() {
    var n = Cu(e13), i;
    if (t) {
      var o = Cu(this).constructor;
      i = Reflect.construct(n, arguments, o);
    } else
      i = n.apply(this, arguments);
    return rBe(this, i);
  };
}
function rBe(e13, t) {
  if (t && (typeof t == "object" || typeof t == "function"))
    return t;
  if (t !== void 0)
    throw new TypeError("Derived constructors may only return object or undefined");
  return nBe(e13);
}
function nBe(e13) {
  if (e13 === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e13;
}
function iBe() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return false;
  if (typeof Proxy == "function")
    return true;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), true;
  } catch {
    return false;
  }
}
function Cu(e13) {
  return Cu = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(r) {
    return r.__proto__ || Object.getPrototypeOf(r);
  }, Cu(e13);
}
var VY = function(e13) {
  eBe(r, e13);
  var t = tBe(r);
  function r(n, i) {
    var o;
    return Y5e(this, r), o = t.call(this, n, i), o.axis = GY(o._xScale), o.gAxis = o.gMain.append("g"), o.tilesetInfo = true, o;
  }
  return K5e(r, [{
    key: "setDimensions",
    value: function(i) {
      bg(Cu(r.prototype), "setDimensions", this).call(this, i), this.axis.ticks(Math.ceil(this.dimensions[0] / 150)), this.gAxis.attr("transform", `translate(0,${i[1]})`);
    }
  }, {
    key: "draw",
    value: function() {
      return this.axis.scale(this._xScale), this.gAxis.call(this.axis), this;
    }
  }, {
    key: "zoomed",
    value: function(i, o) {
      bg(Cu(r.prototype), "zoomed", this).call(this, i, o), this.draw();
    }
  }]), r;
}(lh);
function oBe(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function aBe(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, lBe(n.key), n);
  }
}
function sBe(e13, t, r) {
  return t && aBe(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function lBe(e13) {
  var t = cBe(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function cBe(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
function Tg() {
  return typeof Reflect < "u" && Reflect.get ? Tg = Reflect.get.bind() : Tg = function(t, r, n) {
    var i = uBe(t, r);
    if (i) {
      var o = Object.getOwnPropertyDescriptor(i, r);
      return o.get ? o.get.call(arguments.length < 3 ? t : n) : o.value;
    }
  }, Tg.apply(this, arguments);
}
function uBe(e13, t) {
  for (; !Object.prototype.hasOwnProperty.call(e13, t) && (e13 = xu(e13), e13 !== null); )
    ;
  return e13;
}
function hBe(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  e13.prototype = Object.create(t && t.prototype, { constructor: { value: e13, writable: true, configurable: true } }), Object.defineProperty(e13, "prototype", { writable: false }), t && $C(e13, t);
}
function $C(e13, t) {
  return $C = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, i) {
    return n.__proto__ = i, n;
  }, $C(e13, t);
}
function fBe(e13) {
  var t = mBe();
  return function() {
    var n = xu(e13), i;
    if (t) {
      var o = xu(this).constructor;
      i = Reflect.construct(n, arguments, o);
    } else
      i = n.apply(this, arguments);
    return dBe(this, i);
  };
}
function dBe(e13, t) {
  if (t && (typeof t == "object" || typeof t == "function"))
    return t;
  if (t !== void 0)
    throw new TypeError("Derived constructors may only return object or undefined");
  return pBe(e13);
}
function pBe(e13) {
  if (e13 === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e13;
}
function mBe() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return false;
  if (typeof Proxy == "function")
    return true;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), true;
  } catch {
    return false;
  }
}
function xu(e13) {
  return xu = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(r) {
    return r.__proto__ || Object.getPrototypeOf(r);
  }, xu(e13);
}
var XY = function(e13) {
  hBe(r, e13);
  var t = fBe(r);
  function r(n, i) {
    var o;
    return oBe(this, r), o = t.call(this, n, i), o.axis = zY(o._yScale), o.gAxis = o.gMain.append("g"), o.tilesetInfo = true, o;
  }
  return sBe(r, [{
    key: "setDimensions",
    value: function(i) {
      Tg(xu(r.prototype), "setDimensions", this).call(this, i), this.axis.ticks(Math.ceil(this.dimensions[1] / 150)), this.gAxis.attr("transform", `translate(${i[0]},0)`);
    }
  }, {
    key: "draw",
    value: function() {
      return this.axis.scale(this._yScale), this.gAxis.call(this.axis), this;
    }
  }, {
    key: "zoomed",
    value: function(i, o) {
      Tg(xu(r.prototype), "zoomed", this).call(this, i, o), this.draw();
    }
  }]), r;
}(lh);
var jt = {};
var $r = {};
var fM = 32;
$r.INT_BITS = fM;
$r.INT_MAX = 2147483647;
$r.INT_MIN = -1 << fM - 1;
$r.sign = function(e13) {
  return (e13 > 0) - (e13 < 0);
};
$r.abs = function(e13) {
  var t = e13 >> fM - 1;
  return (e13 ^ t) - t;
};
$r.min = function(e13, t) {
  return t ^ (e13 ^ t) & -(e13 < t);
};
$r.max = function(e13, t) {
  return e13 ^ (e13 ^ t) & -(e13 < t);
};
$r.isPow2 = function(e13) {
  return !(e13 & e13 - 1) && !!e13;
};
$r.log2 = function(e13) {
  var t, r;
  return t = (e13 > 65535) << 4, e13 >>>= t, r = (e13 > 255) << 3, e13 >>>= r, t |= r, r = (e13 > 15) << 2, e13 >>>= r, t |= r, r = (e13 > 3) << 1, e13 >>>= r, t |= r, t | e13 >> 1;
};
$r.log10 = function(e13) {
  return e13 >= 1e9 ? 9 : e13 >= 1e8 ? 8 : e13 >= 1e7 ? 7 : e13 >= 1e6 ? 6 : e13 >= 1e5 ? 5 : e13 >= 1e4 ? 4 : e13 >= 1e3 ? 3 : e13 >= 100 ? 2 : e13 >= 10 ? 1 : 0;
};
$r.popCount = function(e13) {
  return e13 = e13 - (e13 >>> 1 & 1431655765), e13 = (e13 & 858993459) + (e13 >>> 2 & 858993459), (e13 + (e13 >>> 4) & 252645135) * 16843009 >>> 24;
};
function WY(e13) {
  var t = 32;
  return e13 &= -e13, e13 && t--, e13 & 65535 && (t -= 16), e13 & 16711935 && (t -= 8), e13 & 252645135 && (t -= 4), e13 & 858993459 && (t -= 2), e13 & 1431655765 && (t -= 1), t;
}
$r.countTrailingZeros = WY;
$r.nextPow2 = function(e13) {
  return e13 += e13 === 0, --e13, e13 |= e13 >>> 1, e13 |= e13 >>> 2, e13 |= e13 >>> 4, e13 |= e13 >>> 8, e13 |= e13 >>> 16, e13 + 1;
};
$r.prevPow2 = function(e13) {
  return e13 |= e13 >>> 1, e13 |= e13 >>> 2, e13 |= e13 >>> 4, e13 |= e13 >>> 8, e13 |= e13 >>> 16, e13 - (e13 >>> 1);
};
$r.parity = function(e13) {
  return e13 ^= e13 >>> 16, e13 ^= e13 >>> 8, e13 ^= e13 >>> 4, e13 &= 15, 27030 >>> e13 & 1;
};
var km = new Array(256);
(function(e13) {
  for (var t = 0; t < 256; ++t) {
    var r = t, n = t, i = 7;
    for (r >>>= 1; r; r >>>= 1)
      n <<= 1, n |= r & 1, --i;
    e13[t] = n << i & 255;
  }
})(km);
$r.reverse = function(e13) {
  return km[e13 & 255] << 24 | km[e13 >>> 8 & 255] << 16 | km[e13 >>> 16 & 255] << 8 | km[e13 >>> 24 & 255];
};
$r.interleave2 = function(e13, t) {
  return e13 &= 65535, e13 = (e13 | e13 << 8) & 16711935, e13 = (e13 | e13 << 4) & 252645135, e13 = (e13 | e13 << 2) & 858993459, e13 = (e13 | e13 << 1) & 1431655765, t &= 65535, t = (t | t << 8) & 16711935, t = (t | t << 4) & 252645135, t = (t | t << 2) & 858993459, t = (t | t << 1) & 1431655765, e13 | t << 1;
};
$r.deinterleave2 = function(e13, t) {
  return e13 = e13 >>> t & 1431655765, e13 = (e13 | e13 >>> 1) & 858993459, e13 = (e13 | e13 >>> 2) & 252645135, e13 = (e13 | e13 >>> 4) & 16711935, e13 = (e13 | e13 >>> 16) & 65535, e13 << 16 >> 16;
};
$r.interleave3 = function(e13, t, r) {
  return e13 &= 1023, e13 = (e13 | e13 << 16) & 4278190335, e13 = (e13 | e13 << 8) & 251719695, e13 = (e13 | e13 << 4) & 3272356035, e13 = (e13 | e13 << 2) & 1227133513, t &= 1023, t = (t | t << 16) & 4278190335, t = (t | t << 8) & 251719695, t = (t | t << 4) & 3272356035, t = (t | t << 2) & 1227133513, e13 |= t << 1, r &= 1023, r = (r | r << 16) & 4278190335, r = (r | r << 8) & 251719695, r = (r | r << 4) & 3272356035, r = (r | r << 2) & 1227133513, e13 | r << 2;
};
$r.deinterleave3 = function(e13, t) {
  return e13 = e13 >>> t & 1227133513, e13 = (e13 | e13 >>> 2) & 3272356035, e13 = (e13 | e13 >>> 4) & 251719695, e13 = (e13 | e13 >>> 8) & 4278190335, e13 = (e13 | e13 >>> 16) & 1023, e13 << 22 >> 22;
};
$r.nextCombination = function(e13) {
  var t = e13 | e13 - 1;
  return t + 1 | (~t & -~t) - 1 >>> WY(e13) + 1;
};
function YY(e13, t, r) {
  var n = e13[r] | 0;
  if (n <= 0)
    return [];
  var i = new Array(n), o;
  if (r === e13.length - 1)
    for (o = 0; o < n; ++o)
      i[o] = t;
  else
    for (o = 0; o < n; ++o)
      i[o] = YY(e13, t, r + 1);
  return i;
}
function gBe(e13, t) {
  var r, n;
  for (r = new Array(e13), n = 0; n < e13; ++n)
    r[n] = t;
  return r;
}
function vBe(e13, t) {
  switch (typeof t > "u" && (t = 0), typeof e13) {
    case "number":
      if (e13 > 0)
        return gBe(e13 | 0, t);
      break;
    case "object":
      if (typeof e13.length == "number")
        return YY(e13, t, 0);
      break;
  }
  return [];
}
var yBe = vBe;
var qY = {};
var mS = {};
mS.byteLength = TBe;
mS.toByteArray = SBe;
mS.fromByteArray = OBe;
var Ea = [];
var fo = [];
var _Be = typeof Uint8Array < "u" ? Uint8Array : Array;
var SO = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";
for (Nh = 0, bBe = SO.length; Nh < bBe; ++Nh)
  Ea[Nh] = SO[Nh], fo[SO.charCodeAt(Nh)] = Nh;
var Nh;
var bBe;
fo[45] = 62;
fo[95] = 63;
function KY(e13) {
  var t = e13.length;
  if (t % 4 > 0)
    throw new Error("Invalid string. Length must be a multiple of 4");
  var r = e13.indexOf("=");
  r === -1 && (r = t);
  var n = r === t ? 0 : 4 - r % 4;
  return [r, n];
}
function TBe(e13) {
  var t = KY(e13), r = t[0], n = t[1];
  return (r + n) * 3 / 4 - n;
}
function EBe(e13, t, r) {
  return (t + r) * 3 / 4 - r;
}
function SBe(e13) {
  var t, r = KY(e13), n = r[0], i = r[1], o = new _Be(EBe(e13, n, i)), a = 0, s = i > 0 ? n - 4 : n, l;
  for (l = 0; l < s; l += 4)
    t = fo[e13.charCodeAt(l)] << 18 | fo[e13.charCodeAt(l + 1)] << 12 | fo[e13.charCodeAt(l + 2)] << 6 | fo[e13.charCodeAt(l + 3)], o[a++] = t >> 16 & 255, o[a++] = t >> 8 & 255, o[a++] = t & 255;
  return i === 2 && (t = fo[e13.charCodeAt(l)] << 2 | fo[e13.charCodeAt(l + 1)] >> 4, o[a++] = t & 255), i === 1 && (t = fo[e13.charCodeAt(l)] << 10 | fo[e13.charCodeAt(l + 1)] << 4 | fo[e13.charCodeAt(l + 2)] >> 2, o[a++] = t >> 8 & 255, o[a++] = t & 255), o;
}
function wBe(e13) {
  return Ea[e13 >> 18 & 63] + Ea[e13 >> 12 & 63] + Ea[e13 >> 6 & 63] + Ea[e13 & 63];
}
function ABe(e13, t, r) {
  for (var n, i = [], o = t; o < r; o += 3)
    n = (e13[o] << 16 & 16711680) + (e13[o + 1] << 8 & 65280) + (e13[o + 2] & 255), i.push(wBe(n));
  return i.join("");
}
function OBe(e13) {
  for (var t, r = e13.length, n = r % 3, i = [], o = 16383, a = 0, s = r - n; a < s; a += o)
    i.push(ABe(e13, a, a + o > s ? s : a + o));
  return n === 1 ? (t = e13[r - 1], i.push(Ea[t >> 2] + Ea[t << 4 & 63] + "==")) : n === 2 && (t = (e13[r - 2] << 8) + e13[r - 1], i.push(Ea[t >> 10] + Ea[t >> 4 & 63] + Ea[t << 2 & 63] + "=")), i.join("");
}
var dM = {};
dM.read = function(e13, t, r, n, i) {
  var o, a, s = i * 8 - n - 1, l = (1 << s) - 1, u = l >> 1, c = -7, f = r ? i - 1 : 0, h = r ? -1 : 1, d = e13[t + f];
  for (f += h, o = d & (1 << -c) - 1, d >>= -c, c += s; c > 0; o = o * 256 + e13[t + f], f += h, c -= 8)
    ;
  for (a = o & (1 << -c) - 1, o >>= -c, c += n; c > 0; a = a * 256 + e13[t + f], f += h, c -= 8)
    ;
  if (o === 0)
    o = 1 - u;
  else {
    if (o === l)
      return a ? NaN : (d ? -1 : 1) * (1 / 0);
    a = a + Math.pow(2, n), o = o - u;
  }
  return (d ? -1 : 1) * a * Math.pow(2, o - n);
};
dM.write = function(e13, t, r, n, i, o) {
  var a, s, l, u = o * 8 - i - 1, c = (1 << u) - 1, f = c >> 1, h = i === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0, d = n ? 0 : o - 1, p = n ? 1 : -1, m = t < 0 || t === 0 && 1 / t < 0 ? 1 : 0;
  for (t = Math.abs(t), isNaN(t) || t === 1 / 0 ? (s = isNaN(t) ? 1 : 0, a = c) : (a = Math.floor(Math.log(t) / Math.LN2), t * (l = Math.pow(2, -a)) < 1 && (a--, l *= 2), a + f >= 1 ? t += h / l : t += h * Math.pow(2, 1 - f), t * l >= 2 && (a++, l /= 2), a + f >= c ? (s = 0, a = c) : a + f >= 1 ? (s = (t * l - 1) * Math.pow(2, i), a = a + f) : (s = t * Math.pow(2, f - 1) * Math.pow(2, i), a = 0)); i >= 8; e13[r + d] = s & 255, d += p, s /= 256, i -= 8)
    ;
  for (a = a << i | s, u += i; u > 0; e13[r + d] = a & 255, d += p, a /= 256, u -= 8)
    ;
  e13[r + d - p] |= m * 128;
};
(function(e13) {
  function t(H, x) {
    if (!(H instanceof x))
      throw new TypeError("Cannot call a class as a function");
  }
  function r(H, x) {
    for (var B = 0; B < x.length; B++) {
      var Q = x[B];
      Q.enumerable = Q.enumerable || false, Q.configurable = true, "value" in Q && (Q.writable = true), Object.defineProperty(H, i(Q.key), Q);
    }
  }
  function n(H, x, B) {
    return x && r(H.prototype, x), Object.defineProperty(H, "prototype", { writable: false }), H;
  }
  function i(H) {
    var x = o(H, "string");
    return typeof x == "symbol" ? x : String(x);
  }
  function o(H, x) {
    if (typeof H != "object" || H === null)
      return H;
    var B = H[Symbol.toPrimitive];
    if (B !== void 0) {
      var Q = B.call(H, x);
      if (typeof Q != "object")
        return Q;
      throw new TypeError("@@toPrimitive must return a primitive value.");
    }
    return String(H);
  }
  function a(H, x) {
    if (typeof x != "function" && x !== null)
      throw new TypeError("Super expression must either be null or a function");
    H.prototype = Object.create(x && x.prototype, { constructor: { value: H, writable: true, configurable: true } }), Object.defineProperty(H, "prototype", { writable: false }), x && s(H, x);
  }
  function s(H, x) {
    return s = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(Q, ge) {
      return Q.__proto__ = ge, Q;
    }, s(H, x);
  }
  function l(H) {
    var x = f();
    return function() {
      var Q = h(H), ge;
      if (x) {
        var Z = h(this).constructor;
        ge = Reflect.construct(Q, arguments, Z);
      } else
        ge = Q.apply(this, arguments);
      return u(this, ge);
    };
  }
  function u(H, x) {
    if (x && (typeof x == "object" || typeof x == "function"))
      return x;
    if (x !== void 0)
      throw new TypeError("Derived constructors may only return object or undefined");
    return c(H);
  }
  function c(H) {
    if (H === void 0)
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    return H;
  }
  function f() {
    if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
      return false;
    if (typeof Proxy == "function")
      return true;
    try {
      return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
      })), true;
    } catch {
      return false;
    }
  }
  function h(H) {
    return h = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(B) {
      return B.__proto__ || Object.getPrototypeOf(B);
    }, h(H);
  }
  const d = mS, p = dM, m = typeof Symbol == "function" && typeof Symbol.for == "function" ? Symbol.for("nodejs.util.inspect.custom") : null;
  e13.Buffer = y, e13.SlowBuffer = A, e13.INSPECT_MAX_BYTES = 50;
  const g = 2147483647;
  e13.kMaxLength = g, y.TYPED_ARRAY_SUPPORT = v(), !y.TYPED_ARRAY_SUPPORT && typeof console < "u" && typeof console.error == "function" && console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");
  function v() {
    try {
      const H = new Uint8Array(1), x = {
        foo: function() {
          return 42;
        }
      };
      return Object.setPrototypeOf(x, Uint8Array.prototype), Object.setPrototypeOf(H, x), H.foo() === 42;
    } catch {
      return false;
    }
  }
  Object.defineProperty(y.prototype, "parent", {
    enumerable: true,
    get: function() {
      if (y.isBuffer(this))
        return this.buffer;
    }
  }), Object.defineProperty(y.prototype, "offset", {
    enumerable: true,
    get: function() {
      if (y.isBuffer(this))
        return this.byteOffset;
    }
  });
  function b(H) {
    if (H > g)
      throw new RangeError('The value "' + H + '" is invalid for option "size"');
    const x = new Uint8Array(H);
    return Object.setPrototypeOf(x, y.prototype), x;
  }
  function y(H, x, B) {
    if (typeof H == "number") {
      if (typeof x == "string")
        throw new TypeError('The "string" argument must be of type string. Received type number');
      return O(H);
    }
    return _(H, x, B);
  }
  y.poolSize = 8192;
  function _(H, x, B) {
    if (typeof H == "string")
      return S(H, x);
    if (ArrayBuffer.isView(H))
      return C(H);
    if (H == null)
      throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type " + typeof H);
    if (rt(H, ArrayBuffer) || H && rt(H.buffer, ArrayBuffer) || typeof SharedArrayBuffer < "u" && (rt(H, SharedArrayBuffer) || H && rt(H.buffer, SharedArrayBuffer)))
      return w(H, x, B);
    if (typeof H == "number")
      throw new TypeError('The "value" argument must not be of type number. Received type number');
    const Q = H.valueOf && H.valueOf();
    if (Q != null && Q !== H)
      return y.from(Q, x, B);
    const ge = N(H);
    if (ge)
      return ge;
    if (typeof Symbol < "u" && Symbol.toPrimitive != null && typeof H[Symbol.toPrimitive] == "function")
      return y.from(H[Symbol.toPrimitive]("string"), x, B);
    throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type " + typeof H);
  }
  y.from = function(H, x, B) {
    return _(H, x, B);
  }, Object.setPrototypeOf(y.prototype, Uint8Array.prototype), Object.setPrototypeOf(y, Uint8Array);
  function T(H) {
    if (typeof H != "number")
      throw new TypeError('"size" argument must be of type number');
    if (H < 0)
      throw new RangeError('The value "' + H + '" is invalid for option "size"');
  }
  function E(H, x, B) {
    return T(H), H <= 0 ? b(H) : x !== void 0 ? typeof B == "string" ? b(H).fill(x, B) : b(H).fill(x) : b(H);
  }
  y.alloc = function(H, x, B) {
    return E(H, x, B);
  };
  function O(H) {
    return T(H), b(H < 0 ? 0 : L(H) | 0);
  }
  y.allocUnsafe = function(H) {
    return O(H);
  }, y.allocUnsafeSlow = function(H) {
    return O(H);
  };
  function S(H, x) {
    if ((typeof x != "string" || x === "") && (x = "utf8"), !y.isEncoding(x))
      throw new TypeError("Unknown encoding: " + x);
    const B = R(H, x) | 0;
    let Q = b(B);
    const ge = Q.write(H, x);
    return ge !== B && (Q = Q.slice(0, ge)), Q;
  }
  function P(H) {
    const x = H.length < 0 ? 0 : L(H.length) | 0, B = b(x);
    for (let Q = 0; Q < x; Q += 1)
      B[Q] = H[Q] & 255;
    return B;
  }
  function C(H) {
    if (rt(H, Uint8Array)) {
      const x = new Uint8Array(H);
      return w(x.buffer, x.byteOffset, x.byteLength);
    }
    return P(H);
  }
  function w(H, x, B) {
    if (x < 0 || H.byteLength < x)
      throw new RangeError('"offset" is outside of buffer bounds');
    if (H.byteLength < x + (B || 0))
      throw new RangeError('"length" is outside of buffer bounds');
    let Q;
    return x === void 0 && B === void 0 ? Q = new Uint8Array(H) : B === void 0 ? Q = new Uint8Array(H, x) : Q = new Uint8Array(H, x, B), Object.setPrototypeOf(Q, y.prototype), Q;
  }
  function N(H) {
    if (y.isBuffer(H)) {
      const x = L(H.length) | 0, B = b(x);
      return B.length === 0 || H.copy(B, 0, 0, x), B;
    }
    if (H.length !== void 0)
      return typeof H.length != "number" || ut(H.length) ? b(0) : P(H);
    if (H.type === "Buffer" && Array.isArray(H.data))
      return P(H.data);
  }
  function L(H) {
    if (H >= g)
      throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x" + g.toString(16) + " bytes");
    return H | 0;
  }
  function A(H) {
    return +H != H && (H = 0), y.alloc(+H);
  }
  y.isBuffer = function(x) {
    return x != null && x._isBuffer === true && x !== y.prototype;
  }, y.compare = function(x, B) {
    if (rt(x, Uint8Array) && (x = y.from(x, x.offset, x.byteLength)), rt(B, Uint8Array) && (B = y.from(B, B.offset, B.byteLength)), !y.isBuffer(x) || !y.isBuffer(B))
      throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');
    if (x === B)
      return 0;
    let Q = x.length, ge = B.length;
    for (let Z = 0, Y = Math.min(Q, ge); Z < Y; ++Z)
      if (x[Z] !== B[Z]) {
        Q = x[Z], ge = B[Z];
        break;
      }
    return Q < ge ? -1 : ge < Q ? 1 : 0;
  }, y.isEncoding = function(x) {
    switch (String(x).toLowerCase()) {
      case "hex":
      case "utf8":
      case "utf-8":
      case "ascii":
      case "latin1":
      case "binary":
      case "base64":
      case "ucs2":
      case "ucs-2":
      case "utf16le":
      case "utf-16le":
        return true;
      default:
        return false;
    }
  }, y.concat = function(x, B) {
    if (!Array.isArray(x))
      throw new TypeError('"list" argument must be an Array of Buffers');
    if (x.length === 0)
      return y.alloc(0);
    let Q;
    if (B === void 0)
      for (B = 0, Q = 0; Q < x.length; ++Q)
        B += x[Q].length;
    const ge = y.allocUnsafe(B);
    let Z = 0;
    for (Q = 0; Q < x.length; ++Q) {
      let Y = x[Q];
      if (rt(Y, Uint8Array))
        Z + Y.length > ge.length ? (y.isBuffer(Y) || (Y = y.from(Y)), Y.copy(ge, Z)) : Uint8Array.prototype.set.call(ge, Y, Z);
      else if (y.isBuffer(Y))
        Y.copy(ge, Z);
      else
        throw new TypeError('"list" argument must be an Array of Buffers');
      Z += Y.length;
    }
    return ge;
  };
  function R(H, x) {
    if (y.isBuffer(H))
      return H.length;
    if (ArrayBuffer.isView(H) || rt(H, ArrayBuffer))
      return H.byteLength;
    if (typeof H != "string")
      throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type ' + typeof H);
    const B = H.length, Q = arguments.length > 2 && arguments[2] === true;
    if (!Q && B === 0)
      return 0;
    let ge = false;
    for (; ; )
      switch (x) {
        case "ascii":
        case "latin1":
        case "binary":
          return B;
        case "utf8":
        case "utf-8":
          return Ce(H).length;
        case "ucs2":
        case "ucs-2":
        case "utf16le":
        case "utf-16le":
          return B * 2;
        case "hex":
          return B >>> 1;
        case "base64":
          return We(H).length;
        default:
          if (ge)
            return Q ? -1 : Ce(H).length;
          x = ("" + x).toLowerCase(), ge = true;
      }
  }
  y.byteLength = R;
  function F(H, x, B) {
    let Q = false;
    if ((x === void 0 || x < 0) && (x = 0), x > this.length || ((B === void 0 || B > this.length) && (B = this.length), B <= 0) || (B >>>= 0, x >>>= 0, B <= x))
      return "";
    for (H || (H = "utf8"); ; )
      switch (H) {
        case "hex":
          return Ne(this, x, B);
        case "utf8":
        case "utf-8":
          return Te(this, x, B);
        case "ascii":
          return Ee(this, x, B);
        case "latin1":
        case "binary":
          return Me(this, x, B);
        case "base64":
          return se(this, x, B);
        case "ucs2":
        case "ucs-2":
        case "utf16le":
        case "utf-16le":
          return Oe(this, x, B);
        default:
          if (Q)
            throw new TypeError("Unknown encoding: " + H);
          H = (H + "").toLowerCase(), Q = true;
      }
  }
  y.prototype._isBuffer = true;
  function $(H, x, B) {
    const Q = H[x];
    H[x] = H[B], H[B] = Q;
  }
  y.prototype.swap16 = function() {
    const x = this.length;
    if (x % 2 !== 0)
      throw new RangeError("Buffer size must be a multiple of 16-bits");
    for (let B = 0; B < x; B += 2)
      $(this, B, B + 1);
    return this;
  }, y.prototype.swap32 = function() {
    const x = this.length;
    if (x % 4 !== 0)
      throw new RangeError("Buffer size must be a multiple of 32-bits");
    for (let B = 0; B < x; B += 4)
      $(this, B, B + 3), $(this, B + 1, B + 2);
    return this;
  }, y.prototype.swap64 = function() {
    const x = this.length;
    if (x % 8 !== 0)
      throw new RangeError("Buffer size must be a multiple of 64-bits");
    for (let B = 0; B < x; B += 8)
      $(this, B, B + 7), $(this, B + 1, B + 6), $(this, B + 2, B + 5), $(this, B + 3, B + 4);
    return this;
  }, y.prototype.toString = function() {
    const x = this.length;
    return x === 0 ? "" : arguments.length === 0 ? Te(this, 0, x) : F.apply(this, arguments);
  }, y.prototype.toLocaleString = y.prototype.toString, y.prototype.equals = function(x) {
    if (!y.isBuffer(x))
      throw new TypeError("Argument must be a Buffer");
    return this === x ? true : y.compare(this, x) === 0;
  }, y.prototype.inspect = function() {
    let x = "";
    const B = e13.INSPECT_MAX_BYTES;
    return x = this.toString("hex", 0, B).replace(/(.{2})/g, "$1 ").trim(), this.length > B && (x += " ... "), "<Buffer " + x + ">";
  }, m && (y.prototype[m] = y.prototype.inspect), y.prototype.compare = function(x, B, Q, ge, Z) {
    if (rt(x, Uint8Array) && (x = y.from(x, x.offset, x.byteLength)), !y.isBuffer(x))
      throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type ' + typeof x);
    if (B === void 0 && (B = 0), Q === void 0 && (Q = x ? x.length : 0), ge === void 0 && (ge = 0), Z === void 0 && (Z = this.length), B < 0 || Q > x.length || ge < 0 || Z > this.length)
      throw new RangeError("out of range index");
    if (ge >= Z && B >= Q)
      return 0;
    if (ge >= Z)
      return -1;
    if (B >= Q)
      return 1;
    if (B >>>= 0, Q >>>= 0, ge >>>= 0, Z >>>= 0, this === x)
      return 0;
    let Y = Z - ge, j = Q - B;
    const G = Math.min(Y, j), ue = this.slice(ge, Z), ye = x.slice(B, Q);
    for (let ve = 0; ve < G; ++ve)
      if (ue[ve] !== ye[ve]) {
        Y = ue[ve], j = ye[ve];
        break;
      }
    return Y < j ? -1 : j < Y ? 1 : 0;
  };
  function K(H, x, B, Q, ge) {
    if (H.length === 0)
      return -1;
    if (typeof B == "string" ? (Q = B, B = 0) : B > 2147483647 ? B = 2147483647 : B < -2147483648 && (B = -2147483648), B = +B, ut(B) && (B = ge ? 0 : H.length - 1), B < 0 && (B = H.length + B), B >= H.length) {
      if (ge)
        return -1;
      B = H.length - 1;
    } else if (B < 0)
      if (ge)
        B = 0;
      else
        return -1;
    if (typeof x == "string" && (x = y.from(x, Q)), y.isBuffer(x))
      return x.length === 0 ? -1 : ie(H, x, B, Q, ge);
    if (typeof x == "number")
      return x = x & 255, typeof Uint8Array.prototype.indexOf == "function" ? ge ? Uint8Array.prototype.indexOf.call(H, x, B) : Uint8Array.prototype.lastIndexOf.call(H, x, B) : ie(H, [x], B, Q, ge);
    throw new TypeError("val must be string, number or Buffer");
  }
  function ie(H, x, B, Q, ge) {
    let Z = 1, Y = H.length, j = x.length;
    if (Q !== void 0 && (Q = String(Q).toLowerCase(), Q === "ucs2" || Q === "ucs-2" || Q === "utf16le" || Q === "utf-16le")) {
      if (H.length < 2 || x.length < 2)
        return -1;
      Z = 2, Y /= 2, j /= 2, B /= 2;
    }
    function G(ye, ve) {
      return Z === 1 ? ye[ve] : ye.readUInt16BE(ve * Z);
    }
    let ue;
    if (ge) {
      let ye = -1;
      for (ue = B; ue < Y; ue++)
        if (G(H, ue) === G(x, ye === -1 ? 0 : ue - ye)) {
          if (ye === -1 && (ye = ue), ue - ye + 1 === j)
            return ye * Z;
        } else
          ye !== -1 && (ue -= ue - ye), ye = -1;
    } else
      for (B + j > Y && (B = Y - j), ue = B; ue >= 0; ue--) {
        let ye = true;
        for (let ve = 0; ve < j; ve++)
          if (G(H, ue + ve) !== G(x, ve)) {
            ye = false;
            break;
          }
        if (ye)
          return ue;
      }
    return -1;
  }
  y.prototype.includes = function(x, B, Q) {
    return this.indexOf(x, B, Q) !== -1;
  }, y.prototype.indexOf = function(x, B, Q) {
    return K(this, x, B, Q, true);
  }, y.prototype.lastIndexOf = function(x, B, Q) {
    return K(this, x, B, Q, false);
  };
  function J(H, x, B, Q) {
    B = Number(B) || 0;
    const ge = H.length - B;
    Q ? (Q = Number(Q), Q > ge && (Q = ge)) : Q = ge;
    const Z = x.length;
    Q > Z / 2 && (Q = Z / 2);
    let Y;
    for (Y = 0; Y < Q; ++Y) {
      const j = parseInt(x.substr(Y * 2, 2), 16);
      if (ut(j))
        return Y;
      H[B + Y] = j;
    }
    return Y;
  }
  function pe(H, x, B, Q) {
    return Ze(Ce(x, H.length - B), H, B, Q);
  }
  function oe(H, x, B, Q) {
    return Ze(ke(x), H, B, Q);
  }
  function q(H, x, B, Q) {
    return Ze(We(x), H, B, Q);
  }
  function W(H, x, B, Q) {
    return Ze(Ve(x, H.length - B), H, B, Q);
  }
  y.prototype.write = function(x, B, Q, ge) {
    if (B === void 0)
      ge = "utf8", Q = this.length, B = 0;
    else if (Q === void 0 && typeof B == "string")
      ge = B, Q = this.length, B = 0;
    else if (isFinite(B))
      B = B >>> 0, isFinite(Q) ? (Q = Q >>> 0, ge === void 0 && (ge = "utf8")) : (ge = Q, Q = void 0);
    else
      throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");
    const Z = this.length - B;
    if ((Q === void 0 || Q > Z) && (Q = Z), x.length > 0 && (Q < 0 || B < 0) || B > this.length)
      throw new RangeError("Attempt to write outside buffer bounds");
    ge || (ge = "utf8");
    let Y = false;
    for (; ; )
      switch (ge) {
        case "hex":
          return J(this, x, B, Q);
        case "utf8":
        case "utf-8":
          return pe(this, x, B, Q);
        case "ascii":
        case "latin1":
        case "binary":
          return oe(this, x, B, Q);
        case "base64":
          return q(this, x, B, Q);
        case "ucs2":
        case "ucs-2":
        case "utf16le":
        case "utf-16le":
          return W(this, x, B, Q);
        default:
          if (Y)
            throw new TypeError("Unknown encoding: " + ge);
          ge = ("" + ge).toLowerCase(), Y = true;
      }
  }, y.prototype.toJSON = function() {
    return {
      type: "Buffer",
      data: Array.prototype.slice.call(this._arr || this, 0)
    };
  };
  function se(H, x, B) {
    return x === 0 && B === H.length ? d.fromByteArray(H) : d.fromByteArray(H.slice(x, B));
  }
  function Te(H, x, B) {
    B = Math.min(H.length, B);
    const Q = [];
    let ge = x;
    for (; ge < B; ) {
      const Z = H[ge];
      let Y = null, j = Z > 239 ? 4 : Z > 223 ? 3 : Z > 191 ? 2 : 1;
      if (ge + j <= B) {
        let G, ue, ye, ve;
        switch (j) {
          case 1:
            Z < 128 && (Y = Z);
            break;
          case 2:
            G = H[ge + 1], (G & 192) === 128 && (ve = (Z & 31) << 6 | G & 63, ve > 127 && (Y = ve));
            break;
          case 3:
            G = H[ge + 1], ue = H[ge + 2], (G & 192) === 128 && (ue & 192) === 128 && (ve = (Z & 15) << 12 | (G & 63) << 6 | ue & 63, ve > 2047 && (ve < 55296 || ve > 57343) && (Y = ve));
            break;
          case 4:
            G = H[ge + 1], ue = H[ge + 2], ye = H[ge + 3], (G & 192) === 128 && (ue & 192) === 128 && (ye & 192) === 128 && (ve = (Z & 15) << 18 | (G & 63) << 12 | (ue & 63) << 6 | ye & 63, ve > 65535 && ve < 1114112 && (Y = ve));
        }
      }
      Y === null ? (Y = 65533, j = 1) : Y > 65535 && (Y -= 65536, Q.push(Y >>> 10 & 1023 | 55296), Y = 56320 | Y & 1023), Q.push(Y), ge += j;
    }
    return Re(Q);
  }
  const Ae = 4096;
  function Re(H) {
    const x = H.length;
    if (x <= Ae)
      return String.fromCharCode.apply(String, H);
    let B = "", Q = 0;
    for (; Q < x; )
      B += String.fromCharCode.apply(String, H.slice(Q, Q += Ae));
    return B;
  }
  function Ee(H, x, B) {
    let Q = "";
    B = Math.min(H.length, B);
    for (let ge = x; ge < B; ++ge)
      Q += String.fromCharCode(H[ge] & 127);
    return Q;
  }
  function Me(H, x, B) {
    let Q = "";
    B = Math.min(H.length, B);
    for (let ge = x; ge < B; ++ge)
      Q += String.fromCharCode(H[ge]);
    return Q;
  }
  function Ne(H, x, B) {
    const Q = H.length;
    (!x || x < 0) && (x = 0), (!B || B < 0 || B > Q) && (B = Q);
    let ge = "";
    for (let Z = x; Z < B; ++Z)
      ge += Dt[H[Z]];
    return ge;
  }
  function Oe(H, x, B) {
    const Q = H.slice(x, B);
    let ge = "";
    for (let Z = 0; Z < Q.length - 1; Z += 2)
      ge += String.fromCharCode(Q[Z] + Q[Z + 1] * 256);
    return ge;
  }
  y.prototype.slice = function(x, B) {
    const Q = this.length;
    x = ~~x, B = B === void 0 ? Q : ~~B, x < 0 ? (x += Q, x < 0 && (x = 0)) : x > Q && (x = Q), B < 0 ? (B += Q, B < 0 && (B = 0)) : B > Q && (B = Q), B < x && (B = x);
    const ge = this.subarray(x, B);
    return Object.setPrototypeOf(ge, y.prototype), ge;
  };
  function Fe(H, x, B) {
    if (H % 1 !== 0 || H < 0)
      throw new RangeError("offset is not uint");
    if (H + x > B)
      throw new RangeError("Trying to access beyond buffer length");
  }
  y.prototype.readUintLE = y.prototype.readUIntLE = function(x, B, Q) {
    x = x >>> 0, B = B >>> 0, Q || Fe(x, B, this.length);
    let ge = this[x], Z = 1, Y = 0;
    for (; ++Y < B && (Z *= 256); )
      ge += this[x + Y] * Z;
    return ge;
  }, y.prototype.readUintBE = y.prototype.readUIntBE = function(x, B, Q) {
    x = x >>> 0, B = B >>> 0, Q || Fe(x, B, this.length);
    let ge = this[x + --B], Z = 1;
    for (; B > 0 && (Z *= 256); )
      ge += this[x + --B] * Z;
    return ge;
  }, y.prototype.readUint8 = y.prototype.readUInt8 = function(x, B) {
    return x = x >>> 0, B || Fe(x, 1, this.length), this[x];
  }, y.prototype.readUint16LE = y.prototype.readUInt16LE = function(x, B) {
    return x = x >>> 0, B || Fe(x, 2, this.length), this[x] | this[x + 1] << 8;
  }, y.prototype.readUint16BE = y.prototype.readUInt16BE = function(x, B) {
    return x = x >>> 0, B || Fe(x, 2, this.length), this[x] << 8 | this[x + 1];
  }, y.prototype.readUint32LE = y.prototype.readUInt32LE = function(x, B) {
    return x = x >>> 0, B || Fe(x, 4, this.length), (this[x] | this[x + 1] << 8 | this[x + 2] << 16) + this[x + 3] * 16777216;
  }, y.prototype.readUint32BE = y.prototype.readUInt32BE = function(x, B) {
    return x = x >>> 0, B || Fe(x, 4, this.length), this[x] * 16777216 + (this[x + 1] << 16 | this[x + 2] << 8 | this[x + 3]);
  }, y.prototype.readBigUInt64LE = gt(function(x) {
    x = x >>> 0, ce(x, "offset");
    const B = this[x], Q = this[x + 7];
    (B === void 0 || Q === void 0) && _e(x, this.length - 8);
    const ge = B + this[++x] * 2 ** 8 + this[++x] * 2 ** 16 + this[++x] * 2 ** 24, Z = this[++x] + this[++x] * 2 ** 8 + this[++x] * 2 ** 16 + Q * 2 ** 24;
    return BigInt(ge) + (BigInt(Z) << BigInt(32));
  }), y.prototype.readBigUInt64BE = gt(function(x) {
    x = x >>> 0, ce(x, "offset");
    const B = this[x], Q = this[x + 7];
    (B === void 0 || Q === void 0) && _e(x, this.length - 8);
    const ge = B * 2 ** 24 + this[++x] * 2 ** 16 + this[++x] * 2 ** 8 + this[++x], Z = this[++x] * 2 ** 24 + this[++x] * 2 ** 16 + this[++x] * 2 ** 8 + Q;
    return (BigInt(ge) << BigInt(32)) + BigInt(Z);
  }), y.prototype.readIntLE = function(x, B, Q) {
    x = x >>> 0, B = B >>> 0, Q || Fe(x, B, this.length);
    let ge = this[x], Z = 1, Y = 0;
    for (; ++Y < B && (Z *= 256); )
      ge += this[x + Y] * Z;
    return Z *= 128, ge >= Z && (ge -= Math.pow(2, 8 * B)), ge;
  }, y.prototype.readIntBE = function(x, B, Q) {
    x = x >>> 0, B = B >>> 0, Q || Fe(x, B, this.length);
    let ge = B, Z = 1, Y = this[x + --ge];
    for (; ge > 0 && (Z *= 256); )
      Y += this[x + --ge] * Z;
    return Z *= 128, Y >= Z && (Y -= Math.pow(2, 8 * B)), Y;
  }, y.prototype.readInt8 = function(x, B) {
    return x = x >>> 0, B || Fe(x, 1, this.length), this[x] & 128 ? (255 - this[x] + 1) * -1 : this[x];
  }, y.prototype.readInt16LE = function(x, B) {
    x = x >>> 0, B || Fe(x, 2, this.length);
    const Q = this[x] | this[x + 1] << 8;
    return Q & 32768 ? Q | 4294901760 : Q;
  }, y.prototype.readInt16BE = function(x, B) {
    x = x >>> 0, B || Fe(x, 2, this.length);
    const Q = this[x + 1] | this[x] << 8;
    return Q & 32768 ? Q | 4294901760 : Q;
  }, y.prototype.readInt32LE = function(x, B) {
    return x = x >>> 0, B || Fe(x, 4, this.length), this[x] | this[x + 1] << 8 | this[x + 2] << 16 | this[x + 3] << 24;
  }, y.prototype.readInt32BE = function(x, B) {
    return x = x >>> 0, B || Fe(x, 4, this.length), this[x] << 24 | this[x + 1] << 16 | this[x + 2] << 8 | this[x + 3];
  }, y.prototype.readBigInt64LE = gt(function(x) {
    x = x >>> 0, ce(x, "offset");
    const B = this[x], Q = this[x + 7];
    (B === void 0 || Q === void 0) && _e(x, this.length - 8);
    const ge = this[x + 4] + this[x + 5] * 2 ** 8 + this[x + 6] * 2 ** 16 + (Q << 24);
    return (BigInt(ge) << BigInt(32)) + BigInt(B + this[++x] * 2 ** 8 + this[++x] * 2 ** 16 + this[++x] * 2 ** 24);
  }), y.prototype.readBigInt64BE = gt(function(x) {
    x = x >>> 0, ce(x, "offset");
    const B = this[x], Q = this[x + 7];
    (B === void 0 || Q === void 0) && _e(x, this.length - 8);
    const ge = (B << 24) + // Overflow
    this[++x] * 2 ** 16 + this[++x] * 2 ** 8 + this[++x];
    return (BigInt(ge) << BigInt(32)) + BigInt(this[++x] * 2 ** 24 + this[++x] * 2 ** 16 + this[++x] * 2 ** 8 + Q);
  }), y.prototype.readFloatLE = function(x, B) {
    return x = x >>> 0, B || Fe(x, 4, this.length), p.read(this, x, true, 23, 4);
  }, y.prototype.readFloatBE = function(x, B) {
    return x = x >>> 0, B || Fe(x, 4, this.length), p.read(this, x, false, 23, 4);
  }, y.prototype.readDoubleLE = function(x, B) {
    return x = x >>> 0, B || Fe(x, 8, this.length), p.read(this, x, true, 52, 8);
  }, y.prototype.readDoubleBE = function(x, B) {
    return x = x >>> 0, B || Fe(x, 8, this.length), p.read(this, x, false, 52, 8);
  };
  function Ue(H, x, B, Q, ge, Z) {
    if (!y.isBuffer(H))
      throw new TypeError('"buffer" argument must be a Buffer instance');
    if (x > ge || x < Z)
      throw new RangeError('"value" argument is out of bounds');
    if (B + Q > H.length)
      throw new RangeError("Index out of range");
  }
  y.prototype.writeUintLE = y.prototype.writeUIntLE = function(x, B, Q, ge) {
    if (x = +x, B = B >>> 0, Q = Q >>> 0, !ge) {
      const j = Math.pow(2, 8 * Q) - 1;
      Ue(this, x, B, Q, j, 0);
    }
    let Z = 1, Y = 0;
    for (this[B] = x & 255; ++Y < Q && (Z *= 256); )
      this[B + Y] = x / Z & 255;
    return B + Q;
  }, y.prototype.writeUintBE = y.prototype.writeUIntBE = function(x, B, Q, ge) {
    if (x = +x, B = B >>> 0, Q = Q >>> 0, !ge) {
      const j = Math.pow(2, 8 * Q) - 1;
      Ue(this, x, B, Q, j, 0);
    }
    let Z = Q - 1, Y = 1;
    for (this[B + Z] = x & 255; --Z >= 0 && (Y *= 256); )
      this[B + Z] = x / Y & 255;
    return B + Q;
  }, y.prototype.writeUint8 = y.prototype.writeUInt8 = function(x, B, Q) {
    return x = +x, B = B >>> 0, Q || Ue(this, x, B, 1, 255, 0), this[B] = x & 255, B + 1;
  }, y.prototype.writeUint16LE = y.prototype.writeUInt16LE = function(x, B, Q) {
    return x = +x, B = B >>> 0, Q || Ue(this, x, B, 2, 65535, 0), this[B] = x & 255, this[B + 1] = x >>> 8, B + 2;
  }, y.prototype.writeUint16BE = y.prototype.writeUInt16BE = function(x, B, Q) {
    return x = +x, B = B >>> 0, Q || Ue(this, x, B, 2, 65535, 0), this[B] = x >>> 8, this[B + 1] = x & 255, B + 2;
  }, y.prototype.writeUint32LE = y.prototype.writeUInt32LE = function(x, B, Q) {
    return x = +x, B = B >>> 0, Q || Ue(this, x, B, 4, 4294967295, 0), this[B + 3] = x >>> 24, this[B + 2] = x >>> 16, this[B + 1] = x >>> 8, this[B] = x & 255, B + 4;
  }, y.prototype.writeUint32BE = y.prototype.writeUInt32BE = function(x, B, Q) {
    return x = +x, B = B >>> 0, Q || Ue(this, x, B, 4, 4294967295, 0), this[B] = x >>> 24, this[B + 1] = x >>> 16, this[B + 2] = x >>> 8, this[B + 3] = x & 255, B + 4;
  };
  function et(H, x, B, Q, ge) {
    ne(x, Q, ge, H, B, 7);
    let Z = Number(x & BigInt(4294967295));
    H[B++] = Z, Z = Z >> 8, H[B++] = Z, Z = Z >> 8, H[B++] = Z, Z = Z >> 8, H[B++] = Z;
    let Y = Number(x >> BigInt(32) & BigInt(4294967295));
    return H[B++] = Y, Y = Y >> 8, H[B++] = Y, Y = Y >> 8, H[B++] = Y, Y = Y >> 8, H[B++] = Y, B;
  }
  function ot(H, x, B, Q, ge) {
    ne(x, Q, ge, H, B, 7);
    let Z = Number(x & BigInt(4294967295));
    H[B + 7] = Z, Z = Z >> 8, H[B + 6] = Z, Z = Z >> 8, H[B + 5] = Z, Z = Z >> 8, H[B + 4] = Z;
    let Y = Number(x >> BigInt(32) & BigInt(4294967295));
    return H[B + 3] = Y, Y = Y >> 8, H[B + 2] = Y, Y = Y >> 8, H[B + 1] = Y, Y = Y >> 8, H[B] = Y, B + 8;
  }
  y.prototype.writeBigUInt64LE = gt(function(x, B = 0) {
    return et(this, x, B, BigInt(0), BigInt("0xffffffffffffffff"));
  }), y.prototype.writeBigUInt64BE = gt(function(x, B = 0) {
    return ot(this, x, B, BigInt(0), BigInt("0xffffffffffffffff"));
  }), y.prototype.writeIntLE = function(x, B, Q, ge) {
    if (x = +x, B = B >>> 0, !ge) {
      const G = Math.pow(2, 8 * Q - 1);
      Ue(this, x, B, Q, G - 1, -G);
    }
    let Z = 0, Y = 1, j = 0;
    for (this[B] = x & 255; ++Z < Q && (Y *= 256); )
      x < 0 && j === 0 && this[B + Z - 1] !== 0 && (j = 1), this[B + Z] = (x / Y >> 0) - j & 255;
    return B + Q;
  }, y.prototype.writeIntBE = function(x, B, Q, ge) {
    if (x = +x, B = B >>> 0, !ge) {
      const G = Math.pow(2, 8 * Q - 1);
      Ue(this, x, B, Q, G - 1, -G);
    }
    let Z = Q - 1, Y = 1, j = 0;
    for (this[B + Z] = x & 255; --Z >= 0 && (Y *= 256); )
      x < 0 && j === 0 && this[B + Z + 1] !== 0 && (j = 1), this[B + Z] = (x / Y >> 0) - j & 255;
    return B + Q;
  }, y.prototype.writeInt8 = function(x, B, Q) {
    return x = +x, B = B >>> 0, Q || Ue(this, x, B, 1, 127, -128), x < 0 && (x = 255 + x + 1), this[B] = x & 255, B + 1;
  }, y.prototype.writeInt16LE = function(x, B, Q) {
    return x = +x, B = B >>> 0, Q || Ue(this, x, B, 2, 32767, -32768), this[B] = x & 255, this[B + 1] = x >>> 8, B + 2;
  }, y.prototype.writeInt16BE = function(x, B, Q) {
    return x = +x, B = B >>> 0, Q || Ue(this, x, B, 2, 32767, -32768), this[B] = x >>> 8, this[B + 1] = x & 255, B + 2;
  }, y.prototype.writeInt32LE = function(x, B, Q) {
    return x = +x, B = B >>> 0, Q || Ue(this, x, B, 4, 2147483647, -2147483648), this[B] = x & 255, this[B + 1] = x >>> 8, this[B + 2] = x >>> 16, this[B + 3] = x >>> 24, B + 4;
  }, y.prototype.writeInt32BE = function(x, B, Q) {
    return x = +x, B = B >>> 0, Q || Ue(this, x, B, 4, 2147483647, -2147483648), x < 0 && (x = 4294967295 + x + 1), this[B] = x >>> 24, this[B + 1] = x >>> 16, this[B + 2] = x >>> 8, this[B + 3] = x & 255, B + 4;
  }, y.prototype.writeBigInt64LE = gt(function(x, B = 0) {
    return et(this, x, B, -BigInt("0x8000000000000000"), BigInt("0x7fffffffffffffff"));
  }), y.prototype.writeBigInt64BE = gt(function(x, B = 0) {
    return ot(this, x, B, -BigInt("0x8000000000000000"), BigInt("0x7fffffffffffffff"));
  });
  function Ke(H, x, B, Q, ge, Z) {
    if (B + Q > H.length)
      throw new RangeError("Index out of range");
    if (B < 0)
      throw new RangeError("Index out of range");
  }
  function ht(H, x, B, Q, ge) {
    return x = +x, B = B >>> 0, ge || Ke(H, x, B, 4), p.write(H, x, B, Q, 23, 4), B + 4;
  }
  y.prototype.writeFloatLE = function(x, B, Q) {
    return ht(this, x, B, true, Q);
  }, y.prototype.writeFloatBE = function(x, B, Q) {
    return ht(this, x, B, false, Q);
  };
  function bt(H, x, B, Q, ge) {
    return x = +x, B = B >>> 0, ge || Ke(H, x, B, 8), p.write(H, x, B, Q, 52, 8), B + 8;
  }
  y.prototype.writeDoubleLE = function(x, B, Q) {
    return bt(this, x, B, true, Q);
  }, y.prototype.writeDoubleBE = function(x, B, Q) {
    return bt(this, x, B, false, Q);
  }, y.prototype.copy = function(x, B, Q, ge) {
    if (!y.isBuffer(x))
      throw new TypeError("argument should be a Buffer");
    if (Q || (Q = 0), !ge && ge !== 0 && (ge = this.length), B >= x.length && (B = x.length), B || (B = 0), ge > 0 && ge < Q && (ge = Q), ge === Q || x.length === 0 || this.length === 0)
      return 0;
    if (B < 0)
      throw new RangeError("targetStart out of bounds");
    if (Q < 0 || Q >= this.length)
      throw new RangeError("Index out of range");
    if (ge < 0)
      throw new RangeError("sourceEnd out of bounds");
    ge > this.length && (ge = this.length), x.length - B < ge - Q && (ge = x.length - B + Q);
    const Z = ge - Q;
    return this === x && typeof Uint8Array.prototype.copyWithin == "function" ? this.copyWithin(B, Q, ge) : Uint8Array.prototype.set.call(x, this.subarray(Q, ge), B), Z;
  }, y.prototype.fill = function(x, B, Q, ge) {
    if (typeof x == "string") {
      if (typeof B == "string" ? (ge = B, B = 0, Q = this.length) : typeof Q == "string" && (ge = Q, Q = this.length), ge !== void 0 && typeof ge != "string")
        throw new TypeError("encoding must be a string");
      if (typeof ge == "string" && !y.isEncoding(ge))
        throw new TypeError("Unknown encoding: " + ge);
      if (x.length === 1) {
        const Y = x.charCodeAt(0);
        (ge === "utf8" && Y < 128 || ge === "latin1") && (x = Y);
      }
    } else typeof x == "number" ? x = x & 255 : typeof x == "boolean" && (x = Number(x));
    if (B < 0 || this.length < B || this.length < Q)
      throw new RangeError("Out of range index");
    if (Q <= B)
      return this;
    B = B >>> 0, Q = Q === void 0 ? this.length : Q >>> 0, x || (x = 0);
    let Z;
    if (typeof x == "number")
      for (Z = B; Z < Q; ++Z)
        this[Z] = x;
    else {
      const Y = y.isBuffer(x) ? x : y.from(x, ge), j = Y.length;
      if (j === 0)
        throw new TypeError('The value "' + x + '" is invalid for argument "value"');
      for (Z = 0; Z < Q - B; ++Z)
        this[Z + B] = Y[Z % j];
    }
    return this;
  };
  const $t = {};
  function rn(H, x, B) {
    $t[H] = function(Q) {
      a(Z, Q);
      var ge = l(Z);
      function Z() {
        var Y;
        return t(this, Z), Y = ge.call(this), Object.defineProperty(c(Y), "message", {
          value: x.apply(c(Y), arguments),
          writable: true,
          configurable: true
        }), Y.name = `${Y.name} [${H}]`, Y.stack, delete Y.name, Y;
      }
      return n(Z, [{
        key: "code",
        get: function() {
          return H;
        },
        set: function(Y) {
          Object.defineProperty(this, "code", {
            configurable: true,
            enumerable: true,
            value: Y,
            writable: true
          });
        }
      }, {
        key: "toString",
        value: function() {
          return `${this.name} [${H}]: ${this.message}`;
        }
      }]), Z;
    }(B);
  }
  rn("ERR_BUFFER_OUT_OF_BOUNDS", function(H) {
    return H ? `${H} is outside of buffer bounds` : "Attempt to access memory outside buffer bounds";
  }, RangeError), rn("ERR_INVALID_ARG_TYPE", function(H, x) {
    return `The "${H}" argument must be of type number. Received type ${typeof x}`;
  }, TypeError), rn("ERR_OUT_OF_RANGE", function(H, x, B) {
    let Q = `The value of "${H}" is out of range.`, ge = B;
    return Number.isInteger(B) && Math.abs(B) > 2 ** 32 ? ge = Ht(String(B)) : typeof B == "bigint" && (ge = String(B), (B > BigInt(2) ** BigInt(32) || B < -(BigInt(2) ** BigInt(32))) && (ge = Ht(ge)), ge += "n"), Q += ` It must be ${x}. Received ${ge}`, Q;
  }, RangeError);
  function Ht(H) {
    let x = "", B = H.length;
    const Q = H[0] === "-" ? 1 : 0;
    for (; B >= Q + 4; B -= 3)
      x = `_${H.slice(B - 3, B)}${x}`;
    return `${H.slice(0, B)}${x}`;
  }
  function xe(H, x, B) {
    ce(x, "offset"), (H[x] === void 0 || H[x + B] === void 0) && _e(x, H.length - (B + 1));
  }
  function ne(H, x, B, Q, ge, Z) {
    if (H > B || H < x) {
      const Y = typeof x == "bigint" ? "n" : "";
      let j;
      throw x === 0 || x === BigInt(0) ? j = `>= 0${Y} and < 2${Y} ** ${(Z + 1) * 8}${Y}` : j = `>= -(2${Y} ** ${(Z + 1) * 8 - 1}${Y}) and < 2 ** ${(Z + 1) * 8 - 1}${Y}`, new $t.ERR_OUT_OF_RANGE("value", j, H);
    }
    xe(Q, ge, Z);
  }
  function ce(H, x) {
    if (typeof H != "number")
      throw new $t.ERR_INVALID_ARG_TYPE(x, "number", H);
  }
  function _e(H, x, B) {
    throw Math.floor(H) !== H ? (ce(H, B), new $t.ERR_OUT_OF_RANGE("offset", "an integer", H)) : x < 0 ? new $t.ERR_BUFFER_OUT_OF_BOUNDS() : new $t.ERR_OUT_OF_RANGE("offset", `>= 0 and <= ${x}`, H);
  }
  const ee = /[^+/0-9A-Za-z-_]/g;
  function de(H) {
    if (H = H.split("=")[0], H = H.trim().replace(ee, ""), H.length < 2)
      return "";
    for (; H.length % 4 !== 0; )
      H = H + "=";
    return H;
  }
  function Ce(H, x) {
    x = x || 1 / 0;
    let B;
    const Q = H.length;
    let ge = null;
    const Z = [];
    for (let Y = 0; Y < Q; ++Y) {
      if (B = H.charCodeAt(Y), B > 55295 && B < 57344) {
        if (!ge) {
          if (B > 56319) {
            (x -= 3) > -1 && Z.push(239, 191, 189);
            continue;
          } else if (Y + 1 === Q) {
            (x -= 3) > -1 && Z.push(239, 191, 189);
            continue;
          }
          ge = B;
          continue;
        }
        if (B < 56320) {
          (x -= 3) > -1 && Z.push(239, 191, 189), ge = B;
          continue;
        }
        B = (ge - 55296 << 10 | B - 56320) + 65536;
      } else ge && (x -= 3) > -1 && Z.push(239, 191, 189);
      if (ge = null, B < 128) {
        if ((x -= 1) < 0)
          break;
        Z.push(B);
      } else if (B < 2048) {
        if ((x -= 2) < 0)
          break;
        Z.push(B >> 6 | 192, B & 63 | 128);
      } else if (B < 65536) {
        if ((x -= 3) < 0)
          break;
        Z.push(B >> 12 | 224, B >> 6 & 63 | 128, B & 63 | 128);
      } else if (B < 1114112) {
        if ((x -= 4) < 0)
          break;
        Z.push(B >> 18 | 240, B >> 12 & 63 | 128, B >> 6 & 63 | 128, B & 63 | 128);
      } else
        throw new Error("Invalid code point");
    }
    return Z;
  }
  function ke(H) {
    const x = [];
    for (let B = 0; B < H.length; ++B)
      x.push(H.charCodeAt(B) & 255);
    return x;
  }
  function Ve(H, x) {
    let B, Q, ge;
    const Z = [];
    for (let Y = 0; Y < H.length && !((x -= 2) < 0); ++Y)
      B = H.charCodeAt(Y), Q = B >> 8, ge = B % 256, Z.push(ge), Z.push(Q);
    return Z;
  }
  function We(H) {
    return d.toByteArray(de(H));
  }
  function Ze(H, x, B, Q) {
    let ge;
    for (ge = 0; ge < Q && !(ge + B >= x.length || ge >= H.length); ++ge)
      x[ge + B] = H[ge];
    return ge;
  }
  function rt(H, x) {
    return H instanceof x || H != null && H.constructor != null && H.constructor.name != null && H.constructor.name === x.name;
  }
  function ut(H) {
    return H !== H;
  }
  const Dt = function() {
    const H = "0123456789abcdef", x = new Array(256);
    for (let B = 0; B < 16; ++B) {
      const Q = B * 16;
      for (let ge = 0; ge < 16; ++ge)
        x[Q + ge] = H[B] + H[ge];
    }
    return x;
  }();
  function gt(H) {
    return typeof BigInt > "u" ? pr : H;
  }
  function pr() {
    throw new Error("BigInt not supported");
  }
})(qY);
var Yl = $r;
var Nn = yBe;
var ZY = qY.Buffer;
globalThis.__TYPEDARRAY_POOL || (globalThis.__TYPEDARRAY_POOL = {
  UINT8: Nn([32, 0]),
  UINT16: Nn([32, 0]),
  UINT32: Nn([32, 0]),
  BIGUINT64: Nn([32, 0]),
  INT8: Nn([32, 0]),
  INT16: Nn([32, 0]),
  INT32: Nn([32, 0]),
  BIGINT64: Nn([32, 0]),
  FLOAT: Nn([32, 0]),
  DOUBLE: Nn([32, 0]),
  DATA: Nn([32, 0]),
  UINT8C: Nn([32, 0]),
  BUFFER: Nn([32, 0])
});
var IBe = typeof Uint8ClampedArray < "u";
var PBe = typeof BigUint64Array < "u";
var CBe = typeof BigInt64Array < "u";
var en = globalThis.__TYPEDARRAY_POOL;
en.UINT8C || (en.UINT8C = Nn([32, 0]));
en.BIGUINT64 || (en.BIGUINT64 = Nn([32, 0]));
en.BIGINT64 || (en.BIGINT64 = Nn([32, 0]));
en.BUFFER || (en.BUFFER = Nn([32, 0]));
var gS = en.DATA;
var vS = en.BUFFER;
jt.free = function(t) {
  if (ZY.isBuffer(t))
    vS[Yl.log2(t.length)].push(t);
  else {
    if (Object.prototype.toString.call(t) !== "[object ArrayBuffer]" && (t = t.buffer), !t)
      return;
    var r = t.length || t.byteLength, n = Yl.log2(r) | 0;
    gS[n].push(t);
  }
};
function QY(e13) {
  if (e13) {
    var t = e13.length || e13.byteLength, r = Yl.log2(t);
    gS[r].push(e13);
  }
}
function xBe(e13) {
  QY(e13.buffer);
}
jt.freeUint8 = jt.freeUint16 = jt.freeUint32 = jt.freeBigUint64 = jt.freeInt8 = jt.freeInt16 = jt.freeInt32 = jt.freeBigInt64 = jt.freeFloat32 = jt.freeFloat = jt.freeFloat64 = jt.freeDouble = jt.freeUint8Clamped = jt.freeDataView = xBe;
jt.freeArrayBuffer = QY;
jt.freeBuffer = function(t) {
  vS[Yl.log2(t.length)].push(t);
};
jt.malloc = function(t, r) {
  if (r === void 0 || r === "arraybuffer")
    return Hi(t);
  switch (r) {
    case "uint8":
      return pM(t);
    case "uint16":
      return JY(t);
    case "uint32":
      return eq(t);
    case "int8":
      return tq(t);
    case "int16":
      return rq(t);
    case "int32":
      return nq(t);
    case "float":
    case "float32":
      return iq(t);
    case "double":
    case "float64":
      return oq(t);
    case "uint8_clamped":
      return aq(t);
    case "bigint64":
      return lq(t);
    case "biguint64":
      return sq(t);
    case "buffer":
      return uq(t);
    case "data":
    case "dataview":
      return cq(t);
    default:
      return null;
  }
  return null;
};
function Hi(t) {
  var t = Yl.nextPow2(t), r = Yl.log2(t), n = gS[r];
  return n.length > 0 ? n.pop() : new ArrayBuffer(t);
}
jt.mallocArrayBuffer = Hi;
function pM(e13) {
  return new Uint8Array(Hi(e13), 0, e13);
}
jt.mallocUint8 = pM;
function JY(e13) {
  return new Uint16Array(Hi(2 * e13), 0, e13);
}
jt.mallocUint16 = JY;
function eq(e13) {
  return new Uint32Array(Hi(4 * e13), 0, e13);
}
jt.mallocUint32 = eq;
function tq(e13) {
  return new Int8Array(Hi(e13), 0, e13);
}
jt.mallocInt8 = tq;
function rq(e13) {
  return new Int16Array(Hi(2 * e13), 0, e13);
}
jt.mallocInt16 = rq;
function nq(e13) {
  return new Int32Array(Hi(4 * e13), 0, e13);
}
jt.mallocInt32 = nq;
function iq(e13) {
  return new Float32Array(Hi(4 * e13), 0, e13);
}
jt.mallocFloat32 = jt.mallocFloat = iq;
function oq(e13) {
  return new Float64Array(Hi(8 * e13), 0, e13);
}
jt.mallocFloat64 = jt.mallocDouble = oq;
function aq(e13) {
  return IBe ? new Uint8ClampedArray(Hi(e13), 0, e13) : pM(e13);
}
jt.mallocUint8Clamped = aq;
function sq(e13) {
  return PBe ? new BigUint64Array(Hi(8 * e13), 0, e13) : null;
}
jt.mallocBigUint64 = sq;
function lq(e13) {
  return CBe ? new BigInt64Array(Hi(8 * e13), 0, e13) : null;
}
jt.mallocBigInt64 = lq;
function cq(e13) {
  return new DataView(Hi(e13), 0, e13);
}
jt.mallocDataView = cq;
function uq(e13) {
  e13 = Yl.nextPow2(e13);
  var t = Yl.log2(e13), r = vS[t];
  return r.length > 0 ? r.pop() : new ZY(e13);
}
jt.mallocBuffer = uq;
jt.clearCache = function() {
  for (var t = 0; t < 32; ++t)
    en.UINT8[t].length = 0, en.UINT16[t].length = 0, en.UINT32[t].length = 0, en.INT8[t].length = 0, en.INT16[t].length = 0, en.INT32[t].length = 0, en.FLOAT[t].length = 0, en.DOUBLE[t].length = 0, en.BIGUINT64[t].length = 0, en.BIGINT64[t].length = 0, en.UINT8C[t].length = 0, gS[t].length = 0, vS[t].length = 0;
};
var kBe = DBe;
var Ab = 32;
function DBe(e13, t) {
  t <= 4 * Ab ? Ob(0, t - 1, e13) : Ib(0, t - 1, e13);
}
function Ob(e13, t, r) {
  for (var n = 2 * (e13 + 1), i = e13 + 1; i <= t; ++i) {
    for (var o = r[n++], a = r[n++], s = i, l = n - 2; s-- > e13; ) {
      var u = r[l - 2], c = r[l - 1];
      if (u < o)
        break;
      if (u === o && c < a)
        break;
      r[l] = u, r[l + 1] = c, l -= 2;
    }
    r[l] = o, r[l + 1] = a;
  }
}
function pU(e13, t, r) {
  e13 *= 2, t *= 2;
  var n = r[e13], i = r[e13 + 1];
  r[e13] = r[t], r[e13 + 1] = r[t + 1], r[t] = n, r[t + 1] = i;
}
function mU(e13, t, r) {
  e13 *= 2, t *= 2, r[e13] = r[t], r[e13 + 1] = r[t + 1];
}
function RBe(e13, t, r, n) {
  e13 *= 2, t *= 2, r *= 2;
  var i = n[e13], o = n[e13 + 1];
  n[e13] = n[t], n[e13 + 1] = n[t + 1], n[t] = n[r], n[t + 1] = n[r + 1], n[r] = i, n[r + 1] = o;
}
function gU(e13, t, r, n, i) {
  e13 *= 2, t *= 2, i[e13] = i[t], i[t] = r, i[e13 + 1] = i[t + 1], i[t + 1] = n;
}
function ns(e13, t, r) {
  e13 *= 2, t *= 2;
  var n = r[e13], i = r[t];
  return n < i ? false : n === i ? r[e13 + 1] > r[t + 1] : true;
}
function S_(e13, t, r, n) {
  e13 *= 2;
  var i = n[e13];
  return i < t ? true : i === t ? n[e13 + 1] < r : false;
}
function Ib(e13, t, r) {
  var n = (t - e13 + 1) / 6 | 0, i = e13 + n, o = t - n, a = e13 + t >> 1, s = a - n, l = a + n, u = i, c = s, f = a, h = l, d = o, p = e13 + 1, m = t - 1, g = 0;
  ns(u, c, r) && (g = u, u = c, c = g), ns(h, d, r) && (g = h, h = d, d = g), ns(u, f, r) && (g = u, u = f, f = g), ns(c, f, r) && (g = c, c = f, f = g), ns(u, h, r) && (g = u, u = h, h = g), ns(f, h, r) && (g = f, f = h, h = g), ns(c, d, r) && (g = c, c = d, d = g), ns(c, f, r) && (g = c, c = f, f = g), ns(h, d, r) && (g = h, h = d, d = g);
  for (var v = r[2 * c], b = r[2 * c + 1], y = r[2 * h], _ = r[2 * h + 1], T = 2 * u, E = 2 * f, O = 2 * d, S = 2 * i, P = 2 * a, C = 2 * o, w = 0; w < 2; ++w) {
    var N = r[T + w], L = r[E + w], A = r[O + w];
    r[S + w] = N, r[P + w] = L, r[C + w] = A;
  }
  mU(s, e13, r), mU(l, t, r);
  for (var R = p; R <= m; ++R)
    if (S_(R, v, b, r))
      R !== p && pU(R, p, r), ++p;
    else if (!S_(R, y, _, r))
      for (; ; )
        if (S_(m, y, _, r)) {
          S_(m, v, b, r) ? (RBe(R, p, m, r), ++p, --m) : (pU(R, m, r), --m);
          break;
        } else {
          if (--m < R)
            break;
          continue;
        }
  gU(e13, p - 1, v, b, r), gU(t, m + 1, y, _, r), p - 2 - e13 <= Ab ? Ob(e13, p - 2, r) : Ib(e13, p - 2, r), t - (m + 2) <= Ab ? Ob(m + 2, t, r) : Ib(m + 2, t, r), m - p <= Ab ? Ob(p, m, r) : Ib(p, m, r);
}
var hq = {
  init: MBe,
  sweepBipartite: LBe,
  sweepComplete: BBe,
  scanBipartite: FBe,
  scanComplete: $Be
};
var Jr = jt;
var NBe = $r;
var yS = kBe;
var So = 1 << 28;
var ch = 1024;
var Bn = Jr.mallocInt32(ch);
var Os = Jr.mallocInt32(ch);
var Is = Jr.mallocInt32(ch);
var ru = Jr.mallocInt32(ch);
var Lf = Jr.mallocInt32(ch);
var Eg = Jr.mallocInt32(ch);
var Lt = Jr.mallocDouble(ch * 8);
function MBe(e13) {
  var t = NBe.nextPow2(e13);
  Bn.length < t && (Jr.free(Bn), Bn = Jr.mallocInt32(t)), Os.length < t && (Jr.free(Os), Os = Jr.mallocInt32(t)), Is.length < t && (Jr.free(Is), Is = Jr.mallocInt32(t)), ru.length < t && (Jr.free(ru), ru = Jr.mallocInt32(t)), Lf.length < t && (Jr.free(Lf), Lf = Jr.mallocInt32(t)), Eg.length < t && (Jr.free(Eg), Eg = Jr.mallocInt32(t));
  var r = 8 * t;
  Lt.length < r && (Jr.free(Lt), Lt = Jr.mallocDouble(r));
}
function Bf(e13, t, r, n) {
  var i = t[n], o = e13[r - 1];
  e13[i] = o, t[o] = i;
}
function Ff(e13, t, r, n) {
  e13[r] = n, t[n] = r;
}
function LBe(e13, t, r, n, i, o, a, s, l, u) {
  for (var c = 0, f = 2 * e13, h = e13 - 1, d = f - 1, p = r; p < n; ++p) {
    var m = o[p], g = f * p;
    Lt[c++] = i[g + h], Lt[c++] = -(m + 1), Lt[c++] = i[g + d], Lt[c++] = m;
  }
  for (var p = a; p < s; ++p) {
    var m = u[p] + So, v = f * p;
    Lt[c++] = l[v + h], Lt[c++] = -m, Lt[c++] = l[v + d], Lt[c++] = m;
  }
  var b = c >>> 1;
  yS(Lt, b);
  for (var y = 0, _ = 0, p = 0; p < b; ++p) {
    var T = Lt[2 * p + 1] | 0;
    if (T >= So)
      T = T - So | 0, Bf(Is, ru, _--, T);
    else if (T >= 0)
      Bf(Bn, Os, y--, T);
    else if (T <= -268435456) {
      T = -T - So | 0;
      for (var E = 0; E < y; ++E) {
        var O = t(Bn[E], T);
        if (O !== void 0)
          return O;
      }
      Ff(Is, ru, _++, T);
    } else {
      T = -T - 1 | 0;
      for (var E = 0; E < _; ++E) {
        var O = t(T, Is[E]);
        if (O !== void 0)
          return O;
      }
      Ff(Bn, Os, y++, T);
    }
  }
}
function BBe(e13, t, r, n, i, o, a, s, l, u) {
  for (var c = 0, f = 2 * e13, h = e13 - 1, d = f - 1, p = r; p < n; ++p) {
    var m = o[p] + 1 << 1, g = f * p;
    Lt[c++] = i[g + h], Lt[c++] = -m, Lt[c++] = i[g + d], Lt[c++] = m;
  }
  for (var p = a; p < s; ++p) {
    var m = u[p] + 1 << 1, v = f * p;
    Lt[c++] = l[v + h], Lt[c++] = -m | 1, Lt[c++] = l[v + d], Lt[c++] = m | 1;
  }
  var b = c >>> 1;
  yS(Lt, b);
  for (var y = 0, _ = 0, T = 0, p = 0; p < b; ++p) {
    var E = Lt[2 * p + 1] | 0, O = E & 1;
    if (p < b - 1 && E >> 1 === Lt[2 * p + 3] >> 1 && (O = 2, p += 1), E < 0) {
      for (var S = -(E >> 1) - 1, P = 0; P < T; ++P) {
        var C = t(Lf[P], S);
        if (C !== void 0)
          return C;
      }
      if (O !== 0)
        for (var P = 0; P < y; ++P) {
          var C = t(Bn[P], S);
          if (C !== void 0)
            return C;
        }
      if (O !== 1)
        for (var P = 0; P < _; ++P) {
          var C = t(Is[P], S);
          if (C !== void 0)
            return C;
        }
      O === 0 ? Ff(Bn, Os, y++, S) : O === 1 ? Ff(Is, ru, _++, S) : O === 2 && Ff(Lf, Eg, T++, S);
    } else {
      var S = (E >> 1) - 1;
      O === 0 ? Bf(Bn, Os, y--, S) : O === 1 ? Bf(Is, ru, _--, S) : O === 2 && Bf(Lf, Eg, T--, S);
    }
  }
}
function FBe(e13, t, r, n, i, o, a, s, l, u, c, f) {
  var h = 0, d = 2 * e13, p = t, m = t + e13, g = 1, v = 1;
  n ? v = So : g = So;
  for (var b = i; b < o; ++b) {
    var y = b + g, _ = d * b;
    Lt[h++] = a[_ + p], Lt[h++] = -y, Lt[h++] = a[_ + m], Lt[h++] = y;
  }
  for (var b = l; b < u; ++b) {
    var y = b + v, T = d * b;
    Lt[h++] = c[T + p], Lt[h++] = -y;
  }
  var E = h >>> 1;
  yS(Lt, E);
  for (var O = 0, b = 0; b < E; ++b) {
    var S = Lt[2 * b + 1] | 0;
    if (S < 0) {
      var y = -S, P = false;
      if (y >= So ? (P = !n, y -= So) : (P = !!n, y -= 1), P)
        Ff(Bn, Os, O++, y);
      else {
        var C = f[y], w = d * y, N = c[w + t + 1], L = c[w + t + 1 + e13];
        e:
          for (var A = 0; A < O; ++A) {
            var R = Bn[A], F = d * R;
            if (!(L < a[F + t + 1] || a[F + t + 1 + e13] < N)) {
              for (var $ = t + 2; $ < e13; ++$)
                if (c[w + $ + e13] < a[F + $] || a[F + $ + e13] < c[w + $])
                  continue e;
              var K = s[R], ie;
              if (n ? ie = r(C, K) : ie = r(K, C), ie !== void 0)
                return ie;
            }
          }
      }
    } else
      Bf(Bn, Os, O--, S - g);
  }
}
function $Be(e13, t, r, n, i, o, a, s, l, u, c) {
  for (var f = 0, h = 2 * e13, d = t, p = t + e13, m = n; m < i; ++m) {
    var g = m + So, v = h * m;
    Lt[f++] = o[v + d], Lt[f++] = -g, Lt[f++] = o[v + p], Lt[f++] = g;
  }
  for (var m = s; m < l; ++m) {
    var g = m + 1, b = h * m;
    Lt[f++] = u[b + d], Lt[f++] = -g;
  }
  var y = f >>> 1;
  yS(Lt, y);
  for (var _ = 0, m = 0; m < y; ++m) {
    var T = Lt[2 * m + 1] | 0;
    if (T < 0) {
      var g = -T;
      if (g >= So)
        Bn[_++] = g - So;
      else {
        g -= 1;
        var E = c[g], O = h * g, S = u[O + t + 1], P = u[O + t + 1 + e13];
        e:
          for (var C = 0; C < _; ++C) {
            var w = Bn[C], N = a[w];
            if (N === E)
              break;
            var L = h * w;
            if (!(P < o[L + t + 1] || o[L + t + 1 + e13] < S)) {
              for (var A = t + 2; A < e13; ++A)
                if (u[O + A + e13] < o[L + A] || o[L + A + e13] < u[O + A])
                  continue e;
              var R = r(N, E);
              if (R !== void 0)
                return R;
            }
          }
      }
    } else {
      for (var g = T - So, C = _ - 1; C >= 0; --C)
        if (Bn[C] === g) {
          for (var A = C + 1; A < _; ++A)
            Bn[A - 1] = Bn[A];
          break;
        }
      --_;
    }
  }
}
var mM = {};
var Nc = "d";
var Vh = "ax";
var fq = "vv";
var wO = "fp";
var om = "es";
var iT = "rs";
var gM = "re";
var Dm = "rb";
var dq = "ri";
var Mh = "rp";
var oT = "bs";
var vM = "be";
var Rm = "bb";
var pq = "bi";
var Lh = "bp";
var AO = "rv";
var OO = "Q";
var HC = [Nc, Vh, fq, iT, gM, Dm, dq, oT, vM, Rm, pq];
function HBe(e13, t, r) {
  var n = "bruteForce" + (e13 ? "Red" : "Blue") + (t ? "Flip" : "") + (r ? "Full" : ""), i = ["function ", n, "(", HC.join(), "){", "var ", om, "=2*", Nc, ";"], o = "for(var i=" + iT + "," + Mh + "=" + om + "*" + iT + ";i<" + gM + ";++i," + Mh + "+=" + om + "){var x0=" + Dm + "[" + Vh + "+" + Mh + "],x1=" + Dm + "[" + Vh + "+" + Mh + "+" + Nc + "],xi=" + dq + "[i];", a = "for(var j=" + oT + "," + Lh + "=" + om + "*" + oT + ";j<" + vM + ";++j," + Lh + "+=" + om + "){var y0=" + Rm + "[" + Vh + "+" + Lh + "]," + (r ? "y1=" + Rm + "[" + Vh + "+" + Lh + "+" + Nc + "]," : "") + "yi=" + pq + "[j];";
  return e13 ? i.push(o, OO, ":", a) : i.push(a, OO, ":", o), r ? i.push("if(y1<x0||x1<y0)continue;") : t ? i.push("if(y0<=x0||x1<y0)continue;") : i.push("if(y0<x0||x1<y0)continue;"), i.push("for(var k=" + Vh + "+1;k<" + Nc + ";++k){var r0=" + Dm + "[k+" + Mh + "],r1=" + Dm + "[k+" + Nc + "+" + Mh + "],b0=" + Rm + "[k+" + Lh + "],b1=" + Rm + "[k+" + Nc + "+" + Lh + "];if(r1<b0||b1<r0)continue " + OO + ";}var " + AO + "=" + fq + "("), t ? i.push("yi,xi") : i.push("xi,yi"), i.push(");if(" + AO + "!==void 0)return " + AO + ";}}}"), {
    name: n,
    code: i.join("")
  };
}
function mq(e13) {
  var t = "bruteForce" + (e13 ? "Full" : "Partial"), r = [], n = HC.slice();
  e13 || n.splice(3, 0, wO);
  var i = ["function " + t + "(" + n.join() + "){"];
  function o(l, u) {
    var c = HBe(l, u, e13);
    r.push(c.code), i.push("return " + c.name + "(" + HC.join() + ");");
  }
  i.push("if(" + gM + "-" + iT + ">" + vM + "-" + oT + "){"), e13 ? (o(true, false), i.push("}else{"), o(false, false)) : (i.push("if(" + wO + "){"), o(true, true), i.push("}else{"), o(true, false), i.push("}}else{if(" + wO + "){"), o(false, true), i.push("}else{"), o(false, false), i.push("}")), i.push("}}return " + t);
  var a = r.join("") + i.join(""), s = new Function(a);
  return s();
}
mM.partial = mq(false);
mM.full = mq(true);
var gq = jBe;
var UBe = "for(var j=2*a,k=j*c,l=k,m=c,n=b,o=a+b,p=c;d>p;++p,k+=j){var _;if($)if(m===p)m+=1,l+=j;else{for(var s=0;j>s;++s){var t=e[k+s];e[k+s]=e[l],e[l++]=t}var u=f[p];f[p]=f[m],f[m++]=u}}return m";
function jBe(e13, t) {
  var r = "abcdef".split("").concat(t), n = [];
  return e13.indexOf("lo") >= 0 && n.push("lo=e[k+n]"), e13.indexOf("hi") >= 0 && n.push("hi=e[k+o]"), r.push(UBe.replace("_", n.join()).replace("$", e13)), Function.apply(void 0, r);
}
var GBe = WBe;
var zBe = gq;
var vU = zBe("lo<p0", ["p0"]);
var VBe = 8;
function XBe(e13, t, r, n, i, o) {
  for (var a = 2 * e13, s = a * (r + 1) + t, l = r + 1; l < n; ++l, s += a)
    for (var u = i[s], c = l, f = a * (l - 1); c > r && i[f + t] > u; --c, f -= a) {
      for (var h = f, d = f + a, p = 0; p < a; ++p, ++h, ++d) {
        var m = i[h];
        i[h] = i[d], i[d] = m;
      }
      var g = o[c];
      o[c] = o[c - 1], o[c - 1] = g;
    }
}
function WBe(e13, t, r, n, i, o) {
  if (n <= r + 1)
    return r;
  for (var a = r, s = n, l = n + r >>> 1, u = 2 * e13, c = l, f = i[u * l + t]; a < s; ) {
    if (s - a < VBe) {
      XBe(e13, t, a, s, i, o), f = i[u * l + t];
      break;
    }
    var h = s - a, d = Math.random() * h + a | 0, p = i[u * d + t], m = Math.random() * h + a | 0, g = i[u * m + t], v = Math.random() * h + a | 0, b = i[u * v + t];
    p <= g ? b >= g ? (c = m, f = g) : p >= b ? (c = d, f = p) : (c = v, f = b) : g >= b ? (c = m, f = g) : b >= p ? (c = d, f = p) : (c = v, f = b);
    for (var T = u * (s - 1), E = u * c, y = 0; y < u; ++y, ++T, ++E) {
      var _ = i[T];
      i[T] = i[E], i[E] = _;
    }
    var O = o[s - 1];
    o[s - 1] = o[c], o[c] = O, c = vU(e13, t, a, s - 1, i, o, f);
    for (var T = u * (s - 1), E = u * c, y = 0; y < u; ++y, ++T, ++E) {
      var _ = i[T];
      i[T] = i[E], i[E] = _;
    }
    var O = o[s - 1];
    if (o[s - 1] = o[c], o[c] = O, l < c) {
      for (s = c - 1; a < s && i[u * (s - 1) + t] === f; )
        s -= 1;
      s += 1;
    } else if (c < l)
      for (a = c + 1; a < s && i[u * a + t] === f; )
        a += 1;
    else
      break;
  }
  return vU(e13, t, r, l, i, o, i[u * l + t]);
}
var YBe = sFe;
var vf = jt;
var IO = $r;
var vq = mM;
var qBe = vq.partial;
var KBe = vq.full;
var ol = hq;
var ZBe = GBe;
var _p = gq;
var yU = 128;
var QBe = 1 << 22;
var JBe = 1 << 22;
var eFe = _p("!(lo>=p0)&&!(p1>=hi)", ["p0", "p1"]);
var _U = _p("lo===p0", ["p0"]);
var tFe = _p("lo<p0", ["p0"]);
var rFe = _p("hi<=p0", ["p0"]);
var bU = _p("lo<=p0&&p0<=hi", ["p0"]);
var nFe = _p("lo<p0&&p0<=hi", ["p0"]);
var yM = 6;
var _M = 2;
var yq = 1024;
var di = vf.mallocInt32(yq);
var nu = vf.mallocDouble(yq);
function iFe(e13, t) {
  var r = 8 * IO.log2(t + 1) * (e13 + 1) | 0, n = IO.nextPow2(yM * r);
  di.length < n && (vf.free(di), di = vf.mallocInt32(n));
  var i = IO.nextPow2(_M * r);
  nu.length < i && (vf.free(nu), nu = vf.mallocDouble(i));
}
function Ro(e13, t, r, n, i, o, a, s, l) {
  var u = yM * e13;
  di[u] = t, di[u + 1] = r, di[u + 2] = n, di[u + 3] = i, di[u + 4] = o, di[u + 5] = a;
  var c = _M * e13;
  nu[c] = s, nu[c + 1] = l;
}
function oFe(e13, t, r, n, i, o, a, s, l, u, c) {
  var f = 2 * e13, h = l * f, d = u[h + t];
  e:
    for (var p = i, m = i * f; p < o; ++p, m += f) {
      var g = a[m + t], v = a[m + t + e13];
      if (!(d < g || v < d) && !(n && d === g)) {
        for (var b = s[p], y = t + 1; y < e13; ++y) {
          var g = a[m + y], v = a[m + y + e13], _ = u[h + y], T = u[h + y + e13];
          if (v < _ || T < g)
            continue e;
        }
        var E;
        if (n ? E = r(c, b) : E = r(b, c), E !== void 0)
          return E;
      }
    }
}
function aFe(e13, t, r, n, i, o, a, s, l, u) {
  var c = 2 * e13, f = s * c, h = l[f + t];
  e:
    for (var d = n, p = n * c; d < i; ++d, p += c) {
      var m = a[d];
      if (m !== u) {
        var g = o[p + t], v = o[p + t + e13];
        if (!(h < g || v < h)) {
          for (var b = t + 1; b < e13; ++b) {
            var g = o[p + b], v = o[p + b + e13], y = l[f + b], _ = l[f + b + e13];
            if (v < y || _ < g)
              continue e;
          }
          var T = r(m, u);
          if (T !== void 0)
            return T;
        }
      }
    }
}
function sFe(e13, t, r, n, i, o, a, s, l) {
  iFe(e13, n + a);
  var u = 0, c = 2 * e13, f;
  for (Ro(u++, 0, 0, n, 0, a, r ? 16 : 0, -1 / 0, 1 / 0), r || Ro(u++, 0, 0, a, 0, n, 1, -1 / 0, 1 / 0); u > 0; ) {
    u -= 1;
    var h = u * yM, d = di[h], p = di[h + 1], m = di[h + 2], g = di[h + 3], v = di[h + 4], b = di[h + 5], y = u * _M, _ = nu[y], T = nu[y + 1], E = b & 1, O = !!(b & 16), S = i, P = o, C = s, w = l;
    if (E && (S = s, P = l, C = i, w = o), !(b & 2 && (m = tFe(e13, d, p, m, S, P, T), p >= m)) && !(b & 4 && (p = rFe(e13, d, p, m, S, P, _), p >= m))) {
      var N = m - p, L = v - g;
      if (O) {
        if (e13 * N * (N + L) < JBe) {
          if (f = ol.scanComplete(e13, d, t, p, m, S, P, g, v, C, w), f !== void 0)
            return f;
          continue;
        }
      } else if (e13 * Math.min(N, L) < yU) {
        if (f = qBe(e13, d, t, E, p, m, S, P, g, v, C, w), f !== void 0)
          return f;
        continue;
      } else if (e13 * N * L < QBe) {
        if (f = ol.scanBipartite(e13, d, t, E, p, m, S, P, g, v, C, w), f !== void 0)
          return f;
        continue;
      }
      var A = eFe(e13, d, p, m, S, P, _, T);
      if (p < A)
        if (e13 * (A - p) < yU) {
          if (f = KBe(e13, d + 1, t, p, A, S, P, g, v, C, w), f !== void 0)
            return f;
        } else if (d === e13 - 2) {
          if (E ? f = ol.sweepBipartite(e13, t, g, v, C, w, p, A, S, P) : f = ol.sweepBipartite(e13, t, p, A, S, P, g, v, C, w), f !== void 0)
            return f;
        } else
          Ro(u++, d + 1, p, A, g, v, E, -1 / 0, 1 / 0), Ro(u++, d + 1, g, v, p, A, E ^ 1, -1 / 0, 1 / 0);
      if (A < m) {
        var R = ZBe(e13, d, g, v, C, w), F = C[c * R + d], $ = _U(e13, d, R, v, C, w, F);
        if ($ < v && Ro(u++, d, A, m, $, v, (E | 4) + (O ? 16 : 0), F, T), g < R && Ro(u++, d, A, m, g, R, (E | 2) + (O ? 16 : 0), _, F), R + 1 === $) {
          if (O ? f = aFe(e13, d, t, A, m, S, P, R, C, w[R]) : f = oFe(e13, d, t, E, A, m, S, P, R, C, w[R]), f !== void 0)
            return f;
        } else if (R < $) {
          var K;
          if (O) {
            if (K = bU(e13, d, A, m, S, P, F), A < K) {
              var ie = _U(e13, d, A, K, S, P, F);
              if (d === e13 - 2) {
                if (A < ie && (f = ol.sweepComplete(e13, t, A, ie, S, P, R, $, C, w), f !== void 0) || ie < K && (f = ol.sweepBipartite(e13, t, ie, K, S, P, R, $, C, w), f !== void 0))
                  return f;
              } else
                A < ie && Ro(u++, d + 1, A, ie, R, $, 16, -1 / 0, 1 / 0), ie < K && (Ro(u++, d + 1, ie, K, R, $, 0, -1 / 0, 1 / 0), Ro(u++, d + 1, R, $, ie, K, 1, -1 / 0, 1 / 0));
            }
          } else
            E ? K = nFe(e13, d, A, m, S, P, F) : K = bU(e13, d, A, m, S, P, F), A < K && (d === e13 - 2 ? E ? f = ol.sweepBipartite(e13, t, R, $, C, w, A, K, S, P) : f = ol.sweepBipartite(e13, t, A, K, S, P, R, $, C, w) : (Ro(u++, d + 1, A, K, R, $, E, -1 / 0, 1 / 0), Ro(u++, d + 1, R, $, A, K, E ^ 1, -1 / 0, 1 / 0)));
        }
      }
    }
  }
}
var lFe = dFe;
var al = jt;
var w_ = hq;
var cFe = YBe;
function uFe(e13, t) {
  for (var r = 0; r < e13; ++r)
    if (!(t[r] <= t[r + e13]))
      return true;
  return false;
}
function TU(e13, t, r, n) {
  for (var i = 0, o = 0, a = 0, s = e13.length; a < s; ++a) {
    var l = e13[a];
    if (!uFe(t, l)) {
      for (var u = 0; u < 2 * t; ++u)
        r[i++] = l[u];
      n[o++] = a;
    }
  }
  return o;
}
function aT(e13, t, r, n) {
  var i = e13.length, o = t.length;
  if (!(i <= 0 || o <= 0)) {
    var a = e13[0].length >>> 1;
    if (!(a <= 0)) {
      var s, l = al.mallocDouble(2 * a * i), u = al.mallocInt32(i);
      if (i = TU(e13, a, l, u), i > 0) {
        if (a === 1 && n)
          w_.init(i), s = w_.sweepComplete(a, r, 0, i, l, u, 0, i, l, u);
        else {
          var c = al.mallocDouble(2 * a * o), f = al.mallocInt32(o);
          o = TU(t, a, c, f), o > 0 && (w_.init(i + o), a === 1 ? s = w_.sweepBipartite(a, r, 0, i, l, u, 0, o, c, f) : s = cFe(a, r, n, i, l, u, o, c, f), al.free(c), al.free(f));
        }
        al.free(l), al.free(u);
      }
      return s;
    }
  }
}
var mv;
function _q(e13, t) {
  mv.push([e13, t]);
}
function hFe(e13) {
  return mv = [], aT(e13, e13, _q, true), mv;
}
function fFe(e13, t) {
  return mv = [], aT(e13, t, _q, false), mv;
}
function dFe(e13, t, r) {
  switch (arguments.length) {
    case 1:
      return hFe(e13);
    case 2:
      return typeof t == "function" ? aT(e13, e13, t, true) : fFe(e13, t);
    case 3:
      return aT(e13, t, r, false);
    default:
      throw new Error("box-intersect: Invalid arguments");
  }
}
var uy = $i(lFe);
var bq = { exports: {} };
var Tq = pFe;
var EU = +(Math.pow(2, 27) + 1);
function pFe(e13, t, r) {
  var n = e13 * t, i = EU * e13, o = i - e13, a = i - o, s = e13 - a, l = EU * t, u = l - t, c = l - u, f = t - c, h = n - a * c, d = h - s * c, p = d - a * f, m = s * f - p;
  return r ? (r[0] = m, r[1] = n, r) : [m, n];
}
var mFe = vFe;
function gFe(e13, t) {
  var r = e13 + t, n = r - e13, i = r - n, o = t - n, a = e13 - i, s = a + o;
  return s ? [s, r] : [r];
}
function vFe(e13, t) {
  var r = e13.length | 0, n = t.length | 0;
  if (r === 1 && n === 1)
    return gFe(e13[0], t[0]);
  var i = r + n, o = new Array(i), a = 0, s = 0, l = 0, u = Math.abs, c = e13[s], f = u(c), h = t[l], d = u(h), p, m;
  f < d ? (m = c, s += 1, s < r && (c = e13[s], f = u(c))) : (m = h, l += 1, l < n && (h = t[l], d = u(h))), s < r && f < d || l >= n ? (p = c, s += 1, s < r && (c = e13[s], f = u(c))) : (p = h, l += 1, l < n && (h = t[l], d = u(h)));
  for (var g = p + m, v = g - p, b = m - v, y = b, _ = g, T, E, O, S, P; s < r && l < n; )
    f < d ? (p = c, s += 1, s < r && (c = e13[s], f = u(c))) : (p = h, l += 1, l < n && (h = t[l], d = u(h))), m = y, g = p + m, v = g - p, b = m - v, b && (o[a++] = b), T = _ + g, E = T - _, O = T - E, S = g - E, P = _ - O, y = P + S, _ = T;
  for (; s < r; )
    p = c, m = y, g = p + m, v = g - p, b = m - v, b && (o[a++] = b), T = _ + g, E = T - _, O = T - E, S = g - E, P = _ - O, y = P + S, _ = T, s += 1, s < r && (c = e13[s]);
  for (; l < n; )
    p = h, m = y, g = p + m, v = g - p, b = m - v, b && (o[a++] = b), T = _ + g, E = T - _, O = T - E, S = g - E, P = _ - O, y = P + S, _ = T, l += 1, l < n && (h = t[l]);
  return y && (o[a++] = y), _ && (o[a++] = _), a || (o[a++] = 0), o.length = a, o;
}
var yFe = _Fe;
function _Fe(e13, t, r) {
  var n = e13 + t, i = n - e13, o = n - i, a = t - i, s = e13 - o;
  return r ? (r[0] = s + a, r[1] = n, r) : [s + a, n];
}
var PO = Tq;
var bFe = yFe;
var TFe = EFe;
function EFe(e13, t) {
  var r = e13.length;
  if (r === 1) {
    var n = PO(e13[0], t);
    return n[0] ? n : [n[1]];
  }
  var i = new Array(2 * r), o = [0.1, 0.1], a = [0.1, 0.1], s = 0;
  PO(e13[0], t, o), o[0] && (i[s++] = o[0]);
  for (var l = 1; l < r; ++l) {
    PO(e13[l], t, a);
    var u = o[1];
    bFe(u, a[0], o), o[0] && (i[s++] = o[0]);
    var c = a[1], f = o[1], h = c + f, d = h - c, p = f - d;
    o[1] = h, p && (i[s++] = p);
  }
  return o[1] && (i[s++] = o[1]), s === 0 && (i[s++] = 0), i.length = s, i;
}
var SFe = AFe;
function wFe(e13, t) {
  var r = e13 + t, n = r - e13, i = r - n, o = t - n, a = e13 - i, s = a + o;
  return s ? [s, r] : [r];
}
function AFe(e13, t) {
  var r = e13.length | 0, n = t.length | 0;
  if (r === 1 && n === 1)
    return wFe(e13[0], -t[0]);
  var i = r + n, o = new Array(i), a = 0, s = 0, l = 0, u = Math.abs, c = e13[s], f = u(c), h = -t[l], d = u(h), p, m;
  f < d ? (m = c, s += 1, s < r && (c = e13[s], f = u(c))) : (m = h, l += 1, l < n && (h = -t[l], d = u(h))), s < r && f < d || l >= n ? (p = c, s += 1, s < r && (c = e13[s], f = u(c))) : (p = h, l += 1, l < n && (h = -t[l], d = u(h)));
  for (var g = p + m, v = g - p, b = m - v, y = b, _ = g, T, E, O, S, P; s < r && l < n; )
    f < d ? (p = c, s += 1, s < r && (c = e13[s], f = u(c))) : (p = h, l += 1, l < n && (h = -t[l], d = u(h))), m = y, g = p + m, v = g - p, b = m - v, b && (o[a++] = b), T = _ + g, E = T - _, O = T - E, S = g - E, P = _ - O, y = P + S, _ = T;
  for (; s < r; )
    p = c, m = y, g = p + m, v = g - p, b = m - v, b && (o[a++] = b), T = _ + g, E = T - _, O = T - E, S = g - E, P = _ - O, y = P + S, _ = T, s += 1, s < r && (c = e13[s]);
  for (; l < n; )
    p = h, m = y, g = p + m, v = g - p, b = m - v, b && (o[a++] = b), T = _ + g, E = T - _, O = T - E, S = g - E, P = _ - O, y = P + S, _ = T, l += 1, l < n && (h = -t[l]);
  return y && (o[a++] = y), _ && (o[a++] = _), a || (o[a++] = 0), o.length = a, o;
}
(function(e13) {
  var t = Tq, r = mFe, n = TFe, i = SFe, o = 5, a = 11102230246251565e-32, s = (3 + 16 * a) * a, l = (7 + 56 * a) * a;
  function u(y, _, T, E) {
    return function(S, P, C) {
      var w = y(y(_(P[1], C[0]), _(-C[1], P[0])), y(_(S[1], P[0]), _(-P[1], S[0]))), N = y(_(S[1], C[0]), _(-C[1], S[0])), L = E(w, N);
      return L[L.length - 1];
    };
  }
  function c(y, _, T, E) {
    return function(S, P, C, w) {
      var N = y(y(T(y(_(C[1], w[0]), _(-w[1], C[0])), P[2]), y(T(y(_(P[1], w[0]), _(-w[1], P[0])), -C[2]), T(y(_(P[1], C[0]), _(-C[1], P[0])), w[2]))), y(T(y(_(P[1], w[0]), _(-w[1], P[0])), S[2]), y(T(y(_(S[1], w[0]), _(-w[1], S[0])), -P[2]), T(y(_(S[1], P[0]), _(-P[1], S[0])), w[2])))), L = y(y(T(y(_(C[1], w[0]), _(-w[1], C[0])), S[2]), y(T(y(_(S[1], w[0]), _(-w[1], S[0])), -C[2]), T(y(_(S[1], C[0]), _(-C[1], S[0])), w[2]))), y(T(y(_(P[1], C[0]), _(-C[1], P[0])), S[2]), y(T(y(_(S[1], C[0]), _(-C[1], S[0])), -P[2]), T(y(_(S[1], P[0]), _(-P[1], S[0])), C[2])))), A = E(N, L);
      return A[A.length - 1];
    };
  }
  function f(y, _, T, E) {
    return function(S, P, C, w, N) {
      var L = y(y(y(T(y(T(y(_(w[1], N[0]), _(-N[1], w[0])), C[2]), y(T(y(_(C[1], N[0]), _(-N[1], C[0])), -w[2]), T(y(_(C[1], w[0]), _(-w[1], C[0])), N[2]))), P[3]), y(T(y(T(y(_(w[1], N[0]), _(-N[1], w[0])), P[2]), y(T(y(_(P[1], N[0]), _(-N[1], P[0])), -w[2]), T(y(_(P[1], w[0]), _(-w[1], P[0])), N[2]))), -C[3]), T(y(T(y(_(C[1], N[0]), _(-N[1], C[0])), P[2]), y(T(y(_(P[1], N[0]), _(-N[1], P[0])), -C[2]), T(y(_(P[1], C[0]), _(-C[1], P[0])), N[2]))), w[3]))), y(T(y(T(y(_(C[1], w[0]), _(-w[1], C[0])), P[2]), y(T(y(_(P[1], w[0]), _(-w[1], P[0])), -C[2]), T(y(_(P[1], C[0]), _(-C[1], P[0])), w[2]))), -N[3]), y(T(y(T(y(_(w[1], N[0]), _(-N[1], w[0])), P[2]), y(T(y(_(P[1], N[0]), _(-N[1], P[0])), -w[2]), T(y(_(P[1], w[0]), _(-w[1], P[0])), N[2]))), S[3]), T(y(T(y(_(w[1], N[0]), _(-N[1], w[0])), S[2]), y(T(y(_(S[1], N[0]), _(-N[1], S[0])), -w[2]), T(y(_(S[1], w[0]), _(-w[1], S[0])), N[2]))), -P[3])))), y(y(T(y(T(y(_(P[1], N[0]), _(-N[1], P[0])), S[2]), y(T(y(_(S[1], N[0]), _(-N[1], S[0])), -P[2]), T(y(_(S[1], P[0]), _(-P[1], S[0])), N[2]))), w[3]), y(T(y(T(y(_(P[1], w[0]), _(-w[1], P[0])), S[2]), y(T(y(_(S[1], w[0]), _(-w[1], S[0])), -P[2]), T(y(_(S[1], P[0]), _(-P[1], S[0])), w[2]))), -N[3]), T(y(T(y(_(C[1], w[0]), _(-w[1], C[0])), P[2]), y(T(y(_(P[1], w[0]), _(-w[1], P[0])), -C[2]), T(y(_(P[1], C[0]), _(-C[1], P[0])), w[2]))), S[3]))), y(T(y(T(y(_(C[1], w[0]), _(-w[1], C[0])), S[2]), y(T(y(_(S[1], w[0]), _(-w[1], S[0])), -C[2]), T(y(_(S[1], C[0]), _(-C[1], S[0])), w[2]))), -P[3]), y(T(y(T(y(_(P[1], w[0]), _(-w[1], P[0])), S[2]), y(T(y(_(S[1], w[0]), _(-w[1], S[0])), -P[2]), T(y(_(S[1], P[0]), _(-P[1], S[0])), w[2]))), C[3]), T(y(T(y(_(P[1], C[0]), _(-C[1], P[0])), S[2]), y(T(y(_(S[1], C[0]), _(-C[1], S[0])), -P[2]), T(y(_(S[1], P[0]), _(-P[1], S[0])), C[2]))), -w[3]))))), A = y(y(y(T(y(T(y(_(w[1], N[0]), _(-N[1], w[0])), C[2]), y(T(y(_(C[1], N[0]), _(-N[1], C[0])), -w[2]), T(y(_(C[1], w[0]), _(-w[1], C[0])), N[2]))), S[3]), T(y(T(y(_(w[1], N[0]), _(-N[1], w[0])), S[2]), y(T(y(_(S[1], N[0]), _(-N[1], S[0])), -w[2]), T(y(_(S[1], w[0]), _(-w[1], S[0])), N[2]))), -C[3])), y(T(y(T(y(_(C[1], N[0]), _(-N[1], C[0])), S[2]), y(T(y(_(S[1], N[0]), _(-N[1], S[0])), -C[2]), T(y(_(S[1], C[0]), _(-C[1], S[0])), N[2]))), w[3]), T(y(T(y(_(C[1], w[0]), _(-w[1], C[0])), S[2]), y(T(y(_(S[1], w[0]), _(-w[1], S[0])), -C[2]), T(y(_(S[1], C[0]), _(-C[1], S[0])), w[2]))), -N[3]))), y(y(T(y(T(y(_(C[1], N[0]), _(-N[1], C[0])), P[2]), y(T(y(_(P[1], N[0]), _(-N[1], P[0])), -C[2]), T(y(_(P[1], C[0]), _(-C[1], P[0])), N[2]))), S[3]), T(y(T(y(_(C[1], N[0]), _(-N[1], C[0])), S[2]), y(T(y(_(S[1], N[0]), _(-N[1], S[0])), -C[2]), T(y(_(S[1], C[0]), _(-C[1], S[0])), N[2]))), -P[3])), y(T(y(T(y(_(P[1], N[0]), _(-N[1], P[0])), S[2]), y(T(y(_(S[1], N[0]), _(-N[1], S[0])), -P[2]), T(y(_(S[1], P[0]), _(-P[1], S[0])), N[2]))), C[3]), T(y(T(y(_(P[1], C[0]), _(-C[1], P[0])), S[2]), y(T(y(_(S[1], C[0]), _(-C[1], S[0])), -P[2]), T(y(_(S[1], P[0]), _(-P[1], S[0])), C[2]))), -N[3])))), R = E(L, A);
      return R[R.length - 1];
    };
  }
  function h(y) {
    var _ = y === 3 ? u : y === 4 ? c : f;
    return _(r, t, n, i);
  }
  var d = h(3), p = h(4), m = [function() {
    return 0;
  }, function() {
    return 0;
  }, function(_, T) {
    return T[0] - _[0];
  }, function(_, T, E) {
    var O = (_[1] - E[1]) * (T[0] - E[0]), S = (_[0] - E[0]) * (T[1] - E[1]), P = O - S, C;
    if (O > 0) {
      if (S <= 0)
        return P;
      C = O + S;
    } else if (O < 0) {
      if (S >= 0)
        return P;
      C = -(O + S);
    } else
      return P;
    var w = s * C;
    return P >= w || P <= -w ? P : d(_, T, E);
  }, function(_, T, E, O) {
    var S = _[0] - O[0], P = T[0] - O[0], C = E[0] - O[0], w = _[1] - O[1], N = T[1] - O[1], L = E[1] - O[1], A = _[2] - O[2], R = T[2] - O[2], F = E[2] - O[2], $ = P * L, K = C * N, ie = C * w, J = S * L, pe = S * N, oe = P * w, q = A * ($ - K) + R * (ie - J) + F * (pe - oe), W = (Math.abs($) + Math.abs(K)) * Math.abs(A) + (Math.abs(ie) + Math.abs(J)) * Math.abs(R) + (Math.abs(pe) + Math.abs(oe)) * Math.abs(F), se = l * W;
    return q > se || -q > se ? q : p(_, T, E, O);
  }];
  function g(y) {
    var _ = m[y.length];
    return _ || (_ = m[y.length] = h(y.length)), _.apply(void 0, y);
  }
  function v(y, _, T, E, O, S, P) {
    return function(w, N, L, A, R) {
      switch (arguments.length) {
        case 0:
        case 1:
          return 0;
        case 2:
          return E(w, N);
        case 3:
          return O(w, N, L);
        case 4:
          return S(w, N, L, A);
        case 5:
          return P(w, N, L, A, R);
      }
      for (var F = new Array(arguments.length), $ = 0; $ < arguments.length; ++$)
        F[$] = arguments[$];
      return y(F);
    };
  }
  function b() {
    for (; m.length <= o; )
      m.push(h(m.length));
    e13.exports = v.apply(void 0, [g].concat(m));
    for (var y = 0; y <= o; ++y)
      e13.exports[y] = m[y];
  }
  b();
})(bq);
var OFe = bq.exports;
var IFe = PFe;
var A_ = OFe;
function PFe(e13, t) {
  for (var r = t[0], n = t[1], i = e13.length, o = 1, a = i, s = 0, l = i - 1; s < a; l = s++) {
    var u = e13[s], c = e13[l], f = u[1], h = c[1];
    if (h < f) {
      if (h < n && n < f) {
        var d = A_(u, c, t);
        if (d === 0)
          return 0;
        o ^= 0 < d | 0;
      } else if (n === f) {
        var p = e13[(s + 1) % i], m = p[1];
        if (f < m) {
          var d = A_(u, c, t);
          if (d === 0)
            return 0;
          o ^= 0 < d | 0;
        }
      }
    } else if (f < h) {
      if (f < n && n < h) {
        var d = A_(u, c, t);
        if (d === 0)
          return 0;
        o ^= d < 0 | 0;
      } else if (n === f) {
        var p = e13[(s + 1) % i], m = p[1];
        if (m < f) {
          var d = A_(u, c, t);
          if (d === 0)
            return 0;
          o ^= d < 0 | 0;
        }
      }
    } else if (n === f) {
      var g = Math.min(u[0], c[0]), v = Math.max(u[0], c[0]);
      if (s === 0) {
        for (; l > 0; ) {
          var b = (l + i - 1) % i, y = e13[b];
          if (y[1] !== n)
            break;
          var _ = y[0];
          g = Math.min(g, _), v = Math.max(v, _), l = b;
        }
        if (l === 0)
          return g <= r && r <= v ? 0 : 1;
        a = l + 1;
      }
      for (var T = e13[(l + i - 1) % i][1]; s + 1 < a; ) {
        var y = e13[s + 1];
        if (y[1] !== n)
          break;
        var _ = y[0];
        g = Math.min(g, _), v = Math.max(v, _), s += 1;
      }
      if (g <= r && r <= v)
        return 0;
      var E = e13[(s + 1) % i][1];
      r < g && T < n != E < n && (o ^= 1);
    }
  }
  return 2 * o - 1;
}
var Eq = $i(IFe);
function CFe(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function xFe(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, DFe(n.key), n);
  }
}
function kFe(e13, t, r) {
  return t && xFe(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function DFe(e13) {
  var t = RFe(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function RFe(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
function ma() {
  return typeof Reflect < "u" && Reflect.get ? ma = Reflect.get.bind() : ma = function(t, r, n) {
    var i = NFe(t, r);
    if (i) {
      var o = Object.getOwnPropertyDescriptor(i, r);
      return o.get ? o.get.call(arguments.length < 3 ? t : n) : o.value;
    }
  }, ma.apply(this, arguments);
}
function NFe(e13, t) {
  for (; !Object.prototype.hasOwnProperty.call(e13, t) && (e13 = go(e13), e13 !== null); )
    ;
  return e13;
}
function MFe(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  e13.prototype = Object.create(t && t.prototype, { constructor: { value: e13, writable: true, configurable: true } }), Object.defineProperty(e13, "prototype", { writable: false }), t && UC(e13, t);
}
function UC(e13, t) {
  return UC = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, i) {
    return n.__proto__ = i, n;
  }, UC(e13, t);
}
function LFe(e13) {
  var t = $Fe();
  return function() {
    var n = go(e13), i;
    if (t) {
      var o = go(this).constructor;
      i = Reflect.construct(n, arguments, o);
    } else
      i = n.apply(this, arguments);
    return BFe(this, i);
  };
}
function BFe(e13, t) {
  if (t && (typeof t == "object" || typeof t == "function"))
    return t;
  if (t !== void 0)
    throw new TypeError("Derived constructors may only return object or undefined");
  return FFe(e13);
}
function FFe(e13) {
  if (e13 === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e13;
}
function $Fe() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return false;
  if (typeof Proxy == "function")
    return true;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), true;
  } catch {
    return false;
  }
}
function go(e13) {
  return go = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(r) {
    return r.__proto__ || Object.getPrototypeOf(r);
  }, go(e13);
}
var SU = 16;
var wU = 50;
var CO = 5e3;
var AU = 5;
var HFe = 14;
var Ac = {
  fontSize: `${HFe}px`,
  fontFamily: "Arial",
  stroke: "white",
  strokeThickness: 2,
  fontWeight: 400,
  dropShadow: true,
  dropShadowColor: "white",
  dropShadowDistance: 0,
  dropShadowBlur: 2
};
var Sq = function(e13) {
  MFe(r, e13);
  var t = LFe(r);
  function r(n, i) {
    var o;
    return CFe(this, r), o = t.call(this, n, i), o.valueScaleTransform = En, o;
  }
  return kFe(r, [{
    key: "initialize",
    value: function() {
      this.initialized || ([this.prevK, this.vertK, this.vertY] = [1, 1, 0], this.drawnRects || (this.drawnRects = {}), this.colorScale || (this.options.colorRange ? this.colorScale = Wl(this.options.colorRange) : this.colorScale = cd), this.initialized = true);
    }
  }, {
    key: "initTile",
    value: function(i) {
      i.texts = {}, i.rectGraphics = new Ge.PIXI.Graphics(), i.textGraphics = new Ge.PIXI.Graphics(), i.graphics.addChild(i.rectGraphics), i.graphics.addChild(i.textGraphics);
      let o = [], a = [];
      if (i.tileData && i.tileData.length) {
        if (i.tileData.sort((s, l) => l.importance - s.importance), !this.options || !this.options.valueColumn) {
          const s = i.tileData.map((l) => {
            const u = +l.chrOffset;
            return {
              from: +l.fields[1] + u,
              to: +l.fields[2] + u,
              value: l,
              text: l.fields[3],
              strand: l.fields.length >= 6 && l.fields[5] === "-" ? "-" : "+"
            };
          });
          o = k0(s.filter((l) => l.strand === "+")), a = k0(s.filter((l) => l.strand === "-"));
        } else
          o = [i.tileData.map((s) => ({
            value: s
          }))];
        i.plusStrandRows = o, i.minusStrandRows = a, this.options.showTexts && i.tileData.forEach((s, l) => {
          const u = s.fields;
          if (s.importance || (s.importance = Math.random()), i.textWidths = {}, i.textHeights = {}, l >= (+this.options.maxTexts || wU))
            return;
          const c = new Ge.PIXI.Text(u[3], {
            ...Ac,
            fontSize: +this.options.fontSize || Ac.fontSize
          });
          this.flipText && (c.scale.x = -1), c.anchor.x = 0.5, c.anchor.y = 0.5, i.texts[s.uid] = c, i.textGraphics.addChild(c);
        });
      }
      i.initialized = true;
    }
    /**
     * Remove the tile's rectangles from the list of drawnRects so that they
     * can be drawn again.
     */
  }, {
    key: "removeTileRects",
    value: function(i) {
      const o = +i.tileId.split(".")[0];
      i.rectGraphics.clear(), i.rendered = false, i.tileData && i.tileData.length && i.tileData.forEach((a, s) => {
        this.drawnRects[o] && this.drawnRects[o][a.uid] && this.drawnRects[o][a.uid][2] === i.tileId && delete this.drawnRects[o][a.uid];
      });
    }
  }, {
    key: "destroyTile",
    value: function(i) {
      this.removeTileRects(i), i.graphics.removeChild(i.textGraphics), i.graphics.removeChild(i.rectGraphics);
    }
  }, {
    key: "removeTiles",
    value: function(i) {
      ma(go(r.prototype), "removeTiles", this).call(this, i);
    }
  }, {
    key: "drawTile",
    value: function(i) {
      this.options && this.options.valueColumn && this.valueScale && this.drawAxis(this.valueScale);
    }
  }, {
    key: "rerender",
    value: function(i, o) {
      ma(go(r.prototype), "rerender", this).call(this, i, o), this.valueScale = null, this.drawnRects = {}, this.options.colorRange ? this.colorScale = Wl(this.options.colorRange) : this.colorScale = cd;
      for (const a of this.visibleAndFetchedTiles())
        this.destroyTile(a), this.initTile(a), this.renderTile(a);
    }
  }, {
    key: "updateTile",
    value: function(i) {
      this.areAllVisibleTilesLoaded() && this.renderTile(i);
    }
    /**
     * Use this only when there's one row
     *
     * @return {[type]} [description]
     */
  }, {
    key: "allVisibleRects",
    value: function() {
      const i = {};
      Object.values(this.fetchedTiles).forEach((l) => {
        if (l.plusStrandRows)
          for (const u of l.plusStrandRows[0])
            i[u.value.uid] || (i[u.value.uid] = u);
      });
      const o = Object.values(i).sort((l, u) => l.from - u.from);
      let a = 0, s = 0;
      for (let l = 0; l < o.length; l++)
        if (o[l].staggeredStartPosition !== void 0) {
          a = l, s = o[l].staggeredStartPosition;
          break;
        }
      for (let l = a; l < o.length; l++)
        o[l].staggeredStartPosition = (s + l - a) % 2;
      for (let l = a; l >= 0 && o.length; l--)
        o[l].staggeredStartPosition = (s + a - l) % 2;
      return i;
    }
  }, {
    key: "drawSegmentStyle",
    value: function(i, o, a, s, l, u) {
      const f = s + l / 2, h = [
        o,
        s,
        // upper left
        o + 2 * 0.1,
        s,
        // upper right
        o + 2 * 0.1,
        f - 0.1,
        a - 2 * 0.1,
        f - 0.1,
        a - 2 * 0.1,
        s,
        a,
        s,
        a,
        s + l,
        a - 2 * 0.1,
        s + l,
        a - 2 * 0.1,
        f + 0.1,
        o + 2 * 0.1,
        f + 0.1,
        o + 2 * 0.1,
        s + l,
        o,
        s + l
      ];
      return i.rectGraphics.drawPolygon(h), h;
    }
  }, {
    key: "drawPoly",
    value: function(i, o, a, s, l, u) {
      let c = null;
      return this.options.annotationStyle === "segment" ? this.drawSegmentStyle(i, o, a, s, l, u) : ((u === "+" || u === "-") && a - o < SU / 2 ? (c = [
        o,
        s,
        // top
        o + l / 2,
        s + l / 2,
        // right point
        o,
        s + l
        // bottom
      ], u === "+" || (c = [
        a,
        s,
        // top
        a - l / 2,
        s + l / 2,
        // left point
        a,
        s + l
        // bottom
      ]), i.rectGraphics.drawPolygon(c)) : (u === "+" ? c = [
        o,
        s,
        // left top
        a - l / 2,
        s,
        // right top
        a,
        s + l / 2,
        a - l / 2,
        s + l,
        // right bottom
        o,
        s + l
        // left bottom
      ] : u === "-" ? c = [
        o + l / 2,
        s,
        // left top
        a,
        s,
        // right top
        a,
        s + l,
        // right bottom
        o + l / 2,
        s + l,
        // left bottom
        o,
        s + l / 2
      ] : c = [
        o,
        s,
        // left top
        a,
        s,
        // right top
        a,
        s + l,
        // right bottom
        o,
        s + l
        // left bottom
      ], i.rectGraphics.drawPolygon(c)), c);
    }
    /** The value scale is used to arrange annotations vertically
        based on a value */
  }, {
    key: "setValueScale",
    value: function() {
      if (this.valueScale = null, this.options && this.options.valueColumn) {
        const i = this.options.colorEncodingRange ? +this.options.colorEncodingRange[0] : this.minVisibleValueInTiles(+this.options.valueColumn), o = this.options.colorEncodingRange ? +this.options.colorEncodingRange[1] : this.maxVisibleValueInTiles(+this.options.valueColumn);
        this.options.valueColumn && ([this.valueScale] = this.makeValueScale(i, this.calculateMedianVisibleValue(+this.options.valueColumn), o));
      }
    }
    /** The color value scale is used to map some value to a coloring */
  }, {
    key: "setColorValueScale",
    value: function() {
      if (this.colorValueScale = null, this.options && this.options.colorEncoding && this.options.colorEncoding !== "itemRgb") {
        const i = this.options.colorEncodingRange ? +this.options.colorEncodingRange[0] : this.minVisibleValueInTiles(+this.options.colorEncoding), o = this.options.colorEncodingRange ? +this.options.colorEncodingRange[1] : this.maxVisibleValueInTiles(+this.options.colorEncoding);
        this.colorValueScale = It().domain([i, o]).range([0, 255]);
      }
    }
  }, {
    key: "renderRows",
    value: function(i, o, a, s, l, u) {
      const c = +i.tileId.split(".")[0];
      this.initialize();
      const f = kv().domain(vi(a)).range([s, l]).paddingInner(0.3);
      this.allVisibleRects();
      let h = null;
      this.options.staggered && (h = this.allVisibleRects());
      for (let d = 0; d < o.length; d++)
        for (let p = 0; p < o[d].length; p++) {
          const m = o[d][p].value, g = m.fields, v = +m.chrOffset, b = +g[1] + v, y = +g[2] + v, _ = (b + y) / 2;
          let T = f(d) + f.step() / 2, E = this.options.annotationHeight || SU;
          if (E === "scaled" && (E = f.bandwidth(), this.options.maxAnnotationHeight && (E = Math.min(E, +this.options.maxAnnotationHeight))), this.options && this.options.colorEncoding === "itemRgb" && m.fields[8] ? m.fields[8].split(",").length === 3 && (u = `rgb(${m.fields[8]})`) : this.colorValueScale && (u = `rgba(${YR(
            this.colorValueScale,
            this.colorScale,
            0,
            // pseudocounts
            -Number.MIN_VALUE
          )(+g[+this.options.colorEncoding - 1]).join(",")})`), this.valueScale) {
            const A = +g[+this.options.valueColumn - 1];
            T = this.valueScale(A);
          }
          const O = this.options.fillOpacity || 0.3;
          i.rectGraphics.lineStyle(1, ct(u), O), i.rectGraphics.beginFill(ct(u), O);
          let S = T - E / 2;
          const P = this._xScale(b), C = this._xScale(y);
          this.options.staggered && (h[m.uid].staggeredStartPosition ? S -= AU / 2 : S += AU / 2);
          let w = true;
          if (!(c in this.drawnRects && m.uid in this.drawnRects[c])) {
            w = false, this.drawnRects[c] || (this.drawnRects[c] = {});
            const A = this.drawPoly(i, P, C, S * this.prevK, E * this.prevK, g[5]);
            this.drawnRects[c][m.uid] = [A, {
              start: b,
              end: y,
              value: m,
              tile: i,
              fill: u
            }, i.tileId];
          }
          if (!this.options.showTexts)
            continue;
          if (!i.texts)
            return;
          if (p >= (+this.options.maxTexts || wU) || !i.texts[m.uid])
            continue;
          const N = i.texts[m.uid];
          N.position.x = this._xScale(_), N.position.y = S + E / 2, N.nominalY = S + E / 2, w && (N.alreadyDrawn = true);
          const L = this.options.fontColor !== void 0 ? ct(this.options.fontColor) : u;
          if (N.style = {
            ...Ac,
            fill: L,
            fontSize: +this.options.fontSize || Ac.fontSize
          }, !(g[3] in i.textWidths)) {
            N.updateTransform();
            const A = N.getBounds().width, R = N.getBounds().height, F = 5;
            i.textWidths[g[3]] = A, i.textHeights[g[3]] = R - F;
          }
        }
    }
  }, {
    key: "renderTile",
    value: function(i) {
      let o = i.plusStrandRows ? i.plusStrandRows.length : 1, a = i.minusStrandRows ? i.minusStrandRows.length : 1;
      for (const s of this.visibleAndFetchedTiles()) {
        if (!s.initialized)
          return;
        !s.plusStrandRows && !s.minusStrandRows || (o = Math.max(s.plusStrandRows.length, o), a = Math.max(s.minusStrandRows.length, a));
      }
      if (i.rendered && this.removeTileRects(i), i.drawnAtScale = this._xScale.copy(), i.rendered = true, this.setValueScale(), this.setColorValueScale(), i.tileData && i.tileData.length) {
        const s = this.options.plusStrandColor || this.options.fillColor || "blue", l = this.options.minusStrandColor || this.options.fillColor || "purple", u = 0;
        let c = 0;
        this.options.separatePlusMinusStrands ? c = o * this.dimensions[1] / (o + a) - u / 2 : c = this.dimensions[1], this.renderRows(i, i.plusStrandRows, o, 0, c, s), this.renderRows(i, i.minusStrandRows, a, this.options.separatePlusMinusStrands ? c + u / 2 : 0, this.dimensions[1], l);
      }
      tu.stretchRects(this, [(s) => s.rectGraphics]);
    }
  }, {
    key: "calculateZoomLevel",
    value: function() {
      const i = Je.calculateZoomLevel(this._xScale, this.tilesetInfo.min_pos[0], this.tilesetInfo.max_pos[0]);
      let o = Math.min(i, this.maxZoom);
      return o = Math.max(o, 0), o;
    }
  }, {
    key: "minVisibleValueInTiles",
    value: function(i) {
      let o = this.visibleAndFetchedIds();
      o.length === 0 && (o = Object.keys(this.fetchedTiles));
      let a = Math.min.apply(null, o.map((s) => this.fetchedTiles[s]).filter((s) => s.tileData && s.tileData.length).map((s) => Math.min.apply(null, s.tileData.sort((l, u) => u.importance - l.importance).slice(0, CO).map((l) => +l.fields[i - 1]).filter((l) => !Number.isNaN(l)))));
      return a === Number.MAX_SAFE_INTEGER && (a = null), a;
    }
  }, {
    key: "maxVisibleValueInTiles",
    value: function(i) {
      let o = this.visibleAndFetchedIds();
      o.length === 0 && (o = Object.keys(this.fetchedTiles));
      let a = Math.max.apply(null, o.map((s) => this.fetchedTiles[s]).filter((s) => s.tileData && s.tileData.length).map((s) => Math.max.apply(null, s.tileData.sort((l, u) => u.importance - l.importance).slice(0, CO).map((l) => +l.fields[i - 1]).filter((l) => !Number.isNaN(l)))));
      return a === Number.MIN_SAFE_INTEGER && (a = null), a;
    }
  }, {
    key: "calculateMedianVisibleValue",
    value: function(i) {
      this.areAllVisibleTilesLoaded() && this.allTilesLoaded();
      let o = this.visibleAndFetchedIds();
      o.length === 0 && (o = Object.keys(this.fetchedTiles));
      const a = [].concat(...o.map((s) => this.fetchedTiles[s]).filter((s) => s.tileData && s.tileData.length).map((s) => s.tileData.sort((l, u) => u.importance - l.importance).slice(0, CO).map((l) => +l.fields[i - 1]))).filter((s) => s > 0);
      this.medianVisibleValue = LD(a);
    }
  }, {
    key: "draw",
    value: function() {
      ma(go(r.prototype), "draw", this).call(this), this.allTexts = [], this.allBoxes = [];
      for (const i in this.fetchedTiles) {
        const o = this.fetchedTiles[i];
        if (o.rectGraphics.scale.y = this.vertK, o.rectGraphics.position.y = this.vertY, !o.drawnAtScale)
          return;
        tu.stretchRects(this, [(s) => s.rectGraphics]);
        const a = this.parentInFetched(o);
        o.initialized && o.tileData && o.tileData.length && o.tileData.forEach((s) => {
          if (!o.texts)
            return;
          const l = s.fields, u = l[3], c = o.texts[s.uid];
          if (!c)
            return;
          const f = +s.chrOffset, h = +l[1] + f, d = +l[2] + f, p = (h + d) / 2;
          if (c.position.x = this._xScale(p), c.position.y = c.nominalY * (this.vertK * this.prevK) + this.vertY, !a && !c.alreadyDrawn) {
            c.visible = true;
            const m = 3;
            this.allBoxes.push([c.position.x - m, c.position.y - o.textHeights[l[3]] / 2, c.position.x + o.textWidths[l[3]] + m, c.position.y + o.textHeights[l[3]] / 2]), this.allTexts.push({
              importance: s.importance,
              text: c,
              caption: u,
              strand: l[5]
            });
          } else
            c.visible = false;
        });
      }
      this.hideOverlaps(this.allBoxes, this.allTexts);
    }
  }, {
    key: "hideOverlaps",
    value: function(i, o) {
      uy(i, (a, s) => {
        o[a].importance > o[s].importance ? o[a].text.visible && (o[s].text.visible = false) : o[s].text.visible && (o[a].text.visible = false);
      });
    }
  }, {
    key: "setPosition",
    value: function(i) {
      ma(go(r.prototype), "setPosition", this).call(this, i), [this.pMain.position.x, this.pMain.position.y] = this.position;
    }
  }, {
    key: "setDimensions",
    value: function(i) {
      ma(go(r.prototype), "setDimensions", this).call(this, i);
    }
  }, {
    key: "zoomed",
    value: function(i, o) {
      this.xScale(i), this.yScale(o), this.refreshTiles(), this.draw();
    }
  }, {
    key: "exportSVG",
    value: function() {
      let i = null, o = null;
      ma(go(r.prototype), "exportSVG", this) ? [o, i] = ma(go(r.prototype), "exportSVG", this).call(this) : (o = document.createElement("g"), i = o);
      const a = document.createElement("g");
      a.setAttribute("transform", `translate(${this.position[0]},${this.position[1]})`), i.appendChild(a);
      const s = document.createElement("g"), l = document.createElement("g");
      a.appendChild(s), a.appendChild(l);
      for (const u of this.visibleAndFetchedTiles())
        u.tileData.length && u.tileData.forEach((c) => {
          const f = +u.tileId.split(".")[0], h = document.createElement("g");
          if (h.setAttribute("transform", `translate(${u.rectGraphics.position.x},${u.rectGraphics.position.y})scale(${u.rectGraphics.scale.x},${u.rectGraphics.scale.y})`), s.appendChild(h), this.drawnRects[f] && c.uid in this.drawnRects[f]) {
            const d = this.drawnRects[f][c.uid][0], p = document.createElement("path");
            let m = `M ${d[0]} ${d[1]}`;
            for (let b = 2; b < d.length; b += 2)
              m += ` L ${d[b]} ${d[b + 1]}`;
            const g = this.drawnRects[f][c.uid][1].fill, v = this.options.fontColor !== void 0 ? ct(this.options.fontColor) : g;
            if (p.setAttribute("d", m), p.setAttribute("fill", g), p.setAttribute("opacity", 0.3), p.style.stroke = g, p.style.strokeWidth = "1px", h.appendChild(p), u.texts[c.uid]) {
              const b = u.texts[c.uid];
              if (!b.visible)
                return;
              const y = document.createElement("g"), _ = document.createElement("text");
              l.appendChild(y), y.appendChild(_), y.setAttribute("transform", `translate(${b.x},${b.y})scale(${b.scale.x},1)`), _.setAttribute("text-anchor", "middle"), _.setAttribute("font-family", Ac.fontFamily), _.setAttribute("font-size", +this.options.fontSize || Ac.fontSize), _.setAttribute("font-weight", "bold"), _.setAttribute("dy", "5px"), _.setAttribute("fill", v), _.setAttribute("stroke", Ac.stroke), _.setAttribute("stroke-width", "0.4"), _.setAttribute("text-shadow", "0px 0px 2px grey"), _.innerHTML = b.text;
            }
          }
        });
      return [o, o];
    }
    /** Move event for the y-axis */
  }, {
    key: "movedY",
    value: function(i) {
      Object.values(this.fetchedTiles).forEach((o) => {
        const a = this.valueScaleTransform, {
          y: s,
          k: l
        } = a, u = this.dimensions[1];
        s + i / l > -(l - 1) * u && s + i / l < 0 && (this.valueScaleTransform = a.translate(0, i / l)), o.rectGraphics.position.y = this.valueScaleTransform.y, this.vertY = this.valueScaleTransform.y;
      }), this.animate();
    }
    /** Zoomed along the y-axis */
  }, {
    key: "zoomedY",
    value: function(i, o) {
      const a = tu.zoomedY(i, o, this.valueScaleTransform, this.dimensions[1]);
      this.valueScaleTransform = a;
      let s = a.k;
      const l = a.y;
      let u = false;
      s /= this.prevK, (s > 1.5 || s < 1 / 1.5) && (this.prevK *= s, s = 1, u = true), this.vertK = s, this.vertY = l, Object.values(this.fetchedTiles).forEach((c) => {
        u && this.renderTile(c), c.rectGraphics.scale.y = s, c.rectGraphics.position.y = l;
      }), this.draw(), this.animate();
    }
  }, {
    key: "getMouseOverHtml",
    value: function(i, o) {
      if (!this.tilesetInfo)
        return "";
      const a = this.calculateZoomLevel(), s = [i, o];
      if (this.drawnRects[a]) {
        const l = Object.values(this.drawnRects[a]);
        for (let u = 0; u < l.length; u++) {
          const c = l[u][0].slice(0), f = l[u][1].tile.rectGraphics.scale.x, h = l[u][1].tile.rectGraphics.position.x, d = l[u][1].tile.rectGraphics.scale.y, p = l[u][1].tile.rectGraphics.position.y, m = [];
          for (; c.length; ) {
            const [v, b] = c.splice(0, 2);
            m.push([v * f + h, b * d + p]);
          }
          if (Eq(m, s) === -1)
            return l[u][1].value.fields.join(" ");
        }
      }
      return "";
    }
  }]), r;
}(yp);
function UFe(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function jFe(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, zFe(n.key), n);
  }
}
function GFe(e13, t, r) {
  return t && jFe(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function zFe(e13) {
  var t = VFe(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function VFe(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
function wl() {
  return typeof Reflect < "u" && Reflect.get ? wl = Reflect.get.bind() : wl = function(t, r, n) {
    var i = XFe(t, r);
    if (i) {
      var o = Object.getOwnPropertyDescriptor(i, r);
      return o.get ? o.get.call(arguments.length < 3 ? t : n) : o.value;
    }
  }, wl.apply(this, arguments);
}
function XFe(e13, t) {
  for (; !Object.prototype.hasOwnProperty.call(e13, t) && (e13 = Sa(e13), e13 !== null); )
    ;
  return e13;
}
function WFe(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  e13.prototype = Object.create(t && t.prototype, { constructor: { value: e13, writable: true, configurable: true } }), Object.defineProperty(e13, "prototype", { writable: false }), t && jC(e13, t);
}
function jC(e13, t) {
  return jC = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, i) {
    return n.__proto__ = i, n;
  }, jC(e13, t);
}
function YFe(e13) {
  var t = ZFe();
  return function() {
    var n = Sa(e13), i;
    if (t) {
      var o = Sa(this).constructor;
      i = Reflect.construct(n, arguments, o);
    } else
      i = n.apply(this, arguments);
    return qFe(this, i);
  };
}
function qFe(e13, t) {
  if (t && (typeof t == "object" || typeof t == "function"))
    return t;
  if (t !== void 0)
    throw new TypeError("Derived constructors may only return object or undefined");
  return KFe(e13);
}
function KFe(e13) {
  if (e13 === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e13;
}
function ZFe() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return false;
  if (typeof Proxy == "function")
    return true;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), true;
  } catch {
    return false;
  }
}
function Sa(e13) {
  return Sa = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(r) {
    return r.__proto__ || Object.getPrototypeOf(r);
  }, Sa(e13);
}
var QFe = (e13, t, r, n, i) => {
  i.drawRect(e13, t, r, n);
};
var JFe = (e13, t, r, n, i, {
  fill: o = 0,
  fillOpacity: a = 0,
  stroke: s = 0,
  strokeWidth: l = 0,
  strokeOpacity: u = 0
} = {}) => {
  const c = document.createElement("rect");
  c.setAttribute("x", e13), c.setAttribute("y", t), c.setAttribute("width", r), c.setAttribute("height", n), c.setAttribute("fill", `#${TP(o)}`), c.setAttribute("fill-opacity", a), c.setAttribute("stroke", `#${TP(s)}`), c.setAttribute("stroke-opacity", u), c.setAttribute("stroke-width", l), i.appendChild(c);
};
var pa = (e13, t, r, n, i, o) => {
  i instanceof HTMLElement ? JFe(e13, t, r, n, i, o) : QFe(e13, t, r, n, i);
};
var OU = (e13, t, r, n, i, o, a, s, {
  isVertical: l = false,
  svg: u = null
} = {}) => {
  let c = t, f = r, h = n, d = i;
  const p = s.width * 2 > n ? n / 2 : s.width, m = s.width * 2 > i ? i / 2 : s.width, g = u || e13, v = {
    fill: 0,
    fillOpacity: 0,
    stroke: 0,
    strokeOpacity: 0,
    strokeWidth: 1
  };
  if (s.positions && s.positions.length ? (e13.lineStyle(1, 0, 0), e13.beginFill(s.color, s.opacity), v.fill = s.color, v.fillOpacity = s.opacity, v.stroke = 0, v.strokeOpacity = 0, v.strokeWidth = 1, s.positions.forEach((b) => {
    b === "top" && !l || b === "left" && l ? pa(t - p, r - m, n + p * 2, m, g, v) : b === "bottom" && !l || b === "right" && l ? pa(t - p, r + i, n + p * 2, m, g, v) : b === "left" && !l || b === "top" && l ? pa(t - p, r - m, p, i + m * 2, g, v) : (b === "right" && !l || b === "bottom" && l) && pa(t + n, r - m, p, i + m * 2, g, v);
  })) : s.width > 0 && s.opacity > 0 && (e13.lineStyle(s.width, s.color, s.opacity), e13.beginFill(0, 0), v.fill = 0, v.fillOpacity = 0, v.stroke = s.color, v.strokeOpacity = s.opacity, v.strokeWidth = s.width, pa(t - p, r - m, n + p * 2, i + m * 2, g, v)), a.positions && a.positions.length) {
    e13.lineStyle(1, 0, 0), e13.beginFill(a.color, a.opacity);
    const b = a.width * 2 > n ? n / 2 : a.width, y = a.width * 2 > i ? i / 2 : a.width;
    v.fill = a.color, v.fillOpacity = a.opacity, v.stroke = 0, v.strokeOpacity = 0, v.strokeWidth = 1, a.positions.forEach((_) => {
      _ === "top" && !l || _ === "left" && l ? (pa(t, r, n, y, g, v), f += y, d -= y) : _ === "bottom" && !l || _ === "right" && l ? (pa(t, r + i - y, n, y, g, v), d -= y) : _ === "left" && !l || _ === "top" && l ? (pa(t, r, b, i, g, v), c += b, h -= b) : (_ === "right" && !l || _ === "bottom" && l) && (pa(t + n - b, r, b, i, g, v), h -= b);
    });
  } else
    e13.lineStyle(a.width, a.color, a.opacity), v.stroke = a.color, v.strokeOpacity = a.opacity, v.strokeWidth = a.width;
  e13.beginFill(o.color, o.opacity), v.fill = o.color, v.fillOpacity = o.opacity, pa(c, f, h, d, g, v);
};
var wq = function(e13) {
  WFe(r, e13);
  var t = YFe(r);
  function r(n, i) {
    var o;
    return UFe(this, r), o = t.call(this, n, i), o.options = i || {}, o.drawnRects = {}, o;
  }
  return GFe(r, [{
    key: "drawHorizontalOverlay",
    value: function(i, o, a, s = 0, l, u, c, f) {
      if (!a || a.length < 2)
        return;
      let h = this.position[0] + o.left + this._xScale(a[0]);
      const d = this.position[1] + o.top, p = o.height;
      let m = this._xScale(a[1]) - this._xScale(a[0]);
      m < s && (h -= (s - m) / 2, m = s), OU(i, h, d, m, p, l, u, c, f);
    }
  }, {
    key: "drawVerticalOverlay",
    value: function(i, o, a, s = 0, l, u, c, f = {}) {
      if (!a || a.length < 2)
        return;
      const h = this.position[0] + o.left;
      let d = this.position[1] + o.top + this._yScale(a.length >= 4 ? a[2] : a[0]);
      const p = this.position[1] + o.top, m = this.position[1] + o.top + o.height;
      if (d > m)
        return;
      d < p && (d = p);
      const g = o.width;
      let v = this._yScale(a.length >= 4 ? a[3] : a[1]) - d + o.top + this.position[1];
      v < 0 || (d + v > m && (v += m - (d + v)), v < s && (d -= (s - v) / 2, v = s), f.isVertical = true, OU(i, h, d, g, v, l, u, c, f));
    }
  }, {
    key: "draw",
    value: function(i) {
      wl(Sa(r.prototype), "draw", this).call(this);
      const o = this.pMain, a = {
        color: ct(this.options.fill || this.options.fillColor || "blue"),
        opacity: Number.isNaN(+this.options.fillOpacity) ? 0.3 : +this.options.fillOpacity
      }, s = {
        color: ct(this.options.stroke || "blue"),
        opacity: +this.options.strokeOpacity || 1,
        width: +this.options.strokeWidth || 0,
        positions: !this.options.strokePos || Array.isArray(this.options.strokePos) ? this.options.strokePos : [this.options.strokePos]
      }, l = {
        color: ct(this.options.outline || "white"),
        opacity: +this.options.outlineOpacity || 1,
        width: +this.options.outlineWidth || 0,
        positions: !this.options.outlinePos || Array.isArray(this.options.outlinePos) ? this.options.outlinePos : [this.options.outlinePos]
      };
      (!i || !i.svg) && o.clear(), o.lineStyle(s.width, s, +!s.positions * s.opacity), o.beginFill(a.color, a.opacity);
      const u = Math.max(0, +this.options.minWidth || 0), c = Math.max(0, +this.options.minHeight || 0);
      Array.isArray(this.options.extent) && this.options.orientationsAndPositions.forEach((f) => {
        (f.orientation === "1d-horizontal" || f.orientation === "2d") && this.options.extent.forEach((h) => this.drawHorizontalOverlay(o, f.position, h, u, a, s, l, i)), (f.orientation === "1d-vertical" || f.orientation === "2d") && this.options.extent.forEach((h) => this.drawVerticalOverlay(o, f.position, h, c, a, s, l, i));
      });
    }
  }, {
    key: "zoomed",
    value: function(i, o) {
      this.xScale(i), this.yScale(o), this.draw();
    }
  }, {
    key: "setPosition",
    value: function(i) {
      wl(Sa(r.prototype), "setPosition", this).call(this, i), this.draw();
    }
  }, {
    key: "setDimensions",
    value: function(i) {
      wl(Sa(r.prototype), "setDimensions", this).call(this, i), this.draw();
    }
  }, {
    key: "exportSVG",
    value: function() {
      let i = null, o = null;
      wl(Sa(r.prototype), "exportSVG", this) ? [o, i] = wl(Sa(r.prototype), "exportSVG", this).call(this) : (o = document.createElement("g"), i = o);
      const a = document.createElement("g");
      return i.appendChild(a), this.draw({
        svg: a
      }), [o, i];
    }
  }]), r;
}(Ai);
function e$e(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function t$e(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, n$e(n.key), n);
  }
}
function r$e(e13, t, r) {
  return t && t$e(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function n$e(e13) {
  var t = i$e(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function i$e(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
function Fo() {
  return typeof Reflect < "u" && Reflect.get ? Fo = Reflect.get.bind() : Fo = function(t, r, n) {
    var i = o$e(t, r);
    if (i) {
      var o = Object.getOwnPropertyDescriptor(i, r);
      return o.get ? o.get.call(arguments.length < 3 ? t : n) : o.value;
    }
  }, Fo.apply(this, arguments);
}
function o$e(e13, t) {
  for (; !Object.prototype.hasOwnProperty.call(e13, t) && (e13 = Wi(e13), e13 !== null); )
    ;
  return e13;
}
function a$e(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  e13.prototype = Object.create(t && t.prototype, { constructor: { value: e13, writable: true, configurable: true } }), Object.defineProperty(e13, "prototype", { writable: false }), t && GC(e13, t);
}
function GC(e13, t) {
  return GC = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, i) {
    return n.__proto__ = i, n;
  }, GC(e13, t);
}
function s$e(e13) {
  var t = u$e();
  return function() {
    var n = Wi(e13), i;
    if (t) {
      var o = Wi(this).constructor;
      i = Reflect.construct(n, arguments, o);
    } else
      i = n.apply(this, arguments);
    return l$e(this, i);
  };
}
function l$e(e13, t) {
  if (t && (typeof t == "object" || typeof t == "function"))
    return t;
  if (t !== void 0)
    throw new TypeError("Derived constructors may only return object or undefined");
  return c$e(e13);
}
function c$e(e13) {
  if (e13 === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e13;
}
function u$e() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return false;
  if (typeof Proxy == "function")
    return true;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), true;
  } catch {
    return false;
  }
}
function Wi(e13) {
  return Wi = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(r) {
    return r.__proto__ || Object.getPrototypeOf(r);
  }, Wi(e13);
}
var bp = function(e13) {
  a$e(r, e13);
  var t = s$e(r);
  function r() {
    return e$e(this, r), t.apply(this, arguments);
  }
  return r$e(r, [{
    key: "stopHover",
    value: function() {
      this.pMouseOver.clear(), this.animate();
    }
  }, {
    key: "getMouseOverHtml",
    value: function(i) {
      if (!this.tilesetInfo || !this.options.showTooltip || !this.valueScale)
        return "";
      const o = this.getDataAtPos(i);
      let a = "";
      o && (a = ro(".3f")(o));
      const s = this.pMouseOver, l = 0, u = this.valueScale(o);
      s.clear(), s.beginFill(l, 0.5), s.lineStyle(1, l, 1);
      const c = 4;
      return s.drawRect(i - c / 2, u - c / 2, c, c), this.animate(), `${a}`;
    }
    /**
     * Create whatever is needed to draw this tile.
     */
  }, {
    key: "initTile",
    value: function(i) {
      if (Fo(Wi(r.prototype), "initTile", this).call(this, i), !i.tileData || !i.tileData.dense) {
        console.warn("emptyTile:", i);
        return;
      }
      if (i.xValues = new Array(i.tileData.dense.length), i.yValues = new Array(i.tileData.dense.length), this.isValueScaleLocked()) {
        const o = this.getLockGroupExtrema();
        o !== null && (this.minValue(o[0]), this.maxValue(o[1]));
      }
      this.drawTile(i);
    }
  }, {
    key: "rerender",
    value: function(i, o) {
      Fo(Wi(r.prototype), "rerender", this).call(this, i, o), this.options = i, Fo(Wi(r.prototype), "draw", this).call(this), this.visibleAndFetchedTiles().forEach((a) => {
        this.renderTile(a);
      });
    }
  }, {
    key: "renderTile",
    value: function(i) {
      this.drawTile(i), this.drawAxis(this.valueScale);
    }
  }, {
    key: "drawTile",
    value: function(i) {
      if (Fo(Wi(r.prototype), "drawTile", this).call(this, i), !i.graphics || !i.tileData || !i.tileData.dense)
        return;
      const o = i.graphics, {
        tileX: a,
        tileWidth: s
      } = this.getTilePosAndDimensions(i.tileData.zoomLevel, i.tileData.tilePos), l = i.tileData.dense;
      if (l.length === 0)
        return;
      const [u, c] = this.makeValueScale(this.minValue(), this.medianVisibleValue, this.maxValue());
      if (this.valueScale = u, o.clear(), this.drawAxis(this.valueScale), this.options.valueScaling === "log" && this.valueScale.domain()[1] < 0) {
        console.warn("Negative values present when using a log scale", this.valueScale.domain());
        return;
      }
      const f = ct(this.options.lineStrokeColor ? this.options.lineStrokeColor : "blue");
      !this.tilesetInfo.tile_size && !this.tilesetInfo.bins_per_dimension && console.warn("No tileset_info.tile_size or tileset_info.bins_per_dimension", this.tilesetInfo);
      const h = this.tilesetInfo.tile_size || this.tilesetInfo.bins_per_dimension, d = It().domain([0, h]).range([a, a + s]), p = this.options.lineStrokeWidth ? this.options.lineStrokeWidth : 1;
      o.lineStyle(p, f, 1), i.segments = [];
      let m = [];
      for (let g = 0; g < l.length; g++) {
        const v = this._xScale(d(g)), b = this.valueScale(l[g] + c);
        if (this.options.valueScaling === "log" && l[g] === 0 || Number.isNaN(b)) {
          m.length > 1 && i.segments.push(m), m = [];
          continue;
        }
        if (d(g) > this.tilesetInfo.max_pos[0])
          break;
        m.push([v, b]);
      }
      m.length > 1 && i.segments.push(m);
      for (const g of i.segments) {
        const v = g[0], b = g.slice(1);
        o.moveTo(v[0], v[1]);
        for (const y of b)
          o.lineTo(y[0], y[1]);
      }
    }
  }, {
    key: "setPosition",
    value: function(i) {
      Fo(Wi(r.prototype), "setPosition", this).call(this, i), this.pMain.position.y = this.position[1], this.pMain.position.x = this.position[0], this.pMouseOver.position.y = this.position[1], this.pMouseOver.position.x = this.position[0];
    }
  }, {
    key: "zoomed",
    value: function(i, o) {
      this.xScale(i), this.yScale(o), this.refreshTiles(), this.draw();
      const a = this.isValueScaleLocked();
      if (this.continuousScaling && this.minValue() !== void 0 && this.maxValue() !== void 0) {
        if (this.valueScaleMin === null && this.valueScaleMax === null && !a) {
          const s = this.minVisibleValue(), l = this.maxVisibleValue(), u = 1e-6;
          s !== null && l !== null && (Math.abs(this.minValue() - s) > u || Math.abs(this.maxValue() - l) > u) && (this.minValue(s), this.maxValue(l), this.scheduleRerender());
        }
        a && this.onValueScaleChanged();
      }
    }
  }, {
    key: "superSVG",
    value: function() {
      return Fo(Wi(r.prototype), "exportSVG", this).call(this);
    }
    /**
     * Export an SVG representation of this track
     *
     * @returns {Array} The two returned DOM nodes are both SVG
     * elements [base,track]. Base is a parent which contains track as a
     * child. Track is clipped with a clipping rectangle contained in base.
     *
     */
  }, {
    key: "exportSVG",
    value: function() {
      let i = null, o = null;
      Fo(Wi(r.prototype), "exportSVG", this) ? [o, i] = Fo(Wi(r.prototype), "exportSVG", this).call(this) : (o = document.createElement("g"), i = o), o.setAttribute("class", "exported-line-track");
      const a = document.createElement("g");
      i.appendChild(a), a.setAttribute("transform", `translate(${this.position[0]},${this.position[1]})`);
      const s = this.options.lineStrokeColor ? this.options.lineStrokeColor : "blue";
      this.visibleAndFetchedTiles().forEach((u) => {
        const c = document.createElement("path");
        c.setAttribute("fill", "transparent"), c.setAttribute("stroke", s);
        let f = "";
        for (const h of u.segments) {
          const d = h[0], p = h.slice(1);
          f += `M${d[0]} ${d[1]}`;
          for (const m of p)
            f += `L${m[0]} ${m[1]}`;
        }
        c.setAttribute("d", f), a.appendChild(c);
      });
      const l = document.createElement("g");
      if (l.setAttribute("id", "axis"), o.appendChild(l), l.setAttribute("transform", `translate(${this.axis.pAxis.position.x}, ${this.axis.pAxis.position.y})`), this.options.axisPositionHorizontal === "left" || this.options.axisPositionVertical === "top") {
        const u = this.axis.exportAxisLeftSVG(this.valueScale, this.dimensions[1]);
        l.appendChild(u);
      } else if (this.options.axisPositionHorizontal === "right" || this.options.axisPositionVertical === "bottom") {
        const u = this.axis.exportAxisRightSVG(this.valueScale, this.dimensions[1]);
        l.appendChild(u);
      }
      return [o, i];
    }
  }, {
    key: "tileToLocalId",
    value: function(i) {
      return this.options.aggregationMode && this.options.aggregationMode !== "mean" ? `${i.join(".")}.${this.options.aggregationMode}` : `${i.join(".")}`;
    }
  }, {
    key: "tileToRemoteId",
    value: function(i) {
      return this.tileToLocalId(i);
    }
  }]), r;
}(yp);
function h$e(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function f$e(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, p$e(n.key), n);
  }
}
function d$e(e13, t, r) {
  return t && f$e(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function p$e(e13) {
  var t = m$e(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function m$e(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
function Xc() {
  return typeof Reflect < "u" && Reflect.get ? Xc = Reflect.get.bind() : Xc = function(t, r, n) {
    var i = g$e(t, r);
    if (i) {
      var o = Object.getOwnPropertyDescriptor(i, r);
      return o.get ? o.get.call(arguments.length < 3 ? t : n) : o.value;
    }
  }, Xc.apply(this, arguments);
}
function g$e(e13, t) {
  for (; !Object.prototype.hasOwnProperty.call(e13, t) && (e13 = bs(e13), e13 !== null); )
    ;
  return e13;
}
function v$e(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  e13.prototype = Object.create(t && t.prototype, { constructor: { value: e13, writable: true, configurable: true } }), Object.defineProperty(e13, "prototype", { writable: false }), t && zC(e13, t);
}
function zC(e13, t) {
  return zC = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, i) {
    return n.__proto__ = i, n;
  }, zC(e13, t);
}
function y$e(e13) {
  var t = T$e();
  return function() {
    var n = bs(e13), i;
    if (t) {
      var o = bs(this).constructor;
      i = Reflect.construct(n, arguments, o);
    } else
      i = n.apply(this, arguments);
    return _$e(this, i);
  };
}
function _$e(e13, t) {
  if (t && (typeof t == "object" || typeof t == "function"))
    return t;
  if (t !== void 0)
    throw new TypeError("Derived constructors may only return object or undefined");
  return b$e(e13);
}
function b$e(e13) {
  if (e13 === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e13;
}
function T$e() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return false;
  if (typeof Proxy == "function")
    return true;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), true;
  } catch {
    return false;
  }
}
function bs(e13) {
  return bs = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(r) {
    return r.__proto__ || Object.getPrototypeOf(r);
  }, bs(e13);
}
var Aq = function(e13) {
  v$e(r, e13);
  var t = y$e(r);
  function r() {
    return h$e(this, r), t.apply(this, arguments);
  }
  return d$e(r, [{
    key: "initTile",
    value: (
      /**
       * Create whatever is needed to draw this tile.
       */
      function(i) {
        i.barXValues = new Array(i.tileData.dense.length), i.barYValues = new Array(i.tileData.dense.length), i.barWidths = new Array(i.tileData.dense.length), i.barHeights = new Array(i.tileData.dense.length), Xc(bs(r.prototype), "initTile", this).call(this, i);
      }
    )
  }, {
    key: "drawTile",
    value: function(i) {
      if (!i.graphics || !i.tileData || !i.tileData.dense)
        return;
      const o = i.graphics, {
        tileX: a,
        tileWidth: s
      } = this.getTilePosAndDimensions(i.tileData.zoomLevel, i.tileData.tilePos), l = i.tileData.dense;
      if (l.length === 0)
        return;
      let u = 0;
      if (this.valueScale = null, this.options.valueScaling === "log") {
        let m = this.medianVisibleValue;
        this.medianVisibleValue || (m = this.minValue()), this.valueScale = Jl().domain([m, this.maxValue() + m]).range([this.dimensions[1], 0]), u = m;
      } else
        this.valueScale = It().domain([this.minValue(), this.maxValue()]).range([this.dimensions[1], 0]);
      if (o.clear(), this.drawAxis(this.valueScale), this.options.valueScaling === "log" && this.valueScale.domain()[1] < 0) {
        console.warn("Negative values present when using a log scale", this.valueScale.domain());
        return;
      }
      const c = ct(this.options.lineStrokeColor ? this.options.lineStrokeColor : "blue"), f = It().domain([0, this.tilesetInfo.tile_size]).range([a, a + s]);
      o.lineStyle(0, c, 1);
      const d = this.options.pointSize ? this.options.pointSize : 3, p = ct(this.options.pointColor ? this.options.pointColor : "red");
      o.beginFill(p, 1), i.drawnAtScale = this._xScale.copy();
      for (let m = 0; m < l.length; m++) {
        const g = this._xScale(f(m)), v = this.valueScale(l[m] + u);
        if (i.barXValues[m] = g - d / 2 / this.pMain.scale.x, i.barYValues[m] = v - d / 2 / this.pMain.scale.y, i.barWidths[m] = d / this.pMain.scale.x, i.barHeights[m] = d / this.pMain.scale.y, f(m) > this.tilesetInfo.max_pos[0])
          break;
        o.drawRect(g - d / 2 / this.pMain.scale.x, v - d / 2 / this.pMain.scale.y, d / this.pMain.scale.x, d / this.pMain.scale.y);
      }
    }
  }, {
    key: "draw",
    value: function() {
      Xc(bs(r.prototype), "draw", this).call(this);
      for (const i of mr(this.fetchedTiles)) {
        const o = (i.drawnAtScale.domain()[1] - i.drawnAtScale.domain()[0]) / (this._xScale.domain()[1] - this._xScale.domain()[0]), s = this._xScale.domain().map(i.drawnAtScale)[0];
        i.graphics.scale.x = o, i.graphics.position.x = -s * o;
      }
    }
  }, {
    key: "zoomed",
    value: function(i, o, a, s, l) {
      Xc(bs(r.prototype), "zoomed", this).call(this, i, o);
    }
    /**
     * Export an SVG representation of this track
     *
     * @returns {Array} The two returned DOM nodes are both SVG
     * elements [base,track]. Base is a parent which contains track as a
     * child. Track is clipped with a clipping rectangle contained in base.
     *
     */
  }, {
    key: "exportSVG",
    value: function() {
      let i = null, o = null;
      [o, i] = Xc(bs(r.prototype), "superSVG", this).call(this), o.setAttribute("class", "exported-line-track");
      const a = document.createElement("g");
      i.appendChild(a), a.setAttribute("transform", `translate(${this.position[0]},${this.position[1]})`);
      for (const l of this.visibleAndFetchedTiles())
        for (let u = 0; u < l.barXValues.length; u++) {
          const c = document.createElement("rect"), f = this.options.lineStrokeColor || "blue", h = this.options.pointColor || "red";
          c.setAttribute("fill", h), c.setAttribute("stroke", f), c.setAttribute("stroke-width", 0), c.setAttribute("x", l.barXValues[u]), c.setAttribute("y", l.barYValues[u]), c.setAttribute("height", l.barHeights[u]), c.setAttribute("width", l.barWidths[u]), a.appendChild(c);
        }
      const s = document.createElement("g");
      if (s.setAttribute("id", "axis"), o.appendChild(s), s.setAttribute("transform", `translate(${this.axis.pAxis.position.x}, ${this.axis.pAxis.position.y})`), this.options.axisPositionHorizontal === "left" || this.options.axisPositionVertical === "top") {
        const l = this.axis.exportAxisLeftSVG(this.valueScale, this.dimensions[1]);
        s.appendChild(l);
      } else if (this.options.axisPositionHorizontal === "right" || this.options.axisPositionVertical === "bottom") {
        const l = this.axis.exportAxisRightSVG(this.valueScale, this.dimensions[1]);
        s.appendChild(l);
      }
      return [o, i];
    }
  }]), r;
}(bp);
function E$e(e13) {
  let t = 0;
  const r = [];
  return e13.forEach((n) => {
    t += +n || 0, r.push(t);
  }), Float64Array.from(r);
}
var S$e = (e13, t) => {
  const r = tv(e13, t);
  return E$e(e13.map((n) => (Array.isArray(n) && t ? n.length : 1) / r));
};
function w$e(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function A$e(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, I$e(n.key), n);
  }
}
function O$e(e13, t, r) {
  return t && A$e(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function I$e(e13) {
  var t = P$e(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function P$e(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
function Sg() {
  return typeof Reflect < "u" && Reflect.get ? Sg = Reflect.get.bind() : Sg = function(t, r, n) {
    var i = C$e(t, r);
    if (i) {
      var o = Object.getOwnPropertyDescriptor(i, r);
      return o.get ? o.get.call(arguments.length < 3 ? t : n) : o.value;
    }
  }, Sg.apply(this, arguments);
}
function C$e(e13, t) {
  for (; !Object.prototype.hasOwnProperty.call(e13, t) && (e13 = ku(e13), e13 !== null); )
    ;
  return e13;
}
function x$e(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  e13.prototype = Object.create(t && t.prototype, { constructor: { value: e13, writable: true, configurable: true } }), Object.defineProperty(e13, "prototype", { writable: false }), t && VC(e13, t);
}
function VC(e13, t) {
  return VC = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, i) {
    return n.__proto__ = i, n;
  }, VC(e13, t);
}
function k$e(e13) {
  var t = N$e();
  return function() {
    var n = ku(e13), i;
    if (t) {
      var o = ku(this).constructor;
      i = Reflect.construct(n, arguments, o);
    } else
      i = n.apply(this, arguments);
    return D$e(this, i);
  };
}
function D$e(e13, t) {
  if (t && (typeof t == "object" || typeof t == "function"))
    return t;
  if (t !== void 0)
    throw new TypeError("Derived constructors may only return object or undefined");
  return R$e(e13);
}
function R$e(e13) {
  if (e13 === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e13;
}
function N$e() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return false;
  if (typeof Proxy == "function")
    return true;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), true;
  } catch {
    return false;
  }
}
function ku(e13) {
  return ku = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(r) {
    return r.__proto__ || Object.getPrototypeOf(r);
  }, ku(e13);
}
var Oq = function(e13) {
  x$e(r, e13);
  var t = k$e(r);
  function r(n, i) {
    var o;
    return w$e(this, r), o = t.call(this, n, i), o.pMain = o.pMobile, o.continuousScaling = false, o.updateDataFetcher(i), o;
  }
  return O$e(r, [{
    key: "updateDataFetcher",
    value: function(i) {
      if (i && i.selectRows && i.selectRowsAggregationMethod === "server") {
        const {
          pubSub: o,
          dataFetcher: a
        } = this, s = a.dataConfig.options, l = {
          aggGroups: i.selectRows,
          aggFunc: i.selectRowsAggregationMode
        };
        if (JSON.stringify(s) !== JSON.stringify(l)) {
          const u = {
            ...a.dataConfig,
            options: l
          };
          this.dataFetcher = new a.constructor(u, o), this.dataFetcher.dataConfig.tilesetUid && this.fetchNewTiles(Object.keys(this.fetchedTiles).map((c) => ({
            tileId: c,
            remoteId: c
          })));
        }
      }
    }
  }, {
    key: "rerender",
    value: function(i, o) {
      this.updateDataFetcher(i), Sg(ku(r.prototype), "rerender", this).call(this, i, o), i.selectRows && (this.selectRowsCumWeights = S$e(i.selectRows, i.selectRowsAggregationWithRelativeHeight));
    }
  }, {
    key: "tileDataToCanvas",
    value: function(i) {
      const o = document.createElement("canvas");
      this.options.selectRows && this.tilesetInfo.shape ? (o.width = this.tilesetInfo.shape[0], o.height = tv(this.options.selectRows, this.options.selectRowsAggregationWithRelativeHeight)) : this.tilesetInfo.shape ? (o.width = this.tilesetInfo.shape[0], o.height = this.tilesetInfo.shape[1]) : (o.width = this.tilesetInfo.tile_size, o.height = 1);
      const a = o.getContext("2d");
      if (a.fillStyle = "transparent", a.fillRect(0, 0, o.width, o.height), i.length !== 0 && i.length === 4 * o.width * o.height) {
        const s = new ImageData(i, o.width, o.height);
        a.putImageData(s, 0, 0);
      } else
        console.warn("HorizontalMultivecTrack: pixData has an incorrect length.");
      return o;
    }
  }, {
    key: "setSpriteProperties",
    value: function(i, o, a) {
      const {
        tileX: s,
        tileWidth: l
      } = this.getTilePosAndDimensions(o, a, this.tilesetInfo.tile_size), u = s + l;
      i.width = this._refXScale(u) - this._refXScale(s), i.height = this.dimensions[1], i.x = this._refXScale(s), i.y = 0;
    }
  }, {
    key: "leftTrackZoomed",
    value: function(i, o, a, s, l) {
      const u = this._xScale(0) - a * this._refXScale(0);
      this.pMobile.position.x = u + this.position[0], this.pMobile.position.y = this.position[1], this.pMobile.scale.x = a, this.pMobile.scale.y = 1;
    }
  }, {
    key: "zoomed",
    value: function(i, o, a, s) {
      Sg(ku(r.prototype), "zoomed", this).call(this, i, o), this.pMain.position.x = s, this.pMain.position.y = this.position[1], this.pMain.scale.x = a, this.pMain.scale.y = 1, this.drawColorbar();
    }
  }, {
    key: "calculateVisibleTiles",
    value: function() {
      if (!this.tilesetInfo)
        return;
      if (this.zoomLevel = this.calculateZoomLevel(), this.tilesetInfo.resolutions) {
        const o = this.tilesetInfo.resolutions.map((a) => +a).sort((a, s) => s - a);
        this.xTiles = Je.calculateTilesFromResolution(o[this.zoomLevel], this._xScale, this.tilesetInfo.min_pos[0], null, this.tilesetInfo.tile_size);
      } else
        this.xTiles = Je.calculateTiles(this.zoomLevel, this._xScale, this.tilesetInfo.min_pos[0], this.tilesetInfo.max_pos[0], this.tilesetInfo.max_zoom, this.tilesetInfo.max_width);
      const i = this.xTiles.map((o) => [this.zoomLevel, o]);
      this.setVisibleTiles(i);
    }
  }, {
    key: "calculateZoomLevel",
    value: function() {
      if (!this.tilesetInfo)
        return;
      const i = this.tilesetInfo.min_pos[0];
      let o = null;
      return this.tilesetInfo.resolutions ? o = Je.calculateZoomLevelFromResolutions(this.tilesetInfo.resolutions, this._xScale, i) : o = Je.calculateZoomLevel(this._xScale, this.tilesetInfo.min_pos[0], this.tilesetInfo.max_pos[0]), o;
    }
    /**
     * Create the local tile identifier, which be used with the
     * tile stores in TiledPixiTrack
     *
     * @param {array} tile: [zoomLevel, xPos]
     */
  }, {
    key: "tileToLocalId",
    value: function(i) {
      return i.join(".");
    }
    /**
     * Create the remote tile identifier, which will be used to identify the
     * tile on the server
     *
     * @param {array} tile: [zoomLevel, xPos]
     */
  }, {
    key: "tileToRemoteId",
    value: function(i) {
      return i.join(".");
    }
    /**
     * Calculate the tile position at the given track position
     *
     * @param {Number} trackX: The track's X position
     * @param {Number} trackY: The track's Y position
     *
     * @return {array} [zoomLevel, tilePos]
     */
  }, {
    key: "getTilePosAtPosition",
    value: function(i, o) {
      if (!this.tilesetInfo)
        return;
      const a = this.calculateZoomLevel(), s = Je.calculateTileWidth(this.tilesetInfo, a, this.tilesetInfo.tile_size), l = this._xScale.invert(i) / s;
      return [a, Math.floor(l)];
    }
    /**
     * Return the data currently visible at position X and Y
     *
     * @param {Number} trackX: The x position relative to the track's start and end
     * @param {Number} trakcY: The y position relative to the track's start and end
     */
  }, {
    key: "getVisibleData",
    value: function(i, o) {
      const a = this.calculateZoomLevel(), s = Je.calculateTileWidth(this.tilesetInfo, a, this.tilesetInfo.tile_size), l = this._xScale.invert(i) / s;
      let u = this.tilesetInfo.shape ? this.tilesetInfo.shape[1] : 1;
      this.options.selectRows && (u = tv(this.options.selectRows, this.options.selectRowsAggregationWithRelativeHeight));
      let c = this.tilesetInfo.tile_size * (l - Math.floor(l));
      const f = o / this.dimensions[1], h = f * u;
      let d = Math.floor(h), p;
      this.options.selectRows && (this.options.selectRowsAggregationWithRelativeHeight && (d = this.selectRowsCumWeights.findIndex((b, y) => f <= b && (y === this.selectRowsCumWeights.length - 1 || this.selectRowsCumWeights[y + 1] >= f))), p = this.options.selectRows[d]);
      const m = this.tileToLocalId([a, Math.floor(l)]), g = this.fetchedTiles[m];
      let v = "";
      if (g) {
        this.tilesetInfo.shape || (c = g.tileData.dense.length * (l - Math.floor(l)));
        let b = null;
        if (this.tilesetInfo.shape ? Array.isArray(p) && this.options.selectRowsAggregationMethod === "client" ? b = p.map((y) => this.tilesetInfo.shape[0] * y + Math.floor(c)) : p && this.options.selectRowsAggregationMethod === "client" ? b = this.tilesetInfo.shape[0] * p + Math.floor(c) : b = this.tilesetInfo.shape[0] * d + Math.floor(c) : b = g.tileData.dense.length * d + Math.floor(c), Array.isArray(b)) {
          const y = KR(this.options.selectRowsAggregationMode), _ = b.map((T) => g.tileData.dense[T]);
          v = ro(".3f")(y(_)), v += "<br/>", v += `${b.length}-item ${this.options.selectRowsAggregationMode}`;
        } else
          v = ro(".3f")(g.tileData.dense[b]), Array.isArray(p) && (v += "<br/>", v += `${p.length}-item ${this.options.selectRowsAggregationMode}`);
      }
      if (this.tilesetInfo.row_infos) {
        v += "<br/>";
        let b = "";
        this.options.selectRows && !Array.isArray(p) ? b = this.tilesetInfo.row_infos[p] : d >= 0 && d < this.tilesetInfo.row_infos.length && (b = this.tilesetInfo.row_infos[d]), typeof b == "object" ? v += Object.values(b).join("	") : v += b;
      }
      return `${v}`;
    }
    /**
     * Get some information to display when the mouse is over this
     * track
     *
     * @param {Number} trackX: the x position of the mouse over the track
     * @param {Number} trackY: the y position of the mouse over the track
     *
     * @return {string}: A HTML string containing the information to display
     *
     */
  }, {
    key: "getMouseOverHtml",
    value: function(i, o) {
      if (!this.tilesetInfo)
        return "";
      const a = this.getTilePosAtPosition(i, o);
      let s = "";
      if (this.options && this.options.heatmapValueScaling && this.options.heatmapValueScaling === "categorical" && this.options.colorRange) {
        const u = this.getVisibleData(i, o).split("<br/>"), c = this.options.colorRange[parseInt(u[0], 10) - 1], f = u[1];
        if (Number.isNaN(c) || c === "NaN" || typeof c > "u" || c === "undefined")
          return "";
        s = `<svg width="10" height="10" style="position:relative;bottom:1px"><rect width="10" height="10" rx="2" ry="2"
                 style="fill:${c};stroke:black;stroke-width:2;"></svg> ${f}`;
      } else
        s += `Data value: ${this.getVisibleData(i, o)}</br>`, s += `Zoom level: ${a[0]} tile position: ${a[1]}`;
      return s;
    }
  }]), r;
}(cy);
function M$e(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function L$e(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, F$e(n.key), n);
  }
}
function B$e(e13, t, r) {
  return t && L$e(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function F$e(e13) {
  var t = $$e(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function $$e(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
function cs() {
  return typeof Reflect < "u" && Reflect.get ? cs = Reflect.get.bind() : cs = function(t, r, n) {
    var i = H$e(t, r);
    if (i) {
      var o = Object.getOwnPropertyDescriptor(i, r);
      return o.get ? o.get.call(arguments.length < 3 ? t : n) : o.value;
    }
  }, cs.apply(this, arguments);
}
function H$e(e13, t) {
  for (; !Object.prototype.hasOwnProperty.call(e13, t) && (e13 = Uo(e13), e13 !== null); )
    ;
  return e13;
}
function U$e(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  e13.prototype = Object.create(t && t.prototype, { constructor: { value: e13, writable: true, configurable: true } }), Object.defineProperty(e13, "prototype", { writable: false }), t && XC(e13, t);
}
function XC(e13, t) {
  return XC = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, i) {
    return n.__proto__ = i, n;
  }, XC(e13, t);
}
function j$e(e13) {
  var t = V$e();
  return function() {
    var n = Uo(e13), i;
    if (t) {
      var o = Uo(this).constructor;
      i = Reflect.construct(n, arguments, o);
    } else
      i = n.apply(this, arguments);
    return G$e(this, i);
  };
}
function G$e(e13, t) {
  if (t && (typeof t == "object" || typeof t == "function"))
    return t;
  if (t !== void 0)
    throw new TypeError("Derived constructors may only return object or undefined");
  return z$e(e13);
}
function z$e(e13) {
  if (e13 === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e13;
}
function V$e() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return false;
  if (typeof Proxy == "function")
    return true;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), true;
  } catch {
    return false;
  }
}
function Uo(e13) {
  return Uo = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(r) {
    return r.__proto__ || Object.getPrototypeOf(r);
  }, Uo(e13);
}
var X$e = ct("#FFFFFF");
var bM = function(e13) {
  U$e(r, e13);
  var t = j$e(r);
  function r(...n) {
    var i;
    return M$e(this, r), i = t.call(this, ...n), i.zeroLine = new Ge.PIXI.Graphics(), i.pMain.addChild(i.zeroLine), i.valueScaleTransform = En, i.options && i.options.colorRange && (i.options.colorRangeGradient ? i.setColorGradient(i.options.colorRange) : i.setColorScale(i.options.colorRange)), i.initialized = true, i;
  }
  return B$e(r, [{
    key: "setColorScale",
    value: function(i) {
      i && (this.colorScale = Wl(i), this.colorScale = this.colorScale.map((o) => o.map((a) => a / 255)));
    }
  }, {
    key: "setColorGradient",
    value: function(i) {
      if (!i)
        return;
      const o = i.length - 1;
      this.colorGradientColors = this.options.align === "bottom" ? i.slice().reverse().map((a, s) => ({
        from: s / o,
        color: a
      })) : i.map((a, s) => ({
        from: s / o,
        color: a
      }));
    }
    /**
     * Create whatever is needed to draw this tile.
     */
  }, {
    key: "initTile",
    value: function(i) {
      this.initialized && cs(Uo(r.prototype), "initTile", this).call(this, i);
    }
  }, {
    key: "updateTile",
    value: function(i) {
      (!i.valueScale || !this.scale || this.scale.minValue !== i.scale.minValue || this.scale.maxValue !== i.scale.maxValue) && this.renderTile(i);
    }
  }, {
    key: "renderTile",
    value: function(i) {
      this.initialized && cs(Uo(r.prototype), "renderTile", this).call(this, i);
    }
  }, {
    key: "drawTile",
    value: function(i) {
      if (!i.graphics || !i.tileData || !i.tileData.dense)
        return;
      const {
        graphics: o
      } = i;
      i.svgData = void 0;
      const {
        tileX: a,
        tileWidth: s
      } = this.getTilePosAndDimensions(i.tileData.zoomLevel, i.tileData.tilePos, this.tilesetInfo.bins_per_dimension || this.tilesetInfo.tile_size), l = i.tileData.dense;
      if (l.length === 0)
        return;
      const [u, c] = this.makeValueScale(this.minValue(), this.medianVisibleValue, this.maxValue(), 0);
      u.clamp(true), this.valueScale = u;
      const f = u.copy();
      if (f.range([254, 0]).clamp(true), o.clear(), this.drawAxis(this.valueScale), this.options.valueScaling === "log" && this.valueScale.domain()[1] < 0) {
        console.warn("Negative values present when using a log scale", this.valueScale.domain());
        return;
      }
      const h = ct(this.options.lineStrokeColor || "blue"), d = It().domain([0, this.tilesetInfo.tile_size || this.tilesetInfo.bins_per_dimension]).range([a, a + s]);
      o.lineStyle(0, h, 1);
      const m = this.options.barFillColor || "grey", g = ct(m), v = "barOpacity" in this.options ? this.options.barOpacity : 1;
      o.beginFill(g, v), i.drawnAtScale = this._xScale.copy();
      const b = this.options.align === "top";
      let y, _, T, E, O, S;
      if (this.colorGradientColors) {
        O = new Ge.PIXI.Graphics(), O.beginFill(X$e, 1);
        const P = G9(
          this.colorGradientColors,
          1,
          this.dimensions[1],
          // width, height
          0,
          0,
          0,
          this.dimensions[1]
          // fromX, fromY, toX, toY
        );
        S = new Ge.PIXI.Sprite(Ge.PIXI.Texture.fromCanvas(P, Ge.PIXI.SCALE_MODES.NEAREST)), S.x = this._xScale(a), S.width = this._xScale(a + s) - S.x;
      }
      for (let P = 0; P < l.length; P++)
        if (y = this._xScale(d(P)), T = this.valueScale(l[P] + c), _ = this._xScale(d(P + 1)) - y, E = this.dimensions[1] - T, b && (T = 0), !(Number.isNaN(E) || E < 0 || T < 0)) {
          if (this.addSVGInfo(i, y, T, _, E, m), d(P) > this.tilesetInfo.max_pos[0])
            break;
          if (this.colorScale && !this.options.colorRangeGradient) {
            const C = Math.round(f(l[P] + c)), w = this.colorScale[C], N = Ge.PIXI.utils.rgb2hex(w);
            o.beginFill(N, v);
          }
          (O || o).drawRect(y, T, _, E);
        }
      this.colorGradientColors && (S.mask = O, o.removeChildren(), o.addChild(S, O));
    }
  }, {
    key: "rerender",
    value: function(i, o) {
      i && i.colorRange && (i.colorRangeGradient ? this.setColorGradient(i.colorRange) : this.setColorScale(i.colorRange)), cs(Uo(r.prototype), "rerender", this).call(this, i, o);
    }
  }, {
    key: "drawZeroLine",
    value: function() {
      this.zeroLine.clear();
      const i = ct(this.options.barFillColor || "grey"), o = +this.options.barOpacity || 1, a = this.options.zeroLineColor ? ct(this.options.zeroLineColor) : i, s = Number.isNaN(+this.options.zeroLineOpacity) ? o : +this.options.zeroLineOpacity;
      this.zeroLine.beginFill(a, s), this.zeroLine.drawRect(0, this.dimensions[1] - 1, this.dimensions[0], 1);
    }
  }, {
    key: "drawZeroLineSvg",
    value: function(i) {
      const o = document.createElement("rect");
      o.setAttribute("id", "zero-line"), o.setAttribute("x", 0), o.setAttribute("y", this.dimensions[1] - 1), o.setAttribute("height", 1), o.setAttribute("width", this.dimensions[0]), o.setAttribute("fill", this.options.zeroLineColor || this.options.barFillColor), o.setAttribute("fill-opacity", this.options.zeroLineOpacity || this.options.barOpacity), i.appendChild(o);
    }
  }, {
    key: "getXScaleAndOffset",
    value: function(i) {
      const o = i.domain(), a = this._xScale.domain(), s = (o[1] - o[0]) / (a[1] - a[0]), u = this._xScale.domain().map(i)[0];
      return [s, -u * s];
    }
  }, {
    key: "draw",
    value: function() {
      this.initialized && (cs(Uo(r.prototype), "draw", this).call(this), this.options.zeroLineVisible ? this.drawZeroLine() : this.zeroLine.clear(), Object.values(this.fetchedTiles).forEach((i) => {
        const [o, a] = this.getXScaleAndOffset(i.drawnAtScale);
        i.graphics.scale.x = o, i.graphics.position.x = a;
      }));
    }
  }, {
    key: "zoomed",
    value: function(i, o) {
      cs(Uo(r.prototype), "zoomed", this).call(this, i, o);
    }
  }, {
    key: "movedY",
    value: function(i) {
    }
  }, {
    key: "zoomedY",
    value: function(i, o) {
    }
    /**
     * Adds information to recreate the track in SVG to the tile
     *
     * @param tile
     * @param x x value of bar
     * @param y y value of bar
     * @param width width of bar
     * @param height height of bar
     * @param color color of bar (not converted to hex)
     */
  }, {
    key: "addSVGInfo",
    value: function(i, o, a, s, l, u) {
      i.svgData ? (i.svgData.barXValues.push(o), i.svgData.barYValues.push(a), i.svgData.barWidths.push(s), i.svgData.barHeights.push(l), i.svgData.barColors.push(u)) : i.svgData = {
        barXValues: [o],
        barYValues: [a],
        barWidths: [s],
        barHeights: [l],
        barColors: [u]
      };
    }
    /**
     * Export an SVG representation of this track
     *
     * @returns {Array} The two returned DOM nodes are both SVG
     * elements [base,track]. Base is a parent which contains track as a
     * child. Track is clipped with a clipping rectangle contained in base.
     *
     */
  }, {
    key: "exportSVG",
    value: function() {
      let i = null, o = null;
      [o, i] = cs(Uo(r.prototype), "superSVG", this).call(this), o.setAttribute("class", "exported-line-track");
      const a = document.createElement("g");
      i.appendChild(a), a.setAttribute("transform", `translate(${this.position[0]},${this.position[1]})`), this.options.zeroLine && this.drawZeroLineSvg(a), this.visibleAndFetchedTiles().filter((l) => l.svgData && l.svgData.barXValues).forEach((l) => {
        const u = l.svgData;
        for (let c = 0; c < u.barXValues.length; c++) {
          const f = document.createElement("rect");
          f.setAttribute("fill", u.barColors[c]), f.setAttribute("stroke", u.barColors[c]), f.setAttribute("x", u.barXValues[c]), f.setAttribute("y", u.barYValues[c]), f.setAttribute("height", u.barHeights[c]), f.setAttribute("width", u.barWidths[c]), l.barBorders && (f.setAttribute("stroke-width", "0.1"), f.setAttribute("stroke", "black")), a.appendChild(f);
        }
      });
      const s = document.createElement("g");
      if (s.setAttribute("id", "axis"), o.appendChild(s), s.setAttribute("transform", `translate(${this.axis.pAxis.position.x}, ${this.axis.pAxis.position.y})`), this.options.axisPositionHorizontal === "left" || this.options.axisPositionVertical === "top") {
        const l = this.axis.exportAxisLeftSVG(this.valueScale, this.dimensions[1]);
        s.appendChild(l);
      } else if (this.options.axisPositionHorizontal === "right" || this.options.axisPositionVertical === "bottom") {
        const l = this.axis.exportAxisRightSVG(this.valueScale, this.dimensions[1]);
        s.appendChild(l);
      }
      return [o, i];
    }
  }]), r;
}(bp);
function W$e(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function Y$e(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, K$e(n.key), n);
  }
}
function q$e(e13, t, r) {
  return t && Y$e(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function K$e(e13) {
  var t = Z$e(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function Z$e(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
function Q$e(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  e13.prototype = Object.create(t && t.prototype, { constructor: { value: e13, writable: true, configurable: true } }), Object.defineProperty(e13, "prototype", { writable: false }), t && WC(e13, t);
}
function WC(e13, t) {
  return WC = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, i) {
    return n.__proto__ = i, n;
  }, WC(e13, t);
}
function J$e(e13) {
  var t = rHe();
  return function() {
    var n = sT(e13), i;
    if (t) {
      var o = sT(this).constructor;
      i = Reflect.construct(n, arguments, o);
    } else
      i = n.apply(this, arguments);
    return eHe(this, i);
  };
}
function eHe(e13, t) {
  if (t && (typeof t == "object" || typeof t == "function"))
    return t;
  if (t !== void 0)
    throw new TypeError("Derived constructors may only return object or undefined");
  return tHe(e13);
}
function tHe(e13) {
  if (e13 === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e13;
}
function rHe() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return false;
  if (typeof Proxy == "function")
    return true;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), true;
  } catch {
    return false;
  }
}
function sT(e13) {
  return sT = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(r) {
    return r.__proto__ || Object.getPrototypeOf(r);
  }, sT(e13);
}
var Iq = function(e13) {
  Q$e(r, e13);
  var t = J$e(r);
  function r() {
    return W$e(this, r), t.apply(this, arguments);
  }
  return q$e(r, [{
    key: "drawTile",
    value: function(i) {
      this.renderTile(i);
    }
  }, {
    key: "renderTile",
    value: function(i) {
      if (!i.graphics)
        return;
      const o = i.graphics, {
        tileX: a,
        tileWidth: s
      } = this.getTilePosAndDimensions(i.tileData.zoomLevel, i.tileData.tilePos, this.tilesetInfo.tile_size || this.tilesetInfo.bins_per_dimension), l = i.tileData.dense;
      if (l.length === 0)
        return;
      let u = 0;
      if (this.valueScale = null, this.options.valueScaling === "log") {
        let y = this.medianVisibleValue;
        this.medianVisibleValue || (y = this.minValue()), this.valueScale = Jl().domain([y, this.maxValue() + y]).range([this.dimensions[1], 0]), u = y;
      } else
        this.valueScale = It().domain([this.minValue(), this.maxValue()]).range([this.dimensions[1], 0]);
      if (o.clear(), this.drawAxis(this.valueScale), this.options.valueScaling === "log" && this.valueScale.domain()[1] < 0) {
        console.warn("Negative values present when using a log scale", this.valueScale.domain());
        return;
      }
      const c = ct(this.options.lineStrokeColor ? this.options.lineStrokeColor : "blue"), f = It().domain([0, this.tilesetInfo.tile_size]).range([a, a + s]);
      o.lineStyle(0, c, 1);
      const d = this.options.barFillColorTop ? this.options.barFillColorTop : "green", p = this.options.barFillColorBottom ? this.options.barFillColorBottom : "red", m = ct(d), g = ct(p), v = "barOpacity" in this.options ? this.options.barOpacity : 1;
      i.drawnAtScale = this._xScale.copy();
      let b = 0;
      this.options.valueScaling === "log" ? b = this.valueScale(1) : b = this.valueScale(0), delete i.svgData;
      for (let y = 0; y < l.length; y++) {
        const _ = this._xScale(f(y)), T = this.valueScale(l[y] + u), E = this._xScale(f(y + 1)) - _;
        if (T > b ? (o.beginFill(g, v), this.addSVGInfo(i, _, b, E, T - b, p)) : (o.beginFill(m, v), this.addSVGInfo(i, _, T, E, b - T, d)), f(y) > this.tilesetInfo.max_pos[0])
          break;
        o.drawRect(_, i.svgData.barYValues[y], E, i.svgData.barHeights[y]);
      }
    }
  }]), r;
}(bM);
function nHe(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function iHe(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, aHe(n.key), n);
  }
}
function oHe(e13, t, r) {
  return t && iHe(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function aHe(e13) {
  var t = sHe(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function sHe(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
function Pb() {
  return typeof Reflect < "u" && Reflect.get ? Pb = Reflect.get.bind() : Pb = function(t, r, n) {
    var i = lHe(t, r);
    if (i) {
      var o = Object.getOwnPropertyDescriptor(i, r);
      return o.get ? o.get.call(arguments.length < 3 ? t : n) : o.value;
    }
  }, Pb.apply(this, arguments);
}
function lHe(e13, t) {
  for (; !Object.prototype.hasOwnProperty.call(e13, t) && (e13 = Rd(e13), e13 !== null); )
    ;
  return e13;
}
function cHe(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  e13.prototype = Object.create(t && t.prototype, { constructor: { value: e13, writable: true, configurable: true } }), Object.defineProperty(e13, "prototype", { writable: false }), t && YC(e13, t);
}
function YC(e13, t) {
  return YC = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, i) {
    return n.__proto__ = i, n;
  }, YC(e13, t);
}
function uHe(e13) {
  var t = dHe();
  return function() {
    var n = Rd(e13), i;
    if (t) {
      var o = Rd(this).constructor;
      i = Reflect.construct(n, arguments, o);
    } else
      i = n.apply(this, arguments);
    return hHe(this, i);
  };
}
function hHe(e13, t) {
  if (t && (typeof t == "object" || typeof t == "function"))
    return t;
  if (t !== void 0)
    throw new TypeError("Derived constructors may only return object or undefined");
  return fHe(e13);
}
function fHe(e13) {
  if (e13 === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e13;
}
function dHe() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return false;
  if (typeof Proxy == "function")
    return true;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), true;
  } catch {
    return false;
  }
}
function Rd(e13) {
  return Rd = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(r) {
    return r.__proto__ || Object.getPrototypeOf(r);
  }, Rd(e13);
}
var Pq = function(e13) {
  cHe(r, e13);
  var t = uHe(r);
  function r(n, i) {
    var o;
    return nHe(this, r), o = t.call(this, n, i), o.setColorScale(i.colorRange), o.opacity = i.opacity || 1, o;
  }
  return oHe(r, [{
    key: "setColorScale",
    value: function(i) {
      this.colorScale = i ? Wl(i) : cd, this.colorScale = this.colorScale.map((o) => o.map((a) => a / 255));
    }
  }, {
    key: "rerender",
    value: function(i) {
      i && i.colorRange && this.setColorScale(i.colorRange), this.opacity = i.opacity || 1, Pb(Rd(r.prototype), "rerender", this).call(this, i);
    }
  }, {
    key: "drawAxis",
    value: function() {
    }
  }, {
    key: "drawTile",
    value: function(i) {
      if (!i.graphics || !i.tileData || !i.tileData.dense)
        return;
      const o = i.graphics, {
        tileX: a,
        tileWidth: s
      } = this.getTilePosAndDimensions(i.tileData.zoomLevel, i.tileData.tilePos), l = i.tileData.dense;
      if (l.length === 0)
        return;
      const [u, c] = this.makeValueScale(this.minValue(), this.medianVisibleValue, this.maxValue());
      if (u.range([254, 0]).clamp(true), this.valueScale = u, o.clear(), this.options.valueScaling === "log" && this.valueScale.domain()[1] < 0) {
        console.warn("Negative values present when using a log scale", this.valueScale.domain());
        return;
      }
      const f = It().domain([0, this.tilesetInfo.tile_size]).range([a, a + s]);
      o.lineStyle(0, 0, 0);
      for (let h = 0; h < l.length; h++) {
        if (Number.isNaN(l[h]))
          continue;
        const d = Math.round(this.valueScale(l[h] + c));
        if (Number.isNaN(+d))
          continue;
        const p = this._xScale(f(h)), m = this._xScale(f(h + 1)) - p, g = this.dimensions[1];
        i.xValues[h] = p, i.yValues[h] = d;
        const v = this.colorScale[d], b = Ge.PIXI.utils.rgb2hex(v);
        if (o.beginFill(b, this.opacity), h !== 0) {
          if (f(h) > this.tilesetInfo.max_pos[0])
            break;
          l[h] !== 0 && o.drawRect(p, 0, m, g);
        }
      }
    }
  }]), r;
}(bp);
function pHe(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function mHe(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, vHe(n.key), n);
  }
}
function gHe(e13, t, r) {
  return t && mHe(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function vHe(e13) {
  var t = yHe(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function yHe(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
function _He(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  e13.prototype = Object.create(t && t.prototype, { constructor: { value: e13, writable: true, configurable: true } }), Object.defineProperty(e13, "prototype", { writable: false }), t && qC(e13, t);
}
function qC(e13, t) {
  return qC = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, i) {
    return n.__proto__ = i, n;
  }, qC(e13, t);
}
function bHe(e13) {
  var t = SHe();
  return function() {
    var n = lT(e13), i;
    if (t) {
      var o = lT(this).constructor;
      i = Reflect.construct(n, arguments, o);
    } else
      i = n.apply(this, arguments);
    return THe(this, i);
  };
}
function THe(e13, t) {
  if (t && (typeof t == "object" || typeof t == "function"))
    return t;
  if (t !== void 0)
    throw new TypeError("Derived constructors may only return object or undefined");
  return EHe(e13);
}
function EHe(e13) {
  if (e13 === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e13;
}
function SHe() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return false;
  if (typeof Proxy == "function")
    return true;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), true;
  } catch {
    return false;
  }
}
function lT(e13) {
  return lT = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(r) {
    return r.__proto__ || Object.getPrototypeOf(r);
  }, lT(e13);
}
var Cq = function(e13) {
  _He(r, e13);
  var t = bHe(r);
  function r(n, i) {
    var o;
    return pHe(this, r), o = t.call(this, n, i), o.seen = /* @__PURE__ */ new Set(), o.pMain = o.pMobile, o.rows = [], o;
  }
  return gHe(r, [{
    key: "uid",
    value: function(i) {
      return i[i.length - 2];
    }
  }, {
    key: "segmentOverlap",
    value: function(i, o) {
    }
  }, {
    key: "drawAll",
    value: function(i) {
      this.pMain.clear();
      const o = /* @__PURE__ */ new Set(), a = i.map((l) => o.has(this.uid(l)) ? null : (o.add(this.uid(l)), {
        from: +l[1],
        to: +l[2],
        type: l[4],
        uid: this.uid(l)
      })).filter((l) => l), s = k0(a);
      this.rows = s, this.draw();
    }
  }, {
    key: "draw",
    value: function() {
      const i = this.rows;
      if (!i)
        return;
      const o = kv().range([0, this.dimensions[1]]).padding(0.1).domain(vi(0, this.maxRows())), a = this.pMain;
      a.clear(), a.lineStyle(1, 255, 0), a.beginFill(16740363, 0.8);
      for (let s = 0; s < i.length; s++)
        for (let l = 0; l < i[s].length; l++) {
          const u = i[s][l], c = this._refXScale(u.from), f = this._refXScale(u.to), h = o(s), d = h + o.bandwidth(), p = f - c, m = d - h;
          a.drawRect(c, h, p, m);
        }
    }
  }, {
    key: "allTilesLoaded",
    value: function() {
      const o = this.visibleAndFetchedIds().map((s) => this.fetchedTiles[s].tileData.discrete), a = [].concat(...o);
      this.drawAll(a);
    }
  }, {
    key: "initTile",
    value: function(i) {
    }
  }, {
    key: "maxRows",
    value: function() {
      return this.rows.length;
    }
  }, {
    key: "updateTile",
    value: function(i) {
    }
  }, {
    key: "destroyTile",
    value: function(i) {
      i.tileData.discrete.forEach((o) => {
        const a = o[o.length - 2];
        this.seen.has(a) && this.seen.delete(a);
      });
    }
  }, {
    key: "drawTile",
    value: function(i) {
    }
  }]), r;
}(yp);
function wHe(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function AHe(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, IHe(n.key), n);
  }
}
function OHe(e13, t, r) {
  return t && AHe(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function IHe(e13) {
  var t = PHe(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function PHe(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
var IU = function() {
  function e13(t) {
    wHe(this, e13), this.scene = t.scene, this.originalTrack = t, this.pBase = new Ge.PIXI.Graphics(), this.scene.removeChild(t.pBase), this.scene.addChild(this.pBase), this.moveToOrigin = new Ge.PIXI.Graphics(), this.moveToOrigin.addChild(t.pBase), this.pBase.addChild(this.moveToOrigin), this.moveToOrigin.rotation = Math.PI / 2, t.isLeftModified = true, t.flipText = true, this.svgOutput = null, t.gBase && t.gMain && (this.originalTrack.gBase.attr("transform", `translate(${this.moveToOrigin.position.x},${this.moveToOrigin.position.y})
                             rotate(90)
                             scale(${this.moveToOrigin.scale.x},${this.moveToOrigin.scale.y})`), this.originalTrack.gMain.attr("transform", `translate(${this.originalTrack.pBase.position.x},${this.originalTrack.pBase.position.y})`));
  }
  return OHe(e13, [{
    key: "remove",
    value: function() {
      this.originalTrack.remove(), this.pBase.clear(), this.scene.removeChild(this.pBase);
    }
  }, {
    key: "setDimensions",
    value: function(r) {
      this.dimensions = r;
      const n = [r[1], r[0]];
      this.originalTrack.setDimensions(n);
    }
  }, {
    key: "setPosition",
    value: function(r) {
      this.position = r, this.originalTrack.setPosition(r), this.originalTrack.pBase.position.x = -this.originalTrack.position[0], this.originalTrack.pBase.position.y = -this.originalTrack.position[1], this.moveToOrigin.scale.y = -1, this.moveToOrigin.scale.x = 1, this.moveToOrigin.position.x = this.originalTrack.position[0], this.moveToOrigin.position.y = this.originalTrack.position[1], this.originalTrack.gMain && (this.originalTrack.gBase.attr("transform", `translate(${this.moveToOrigin.position.x},${this.moveToOrigin.position.y})
                                 rotate(90)
                                 scale(${this.moveToOrigin.scale.x},${this.moveToOrigin.scale.y})`), this.originalTrack.gMain.attr("transform", `translate(${this.originalTrack.pBase.position.x},${this.originalTrack.pBase.position.y})`));
    }
  }, {
    key: "refXScale",
    value: function(r) {
      return arguments.length ? (this.originalTrack._refXScale = r, this) : this.originalTrack._refYScale;
    }
  }, {
    key: "refYScale",
    value: function(r) {
      return arguments.length ? (this.originalTrack._refYScale = r, this) : this.originalTrack._refXScale;
    }
  }, {
    key: "xScale",
    value: function(r) {
      return arguments.length ? (this.originalTrack._yScale = r, this) : this.originalTrack._xScale;
    }
  }, {
    key: "yScale",
    value: function(r) {
      return arguments.length ? (this.originalTrack._xScale = r, this) : this.originalTrack._yScale;
    }
  }, {
    key: "getMouseOverHtml",
    value: function(r, n) {
      return this.originalTrack.getMouseOverHtml(n, r);
    }
  }, {
    key: "clickOutside",
    value: function() {
      this.originalTrack.clickOutside();
    }
  }, {
    key: "click",
    value: function(...r) {
      this.originalTrack.click(...r);
    }
  }, {
    key: "draw",
    value: function() {
      this.originalTrack.draw();
    }
  }, {
    key: "zoomed",
    value: function(r, n, i = 1, o = 0, a = 0, s = 0, l = 0) {
      if (this.xScale(r), this.yScale(n), this.originalTrack.leftTrackZoomed) {
        this.originalTrack.refreshTiles && this.originalTrack.refreshTiles(), this.originalTrack.leftTrackZoomed(r, n, i, o, a), this.originalTrack.draw();
        return;
      }
      const u = this.originalTrack._xScale(0) - i * this.originalTrack._refXScale(0);
      if (this.originalTrack.pMobile.position.x = u + this.originalTrack.position[0], this.originalTrack.pMobile.position.y = this.originalTrack.position[1] + this.originalTrack.dimensions[1], this.originalTrack.pMobile.scale.x = i, this.originalTrack.pMobile.scale.y = i, this.originalTrack.options.oneDHeatmapFlipped && (this.originalTrack.pMobile.scale.y = -i, this.originalTrack.pMobile.position.y = this.originalTrack.position[1]), this.originalTrack.leftTrackDraw) {
        this.originalTrack.refreshTiles && this.originalTrack.refreshTiles(), this.originalTrack.leftTrackDraw();
        return;
      }
      this.originalTrack.zoomed(this.xScale(), this.yScale());
    }
  }, {
    key: "zoomedY",
    value: function(r, n) {
      this.originalTrack.zoomedY(r, n);
    }
  }, {
    key: "movedY",
    value: function(r) {
      this.originalTrack.movedY(r);
    }
  }, {
    key: "refScalesChanged",
    value: function(r, n) {
      this.originalTrack.refScalesChanged(n, r);
    }
  }, {
    key: "rerender",
    value: function(r) {
      this.originalTrack.rerender(r);
    }
  }, {
    key: "exportSVG",
    value: function() {
      const r = document.createElement("g");
      if (r.setAttribute("transform", `translate(${this.moveToOrigin.position.x},${this.moveToOrigin.position.y})
                             rotate(90)
                             scale(${this.moveToOrigin.scale.x},${this.moveToOrigin.scale.y})`), this.originalTrack.exportSVG) {
        const n = document.createElement("g");
        n.setAttribute("transform", `translate(${this.originalTrack.pBase.position.x}, ${this.originalTrack.pBase.position.y})`), n.appendChild(this.originalTrack.exportSVG()[0]), r.appendChild(n);
      }
      return [r, r];
    }
  }, {
    key: "respondsToPosition",
    value: function(r, n) {
      return r >= this.position[0] && r <= this.dimensions[0] + this.position[0] && n >= this.position[1] && n <= this.dimensions[1] + this.position[1];
    }
  }]), e13;
}();
function CHe(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function xHe(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, DHe(n.key), n);
  }
}
function kHe(e13, t, r) {
  return t && xHe(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function DHe(e13) {
  var t = RHe(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function RHe(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
function us() {
  return typeof Reflect < "u" && Reflect.get ? us = Reflect.get.bind() : us = function(t, r, n) {
    var i = NHe(t, r);
    if (i) {
      var o = Object.getOwnPropertyDescriptor(i, r);
      return o.get ? o.get.call(arguments.length < 3 ? t : n) : o.value;
    }
  }, us.apply(this, arguments);
}
function NHe(e13, t) {
  for (; !Object.prototype.hasOwnProperty.call(e13, t) && (e13 = jo(e13), e13 !== null); )
    ;
  return e13;
}
function MHe(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  e13.prototype = Object.create(t && t.prototype, { constructor: { value: e13, writable: true, configurable: true } }), Object.defineProperty(e13, "prototype", { writable: false }), t && KC(e13, t);
}
function KC(e13, t) {
  return KC = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, i) {
    return n.__proto__ = i, n;
  }, KC(e13, t);
}
function LHe(e13) {
  var t = $He();
  return function() {
    var n = jo(e13), i;
    if (t) {
      var o = jo(this).constructor;
      i = Reflect.construct(n, arguments, o);
    } else
      i = n.apply(this, arguments);
    return BHe(this, i);
  };
}
function BHe(e13, t) {
  if (t && (typeof t == "object" || typeof t == "function"))
    return t;
  if (t !== void 0)
    throw new TypeError("Derived constructors may only return object or undefined");
  return FHe(e13);
}
function FHe(e13) {
  if (e13 === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e13;
}
function $He() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return false;
  if (typeof Proxy == "function")
    return true;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), true;
  } catch {
    return false;
  }
}
function jo(e13) {
  return jo = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(r) {
    return r.__proto__ || Object.getPrototypeOf(r);
  }, jo(e13);
}
var PU = 11;
var xO = "Arial";
var CU = "outside";
var ZC = 10;
var HHe = 4;
var UHe = 20;
var jHe = ct("#ffffff");
var O_ = 2;
var GHe = 2 * ZC / 3;
var Bh = 2 * GHe / 3;
var zHe = 50;
var VHe = 5e3;
var QC = "blue";
var JC = "red";
var TM = (e13, t, r) => {
  r.type !== "filler" && t.pubSub.publish("app.click", {
    type: "gene-annotation",
    event: e13,
    payload: r
  });
};
var xU = (e13, t) => {
  const r = e13.concat(t), n = r.map((i) => [i.xStart, 1, i.xEnd, 1]);
  uy(n, (i, o) => {
    let a = null, s = null;
    if (r[i].type === "filler" ? a = r[i] : s = r[i], r[o].type === "filler") {
      if (a)
        return;
      a = r[o];
    } else {
      if (!a)
        return;
      s = r[o];
    }
    a.xStart >= s.xStart && a.xEnd <= s.xEnd && (a.hide = true);
  });
};
function XHe(e13, t, r) {
  const {
    flipText: n,
    fontSize: i,
    fontFamily: o,
    plusStrandColor: a,
    minusStrandColor: s,
    maxGeneEntries: l,
    maxFillerEntries: u,
    maxTexts: c
  } = r;
  if (t.texts = {}, t.rectGraphics = new Ge.PIXI.Graphics(), t.textBgGraphics = new Ge.PIXI.Graphics(), t.textGraphics = new Ge.PIXI.Graphics(), t.rectMaskGraphics = new Ge.PIXI.Graphics(), t.graphics.addChild(t.rectGraphics), t.graphics.addChild(t.textBgGraphics), t.graphics.addChild(t.textGraphics), t.graphics.addChild(t.rectMaskGraphics), t.rectGraphics.mask = t.rectMaskGraphics, !t.tileData.sort)
    return;
  t.tileData.sort((d, p) => p.importance - d.importance);
  const f = t.tileData.filter((d) => d.type !== "filler").slice(0, l), h = t.tileData.filter((d) => d.type === "filler").slice(0, u);
  t.tileData = f.concat(h), t.tileData.forEach((d, p) => {
    if (d.type === "filler")
      return;
    const m = d.fields, g = m[3], v = e13.geneId(m, d.type), b = d.strand || m[5];
    d.strand = d.strand || b;
    let y = a || QC;
    if (b === "-" && (y = s || JC), t.textWidths = {}, t.textHeights = {}, p >= c)
      return;
    const _ = new Ge.PIXI.Text(g, {
      fontSize: `${i}px`,
      fontFamily: o,
      fill: ct(y)
    });
    _.interactive = true, n && (_.scale.x = -1), _.anchor.x = 0.5, _.anchor.y = 1, t.texts[v] = _, t.texts[v].strand = b, t.textGraphics.addChild(_);
  }), t.initialized = true;
}
function kU(e13, t, r, n, i, o, a, s, l) {
  const u = s - l / 2, c = 0;
  e13.forEach((f) => {
    const h = new Ge.PIXI.Graphics();
    r.rectGraphics.addChild(h), h.beginFill(o, 0.1), h.lineStyle(0, o);
    const d = [i(f.xStart) - c, u, i(f.xEnd) + c, u, i(f.xEnd) + c, u + l, i(f.xStart) - c, u + l, i(f.xStart) - c, u];
    h.interactive = true, h.buttonMode = true, h.mouseup = (p) => TM(p, t, f), h.drawPolygon(d), r.allRects.push([d, f.strand, f]);
  });
}
function WHe(e13, t, r, n, i, o, a, s, l, u) {
  const c = s - l / 2, f = i.split(",").map((_) => +_ + a), h = o.split(",").map((_) => +_ + a), d = e13._xScale(r), p = e13._xScale(n), m = p - d, g = s, v = [];
  let b = [d, g - O_ / 2, d + m, g - O_ / 2, d + m, g + O_ / 2, d, g + O_ / 2];
  t.drawPolygon(b), v.push(b);
  const y = 2 * l;
  for (let _ = Math.max(e13.position[0], d) + y; _ < Math.min(e13.position[0] + e13.dimensions[0], d + m); _ += y)
    u === "+" ? b = [_, g - Bh / 2, _ + Bh / 2, g, _, g + Bh / 2] : b = [_, g - Bh / 2, _ - Bh / 2, g, _, g + Bh / 2], v.push(b), t.drawPolygon(b);
  for (let _ = 0; _ < f.length; _++) {
    const T = f[_], E = h[_], O = e13._xScale(T), S = Math.max(1, e13._xScale(E) - e13._xScale(T));
    let P = d, C = p;
    const w = e13.geneRectHeight / 2;
    let N = null;
    u === "+" ? (C = p - w, N = [Math.min(O, C), c, Math.min(O + S, C), c, Math.min(O + S, C), c + l, Math.min(O, C), c + l, Math.min(O, C), c]) : (P = d + w, N = [Math.max(O, P), c, Math.max(O + S, P), c, Math.max(O + S, P), c + l, Math.max(O, P), c + l, Math.max(O, P), c]), v.push(N), t.drawPolygon(N);
  }
  return v;
}
function YHe(e13, t, r, n, i, o, a, s, l) {
  const u = s - l / 2;
  e13.forEach((c) => {
    const f = t._xScale(c.xStart), h = t._xScale(c.xEnd), d = new Ge.PIXI.Graphics();
    r.rectGraphics.addChild(d), d.beginFill(o, a), d.interactive = true, d.buttonMode = true, d.mouseup = (g) => TM(g, t, c);
    const p = t.geneRectHeight / 2;
    let m = [];
    if (c.strand === "+" || c.fields[5] === "+") {
      const g = Math.max(f, h - p), v = g + p;
      m = [g, u, v, u + t.geneRectHeight / 2, g, u + t.geneRectHeight];
    } else {
      const g = Math.min(h, f + p), v = g - p;
      m = [g, u, v, u + t.geneRectHeight / 2, g, u + t.geneRectHeight];
    }
    d.drawPolygon(m), r.allRects.push([m, c.strand, c]);
  });
}
function qHe(e13, t, r, n, i, o, a, s, l) {
  e13.forEach((u) => {
    const c = u.fields, f = +u.chrOffset, h = c[12], d = c[13], p = new Ge.PIXI.Graphics();
    r.rectGraphics.addChild(p), p.beginFill(o, a), p.interactive = true, p.buttonMode = true, p.mouseup = (m) => TM(m, t, u), r.allRects = r.allRects.concat(WHe(
      t,
      p,
      u.xStart,
      u.xEnd,
      h,
      d,
      f,
      // not used for now because we have just one chromosome
      s,
      l,
      u.strand || u.fields[5]
    ).map((m) => [m, u.strand, u]));
  });
}
function DU(e13, t, r, n, i, o, a, s, l) {
  YHe(e13, t, r, n, i, o, a, s, l), qHe(e13, t, r, n, i, o, a, s, l);
}
function KHe(e13, t) {
  const {
    tileX: r,
    tileWidth: n
  } = tu.getTilePosAndDimensions(e13.tilesetInfo, t.tileId);
  t.rectMaskGraphics.clear();
  const i = Math.floor(Math.random() * 16 ** 6);
  t.rectMaskGraphics.beginFill(i, 0.3);
  const o = e13._xScale(r), a = 0, s = e13._xScale(r + n) - e13._xScale(r), l = e13.dimensions[1];
  t.rectMaskGraphics.drawRect(o, a, s, l);
}
var xq = function(e13) {
  MHe(r, e13);
  var t = LHe(r);
  function r(n, i) {
    var o;
    CHe(this, r), o = t.call(this, n, i);
    const {
      animate: a
    } = n;
    return o.animate = a, o.options = i, o.fontSize = +o.options.fontSize || PU, o.geneLabelPos = o.options.geneLabelPosition || CU, o.geneRectHeight = +o.options.geneAnnotationHeight || ZC, o.geneRectHeight -= 2, o.geneStrandSpacing = +o.options.geneStrandSpacing || HHe, o.geneStrandHSpacing = o.geneStrandSpacing / 2, o.geneRectHHeight = o.geneRectHeight / 2, o;
  }
  return kHe(r, [{
    key: "initTile",
    value: function(i) {
      XHe(this, i, {
        flipText: this.flipText,
        fontSize: this.fontSize,
        fontFamily: xO,
        plusStrandColor: this.options.plusStrandColor,
        minusStrandColor: this.options.minusStrandColor,
        maxGeneEntries: zHe,
        maxFillerEntries: VHe,
        maxTexts: UHe
      }), this.renderTile(i);
    }
    /** cleanup */
  }, {
    key: "destroyTile",
    value: function(i) {
      i.rectGraphics.destroy(), i.rectMaskGraphics.destroy(), i.textGraphics.destroy(), i.textBgGraphics.destroy(), i.graphics.destroy();
    }
    /*
     * Redraw the track because the options
     * changed
     */
  }, {
    key: "rerender",
    value: function(i, o) {
      const a = JSON.stringify(i);
      !o && a === this.prevOptions || (us(jo(r.prototype), "rerender", this).call(this, i, o), this.fontSize = +this.options.fontSize || PU, this.geneLabelPos = this.options.geneLabelPosition || CU, this.geneRectHeight = +this.options.geneAnnotationHeight || ZC, this.geneStrandHSpacing = this.geneStrandSpacing / 2, this.geneRectHHeight = this.geneRectHeight / 2, this.prevOptions = a, this.visibleAndFetchedTiles().forEach((s) => {
        this.renderTile(s);
      }));
    }
  }, {
    key: "drawTile",
    value: function() {
    }
  }, {
    key: "geneId",
    value: function(i, o) {
      return `${o}_${i[0]}_${i[1]}_${i[2]}_${i[3]}`;
    }
  }, {
    key: "renderTile",
    value: function(i) {
      if (!i.initialized)
        return;
      i.allRects = [], i.drawnAtScale = this._xScale.copy(), i.rectGraphics.removeChildren(), i.rectGraphics.clear(), i.textBgGraphics.clear();
      const o = {}, a = 0.3, s = 0.3;
      o["+"] = ct(this.options.plusStrandColor || QC), o["-"] = ct(this.options.minusStrandColor || JC);
      let l = i.tileData.filter((v) => v.type === "filler" && v.strand === "+"), u = i.tileData.filter((v) => v.type === "filler" && v.strand === "-");
      const c = i.tileData.filter((v) => v.type !== "filler" && (v.strand === "+" || v.fields[5] === "+")), f = i.tileData.filter((v) => v.type !== "filler" && (v.strand === "-" || v.fields[5] === "-"));
      xU(c, l), xU(f, u), l = l.filter((v) => !v.hide), u = u.filter((v) => !v.hide);
      const h = this.dimensions[1] / 2, d = h - this.geneRectHeight / 2 - this.geneStrandSpacing / 2, p = h + this.geneRectHeight / 2 + this.geneStrandSpacing / 2, m = [this, i, i.rectGraphics, this._xScale, o["+"], a, d, this.geneRectHeight], g = [this, i, i.rectGraphics, this._xScale, o["-"], a, p, this.geneRectHeight];
      kU(l, ...m), kU(u, ...g), m[5] = s, g[5] = s, DU(c, ...m), DU(f, ...g), KHe(this, i), tu.stretchRects(this, [(v) => v.rectGraphics, (v) => v.rectMaskGraphics]);
      for (const v of Object.values(i.texts))
        v.style = {
          fontSize: `${this.fontSize}px`,
          FONT_FAMILY: xO,
          fill: ct(v.strand === "-" ? this.options.minusStrandColor || JC : this.options.plusStrandColor || QC)
        };
    }
  }, {
    key: "calculateZoomLevel",
    value: function() {
      const i = Je.calculateZoomLevel(this._xScale, this.tilesetInfo.min_pos[0], this.tilesetInfo.max_pos[0]);
      let o = Math.min(i, this.maxZoom);
      return o = Math.max(o, 0), o;
    }
  }, {
    key: "draw",
    value: function() {
      us(jo(r.prototype), "draw", this).call(this), this.allTexts = [], this.allBoxes = [];
      const i = [];
      this.geneAreaHeight = this.geneRectHeight;
      const o = this.fontSize / 2;
      tu.stretchRects(this, [(a) => a.rectGraphics, (a) => a.rectMaskGraphics]), Object.values(this.fetchedTiles).filter((a) => a.drawnAtScale).forEach((a) => {
        a.textBgGraphics.clear(), a.textBgGraphics.beginFill(typeof this.options.labelBackgroundColor < "u" ? ct(this.options.labelBackgroundColor) : jHe);
        const s = this.parentInFetched(a);
        a.initialized && a.tileData.forEach((l) => {
          if (!a.texts || l.type === "filler")
            return;
          const u = l.fields, c = u[3], f = this.geneId(u, l.type), h = a.texts[f];
          if (!h)
            return;
          const d = +l.chrOffset, p = +u[1] + d, m = +u[2] + d, g = (p + m) / 2;
          let v = this.dimensions[1] / 2;
          const b = (this.geneAreaHeight - this.fontSize) / 2;
          if (u[5] === "+" ? v -= this.geneLabelPos === "inside" ? b + this.geneStrandSpacing - 2 : this.fontSize / 2 + this.geneAreaHeight - 2 : v += this.geneLabelPos === "inside" ? this.fontSize + this.geneStrandSpacing / 2 + b + 1 : 1.5 * this.fontSize + this.geneAreaHeight + 2, h.position.x = this._xScale(g), h.position.y = v, !a.textWidths[f]) {
            const y = h.getBounds().width, _ = h.getBounds().height;
            a.textHeights[f] = _, a.textWidths[f] = y;
          }
          if (s)
            h.visible = false;
          else {
            h.visible = true;
            const y = 2;
            this.flipText ? this.allBoxes.push([h.position.x - a.textHeights[f] / 2 - y, v - o - 1, h.position.x + a.textHeights[f] / 2 + y, v + o - 1, c]) : this.allBoxes.push([h.position.x - a.textWidths[f] / 2 - y, v - o - 1, h.position.x + a.textWidths[f] / 2 + y, v + o - 1, c]), this.allTexts.push({
              importance: +u[4],
              text: h,
              caption: c,
              strand: u[5]
            }), i.push(a.textBgGraphics);
          }
        });
      }), this.hideOverlaps(this.allBoxes, this.allTexts), this.renderTextBg(this.allBoxes, this.allTexts, i);
    }
  }, {
    key: "renderTextBg",
    value: function(i, o, a) {
      o.forEach((s, l) => {
        if (s.text.visible && i[l] && a[l]) {
          const [u, c, f, h] = i[l], d = f - u, p = h - c;
          a[l].drawRect(u - d / 2, c - p / 2, d, p);
        }
      });
    }
  }, {
    key: "hideOverlaps",
    value: function(i, o) {
      uy(i, (a, s) => {
        o[a].importance > o[s].importance ? o[s].text.visible = false : o[a].text.visible = false;
      });
    }
  }, {
    key: "setPosition",
    value: function(i) {
      us(jo(r.prototype), "setPosition", this).call(this, i), [this.pMain.position.x, this.pMain.position.y] = this.position;
    }
  }, {
    key: "setDimensions",
    value: function(i) {
      us(jo(r.prototype), "setDimensions", this).call(this, i), this.halfRectHHeight = this.dimensions[1] / 2, this.visibleAndFetchedTiles().forEach((o) => {
        this.renderTile(o);
      });
    }
  }, {
    key: "zoomed",
    value: function(i, o) {
      this.xScale(i), this.yScale(o), this.refreshTiles(), this.draw();
    }
  }, {
    key: "getMouseOverHtml",
    value: function(i, o) {
      if (!this.tilesetInfo)
        return "";
      const a = [i, o];
      for (const s of this.visibleAndFetchedTiles())
        for (let l = 0; l < s.allRects.length; l++) {
          if (s.allRects[l][2].type === "filler")
            continue;
          const u = s.allRects[l][0].slice(0), c = [];
          for (; u.length; ) {
            const h = u.splice(0, 2);
            h[0] = h[0] * s.rectGraphics.scale.x + s.rectGraphics.position.x, h[1] = h[1] * s.rectGraphics.scale.y + s.rectGraphics.position.y, c.push(h);
          }
          if (Eq(c, a) === -1) {
            const h = s.allRects[l][2];
            return `
            <div>
              <b>${h.fields[3]}</b><br>
              <b>Position:</b> ${h.fields[0]}:${h.fields[1]}-${h.fields[2]}<br>
              <b>Strand:</b> ${h.fields[5]}
            </div>
          `;
          }
        }
      return "";
    }
  }, {
    key: "exportSVG",
    value: function() {
      let i = null, o = null;
      us(jo(r.prototype), "exportSVG", this) ? [o, i] = us(jo(r.prototype), "exportSVG", this).call(this) : (o = document.createElement("g"), i = o);
      const a = document.createElement("g");
      return a.setAttribute("transform", `translate(${this.position[0]},${this.position[1]})`), i.appendChild(a), this.visibleAndFetchedTiles().filter((s) => s.allRects).forEach((s) => {
        const l = document.createElement("g");
        l.setAttribute("transform", `translate(${s.rectGraphics.position.x},
          ${s.rectGraphics.position.y})
          scale(${s.rectGraphics.scale.x},
          ${s.rectGraphics.scale.y})`), s.allRects.forEach((u) => {
          const c = document.createElement("path"), f = u[0];
          let h = `M ${f[0]} ${f[1]}`;
          for (let d = 2; d < f.length; d += 2)
            h += ` L ${f[d]} ${f[d + 1]}`;
          c.setAttribute("d", h), u[1] === "+" ? c.setAttribute("fill", this.options.plusStrandColor) : c.setAttribute("fill", this.options.minusStrandColor), c.setAttribute("opacity", "0.3"), l.appendChild(c);
        }), a.appendChild(l);
      }), this.allTexts.filter((s) => s.text.visible).forEach((s) => {
        const l = document.createElement("g"), u = document.createElement("text");
        u.setAttribute("text-anchor", "middle"), u.setAttribute("font-family", xO), u.setAttribute("font-size", `${this.fontSize}px`), u.setAttribute("dy", "-.2em"), l.setAttribute("transform", `scale(${s.text.scale.x},1)`), s.strand === "+" ? u.setAttribute("fill", this.options.plusStrandColor) : u.setAttribute("fill", this.options.minusStrandColor), u.innerHTML = s.text.text, l.appendChild(u), l.setAttribute("transform", `translate(${s.text.x},${s.text.y})scale(${s.text.scale.x},1)`), a.appendChild(l);
      }), [o, o];
    }
  }]), r;
}(yp);
function ZHe(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function QHe(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, e3e(n.key), n);
  }
}
function JHe(e13, t, r) {
  return t && QHe(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function e3e(e13) {
  var t = t3e(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function t3e(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
function Wc() {
  return typeof Reflect < "u" && Reflect.get ? Wc = Reflect.get.bind() : Wc = function(t, r, n) {
    var i = r3e(t, r);
    if (i) {
      var o = Object.getOwnPropertyDescriptor(i, r);
      return o.get ? o.get.call(arguments.length < 3 ? t : n) : o.value;
    }
  }, Wc.apply(this, arguments);
}
function r3e(e13, t) {
  for (; !Object.prototype.hasOwnProperty.call(e13, t) && (e13 = Ts(e13), e13 !== null); )
    ;
  return e13;
}
function n3e(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  e13.prototype = Object.create(t && t.prototype, { constructor: { value: e13, writable: true, configurable: true } }), Object.defineProperty(e13, "prototype", { writable: false }), t && ex(e13, t);
}
function ex(e13, t) {
  return ex = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, i) {
    return n.__proto__ = i, n;
  }, ex(e13, t);
}
function i3e(e13) {
  var t = s3e();
  return function() {
    var n = Ts(e13), i;
    if (t) {
      var o = Ts(this).constructor;
      i = Reflect.construct(n, arguments, o);
    } else
      i = n.apply(this, arguments);
    return o3e(this, i);
  };
}
function o3e(e13, t) {
  if (t && (typeof t == "object" || typeof t == "function"))
    return t;
  if (t !== void 0)
    throw new TypeError("Derived constructors may only return object or undefined");
  return a3e(e13);
}
function a3e(e13) {
  if (e13 === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e13;
}
function s3e() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return false;
  if (typeof Proxy == "function")
    return true;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), true;
  } catch {
    return false;
  }
}
function Ts(e13) {
  return Ts = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(r) {
    return r.__proto__ || Object.getPrototypeOf(r);
  }, Ts(e13);
}
function RU(e13, t, r, n, i, o, a, s, l, u) {
  const c = u ? e13._xScale(r.yStart) : e13._xScale(r.xStart), f = u ? e13._xScale(r.yEnd) : e13._xScale(r.xEnd), h = u ? e13._yScale(r.xStart) : e13._yScale(r.yStart), d = u ? e13._yScale(r.xEnd) : e13._yScale(r.yEnd), p = r.uid + u, m = f - c, g = d - h;
  let v = {
    x: c,
    y: h,
    width: m,
    height: g
  };
  n && (m < n || g < n) && (v = {
    x: c - n / 2,
    y: h - n / 2,
    width: n,
    height: n
  }), e13.drawnRects[p] = v;
  const b = v.x + v.width, y = v.y + v.height;
  (v.x > i && v.x < o || b > i && b < o || v.y > a && v.y < s || y > a && y < s) && (v.width > l || v.height > l) && (t.drawRect(v.x, v.y, v.width, v.height), e13.publish("annotationDrawn", {
    trackUuid: e13.uuid,
    annotationUuid: p,
    viewPos: [v.x, v.y, v.width, v.height],
    dataPos: [r.xStart, r.xEnd, r.yStart, r.yEnd],
    importance: r.importance,
    info: {
      patternType: e13.options.patternType
    }
  }));
}
var kq = function(e13) {
  n3e(r, e13);
  var t = i3e(r);
  function r(...n) {
    var i;
    ZHe(this, r), i = t.call(this, ...n), i.drawnRects = {};
    const {
      publish: o,
      subscribe: a,
      unsubscribe: s
    } = u1();
    return i.publish = o, i.subscribe = a, i.unsubscribe = s, i;
  }
  return JHe(r, [{
    key: "tileToLocalId",
    value: function(i) {
      return `${i.join(".")}`;
    }
    /**
     * The tile identifier used on the server
     */
  }, {
    key: "tileToRemoteId",
    value: function(i) {
      return `${i.join(".")}`;
    }
  }, {
    key: "localToRemoteId",
    value: function(i) {
      const o = i.split(".");
      return o.slice(0, o.length - 1).join(".");
    }
  }, {
    key: "calculateZoomLevel",
    value: function() {
      const i = Je.calculateZoomLevel(this._xScale, this.tilesetInfo.min_pos[0], this.tilesetInfo.max_pos[0]), o = Je.calculateZoomLevel(this._xScale, this.tilesetInfo.min_pos[1], this.tilesetInfo.max_pos[1]);
      let a = Math.max(i, o);
      return a = Math.min(a, this.maxZoom), a;
    }
    /**
     * Set which tiles are visible right now.
     *
     * @param tiles: A set of tiles which will be considered the currently visible
     * tile positions.
     */
  }, {
    key: "setVisibleTiles",
    value: function(i) {
      this.visibleTiles = i.map((o) => ({
        tileId: this.tileToLocalId(o),
        remoteId: this.tileToRemoteId(o)
      })), this.visibleTileIds = new Set(this.visibleTiles.map((o) => o.remoteId));
    }
  }, {
    key: "calculateVisibleTiles",
    value: function() {
      if (!this.tilesetInfo)
        return;
      this.zoomLevel = this.calculateZoomLevel(), this.xTiles = Je.calculateTiles(this.zoomLevel, this._xScale, this.tilesetInfo.min_pos[0], this.tilesetInfo.max_pos[0], this.tilesetInfo.max_zoom, this.tilesetInfo.max_width), this.yTiles = Je.calculateTiles(this.zoomLevel, this._yScale, this.tilesetInfo.min_pos[1], this.tilesetInfo.max_pos[1], this.tilesetInfo.max_zoom, this.tilesetInfo.max_width);
      const i = this.xTiles, o = this.yTiles, a = this.zoomLevel, s = [];
      for (let l = 0; l < i.length; l++)
        for (let u = 0; u < o.length; u++) {
          const c = [a, i[l], o[u]];
          s.push(c);
        }
      this.setVisibleTiles(s);
    }
    /**
     * Create whatever is needed to draw this tile.
     */
  }, {
    key: "initTile",
    value: function() {
    }
  }, {
    key: "destroyTile",
    value: function() {
    }
  }, {
    key: "draw",
    value: function() {
      this.drawnRects = {}, Wc(Ts(r.prototype), "draw", this).call(this);
    }
  }, {
    key: "drawTile",
    value: function(i) {
      const o = i.graphics;
      if (!o)
        return;
      o.clear();
      const a = ct(this.options.rectangleDomainStrokeColor || "black"), s = ct(this.options.rectangleDomainFillColor || "grey");
      o.lineStyle(typeof this.options.rectangleDomainStrokeWidth < "u" ? this.options.rectangleDomainStrokeWidth : 1, a, typeof this.options.rectangleDomainStrokeOpacity < "u" ? this.options.rectangleDomainStrokeOpacity : 1), o.beginFill(s, typeof this.options.rectangleDomainFillOpacity < "u" ? this.options.rectangleDomainFillOpacity : 0.4), o.alpha = this.options.rectangleDomainOpacity || 0.5;
      const l = this.options.minSquareSize && this.options.minSquareSize !== "none" ? +this.options.minSquareSize : 0, u = this.options.rectangleMinSize ? +this.options.rectangleMinSize : 0, c = this._xScale.range()[0], f = this._xScale.range()[1], h = this._yScale.range()[0], d = this._yScale.range()[1];
      i.tileData.length && i.tileData.filter((p) => !(p.uid in this.drawnRects)).forEach((p) => {
        RU(this, o, p, l, c, f, h, d, u, this.options.flipDiagonal === "yes"), this.options.flipDiagonal && this.options.flipDiagonal === "copy" && RU(this, o, p, l, c, f, h, d, u, true);
      });
    }
  }, {
    key: "exportSVG",
    value: function() {
      let i = null, o = null;
      Wc(Ts(r.prototype), "exportSVG", this) ? [o, i] = Wc(Ts(r.prototype), "exportSVG", this).call(this) : (o = document.createElement("g"), i = o);
      const a = document.createElement("g");
      a.setAttribute("transform", `translate(${this.position[0]},${this.position[1]})`), i.appendChild(a);
      for (const s of [true, false])
        for (const l of this.visibleAndFetchedTiles())
          !l.tileData || !l.tileData.length || l.tileData.forEach((u) => {
            const c = u.uid + s, f = document.createElement("g");
            if (f.setAttribute("transform", `translate(${l.graphics.position.x},${l.graphics.position.y})scale(${l.graphics.scale.x},${l.graphics.scale.y})`), a.appendChild(f), c in this.drawnRects) {
              const h = this.drawnRects[c], d = document.createElement("rect");
              d.setAttribute("x", h.x), d.setAttribute("y", h.y), d.setAttribute("width", h.width), d.setAttribute("height", h.height), d.setAttribute("fill", this.options.rectangleDomainFillColor ? this.options.rectangleDomainFillColor : "grey"), d.setAttribute("opacity", 0.3), d.style.stroke = "black", d.style.strokeWidth = "1px", f.appendChild(d);
            }
          });
      return [o, o];
    }
  }, {
    key: "setPosition",
    value: function(i) {
      Wc(Ts(r.prototype), "setPosition", this).call(this, i), this.pMain.position.y = this.position[1], this.pMain.position.x = this.position[0];
    }
  }, {
    key: "zoomed",
    value: function(i, o) {
      this.xScale().domain()[0] === i.domain()[0] && this.xScale().domain()[1] === i.domain()[1] && this.yScale().domain()[0] === o.domain()[0] && this.yScale().domain()[1] === o.domain()[1] || (this.xScale(i), this.yScale(o), this.refreshTiles(), this.draw());
    }
  }, {
    key: "leftTrackDraw",
    value: function() {
      this.draw();
    }
  }]), r;
}(sh);
function l3e(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function c3e(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, h3e(n.key), n);
  }
}
function u3e(e13, t, r) {
  return t && c3e(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function h3e(e13) {
  var t = f3e(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function f3e(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
function Yc() {
  return typeof Reflect < "u" && Reflect.get ? Yc = Reflect.get.bind() : Yc = function(t, r, n) {
    var i = d3e(t, r);
    if (i) {
      var o = Object.getOwnPropertyDescriptor(i, r);
      return o.get ? o.get.call(arguments.length < 3 ? t : n) : o.value;
    }
  }, Yc.apply(this, arguments);
}
function d3e(e13, t) {
  for (; !Object.prototype.hasOwnProperty.call(e13, t) && (e13 = Es(e13), e13 !== null); )
    ;
  return e13;
}
function p3e(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  e13.prototype = Object.create(t && t.prototype, { constructor: { value: e13, writable: true, configurable: true } }), Object.defineProperty(e13, "prototype", { writable: false }), t && tx(e13, t);
}
function tx(e13, t) {
  return tx = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, i) {
    return n.__proto__ = i, n;
  }, tx(e13, t);
}
function m3e(e13) {
  var t = v3e();
  return function() {
    var n = Es(e13), i;
    if (t) {
      var o = Es(this).constructor;
      i = Reflect.construct(n, arguments, o);
    } else
      i = n.apply(this, arguments);
    return g3e(this, i);
  };
}
function g3e(e13, t) {
  if (t && (typeof t == "object" || typeof t == "function"))
    return t;
  if (t !== void 0)
    throw new TypeError("Derived constructors may only return object or undefined");
  return Dq(e13);
}
function Dq(e13) {
  if (e13 === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e13;
}
function v3e() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return false;
  if (typeof Proxy == "function")
    return true;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), true;
  } catch {
    return false;
  }
}
function Es(e13) {
  return Es = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(r) {
    return r.__proto__ || Object.getPrototypeOf(r);
  }, Es(e13);
}
var y3e = 250;
var Rq = function(e13) {
  p3e(r, e13);
  var t = m3e(r);
  function r(n, i) {
    var o;
    l3e(this, r), o = t.call(this, n, i);
    const {
      pubSub: a
    } = n;
    o.drawnAnnotations = {}, o.drawnAnnoGfx = {}, o.selectedAnno = null, o.options.minSquareSize = +o.options.minSquareSize;
    const {
      publish: s,
      subscribe: l,
      unsubscribe: u
    } = u1();
    return o.publish = s, o.subscribe = l, o.unsubscribe = u, o.sT = 0, o.annoSelectedBound = o.annoSelected.bind(Dq(o)), o.pubSubs.push(a.subscribe("annoSelected", o.annoSelectedBound)), o;
  }
  return u3e(r, [{
    key: "minX",
    get: function() {
      return this.tilesetInfo && this.tilesetInfo.min_pos ? this.tilesetInfo.min_pos[0] : 0;
    }
  }, {
    key: "maxX",
    get: function() {
      return this.tilesetInfo && this.tilesetInfo.max_pos ? this.tilesetInfo.max_pos[0] : this.tilesetInfo.max_width || this.tilesetInfo.max_size;
    }
  }, {
    key: "minY",
    get: function() {
      return this.minX;
    }
  }, {
    key: "maxY",
    get: function() {
      return this.maxX;
    }
  }, {
    key: "maxSize",
    get: function() {
      const n = this.tilesetInfo.max_pos && Math.max(this.tilesetInfo.max_pos[0] - this.tilesetInfo.min_pos[0], this.tilesetInfo.max_pos[1] - this.tilesetInfo.min_pos[1]);
      return n || (this.tilesetInfo.max_size ? this.tilesetInfo.max_size : 0);
    }
    /**
     * Point projection from the data to the view (pixel) coordinates
     * @param   {number}  x  Data X coordinate
     * @param   {number}  y  Data Y coordinate
     * @return  {array}  Tuple [x,y] containing the translated view coordinates.
     */
  }, {
    key: "projection",
    value: function([i, o]) {
      return [this._xScale(i), this._yScale(o)];
    }
    /**
     * The local tile identifier
     *
     * @param  {Array}  tile  Array containing [zoomLevel, xPos, yPos]
     * @return  {String}  Joined ID string
     */
  }, {
    key: "tileToLocalId",
    value: function(i) {
      return `${i.join(".")}`;
    }
    /**
     * The tile identifier used on the server
     *
     * @param  {Array}  tile  Array containing [zoomLevel, xPos, yPos]
     * @return  {String}  Joined ID string
     */
  }, {
    key: "tileToRemoteId",
    value: function(i) {
      return `${i.join(".")}`;
    }
  }, {
    key: "localToRemoteId",
    value: function(i) {
      const o = i.split(".");
      return o.slice(0, o.length - 1).join(".");
    }
  }, {
    key: "calculateZoomLevel",
    value: function() {
      const i = Je.calculateZoomLevel(this._xScale, this.minX, this.maxX), o = Je.calculateZoomLevel(this._yScale, this.minY, this.maxY);
      return Y9(EP(i, o), this.maxZoom);
    }
    /**
     * Set which tiles are visible right now.
     *
     * @param tiles: A set of tiles which will be considered the currently visible
     * tile positions.
     */
  }, {
    key: "setVisibleTiles",
    value: function(i) {
      this.visibleTiles = i.map((o) => ({
        tileId: this.tileToLocalId(o),
        remoteId: this.tileToRemoteId(o)
      })), this.visibleTileIds = new Set(this.visibleTiles.map((o) => o.tileId));
    }
  }, {
    key: "calculateVisibleTiles",
    value: function() {
      if (!this.tilesetInfo)
        return;
      this.zoomLevel = this.calculateZoomLevel(), this.xTiles = Je.calculateTiles(this.zoomLevel, this._xScale, this.minX, this.maxX, this.tilesetInfo.max_zoom, this.maxSize), this.yTiles = Je.calculateTiles(this.zoomLevel, this._yScale, this.minY, this.maxY, this.tilesetInfo.max_zoom, this.maxSize);
      const i = this.zoomLevel, o = [];
      for (let a = 0; a < this.xTiles.length; a++)
        for (let s = 0; s < this.yTiles.length; s++)
          o.push([i, this.xTiles[a], this.yTiles[s]]);
      this.setVisibleTiles(o);
    }
  }, {
    key: "draw",
    value: function() {
      this.drawnAnnotations = {}, Yc(Es(r.prototype), "draw", this).call(this);
    }
  }, {
    key: "drawTile",
    value: function(i, o = false, a = false) {
      if (!i.graphics)
        return;
      i.graphics.__tile__ = i;
      const s = i.graphics;
      s.clear(), this.setBorderStyle(s), this.setFill(s), s.alpha = +this.options.rectangleDomainOpacity, i.tileData.length && i.tileData.filter((l) => !(l.uid in this.drawnAnnotations) || o).forEach((l) => {
        const [u, c] = this.projection([l.xStart, l.yStart]), [f, h] = this.projection([l.xEnd, l.yEnd]);
        this.options.exclude && this.options.exclude.indexOf(l.uid) >= 0 || this.drawAnnotation(this.prepAnnotation(s, l.uid, u, c, f - u, h - c, l), a);
      });
    }
  }, {
    key: "prepAnnotation",
    value: function(i, o, a, s, l, u, c) {
      let f;
      try {
        f = JSON.parse(c.fields);
      } catch {
      }
      return {
        graphics: i,
        id: c.id,
        uid: o,
        annotation: {
          x: a,
          y: s,
          width: l,
          height: u
        },
        dataPos: [c.xStart, c.xEnd, c.yStart, c.yEnd],
        importance: c.importance,
        info: f
      };
    }
  }, {
    key: "drawAnnotation",
    value: function({
      graphics: i,
      id: o,
      uid: a,
      annotation: s,
      dataPos: l,
      importance: u,
      info: c
    }, f) {
      this.options.minSquareSize && (s.width < this.options.minSquareSize || s.height < this.options.minSquareSize) && (s.x = (s.x + s.width) / 2, s.y = (s.y + s.height) / 2, s.width = this.options.minSquareSize, s.height = this.options.minSquareSize), this.drawnAnnotations[a] = s;
      const h = [s.x, s.y, s.width, s.height];
      let d = this.drawnAnnoGfx[a];
      d || (d = new Ge.PIXI.Graphics(), this.drawnAnnoGfx[a] = d), i.children.indexOf(d) === -1 && i.addChild(d), this._drawRect(d, h, a), i.interactive = true, d.interactive = true, d.buttonMode = true;
      const p = {
        id: o,
        uid: a,
        dataPos: l,
        importance: u,
        info: c,
        viewPos: [
          s.x,
          s.y,
          // To have the same format as `dataPos`, i.e.:
          // a quadruple of [x0, y0, x1, y1]
          s.x + s.width,
          s.y + s.height
        ]
      };
      d.mouseover = () => this.hover(d, h, a), d.mouseout = () => this.blur(d, h, a), d.mousedown = () => this.mouseDown(), d.mouseup = (m) => this.mouseUp(d, h, a, m, p), f || this.publish("annotationDrawn", {
        trackUuids: this.uuid,
        annotationUuid: a,
        annotationId: o,
        viewPos: h,
        dataPos: l,
        importance: u,
        info: c
      });
    }
  }, {
    key: "_drawRect",
    value: function(i, o, a) {
      let s = this.options.rectangleDomainStrokeColor, l = this.options.rectangleDomainStrokeWidth, u = this.options.rectangleDomainStrokeOpacity, c = this.options.rectangleDomainFillColor, f = this.options.rectangleDomainFillOpacity;
      this.hoveredAnno === a && (s = this.options.hoverColor, l = this.options.rectangleDomainStrokeWidth + 1 || 2, u = 1, c = this.options.hoverColor, f = this.options.rectangleDomainFillOpacity), this.selectedAnno && this.selectedAnno.uid === a && (s = this.options.selectColor, l = this.options.rectangleDomainStrokeWidth + 1 || 2, u = 1, c = this.options.selectColor, f = EP(0.33, this.options.rectangleDomainFillOpacity)), i.clear(), this.options.trackBorderBgWidth && (this.setBorderStyle(i, this.options.trackBorderBgColor, this.options.trackBorderBgWidth, this.options.trackBorderBgAlpha), this.setFill(i, c, 0), i.drawRect(...o)), this.setBorderStyle(i, s, l, u), this.setFill(i, c, f), i.drawRect(...o), i.__viewPos__ = o;
    }
  }, {
    key: "context",
    value: function(i, o, a) {
      return (s) => s(i, o, a);
    }
  }, {
    key: "click",
    value: function(i, o, a, s, l) {
      this.select(i, o, a), this.pubSub.publish("app.click", {
        type: "annotation",
        event: s,
        payload: l
      });
    }
  }, {
    key: "mouseDown",
    value: function() {
      this.sT = performance.now();
    }
  }, {
    key: "mouseUp",
    value: function(i, o, a, s, l) {
      performance.now() - this.sT <= y3e && this.click(i, o, a, s, l);
    }
  }, {
    key: "hover",
    value: function(i, o, a) {
      this.hoveredAnno = a, this._drawRect(i, o, a), this.animate();
    }
  }, {
    key: "focus",
    value: function(i, o, a) {
      this._drawRect(i, o, a), this.animate();
    }
  }, {
    key: "blur",
    value: function(i, o, a) {
      this.hoveredAnno = null, this._drawRect(i, o, a), this.animate();
    }
  }, {
    key: "select",
    value: function(i, o, a, s = false) {
      let l = null, u = null;
      this.selectedAnno && (l = this.selectedAnno.graphics, u = this.selectedAnno.uid), this.selectedAnno = {
        graphics: i,
        uid: a
      }, this.focus(i, o, a), this.options.onSelect && !s && (window[this.options.onSelect](a), this.pubSub.publish("annoSelected", a)), l && u && this.blur(l, l.__viewPos__, u);
    }
  }, {
    key: "unselect",
    value: function() {
      const i = this.selectedAnno.graphics, o = this.selectedAnno.uid;
      this.selectedAnno = null, this.blur(i, i.__viewPos__, o);
    }
  }, {
    key: "annoSelected",
    value: function(i) {
      if (!this.selectedAnno || this.selectedAnno.uid !== i) {
        this.selectedAnno && this.unselect();
        const o = this.drawnAnnoGfx[i];
        o && this.select(o, o.__viewPos__, i, true);
      }
    }
  }, {
    key: "exportSVG",
    value: function() {
      let i = null, o = null;
      Yc(Es(r.prototype), "exportSVG", this) ? [o, i] = Yc(Es(r.prototype), "exportSVG", this).call(this) : (o = document.createElement("g"), i = o);
      const a = document.createElement("g");
      return a.setAttribute("transform", `translate(${this.position[0]},${this.position[1]})`), i.appendChild(a), this.visibleAndFetchedTiles().filter((s) => s.tileData && s.tileData.length).map((s) => ({
        graphics: s.graphics,
        td: s.tileData
      })).forEach(({
        td: s,
        graphics: l
      }) => {
        const u = document.createElement("g");
        if (u.setAttribute("transform", `translate(${l.position.x},${l.position.y})scale(${l.scale.x},${l.scale.y})`), a.appendChild(u), s.uid in this.drawnAnnotations) {
          const c = this.drawnAnnotations[s.uid], f = document.createElement("rect");
          f.setAttribute("x", c.x), f.setAttribute("y", c.y), f.setAttribute("width", c.width), f.setAttribute("height", c.height), f.setAttribute("fill", this.options.fillColor || "grey"), f.setAttribute("opacity", 0.3), f.style.stroke = this.options.fillColor || "grey", f.style.strokeWidth = "1px", u.appendChild(f);
        }
      }), [o, o];
    }
  }, {
    key: "setBorderStyle",
    value: function(i, o = this.options.rectangleDomainStrokeColor, a = this.options.rectangleDomainStrokeWidth, s = this.options.rectangleDomainStrokeOpacity) {
      i.lineStyle(typeof a < "u" ? a : 1, ct(o || "black"), typeof s < "u" ? s : 1);
    }
  }, {
    key: "setFill",
    value: function(i, o = this.options.rectangleDomainFillColor, a = this.options.rectangleDomainFillOpacity) {
      i.beginFill(ct(o || "grey"), typeof a < "u" ? a : 0.4);
    }
  }, {
    key: "setPosition",
    value: function(i) {
      Yc(Es(r.prototype), "setPosition", this).call(this, i), this.pMain.position.y = this.position[1], this.pMain.position.x = this.position[0];
    }
  }, {
    key: "zoomed",
    value: function(i, o) {
      this.xScale(i), this.yScale(o), this.refreshTiles(), this.draw();
    }
  }]), r;
}(sh);
function _3e(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function b3e(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, E3e(n.key), n);
  }
}
function T3e(e13, t, r) {
  return t && b3e(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function E3e(e13) {
  var t = S3e(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function S3e(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
function wg() {
  return typeof Reflect < "u" && Reflect.get ? wg = Reflect.get.bind() : wg = function(t, r, n) {
    var i = w3e(t, r);
    if (i) {
      var o = Object.getOwnPropertyDescriptor(i, r);
      return o.get ? o.get.call(arguments.length < 3 ? t : n) : o.value;
    }
  }, wg.apply(this, arguments);
}
function w3e(e13, t) {
  for (; !Object.prototype.hasOwnProperty.call(e13, t) && (e13 = Du(e13), e13 !== null); )
    ;
  return e13;
}
function A3e(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  e13.prototype = Object.create(t && t.prototype, { constructor: { value: e13, writable: true, configurable: true } }), Object.defineProperty(e13, "prototype", { writable: false }), t && rx(e13, t);
}
function rx(e13, t) {
  return rx = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, i) {
    return n.__proto__ = i, n;
  }, rx(e13, t);
}
function O3e(e13) {
  var t = C3e();
  return function() {
    var n = Du(e13), i;
    if (t) {
      var o = Du(this).constructor;
      i = Reflect.construct(n, arguments, o);
    } else
      i = n.apply(this, arguments);
    return I3e(this, i);
  };
}
function I3e(e13, t) {
  if (t && (typeof t == "object" || typeof t == "function"))
    return t;
  if (t !== void 0)
    throw new TypeError("Derived constructors may only return object or undefined");
  return P3e(e13);
}
function P3e(e13) {
  if (e13 === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e13;
}
function C3e() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return false;
  if (typeof Proxy == "function")
    return true;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), true;
  } catch {
    return false;
  }
}
function Du(e13) {
  return Du = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(r) {
    return r.__proto__ || Object.getPrototypeOf(r);
  }, Du(e13);
}
var nx = function(e13) {
  A3e(r, e13);
  var t = O3e(r);
  function r(n, i, o) {
    var a;
    return _3e(this, r), a = t.call(this, n, i), a.pubSub = n.pubSub, a.options = i, a.isVertical = o, a.rects = {}, a.defaultColor = dn("red"), a;
  }
  return T3e(r, [{
    key: "draw",
    value: function() {
      const i = typeof this.options.minRectWidth < "u" ? this.options.minRectWidth : 10, o = typeof this.options.fill < "u" ? dn(this.options.fill) : this.defaultColor, a = typeof this.options.fillOpacity < "u" ? +this.options.fillOpacity : 0.2, s = typeof this.options.stroke < "u" ? dn(this.options.stroke) : this.defaultColor, l = typeof this.options.strokeWidth < "u" ? +this.options.strokeWidth : 1, u = typeof this.options.strokeOpacity < "u" ? +this.options.strokeOpacity : 0;
      let c;
      this.options.strokePos && this.options.strokePos.length && (c = Array.isArray(this.options.strokePos) ? this.options.strokePos : [this.options.strokePos]), wg(Du(r.prototype), "draw", this).call(this);
      const f = this.pMain;
      f.clear();
      const h = performance.now();
      this.options.regions.forEach((d) => {
        const p = `${d[0]}-${d[1]}`;
        this.rects[p] || (this.rects[p] = {
          graphics: new Ge.PIXI.Graphics()
        }, f.addChild(this.rects[p].graphics)), this.rects[p].timeStamp = h;
        const m = dn(d[2]) || o;
        let g = dn(d[3]) || s;
        g || (g = m);
        const v = Ge.PIXI.utils.rgb2hex([m.r / 255, m.g / 255, m.b / 255]), b = Ge.PIXI.utils.rgb2hex([g.r / 255, g.g / 255, g.b / 255]);
        c ? (f.lineStyle(1, b, 0), f.beginFill(b, +d[5] || u)) : (f.lineStyle(l, b, +d[5] || u), f.beginFill(v, +d[4] || a));
        const y = this.isVertical ? this._yScale : this._xScale;
        let _ = y(+d[0]);
        const T = y(+d[1]);
        let E = T - _;
        const O = typeof d[6] < "u" ? d[6] : i;
        E < O && (_ = (_ + T) / 2 - O / 2, E = O), c ? (f.lineStyle(1, b, 0), f.beginFill(b, +d[5] || u), c.forEach((S) => {
          (S === "top" || S === "around") && (this.isVertical ? f.drawRect(0, _, l, E) : f.drawRect(_, 0, E, l)), (S === "right" || S === "around") && (this.isVertical ? f.drawRect(0, _, this.dimensions[0], l) : f.drawRect(_, 0, l, this.dimensions[1])), (S === "bottom" || S === "around") && (this.isVertical ? f.drawRect(this.dimensions[0] - l, _, l, E) : f.drawRect(_, this.dimensions[1] - l, E, l)), (S === "left" || S === "around") && (this.isVertical ? f.drawRect(0, _ + E - l, this.dimensions[0], l) : f.drawRect(_ + E - l, 0, l, this.dimensions[1]));
        })) : f.lineStyle(l, b, +d[5] || u), this.rects[p].graphics.clear(), this.rects[p].graphics.interactive = true, this.rects[p].graphics.buttonMode = true, f.beginFill(v, +d[4] || a), this.isVertical ? (f.drawRect(0, _, this.dimensions[0], E), this.rects[p].graphics.hitArea = new Ge.PIXI.Rectangle(0, _, this.dimensions[0], E)) : (f.drawRect(_, 0, E, this.dimensions[1]), this.rects[p].graphics.hitArea = new Ge.PIXI.Rectangle(_, 0, E, this.dimensions[1])), this.rects[p].graphics.mousedown = () => {
          this.rects[p].mouseDownTime = performance.now();
        }, this.rects[p].graphics.mouseup = (S) => {
          performance.now() - this.rects[p].mouseDownTime < b9 && this.pubSub.publish("app.click", {
            type: "annotation",
            event: S,
            payload: d
          });
        };
      }), Object.values(this.rects).filter((d) => d.timeStamp !== h).forEach((d) => f.removeChild(d.graphics));
    }
  }, {
    key: "setPosition",
    value: function(i) {
      wg(Du(r.prototype), "setPosition", this).call(this, i), this.pMain.position.y = this.position[1], this.pMain.position.x = this.position[0];
    }
  }, {
    key: "zoomed",
    value: function(i, o) {
      this.xScale(i), this.yScale(o), this.draw();
    }
  }]), r;
}(Ai);
function x3e(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function k3e(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, R3e(n.key), n);
  }
}
function D3e(e13, t, r) {
  return t && k3e(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function R3e(e13) {
  var t = N3e(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function N3e(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
function Al() {
  return typeof Reflect < "u" && Reflect.get ? Al = Reflect.get.bind() : Al = function(t, r, n) {
    var i = M3e(t, r);
    if (i) {
      var o = Object.getOwnPropertyDescriptor(i, r);
      return o.get ? o.get.call(arguments.length < 3 ? t : n) : o.value;
    }
  }, Al.apply(this, arguments);
}
function M3e(e13, t) {
  for (; !Object.prototype.hasOwnProperty.call(e13, t) && (e13 = wa(e13), e13 !== null); )
    ;
  return e13;
}
function L3e(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  e13.prototype = Object.create(t && t.prototype, { constructor: { value: e13, writable: true, configurable: true } }), Object.defineProperty(e13, "prototype", { writable: false }), t && ix(e13, t);
}
function ix(e13, t) {
  return ix = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, i) {
    return n.__proto__ = i, n;
  }, ix(e13, t);
}
function B3e(e13) {
  var t = H3e();
  return function() {
    var n = wa(e13), i;
    if (t) {
      var o = wa(this).constructor;
      i = Reflect.construct(n, arguments, o);
    } else
      i = n.apply(this, arguments);
    return F3e(this, i);
  };
}
function F3e(e13, t) {
  if (t && (typeof t == "object" || typeof t == "function"))
    return t;
  if (t !== void 0)
    throw new TypeError("Derived constructors may only return object or undefined");
  return $3e(e13);
}
function $3e(e13) {
  if (e13 === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e13;
}
function H3e() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return false;
  if (typeof Proxy == "function")
    return true;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), true;
  } catch {
    return false;
  }
}
function wa(e13) {
  return wa = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(r) {
    return r.__proto__ || Object.getPrototypeOf(r);
  }, wa(e13);
}
var Nq = function(e13) {
  L3e(r, e13);
  var t = B3e(r);
  function r(n, i) {
    var o;
    return x3e(this, r), o = t.call(this, n, i), o.drawnRects = /* @__PURE__ */ new Set(), o.pMain = o.pMobile, o;
  }
  return D3e(r, [{
    key: "tileToLocalId",
    value: function(i) {
      return `${i.join(".")}`;
    }
  }, {
    key: "tileToRemoteId",
    value: function(i) {
      return `${i.join(".")}`;
    }
  }, {
    key: "localToRemoteId",
    value: function(i) {
      const o = i.split(".");
      return o.slice(0, o.length - 1).join(".");
    }
  }, {
    key: "calculateZoomLevel",
    value: function() {
      const i = Je.calculateZoomLevel(this._xScale, this.tilesetInfo.min_pos[0], this.tilesetInfo.max_pos[0]), o = Je.calculateZoomLevel(this._xScale, this.tilesetInfo.min_pos[1], this.tilesetInfo.max_pos[1]);
      let a = Math.max(i, o);
      return a = Math.min(a, this.maxZoom), this.options && this.options.maxZoom && (this.options.maxZoom >= 0 ? a = Math.min(this.options.maxZoom, a) : console.error("Invalid maxZoom on track:", this)), a;
    }
  }, {
    key: "setVisibleTiles",
    value: function(i) {
      this.visibleTiles = i.map((o) => ({
        tileId: this.tileToLocalId(o),
        remoteId: this.tileToRemoteId(o)
      })), this.visibleTileIds = new Set(this.visibleTiles.map((o) => o.tileId));
    }
  }, {
    key: "calculateVisibleTiles",
    value: function() {
      if (!this.tilesetInfo)
        return;
      this.zoomLevel = this.calculateZoomLevel();
      const i = this._xScale.copy();
      i.domain([this._xScale.invert(this._xScale.range()[0] - this.dimensions[1] * Math.sqrt(2)), this._xScale.invert(this._xScale.range()[1] + this.dimensions[1] * Math.sqrt(2))]), this.xTiles = Je.calculateTiles(this.zoomLevel, i, this.tilesetInfo.min_pos[0], this.tilesetInfo.max_pos[0], this.tilesetInfo.max_zoom, this.tilesetInfo.max_width), this.yTiles = Je.calculateTiles(this.zoomLevel, i, this.tilesetInfo.min_pos[0], this.tilesetInfo.max_pos[0], this.tilesetInfo.max_zoom, this.tilesetInfo.max_width);
      const o = this.xTiles, a = this.yTiles, s = this.zoomLevel, u = this.tilesetInfo.max_width / 2 ** s, c = [];
      for (let f = 0; f < o.length; f++)
        for (let h = f; h < a.length; h++) {
          if ((h - f - 2) * (this._xScale(u) - this._xScale(0)) * Math.sqrt(2) / 2 > this.dimensions[1])
            continue;
          const p = [s, o[f], a[h]];
          p.mirrored = false, c.push(p);
        }
      this.setVisibleTiles(c);
    }
  }, {
    key: "initTile",
    value: function(i) {
      Al(wa(r.prototype), "initTile", this).call(this, i), this.drawTile(i);
    }
  }, {
    key: "destroyTile",
    value: function(i, o) {
    }
  }, {
    key: "draw",
    value: function() {
      this.delayDrawing || this.drawnRects.clear(), Al(wa(r.prototype), "draw", this).call(this);
    }
  }, {
    key: "drawTile",
    value: function(i) {
      if (!i.graphics)
        return;
      const o = i.graphics;
      o.clear();
      const a = ct(this.options.rectangleDomainStrokeColor ? this.options.rectangleDomainStrokeColor : "black"), s = ct(this.options.rectangleDomainFillColor ? this.options.rectangleDomainFillColor : "grey");
      if (o.lineStyle(1 / this.pMain.scale.x, a, 1), o.beginFill(s, 0.4), o.alpha = this.options.rectangleDomainOpacity ? this.options.rectangleDomainOpacity : 0.5, !!i.tileData.sort)
        for (const l of i.tileData) {
          const u = this._refXScale(l.xStart), c = this._refXScale(l.xEnd), f = this._refYScale(l.yStart), h = this._refYScale(l.yEnd), d = l.uid;
          this.drawnRects.has(d) || (this.drawnRects.add(d), o.drawRect(u, f, c - u, h - f), o.pivot.x = this._refXScale(0), o.pivot.y = this._refYScale(0), o.scale.x = -1 / Math.sqrt(2), o.rotation = -3 * Math.PI / 4, o.scale.y = 1 / Math.sqrt(2), o.position.x = this._refXScale(0), o.position.y = 0);
        }
    }
  }, {
    key: "setPosition",
    value: function(i) {
      Al(wa(r.prototype), "setPosition", this).call(this, i), this.pMain.position.y = this.position[1], this.pMain.position.x = this.position[0];
    }
  }, {
    key: "refScalesChanged",
    value: function(i, o) {
      Al(wa(r.prototype), "refScalesChanged", this).call(this, i, o);
      for (const a in this.fetchedTiles) {
        const s = this.fetchedTiles[a];
        if (s.sprite) {
          const l = s.graphics;
          l.pivot.x = this._refXScale(0), l.pivot.y = this._refYScale(0), l.scale.x = -1 / Math.sqrt(2), l.rotation = -3 * Math.PI / 4, l.scale.y = 1 / Math.sqrt(2), l.position.x = this._refXScale(0), l.position.y = 0;
        }
      }
    }
  }, {
    key: "zoomed",
    value: function(i, o, a, s, l) {
      Al(wa(r.prototype), "zoomed", this).call(this, i, o, a, s, l), this.pMain.position.x = s, this.pMain.position.y = this.position[1] + this.dimensions[1], this.pMain.scale.x = a, this.pMain.scale.y = a, this.options.oneDHeatmapFlipped && (this.pMain.scale.y = -a, this.pMain.position.y = this.position[1]), this.draw();
    }
  }, {
    key: "leftTrackDraw",
    value: function() {
      this.draw();
    }
  }]), r;
}(sh);
function U3e(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function j3e(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, z3e(n.key), n);
  }
}
function G3e(e13, t, r) {
  return t && j3e(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function z3e(e13) {
  var t = V3e(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function V3e(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
function Ag() {
  return typeof Reflect < "u" && Reflect.get ? Ag = Reflect.get.bind() : Ag = function(t, r, n) {
    var i = X3e(t, r);
    if (i) {
      var o = Object.getOwnPropertyDescriptor(i, r);
      return o.get ? o.get.call(arguments.length < 3 ? t : n) : o.value;
    }
  }, Ag.apply(this, arguments);
}
function X3e(e13, t) {
  for (; !Object.prototype.hasOwnProperty.call(e13, t) && (e13 = Ru(e13), e13 !== null); )
    ;
  return e13;
}
function W3e(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  e13.prototype = Object.create(t && t.prototype, { constructor: { value: e13, writable: true, configurable: true } }), Object.defineProperty(e13, "prototype", { writable: false }), t && ox(e13, t);
}
function ox(e13, t) {
  return ox = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, i) {
    return n.__proto__ = i, n;
  }, ox(e13, t);
}
function Y3e(e13) {
  var t = Z3e();
  return function() {
    var n = Ru(e13), i;
    if (t) {
      var o = Ru(this).constructor;
      i = Reflect.construct(n, arguments, o);
    } else
      i = n.apply(this, arguments);
    return q3e(this, i);
  };
}
function q3e(e13, t) {
  if (t && (typeof t == "object" || typeof t == "function"))
    return t;
  if (t !== void 0)
    throw new TypeError("Derived constructors may only return object or undefined");
  return K3e(e13);
}
function K3e(e13) {
  if (e13 === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e13;
}
function Z3e() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return false;
  if (typeof Proxy == "function")
    return true;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), true;
  } catch {
    return false;
  }
}
function Ru(e13) {
  return Ru = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(r) {
    return r.__proto__ || Object.getPrototypeOf(r);
  }, Ru(e13);
}
var Mq = function(e13) {
  W3e(r, e13);
  var t = Y3e(r);
  function r(n, i) {
    var o;
    return U3e(this, r), o = t.call(this, n, i), o.drawnRects = /* @__PURE__ */ new Set(), o;
  }
  return G3e(r, [{
    key: "tileToLocalId",
    value: function(i) {
      return `${i.join(".")}`;
    }
    /**
     * The tile identifier used on the server
     */
  }, {
    key: "tileToRemoteId",
    value: function(i) {
      return `${i.join(".")}`;
    }
  }, {
    key: "localToRemoteId",
    value: function(i) {
      const o = i.split(".");
      return o.slice(0, o.length - 1).join(".");
    }
  }, {
    key: "calculateZoomLevel",
    value: function() {
      const i = Je.calculateZoomLevel(this._xScale, this.tilesetInfo.min_pos[0], this.tilesetInfo.max_pos[0]), o = Je.calculateZoomLevel(this._xScale, this.tilesetInfo.min_pos[1], this.tilesetInfo.max_pos[1]);
      let a = Math.max(i, o);
      return a = Math.min(a, this.maxZoom), a;
    }
  }, {
    key: "setVisibleTiles",
    value: function(i) {
      this.visibleTiles = i.map((o) => ({
        tileId: this.tileToLocalId(o),
        remoteId: this.tileToRemoteId(o)
      })), this.visibleTileIds = new Set(this.visibleTiles.map((o) => o.tileId));
    }
  }, {
    key: "calculateVisibleTiles",
    value: function(i = true) {
      if (!this.tilesetInfo)
        return;
      this.zoomLevel = this.calculateZoomLevel(), this.xTiles = Je.calculateTiles(this.zoomLevel, this._xScale, this.tilesetInfo.min_pos[0], this.tilesetInfo.max_pos[0], this.tilesetInfo.max_zoom, this.tilesetInfo.max_width), this.yTiles = Je.calculateTiles(this.zoomLevel, this._yScale, this.tilesetInfo.min_pos[1], this.tilesetInfo.max_pos[1], this.tilesetInfo.max_zoom, this.tilesetInfo.max_width);
      const o = this.xTiles, a = this.yTiles, s = this.zoomLevel, l = [];
      for (let u = 0; u < o.length; u++)
        for (let c = 0; c < a.length; c++) {
          const f = [s, o[u], a[c]];
          l.push(f);
        }
      this.setVisibleTiles(l);
    }
  }, {
    key: "initTile",
    value: function(i) {
    }
  }, {
    key: "destroyTile",
    value: function(i, o) {
    }
  }, {
    key: "draw",
    value: function() {
      this.drawnRects.clear(), Ag(Ru(r.prototype), "draw", this).call(this);
    }
  }, {
    key: "drawTile",
    value: function(i) {
      if (!i.graphics)
        return;
      const o = i.graphics;
      o.clear();
      const a = ct("green");
      o.lineStyle(1, 255, 1), o.beginFill(a, 0.8), o.alpha = 0.5;
      for (const s of i.tileData) {
        const l = this._xScale(s.xStart), u = this._xScale(s.xEnd), c = this._yScale(s.yStart), f = this._yScale(s.yEnd), h = s.uid;
        if (this.drawnRects.has(h))
          continue;
        this.drawnRects.add(h);
        const d = 6, p = 6;
        let m = f - c, g = u - l;
        const v = (l + u) / 2, b = (c + f) / 2;
        m < d && (m = d), g < p && (g = p), o.drawRect(v - m / 2, b - g / 2, m, g);
      }
    }
  }, {
    key: "setPosition",
    value: function(i) {
      Ag(Ru(r.prototype), "setPosition", this).call(this, i), this.pMain.position.y = this.position[1], this.pMain.position.x = this.position[0];
    }
  }, {
    key: "zoomed",
    value: function(i, o) {
      this.xScale(i), this.yScale(o), this.refreshTiles(), this.draw();
    }
  }]), r;
}(sh);
function Ls(e13, t, r = rM) {
  const n = {};
  return n.absToChr = (i) => n.chrPositions ? pn(i, n) : null, n.chrToAbs = ([i, o] = []) => n.chrPositions ? T0(i, o, n) : null, Je.text(e13, (i, o) => {
    if (i)
      t && t(null);
    else {
      const a = HR(o), s = v1(a);
      Object.keys(s).forEach((l) => {
        n[l] = s[l];
      }), t && t(n);
    }
  }, r).then(() => n);
}
function Q3e(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function J3e(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, tUe(n.key), n);
  }
}
function eUe(e13, t, r) {
  return t && J3e(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function tUe(e13) {
  var t = rUe(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function rUe(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
var Nd = function() {
  function e13(t) {
    Q3e(this, e13), this.chromInfo = t, this.chromInfoBisector = qd((r) => r.pos).left;
  }
  return eUe(e13, [{
    key: "scalesToPositionText",
    value: function(r, n, i = false) {
      if (this.chromInfo === null || !r || !n)
        return "";
      const o = pn(r.domain()[0], this.chromInfo), a = pn(r.domain()[1], this.chromInfo), s = pn(n.domain()[0], this.chromInfo), l = pn(n.domain()[1], this.chromInfo);
      let u = null;
      const c = ro(",d");
      return o[0] !== a[0] ? u = `${o[0]}:${c(Math.floor(o[1]))}-${a[0]}:${c(Math.ceil(a[1]))}` : u = `${o[0]}:${c(Math.floor(o[1]))}-${c(Math.ceil(a[1]))}`, i && (s[0] !== l[0] ? u += ` & ${s[0]}:${c(Math.floor(s[1]))}-${l[0]}:${c(Math.ceil(l[1]))}` : u += ` & ${s[0]}:${c(Math.floor(s[1]))}-${c(Math.ceil(l[1]))}`), (o[2] <= 0 || a[2] > 0 || i && (s[2] <= 0 || l[2] > 0)) && (u += ` [offset ${o[2]},${a[2]}`, i && (u += `:${s[2]},${l[2]}`), u += "]"), u;
    }
  }, {
    key: "convertNumberNotation",
    value: function(r) {
      let n = r;
      if (!n.includes("M", n.length - 1) && !n.includes("K", n.length - 1))
        return n;
      let i = 0, o = 0;
      if (n.includes("M", n.length - 1) ? (i = 6, n = n.replace("M", "")) : (i = 3, n = n.replace("K", "")), Number.isNaN(+n))
        return r;
      n = (+n).toString(), n.includes(".") && (o = n.length - 1 - n.indexOf("."), n = (+n.replace(".", "")).toString());
      const a = i - o;
      return a < 0 ? r : (n += "0".repeat(a), n);
    }
  }, {
    key: "parsePosition",
    value: function(r, n = null) {
      const i = r.split(":");
      let o = null, a = 0;
      i.length > 1 ? (o = i[0], a = +this.convertNumberNotation(i[1].replace(/,/g, ""))) : i[0] in this.chromInfo.chrPositions ? (o = i[0], a = 0, n !== null && (a = +this.chromInfo.chromLengths[o])) : (a = +this.convertNumberNotation(i[0].replace(/,/g, "")), o = null, n && (o = n));
      let s = null;
      return o === null ? (o = n, s = a) : o in this.chromInfo.chrPositions && (s = this.chromInfo.chrPositions[o].pos + a), [o, a, s];
    }
  }, {
    key: "matchRangesToLarger",
    value: function(r, n) {
      if (r[1] - r[0] < n[1] - n[0]) {
        const o = n[1] - n[0] - (r[1] - r[0]);
        return [[r[0] - o / 2, r[1] + o / 2], n];
      }
      const i = r[1] - r[0] - (n[1] - n[0]);
      return [r, [n[0] - i / 2, n[1] + i / 2]];
    }
  }, {
    key: "getSearchRange",
    value: function(r) {
      if (r.length === 0)
        return null;
      let n = r.split("-");
      n = n.filter((o) => o.length > 0);
      let i = null;
      if (n[0].indexOf("-") === 0 && (n[0] = n[0].slice(3, n[0].length)), n.length > 1) {
        let [o, a, s] = this.parsePosition(n[0]), [l, u, c] = this.parsePosition(n[1], o);
        const f = [s, c];
        [o, a, s] = this.parsePosition(n[1]), [l, u, c] = this.parsePosition(n[0], o), o === null && l !== null && ([o, a, s] = this.parsePosition(n[1], l));
        const h = [s, c];
        return h[1] - h[0] > f[1] - f[0] ? h : f;
      }
      if (n[0] in this.chromInfo.chrPositions) {
        const o = +this.chromInfo.chrPositions[n[0]].pos;
        i = [o, o + +this.chromInfo.chromLengths[n[0]]];
      } else {
        const [o, a, s] = this.parsePosition(n[0]);
        i = [s - 8e6, s + 8e6];
      }
      return i[0] > i[1] ? [i[1], i[0]] : i;
    }
  }, {
    key: "parseOffset",
    value: function(r) {
      const n = r.split(":");
      if (n.length === 0)
        return [[0, 0], [0, 0]];
      if (n.length === 1) {
        const a = n[0].split(",");
        return [[+a[0], +a[1]], [0, 0]];
      }
      const i = n[0].split(","), o = n[1].split(",");
      return [[+i[0], +i[1]], [+o[0], +o[1]]];
    }
  }, {
    key: "searchPosition",
    value: function(r) {
      let n = null, i = null;
      r = r.trim();
      const o = /\[offset (.+?)\]/.exec(r);
      let a = [[0, 0], [0, 0]];
      o && (r = r.replace(o[0], ""), a = this.parseOffset(o[1]));
      const s = r.split(" & ");
      return s.length > 1 ? (n = this.getSearchRange(s[0].split(" ")[0]), i = this.getSearchRange(s[1].split(" ")[0])) : n = this.getSearchRange(s[0]), n !== null && i !== null && ([n, i] = this.matchRangesToLarger(n, i)), n && (n[0] += a[0][0], n[1] += a[0][1]), i && (i[0] += a[1][0], i[1] += a[1][1]), [n, i];
    }
  }]), e13;
}();
function nUe(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function iUe(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, aUe(n.key), n);
  }
}
function oUe(e13, t, r) {
  return t && iUe(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function aUe(e13) {
  var t = sUe(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function sUe(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
function Cb() {
  return typeof Reflect < "u" && Reflect.get ? Cb = Reflect.get.bind() : Cb = function(t, r, n) {
    var i = lUe(t, r);
    if (i) {
      var o = Object.getOwnPropertyDescriptor(i, r);
      return o.get ? o.get.call(arguments.length < 3 ? t : n) : o.value;
    }
  }, Cb.apply(this, arguments);
}
function lUe(e13, t) {
  for (; !Object.prototype.hasOwnProperty.call(e13, t) && (e13 = Md(e13), e13 !== null); )
    ;
  return e13;
}
function cUe(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  e13.prototype = Object.create(t && t.prototype, { constructor: { value: e13, writable: true, configurable: true } }), Object.defineProperty(e13, "prototype", { writable: false }), t && ax(e13, t);
}
function ax(e13, t) {
  return ax = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, i) {
    return n.__proto__ = i, n;
  }, ax(e13, t);
}
function uUe(e13) {
  var t = dUe();
  return function() {
    var n = Md(e13), i;
    if (t) {
      var o = Md(this).constructor;
      i = Reflect.construct(n, arguments, o);
    } else
      i = n.apply(this, arguments);
    return hUe(this, i);
  };
}
function hUe(e13, t) {
  if (t && (typeof t == "object" || typeof t == "function"))
    return t;
  if (t !== void 0)
    throw new TypeError("Derived constructors may only return object or undefined");
  return fUe(e13);
}
function fUe(e13) {
  if (e13 === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e13;
}
function dUe() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return false;
  if (typeof Proxy == "function")
    return true;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), true;
  } catch {
    return false;
  }
}
function Md(e13) {
  return Md = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(r) {
    return r.__proto__ || Object.getPrototypeOf(r);
  }, Md(e13);
}
var Lq = function(e13) {
  cUe(r, e13);
  var t = uUe(r);
  function r(n, i) {
    var o;
    nUe(this, r), o = t.call(this, n, i);
    const {
      dataConfig: a,
      animate: s,
      pubSub: l
    } = n;
    o.searchField = null, o.chromInfo = null, o.animate = s;
    const u = a.server, c = a.tilesetUid, f = `${u}/chrom-sizes/?id=${c}`;
    return Ls(f, (h) => {
      o.chromInfo = h, o.searchField = new Nd(o.chromInfo), o.draw(), o.texts = [];
      for (let d = 0; d < o.chromInfo.cumPositions.length; d++) {
        const p = [];
        for (let m = 0; m < o.chromInfo.cumPositions.length; m++) {
          const g = `${o.chromInfo.cumPositions[d].chr}/${o.chromInfo.cumPositions[m].chr}`, v = new Ge.PIXI.Text(g, {
            fontSize: "14px",
            fontFamily: "Arial",
            fill: "red"
          });
          v.anchor.x = 0.5, v.anchor.y = 0.5, v.visible = false, v.hashValue = Math.random(), p.push(v), o.pMain.addChild(v);
        }
        o.texts.push(p);
      }
      o.draw(), o.animate();
    }, l), o;
  }
  return oUe(r, [{
    key: "draw",
    value: function() {
      const i = [];
      if (!this.texts || !this.searchField)
        return;
      const o = pn(this._xScale.domain()[0], this.chromInfo), a = pn(this._xScale.domain()[1], this.chromInfo), s = pn(this._yScale.domain()[0], this.chromInfo), l = pn(this._yScale.domain()[1], this.chromInfo);
      for (let u = 0; u < this.texts.length; u++)
        for (let c = 0; c < this.texts.length; c++)
          this.texts[u][c].visible = false;
      for (let u = o[3]; u <= a[3]; u++)
        for (let c = s[3]; c <= l[3]; c++) {
          const f = this.chromInfo.cumPositions[u], h = this.chromInfo.cumPositions[c], d = f.pos + this.chromInfo.chromLengths[f.chr] / 2, p = h.pos + this.chromInfo.chromLengths[h.chr] / 2, m = this._xScale(d), g = this._yScale(p), v = this.texts[u][c];
          v.x = m, v.y = g, v.updateTransform();
          const b = v.getBounds(), y = b.width / 2, _ = b.height / 2;
          m + y > this.dimensions[0] ? v.x -= m + y - this.dimensions[0] : m - y < 0 && (v.x -= m - y), g + _ > this.dimensions[1] ? v.y -= g + _ - this.dimensions[1] : g - _ < 0 && (v.y -= g - _), v.visible = true, i.push({
            importance: this.texts[u][c].hashValue,
            text: this.texts[u][c],
            caption: null
          });
        }
      this.hideOverlaps(i);
    }
  }, {
    key: "hideOverlaps",
    value: function(i) {
      let o = [];
      o = i.map((a) => {
        const s = a.text;
        s.updateTransform();
        const l = s.getBounds();
        return [l.x, l.y, l.x + l.width, l.y + l.height];
      }), uy(o, (a, s) => {
        i[a].importance > i[s].importance ? i[s].text.visible = 0 : i[a].text.visible = 0;
      });
    }
  }, {
    key: "setPosition",
    value: function(i) {
      Cb(Md(r.prototype), "setPosition", this).call(this, i), this.pMain.position.y = this.position[1], this.pMain.position.x = this.position[0];
    }
  }, {
    key: "zoomed",
    value: function(i, o) {
      this.xScale(i), this.yScale(o), this.draw();
    }
  }]), r;
}(Ai);
function pUe(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function mUe(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, vUe(n.key), n);
  }
}
function gUe(e13, t, r) {
  return t && mUe(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function vUe(e13) {
  var t = yUe(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function yUe(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
function $f() {
  return typeof Reflect < "u" && Reflect.get ? $f = Reflect.get.bind() : $f = function(t, r, n) {
    var i = _Ue(t, r);
    if (i) {
      var o = Object.getOwnPropertyDescriptor(i, r);
      return o.get ? o.get.call(arguments.length < 3 ? t : n) : o.value;
    }
  }, $f.apply(this, arguments);
}
function _Ue(e13, t) {
  for (; !Object.prototype.hasOwnProperty.call(e13, t) && (e13 = Hl(e13), e13 !== null); )
    ;
  return e13;
}
function bUe(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  e13.prototype = Object.create(t && t.prototype, { constructor: { value: e13, writable: true, configurable: true } }), Object.defineProperty(e13, "prototype", { writable: false }), t && sx(e13, t);
}
function sx(e13, t) {
  return sx = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, i) {
    return n.__proto__ = i, n;
  }, sx(e13, t);
}
function TUe(e13) {
  var t = wUe();
  return function() {
    var n = Hl(e13), i;
    if (t) {
      var o = Hl(this).constructor;
      i = Reflect.construct(n, arguments, o);
    } else
      i = n.apply(this, arguments);
    return EUe(this, i);
  };
}
function EUe(e13, t) {
  if (t && (typeof t == "object" || typeof t == "function"))
    return t;
  if (t !== void 0)
    throw new TypeError("Derived constructors may only return object or undefined");
  return SUe(e13);
}
function SUe(e13) {
  if (e13 === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e13;
}
function wUe() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return false;
  if (typeof Proxy == "function")
    return true;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), true;
  } catch {
    return false;
  }
}
function Hl(e13) {
  return Hl = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(r) {
    return r.__proto__ || Object.getPrototypeOf(r);
  }, Hl(e13);
}
var Nm = function(e13) {
  bUe(r, e13);
  var t = TUe(r);
  function r(n, i) {
    var o;
    pUe(this, r), o = t.call(this, n, i);
    const {
      chromInfoPath: a,
      dataConfig: s,
      animate: l,
      pubSub: u,
      orientation: c = "2d",
      isOverlay: f = false
    } = n;
    o.searchField = null, o.chromInfo = null, o.animate = l, o.orientation = c, o.isOverlay = f;
    let h = a;
    return h || (h = `${s.server}/chrom-sizes/?id=${s.tilesetUid}`), Ls(h, (d) => {
      o.chromInfo = d, o.searchField = new Nd(o.chromInfo), o.texts = [], o.lineGraphics = new Ge.PIXI.Graphics(), o.lineGraphics1dH = new Ge.PIXI.Graphics(), o.lineGraphics1dV = new Ge.PIXI.Graphics(), o.lineGraphics2d = new Ge.PIXI.Graphics(), o.mask1dH = new Ge.PIXI.Graphics(), o.mask1dV = new Ge.PIXI.Graphics(), o.mask2d = new Ge.PIXI.Graphics(), o.lineGraphics.addChild(o.lineGraphics1dH), o.lineGraphics1dH.addChild(o.mask1dH), o.lineGraphics.addChild(o.lineGraphics1dV), o.lineGraphics1dV.addChild(o.mask1dV), o.lineGraphics.addChild(o.lineGraphics2d), o.lineGraphics2d.addChild(o.mask2d), o.pMain.addChild(o.lineGraphics), o.draw(), o.animate();
    }, u), o;
  }
  return gUe(r, [{
    key: "drawLines",
    value: function(i = this.orientation, o = 0, a = 0) {
      let s = this.lineGraphics;
      this.isOverlay && i === "1d-horizontal" && (s = this.lineGraphics1dH), this.isOverlay && i === "1d-vertical" && (s = this.lineGraphics1dV), this.isOverlay && i === "2d" && (s = this.lineGraphics2d);
      const l = ct(this.options.lineStrokeColor ? this.options.lineStrokeColor : "blue"), u = this.options.lineStrokeWidth ? this.options.lineStrokeWidth : 1;
      s.lineStyle(u, l, 1), (i === "2d" || i === "1d-horizontal") && (s.moveTo(this._xScale(0) + o, a), s.lineTo(this._xScale(0) + o, this.dimensions[1] + a)), (i === "2d" || i === "1d-vertical") && (s.moveTo(o, this._yScale(0) + a), s.lineTo(this.dimensions[0] + o, this._yScale(0) + a));
      for (let c = 0; c < this.chromInfo.cumPositions.length; c++) {
        const f = this.chromInfo.cumPositions[c], h = f.pos + +this.chromInfo.chromLengths[f.chr] + 1;
        (i === "2d" || i === "1d-horizontal") && (s.moveTo(this._xScale(h) + o, a), s.lineTo(this._xScale(h) + o, this.dimensions[1] + a)), (i === "2d" || i === "1d-vertical") && (s.moveTo(o, this._yScale(h) + a), s.lineTo(this.dimensions[0] + o, this._yScale(h) + a));
      }
    }
  }, {
    key: "draw",
    value: function() {
      if (this.texts && this.searchField)
        if (this.lineGraphics.clear(), this.isOverlay) {
          this.lineGraphics1dH.clear(), this.lineGraphics1dV.clear(), this.lineGraphics2d.clear(), this.mask1dH.clear(), this.mask1dV.clear(), this.mask2d.clear(), this.mask1dH.beginFill(16777215), this.mask1dV.beginFill(16777215), this.mask2d.beginFill(16711680);
          for (let i = 0; i < this.options.orientationsAndPositions.length; i++) {
            const o = this.options.orientationsAndPositions[i].orientation, {
              left: a,
              top: s,
              width: l,
              height: u
            } = this.options.orientationsAndPositions[i].position;
            o === "1d-horizontal" && this.mask1dH.drawRect(a, s, l, u), o === "1d-vertical" && this.mask1dV.drawRect(a, s, l, u), o === "2d" && this.mask2d.drawRect(a, s, l, u), this.drawLines(o, a, s);
          }
          this.lineGraphics1dH.mask = this.mask1dH, this.lineGraphics1dV.mask = this.mask1dV, this.lineGraphics2d.mask = this.mask2d;
        } else
          this.drawLines();
    }
  }, {
    key: "setPosition",
    value: function(i) {
      $f(Hl(r.prototype), "setPosition", this).call(this, i), [this.pMain.position.x, this.pMain.position.y] = this.position;
    }
  }, {
    key: "zoomed",
    value: function(i, o) {
      this.xScale(i), this.yScale(o), this.draw();
    }
  }, {
    key: "createSvgLine",
    value: function(i, o, a, s, l, u) {
      const c = document.createElement("line");
      return c.setAttribute("x1", i), c.setAttribute("x2", o), c.setAttribute("y1", a), c.setAttribute("y2", s), c.setAttribute("stroke", l), c.setAttribute("stroke-width", u), c;
    }
  }, {
    key: "drawLinesSvg",
    value: function(i, o, a, s, l = 0, u = 0) {
      const c = this.options.lineStrokeColor ? this.options.lineStrokeColor : "blue", f = this.options.lineStrokeWidth;
      if (o === "2d" || o === "1d-vertical") {
        const h = this._yScale(0);
        h > 0 && h < u + s && i.appendChild(this.createSvgLine(l, a + l, h + u, h + u, c, f));
      }
      if (o === "2d" || o === "1d-horizontal") {
        const h = this._xScale(0);
        h > 0 && h < l + a && i.appendChild(this.createSvgLine(h + l, h + l, u, s + u, c, f));
      }
      for (let h = 0; h < this.chromInfo.cumPositions.length; h++) {
        const d = this.chromInfo.cumPositions[h], p = d.pos + +this.chromInfo.chromLengths[d.chr] + 1;
        if (o === "2d" || o === "1d-vertical") {
          const m = this._yScale(p);
          m > 0 && m < u + s && i.appendChild(this.createSvgLine(l, a + l, m + u, m + u, c, f));
        }
        if (o === "2d" || o === "1d-horizontal") {
          const m = this._xScale(p);
          m > 0 && m < l + a && i.appendChild(this.createSvgLine(m + l, m + l, u, s + u, c, f));
        }
      }
    }
  }, {
    key: "exportSVG",
    value: function() {
      let i = null, o = null;
      $f(Hl(r.prototype), "exportSVG", this) ? [o, i] = $f(Hl(r.prototype), "exportSVG", this).call(this) : (o = document.createElement("g"), i = o);
      const a = document.createElement("g");
      if (i.appendChild(a), o.setAttribute("id", "ChromosomeGrid"), a.setAttribute("transform", `translate(${this.position[0]},${this.position[1]})`), !this.chromInfo)
        return [o, i];
      if (this.isOverlay)
        for (let s = 0; s < this.options.orientationsAndPositions.length; s++) {
          const l = this.options.orientationsAndPositions[s].orientation, {
            left: u,
            top: c,
            width: f,
            height: h
          } = this.options.orientationsAndPositions[s].position;
          this.drawLinesSvg(a, l, f, h, u, c);
        }
      else
        this.drawLinesSvg(a, this.orientation, ...this.dimensions);
      return [o, i];
    }
  }]), r;
}(Ai);
function AUe(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function OUe(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, PUe(n.key), n);
  }
}
function IUe(e13, t, r) {
  return t && OUe(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function PUe(e13) {
  var t = CUe(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function CUe(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
function Og() {
  return typeof Reflect < "u" && Reflect.get ? Og = Reflect.get.bind() : Og = function(t, r, n) {
    var i = xUe(t, r);
    if (i) {
      var o = Object.getOwnPropertyDescriptor(i, r);
      return o.get ? o.get.call(arguments.length < 3 ? t : n) : o.value;
    }
  }, Og.apply(this, arguments);
}
function xUe(e13, t) {
  for (; !Object.prototype.hasOwnProperty.call(e13, t) && (e13 = Nu(e13), e13 !== null); )
    ;
  return e13;
}
function kUe(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  e13.prototype = Object.create(t && t.prototype, { constructor: { value: e13, writable: true, configurable: true } }), Object.defineProperty(e13, "prototype", { writable: false }), t && lx(e13, t);
}
function lx(e13, t) {
  return lx = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, i) {
    return n.__proto__ = i, n;
  }, lx(e13, t);
}
function DUe(e13) {
  var t = MUe();
  return function() {
    var n = Nu(e13), i;
    if (t) {
      var o = Nu(this).constructor;
      i = Reflect.construct(n, arguments, o);
    } else
      i = n.apply(this, arguments);
    return RUe(this, i);
  };
}
function RUe(e13, t) {
  if (t && (typeof t == "object" || typeof t == "function"))
    return t;
  if (t !== void 0)
    throw new TypeError("Derived constructors may only return object or undefined");
  return NUe(e13);
}
function NUe(e13) {
  if (e13 === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e13;
}
function MUe() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return false;
  if (typeof Proxy == "function")
    return true;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), true;
  } catch {
    return false;
  }
}
function Nu(e13) {
  return Nu = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(r) {
    return r.__proto__ || Object.getPrototypeOf(r);
  }, Nu(e13);
}
var LUe = 300;
var Bq = function(e13) {
  kUe(r, e13);
  var t = DUe(r);
  function r(n, i) {
    var o;
    AUe(this, r), o = t.call(this, n, i);
    const {
      chromInfoPath: a,
      pubSub: s
    } = n;
    return o.pubSub = s, o.rects = {}, Ls(a, (l) => {
      o.chromInfo = l, o.draw();
    }, o.pubSub), o;
  }
  return IUe(r, [{
    key: "draw",
    value: function() {
      if (!this.chromInfo)
        return;
      const i = this.options.minRectWidth ? this.options.minRectWidth : 10, o = this.options.minRectWidth ? this.options.minRectHeight : 10;
      Og(Nu(r.prototype), "draw", this).call(this);
      const a = this.pMain;
      a.clear();
      const s = performance.now();
      this.options.regions.forEach((l) => {
        const u = l.slice(0, 6).join("-");
        this.rects[u] || (this.rects[u] = {
          graphics: new Ge.PIXI.Graphics()
        }, a.addChild(this.rects[u].graphics)), this.rects[u].timeStamp = s;
        const c = dn(l[6]);
        let f = dn(l[7]);
        f || (f = c);
        const h = Ge.PIXI.utils.rgb2hex([c.r / 255, c.g / 255, c.b / 255]), d = Ge.PIXI.utils.rgb2hex([f.r / 255, f.g / 255, f.b / 255]);
        a.lineStyle(1, d, f.opacity), a.beginFill(h, c.opacity);
        let p = this._xScale(this.chromInfo.chrPositions[l[0]].pos + +l[1]);
        const m = this._xScale(this.chromInfo.chrPositions[l[0]].pos + +l[2]);
        let g = this._yScale(this.chromInfo.chrPositions[l[3]].pos + +l[4]);
        const v = this._yScale(this.chromInfo.chrPositions[l[3]].pos + +l[5]);
        let b = m - p, y = v - g;
        const _ = typeof l[8] < "u" ? l[8] : i, T = typeof l[9] < "u" ? l[9] : o;
        b < _ && (p = (p + m) / 2 - _ / 2, b = _), y < T && (g = (g + v) / 2 - T / 2, y = T), a.drawRect(p, g, b, y), this.rects[u].graphics.clear(), this.rects[u].graphics.interactive = true, this.rects[u].graphics.buttonMode = true, this.rects[u].graphics.hitArea = new Ge.PIXI.Rectangle(p, g, b, y), this.rects[u].graphics.mousedown = () => {
          this.rects[u].mouseDownTime = performance.now();
        }, this.rects[u].graphics.mouseup = (E) => {
          performance.now() - this.rects[u].mouseDownTime < LUe && this.pubSub.publish("app.click", {
            type: "annotation",
            event: E,
            payload: l
          });
        };
      });
    }
  }, {
    key: "setPosition",
    value: function(i) {
      Og(Nu(r.prototype), "setPosition", this).call(this, i), this.pMain.position.y = this.position[1], this.pMain.position.x = this.position[0];
    }
  }, {
    key: "zoomed",
    value: function(i, o) {
      this.xScale(i), this.yScale(o), this.draw();
    }
  }]), r;
}(Ai);
function BUe(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function FUe(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, HUe(n.key), n);
  }
}
function $Ue(e13, t, r) {
  return t && FUe(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function HUe(e13) {
  var t = UUe(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function UUe(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
function qc() {
  return typeof Reflect < "u" && Reflect.get ? qc = Reflect.get.bind() : qc = function(t, r, n) {
    var i = jUe(t, r);
    if (i) {
      var o = Object.getOwnPropertyDescriptor(i, r);
      return o.get ? o.get.call(arguments.length < 3 ? t : n) : o.value;
    }
  }, qc.apply(this, arguments);
}
function jUe(e13, t) {
  for (; !Object.prototype.hasOwnProperty.call(e13, t) && (e13 = Ss(e13), e13 !== null); )
    ;
  return e13;
}
function GUe(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  e13.prototype = Object.create(t && t.prototype, { constructor: { value: e13, writable: true, configurable: true } }), Object.defineProperty(e13, "prototype", { writable: false }), t && cx(e13, t);
}
function cx(e13, t) {
  return cx = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, i) {
    return n.__proto__ = i, n;
  }, cx(e13, t);
}
function zUe(e13) {
  var t = XUe();
  return function() {
    var n = Ss(e13), i;
    if (t) {
      var o = Ss(this).constructor;
      i = Reflect.construct(n, arguments, o);
    } else
      i = n.apply(this, arguments);
    return VUe(this, i);
  };
}
function VUe(e13, t) {
  if (t && (typeof t == "object" || typeof t == "function"))
    return t;
  if (t !== void 0)
    throw new TypeError("Derived constructors may only return object or undefined");
  return Fq(e13);
}
function Fq(e13) {
  if (e13 === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e13;
}
function XUe() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return false;
  if (typeof Proxy == "function")
    return true;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), true;
  } catch {
    return false;
  }
}
function Ss(e13) {
  return Ss = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(r) {
    return r.__proto__ || Object.getPrototypeOf(r);
  }, Ss(e13);
}
var WUe = 200;
var YUe = 6;
var qUe = 2;
var NU = 7829367;
var $q = function(e13) {
  GUe(r, e13);
  var t = zUe(r);
  function r(n, i) {
    var o;
    BUe(this, r), o = t.call(this, n, i);
    const {
      dataConfig: a,
      animate: s,
      chromInfoPath: l,
      isShowGlobalMousePosition: u
    } = n;
    o.searchField = null, o.chromInfo = null, o.dataConfig = a, o.pTicks = new Ge.PIXI.Graphics(), o.pMain.addChild(o.pTicks), o.gTicks = {}, o.tickTexts = {}, o.options = i, o.isShowGlobalMousePosition = u, o.textFontSize = 12, o.textFontFamily = "Arial", o.textFontColor = "#808080", o.textStrokeColor = o.getTheme() === wr ? "#000000" : "#ffffff", o.pixiTextConfig = {
      fontSize: +o.options.fontSize ? `${+o.options.fontSize}px` : `${o.textFontSize}px`,
      fontFamily: o.textFontFamily,
      fill: o.options.color || o.textFontColor,
      lineJoin: "round",
      stroke: o.options.stroke || o.textStrokeColor,
      strokeThickness: 2
    }, o.stroke = ct(o.pixiTextConfig.stroke), o.tickWidth = WUe, o.tickHeight = YUe, o.tickTextSeparation = qUe, o.tickColor = o.options.tickColor ? ct(o.options.tickColor) : NU, o.animate = s, o.pubSubs = [], o.options.showMousePosition && !o.hideMousePosition && (o.hideMousePosition = gu(Fq(o), o.is2d, o.isShowGlobalMousePosition()));
    let c = l;
    return c || (c = `${a.server}/chrom-sizes/?id=${a.tilesetUid}`), Ls(c, (f) => {
      o.chromInfo = f, o.searchField = new Nd(o.chromInfo), o.rerender(o.options, true), o.draw(), o.animate();
    }, o.pubSub), o;
  }
  return $Ue(r, [{
    key: "initBoundsTicks",
    value: function() {
      this.pTicks && (this.pMain.removeChild(this.pTicks), this.pTicks = null), this.gBoundTicks || (this.gBoundTicks = new Ge.PIXI.Graphics(), this.leftBoundTick = new Ge.PIXI.Text("", this.pixiTextConfig), this.rightBoundTick = new Ge.PIXI.Text("", this.pixiTextConfig), this.gBoundTicks.addChild(this.leftBoundTick), this.gBoundTicks.addChild(this.rightBoundTick), this.pMain.addChild(this.gBoundTicks)), this.texts = [];
    }
  }, {
    key: "initChromLabels",
    value: function() {
      if (this.chromInfo) {
        this.gBoundTicks && (this.pMain.removeChild(this.gBoundTicks), this.gBoundTicks = null), this.pTicks || (this.pTicks = new Ge.PIXI.Graphics(), this.pMain.addChild(this.pTicks)), this.texts = [], this.pTicks.removeChildren();
        for (let i = 0; i < this.chromInfo.cumPositions.length; i++) {
          const o = this.chromInfo.cumPositions[i].chr;
          this.gTicks[o] = new Ge.PIXI.Graphics(), this.tickTexts[o] || (this.tickTexts[o] = []);
          const a = new Ge.PIXI.Text(o, this.pixiTextConfig);
          a.hashValue = Math.random(), this.pTicks.addChild(a), this.pTicks.addChild(this.gTicks[o]), this.texts.push(a);
        }
      }
    }
  }, {
    key: "rerender",
    value: function(i, o) {
      const a = JSON.stringify(i);
      !o && a === this.prevOptions || (this.prevOptions = a, this.options = i, this.tickTexts = {}, this.pixiTextConfig.fontSize = +this.options.fontSize ? `${+this.options.fontSize}px` : this.pixiTextConfig.fontSize, this.pixiTextConfig.fill = this.options.color || this.pixiTextConfig.fill, this.pixiTextConfig.stroke = this.options.stroke || this.pixiTextConfig.stroke, this.stroke = ct(this.pixiTextConfig.stroke), this.tickColor = this.options.tickColor ? ct(this.options.tickColor) : NU, this.options.tickPositions === "ends" ? this.initBoundsTicks() : this.initChromLabels(), qc(Ss(r.prototype), "rerender", this).call(this, i, o), this.options.showMousePosition && !this.hideMousePosition && (this.hideMousePosition = gu(this, this.is2d, this.isShowGlobalMousePosition())), !this.options.showMousePosition && this.hideMousePosition && (this.hideMousePosition(), this.hideMousePosition = void 0));
    }
  }, {
    key: "formatTick",
    value: function(i) {
      const o = this._xScale.domain(), a = o[1] - o[0], s = Qd(i, a), l = ro(","), u = Xu(`,.${s}`, a);
      let c = l;
      return this.options.tickFormat === "si" ? c = u : this.options.tickFormat === "plain" ? c = l : this.options.tickPositions === "ends" && (c = u), c(i);
    }
  }, {
    key: "drawBoundsTicks",
    value: function(i, o) {
      const a = this.gBoundTicks;
      a.clear(), a.lineStyle(1, 0);
      const s = this.options.reverseOrientation ? 0 : this.dimensions[1], l = this.options.reverseOrientation ? this.tickHeight : this.dimensions[1] - this.tickHeight;
      a.moveTo(1, s), a.lineTo(1, l), a.moveTo(this.dimensions[0] - 1, s), a.lineTo(this.dimensions[0] - 1, l), this.leftBoundTick.x = 0, this.leftBoundTick.y = this.options.reverseOrientation ? l + this.tickTextSeparation : l - this.tickTextSeparation, this.leftBoundTick.text = `${i[0]}: ${this.formatTick(i[1])}`, this.leftBoundTick.anchor.y = this.options.reverseOrientation ? 0 : 1, this.rightBoundTick.x = this.dimensions[0], this.rightBoundTick.text = `${o[0]}: ${this.formatTick(o[1])}`, this.rightBoundTick.y = this.options.reverseOrientation ? l + this.tickTextSeparation : l - this.tickTextSeparation, this.rightBoundTick.anchor.y = this.options.reverseOrientation ? 0 : 1, this.rightBoundTick.anchor.x = 1, this.flipText && (this.leftBoundTick.scale.x = -1, this.leftBoundTick.anchor.x = 1, this.rightBoundTick.scale.x = -1, this.rightBoundTick.anchor.x = 0), this.leftBoundTick.tickLine = [1, this.dimensions[1], 1, this.dimensions[1] - this.tickHeight], this.rightBoundTick.tickLine = [this.dimensions[0] - 1, this.dimensions[1], this.dimensions[0] - 1, this.dimensions[1] - this.tickHeight], this.tickTexts = {}, this.tickTexts.all = [this.leftBoundTick, this.rightBoundTick];
    }
  }, {
    key: "drawTicks",
    value: function(i) {
      const o = this.gTicks[i.chr];
      o.visible = true, o.clear();
      const a = +this.chromInfo.chromLengths[i.chr], s = Math.max(this._xScale(i.pos), 0), l = Math.min(this._xScale(i.pos + a), this.dimensions[0]), u = (l - s) / this.tickWidth, f = It().domain([Math.max(1, this._xScale.invert(0) - i.pos), Math.min(a, this._xScale.invert(this.dimensions[0]) - i.pos)]).range(s, l).ticks(u).filter((b) => Number.isInteger(b)), h = this.tickTexts[i.chr], d = this.options.fontIsLeftAligned ? (+this.options.fontSize || this.textFontSize) / 2 : this.tickHeight, p = this.flipText ? -1 : 1, m = this.options.fontIsLeftAligned ? p * 4 : 0;
      let g = this.options.fontIsLeftAligned ? 0 : d + this.tickTextSeparation;
      for (this.options.reverseOrientation && (g = this.dimensions[1] - g); h.length < f.length; ) {
        const b = new Ge.PIXI.Text("", this.pixiTextConfig);
        h.push(b), this.gTicks[i.chr].addChild(b);
      }
      for (; h.length > f.length; ) {
        const b = h.pop();
        this.gTicks[i.chr].removeChild(b);
      }
      let v = 0;
      for (; v < f.length; ) {
        h[v].visible = true, h[v].anchor.x = this.options.fontIsLeftAligned ? 0 : 0.5, h[v].anchor.y = this.options.reverseOrientation ? 0 : 1, this.flipText && (h[v].scale.x = -1), h[v].x = this._xScale(i.pos + f[v]) + m, h[v].y = this.dimensions[1] - g, h[v].text = f[v] === 0 ? `${i.chr}: 1` : `${i.chr}: ${this.formatTick(f[v])}`;
        const b = this._xScale(i.pos + f[v]);
        h[v].tickLine = [b - 1, this.dimensions[1], b - 1, this.dimensions[1] - d - 1];
        const y = this.options.reverseOrientation ? 0 : this.dimensions[1], _ = this.options.reverseOrientation ? d : this.dimensions[1] - d;
        o.lineStyle(1, this.stroke), o.moveTo(b - 1, y), o.lineTo(b - 1, _ - 1), this.options.fontIsLeftAligned ? (o.lineTo(b + 2 * p + 1 * p, _ - 1), o.lineTo(b + 2 * p + 1 * p, _ + 1), o.lineTo(b + 1, _ + 1)) : o.lineTo(b + 1, _ - 1), o.lineTo(b + 1, y), o.lineStyle(1, this.tickColor), o.moveTo(b, y), o.lineTo(b, _), this.options.fontIsLeftAligned && o.lineTo(b + 2 * p, _), v += 1;
      }
      for (; v < h.length; )
        h[v].visible = false, v += 1;
      return f.length;
    }
  }, {
    key: "draw",
    value: function() {
      if (this.allTexts = [], !this.texts || !this.searchField)
        return;
      const i = pn(this._xScale.domain()[0], this.chromInfo), o = pn(this._xScale.domain()[1], this.chromInfo);
      if (!i || !o) {
        console.warn("Empty chromInfo:", this.dataConfig, this.chromInfo);
        return;
      }
      if (this.options.tickPositions === "ends") {
        if (!this.gBoundTicks)
          return;
        this.gBoundTicks.visible = true, this.drawBoundsTicks(i, o);
        return;
      }
      if (!this.pTicks)
        return;
      for (let s = 0; s < this.texts.length; s++)
        this.texts[s].visible = false, this.gTicks[this.chromInfo.cumPositions[s].chr].visible = false;
      let a = this.options.fontIsLeftAligned ? 0 : this.tickHeight + this.tickTextSeparation;
      this.options.reverseOrientation && (a = this.dimensions[1] - a), Object.keys(this.chromInfo.chrPositions).forEach((s) => {
        if (this.tickTexts[s])
          for (let l = 0; l < this.tickTexts[s].length; l++)
            this.tickTexts[s][l].visible = false;
      });
      for (let s = i[3]; s <= o[3]; s++) {
        const l = this.chromInfo.cumPositions[s], u = l.pos + this.chromInfo.chromLengths[l.chr] / 2, c = this._xScale(u), f = this.texts[s];
        f.anchor.x = this.options.fontIsLeftAligned ? 0 : 0.5, f.anchor.y = this.options.reverseOrientation ? 0 : 1, f.x = c, f.y = this.dimensions[1] - a, f.updateTransform(), this.flipText && (f.scale.x = -1);
        const h = this.drawTicks(l);
        f.visible = h <= 0, this.allTexts.push({
          importance: f.hashValue,
          text: f,
          caption: null
        });
      }
      this.hideOverlaps(this.allTexts);
    }
  }, {
    key: "hideOverlaps",
    value: function(i) {
      let o = [];
      o = i.map(({
        text: a
      }, s) => {
        a.updateTransform();
        const l = a.getBounds();
        return [l.x, l.y, l.x + l.width, l.y + l.height];
      }), uy(o, (a, s) => {
        i[a].importance > i[s].importance ? i[s].text.visible = false : i[a].text.visible = false;
      });
    }
  }, {
    key: "setPosition",
    value: function(i) {
      qc(Ss(r.prototype), "setPosition", this).call(this, i), [this.pMain.position.x, this.pMain.position.y] = this.position;
    }
  }, {
    key: "zoomed",
    value: function(i, o) {
      this.xScale(i), this.yScale(o), this.draw();
    }
  }, {
    key: "exportSVG",
    value: function() {
      let i = null, o = null;
      qc(Ss(r.prototype), "exportSVG", this) ? [o, i] = qc(Ss(r.prototype), "exportSVG", this).call(this) : (o = document.createElement("g"), i = o), o.setAttribute("class", "chromosome-labels");
      const a = document.createElement("g");
      return i.appendChild(a), a.setAttribute("transform", `translate(${this.position[0]},${this.position[1]})`), this.allTexts.filter((s) => s.text.visible).forEach((s) => {
        const l = AP(s.text);
        a.appendChild(l);
      }), Object.values(this.tickTexts).forEach((s) => {
        s.filter((l) => l.visible).forEach((l) => {
          let u = AP(l);
          a.appendChild(u), u = tV(l.x, this.options.reverseOrientation ? 0 : this.dimensions[1], l.x, this.options.reverseOrientation ? this.tickHeight : this.dimensions[1] - this.tickHeight, 1, this.tickColor);
          const c = document.createElement("line");
          c.setAttribute("x1", l.tickLine[0]), c.setAttribute("y1", l.tickLine[1]), c.setAttribute("x2", l.tickLine[2]), c.setAttribute("y2", l.tickLine[3]), c.setAttribute("style", "stroke: grey"), a.appendChild(u), a.appendChild(c);
        });
      }), [o, i];
    }
  }]), r;
}(Ai);
function KUe(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function ZUe(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, JUe(n.key), n);
  }
}
function QUe(e13, t, r) {
  return t && ZUe(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function JUe(e13) {
  var t = eje(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function eje(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
function Ol() {
  return typeof Reflect < "u" && Reflect.get ? Ol = Reflect.get.bind() : Ol = function(t, r, n) {
    var i = tje(t, r);
    if (i) {
      var o = Object.getOwnPropertyDescriptor(i, r);
      return o.get ? o.get.call(arguments.length < 3 ? t : n) : o.value;
    }
  }, Ol.apply(this, arguments);
}
function tje(e13, t) {
  for (; !Object.prototype.hasOwnProperty.call(e13, t) && (e13 = Aa(e13), e13 !== null); )
    ;
  return e13;
}
function rje(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  e13.prototype = Object.create(t && t.prototype, { constructor: { value: e13, writable: true, configurable: true } }), Object.defineProperty(e13, "prototype", { writable: false }), t && ux(e13, t);
}
function ux(e13, t) {
  return ux = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, i) {
    return n.__proto__ = i, n;
  }, ux(e13, t);
}
function nje(e13) {
  var t = aje();
  return function() {
    var n = Aa(e13), i;
    if (t) {
      var o = Aa(this).constructor;
      i = Reflect.construct(n, arguments, o);
    } else
      i = n.apply(this, arguments);
    return ije(this, i);
  };
}
function ije(e13, t) {
  if (t && (typeof t == "object" || typeof t == "function"))
    return t;
  if (t !== void 0)
    throw new TypeError("Derived constructors may only return object or undefined");
  return oje(e13);
}
function oje(e13) {
  if (e13 === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e13;
}
function aje() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return false;
  if (typeof Proxy == "function")
    return true;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), true;
  } catch {
    return false;
  }
}
function Aa(e13) {
  return Aa = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(r) {
    return r.__proto__ || Object.getPrototypeOf(r);
  }, Aa(e13);
}
var Hq = function(e13) {
  rje(r, e13);
  var t = nje(r);
  function r(n, i) {
    var o;
    KUe(this, r), o = t.call(this, n, i);
    const {
      animate: a
    } = n;
    return o.pMain = o.pMobile, o.colorScale = cd, o.continuousScaling = false, i && i.colorRange && (o.colorScale = Wl(i.colorRange)), o.animate = a, o.options = i, o.pubSubs = [], o;
  }
  return QUe(r, [{
    key: "rerender",
    value: function(i, o) {
      Ol(Aa(r.prototype), "rerender", this).call(this, i, o), this.zoomed(this.xScale(), this.yScale(), this.pMain.scale.x, this.pMain.position.x, this.pMain.position.y);
    }
  }, {
    key: "calculateZoomLevel",
    value: function() {
      let i = null;
      if (this.tilesetInfo.resolutions) {
        const o = Je.calculateZoomLevelFromResolutions(this.tilesetInfo.resolutions, this._xScale, this.tilesetInfo.min_pos[0], this.tilesetInfo.max_pos[0]), a = Je.calculateZoomLevelFromResolutions(this.tilesetInfo.resolutions, this._xScale, this.tilesetInfo.min_pos[1], this.tilesetInfo.max_pos[1]);
        i = Math.min(o, a);
      } else {
        const o = Je.calculateZoomLevel(this._xScale, this.tilesetInfo.min_pos[0], this.tilesetInfo.max_pos[0]), a = Je.calculateZoomLevel(this._xScale, this.tilesetInfo.min_pos[1], this.tilesetInfo.max_pos[1]);
        i = Math.max(o, a), i = Math.min(i, this.maxZoom);
      }
      return this.options && this.options.maxZoom && (this.options.maxZoom >= 0 ? i = Math.min(this.options.maxZoom, i) : console.error("Invalid maxZoom on track:", this)), i;
    }
  }, {
    key: "calculateVisibleTiles",
    value: function() {
      if (!this.tilesetInfo)
        return;
      this.zoomLevel = this.calculateZoomLevel();
      const i = this._xScale.copy();
      if (i.domain([this._xScale.invert(this._xScale.range()[0] - this.dimensions[1] * Math.sqrt(2)), this._xScale.invert(this._xScale.range()[1] + this.dimensions[1] * Math.sqrt(2))]), this.tilesetInfo.resolutions) {
        const f = this.tilesetInfo.resolutions.map((h) => +h).sort((h, d) => d - h);
        this.xTiles = Je.calculateTilesFromResolution(f[this.zoomLevel], i, this.tilesetInfo.min_pos[0], this.tilesetInfo.max_pos[0]), this.yTiles = Je.calculateTilesFromResolution(f[this.zoomLevel], i, this.tilesetInfo.min_pos[0], this.tilesetInfo.max_pos[0]);
      } else
        this.xTiles = Je.calculateTiles(this.zoomLevel, i, this.tilesetInfo.min_pos[0], this.tilesetInfo.max_pos[0], this.tilesetInfo.max_zoom, this.tilesetInfo.max_width), this.yTiles = Je.calculateTiles(this.zoomLevel, i, this.tilesetInfo.min_pos[0], this.tilesetInfo.max_pos[0], this.tilesetInfo.max_zoom, this.tilesetInfo.max_width);
      const o = this.xTiles, a = this.yTiles, s = this.zoomLevel, u = this.tilesetInfo.max_width / 2 ** s, c = [];
      for (let f = 0; f < o.length; f++)
        for (let h = f; h < a.length; h++) {
          if ((h - f - 2) * (this._xScale(u) - this._xScale(0)) * Math.sqrt(2) / 2 > this.dimensions[1])
            continue;
          const p = [s, o[f], a[h]];
          p.mirrored = false, p.dataTransform = this.options.dataTransform ? this.options.dataTransform : "default", c.push(p);
        }
      this.setVisibleTiles(c);
    }
  }, {
    key: "tileDataToCanvas",
    value: function(i) {
      const o = document.createElement("canvas");
      o.width = 256, o.height = 256;
      const a = o.getContext("2d");
      a.fillStyle = "transparent", a.fillRect(0, 0, o.width, o.height);
      const s = new ImageData(i, o.width, o.height);
      return a.putImageData(s, 0, 0), o;
    }
  }, {
    key: "setSpriteProperties",
    value: function(i, o, a, s) {
      const {
        tileX: l,
        tileY: u,
        tileWidth: c,
        tileHeight: f
      } = this.getTilePosAndDimensions(o, a), h = l + c, d = u + f;
      i.width = this._refXScale(h) - this._refXScale(l), i.height = this._refYScale(d) - this._refYScale(u), i.x = this._refXScale(l), i.y = this._refYScale(u);
    }
  }, {
    key: "pixDataFunction",
    value: function(i, o) {
      if (o) {
        const a = i.graphics, s = this.tileDataToCanvas(o.pixData), l = Ge.PIXI.VERSION[0] === "4" ? Ge.PIXI.Texture.fromCanvas(s, Ge.PIXI.SCALE_MODES.NEAREST) : Ge.PIXI.Texture.from(s, {
          scaleMode: Ge.PIXI.SCALE_MODES.NEAREST
        });
        i.sprite = new Ge.PIXI.Sprite(l), i.canvas = s, this.setSpriteProperties(i.sprite, i.tileData.zoomLevel, i.tileData.tilePos, i.mirrored), a.pivot.x = this._refXScale(0), a.pivot.y = this._refYScale(0), a.scale.x = -1 / Math.sqrt(2), a.rotation = -3 * Math.PI / 4, a.scale.y = 1 / Math.sqrt(2), a.position.x = this._refXScale(0), a.position.y = 0, a.removeChildren(), a.addChild(i.sprite);
      }
      this.renderingTiles.delete(i.tileId);
    }
  }, {
    key: "refScalesChanged",
    value: function(i, o) {
      Ol(Aa(r.prototype), "refScalesChanged", this).call(this, i, o);
      for (const a in this.fetchedTiles) {
        const s = this.fetchedTiles[a];
        if (s.sprite) {
          this.setSpriteProperties(s.sprite, s.tileData.zoomLevel, s.tileData.tilePos, s.mirrored);
          const l = s.graphics;
          l.pivot.x = this._refXScale(0), l.pivot.y = this._refYScale(0), l.scale.x = -1 / Math.sqrt(2), l.rotation = -3 * Math.PI / 4, l.scale.y = 1 / Math.sqrt(2), l.position.x = this._refXScale(0), l.position.y = 0;
        }
      }
    }
  }, {
    key: "zoomed",
    value: function(i, o, a, s, l) {
      Ol(Aa(r.prototype), "zoomed", this).call(this, i, o, a, s, l), Ol(Aa(r.prototype), "draw", this).call(this), this.pMain.position.x = s, this.pMain.position.y = this.position[1] + this.dimensions[1], this.pMain.scale.x = a, this.pMain.scale.y = a, this.options.oneDHeatmapFlipped && (this.pMain.scale.y = -a, this.pMain.position.y = this.position[1]);
    }
  }, {
    key: "leftTrackDraw",
    value: function() {
      this.draw();
    }
  }, {
    key: "exportSVG",
    value: function() {
      let i = null, o = null;
      [o, i] = Ol(Aa(r.prototype), "superSVG", this).call(this);
      const a = document.createElement("g");
      i.appendChild(a), a.setAttribute("transform", `translate(${this.pMain.position.x},${this.pMain.position.y}) scale(${this.pMain.scale.x},${this.pMain.scale.y})`);
      for (const l of this.visibleAndFetchedTiles()) {
        const u = document.createElement("g"), c = l.graphics, f = c.rotation * 180 / Math.PI, h = `translate(${c.position.x},${c.position.y}) rotate(${f}) scale(${c.scale.x},${c.scale.y}) translate(${-c.pivot.x},${-c.pivot.y})`;
        u.setAttribute("transform", h);
        const d = l.sprite.rotation * 180 / Math.PI, p = document.createElement("g");
        p.setAttribute("transform", `translate(${l.sprite.x},${l.sprite.y}) rotate(${d}) scale(${l.sprite.scale.x},${l.sprite.scale.y})`);
        const m = document.createElement("image");
        m.setAttributeNS("http://www.w3.org/1999/xlink", "xlink:href", l.canvas.toDataURL()), m.setAttribute("width", 256), m.setAttribute("height", 256), p.appendChild(m), u.appendChild(p), a.appendChild(u);
      }
      const s = this.exportColorBarSVG();
      return i.appendChild(s), [o, o];
    }
  }]), r;
}(cy);
function sje(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function lje(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, uje(n.key), n);
  }
}
function cje(e13, t, r) {
  return t && lje(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function uje(e13) {
  var t = hje(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function hje(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
function fje(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  e13.prototype = Object.create(t && t.prototype, { constructor: { value: e13, writable: true, configurable: true } }), Object.defineProperty(e13, "prototype", { writable: false }), t && hx(e13, t);
}
function hx(e13, t) {
  return hx = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, i) {
    return n.__proto__ = i, n;
  }, hx(e13, t);
}
function dje(e13) {
  var t = gje();
  return function() {
    var n = cT(e13), i;
    if (t) {
      var o = cT(this).constructor;
      i = Reflect.construct(n, arguments, o);
    } else
      i = n.apply(this, arguments);
    return pje(this, i);
  };
}
function pje(e13, t) {
  if (t && (typeof t == "object" || typeof t == "function"))
    return t;
  if (t !== void 0)
    throw new TypeError("Derived constructors may only return object or undefined");
  return mje(e13);
}
function mje(e13) {
  if (e13 === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e13;
}
function gje() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return false;
  if (typeof Proxy == "function")
    return true;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), true;
  } catch {
    return false;
  }
}
function cT(e13) {
  return cT = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(r) {
    return r.__proto__ || Object.getPrototypeOf(r);
  }, cT(e13);
}
var MU = function(e13) {
  fje(r, e13);
  var t = dje(r);
  function r(n, i) {
    var o;
    return sje(this, r), o = t.call(this, n, i), o.tilesetInfo = {}, o.errorTextText = `Unknown track type: ${i.type}`, o;
  }
  return cje(r, [{
    key: "zoomed",
    value: function() {
      this.draw();
    }
  }]), r;
}(Ai);
function vje(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function yje(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, bje(n.key), n);
  }
}
function _je(e13, t, r) {
  return t && yje(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function bje(e13) {
  var t = Tje(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function Tje(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
function Eje(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  e13.prototype = Object.create(t && t.prototype, { constructor: { value: e13, writable: true, configurable: true } }), Object.defineProperty(e13, "prototype", { writable: false }), t && fx(e13, t);
}
function fx(e13, t) {
  return fx = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, i) {
    return n.__proto__ = i, n;
  }, fx(e13, t);
}
function Sje(e13) {
  var t = Aje();
  return function() {
    var n = uT(e13), i;
    if (t) {
      var o = uT(this).constructor;
      i = Reflect.construct(n, arguments, o);
    } else
      i = n.apply(this, arguments);
    return wje(this, i);
  };
}
function wje(e13, t) {
  if (t && (typeof t == "object" || typeof t == "function"))
    return t;
  if (t !== void 0)
    throw new TypeError("Derived constructors may only return object or undefined");
  return Uq(e13);
}
function Uq(e13) {
  if (e13 === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e13;
}
function Aje() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return false;
  if (typeof Proxy == "function")
    return true;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), true;
  } catch {
    return false;
  }
}
function uT(e13) {
  return uT = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(r) {
    return r.__proto__ || Object.getPrototypeOf(r);
  }, uT(e13);
}
var jq = function(e13) {
  Eje(r, e13);
  var t = Sje(r);
  function r(n, i) {
    var o;
    return vje(this, r), o = t.call(this, n, i), o.axis = new lS(Uq(o)), o.pBase.addChild(o.axis.pAxis), o;
  }
  return _je(r, [{
    key: "initTile",
    value: function(i) {
      this.scale.minRawValue = this.minVisibleValueInTiles(), this.scale.maxRawValue = this.minVisibleValueInTiles(), this.scale.minValue = this.scale.minRawValue, this.scale.maxValue = this.scale.maxRawValue, this.drawTile(i);
    }
  }, {
    key: "drawTile",
    value: function(i) {
      if (!i.graphics)
        return;
      const o = i.graphics, a = 6, s = 4;
      o.clear(), this.valueScale = Jl().domain([this.minValue() + 0.01, this.maxValue()]).range([this.dimensions[1] - a / 2, a / 2]);
      const l = ct("black");
      o.lineStyle(1, l, 0.3), o.beginFill(l, 0.3), this.drawAxis(this.valueScale), i.tileData.forEach((u) => {
        const c = u.fields, f = +u.chrOffset, h = +c[1] + f, d = +c[2] + f, p = +c[3], m = this._xScale(h), g = this._xScale(d), v = Math.max(g - m, s), b = this.valueScale(p), y = (g + m) / 2;
        o.drawRect(y - v / 2, b - a / 2, v, a);
      });
    }
  }, {
    key: "minVisibleValueInTiles",
    value: function() {
      let i = this.visibleAndFetchedIds();
      return i.length === 0 && (i = Object.keys(this.fetchedTiles)), Math.min.apply(null, i.map((a) => +Math.min(...this.fetchedTiles[a].tileData.filter((s) => !Number.isNaN(s.fields[3])).map((s) => +s.fields[3]))));
    }
  }, {
    key: "maxVisibleValueInTiles",
    value: function() {
      let i = this.visibleAndFetchedIds();
      return i.length === 0 && (i = Object.keys(this.fetchedTiles)), Math.max.apply(null, i.map((a) => +Math.max(...this.fetchedTiles[a].tileData.filter((s) => !Number.isNaN(s.fields[3])).map((s) => +s.fields[3]))));
    }
  }]), r;
}(bp);
function Oje(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function Ije(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, Cje(n.key), n);
  }
}
function Pje(e13, t, r) {
  return t && Ije(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function Cje(e13) {
  var t = xje(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function xje(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
function Hf() {
  return typeof Reflect < "u" && Reflect.get ? Hf = Reflect.get.bind() : Hf = function(t, r, n) {
    var i = kje(t, r);
    if (i) {
      var o = Object.getOwnPropertyDescriptor(i, r);
      return o.get ? o.get.call(arguments.length < 3 ? t : n) : o.value;
    }
  }, Hf.apply(this, arguments);
}
function kje(e13, t) {
  for (; !Object.prototype.hasOwnProperty.call(e13, t) && (e13 = Ul(e13), e13 !== null); )
    ;
  return e13;
}
function Dje(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  e13.prototype = Object.create(t && t.prototype, { constructor: { value: e13, writable: true, configurable: true } }), Object.defineProperty(e13, "prototype", { writable: false }), t && dx(e13, t);
}
function dx(e13, t) {
  return dx = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, i) {
    return n.__proto__ = i, n;
  }, dx(e13, t);
}
function Rje(e13) {
  var t = Mje();
  return function() {
    var n = Ul(e13), i;
    if (t) {
      var o = Ul(this).constructor;
      i = Reflect.construct(n, arguments, o);
    } else
      i = n.apply(this, arguments);
    return Nje(this, i);
  };
}
function Nje(e13, t) {
  if (t && (typeof t == "object" || typeof t == "function"))
    return t;
  if (t !== void 0)
    throw new TypeError("Derived constructors may only return object or undefined");
  return px(e13);
}
function px(e13) {
  if (e13 === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e13;
}
function Mje() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return false;
  if (typeof Proxy == "function")
    return true;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), true;
  } catch {
    return false;
  }
}
function Ul(e13) {
  return Ul = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(r) {
    return r.__proto__ || Object.getPrototypeOf(r);
  }, Ul(e13);
}
var Gq = function(e13) {
  Dje(r, e13);
  var t = Rje(r);
  function r(n, i) {
    var o;
    Oje(this, r), o = t.call(this, n, i);
    const {
      registerViewportChanged: a,
      removeViewportChanged: s,
      setDomainsCallback: l
    } = n, u = Gt.nice();
    return o.uid = u, o.options = i, o.hasFromView = !n.projectionXDomain || !n.projectionYDomain, o.removeViewportChanged = s, o.setDomainsCallback = l, o.viewportXDomain = o.hasFromView ? null : n.projectionXDomain, o.viewportYDomain = o.hasFromView ? null : n.projectionYDomain, o.brush = CR().on("brush", o.brushed.bind(px(o))), o.gBrush = o.gMain.append("g").attr("id", `brush-${o.uid}`).call(o.brush), o.gBrush.selectAll(".overlay").style("pointer-events", "none"), o.gBrush.selectAll(".handle--n").style("pointer-events", "none"), o.gBrush.selectAll(".handle--s").style("pointer-events", "none"), o.gBrush.selectAll(".handle--w").style("pointer-events", "none"), o.gBrush.selectAll(".handle--e").style("pointer-events", "none"), a(u, o.viewportChanged.bind(px(o))), o.rerender(), o.draw(), o;
  }
  return Pje(r, [{
    key: "brushed",
    value: function(i) {
      const o = i.selection;
      if (!this._xScale || !this._yScale)
        return;
      const a = [this._xScale.invert(o[0][0]), this._xScale.invert(o[1][0])], s = [this._yScale.invert(o[0][1]), this._yScale.invert(o[1][1])];
      this.hasFromView || (this.viewportXDomain = a, this.viewportYDomain = s), this.setDomainsCallback(a, s);
    }
  }, {
    key: "viewportChanged",
    value: function(i, o) {
      const a = i.domain(), s = o.domain();
      this.viewportXDomain = a, this.viewportYDomain = s, this.draw();
    }
  }, {
    key: "remove",
    value: function() {
      this.removeViewportChanged(this.uid), Hf(Ul(r.prototype), "remove", this).call(this);
    }
  }, {
    key: "rerender",
    value: function() {
      this.gBrush.selectAll(".selection").attr("fill", this.options.projectionFillColor).attr("stroke", this.options.projectionStrokeColor).attr("fill-opacity", this.options.projectionFillOpacity).attr("stroke-opacity", this.options.projectionStrokeOpacity).attr("stroke-width", this.options.strokeWidth);
    }
  }, {
    key: "draw",
    value: function() {
      if (!this._xScale || !this.yScale || !this.viewportXDomain || !this.viewportYDomain)
        return;
      const i = this._xScale(this.viewportXDomain[0]), o = this._yScale(this.viewportYDomain[0]), a = this._xScale(this.viewportXDomain[1]), s = this._yScale(this.viewportYDomain[1]), l = [[i, o], [a, s]];
      this.brush.on("brush", null), this.gBrush.call(this.brush.move, l), this.brush.on("brush", this.brushed.bind(this));
    }
  }, {
    key: "zoomed",
    value: function(i, o) {
      this.xScale(i), this.yScale(o), this.draw();
    }
  }, {
    key: "setPosition",
    value: function(i) {
      Hf(Ul(r.prototype), "setPosition", this).call(this, i), this.draw();
    }
  }, {
    key: "setDimensions",
    value: function(i) {
      Hf(Ul(r.prototype), "setDimensions", this).call(this, i);
      const o = this._xScale.range(), a = this._yScale.range(), s = o[1] - o[0], l = a[1] - a[0];
      this.brush.extent([[o[0] - s, a[0] - l], [o[1] + s, a[1] + l]]), this.gBrush.call(this.brush), this.draw();
    }
  }]), r;
}(lh);
function Lje(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function Bje(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, $je(n.key), n);
  }
}
function Fje(e13, t, r) {
  return t && Bje(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function $je(e13) {
  var t = Hje(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function Hje(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
function Uf() {
  return typeof Reflect < "u" && Reflect.get ? Uf = Reflect.get.bind() : Uf = function(t, r, n) {
    var i = Uje(t, r);
    if (i) {
      var o = Object.getOwnPropertyDescriptor(i, r);
      return o.get ? o.get.call(arguments.length < 3 ? t : n) : o.value;
    }
  }, Uf.apply(this, arguments);
}
function Uje(e13, t) {
  for (; !Object.prototype.hasOwnProperty.call(e13, t) && (e13 = jl(e13), e13 !== null); )
    ;
  return e13;
}
function jje(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  e13.prototype = Object.create(t && t.prototype, { constructor: { value: e13, writable: true, configurable: true } }), Object.defineProperty(e13, "prototype", { writable: false }), t && mx(e13, t);
}
function mx(e13, t) {
  return mx = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, i) {
    return n.__proto__ = i, n;
  }, mx(e13, t);
}
function Gje(e13) {
  var t = Vje();
  return function() {
    var n = jl(e13), i;
    if (t) {
      var o = jl(this).constructor;
      i = Reflect.construct(n, arguments, o);
    } else
      i = n.apply(this, arguments);
    return zje(this, i);
  };
}
function zje(e13, t) {
  if (t && (typeof t == "object" || typeof t == "function"))
    return t;
  if (t !== void 0)
    throw new TypeError("Derived constructors may only return object or undefined");
  return gx(e13);
}
function gx(e13) {
  if (e13 === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e13;
}
function Vje() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return false;
  if (typeof Proxy == "function")
    return true;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), true;
  } catch {
    return false;
  }
}
function jl(e13) {
  return jl = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(r) {
    return r.__proto__ || Object.getPrototypeOf(r);
  }, jl(e13);
}
var zq = function(e13) {
  jje(r, e13);
  var t = Gje(r);
  function r(n, i) {
    var o;
    Lje(this, r), o = t.call(this, n, i);
    const {
      registerViewportChanged: a,
      removeViewportChanged: s,
      setDomainsCallback: l
    } = n, u = Gt.nice();
    return o.uid = u, o.options = i, o.hasFromView = !n.projectionXDomain, o.removeViewportChanged = s, o.setDomainsCallback = l, o.viewportXDomain = o.hasFromView ? null : n.projectionXDomain, o.viewportYDomain = o.hasFromView ? null : [0, 0], o.brush = m1().on("brush", o.brushed.bind(gx(o))), o.gBrush = o.gMain.append("g").attr("id", `brush-${o.uid}`).call(o.brush), o.gBrush.selectAll(".overlay").style("pointer-events", "none"), o.gBrush.selectAll(".handle--ne").style("pointer-events", "none"), o.gBrush.selectAll(".handle--nw").style("pointer-events", "none"), o.gBrush.selectAll(".handle--sw").style("pointer-events", "none"), o.gBrush.selectAll(".handle--se").style("pointer-events", "none"), o.gBrush.selectAll(".handle--n").style("pointer-events", "none"), o.gBrush.selectAll(".handle--s").style("pointer-events", "none"), a(u, o.viewportChanged.bind(gx(o))), o.rerender(), o.draw(), o;
  }
  return Fje(r, [{
    key: "brushed",
    value: function(i) {
      const o = i.selection;
      if (!this._xScale || !this._yScale)
        return;
      const a = [this._xScale.invert(o[0]), this._xScale.invert(o[1])], s = this.viewportYDomain;
      this.hasFromView || (this.viewportXDomain = a), this.setDomainsCallback(a, s);
    }
  }, {
    key: "viewportChanged",
    value: function(i, o, a = true) {
      const s = i.domain(), l = o.domain();
      this.viewportXDomain = s, this.viewportYDomain = l, this.draw();
    }
  }, {
    key: "remove",
    value: function() {
      this.removeViewportChanged(this.uid), Uf(jl(r.prototype), "remove", this).call(this);
    }
  }, {
    key: "rerender",
    value: function() {
      this.gBrush.selectAll(".selection").attr("fill", this.options.projectionFillColor).attr("stroke", this.options.projectionStrokeColor).attr("fill-opacity", this.options.projectionFillOpacity).attr("stroke-opacity", this.options.projectionStrokeOpacity).attr("stroke-width", this.options.strokeWidth);
    }
  }, {
    key: "draw",
    value: function() {
      if (!this._xScale || !this.yScale || !this.viewportXDomain || !this.viewportYDomain)
        return;
      const i = this._xScale(this.viewportXDomain[0]), o = this._xScale(this.viewportXDomain[1]), a = [i, o];
      this.brush.on("brush", null), this.gBrush.call(this.brush.move, a), this.brush.on("brush", this.brushed.bind(this));
    }
  }, {
    key: "zoomed",
    value: function(i, o) {
      this.xScale(i), this.yScale(o), this.draw();
    }
  }, {
    key: "setPosition",
    value: function(i) {
      Uf(jl(r.prototype), "setPosition", this).call(this, i), this.draw();
    }
  }, {
    key: "setDimensions",
    value: function(i) {
      Uf(jl(r.prototype), "setDimensions", this).call(this, i);
      const o = this._xScale.range(), a = this._yScale.range(), s = o[1] - o[0];
      this.brush.extent([[o[0] - s, a[0]], [o[1] + s, a[1]]]), this.gBrush.call(this.brush), this.draw();
    }
  }]), r;
}(lh);
function Xje(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function Wje(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, qje(n.key), n);
  }
}
function Yje(e13, t, r) {
  return t && Wje(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function qje(e13) {
  var t = Kje(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function Kje(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
function jf() {
  return typeof Reflect < "u" && Reflect.get ? jf = Reflect.get.bind() : jf = function(t, r, n) {
    var i = Zje(t, r);
    if (i) {
      var o = Object.getOwnPropertyDescriptor(i, r);
      return o.get ? o.get.call(arguments.length < 3 ? t : n) : o.value;
    }
  }, jf.apply(this, arguments);
}
function Zje(e13, t) {
  for (; !Object.prototype.hasOwnProperty.call(e13, t) && (e13 = Gl(e13), e13 !== null); )
    ;
  return e13;
}
function Qje(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  e13.prototype = Object.create(t && t.prototype, { constructor: { value: e13, writable: true, configurable: true } }), Object.defineProperty(e13, "prototype", { writable: false }), t && vx(e13, t);
}
function vx(e13, t) {
  return vx = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, i) {
    return n.__proto__ = i, n;
  }, vx(e13, t);
}
function Jje(e13) {
  var t = t4e();
  return function() {
    var n = Gl(e13), i;
    if (t) {
      var o = Gl(this).constructor;
      i = Reflect.construct(n, arguments, o);
    } else
      i = n.apply(this, arguments);
    return e4e(this, i);
  };
}
function e4e(e13, t) {
  if (t && (typeof t == "object" || typeof t == "function"))
    return t;
  if (t !== void 0)
    throw new TypeError("Derived constructors may only return object or undefined");
  return yx(e13);
}
function yx(e13) {
  if (e13 === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e13;
}
function t4e() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return false;
  if (typeof Proxy == "function")
    return true;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), true;
  } catch {
    return false;
  }
}
function Gl(e13) {
  return Gl = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(r) {
    return r.__proto__ || Object.getPrototypeOf(r);
  }, Gl(e13);
}
var Vq = function(e13) {
  Qje(r, e13);
  var t = Jje(r);
  function r(n, i) {
    var o;
    Xje(this, r), o = t.call(this, n, i);
    const {
      registerViewportChanged: a,
      removeViewportChanged: s,
      setDomainsCallback: l
    } = n, u = Gt.nice();
    return o.uid = u, o.options = i, o.hasFromView = !n.projectionYDomain, o.removeViewportChanged = s, o.setDomainsCallback = l, o.viewportXDomain = o.hasFromView ? null : [0, 0], o.viewportYDomain = o.hasFromView ? null : n.projectionYDomain, o.brush = $v().on("brush", o.brushed.bind(yx(o))), o.gBrush = o.gMain.append("g").attr("id", `brush-${o.uid}`).call(o.brush), o.gBrush.selectAll(".overlay").style("pointer-events", "none"), o.gBrush.selectAll(".handle--ne").style("pointer-events", "none"), o.gBrush.selectAll(".handle--nw").style("pointer-events", "none"), o.gBrush.selectAll(".handle--sw").style("pointer-events", "none"), o.gBrush.selectAll(".handle--se").style("pointer-events", "none"), o.gBrush.selectAll(".handle--e").style("pointer-events", "none"), o.gBrush.selectAll(".handle--w").style("pointer-events", "none"), a(u, o.viewportChanged.bind(yx(o))), o.rerender(), o.draw(), o;
  }
  return Yje(r, [{
    key: "brushed",
    value: function(i) {
      const o = i.selection;
      if (!this._xScale || !this._yScale)
        return;
      const a = this.viewportXDomain, s = [this._yScale.invert(o[0]), this._yScale.invert(o[1])];
      this.hasFromView || (this.viewportYDomain = s), this.setDomainsCallback(a, s);
    }
  }, {
    key: "viewportChanged",
    value: function(i, o, a = true) {
      const s = i.domain(), l = o.domain();
      this.viewportXDomain = s, this.viewportYDomain = l, this.draw();
    }
  }, {
    key: "remove",
    value: function() {
      this.removeViewportChanged(this.uid), jf(Gl(r.prototype), "remove", this).call(this);
    }
  }, {
    key: "rerender",
    value: function() {
      this.gBrush.selectAll(".selection").attr("fill", this.options.projectionFillColor).attr("stroke", this.options.projectionStrokeColor).attr("fill-opacity", this.options.projectionFillOpacity).attr("stroke-opacity", this.options.projectionStrokeOpacity).attr("stroke-width", this.options.strokeWidth);
    }
  }, {
    key: "draw",
    value: function() {
      if (!this._xScale || !this.yScale || !this.viewportXDomain || !this.viewportYDomain)
        return;
      const i = this._yScale(this.viewportYDomain[0]), o = this._yScale(this.viewportYDomain[1]), a = [i, o];
      this.brush.on("brush", null), this.gBrush.call(this.brush.move, a), this.brush.on("brush", this.brushed.bind(this));
    }
  }, {
    key: "zoomed",
    value: function(i, o) {
      this.xScale(i), this.yScale(o), this.draw();
    }
  }, {
    key: "setPosition",
    value: function(i) {
      jf(Gl(r.prototype), "setPosition", this).call(this, i), this.draw();
    }
  }, {
    key: "setDimensions",
    value: function(i) {
      jf(Gl(r.prototype), "setDimensions", this).call(this, i);
      const o = this._xScale.range(), a = this._yScale.range(), s = a[1] - a[0];
      this.brush.extent([[o[0], a[0] - s], [o[1], a[1] + s]]), this.gBrush.call(this.brush), this.draw();
    }
  }]), r;
}(lh);
function LU(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function r4e(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, n4e(n.key), n);
  }
}
function BU(e13, t, r) {
  return t && r4e(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function n4e(e13) {
  var t = i4e(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function i4e(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
var _x = "__mixwith_appliedMixin";
var bx = "__mixwith_wrappedMixin";
var Xq = (e13) => e13[bx] || e13;
var o4e = (e13, t) => {
  const r = t(e13);
  return r.prototype[_x] = Xq(t), r;
};
var a4e = (e13, t) => e13.hasOwnProperty(_x) && e13[_x] === Xq(t);
var s4e = (e13, t) => {
  for (; e13 !== null; ) {
    if (a4e(e13, t))
      return true;
    e13 = Object.getPrototypeOf(e13);
  }
  return false;
};
var EM = (e13, t) => (Object.setPrototypeOf(t, e13), e13[bx] || (e13[bx] = e13), t);
var kO = "__mixwith_cachedApplications";
var l4e = (e13) => EM(e13, (t) => {
  let r = t[kO];
  r || (t[kO] = /* @__PURE__ */ new Map(), r = t[kO]);
  let n = r.get(e13);
  return n || (n = e13(t), r.set(e13, n)), n;
});
var c4e = (e13) => EM(e13, (t) => s4e(t.prototype, e13) ? t : e13(t));
var u4e = (e13) => EM(e13, (t) => o4e(t, e13));
var _S = (e13) => c4e(l4e(u4e(e13)));
var h4e = function() {
  function e13(t) {
    LU(this, e13), this.superclass = t || function() {
      function r() {
        LU(this, r);
      }
      return BU(r);
    }();
  }
  return BU(e13, [{
    key: "with",
    value: function(...r) {
      return r.reduce((n, i) => i(n), this.superclass);
    }
  }]), e13;
}();
var Tp = (e13) => new h4e(e13);
function f4e(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function d4e(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, m4e(n.key), n);
  }
}
function p4e(e13, t, r) {
  return t && d4e(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function m4e(e13) {
  var t = g4e(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function g4e(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
function Ig() {
  return typeof Reflect < "u" && Reflect.get ? Ig = Reflect.get.bind() : Ig = function(t, r, n) {
    var i = v4e(t, r);
    if (i) {
      var o = Object.getOwnPropertyDescriptor(i, r);
      return o.get ? o.get.call(arguments.length < 3 ? t : n) : o.value;
    }
  }, Ig.apply(this, arguments);
}
function v4e(e13, t) {
  for (; !Object.prototype.hasOwnProperty.call(e13, t) && (e13 = Mu(e13), e13 !== null); )
    ;
  return e13;
}
function y4e(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  e13.prototype = Object.create(t && t.prototype, { constructor: { value: e13, writable: true, configurable: true } }), Object.defineProperty(e13, "prototype", { writable: false }), t && Tx(e13, t);
}
function Tx(e13, t) {
  return Tx = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, i) {
    return n.__proto__ = i, n;
  }, Tx(e13, t);
}
function _4e(e13) {
  var t = T4e();
  return function() {
    var n = Mu(e13), i;
    if (t) {
      var o = Mu(this).constructor;
      i = Reflect.construct(n, arguments, o);
    } else
      i = n.apply(this, arguments);
    return b4e(this, i);
  };
}
function b4e(e13, t) {
  if (t && (typeof t == "object" || typeof t == "function"))
    return t;
  if (t !== void 0)
    throw new TypeError("Derived constructors may only return object or undefined");
  return Wq(e13);
}
function Wq(e13) {
  if (e13 === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e13;
}
function T4e() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return false;
  if (typeof Proxy == "function")
    return true;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), true;
  } catch {
    return false;
  }
}
function Mu(e13) {
  return Mu = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(r) {
    return r.__proto__ || Object.getPrototypeOf(r);
  }, Mu(e13);
}
var SM = _S((e13) => function(t) {
  y4e(n, t);
  var r = _4e(n);
  function n(i, o) {
    var a;
    f4e(this, n), a = r.call(this, i, o);
    const {
      animate: s
    } = i;
    return a.highlighted = false, a.animate = s, a.MOUSEOVER_RADIUS = 4, a.pubSub = i.pubSub, a.pubSubs.push(a.pubSub.subscribe("app.mouseMove", a.mouseMoveHandler.bind(Wq(a)))), a;
  }
  return p4e(n, [{
    key: "setPosition",
    value: function(o) {
      Ig(Mu(n.prototype), "setPosition", this).call(this, o), this.pMain.position.x = this.position[0], this.pMain.position.y = this.position[1];
    }
  }, {
    key: "zoomed",
    value: function(o, a) {
      Ig(Mu(n.prototype), "zoomed", this).call(this, o, a), this.draw();
    }
  }, {
    key: "respondsToPosition",
    value: function() {
      return this.highlighted;
    }
  }]), n;
}(e13));
function Pg() {
  return typeof Reflect < "u" && Reflect.get ? Pg = Reflect.get.bind() : Pg = function(t, r, n) {
    var i = E4e(t, r);
    if (i) {
      var o = Object.getOwnPropertyDescriptor(i, r);
      return o.get ? o.get.call(arguments.length < 3 ? t : n) : o.value;
    }
  }, Pg.apply(this, arguments);
}
function E4e(e13, t) {
  for (; !Object.prototype.hasOwnProperty.call(e13, t) && (e13 = Lu(e13), e13 !== null); )
    ;
  return e13;
}
function Yq(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function S4e(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, w4e(n.key), n);
  }
}
function qq(e13, t, r) {
  return t && S4e(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function w4e(e13) {
  var t = A4e(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function A4e(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
function Kq(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  e13.prototype = Object.create(t && t.prototype, { constructor: { value: e13, writable: true, configurable: true } }), Object.defineProperty(e13, "prototype", { writable: false }), t && Ex(e13, t);
}
function Ex(e13, t) {
  return Ex = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, i) {
    return n.__proto__ = i, n;
  }, Ex(e13, t);
}
function Zq(e13) {
  var t = P4e();
  return function() {
    var n = Lu(e13), i;
    if (t) {
      var o = Lu(this).constructor;
      i = Reflect.construct(n, arguments, o);
    } else
      i = n.apply(this, arguments);
    return O4e(this, i);
  };
}
function O4e(e13, t) {
  if (t && (typeof t == "object" || typeof t == "function"))
    return t;
  if (t !== void 0)
    throw new TypeError("Derived constructors may only return object or undefined");
  return I4e(e13);
}
function I4e(e13) {
  if (e13 === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e13;
}
function P4e() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return false;
  if (typeof Proxy == "function")
    return true;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), true;
  } catch {
    return false;
  }
}
function Lu(e13) {
  return Lu = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(r) {
    return r.__proto__ || Object.getPrototypeOf(r);
  }, Lu(e13);
}
var C4e = _S((e13) => function(t) {
  Kq(n, t);
  var r = Zq(n);
  function n() {
    return Yq(this, n), r.apply(this, arguments);
  }
  return qq(n, [{
    key: "drawHorizontalRule",
    value: function(o) {
      let a = ct(this.options.color || "black");
      this.highlighted && (a = ct("red")), o.lineStyle(this.strokeWidth, a, this.strokeOpacity);
      let s = 0;
      for (; s < this.dimensions[0]; )
        o.moveTo(s, this._yScale(this.yPosition)), o.lineTo(s + this.dashLength, this._yScale(this.yPosition)), s += this.dashLength + this.dashGap;
    }
  }, {
    key: "isMouseOverHorizontalLine",
    value: function(o) {
      return Math.abs(o.y - this.position[1] - this._yScale(this.yPosition)) < this.MOUSEOVER_RADIUS;
    }
  }]), n;
}(e13));
var Qq = function(e13) {
  Kq(r, e13);
  var t = Zq(r);
  function r(n, i) {
    var o;
    return Yq(this, r), o = t.call(this, n, i), o.yPosition = n.yPosition, o.strokeWidth = 2, o.strokeOpacity = 1, o.dashLength = 5, o.dashGap = 3, o;
  }
  return qq(r, [{
    key: "mouseMoveHandler",
    value: function(i) {
      if (this.isWithin(i.x, i.y) && this.isMouseOverHorizontalLine(i)) {
        this.highlighted = true, this.draw();
        return;
      }
      this.highlighted = false, this.draw();
    }
  }, {
    key: "draw",
    value: function() {
      const i = this.pMain;
      i.clear(), this.drawHorizontalRule(i), this.animate();
    }
    /**
     * Export an SVG representation of this track
     *
     * @returns {Array} The two returned DOM nodes are both SVG
     * elements [base,track]. Base is a parent which contains track as a
     * child. Track is clipped with a clipping rectangle contained in base.
     *
     */
  }, {
    key: "exportSVG",
    value: function() {
      let i = null, o = null;
      Pg(Lu(r.prototype), "exportSVG", this) ? [o, i] = Pg(Lu(r.prototype), "exportSVG", this).call(this) : (o = document.createElement("g"), i = o);
      const a = document.createElement("g");
      a.setAttribute("class", "horizontal-rule"), a.setAttribute("transform", `translate(${this.position[0]},${this.position[1]})`), i.appendChild(a);
      const s = this.options.color || "black", l = document.createElement("line");
      return l.setAttribute("stroke", s), l.setAttribute("stroke-width", this.strokeWidth), l.setAttribute("stroke-dasharray", `${this.dashLength} ${this.dashGap}`), l.setAttribute("x1", 0), l.setAttribute("y1", this._yScale(this.yPosition)), l.setAttribute("x2", this.dimensions[0]), l.setAttribute("y2", this._yScale(this.yPosition)), a.appendChild(l), [o, i];
    }
  }]), r;
}(Tp(Ai).with(SM, C4e));
function Cg() {
  return typeof Reflect < "u" && Reflect.get ? Cg = Reflect.get.bind() : Cg = function(t, r, n) {
    var i = x4e(t, r);
    if (i) {
      var o = Object.getOwnPropertyDescriptor(i, r);
      return o.get ? o.get.call(arguments.length < 3 ? t : n) : o.value;
    }
  }, Cg.apply(this, arguments);
}
function x4e(e13, t) {
  for (; !Object.prototype.hasOwnProperty.call(e13, t) && (e13 = Bu(e13), e13 !== null); )
    ;
  return e13;
}
function Jq(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function k4e(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, D4e(n.key), n);
  }
}
function eK(e13, t, r) {
  return t && k4e(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function D4e(e13) {
  var t = R4e(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function R4e(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
function tK(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  e13.prototype = Object.create(t && t.prototype, { constructor: { value: e13, writable: true, configurable: true } }), Object.defineProperty(e13, "prototype", { writable: false }), t && Sx(e13, t);
}
function Sx(e13, t) {
  return Sx = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, i) {
    return n.__proto__ = i, n;
  }, Sx(e13, t);
}
function rK(e13) {
  var t = L4e();
  return function() {
    var n = Bu(e13), i;
    if (t) {
      var o = Bu(this).constructor;
      i = Reflect.construct(n, arguments, o);
    } else
      i = n.apply(this, arguments);
    return N4e(this, i);
  };
}
function N4e(e13, t) {
  if (t && (typeof t == "object" || typeof t == "function"))
    return t;
  if (t !== void 0)
    throw new TypeError("Derived constructors may only return object or undefined");
  return M4e(e13);
}
function M4e(e13) {
  if (e13 === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e13;
}
function L4e() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return false;
  if (typeof Proxy == "function")
    return true;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), true;
  } catch {
    return false;
  }
}
function Bu(e13) {
  return Bu = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(r) {
    return r.__proto__ || Object.getPrototypeOf(r);
  }, Bu(e13);
}
var nK = _S((e13) => function(t) {
  tK(n, t);
  var r = rK(n);
  function n() {
    return Jq(this, n), r.apply(this, arguments);
  }
  return eK(n, [{
    key: "drawVerticalRule",
    value: function(o) {
      let a = ct(this.options.color || "black");
      this.highlighted && (a = ct("red")), o.lineStyle(this.strokeWidth, a, this.strokeOpacity);
      let s = 0;
      for (; s < this.dimensions[1]; )
        o.moveTo(this._xScale(this.xPosition), s), o.lineTo(this._xScale(this.xPosition), s + this.dashLength), s += this.dashLength + this.dashGap;
    }
  }, {
    key: "isMouseOverVerticalLine",
    value: function(o) {
      return Math.abs(o.x - this.position[0] - this._xScale(this.xPosition)) < this.MOUSEOVER_RADIUS;
    }
  }]), n;
}(e13));
var iK = function(e13) {
  tK(r, e13);
  var t = rK(r);
  function r(n, i) {
    var o;
    return Jq(this, r), o = t.call(this, n, i), o.xPosition = n.xPosition, o.strokeWidth = 2, o.strokeOpacity = 1, o.dashLength = 5, o.dashGap = 3, o;
  }
  return eK(r, [{
    key: "draw",
    value: function() {
      const i = this.pMain;
      i.clear(), this.drawVerticalRule(i), this.animate();
    }
    /**
     * Export an SVG representation of this track
     *
     * @returns {Array} The two returned DOM nodes are both SVG
     * elements [base,track]. Base is a parent which contains track as a
     * child. Track is clipped with a clipping rectangle contained in base.
     *
     */
  }, {
    key: "exportSVG",
    value: function() {
      let i = null, o = null;
      Cg(Bu(r.prototype), "exportSVG", this) ? [o, i] = Cg(Bu(r.prototype), "exportSVG", this).call(this) : (o = document.createElement("g"), i = o);
      const a = document.createElement("g");
      a.setAttribute("class", "vertical-rule"), a.setAttribute("transform", `translate(${this.position[0]},${this.position[1]})`), i.appendChild(a);
      const s = this.options.color || "black", l = document.createElement("line");
      return l.setAttribute("stroke", s), l.setAttribute("stroke-width", this.strokeWidth), l.setAttribute("stroke-dasharray", `${this.dashLength} ${this.dashGap}`), l.setAttribute("x1", this._xScale(this.xPosition)), l.setAttribute("y1", 0), l.setAttribute("x2", this._xScale(this.xPosition)), l.setAttribute("y2", this.dimensions[1]), a.appendChild(l), [o, i];
    }
  }, {
    key: "mouseMoveHandler",
    value: function(i) {
      this.highlighted = this.isWithin(i.x, i.y) && this.isMouseOverVerticalLine(i), this.draw();
    }
  }]), r;
}(Tp(Ai).with(SM, nK));
function B4e(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function F4e(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, H4e(n.key), n);
  }
}
function $4e(e13, t, r) {
  return t && F4e(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function H4e(e13) {
  var t = U4e(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function U4e(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
function xg() {
  return typeof Reflect < "u" && Reflect.get ? xg = Reflect.get.bind() : xg = function(t, r, n) {
    var i = j4e(t, r);
    if (i) {
      var o = Object.getOwnPropertyDescriptor(i, r);
      return o.get ? o.get.call(arguments.length < 3 ? t : n) : o.value;
    }
  }, xg.apply(this, arguments);
}
function j4e(e13, t) {
  for (; !Object.prototype.hasOwnProperty.call(e13, t) && (e13 = Fu(e13), e13 !== null); )
    ;
  return e13;
}
function G4e(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  e13.prototype = Object.create(t && t.prototype, { constructor: { value: e13, writable: true, configurable: true } }), Object.defineProperty(e13, "prototype", { writable: false }), t && wx(e13, t);
}
function wx(e13, t) {
  return wx = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, i) {
    return n.__proto__ = i, n;
  }, wx(e13, t);
}
function z4e(e13) {
  var t = W4e();
  return function() {
    var n = Fu(e13), i;
    if (t) {
      var o = Fu(this).constructor;
      i = Reflect.construct(n, arguments, o);
    } else
      i = n.apply(this, arguments);
    return V4e(this, i);
  };
}
function V4e(e13, t) {
  if (t && (typeof t == "object" || typeof t == "function"))
    return t;
  if (t !== void 0)
    throw new TypeError("Derived constructors may only return object or undefined");
  return X4e(e13);
}
function X4e(e13) {
  if (e13 === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e13;
}
function W4e() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return false;
  if (typeof Proxy == "function")
    return true;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), true;
  } catch {
    return false;
  }
}
function Fu(e13) {
  return Fu = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(r) {
    return r.__proto__ || Object.getPrototypeOf(r);
  }, Fu(e13);
}
var oK = function(e13) {
  G4e(r, e13);
  var t = z4e(r);
  function r(n, i) {
    var o;
    B4e(this, r), o = t.call(this, n, i);
    const {
      x: a,
      y: s
    } = n;
    return o.xPosition = a, o.yPosition = s, o.strokeWidth = 2, o.strokeOpacity = 1, o.dashLength = 5, o.dashGap = 3, o;
  }
  return $4e(r, [{
    key: "draw",
    value: function() {
      const i = this.pMain;
      i.clear(), this.drawHorizontalRule(i), this.drawVerticalRule(i);
    }
  }, {
    key: "mouseMoveHandler",
    value: function(i) {
      this.highlighted = this.isWithin(i.x, i.y) && (this.isMouseOverHorizontalLine(i) || this.isMouseOverVerticalLine(i)), this.draw();
    }
  }, {
    key: "drawHorizontalRule",
    value: function(i) {
      let o = ct(this.options.color || "black");
      this.highlighted && (o = ct("red")), i.lineStyle(this.strokeWidth, o, this.strokeOpacity);
      let a = 0;
      for (; a < this.dimensions[0]; )
        i.moveTo(a, this._yScale(this.yPosition)), i.lineTo(a + this.dashLength, this._yScale(this.yPosition)), a += this.dashLength + this.dashGap;
    }
  }, {
    key: "isMouseOverHorizontalLine",
    value: function(i) {
      return Math.abs(i.y - this.position[1] - this._yScale(this.yPosition)) < this.MOUSEOVER_RADIUS;
    }
    /**
     * Export an SVG representation of this track
     *
     * @returns {Array} The two returned DOM nodes are both SVG
     * elements [base,track]. Base is a parent which contains track as a
     * child. Track is clipped with a clipping rectangle contained in base.
     *
     */
  }, {
    key: "exportSVG",
    value: function() {
      let i = null, o = null;
      xg(Fu(r.prototype), "exportSVG", this) ? [o, i] = xg(Fu(r.prototype), "exportSVG", this).call(this) : (o = document.createElement("g"), i = o);
      const a = document.createElement("g");
      a.setAttribute("class", "cross-rule"), a.setAttribute("transform", `translate(${this.position[0]},${this.position[1]})`), i.appendChild(a);
      const s = this.options.color || "black", l = document.createElement("line");
      l.setAttribute("stroke", s), l.setAttribute("stroke-width", this.strokeWidth), l.setAttribute("stroke-dasharray", `${this.dashLength} ${this.dashGap}`), l.setAttribute("x1", this._xScale(this.xPosition)), l.setAttribute("y1", 0), l.setAttribute("x2", this._xScale(this.xPosition)), l.setAttribute("y2", this.dimensions[1]);
      const u = document.createElement("line");
      return u.setAttribute("stroke", s), u.setAttribute("stroke-width", this.strokeWidth), u.setAttribute("stroke-dasharray", `${this.dashLength} ${this.dashGap}`), u.setAttribute("x1", 0), u.setAttribute("y1", this._yScale(this.yPosition)), u.setAttribute("x2", this.dimensions[0]), u.setAttribute("y2", this._yScale(this.yPosition)), a.appendChild(l), a.appendChild(u), [o, i];
    }
  }]), r;
}(Tp(Ai).with(SM, nK));
function Y4e(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function q4e(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, Z4e(n.key), n);
  }
}
function K4e(e13, t, r) {
  return t && q4e(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function Z4e(e13) {
  var t = Q4e(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function Q4e(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
function Il() {
  return typeof Reflect < "u" && Reflect.get ? Il = Reflect.get.bind() : Il = function(t, r, n) {
    var i = J4e(t, r);
    if (i) {
      var o = Object.getOwnPropertyDescriptor(i, r);
      return o.get ? o.get.call(arguments.length < 3 ? t : n) : o.value;
    }
  }, Il.apply(this, arguments);
}
function J4e(e13, t) {
  for (; !Object.prototype.hasOwnProperty.call(e13, t) && (e13 = Oa(e13), e13 !== null); )
    ;
  return e13;
}
function eGe(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  e13.prototype = Object.create(t && t.prototype, { constructor: { value: e13, writable: true, configurable: true } }), Object.defineProperty(e13, "prototype", { writable: false }), t && Ax(e13, t);
}
function Ax(e13, t) {
  return Ax = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, i) {
    return n.__proto__ = i, n;
  }, Ax(e13, t);
}
function tGe(e13) {
  var t = nGe();
  return function() {
    var n = Oa(e13), i;
    if (t) {
      var o = Oa(this).constructor;
      i = Reflect.construct(n, arguments, o);
    } else
      i = n.apply(this, arguments);
    return rGe(this, i);
  };
}
function rGe(e13, t) {
  if (t && (typeof t == "object" || typeof t == "function"))
    return t;
  if (t !== void 0)
    throw new TypeError("Derived constructors may only return object or undefined");
  return aK(e13);
}
function aK(e13) {
  if (e13 === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e13;
}
function nGe() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return false;
  if (typeof Proxy == "function")
    return true;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), true;
  } catch {
    return false;
  }
}
function Oa(e13) {
  return Oa = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(r) {
    return r.__proto__ || Object.getPrototypeOf(r);
  }, Oa(e13);
}
var hy = function(e13) {
  eGe(r, e13);
  var t = tGe(r);
  function r(n, i) {
    var o;
    Y4e(this, r), o = t.call(this, n, i);
    const {
      animate: a
    } = n;
    return o.visibleTiles = /* @__PURE__ */ new Set(), o.visibleTileIds = /* @__PURE__ */ new Set(), o.fetching = /* @__PURE__ */ new Set(), o.fetchedTiles = {}, o.tileGraphics = {}, o.minX = typeof o.options.minPos < "u" && !Number.isNaN(+o.options.minPos) ? +o.options.minPos : -180, o.maxX = +o.options.maxPos || 180, o.maxX = typeof o.options.maxPos < "u" && !Number.isNaN(+o.options.maxPos) ? +o.options.maxPos : 180, o.minY = o.options.minY || o.minX, o.maxY = o.options.maxY || o.maxX, o.maxZoom = 19, o.maxWidth = o.maxX - o.minX, o.animate = a, o.uuid = Gt.nice(), o.refreshTilesDebounced = BR(o.refreshTiles.bind(aK(o)), S0), o;
  }
  return K4e(r, [{
    key: "visibleAndFetchedIds",
    value: function() {
      return Object.keys(this.fetchedTiles).filter((i) => this.visibleTileIds.has(i));
    }
  }, {
    key: "visibleAndFetchedTiles",
    value: function() {
      return this.visibleAndFetchedIds().map((i) => this.fetchedTiles[i]);
    }
    /**
     * Set which tiles are visible right now.
     *
     * @param tiles: A set of tiles which will be considered the currently visible
     * tile positions.
     */
  }, {
    key: "setVisibleTiles",
    value: function(i) {
      this.visibleTiles = i.map((o) => ({
        tileId: this.tileToLocalId(o),
        remoteId: this.tileToRemoteId(o),
        mirrored: o.mirrored
      })), this.visibleTileIds = new Set(this.visibleTiles.map((o) => o.tileId));
    }
  }, {
    key: "removeAllTiles",
    value: function() {
      const i = new Set(Object.keys(this.fetchedTiles));
      this.removeTiles([...i]);
    }
  }, {
    key: "refreshTiles",
    value: function() {
      this.calculateVisibleTiles();
      const i = new Set(Object.keys(this.fetchedTiles)), o = [...this.visibleTiles].filter((s) => !this.fetching.has(s.remoteId) && !i.has(s.tileId));
      for (let s = 0; s < o.length; s++)
        this.fetching.add(o[s].remoteId);
      const a = [...i].filter((s) => !this.visibleTileIds.has(s));
      this.removeTiles(a), this.fetchNewTiles(o);
    }
    /**
     * Remove obsolete tiles
     *
     * @param toRemoveIds: An array of tile ids to remove from the list of fetched tiles.
     */
  }, {
    key: "removeTiles",
    value: function(i) {
      i.length && this.areAllVisibleTilesLoaded() && (i.forEach((o) => {
        const a = o;
        this.destroyTile(this.fetchedTiles[a]), a in this.tileGraphics && (this.pMain.removeChild(this.tileGraphics[a]), delete this.tileGraphics[a]), delete this.fetchedTiles[a];
      }), this.synchronizeTilesAndGraphics(), this.draw());
    }
    /*
     * The local tile identifier.
     * @param  {array}  tile  Contains `[zoomLevel, xPos, yPos]`.
     * @return  {string}  Remote ID string
     */
  }, {
    key: "tileToLocalId",
    value: function(i) {
      return i.join(".");
    }
    /**
     * The tile identifier used on the server.
     * @param   {array}  tile  Contains `[zoomLevel, xPos, yPos]`.
     * @return  {string}  Remote ID string
     */
  }, {
    key: "tileToRemoteId",
    value: function(i) {
      return i.join(".");
    }
  }, {
    key: "localToRemoteId",
    value: function(i) {
      const o = i.split(".");
      return o.slice(0, o.length - 1).join(".");
    }
  }, {
    key: "calculateZoomLevel",
    value: function() {
      const i = Je.calculateZoomLevel(this._xScale, this.minX, this.maxX), o = Je.calculateZoomLevel(this._xScale, this.minY, this.maxY);
      let a = Math.min(Math.max(i, o), this.maxZoom);
      return this.options.maxZoom && (this.options.maxZoom >= 0 ? a = Math.min(this.options.maxZoom, a) : console.error("Invalid maxZoom on track:", this)), a;
    }
  }, {
    key: "calculateVisibleTiles",
    value: function() {
      this.zoomLevel = this.calculateZoomLevel(), this.xTiles = Je.calculateTiles(this.zoomLevel, this._xScale, this.minX, this.maxX, this.maxZoom, this.maxWidth), this.yTiles = Je.calculateTiles(this.zoomLevel, this._yScale, this.minY, this.maxY, this.maxZoom, this.maxWidth);
      const i = this.xTiles, o = this.yTiles, a = this.zoomLevel, s = [];
      for (let l = 0; l < i.length; l++)
        for (let u = 0; u < o.length; u++) {
          const c = [a, i[l], o[u]];
          s.push(c);
        }
      this.setVisibleTiles(s);
    }
  }, {
    key: "zoomed",
    value: function(i, o, a, s, l) {
      Il(Oa(r.prototype), "zoomed", this).call(this, i, o), this.xScale(i), this.yScale(o), this.pMain.position.x = s, this.pMain.position.y = l, this.pMain.scale.x = a, this.pMain.scale.y = a, this.refreshTilesDebounced(), this.draw();
    }
  }, {
    key: "setPosition",
    value: function(i) {
      Il(Oa(r.prototype), "setPosition", this).call(this, i);
    }
  }, {
    key: "setDimensions",
    value: function(i) {
      Il(Oa(r.prototype), "setDimensions", this).call(this, i);
    }
    /**
     * Check to see if all the visible tiles are loaded.
     *
     * If they are, remove all other tiles.
     */
  }, {
    key: "areAllVisibleTilesLoaded",
    value: function() {
      const i = new Set(Object.keys(this.fetchedTiles)), o = [...this.visibleTileIds];
      for (let a = 0; a < o.length; a++)
        if (!i.has(o[a]))
          return false;
      return true;
    }
    /**
     * Function is called when all tiles that should be visible have
     * been received.
     */
  }, {
    key: "allTilesLoaded",
    value: function() {
    }
  }, {
    key: "minValue",
    value: function(i) {
      return i && (this.scale.minValue = i), this.scale.minValue;
    }
  }, {
    key: "maxValue",
    value: function(i) {
      return i && (this.scale.maxValue = i), this.scale.maxValue;
    }
  }, {
    key: "minRawValue",
    value: function() {
      return this.scale.minRawValue;
    }
  }, {
    key: "maxRawValue",
    value: function() {
      return this.scale.maxRawValue;
    }
    /**
     * Get the tile's position in its coordinate system.
     */
  }, {
    key: "getTilePosAndDimensions",
    value: function(i, o) {
      const a = this.maxWidth / 2 ** i, s = a, l = this.minX + o[0] * a, u = this.minY + o[1] * s;
      return {
        tileX: l,
        tileY: u,
        tileWidth: a,
        tileHeight: s
      };
    }
  }, {
    key: "setSpriteProperties",
    value: function(i, o, a) {
      const {
        tileX: s,
        tileY: l,
        tileWidth: u,
        tileHeight: c
      } = this.getTilePosAndDimensions(o, a);
      i.x = this._refXScale(s), i.y = this._refYScale(l);
      const f = s + u, h = l + c;
      i.width = this._refXScale(f) - this._refXScale(s), i.height = this._refYScale(h) - this._refYScale(l);
    }
  }, {
    key: "initTile",
    value: function(i) {
      const o = new Ge.PIXI.Texture(new Ge.PIXI.BaseTexture(i.tileData.img)), a = new Ge.PIXI.Sprite(o), s = i.graphics;
      i.sprite = a, this.setSpriteProperties(i.sprite, i.tileData.zoomLevel, i.tileData.tilePos), s.removeChildren(), s.addChild(i.sprite);
    }
  }, {
    key: "updateTile",
    value: function(i) {
    }
  }, {
    key: "destroyTile",
    value: function(i) {
    }
    /**
     * Add graphics for tiles that have no graphics
     */
  }, {
    key: "addMissingGraphics",
    value: function() {
      const i = Object.keys(this.fetchedTiles);
      for (let o = 0; o < i.length; o++)
        if (!(i[o] in this.tileGraphics)) {
          const a = new Ge.PIXI.Graphics();
          this.pMain.addChild(a), this.fetchedTiles[i[o]].graphics = a, this.initTile(this.fetchedTiles[i[o]]), this.tileGraphics[i[o]] = a;
        }
    }
    /**
     * Change the graphics for existing tiles
     */
  }, {
    key: "updateExistingGraphics",
    value: function() {
      const i = Object.keys(this.fetchedTiles);
      for (let o = 0; o < i.length; o++)
        this.updateTile(this.fetchedTiles[i[o]]);
    }
    /**
     * Make sure that we have a one to one mapping between tiles
     * and graphics objects
     */
  }, {
    key: "synchronizeTilesAndGraphics",
    value: function() {
      this.addMissingGraphics(), this.updateExistingGraphics();
    }
    /**
     * Extract drawable data from a tile loaded by a generic tile loader
     *
     * @param tile: A tile returned by a TiledArea.
     * @param dataLoader: A function for extracting drawable data from a tile. This
     *                    usually means differentiating the between dense and sparse
     *                    tiles and putting the data into an array.
     */
  }, {
    key: "loadTileData",
    value: function(i, o) {
      let a = this.lruCache.get(i.tileId);
      return a || (a = o(i.data, i.type), this.lruCache.put(i.tileId, a)), a;
    }
    /**
     * Get the url used to fetch the tile data
     */
  }, {
    key: "getTileUrl",
    value: function(i) {
      const o = ["a", "b", "c"], a = Math.floor(Math.random() * o.length);
      return `https://${o[a]}.tile.openstreetmap.org/${i[0]}/${i[1]}/${i[2]}.png`;
    }
  }, {
    key: "fetchNewTiles",
    value: function(i) {
      if (i.length > 0) {
        const o = [...new Set(i.map((a) => a.remoteId))];
        for (const a of o) {
          const s = a.split("."), l = this.getTileUrl(s), u = new Image();
          u.crossOrigin = "Anonymous", u.src = l, u.onload = () => {
            const c = {};
            c[a] = {
              tileId: a,
              img: u,
              zoomLevel: +s[0],
              tilePos: [+s[1], +s[2]],
              tileSrc: l
            }, this.receivedTiles(c);
          };
        }
      }
    }
    /**
     * We've gotten a bunch of tiles from the server in
     * response to a request from fetchTiles.
     */
  }, {
    key: "receivedTiles",
    value: function(i) {
      for (let o = 0; o < this.visibleTiles.length; o++) {
        const a = this.visibleTiles[o].tileId;
        i[this.visibleTiles[o].remoteId] && this.visibleTiles[o].remoteId in i && (a in this.fetchedTiles || (this.fetchedTiles[a] = this.visibleTiles[o]), this.fetchedTiles[a].tileData = i[this.visibleTiles[o].remoteId]);
      }
      for (const o in i)
        i[o] && this.fetching.has(o) && this.fetching.delete(o);
      this.synchronizeTilesAndGraphics(), this.refreshTiles(), this.draw(), this.animate();
    }
  }, {
    key: "draw",
    value: function() {
      this.delayDrawing || Il(Oa(r.prototype), "draw", this).call(this);
    }
    /**
     * Draw a tile on some graphics
     */
  }, {
    key: "drawTile",
    value: function() {
    }
  }, {
    key: "refScalesChanged",
    value: function(i, o) {
      Il(Oa(r.prototype), "refScalesChanged", this).call(this, i, o);
      for (const a in this.fetchedTiles) {
        const s = this.fetchedTiles[a];
        s.sprite && this.setSpriteProperties(s.sprite, s.tileData.zoomLevel, s.tileData.tilePos);
      }
    }
  }]), r;
}(Ai);
function iGe(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function oGe(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, sGe(n.key), n);
  }
}
function aGe(e13, t, r) {
  return t && oGe(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function sGe(e13) {
  var t = lGe(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function lGe(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
function xb() {
  return typeof Reflect < "u" && Reflect.get ? xb = Reflect.get.bind() : xb = function(t, r, n) {
    var i = cGe(t, r);
    if (i) {
      var o = Object.getOwnPropertyDescriptor(i, r);
      return o.get ? o.get.call(arguments.length < 3 ? t : n) : o.value;
    }
  }, xb.apply(this, arguments);
}
function cGe(e13, t) {
  for (; !Object.prototype.hasOwnProperty.call(e13, t) && (e13 = Ld(e13), e13 !== null); )
    ;
  return e13;
}
function uGe(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  e13.prototype = Object.create(t && t.prototype, { constructor: { value: e13, writable: true, configurable: true } }), Object.defineProperty(e13, "prototype", { writable: false }), t && Ox(e13, t);
}
function Ox(e13, t) {
  return Ox = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, i) {
    return n.__proto__ = i, n;
  }, Ox(e13, t);
}
function hGe(e13) {
  var t = pGe();
  return function() {
    var n = Ld(e13), i;
    if (t) {
      var o = Ld(this).constructor;
      i = Reflect.construct(n, arguments, o);
    } else
      i = n.apply(this, arguments);
    return fGe(this, i);
  };
}
function fGe(e13, t) {
  if (t && (typeof t == "object" || typeof t == "function"))
    return t;
  if (t !== void 0)
    throw new TypeError("Derived constructors may only return object or undefined");
  return dGe(e13);
}
function dGe(e13) {
  if (e13 === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e13;
}
function pGe() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return false;
  if (typeof Proxy == "function")
    return true;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), true;
  } catch {
    return false;
  }
}
function Ld(e13) {
  return Ld = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(r) {
    return r.__proto__ || Object.getPrototypeOf(r);
  }, Ld(e13);
}
var sK = function(e13) {
  uGe(r, e13);
  var t = hGe(r);
  function r() {
    return iGe(this, r), t.apply(this, arguments);
  }
  return aGe(r, [{
    key: "initTile",
    value: function(i) {
      BY.bind(this)(i), this.drawTile(i);
    }
  }, {
    key: "drawTile",
    value: function(i) {
      LY.bind(this)(i);
    }
  }, {
    key: "areAllVisibleTilesLoaded",
    value: function() {
      return true;
    }
  }, {
    key: "fetchNewTiles",
    value: function(i) {
      i.forEach((o) => {
        const s = o.remoteId.split("."), l = {
          zoomLevel: s[0],
          tilePos: s.slice(1, s.length).map((u) => +u)
        };
        this.fetchedTiles[o.tileId] = o, this.fetchedTiles[o.tileId].tileData = l, this.fetching.has(o.remoteId) && this.fetching.delete(o.remoteId);
      }), this.synchronizeTilesAndGraphics(), this.draw(), this.animate();
    }
  }, {
    key: "draw",
    value: function() {
      xb(Ld(r.prototype), "draw", this).call(this);
    }
  }]), r;
}(hy);
function mGe(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function gGe(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, yGe(n.key), n);
  }
}
function vGe(e13, t, r) {
  return t && gGe(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function yGe(e13) {
  var t = _Ge(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function _Ge(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
function kb() {
  return typeof Reflect < "u" && Reflect.get ? kb = Reflect.get.bind() : kb = function(t, r, n) {
    var i = bGe(t, r);
    if (i) {
      var o = Object.getOwnPropertyDescriptor(i, r);
      return o.get ? o.get.call(arguments.length < 3 ? t : n) : o.value;
    }
  }, kb.apply(this, arguments);
}
function bGe(e13, t) {
  for (; !Object.prototype.hasOwnProperty.call(e13, t) && (e13 = Bd(e13), e13 !== null); )
    ;
  return e13;
}
function TGe(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  e13.prototype = Object.create(t && t.prototype, { constructor: { value: e13, writable: true, configurable: true } }), Object.defineProperty(e13, "prototype", { writable: false }), t && Ix(e13, t);
}
function Ix(e13, t) {
  return Ix = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, i) {
    return n.__proto__ = i, n;
  }, Ix(e13, t);
}
function EGe(e13) {
  var t = AGe();
  return function() {
    var n = Bd(e13), i;
    if (t) {
      var o = Bd(this).constructor;
      i = Reflect.construct(n, arguments, o);
    } else
      i = n.apply(this, arguments);
    return SGe(this, i);
  };
}
function SGe(e13, t) {
  if (t && (typeof t == "object" || typeof t == "function"))
    return t;
  if (t !== void 0)
    throw new TypeError("Derived constructors may only return object or undefined");
  return wGe(e13);
}
function wGe(e13) {
  if (e13 === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e13;
}
function AGe() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return false;
  if (typeof Proxy == "function")
    return true;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), true;
  } catch {
    return false;
  }
}
function Bd(e13) {
  return Bd = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(r) {
    return r.__proto__ || Object.getPrototypeOf(r);
  }, Bd(e13);
}
var lK = function(e13) {
  TGe(r, e13);
  var t = EGe(r);
  function r(n, i) {
    var o;
    return mGe(this, r), o = t.call(this, n, i), o.style = i.style, o.options.accessToken || (o.errorTextText = "No access token provided in the viewconf's track options ('accessToken' option).", o.drawError()), o;
  }
  return vGe(r, [{
    key: "rerender",
    value: function(i) {
      kb(Bd(r.prototype), "rerender", this).call(this, i), i.style !== this.style && (this.style = i.style, this.removeAllTiles(), this.refreshTiles());
    }
    /**
     * Get the url used to fetch the tile data
     */
  }, {
    key: "getTileUrl",
    value: function(i) {
      const o = this.options && this.options.style ? this.options.style : "streets-v10", a = this.options && +this.options.tileSize ? +this.options.tileSize : 256;
      return `https://api.mapbox.com/styles/v1/mapbox/${o}/tiles/${a}/${i[0]}/${i[1]}/${i[2]}?access_token=${this.options.accessToken}`;
    }
  }]), r;
}(hy);
function OGe(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function IGe(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, CGe(n.key), n);
  }
}
function PGe(e13, t, r) {
  return t && IGe(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function CGe(e13) {
  var t = xGe(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function xGe(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
function kGe(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  e13.prototype = Object.create(t && t.prototype, { constructor: { value: e13, writable: true, configurable: true } }), Object.defineProperty(e13, "prototype", { writable: false }), t && Px(e13, t);
}
function Px(e13, t) {
  return Px = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, i) {
    return n.__proto__ = i, n;
  }, Px(e13, t);
}
function DGe(e13) {
  var t = MGe();
  return function() {
    var n = hT(e13), i;
    if (t) {
      var o = hT(this).constructor;
      i = Reflect.construct(n, arguments, o);
    } else
      i = n.apply(this, arguments);
    return RGe(this, i);
  };
}
function RGe(e13, t) {
  if (t && (typeof t == "object" || typeof t == "function"))
    return t;
  if (t !== void 0)
    throw new TypeError("Derived constructors may only return object or undefined");
  return NGe(e13);
}
function NGe(e13) {
  if (e13 === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e13;
}
function MGe() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return false;
  if (typeof Proxy == "function")
    return true;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), true;
  } catch {
    return false;
  }
}
function hT(e13) {
  return hT = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(r) {
    return r.__proto__ || Object.getPrototypeOf(r);
  }, hT(e13);
}
var cK = function(e13) {
  kGe(r, e13);
  var t = DGe(r);
  function r(n, i) {
    var o;
    return OGe(this, r), o = t.call(this, n, i), o.style = i.style, o.options.tileSource || (o.errorTextText = "No tile source string provided in the options. It should be in the form of http://a.com/{z}/{x}/{y}", o.drawError()), o;
  }
  return PGe(r, [{
    key: "getTileUrl",
    value: function(i) {
      let o = this.options.tileSource.replace("{z}", i[0]);
      return o = o.replace("{x}", i[1]), o = o.replace("{y}", i[2]), o;
    }
  }]), r;
}(hy);
var LGe = (e13, t, r, n = eE) => {
  const i = r[e13.type];
  return i ? new i.dataFetcher(n, e13, t) : e13.type === "genbank" ? new NY(e13, t) : e13.type === "local-tiles" ? new MY(e13, t) : new uS(e13, t);
};
var yt = 1e-6;
var fT = 1e-12;
var Bt = Math.PI;
var Yr = Bt / 2;
var dT = Bt / 4;
var bi = Bt * 2;
var Sr = 180 / Bt;
var mt = Bt / 180;
var rr = Math.abs;
var Ep = Math.atan;
var Ti = Math.atan2;
var st = Math.cos;
var I_ = Math.ceil;
var uK = Math.exp;
var Cx = Math.hypot;
var pT = Math.log;
var DO = Math.pow;
var tt = Math.sin;
var wo = Math.sign || function(e13) {
  return e13 > 0 ? 1 : e13 < 0 ? -1 : 0;
};
var In = Math.sqrt;
var wM = Math.tan;
function hK(e13) {
  return e13 > 1 ? 0 : e13 < -1 ? Bt : Math.acos(e13);
}
function Ei(e13) {
  return e13 > 1 ? Yr : e13 < -1 ? -Yr : Math.asin(e13);
}
function FU(e13) {
  return (e13 = tt(e13 / 2)) * e13;
}
function zr() {
}
function mT(e13, t) {
  e13 && HU.hasOwnProperty(e13.type) && HU[e13.type](e13, t);
}
var $U = {
  Feature: function(e13, t) {
    mT(e13.geometry, t);
  },
  FeatureCollection: function(e13, t) {
    for (var r = e13.features, n = -1, i = r.length; ++n < i; )
      mT(r[n].geometry, t);
  }
};
var HU = {
  Sphere: function(e13, t) {
    t.sphere();
  },
  Point: function(e13, t) {
    e13 = e13.coordinates, t.point(e13[0], e13[1], e13[2]);
  },
  MultiPoint: function(e13, t) {
    for (var r = e13.coordinates, n = -1, i = r.length; ++n < i; )
      e13 = r[n], t.point(e13[0], e13[1], e13[2]);
  },
  LineString: function(e13, t) {
    xx(e13.coordinates, t, 0);
  },
  MultiLineString: function(e13, t) {
    for (var r = e13.coordinates, n = -1, i = r.length; ++n < i; )
      xx(r[n], t, 0);
  },
  Polygon: function(e13, t) {
    UU(e13.coordinates, t);
  },
  MultiPolygon: function(e13, t) {
    for (var r = e13.coordinates, n = -1, i = r.length; ++n < i; )
      UU(r[n], t);
  },
  GeometryCollection: function(e13, t) {
    for (var r = e13.geometries, n = -1, i = r.length; ++n < i; )
      mT(r[n], t);
  }
};
function xx(e13, t, r) {
  var n = -1, i = e13.length - r, o;
  for (t.lineStart(); ++n < i; )
    o = e13[n], t.point(o[0], o[1], o[2]);
  t.lineEnd();
}
function UU(e13, t) {
  var r = -1, n = e13.length;
  for (t.polygonStart(); ++r < n; )
    xx(e13[r], t, 1);
  t.polygonEnd();
}
function Go(e13, t) {
  e13 && $U.hasOwnProperty(e13.type) ? $U[e13.type](e13, t) : mT(e13, t);
}
var gT = new gn();
var vT = new gn();
var fK;
var dK;
var kx;
var Dx;
var Rx;
var Ga = {
  point: zr,
  lineStart: zr,
  lineEnd: zr,
  polygonStart: function() {
    gT = new gn(), Ga.lineStart = BGe, Ga.lineEnd = FGe;
  },
  polygonEnd: function() {
    var e13 = +gT;
    vT.add(e13 < 0 ? bi + e13 : e13), this.lineStart = this.lineEnd = this.point = zr;
  },
  sphere: function() {
    vT.add(bi);
  }
};
function BGe() {
  Ga.point = $Ge;
}
function FGe() {
  pK(fK, dK);
}
function $Ge(e13, t) {
  Ga.point = pK, fK = e13, dK = t, e13 *= mt, t *= mt, kx = e13, Dx = st(t = t / 2 + dT), Rx = tt(t);
}
function pK(e13, t) {
  e13 *= mt, t *= mt, t = t / 2 + dT;
  var r = e13 - kx, n = r >= 0 ? 1 : -1, i = n * r, o = st(t), a = tt(t), s = Rx * a, l = Dx * o + s * st(i), u = s * n * tt(i);
  gT.add(Ti(u, l)), kx = e13, Dx = o, Rx = a;
}
function HGe(e13) {
  return vT = new gn(), Go(e13, Ga), vT * 2;
}
function yT(e13) {
  return [Ti(e13[1], e13[0]), Ei(e13[2])];
}
function $u(e13) {
  var t = e13[0], r = e13[1], n = st(r);
  return [n * st(t), n * tt(t), tt(r)];
}
function P_(e13, t) {
  return e13[0] * t[0] + e13[1] * t[1] + e13[2] * t[2];
}
function Fd(e13, t) {
  return [e13[1] * t[2] - e13[2] * t[1], e13[2] * t[0] - e13[0] * t[2], e13[0] * t[1] - e13[1] * t[0]];
}
function RO(e13, t) {
  e13[0] += t[0], e13[1] += t[1], e13[2] += t[2];
}
function C_(e13, t) {
  return [e13[0] * t, e13[1] * t, e13[2] * t];
}
function _T(e13) {
  var t = In(e13[0] * e13[0] + e13[1] * e13[1] + e13[2] * e13[2]);
  e13[0] /= t, e13[1] /= t, e13[2] /= t;
}
var Gr;
var Mi;
var Xr;
var Zi;
var Mc;
var mK;
var gK;
var Gf;
var kg;
var Tl;
var Bs;
var hs = {
  point: Nx,
  lineStart: jU,
  lineEnd: GU,
  polygonStart: function() {
    hs.point = yK, hs.lineStart = UGe, hs.lineEnd = jGe, kg = new gn(), Ga.polygonStart();
  },
  polygonEnd: function() {
    Ga.polygonEnd(), hs.point = Nx, hs.lineStart = jU, hs.lineEnd = GU, gT < 0 ? (Gr = -(Xr = 180), Mi = -(Zi = 90)) : kg > yt ? Zi = 90 : kg < -1e-6 && (Mi = -90), Bs[0] = Gr, Bs[1] = Xr;
  },
  sphere: function() {
    Gr = -(Xr = 180), Mi = -(Zi = 90);
  }
};
function Nx(e13, t) {
  Tl.push(Bs = [Gr = e13, Xr = e13]), t < Mi && (Mi = t), t > Zi && (Zi = t);
}
function vK(e13, t) {
  var r = $u([e13 * mt, t * mt]);
  if (Gf) {
    var n = Fd(Gf, r), i = [n[1], -n[0], 0], o = Fd(i, n);
    _T(o), o = yT(o);
    var a = e13 - Mc, s = a > 0 ? 1 : -1, l = o[0] * Sr * s, u, c = rr(a) > 180;
    c ^ (s * Mc < l && l < s * e13) ? (u = o[1] * Sr, u > Zi && (Zi = u)) : (l = (l + 360) % 360 - 180, c ^ (s * Mc < l && l < s * e13) ? (u = -o[1] * Sr, u < Mi && (Mi = u)) : (t < Mi && (Mi = t), t > Zi && (Zi = t))), c ? e13 < Mc ? Yi(Gr, e13) > Yi(Gr, Xr) && (Xr = e13) : Yi(e13, Xr) > Yi(Gr, Xr) && (Gr = e13) : Xr >= Gr ? (e13 < Gr && (Gr = e13), e13 > Xr && (Xr = e13)) : e13 > Mc ? Yi(Gr, e13) > Yi(Gr, Xr) && (Xr = e13) : Yi(e13, Xr) > Yi(Gr, Xr) && (Gr = e13);
  } else
    Tl.push(Bs = [Gr = e13, Xr = e13]);
  t < Mi && (Mi = t), t > Zi && (Zi = t), Gf = r, Mc = e13;
}
function jU() {
  hs.point = vK;
}
function GU() {
  Bs[0] = Gr, Bs[1] = Xr, hs.point = Nx, Gf = null;
}
function yK(e13, t) {
  if (Gf) {
    var r = e13 - Mc;
    kg.add(rr(r) > 180 ? r + (r > 0 ? 360 : -360) : r);
  } else
    mK = e13, gK = t;
  Ga.point(e13, t), vK(e13, t);
}
function UGe() {
  Ga.lineStart();
}
function jGe() {
  yK(mK, gK), Ga.lineEnd(), rr(kg) > yt && (Gr = -(Xr = 180)), Bs[0] = Gr, Bs[1] = Xr, Gf = null;
}
function Yi(e13, t) {
  return (t -= e13) < 0 ? t + 360 : t;
}
function GGe(e13, t) {
  return e13[0] - t[0];
}
function zU(e13, t) {
  return e13[0] <= e13[1] ? e13[0] <= t && t <= e13[1] : t < e13[0] || e13[1] < t;
}
function zGe(e13) {
  var t, r, n, i, o, a, s;
  if (Zi = Xr = -(Gr = Mi = 1 / 0), Tl = [], Go(e13, hs), r = Tl.length) {
    for (Tl.sort(GGe), t = 1, n = Tl[0], o = [n]; t < r; ++t)
      i = Tl[t], zU(n, i[0]) || zU(n, i[1]) ? (Yi(n[0], i[1]) > Yi(n[0], n[1]) && (n[1] = i[1]), Yi(i[0], n[1]) > Yi(n[0], n[1]) && (n[0] = i[0])) : o.push(n = i);
    for (a = -1 / 0, r = o.length - 1, t = 0, n = o[r]; t <= r; n = i, ++t)
      i = o[t], (s = Yi(n[1], i[0])) > a && (a = s, Gr = i[0], Xr = n[1]);
  }
  return Tl = Bs = null, Gr === 1 / 0 || Mi === 1 / 0 ? [[NaN, NaN], [NaN, NaN]] : [[Gr, Mi], [Xr, Zi]];
}
var Mm;
var bT;
var TT;
var ET;
var ST;
var wT;
var AT;
var OT;
var Mx;
var Lx;
var Bx;
var _K;
var bK;
var pi;
var mi;
var gi;
var Wo = {
  sphere: zr,
  point: AM,
  lineStart: VU,
  lineEnd: XU,
  polygonStart: function() {
    Wo.lineStart = WGe, Wo.lineEnd = YGe;
  },
  polygonEnd: function() {
    Wo.lineStart = VU, Wo.lineEnd = XU;
  }
};
function AM(e13, t) {
  e13 *= mt, t *= mt;
  var r = st(t);
  fy(r * st(e13), r * tt(e13), tt(t));
}
function fy(e13, t, r) {
  ++Mm, TT += (e13 - TT) / Mm, ET += (t - ET) / Mm, ST += (r - ST) / Mm;
}
function VU() {
  Wo.point = VGe;
}
function VGe(e13, t) {
  e13 *= mt, t *= mt;
  var r = st(t);
  pi = r * st(e13), mi = r * tt(e13), gi = tt(t), Wo.point = XGe, fy(pi, mi, gi);
}
function XGe(e13, t) {
  e13 *= mt, t *= mt;
  var r = st(t), n = r * st(e13), i = r * tt(e13), o = tt(t), a = Ti(In((a = mi * o - gi * i) * a + (a = gi * n - pi * o) * a + (a = pi * i - mi * n) * a), pi * n + mi * i + gi * o);
  bT += a, wT += a * (pi + (pi = n)), AT += a * (mi + (mi = i)), OT += a * (gi + (gi = o)), fy(pi, mi, gi);
}
function XU() {
  Wo.point = AM;
}
function WGe() {
  Wo.point = qGe;
}
function YGe() {
  TK(_K, bK), Wo.point = AM;
}
function qGe(e13, t) {
  _K = e13, bK = t, e13 *= mt, t *= mt, Wo.point = TK;
  var r = st(t);
  pi = r * st(e13), mi = r * tt(e13), gi = tt(t), fy(pi, mi, gi);
}
function TK(e13, t) {
  e13 *= mt, t *= mt;
  var r = st(t), n = r * st(e13), i = r * tt(e13), o = tt(t), a = mi * o - gi * i, s = gi * n - pi * o, l = pi * i - mi * n, u = Cx(a, s, l), c = Ei(u), f = u && -c / u;
  Mx.add(f * a), Lx.add(f * s), Bx.add(f * l), bT += c, wT += c * (pi + (pi = n)), AT += c * (mi + (mi = i)), OT += c * (gi + (gi = o)), fy(pi, mi, gi);
}
function KGe(e13) {
  Mm = bT = TT = ET = ST = wT = AT = OT = 0, Mx = new gn(), Lx = new gn(), Bx = new gn(), Go(e13, Wo);
  var t = +Mx, r = +Lx, n = +Bx, i = Cx(t, r, n);
  return i < fT && (t = wT, r = AT, n = OT, bT < yt && (t = TT, r = ET, n = ST), i = Cx(t, r, n), i < fT) ? [NaN, NaN] : [Ti(r, t) * Sr, Ei(n / i) * Sr];
}
function Fh(e13) {
  return function() {
    return e13;
  };
}
function Fx(e13, t) {
  function r(n, i) {
    return n = e13(n, i), t(n[0], n[1]);
  }
  return e13.invert && t.invert && (r.invert = function(n, i) {
    return n = t.invert(n, i), n && e13.invert(n[0], n[1]);
  }), r;
}
function $x(e13, t) {
  return [rr(e13) > Bt ? e13 + Math.round(-e13 / bi) * bi : e13, t];
}
$x.invert = $x;
function OM(e13, t, r) {
  return (e13 %= bi) ? t || r ? Fx(YU(e13), qU(t, r)) : YU(e13) : t || r ? qU(t, r) : $x;
}
function WU(e13) {
  return function(t, r) {
    return t += e13, [t > Bt ? t - bi : t < -Bt ? t + bi : t, r];
  };
}
function YU(e13) {
  var t = WU(e13);
  return t.invert = WU(-e13), t;
}
function qU(e13, t) {
  var r = st(e13), n = tt(e13), i = st(t), o = tt(t);
  function a(s, l) {
    var u = st(l), c = st(s) * u, f = tt(s) * u, h = tt(l), d = h * r + c * n;
    return [Ti(f * i - d * o, c * r - h * n), Ei(d * i + f * o)];
  }
  return a.invert = function(s, l) {
    var u = st(l), c = st(s) * u, f = tt(s) * u, h = tt(l), d = h * i - f * o;
    return [Ti(f * i + h * o, c * r + d * n), Ei(d * r - c * n)];
  }, a;
}
function EK(e13) {
  e13 = OM(e13[0] * mt, e13[1] * mt, e13.length > 2 ? e13[2] * mt : 0);
  function t(r) {
    return r = e13(r[0] * mt, r[1] * mt), r[0] *= Sr, r[1] *= Sr, r;
  }
  return t.invert = function(r) {
    return r = e13.invert(r[0] * mt, r[1] * mt), r[0] *= Sr, r[1] *= Sr, r;
  }, t;
}
function SK(e13, t, r, n, i, o) {
  if (r) {
    var a = st(t), s = tt(t), l = n * r;
    i == null ? (i = t + n * bi, o = t - l / 2) : (i = KU(a, i), o = KU(a, o), (n > 0 ? i < o : i > o) && (i += n * bi));
    for (var u, c = i; n > 0 ? c > o : c < o; c -= l)
      u = yT([a, -s * st(c), -s * tt(c)]), e13.point(u[0], u[1]);
  }
}
function KU(e13, t) {
  t = $u(t), t[0] -= e13, _T(t);
  var r = hK(-t[1]);
  return ((-t[2] < 0 ? -r : r) + bi - yt) % bi;
}
function ZGe() {
  var e13 = Fh([0, 0]), t = Fh(90), r = Fh(6), n, i, o = {
    point: a
  };
  function a(l, u) {
    n.push(l = i(l, u)), l[0] *= Sr, l[1] *= Sr;
  }
  function s() {
    var l = e13.apply(this, arguments), u = t.apply(this, arguments) * mt, c = r.apply(this, arguments) * mt;
    return n = [], i = OM(-l[0] * mt, -l[1] * mt, 0).invert, SK(o, u, c, 1), l = {
      type: "Polygon",
      coordinates: [n]
    }, n = i = null, l;
  }
  return s.center = function(l) {
    return arguments.length ? (e13 = typeof l == "function" ? l : Fh([+l[0], +l[1]]), s) : e13;
  }, s.radius = function(l) {
    return arguments.length ? (t = typeof l == "function" ? l : Fh(+l), s) : t;
  }, s.precision = function(l) {
    return arguments.length ? (r = typeof l == "function" ? l : Fh(+l), s) : r;
  }, s;
}
function wK() {
  var e13 = [], t;
  return {
    point: function(r, n, i) {
      t.push([r, n, i]);
    },
    lineStart: function() {
      e13.push(t = []);
    },
    lineEnd: zr,
    rejoin: function() {
      e13.length > 1 && e13.push(e13.pop().concat(e13.shift()));
    },
    result: function() {
      var r = e13;
      return e13 = [], t = null, r;
    }
  };
}
function Db(e13, t) {
  return rr(e13[0] - t[0]) < yt && rr(e13[1] - t[1]) < yt;
}
function x_(e13, t, r, n) {
  this.x = e13, this.z = t, this.o = r, this.e = n, this.v = false, this.n = this.p = null;
}
function AK(e13, t, r, n, i) {
  var o = [], a = [], s, l;
  if (e13.forEach(function(p) {
    if (!((m = p.length - 1) <= 0)) {
      var m, g = p[0], v = p[m], b;
      if (Db(g, v)) {
        if (!g[2] && !v[2]) {
          for (i.lineStart(), s = 0; s < m; ++s)
            i.point((g = p[s])[0], g[1]);
          i.lineEnd();
          return;
        }
        v[0] += 2 * yt;
      }
      o.push(b = new x_(g, p, null, true)), a.push(b.o = new x_(g, null, b, false)), o.push(b = new x_(v, p, null, false)), a.push(b.o = new x_(v, null, b, true));
    }
  }), !!o.length) {
    for (a.sort(t), ZU(o), ZU(a), s = 0, l = a.length; s < l; ++s)
      a[s].e = r = !r;
    for (var u = o[0], c, f; ; ) {
      for (var h = u, d = true; h.v; )
        if ((h = h.n) === u)
          return;
      c = h.z, i.lineStart();
      do {
        if (h.v = h.o.v = true, h.e) {
          if (d)
            for (s = 0, l = c.length; s < l; ++s)
              i.point((f = c[s])[0], f[1]);
          else
            n(h.x, h.n.x, 1, i);
          h = h.n;
        } else {
          if (d)
            for (c = h.p.z, s = c.length - 1; s >= 0; --s)
              i.point((f = c[s])[0], f[1]);
          else
            n(h.x, h.p.x, -1, i);
          h = h.p;
        }
        h = h.o, c = h.z, d = !d;
      } while (!h.v);
      i.lineEnd();
    }
  }
}
function ZU(e13) {
  if (t = e13.length) {
    for (var t, r = 0, n = e13[0], i; ++r < t; )
      n.n = i = e13[r], i.p = n, n = i;
    n.n = i = e13[0], i.p = n;
  }
}
function NO(e13) {
  return rr(e13[0]) <= Bt ? e13[0] : wo(e13[0]) * ((rr(e13[0]) + Bt) % bi - Bt);
}
function OK(e13, t) {
  var r = NO(t), n = t[1], i = tt(n), o = [tt(r), -st(r), 0], a = 0, s = 0, l = new gn();
  i === 1 ? n = Yr + yt : i === -1 && (n = -Yr - yt);
  for (var u = 0, c = e13.length; u < c; ++u)
    if (h = (f = e13[u]).length)
      for (var f, h, d = f[h - 1], p = NO(d), m = d[1] / 2 + dT, g = tt(m), v = st(m), b = 0; b < h; ++b, p = _, g = E, v = O, d = y) {
        var y = f[b], _ = NO(y), T = y[1] / 2 + dT, E = tt(T), O = st(T), S = _ - p, P = S >= 0 ? 1 : -1, C = P * S, w = C > Bt, N = g * E;
        if (l.add(Ti(N * P * tt(C), v * O + N * st(C))), a += w ? S + P * bi : S, w ^ p >= r ^ _ >= r) {
          var L = Fd($u(d), $u(y));
          _T(L);
          var A = Fd(o, L);
          _T(A);
          var R = (w ^ S >= 0 ? -1 : 1) * Ei(A[2]);
          (n > R || n === R && (L[0] || L[1])) && (s += w ^ S >= 0 ? 1 : -1);
        }
      }
  return (a < -1e-6 || a < yt && l < -1e-12) ^ s & 1;
}
function IK(e13, t, r, n) {
  return function(i) {
    var o = t(i), a = wK(), s = t(a), l = false, u, c, f, h = {
      point: d,
      lineStart: m,
      lineEnd: g,
      polygonStart: function() {
        h.point = v, h.lineStart = b, h.lineEnd = y, c = [], u = [];
      },
      polygonEnd: function() {
        h.point = d, h.lineStart = m, h.lineEnd = g, c = BD(c);
        var _ = OK(u, n);
        c.length ? (l || (i.polygonStart(), l = true), AK(c, JGe, _, r, i)) : _ && (l || (i.polygonStart(), l = true), i.lineStart(), r(null, null, 1, i), i.lineEnd()), l && (i.polygonEnd(), l = false), c = u = null;
      },
      sphere: function() {
        i.polygonStart(), i.lineStart(), r(null, null, 1, i), i.lineEnd(), i.polygonEnd();
      }
    };
    function d(_, T) {
      e13(_, T) && i.point(_, T);
    }
    function p(_, T) {
      o.point(_, T);
    }
    function m() {
      h.point = p, o.lineStart();
    }
    function g() {
      h.point = d, o.lineEnd();
    }
    function v(_, T) {
      f.push([_, T]), s.point(_, T);
    }
    function b() {
      s.lineStart(), f = [];
    }
    function y() {
      v(f[0][0], f[0][1]), s.lineEnd();
      var _ = s.clean(), T = a.result(), E, O = T.length, S, P, C;
      if (f.pop(), u.push(f), f = null, !!O) {
        if (_ & 1) {
          if (P = T[0], (S = P.length - 1) > 0) {
            for (l || (i.polygonStart(), l = true), i.lineStart(), E = 0; E < S; ++E)
              i.point((C = P[E])[0], C[1]);
            i.lineEnd();
          }
          return;
        }
        O > 1 && _ & 2 && T.push(T.pop().concat(T.shift())), c.push(T.filter(QGe));
      }
    }
    return h;
  };
}
function QGe(e13) {
  return e13.length > 1;
}
function JGe(e13, t) {
  return ((e13 = e13.x)[0] < 0 ? e13[1] - Yr - yt : Yr - e13[1]) - ((t = t.x)[0] < 0 ? t[1] - Yr - yt : Yr - t[1]);
}
var Hx = IK(function() {
  return true;
}, e6e, r6e, [-Bt, -Yr]);
function e6e(e13) {
  var t = NaN, r = NaN, n = NaN, i;
  return {
    lineStart: function() {
      e13.lineStart(), i = 1;
    },
    point: function(o, a) {
      var s = o > 0 ? Bt : -Bt, l = rr(o - t);
      rr(l - Bt) < yt ? (e13.point(t, r = (r + a) / 2 > 0 ? Yr : -Yr), e13.point(n, r), e13.lineEnd(), e13.lineStart(), e13.point(s, r), e13.point(o, r), i = 0) : n !== s && l >= Bt && (rr(t - n) < yt && (t -= n * yt), rr(o - s) < yt && (o -= s * yt), r = t6e(t, r, o, a), e13.point(n, r), e13.lineEnd(), e13.lineStart(), e13.point(s, r), i = 0), e13.point(t = o, r = a), n = s;
    },
    lineEnd: function() {
      e13.lineEnd(), t = r = NaN;
    },
    clean: function() {
      return 2 - i;
    }
  };
}
function t6e(e13, t, r, n) {
  var i, o, a = tt(e13 - r);
  return rr(a) > yt ? Ep((tt(t) * (o = st(n)) * tt(r) - tt(n) * (i = st(t)) * tt(e13)) / (i * o * a)) : (t + n) / 2;
}
function r6e(e13, t, r, n) {
  var i;
  if (e13 == null)
    i = r * Yr, n.point(-Bt, i), n.point(0, i), n.point(Bt, i), n.point(Bt, 0), n.point(Bt, -i), n.point(0, -i), n.point(-Bt, -i), n.point(-Bt, 0), n.point(-Bt, i);
  else if (rr(e13[0] - t[0]) > yt) {
    var o = e13[0] < t[0] ? Bt : -Bt;
    i = r * o / 2, n.point(-o, i), n.point(0, i), n.point(o, i);
  } else
    n.point(t[0], t[1]);
}
function PK(e13) {
  var t = st(e13), r = 6 * mt, n = t > 0, i = rr(t) > yt;
  function o(c, f, h, d) {
    SK(d, e13, r, h, c, f);
  }
  function a(c, f) {
    return st(c) * st(f) > t;
  }
  function s(c) {
    var f, h, d, p, m;
    return {
      lineStart: function() {
        p = d = false, m = 1;
      },
      point: function(g, v) {
        var b = [g, v], y, _ = a(g, v), T = n ? _ ? 0 : u(g, v) : _ ? u(g + (g < 0 ? Bt : -Bt), v) : 0;
        if (!f && (p = d = _) && c.lineStart(), _ !== d && (y = l(f, b), (!y || Db(f, y) || Db(b, y)) && (b[2] = 1)), _ !== d)
          m = 0, _ ? (c.lineStart(), y = l(b, f), c.point(y[0], y[1])) : (y = l(f, b), c.point(y[0], y[1], 2), c.lineEnd()), f = y;
        else if (i && f && n ^ _) {
          var E;
          !(T & h) && (E = l(b, f, true)) && (m = 0, n ? (c.lineStart(), c.point(E[0][0], E[0][1]), c.point(E[1][0], E[1][1]), c.lineEnd()) : (c.point(E[1][0], E[1][1]), c.lineEnd(), c.lineStart(), c.point(E[0][0], E[0][1], 3)));
        }
        _ && (!f || !Db(f, b)) && c.point(b[0], b[1]), f = b, d = _, h = T;
      },
      lineEnd: function() {
        d && c.lineEnd(), f = null;
      },
      // Rejoin first and last segments if there were intersections and the first
      // and last points were visible.
      clean: function() {
        return m | (p && d) << 1;
      }
    };
  }
  function l(c, f, h) {
    var d = $u(c), p = $u(f), m = [1, 0, 0], g = Fd(d, p), v = P_(g, g), b = g[0], y = v - b * b;
    if (!y)
      return !h && c;
    var _ = t * v / y, T = -t * b / y, E = Fd(m, g), O = C_(m, _), S = C_(g, T);
    RO(O, S);
    var P = E, C = P_(O, P), w = P_(P, P), N = C * C - w * (P_(O, O) - 1);
    if (!(N < 0)) {
      var L = In(N), A = C_(P, (-C - L) / w);
      if (RO(A, O), A = yT(A), !h)
        return A;
      var R = c[0], F = f[0], $ = c[1], K = f[1], ie;
      F < R && (ie = R, R = F, F = ie);
      var J = F - R, pe = rr(J - Bt) < yt, oe = pe || J < yt;
      if (!pe && K < $ && (ie = $, $ = K, K = ie), oe ? pe ? $ + K > 0 ^ A[1] < (rr(A[0] - R) < yt ? $ : K) : $ <= A[1] && A[1] <= K : J > Bt ^ (R <= A[0] && A[0] <= F)) {
        var q = C_(P, (-C + L) / w);
        return RO(q, O), [A, yT(q)];
      }
    }
  }
  function u(c, f) {
    var h = n ? e13 : Bt - e13, d = 0;
    return c < -h ? d |= 1 : c > h && (d |= 2), f < -h ? d |= 4 : f > h && (d |= 8), d;
  }
  return IK(a, s, o, n ? [0, -e13] : [-Bt, e13 - Bt]);
}
function n6e(e13, t, r, n, i, o) {
  var a = e13[0], s = e13[1], l = t[0], u = t[1], c = 0, f = 1, h = l - a, d = u - s, p;
  if (p = r - a, !(!h && p > 0)) {
    if (p /= h, h < 0) {
      if (p < c)
        return;
      p < f && (f = p);
    } else if (h > 0) {
      if (p > f)
        return;
      p > c && (c = p);
    }
    if (p = i - a, !(!h && p < 0)) {
      if (p /= h, h < 0) {
        if (p > f)
          return;
        p > c && (c = p);
      } else if (h > 0) {
        if (p < c)
          return;
        p < f && (f = p);
      }
      if (p = n - s, !(!d && p > 0)) {
        if (p /= d, d < 0) {
          if (p < c)
            return;
          p < f && (f = p);
        } else if (d > 0) {
          if (p > f)
            return;
          p > c && (c = p);
        }
        if (p = o - s, !(!d && p < 0)) {
          if (p /= d, d < 0) {
            if (p > f)
              return;
            p > c && (c = p);
          } else if (d > 0) {
            if (p < c)
              return;
            p < f && (f = p);
          }
          return c > 0 && (e13[0] = a + c * h, e13[1] = s + c * d), f < 1 && (t[0] = a + f * h, t[1] = s + f * d), true;
        }
      }
    }
  }
}
var k_ = 1e9;
var D_ = -1e9;
function bS(e13, t, r, n) {
  function i(u, c) {
    return e13 <= u && u <= r && t <= c && c <= n;
  }
  function o(u, c, f, h) {
    var d = 0, p = 0;
    if (u == null || (d = a(u, f)) !== (p = a(c, f)) || l(u, c) < 0 ^ f > 0)
      do
        h.point(d === 0 || d === 3 ? e13 : r, d > 1 ? n : t);
      while ((d = (d + f + 4) % 4) !== p);
    else
      h.point(c[0], c[1]);
  }
  function a(u, c) {
    return rr(u[0] - e13) < yt ? c > 0 ? 0 : 3 : rr(u[0] - r) < yt ? c > 0 ? 2 : 1 : rr(u[1] - t) < yt ? c > 0 ? 1 : 0 : c > 0 ? 3 : 2;
  }
  function s(u, c) {
    return l(u.x, c.x);
  }
  function l(u, c) {
    var f = a(u, 1), h = a(c, 1);
    return f !== h ? f - h : f === 0 ? c[1] - u[1] : f === 1 ? u[0] - c[0] : f === 2 ? u[1] - c[1] : c[0] - u[0];
  }
  return function(u) {
    var c = u, f = wK(), h, d, p, m, g, v, b, y, _, T, E, O = {
      point: S,
      lineStart: N,
      lineEnd: L,
      polygonStart: C,
      polygonEnd: w
    };
    function S(R, F) {
      i(R, F) && c.point(R, F);
    }
    function P() {
      for (var R = 0, F = 0, $ = d.length; F < $; ++F)
        for (var K = d[F], ie = 1, J = K.length, pe = K[0], oe, q, W = pe[0], se = pe[1]; ie < J; ++ie)
          oe = W, q = se, pe = K[ie], W = pe[0], se = pe[1], q <= n ? se > n && (W - oe) * (n - q) > (se - q) * (e13 - oe) && ++R : se <= n && (W - oe) * (n - q) < (se - q) * (e13 - oe) && --R;
      return R;
    }
    function C() {
      c = f, h = [], d = [], E = true;
    }
    function w() {
      var R = P(), F = E && R, $ = (h = BD(h)).length;
      (F || $) && (u.polygonStart(), F && (u.lineStart(), o(null, null, 1, u), u.lineEnd()), $ && AK(h, s, R, o, u), u.polygonEnd()), c = u, h = d = p = null;
    }
    function N() {
      O.point = A, d && d.push(p = []), T = true, _ = false, b = y = NaN;
    }
    function L() {
      h && (A(m, g), v && _ && f.rejoin(), h.push(f.result())), O.point = S, _ && c.lineEnd();
    }
    function A(R, F) {
      var $ = i(R, F);
      if (d && p.push([R, F]), T)
        m = R, g = F, v = $, T = false, $ && (c.lineStart(), c.point(R, F));
      else if ($ && _)
        c.point(R, F);
      else {
        var K = [b = Math.max(D_, Math.min(k_, b)), y = Math.max(D_, Math.min(k_, y))], ie = [R = Math.max(D_, Math.min(k_, R)), F = Math.max(D_, Math.min(k_, F))];
        n6e(K, ie, e13, t, r, n) ? (_ || (c.lineStart(), c.point(K[0], K[1])), c.point(ie[0], ie[1]), $ || c.lineEnd(), E = false) : $ && (c.lineStart(), c.point(R, F), E = false);
      }
      b = R, y = F, _ = $;
    }
    return O;
  };
}
function i6e() {
  var e13 = 0, t = 0, r = 960, n = 500, i, o, a;
  return a = {
    stream: function(s) {
      return i && o === s ? i : i = bS(e13, t, r, n)(o = s);
    },
    extent: function(s) {
      return arguments.length ? (e13 = +s[0][0], t = +s[0][1], r = +s[1][0], n = +s[1][1], i = o = null, a) : [[e13, t], [r, n]];
    }
  };
}
var Ux;
var jx;
var Rb;
var Nb;
var $d = {
  sphere: zr,
  point: zr,
  lineStart: o6e,
  lineEnd: zr,
  polygonStart: zr,
  polygonEnd: zr
};
function o6e() {
  $d.point = s6e, $d.lineEnd = a6e;
}
function a6e() {
  $d.point = $d.lineEnd = zr;
}
function s6e(e13, t) {
  e13 *= mt, t *= mt, jx = e13, Rb = tt(t), Nb = st(t), $d.point = l6e;
}
function l6e(e13, t) {
  e13 *= mt, t *= mt;
  var r = tt(t), n = st(t), i = rr(e13 - jx), o = st(i), a = tt(i), s = n * a, l = Nb * r - Rb * n * o, u = Rb * r + Nb * n * o;
  Ux.add(Ti(In(s * s + l * l), u)), jx = e13, Rb = r, Nb = n;
}
function CK(e13) {
  return Ux = new gn(), Go(e13, $d), +Ux;
}
var Gx = [null, null];
var c6e = {
  type: "LineString",
  coordinates: Gx
};
function IT(e13, t) {
  return Gx[0] = e13, Gx[1] = t, CK(c6e);
}
var QU = {
  Feature: function(e13, t) {
    return PT(e13.geometry, t);
  },
  FeatureCollection: function(e13, t) {
    for (var r = e13.features, n = -1, i = r.length; ++n < i; )
      if (PT(r[n].geometry, t))
        return true;
    return false;
  }
};
var JU = {
  Sphere: function() {
    return true;
  },
  Point: function(e13, t) {
    return ej(e13.coordinates, t);
  },
  MultiPoint: function(e13, t) {
    for (var r = e13.coordinates, n = -1, i = r.length; ++n < i; )
      if (ej(r[n], t))
        return true;
    return false;
  },
  LineString: function(e13, t) {
    return tj(e13.coordinates, t);
  },
  MultiLineString: function(e13, t) {
    for (var r = e13.coordinates, n = -1, i = r.length; ++n < i; )
      if (tj(r[n], t))
        return true;
    return false;
  },
  Polygon: function(e13, t) {
    return rj(e13.coordinates, t);
  },
  MultiPolygon: function(e13, t) {
    for (var r = e13.coordinates, n = -1, i = r.length; ++n < i; )
      if (rj(r[n], t))
        return true;
    return false;
  },
  GeometryCollection: function(e13, t) {
    for (var r = e13.geometries, n = -1, i = r.length; ++n < i; )
      if (PT(r[n], t))
        return true;
    return false;
  }
};
function PT(e13, t) {
  return e13 && JU.hasOwnProperty(e13.type) ? JU[e13.type](e13, t) : false;
}
function ej(e13, t) {
  return IT(e13, t) === 0;
}
function tj(e13, t) {
  for (var r, n, i, o = 0, a = e13.length; o < a; o++) {
    if (n = IT(e13[o], t), n === 0 || o > 0 && (i = IT(e13[o], e13[o - 1]), i > 0 && r <= i && n <= i && (r + n - i) * (1 - Math.pow((r - n) / i, 2)) < fT * i))
      return true;
    r = n;
  }
  return false;
}
function rj(e13, t) {
  return !!OK(e13.map(u6e), xK(t));
}
function u6e(e13) {
  return e13 = e13.map(xK), e13.pop(), e13;
}
function xK(e13) {
  return [e13[0] * mt, e13[1] * mt];
}
function h6e(e13, t) {
  return (e13 && QU.hasOwnProperty(e13.type) ? QU[e13.type] : PT)(e13, t);
}
function nj(e13, t, r) {
  var n = vi(e13, t - yt, r).concat(t);
  return function(i) {
    return n.map(function(o) {
      return [i, o];
    });
  };
}
function ij(e13, t, r) {
  var n = vi(e13, t - yt, r).concat(t);
  return function(i) {
    return n.map(function(o) {
      return [o, i];
    });
  };
}
function kK() {
  var e13, t, r, n, i, o, a, s, l = 10, u = l, c = 90, f = 360, h, d, p, m, g = 2.5;
  function v() {
    return {
      type: "MultiLineString",
      coordinates: b()
    };
  }
  function b() {
    return vi(I_(n / c) * c, r, c).map(p).concat(vi(I_(s / f) * f, a, f).map(m)).concat(vi(I_(t / l) * l, e13, l).filter(function(y) {
      return rr(y % c) > yt;
    }).map(h)).concat(vi(I_(o / u) * u, i, u).filter(function(y) {
      return rr(y % f) > yt;
    }).map(d));
  }
  return v.lines = function() {
    return b().map(function(y) {
      return {
        type: "LineString",
        coordinates: y
      };
    });
  }, v.outline = function() {
    return {
      type: "Polygon",
      coordinates: [p(n).concat(m(a).slice(1), p(r).reverse().slice(1), m(s).reverse().slice(1))]
    };
  }, v.extent = function(y) {
    return arguments.length ? v.extentMajor(y).extentMinor(y) : v.extentMinor();
  }, v.extentMajor = function(y) {
    return arguments.length ? (n = +y[0][0], r = +y[1][0], s = +y[0][1], a = +y[1][1], n > r && (y = n, n = r, r = y), s > a && (y = s, s = a, a = y), v.precision(g)) : [[n, s], [r, a]];
  }, v.extentMinor = function(y) {
    return arguments.length ? (t = +y[0][0], e13 = +y[1][0], o = +y[0][1], i = +y[1][1], t > e13 && (y = t, t = e13, e13 = y), o > i && (y = o, o = i, i = y), v.precision(g)) : [[t, o], [e13, i]];
  }, v.step = function(y) {
    return arguments.length ? v.stepMajor(y).stepMinor(y) : v.stepMinor();
  }, v.stepMajor = function(y) {
    return arguments.length ? (c = +y[0], f = +y[1], v) : [c, f];
  }, v.stepMinor = function(y) {
    return arguments.length ? (l = +y[0], u = +y[1], v) : [l, u];
  }, v.precision = function(y) {
    return arguments.length ? (g = +y, h = nj(o, i, 90), d = ij(t, e13, g), p = nj(s, a, 90), m = ij(n, r, g), v) : g;
  }, v.extentMajor([[-180, -90 + yt], [180, 90 - yt]]).extentMinor([[-180, -80 - yt], [180, 80 + yt]]);
}
function f6e() {
  return kK()();
}
function d6e(e13, t) {
  var r = e13[0] * mt, n = e13[1] * mt, i = t[0] * mt, o = t[1] * mt, a = st(n), s = tt(n), l = st(o), u = tt(o), c = a * st(r), f = a * tt(r), h = l * st(i), d = l * tt(i), p = 2 * Ei(In(FU(o - n) + a * l * FU(i - r))), m = tt(p), g = p ? function(v) {
    var b = tt(v *= p) / m, y = tt(p - v) / m, _ = y * c + b * h, T = y * f + b * d, E = y * s + b * u;
    return [Ti(T, _) * Sr, Ti(E, In(_ * _ + T * T)) * Sr];
  } : function() {
    return [r * Sr, n * Sr];
  };
  return g.distance = p, g;
}
var gv = (e13) => e13;
var MO = new gn();
var zx = new gn();
var DK;
var RK;
var Vx;
var Xx;
var Pl = {
  point: zr,
  lineStart: zr,
  lineEnd: zr,
  polygonStart: function() {
    Pl.lineStart = p6e, Pl.lineEnd = g6e;
  },
  polygonEnd: function() {
    Pl.lineStart = Pl.lineEnd = Pl.point = zr, MO.add(rr(zx)), zx = new gn();
  },
  result: function() {
    var e13 = MO / 2;
    return MO = new gn(), e13;
  }
};
function p6e() {
  Pl.point = m6e;
}
function m6e(e13, t) {
  Pl.point = NK, DK = Vx = e13, RK = Xx = t;
}
function NK(e13, t) {
  zx.add(Xx * e13 - Vx * t), Vx = e13, Xx = t;
}
function g6e() {
  NK(DK, RK);
}
var oj = Pl;
var Hd = 1 / 0;
var CT = Hd;
var vv = -Hd;
var xT = vv;
var v6e = {
  point: y6e,
  lineStart: zr,
  lineEnd: zr,
  polygonStart: zr,
  polygonEnd: zr,
  result: function() {
    var e13 = [[Hd, CT], [vv, xT]];
    return vv = xT = -(CT = Hd = 1 / 0), e13;
  }
};
function y6e(e13, t) {
  e13 < Hd && (Hd = e13), e13 > vv && (vv = e13), t < CT && (CT = t), t > xT && (xT = t);
}
var kT = v6e;
var Wx = 0;
var Yx = 0;
var Lm = 0;
var DT = 0;
var RT = 0;
var yf = 0;
var qx = 0;
var Kx = 0;
var Bm = 0;
var MK;
var LK;
var Ia;
var Pa;
var zo = {
  point: Hu,
  lineStart: aj,
  lineEnd: sj,
  polygonStart: function() {
    zo.lineStart = T6e, zo.lineEnd = E6e;
  },
  polygonEnd: function() {
    zo.point = Hu, zo.lineStart = aj, zo.lineEnd = sj;
  },
  result: function() {
    var e13 = Bm ? [qx / Bm, Kx / Bm] : yf ? [DT / yf, RT / yf] : Lm ? [Wx / Lm, Yx / Lm] : [NaN, NaN];
    return Wx = Yx = Lm = DT = RT = yf = qx = Kx = Bm = 0, e13;
  }
};
function Hu(e13, t) {
  Wx += e13, Yx += t, ++Lm;
}
function aj() {
  zo.point = _6e;
}
function _6e(e13, t) {
  zo.point = b6e, Hu(Ia = e13, Pa = t);
}
function b6e(e13, t) {
  var r = e13 - Ia, n = t - Pa, i = In(r * r + n * n);
  DT += i * (Ia + e13) / 2, RT += i * (Pa + t) / 2, yf += i, Hu(Ia = e13, Pa = t);
}
function sj() {
  zo.point = Hu;
}
function T6e() {
  zo.point = S6e;
}
function E6e() {
  BK(MK, LK);
}
function S6e(e13, t) {
  zo.point = BK, Hu(MK = Ia = e13, LK = Pa = t);
}
function BK(e13, t) {
  var r = e13 - Ia, n = t - Pa, i = In(r * r + n * n);
  DT += i * (Ia + e13) / 2, RT += i * (Pa + t) / 2, yf += i, i = Pa * e13 - Ia * t, qx += i * (Ia + e13), Kx += i * (Pa + t), Bm += i * 3, Hu(Ia = e13, Pa = t);
}
var lj = zo;
function FK(e13) {
  this._context = e13;
}
FK.prototype = {
  _radius: 4.5,
  pointRadius: function(e13) {
    return this._radius = e13, this;
  },
  polygonStart: function() {
    this._line = 0;
  },
  polygonEnd: function() {
    this._line = NaN;
  },
  lineStart: function() {
    this._point = 0;
  },
  lineEnd: function() {
    this._line === 0 && this._context.closePath(), this._point = NaN;
  },
  point: function(e13, t) {
    switch (this._point) {
      case 0: {
        this._context.moveTo(e13, t), this._point = 1;
        break;
      }
      case 1: {
        this._context.lineTo(e13, t);
        break;
      }
      default: {
        this._context.moveTo(e13 + this._radius, t), this._context.arc(e13, t, this._radius, 0, bi);
        break;
      }
    }
  },
  result: zr
};
var Zx = new gn();
var LO;
var $K;
var HK;
var Fm;
var $m;
var NT = {
  point: zr,
  lineStart: function() {
    NT.point = w6e;
  },
  lineEnd: function() {
    LO && UK($K, HK), NT.point = zr;
  },
  polygonStart: function() {
    LO = true;
  },
  polygonEnd: function() {
    LO = null;
  },
  result: function() {
    var e13 = +Zx;
    return Zx = new gn(), e13;
  }
};
function w6e(e13, t) {
  NT.point = UK, $K = Fm = e13, HK = $m = t;
}
function UK(e13, t) {
  Fm -= e13, $m -= t, Zx.add(In(Fm * Fm + $m * $m)), Fm = e13, $m = t;
}
var cj = NT;
function jK() {
  this._string = [];
}
jK.prototype = {
  _radius: 4.5,
  _circle: uj(4.5),
  pointRadius: function(e13) {
    return (e13 = +e13) !== this._radius && (this._radius = e13, this._circle = null), this;
  },
  polygonStart: function() {
    this._line = 0;
  },
  polygonEnd: function() {
    this._line = NaN;
  },
  lineStart: function() {
    this._point = 0;
  },
  lineEnd: function() {
    this._line === 0 && this._string.push("Z"), this._point = NaN;
  },
  point: function(e13, t) {
    switch (this._point) {
      case 0: {
        this._string.push("M", e13, ",", t), this._point = 1;
        break;
      }
      case 1: {
        this._string.push("L", e13, ",", t);
        break;
      }
      default: {
        this._circle == null && (this._circle = uj(this._radius)), this._string.push("M", e13, ",", t, this._circle);
        break;
      }
    }
  },
  result: function() {
    if (this._string.length) {
      var e13 = this._string.join("");
      return this._string = [], e13;
    } else
      return null;
  }
};
function uj(e13) {
  return "m0," + e13 + "a" + e13 + "," + e13 + " 0 1,1 0," + -2 * e13 + "a" + e13 + "," + e13 + " 0 1,1 0," + 2 * e13 + "z";
}
function A6e(e13, t) {
  var r = 4.5, n, i;
  function o(a) {
    return a && (typeof r == "function" && i.pointRadius(+r.apply(this, arguments)), Go(a, n(i))), i.result();
  }
  return o.area = function(a) {
    return Go(a, n(oj)), oj.result();
  }, o.measure = function(a) {
    return Go(a, n(cj)), cj.result();
  }, o.bounds = function(a) {
    return Go(a, n(kT)), kT.result();
  }, o.centroid = function(a) {
    return Go(a, n(lj)), lj.result();
  }, o.projection = function(a) {
    return arguments.length ? (n = a == null ? (e13 = null, gv) : (e13 = a).stream, o) : e13;
  }, o.context = function(a) {
    return arguments.length ? (i = a == null ? (t = null, new jK()) : new FK(t = a), typeof r != "function" && i.pointRadius(r), o) : t;
  }, o.pointRadius = function(a) {
    return arguments.length ? (r = typeof a == "function" ? a : (i.pointRadius(+a), +a), o) : r;
  }, o.projection(e13).context(t);
}
function O6e(e13) {
  return {
    stream: dy(e13)
  };
}
function dy(e13) {
  return function(t) {
    var r = new Qx();
    for (var n in e13)
      r[n] = e13[n];
    return r.stream = t, r;
  };
}
function Qx() {
}
Qx.prototype = {
  constructor: Qx,
  point: function(e13, t) {
    this.stream.point(e13, t);
  },
  sphere: function() {
    this.stream.sphere();
  },
  lineStart: function() {
    this.stream.lineStart();
  },
  lineEnd: function() {
    this.stream.lineEnd();
  },
  polygonStart: function() {
    this.stream.polygonStart();
  },
  polygonEnd: function() {
    this.stream.polygonEnd();
  }
};
function IM(e13, t, r) {
  var n = e13.clipExtent && e13.clipExtent();
  return e13.scale(150).translate([0, 0]), n != null && e13.clipExtent(null), Go(r, e13.stream(kT)), t(kT.result()), n != null && e13.clipExtent(n), e13;
}
function TS(e13, t, r) {
  return IM(e13, function(n) {
    var i = t[1][0] - t[0][0], o = t[1][1] - t[0][1], a = Math.min(i / (n[1][0] - n[0][0]), o / (n[1][1] - n[0][1])), s = +t[0][0] + (i - a * (n[1][0] + n[0][0])) / 2, l = +t[0][1] + (o - a * (n[1][1] + n[0][1])) / 2;
    e13.scale(150 * a).translate([s, l]);
  }, r);
}
function PM(e13, t, r) {
  return TS(e13, [[0, 0], t], r);
}
function CM(e13, t, r) {
  return IM(e13, function(n) {
    var i = +t, o = i / (n[1][0] - n[0][0]), a = (i - o * (n[1][0] + n[0][0])) / 2, s = -o * n[0][1];
    e13.scale(150 * o).translate([a, s]);
  }, r);
}
function xM(e13, t, r) {
  return IM(e13, function(n) {
    var i = +t, o = i / (n[1][1] - n[0][1]), a = -o * n[0][0], s = (i - o * (n[1][1] + n[0][1])) / 2;
    e13.scale(150 * o).translate([a, s]);
  }, r);
}
var hj = 16;
var I6e = st(30 * mt);
function fj(e13, t) {
  return +t ? C6e(e13, t) : P6e(e13);
}
function P6e(e13) {
  return dy({
    point: function(t, r) {
      t = e13(t, r), this.stream.point(t[0], t[1]);
    }
  });
}
function C6e(e13, t) {
  function r(n, i, o, a, s, l, u, c, f, h, d, p, m, g) {
    var v = u - n, b = c - i, y = v * v + b * b;
    if (y > 4 * t && m--) {
      var _ = a + h, T = s + d, E = l + p, O = In(_ * _ + T * T + E * E), S = Ei(E /= O), P = rr(rr(E) - 1) < yt || rr(o - f) < yt ? (o + f) / 2 : Ti(T, _), C = e13(P, S), w = C[0], N = C[1], L = w - n, A = N - i, R = b * L - v * A;
      (R * R / y > t || rr((v * L + b * A) / y - 0.5) > 0.3 || a * h + s * d + l * p < I6e) && (r(n, i, o, a, s, l, w, N, P, _ /= O, T /= O, E, m, g), g.point(w, N), r(w, N, P, _, T, E, u, c, f, h, d, p, m, g));
    }
  }
  return function(n) {
    var i, o, a, s, l, u, c, f, h, d, p, m, g = {
      point: v,
      lineStart: b,
      lineEnd: _,
      polygonStart: function() {
        n.polygonStart(), g.lineStart = T;
      },
      polygonEnd: function() {
        n.polygonEnd(), g.lineStart = b;
      }
    };
    function v(S, P) {
      S = e13(S, P), n.point(S[0], S[1]);
    }
    function b() {
      f = NaN, g.point = y, n.lineStart();
    }
    function y(S, P) {
      var C = $u([S, P]), w = e13(S, P);
      r(f, h, c, d, p, m, f = w[0], h = w[1], c = S, d = C[0], p = C[1], m = C[2], hj, n), n.point(f, h);
    }
    function _() {
      g.point = v, n.lineEnd();
    }
    function T() {
      b(), g.point = E, g.lineEnd = O;
    }
    function E(S, P) {
      y(i = S, P), o = f, a = h, s = d, l = p, u = m, g.point = y;
    }
    function O() {
      r(f, h, c, d, p, m, o, a, i, s, l, u, hj, n), g.lineEnd = _, _();
    }
    return g;
  };
}
var x6e = dy({
  point: function(e13, t) {
    this.stream.point(e13 * mt, t * mt);
  }
});
function k6e(e13) {
  return dy({
    point: function(t, r) {
      var n = e13(t, r);
      return this.stream.point(n[0], n[1]);
    }
  });
}
function D6e(e13, t, r, n, i) {
  function o(a, s) {
    return a *= n, s *= i, [t + e13 * a, r - e13 * s];
  }
  return o.invert = function(a, s) {
    return [(a - t) / e13 * n, (r - s) / e13 * i];
  }, o;
}
function dj(e13, t, r, n, i, o) {
  if (!o)
    return D6e(e13, t, r, n, i);
  var a = st(o), s = tt(o), l = a * e13, u = s * e13, c = a / e13, f = s / e13, h = (s * r - a * t) / e13, d = (s * t + a * r) / e13;
  function p(m, g) {
    return m *= n, g *= i, [l * m - u * g + t, r - u * m - l * g];
  }
  return p.invert = function(m, g) {
    return [n * (c * m - f * g + h), i * (d - f * m - c * g)];
  }, p;
}
function Ka(e13) {
  return kM(function() {
    return e13;
  })();
}
function kM(e13) {
  var t, r = 150, n = 480, i = 250, o = 0, a = 0, s = 0, l = 0, u = 0, c, f = 0, h = 1, d = 1, p = null, m = Hx, g = null, v, b, y, _ = gv, T = 0.5, E, O, S, P, C;
  function w(R) {
    return S(R[0] * mt, R[1] * mt);
  }
  function N(R) {
    return R = S.invert(R[0], R[1]), R && [R[0] * Sr, R[1] * Sr];
  }
  w.stream = function(R) {
    return P && C === R ? P : P = x6e(k6e(c)(m(E(_(C = R)))));
  }, w.preclip = function(R) {
    return arguments.length ? (m = R, p = void 0, A()) : m;
  }, w.postclip = function(R) {
    return arguments.length ? (_ = R, g = v = b = y = null, A()) : _;
  }, w.clipAngle = function(R) {
    return arguments.length ? (m = +R ? PK(p = R * mt) : (p = null, Hx), A()) : p * Sr;
  }, w.clipExtent = function(R) {
    return arguments.length ? (_ = R == null ? (g = v = b = y = null, gv) : bS(g = +R[0][0], v = +R[0][1], b = +R[1][0], y = +R[1][1]), A()) : g == null ? null : [[g, v], [b, y]];
  }, w.scale = function(R) {
    return arguments.length ? (r = +R, L()) : r;
  }, w.translate = function(R) {
    return arguments.length ? (n = +R[0], i = +R[1], L()) : [n, i];
  }, w.center = function(R) {
    return arguments.length ? (o = R[0] % 360 * mt, a = R[1] % 360 * mt, L()) : [o * Sr, a * Sr];
  }, w.rotate = function(R) {
    return arguments.length ? (s = R[0] % 360 * mt, l = R[1] % 360 * mt, u = R.length > 2 ? R[2] % 360 * mt : 0, L()) : [s * Sr, l * Sr, u * Sr];
  }, w.angle = function(R) {
    return arguments.length ? (f = R % 360 * mt, L()) : f * Sr;
  }, w.reflectX = function(R) {
    return arguments.length ? (h = R ? -1 : 1, L()) : h < 0;
  }, w.reflectY = function(R) {
    return arguments.length ? (d = R ? -1 : 1, L()) : d < 0;
  }, w.precision = function(R) {
    return arguments.length ? (E = fj(O, T = R * R), A()) : In(T);
  }, w.fitExtent = function(R, F) {
    return TS(w, R, F);
  }, w.fitSize = function(R, F) {
    return PM(w, R, F);
  }, w.fitWidth = function(R, F) {
    return CM(w, R, F);
  }, w.fitHeight = function(R, F) {
    return xM(w, R, F);
  };
  function L() {
    var R = dj(r, 0, 0, h, d, f).apply(null, t(o, a)), F = dj(r, n - R[0], i - R[1], h, d, f);
    return c = OM(s, l, u), O = Fx(t, F), S = Fx(c, O), E = fj(O, T), A();
  }
  function A() {
    return P = C = null, w;
  }
  return function() {
    return t = e13.apply(this, arguments), w.invert = t.invert && N, L();
  };
}
function DM(e13) {
  var t = 0, r = Bt / 3, n = kM(e13), i = n(t, r);
  return i.parallels = function(o) {
    return arguments.length ? n(t = o[0] * mt, r = o[1] * mt) : [t * Sr, r * Sr];
  }, i;
}
function R6e(e13) {
  var t = st(e13);
  function r(n, i) {
    return [n * t, tt(i) / t];
  }
  return r.invert = function(n, i) {
    return [n / t, Ei(i * t)];
  }, r;
}
function GK(e13, t) {
  var r = tt(e13), n = (r + tt(t)) / 2;
  if (rr(n) < yt)
    return R6e(e13);
  var i = 1 + r * (2 * n - r), o = In(i) / n;
  function a(s, l) {
    var u = In(i - 2 * n * tt(l)) / n;
    return [u * tt(s *= n), o - u * st(s)];
  }
  return a.invert = function(s, l) {
    var u = o - l, c = Ti(s, rr(u)) * wo(u);
    return u * n < 0 && (c -= Bt * wo(s) * wo(u)), [c / n, Ei((i - (s * s + u * u) * n * n) / (2 * n))];
  }, a;
}
function MT() {
  return DM(GK).scale(155.424).center([0, 33.6442]);
}
function zK() {
  return MT().parallels([29.5, 45.5]).scale(1070).translate([480, 250]).rotate([96, 0]).center([-0.6, 38.7]);
}
function N6e(e13) {
  var t = e13.length;
  return {
    point: function(r, n) {
      for (var i = -1; ++i < t; )
        e13[i].point(r, n);
    },
    sphere: function() {
      for (var r = -1; ++r < t; )
        e13[r].sphere();
    },
    lineStart: function() {
      for (var r = -1; ++r < t; )
        e13[r].lineStart();
    },
    lineEnd: function() {
      for (var r = -1; ++r < t; )
        e13[r].lineEnd();
    },
    polygonStart: function() {
      for (var r = -1; ++r < t; )
        e13[r].polygonStart();
    },
    polygonEnd: function() {
      for (var r = -1; ++r < t; )
        e13[r].polygonEnd();
    }
  };
}
function M6e() {
  var e13, t, r = zK(), n, i = MT().rotate([154, 0]).center([-2, 58.5]).parallels([55, 65]), o, a = MT().rotate([157, 0]).center([-3, 19.9]).parallels([8, 18]), s, l, u = {
    point: function(h, d) {
      l = [h, d];
    }
  };
  function c(h) {
    var d = h[0], p = h[1];
    return l = null, n.point(d, p), l || (o.point(d, p), l) || (s.point(d, p), l);
  }
  c.invert = function(h) {
    var d = r.scale(), p = r.translate(), m = (h[0] - p[0]) / d, g = (h[1] - p[1]) / d;
    return (g >= 0.12 && g < 0.234 && m >= -0.425 && m < -0.214 ? i : g >= 0.166 && g < 0.234 && m >= -0.214 && m < -0.115 ? a : r).invert(h);
  }, c.stream = function(h) {
    return e13 && t === h ? e13 : e13 = N6e([r.stream(t = h), i.stream(h), a.stream(h)]);
  }, c.precision = function(h) {
    return arguments.length ? (r.precision(h), i.precision(h), a.precision(h), f()) : r.precision();
  }, c.scale = function(h) {
    return arguments.length ? (r.scale(h), i.scale(h * 0.35), a.scale(h), c.translate(r.translate())) : r.scale();
  }, c.translate = function(h) {
    if (!arguments.length)
      return r.translate();
    var d = r.scale(), p = +h[0], m = +h[1];
    return n = r.translate(h).clipExtent([[p - 0.455 * d, m - 0.238 * d], [p + 0.455 * d, m + 0.238 * d]]).stream(u), o = i.translate([p - 0.307 * d, m + 0.201 * d]).clipExtent([[p - 0.425 * d + yt, m + 0.12 * d + yt], [p - 0.214 * d - yt, m + 0.234 * d - yt]]).stream(u), s = a.translate([p - 0.205 * d, m + 0.212 * d]).clipExtent([[p - 0.214 * d + yt, m + 0.166 * d + yt], [p - 0.115 * d - yt, m + 0.234 * d - yt]]).stream(u), f();
  }, c.fitExtent = function(h, d) {
    return TS(c, h, d);
  }, c.fitSize = function(h, d) {
    return PM(c, h, d);
  }, c.fitWidth = function(h, d) {
    return CM(c, h, d);
  }, c.fitHeight = function(h, d) {
    return xM(c, h, d);
  };
  function f() {
    return e13 = t = null, c;
  }
  return c.scale(1070);
}
function VK(e13) {
  return function(t, r) {
    var n = st(t), i = st(r), o = e13(n * i);
    return o === 1 / 0 ? [2, 0] : [o * i * tt(t), o * tt(r)];
  };
}
function py(e13) {
  return function(t, r) {
    var n = In(t * t + r * r), i = e13(n), o = tt(i), a = st(i);
    return [Ti(t * o, n * a), Ei(n && r * o / n)];
  };
}
var RM = VK(function(e13) {
  return In(2 / (1 + e13));
});
RM.invert = py(function(e13) {
  return 2 * Ei(e13 / 2);
});
function L6e() {
  return Ka(RM).scale(124.75).clipAngle(180 - 1e-3);
}
var NM = VK(function(e13) {
  return (e13 = hK(e13)) && e13 / tt(e13);
});
NM.invert = py(function(e13) {
  return e13;
});
function B6e() {
  return Ka(NM).scale(79.4188).clipAngle(180 - 1e-3);
}
function my(e13, t) {
  return [e13, pT(wM((Yr + t) / 2))];
}
my.invert = function(e13, t) {
  return [e13, 2 * Ep(uK(t)) - Yr];
};
function F6e() {
  return XK(my).scale(961 / bi);
}
function XK(e13) {
  var t = Ka(e13), r = t.center, n = t.scale, i = t.translate, o = t.clipExtent, a = null, s, l, u;
  t.scale = function(f) {
    return arguments.length ? (n(f), c()) : n();
  }, t.translate = function(f) {
    return arguments.length ? (i(f), c()) : i();
  }, t.center = function(f) {
    return arguments.length ? (r(f), c()) : r();
  }, t.clipExtent = function(f) {
    return arguments.length ? (f == null ? a = s = l = u = null : (a = +f[0][0], s = +f[0][1], l = +f[1][0], u = +f[1][1]), c()) : a == null ? null : [[a, s], [l, u]];
  };
  function c() {
    var f = Bt * n(), h = t(EK(t.rotate()).invert([0, 0]));
    return o(a == null ? [[h[0] - f, h[1] - f], [h[0] + f, h[1] + f]] : e13 === my ? [[Math.max(h[0] - f, a), s], [Math.min(h[0] + f, l), u]] : [[a, Math.max(h[1] - f, s)], [l, Math.min(h[1] + f, u)]]);
  }
  return c();
}
function R_(e13) {
  return wM((Yr + e13) / 2);
}
function WK(e13, t) {
  var r = st(e13), n = e13 === t ? tt(e13) : pT(r / st(t)) / pT(R_(t) / R_(e13)), i = r * DO(R_(e13), n) / n;
  if (!n)
    return my;
  function o(a, s) {
    i > 0 ? s < -Yr + yt && (s = -Yr + yt) : s > Yr - yt && (s = Yr - yt);
    var l = i / DO(R_(s), n);
    return [l * tt(n * a), i - l * st(n * a)];
  }
  return o.invert = function(a, s) {
    var l = i - s, u = wo(n) * In(a * a + l * l), c = Ti(a, rr(l)) * wo(l);
    return l * n < 0 && (c -= Bt * wo(a) * wo(l)), [c / n, 2 * Ep(DO(i / u, 1 / n)) - Yr];
  }, o;
}
function $6e() {
  return DM(WK).scale(109.5).parallels([30, 30]);
}
function yv(e13, t) {
  return [e13, t];
}
yv.invert = yv;
function H6e() {
  return Ka(yv).scale(152.63);
}
function YK(e13, t) {
  var r = st(e13), n = e13 === t ? tt(e13) : (r - st(t)) / (t - e13), i = r / n + e13;
  if (rr(n) < yt)
    return yv;
  function o(a, s) {
    var l = i - s, u = n * a;
    return [l * tt(u), i - l * st(u)];
  }
  return o.invert = function(a, s) {
    var l = i - s, u = Ti(a, rr(l)) * wo(l);
    return l * n < 0 && (u -= Bt * wo(a) * wo(l)), [u / n, i - wo(n) * In(a * a + l * l)];
  }, o;
}
function U6e() {
  return DM(YK).scale(131.154).center([0, 13.9389]);
}
var Dg = 1.340264;
var Rg = -0.081106;
var Ng = 893e-6;
var Mg = 3796e-6;
var LT = In(3) / 2;
var j6e = 12;
function MM(e13, t) {
  var r = Ei(LT * tt(t)), n = r * r, i = n * n * n;
  return [e13 * st(r) / (LT * (Dg + 3 * Rg * n + i * (7 * Ng + 9 * Mg * n))), r * (Dg + Rg * n + i * (Ng + Mg * n))];
}
MM.invert = function(e13, t) {
  for (var r = t, n = r * r, i = n * n * n, o = 0, a, s, l; o < j6e && (s = r * (Dg + Rg * n + i * (Ng + Mg * n)) - t, l = Dg + 3 * Rg * n + i * (7 * Ng + 9 * Mg * n), r -= a = s / l, n = r * r, i = n * n * n, !(rr(a) < fT)); ++o)
    ;
  return [LT * e13 * (Dg + 3 * Rg * n + i * (7 * Ng + 9 * Mg * n)) / st(r), Ei(tt(r) / LT)];
};
function G6e() {
  return Ka(MM).scale(177.158);
}
function LM(e13, t) {
  var r = st(t), n = st(e13) * r;
  return [r * tt(e13) / n, tt(t) / n];
}
LM.invert = py(Ep);
function z6e() {
  return Ka(LM).scale(144.049).clipAngle(60);
}
function V6e() {
  var e13 = 1, t = 0, r = 0, n = 1, i = 1, o = 0, a, s, l = null, u, c, f, h = 1, d = 1, p = dy({
    point: function(_, T) {
      var E = y([_, T]);
      this.stream.point(E[0], E[1]);
    }
  }), m = gv, g, v;
  function b() {
    return h = e13 * n, d = e13 * i, g = v = null, y;
  }
  function y(_) {
    var T = _[0] * h, E = _[1] * d;
    if (o) {
      var O = E * a - T * s;
      T = T * a + E * s, E = O;
    }
    return [T + t, E + r];
  }
  return y.invert = function(_) {
    var T = _[0] - t, E = _[1] - r;
    if (o) {
      var O = E * a + T * s;
      T = T * a - E * s, E = O;
    }
    return [T / h, E / d];
  }, y.stream = function(_) {
    return g && v === _ ? g : g = p(m(v = _));
  }, y.postclip = function(_) {
    return arguments.length ? (m = _, l = u = c = f = null, b()) : m;
  }, y.clipExtent = function(_) {
    return arguments.length ? (m = _ == null ? (l = u = c = f = null, gv) : bS(l = +_[0][0], u = +_[0][1], c = +_[1][0], f = +_[1][1]), b()) : l == null ? null : [[l, u], [c, f]];
  }, y.scale = function(_) {
    return arguments.length ? (e13 = +_, b()) : e13;
  }, y.translate = function(_) {
    return arguments.length ? (t = +_[0], r = +_[1], b()) : [t, r];
  }, y.angle = function(_) {
    return arguments.length ? (o = _ % 360 * mt, s = tt(o), a = st(o), b()) : o * Sr;
  }, y.reflectX = function(_) {
    return arguments.length ? (n = _ ? -1 : 1, b()) : n < 0;
  }, y.reflectY = function(_) {
    return arguments.length ? (i = _ ? -1 : 1, b()) : i < 0;
  }, y.fitExtent = function(_, T) {
    return TS(y, _, T);
  }, y.fitSize = function(_, T) {
    return PM(y, _, T);
  }, y.fitWidth = function(_, T) {
    return CM(y, _, T);
  }, y.fitHeight = function(_, T) {
    return xM(y, _, T);
  }, y;
}
function BM(e13, t) {
  var r = t * t, n = r * r;
  return [e13 * (0.8707 - 0.131979 * r + n * (-0.013791 + n * (3971e-6 * r - 1529e-6 * n))), t * (1.007226 + r * (0.015085 + n * (-0.044475 + 0.028874 * r - 5916e-6 * n)))];
}
BM.invert = function(e13, t) {
  var r = t, n = 25, i;
  do {
    var o = r * r, a = o * o;
    r -= i = (r * (1.007226 + o * (0.015085 + a * (-0.044475 + 0.028874 * o - 5916e-6 * a))) - t) / (1.007226 + o * (0.015085 * 3 + a * (-0.044475 * 7 + 0.028874 * 9 * o - 5916e-6 * 11 * a)));
  } while (rr(i) > yt && --n > 0);
  return [e13 / (0.8707 + (o = r * r) * (-0.131979 + o * (-0.013791 + o * o * o * (3971e-6 - 1529e-6 * o)))), r];
};
function X6e() {
  return Ka(BM).scale(175.295);
}
function FM(e13, t) {
  return [st(t) * tt(e13), tt(t)];
}
FM.invert = py(Ei);
function W6e() {
  return Ka(FM).scale(249.5).clipAngle(90 + yt);
}
function $M(e13, t) {
  var r = st(t), n = 1 + st(e13) * r;
  return [r * tt(e13) / n, tt(t) / n];
}
$M.invert = py(function(e13) {
  return 2 * Ep(e13);
});
function Y6e() {
  return Ka($M).scale(250).clipAngle(142);
}
function HM(e13, t) {
  return [pT(wM((Yr + t) / 2)), -e13];
}
HM.invert = function(e13, t) {
  return [-t, 2 * Ep(uK(e13)) - Yr];
};
function q6e() {
  var e13 = XK(HM), t = e13.center, r = e13.rotate;
  return e13.center = function(n) {
    return arguments.length ? t([-n[1], n[0]]) : (n = t(), [n[1], -n[0]]);
  }, e13.rotate = function(n) {
    return arguments.length ? r([n[0], n[1], n.length > 2 ? n[2] + 90 : 90]) : (n = r(), [n[0], n[1], n[2] - 90]);
  }, r([0, 0, 90]).scale(159.155);
}
var K6e = Object.freeze(Object.defineProperty({
  __proto__: null,
  geoAlbers: zK,
  geoAlbersUsa: M6e,
  geoArea: HGe,
  geoAzimuthalEqualArea: L6e,
  geoAzimuthalEqualAreaRaw: RM,
  geoAzimuthalEquidistant: B6e,
  geoAzimuthalEquidistantRaw: NM,
  geoBounds: zGe,
  geoCentroid: KGe,
  geoCircle: ZGe,
  geoClipAntimeridian: Hx,
  geoClipCircle: PK,
  geoClipExtent: i6e,
  geoClipRectangle: bS,
  geoConicConformal: $6e,
  geoConicConformalRaw: WK,
  geoConicEqualArea: MT,
  geoConicEqualAreaRaw: GK,
  geoConicEquidistant: U6e,
  geoConicEquidistantRaw: YK,
  geoContains: h6e,
  geoDistance: IT,
  geoEqualEarth: G6e,
  geoEqualEarthRaw: MM,
  geoEquirectangular: H6e,
  geoEquirectangularRaw: yv,
  geoGnomonic: z6e,
  geoGnomonicRaw: LM,
  geoGraticule: kK,
  geoGraticule10: f6e,
  geoIdentity: V6e,
  geoInterpolate: d6e,
  geoLength: CK,
  geoMercator: F6e,
  geoMercatorRaw: my,
  geoNaturalEarth1: X6e,
  geoNaturalEarth1Raw: BM,
  geoOrthographic: W6e,
  geoOrthographicRaw: FM,
  geoPath: A6e,
  geoProjection: Ka,
  geoProjectionMutator: kM,
  geoRotation: EK,
  geoStereographic: Y6e,
  geoStereographicRaw: $M,
  geoStream: Go,
  geoTransform: O6e,
  geoTransverseMercator: q6e,
  geoTransverseMercatorRaw: HM
}, Symbol.toStringTag, { value: "Module" }));
var Z6e = [].slice;
var Q6e = {};
function Jx(e13) {
  this._size = e13, this._call = this._error = null, this._tasks = [], this._data = [], this._waiting = this._active = this._ended = this._start = 0;
}
Jx.prototype = KK.prototype = {
  constructor: Jx,
  defer: function(e13) {
    if (typeof e13 != "function")
      throw new Error("invalid callback");
    if (this._call)
      throw new Error("defer after await");
    if (this._error != null)
      return this;
    var t = Z6e.call(arguments, 1);
    return t.push(e13), ++this._waiting, this._tasks.push(t), qK(this), this;
  },
  abort: function() {
    return this._error == null && UM(this, new Error("abort")), this;
  },
  await: function(e13) {
    if (typeof e13 != "function")
      throw new Error("invalid callback");
    if (this._call)
      throw new Error("multiple await");
    return this._call = function(t, r) {
      e13.apply(null, [t].concat(r));
    }, BT(this), this;
  },
  awaitAll: function(e13) {
    if (typeof e13 != "function")
      throw new Error("invalid callback");
    if (this._call)
      throw new Error("multiple await");
    return this._call = e13, BT(this), this;
  }
};
function qK(e13) {
  if (!e13._start)
    try {
      J6e(e13);
    } catch (t) {
      if (e13._tasks[e13._ended + e13._active - 1])
        UM(e13, t);
      else if (!e13._data)
        throw t;
    }
}
function J6e(e13) {
  for (; e13._start = e13._waiting && e13._active < e13._size; ) {
    var t = e13._ended + e13._active, r = e13._tasks[t], n = r.length - 1, i = r[n];
    r[n] = eze(e13, t), --e13._waiting, ++e13._active, r = i.apply(null, r), e13._tasks[t] && (e13._tasks[t] = r || Q6e);
  }
}
function eze(e13, t) {
  return function(r, n) {
    e13._tasks[t] && (--e13._active, ++e13._ended, e13._tasks[t] = null, e13._error == null && (r != null ? UM(e13, r) : (e13._data[t] = n, e13._waiting ? qK(e13) : BT(e13))));
  };
}
function UM(e13, t) {
  var r = e13._tasks.length, n;
  for (e13._error = t, e13._data = void 0, e13._waiting = NaN; --r >= 0; )
    if ((n = e13._tasks[r]) && (e13._tasks[r] = null, n.abort))
      try {
        n.abort();
      } catch {
      }
  e13._active = NaN, BT(e13);
}
function BT(e13) {
  if (!e13._active && e13._call) {
    var t = e13._data;
    e13._data = void 0, e13._call(e13._error, t);
  }
}
function KK(e13) {
  if (e13 == null)
    e13 = 1 / 0;
  else if (!((e13 = +e13) >= 1))
    throw new Error("invalid concurrency");
  return new Jx(e13);
}
var tze = Object.freeze(Object.defineProperty({
  __proto__: null,
  queue: KK
}, Symbol.toStringTag, { value: "Module" }));
var co = "$";
function FT() {
}
FT.prototype = jM.prototype = {
  constructor: FT,
  has: function(e13) {
    return co + e13 in this;
  },
  get: function(e13) {
    return this[co + e13];
  },
  set: function(e13, t) {
    return this[co + e13] = t, this;
  },
  remove: function(e13) {
    var t = co + e13;
    return t in this && delete this[t];
  },
  clear: function() {
    for (var e13 in this)
      e13[0] === co && delete this[e13];
  },
  keys: function() {
    var e13 = [];
    for (var t in this)
      t[0] === co && e13.push(t.slice(1));
    return e13;
  },
  values: function() {
    var e13 = [];
    for (var t in this)
      t[0] === co && e13.push(this[t]);
    return e13;
  },
  entries: function() {
    var e13 = [];
    for (var t in this)
      t[0] === co && e13.push({
        key: t.slice(1),
        value: this[t]
      });
    return e13;
  },
  size: function() {
    var e13 = 0;
    for (var t in this)
      t[0] === co && ++e13;
    return e13;
  },
  empty: function() {
    for (var e13 in this)
      if (e13[0] === co)
        return false;
    return true;
  },
  each: function(e13) {
    for (var t in this)
      t[0] === co && e13(this[t], t.slice(1), this);
  }
};
function jM(e13, t) {
  var r = new FT();
  if (e13 instanceof FT)
    e13.each(function(s, l) {
      r.set(l, s);
    });
  else if (Array.isArray(e13)) {
    var n = -1, i = e13.length, o;
    if (t == null)
      for (; ++n < i; )
        r.set(n, e13[n]);
    else
      for (; ++n < i; )
        r.set(t(o = e13[n], n, e13), o);
  } else if (e13)
    for (var a in e13)
      r.set(a, e13[a]);
  return r;
}
function pj() {
}
var Oc = jM.prototype;
pj.prototype = {
  constructor: pj,
  has: Oc.has,
  add: function(e13) {
    return e13 += "", this[co + e13] = e13, this;
  },
  remove: Oc.remove,
  clear: Oc.clear,
  values: Oc.keys,
  size: Oc.size,
  empty: Oc.empty,
  each: Oc.each
};
var rze = {
  value: function() {
  }
};
function ZK() {
  for (var e13 = 0, t = arguments.length, r = {}, n; e13 < t; ++e13) {
    if (!(n = arguments[e13] + "") || n in r || /[\s.]/.test(n))
      throw new Error("illegal type: " + n);
    r[n] = [];
  }
  return new Mb(r);
}
function Mb(e13) {
  this._ = e13;
}
function nze(e13, t) {
  return e13.trim().split(/^|\s+/).map(function(r) {
    var n = "", i = r.indexOf(".");
    if (i >= 0 && (n = r.slice(i + 1), r = r.slice(0, i)), r && !t.hasOwnProperty(r))
      throw new Error("unknown type: " + r);
    return {
      type: r,
      name: n
    };
  });
}
Mb.prototype = ZK.prototype = {
  constructor: Mb,
  on: function(e13, t) {
    var r = this._, n = nze(e13 + "", r), i, o = -1, a = n.length;
    if (arguments.length < 2) {
      for (; ++o < a; )
        if ((i = (e13 = n[o]).type) && (i = ize(r[i], e13.name)))
          return i;
      return;
    }
    if (t != null && typeof t != "function")
      throw new Error("invalid callback: " + t);
    for (; ++o < a; )
      if (i = (e13 = n[o]).type)
        r[i] = mj(r[i], e13.name, t);
      else if (t == null)
        for (i in r)
          r[i] = mj(r[i], e13.name, null);
    return this;
  },
  copy: function() {
    var e13 = {}, t = this._;
    for (var r in t)
      e13[r] = t[r].slice();
    return new Mb(e13);
  },
  call: function(e13, t) {
    if ((i = arguments.length - 2) > 0)
      for (var r = new Array(i), n = 0, i, o; n < i; ++n)
        r[n] = arguments[n + 2];
    if (!this._.hasOwnProperty(e13))
      throw new Error("unknown type: " + e13);
    for (o = this._[e13], n = 0, i = o.length; n < i; ++n)
      o[n].value.apply(t, r);
  },
  apply: function(e13, t, r) {
    if (!this._.hasOwnProperty(e13))
      throw new Error("unknown type: " + e13);
    for (var n = this._[e13], i = 0, o = n.length; i < o; ++i)
      n[i].value.apply(t, r);
  }
};
function ize(e13, t) {
  for (var r = 0, n = e13.length, i; r < n; ++r)
    if ((i = e13[r]).name === t)
      return i.value;
}
function mj(e13, t, r) {
  for (var n = 0, i = e13.length; n < i; ++n)
    if (e13[n].name === t) {
      e13[n] = rze, e13 = e13.slice(0, n).concat(e13.slice(n + 1));
      break;
    }
  return r != null && e13.push({
    name: t,
    value: r
  }), e13;
}
function GM(e13, t) {
  var r, n = ZK("beforesend", "progress", "load", "error"), i, o = jM(), a = new XMLHttpRequest(), s = null, l = null, u, c, f = 0;
  typeof XDomainRequest < "u" && !("withCredentials" in a) && /^(http(s)?:)?\/\//.test(e13) && (a = new XDomainRequest()), "onload" in a ? a.onload = a.onerror = a.ontimeout = h : a.onreadystatechange = function(d) {
    a.readyState > 3 && h(d);
  };
  function h(d) {
    var p = a.status, m;
    if (!p && aze(a) || p >= 200 && p < 300 || p === 304) {
      if (u)
        try {
          m = u.call(r, a);
        } catch (g) {
          n.call("error", r, g);
          return;
        }
      else
        m = a;
      n.call("load", r, m);
    } else
      n.call("error", r, d);
  }
  if (a.onprogress = function(d) {
    n.call("progress", r, d);
  }, r = {
    header: function(d, p) {
      return d = (d + "").toLowerCase(), arguments.length < 2 ? o.get(d) : (p == null ? o.remove(d) : o.set(d, p + ""), r);
    },
    // If mimeType is non-null and no Accept header is set, a default is used.
    mimeType: function(d) {
      return arguments.length ? (i = d == null ? null : d + "", r) : i;
    },
    // Specifies what type the response value should take;
    // for instance, arraybuffer, blob, document, or text.
    responseType: function(d) {
      return arguments.length ? (c = d, r) : c;
    },
    timeout: function(d) {
      return arguments.length ? (f = +d, r) : f;
    },
    user: function(d) {
      return arguments.length < 1 ? s : (s = d == null ? null : d + "", r);
    },
    password: function(d) {
      return arguments.length < 1 ? l : (l = d == null ? null : d + "", r);
    },
    // Specify how to convert the response content to a specific type;
    // changes the callback value on "load" events.
    response: function(d) {
      return u = d, r;
    },
    // Alias for send("GET", …).
    get: function(d, p) {
      return r.send("GET", d, p);
    },
    // Alias for send("POST", …).
    post: function(d, p) {
      return r.send("POST", d, p);
    },
    // If callback is non-null, it will be used for error and load events.
    send: function(d, p, m) {
      return a.open(d, e13, true, s, l), i != null && !o.has("accept") && o.set("accept", i + ",*/*"), a.setRequestHeader && o.each(function(g, v) {
        a.setRequestHeader(v, g);
      }), i != null && a.overrideMimeType && a.overrideMimeType(i), c != null && (a.responseType = c), f > 0 && (a.timeout = f), m == null && typeof p == "function" && (m = p, p = null), m != null && m.length === 1 && (m = oze(m)), m != null && r.on("error", m).on("load", function(g) {
        m(null, g);
      }), n.call("beforesend", r, a), a.send(p ?? null), r;
    },
    abort: function() {
      return a.abort(), r;
    },
    on: function() {
      var d = n.on.apply(n, arguments);
      return d === n ? r : d;
    }
  }, t != null) {
    if (typeof t != "function")
      throw new Error("invalid callback: " + t);
    return r.get(t);
  }
  return r;
}
function oze(e13) {
  return function(t, r) {
    e13(t == null ? r : null);
  };
}
function aze(e13) {
  var t = e13.responseType;
  return t && t !== "text" ? e13.response : e13.responseText;
}
function ES(e13, t) {
  return function(r, n) {
    var i = GM(r).mimeType(e13).response(t);
    if (n != null) {
      if (typeof n != "function")
        throw new Error("invalid callback: " + n);
      return i.get(n);
    }
    return i;
  };
}
var sze = ES("text/html", function(e13) {
  return document.createRange().createContextualFragment(e13.responseText);
});
var lze = ES("application/json", function(e13) {
  return JSON.parse(e13.responseText);
});
var cze = ES("text/plain", function(e13) {
  return e13.responseText;
});
var uze = ES("application/xml", function(e13) {
  var t = e13.responseXML;
  if (!t)
    throw new Error("parse error");
  return t;
});
var gj = {};
var BO = {};
var FO = 34;
var am = 10;
var $O = 13;
function QK(e13) {
  return new Function("d", "return {" + e13.map(function(t, r) {
    return JSON.stringify(t) + ": d[" + r + '] || ""';
  }).join(",") + "}");
}
function hze(e13, t) {
  var r = QK(e13);
  return function(n, i) {
    return t(r(n), i, e13);
  };
}
function vj(e13) {
  var t = /* @__PURE__ */ Object.create(null), r = [];
  return e13.forEach(function(n) {
    for (var i in n)
      i in t || r.push(t[i] = i);
  }), r;
}
function xi(e13, t) {
  var r = e13 + "", n = r.length;
  return n < t ? new Array(t - n + 1).join(0) + r : r;
}
function fze(e13) {
  return e13 < 0 ? "-" + xi(-e13, 6) : e13 > 9999 ? "+" + xi(e13, 6) : xi(e13, 4);
}
function dze(e13) {
  var t = e13.getUTCHours(), r = e13.getUTCMinutes(), n = e13.getUTCSeconds(), i = e13.getUTCMilliseconds();
  return isNaN(e13) ? "Invalid Date" : fze(e13.getUTCFullYear()) + "-" + xi(e13.getUTCMonth() + 1, 2) + "-" + xi(e13.getUTCDate(), 2) + (i ? "T" + xi(t, 2) + ":" + xi(r, 2) + ":" + xi(n, 2) + "." + xi(i, 3) + "Z" : n ? "T" + xi(t, 2) + ":" + xi(r, 2) + ":" + xi(n, 2) + "Z" : r || t ? "T" + xi(t, 2) + ":" + xi(r, 2) + "Z" : "");
}
function JK(e13) {
  var t = new RegExp('["' + e13 + `
\r]`), r = e13.charCodeAt(0);
  function n(f, h) {
    var d, p, m = i(f, function(g, v) {
      if (d)
        return d(g, v - 1);
      p = g, d = h ? hze(g, h) : QK(g);
    });
    return m.columns = p || [], m;
  }
  function i(f, h) {
    var d = [], p = f.length, m = 0, g = 0, v, b = p <= 0, y = false;
    f.charCodeAt(p - 1) === am && --p, f.charCodeAt(p - 1) === $O && --p;
    function _() {
      if (b)
        return BO;
      if (y)
        return y = false, gj;
      var E, O = m, S;
      if (f.charCodeAt(O) === FO) {
        for (; m++ < p && f.charCodeAt(m) !== FO || f.charCodeAt(++m) === FO; )
          ;
        return (E = m) >= p ? b = true : (S = f.charCodeAt(m++)) === am ? y = true : S === $O && (y = true, f.charCodeAt(m) === am && ++m), f.slice(O + 1, E - 1).replace(/""/g, '"');
      }
      for (; m < p; ) {
        if ((S = f.charCodeAt(E = m++)) === am)
          y = true;
        else if (S === $O)
          y = true, f.charCodeAt(m) === am && ++m;
        else if (S !== r)
          continue;
        return f.slice(O, E);
      }
      return b = true, f.slice(O, p);
    }
    for (; (v = _()) !== BO; ) {
      for (var T = []; v !== gj && v !== BO; )
        T.push(v), v = _();
      h && (T = h(T, g++)) == null || d.push(T);
    }
    return d;
  }
  function o(f, h) {
    return f.map(function(d) {
      return h.map(function(p) {
        return c(d[p]);
      }).join(e13);
    });
  }
  function a(f, h) {
    return h == null && (h = vj(f)), [h.map(c).join(e13)].concat(o(f, h)).join(`
`);
  }
  function s(f, h) {
    return h == null && (h = vj(f)), o(f, h).join(`
`);
  }
  function l(f) {
    return f.map(u).join(`
`);
  }
  function u(f) {
    return f.map(c).join(e13);
  }
  function c(f) {
    return f == null ? "" : f instanceof Date ? dze(f) : t.test(f += "") ? '"' + f.replace(/"/g, '""') + '"' : f;
  }
  return {
    parse: n,
    parseRows: i,
    format: a,
    formatBody: s,
    formatRows: l,
    formatRow: u,
    formatValue: c
  };
}
var pze = JK(",");
var mze = pze.parse;
var gze = JK("	");
var vze = gze.parse;
function eZ(e13, t) {
  return function(r, n, i) {
    arguments.length < 3 && (i = n, n = null);
    var o = GM(r).mimeType(e13);
    return o.row = function(a) {
      return arguments.length ? o.response(yze(t, n = a)) : n;
    }, o.row(n), i ? o.get(i) : o;
  };
}
function yze(e13, t) {
  return function(r) {
    return e13(r.responseText, t);
  };
}
var _ze = eZ("text/csv", mze);
var bze = eZ("text/tab-separated-values", vze);
var Tze = Object.freeze(Object.defineProperty({
  __proto__: null,
  csv: _ze,
  html: sze,
  json: lze,
  request: GM,
  text: cze,
  tsv: bze,
  xml: uze
}, Symbol.toStringTag, { value: "Module" }));
function ek() {
  return ek = Object.assign ? Object.assign.bind() : function(e13) {
    for (var t = 1; t < arguments.length; t++) {
      var r = arguments[t];
      for (var n in r)
        Object.prototype.hasOwnProperty.call(r, n) && (e13[n] = r[n]);
    }
    return e13;
  }, ek.apply(this, arguments);
}
function Eze(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function Sze(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, Aze(n.key), n);
  }
}
function wze(e13, t, r) {
  return t && Sze(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function Aze(e13) {
  var t = Oze(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function Oze(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
function Ize(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  e13.prototype = Object.create(t && t.prototype, { constructor: { value: e13, writable: true, configurable: true } }), Object.defineProperty(e13, "prototype", { writable: false }), t && tk(e13, t);
}
function tk(e13, t) {
  return tk = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, i) {
    return n.__proto__ = i, n;
  }, tk(e13, t);
}
function Pze(e13) {
  var t = kze();
  return function() {
    var n = $T(e13), i;
    if (t) {
      var o = $T(this).constructor;
      i = Reflect.construct(n, arguments, o);
    } else
      i = n.apply(this, arguments);
    return Cze(this, i);
  };
}
function Cze(e13, t) {
  if (t && (typeof t == "object" || typeof t == "function"))
    return t;
  if (t !== void 0)
    throw new TypeError("Derived constructors may only return object or undefined");
  return xze(e13);
}
function xze(e13) {
  if (e13 === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e13;
}
function kze() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return false;
  if (typeof Proxy == "function")
    return true;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), true;
  } catch {
    return false;
  }
}
function $T(e13) {
  return $T = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(r) {
    return r.__proto__ || Object.getPrototypeOf(r);
  }, $T(e13);
}
var SS = function(e13) {
  Ize(r, e13);
  var t = Pze(r);
  function r({
    items: n
  }) {
    var i;
    return Eze(this, r), i = t.call(this), i.state = {
      items: n,
      isSorting: false
    }, i;
  }
  return wze(r, [{
    key: "UNSAFE_componentWillReceiveProps",
    value: function(i) {
      this.setState({
        items: i.items
      });
    }
  }, {
    key: "onSortStart",
    value: function({
      node: i,
      index: o,
      collection: a
    }, s) {
      s.stopImmediatePropagation();
      const {
        onSortStart: l
      } = this.props;
      this.setState({
        isSorting: true
      }), l && l(this.ref), this.sortingIndex = o, this.sortStartTop = s.offsetTop, this.sortStartLeft = s.offsetLeft;
    }
  }, {
    key: "onSortMove",
    value: function() {
    }
  }, {
    key: "onSortEnd",
    value: function({
      oldIndex: i,
      newIndex: o
    }) {
      const {
        onSortEnd: a
      } = this.props, {
        items: s
      } = this.state;
      this.setState({
        items: gfe(s, i, o),
        isSorting: false
      }), a && a(this.state.items), this.sortingIndex = null;
    }
  }, {
    key: "render",
    value: function() {
      const i = this.props.component, {
        items: o,
        isSorting: a
      } = this.state, s = {
        isSorting: a,
        items: o,
        onSortEnd: this.onSortEnd.bind(this),
        onSortStart: this.onSortStart.bind(this),
        onSortMove: this.onSortMove.bind(this)
      };
      return import_react.default.createElement(i, ek({}, this.props, s, {
        ref: (l) => {
          this.ref = l;
        }
      }));
    }
  }]), r;
}(import_react.default.Component);
SS.propTypes = {
  axis: M.string,
  className: M.string,
  component: M.func,
  editable: M.bool,
  handleConfigTrack: M.func,
  handleResizeTrack: M.func,
  height: M.number,
  helperClass: M.string,
  itemClass: M.string,
  itemControlAlignLeft: M.bool,
  itemReactClass: M.func,
  items: M.array,
  onAddSeries: M.func,
  onCloseTrack: M.func,
  onCloseTrackMenuOpened: M.func,
  onConfigTrackMenuOpened: M.func,
  onSortEnd: M.func,
  onSortStart: M.func,
  referenceAncestor: M.string,
  resizeHandles: M.object,
  useDragHandle: M.bool,
  width: M.number
};
SS.defaultProps = {
  className: "list stylizedList",
  itemClass: "item stylizedItem",
  width: 400,
  height: 600
};
var HO = {
  "top-right-handle": "_top-right-handle_cizw2_1",
  "bottom-right-handle": "_bottom-right-handle_cizw2_2",
  "top-left-handle": "_top-left-handle_cizw2_7",
  "bottom-left-handle": "_bottom-left-handle_cizw2_8",
  "top-draggable-handle": "_top-draggable-handle_cizw2_13",
  "bottom-draggable-handle": "_bottom-draggable-handle_cizw2_14",
  "left-draggable-handle": "_left-draggable-handle_cizw2_15",
  "right-draggable-handle": "_right-draggable-handle_cizw2_16",
  "draggable-div": "_draggable-div_cizw2_22",
  "top-draggable-handle-grabber": "_top-draggable-handle-grabber_cizw2_27",
  "bottom-draggable-handle-grabber": "_bottom-draggable-handle-grabber_cizw2_28",
  "left-draggable-handle-grabber": "_left-draggable-handle-grabber_cizw2_43",
  "right-draggable-handle-grabber": "_right-draggable-handle-grabber_cizw2_44"
};
function Dze(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function Rze(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, Mze(n.key), n);
  }
}
function Nze(e13, t, r) {
  return t && Rze(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function Mze(e13) {
  var t = Lze(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function Lze(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
function Bze(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  e13.prototype = Object.create(t && t.prototype, { constructor: { value: e13, writable: true, configurable: true } }), Object.defineProperty(e13, "prototype", { writable: false }), t && rk(e13, t);
}
function rk(e13, t) {
  return rk = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, i) {
    return n.__proto__ = i, n;
  }, rk(e13, t);
}
function Fze(e13) {
  var t = Hze();
  return function() {
    var n = HT(e13), i;
    if (t) {
      var o = HT(this).constructor;
      i = Reflect.construct(n, arguments, o);
    } else
      i = n.apply(this, arguments);
    return $ze(this, i);
  };
}
function $ze(e13, t) {
  if (t && (typeof t == "object" || typeof t == "function"))
    return t;
  if (t !== void 0)
    throw new TypeError("Derived constructors may only return object or undefined");
  return Dn(e13);
}
function Dn(e13) {
  if (e13 === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e13;
}
function Hze() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return false;
  if (typeof Proxy == "function")
    return true;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), true;
  } catch {
    return false;
  }
}
function HT(e13) {
  return HT = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(r) {
    return r.__proto__ || Object.getPrototypeOf(r);
  }, HT(e13);
}
var tZ = function(e13) {
  Bze(r, e13);
  var t = Fze(r);
  function r(n) {
    var i;
    return Dze(this, r), i = t.call(this, n), i.dragTopRight = os().on("start", i.dragStart.bind(Dn(i))).on("drag", i.dragTopRightFunc.bind(Dn(i))), i.dragTopLeft = os().on("start", i.dragStart.bind(Dn(i))).on("drag", i.dragTopLeftFunc.bind(Dn(i))), i.dragBottomRight = os().on("start", i.dragStart.bind(Dn(i))).on("drag", i.dragBottomRightFunc.bind(Dn(i))), i.dragBottomLeft = os().on("start", i.dragStart.bind(Dn(i))).on("drag", i.dragBottomLeftFunc.bind(Dn(i))), i.dragBottom = os().on("start", i.dragStart.bind(Dn(i))).on("drag", i.dragBottomFunc.bind(Dn(i))), i.dragTop = os().on("start", i.dragStart.bind(Dn(i))).on("drag", i.dragTopFunc.bind(Dn(i))), i.dragLeft = os().on("start", i.dragStart.bind(Dn(i))).on("drag", i.dragLeftFunc.bind(Dn(i))), i.dragRight = os().on("start", i.dragStart.bind(Dn(i))).on("drag", i.dragRightFunc.bind(Dn(i))), i.minWidth = 10, i.minHeight = 10, i.bottomHandleWidth = 20, i.state = {
      uid: i.props.uid,
      width: i.props.width,
      height: i.props.height,
      top: i.props.top,
      left: i.props.left
    }, i.domBody = Wt("body").node(), i;
  }
  return Nze(r, [{
    key: "componentDidMount",
    value: function() {
      Wt(this.bottomHandle).call(this.dragBottom), Wt(this.topHandle).call(this.dragTop), Wt(this.leftHandle).call(this.dragLeft), Wt(this.rightHandle).call(this.dragRight);
    }
    // eslint-disable-next-line camelcase
  }, {
    key: "UNSAFE_componentWillReceiveProps",
    value: function(i) {
      "width" in i && this.setState({
        width: i.width
      }), "height" in i && this.setState({
        height: i.height
      });
    }
    /* ---------------------------- Custom Methods ---------------------------- */
  }, {
    key: "dragBottomFunc",
    value: function(i) {
      const o = vr(i, this.domBody);
      let a = this.dragStartHeight + (o[1] - this.dragStartMousePos[1]);
      a = a > this.minHeight ? a : this.minHeight, this.setState({
        height: a
      }), i.sourceEvent.stopPropagation(), this.sizeChanged();
    }
  }, {
    key: "dragLeftFunc",
    value: function(i) {
      const o = vr(i, this.domBody);
      let a = this.dragStartWidth - (o[0] - this.dragStartMousePos[0]);
      a = a > this.minWidth ? a : this.minWidth;
      let s = this.dragStartLeft + o[0] - this.dragStartMousePos[0];
      s = a > this.minWidth ? s : this.dragStartLeft + this.dragStartWidth - this.minWidth, this.setState({
        left: s,
        width: a
      }), i.sourceEvent.stopPropagation(), this.sizeChanged();
    }
  }, {
    key: "dragTopFunc",
    value: function(i) {
      const o = vr(i, this.domBody);
      let a = this.dragStartHeight - (o[1] - this.dragStartMousePos[1]);
      a = a > this.minHeight ? a : this.minHeight;
      let s = this.dragStartTop + o[1] - this.dragStartMousePos[1];
      s = a > this.minHeight ? s : this.dragStartTop + this.dragStartHeight - this.minHeight, this.setState({
        top: s,
        height: a
      }), i.sourceEvent.stopPropagation(), this.sizeChanged();
    }
  }, {
    key: "dragRightFunc",
    value: function(i) {
      const o = vr(i, this.domBody);
      let a = this.dragStartWidth + (o[0] - this.dragStartMousePos[0]);
      a = a > this.minWidth ? a : this.minWidth, this.setState({
        width: a
      }), i.sourceEvent.stopPropagation(), this.sizeChanged();
    }
  }, {
    key: "dragBottomLeftFunc",
    value: function(i) {
      const o = vr(i, this.domBody);
      let a = this.dragStartHeight + (o[1] - this.dragStartMousePos[1]);
      a = a > this.minHeight ? a : this.minHeight;
      let s = this.dragStartWidth - (o[0] - this.dragStartMousePos[0]);
      s = s > this.minWidth ? s : this.minWidth;
      let l = this.dragStartLeft + o[0] - this.dragStartMousePos[0];
      l = s > this.minWidth ? l : this.dragStartLeft + this.dragStartWidth - this.minWidth, this.setState({
        left: l,
        width: s,
        height: a
      }), i.sourceEvent.stopPropagation(), this.sizeChanged();
    }
  }, {
    key: "dragBottomRightFunc",
    value: function(i) {
      const o = vr(i, this.domBody);
      let a = this.dragStartWidth + (o[0] - this.dragStartMousePos[0]);
      a = a > this.minWidth ? a : this.minWidth;
      let s = this.dragStartHeight + (o[1] - this.dragStartMousePos[1]);
      s = s > this.minHeight ? s : this.minHeight, this.setState({
        width: a,
        height: s
      }), i.sourceEvent.stopPropagation(), this.sizeChanged();
    }
  }, {
    key: "dragTopRightFunc",
    value: function(i) {
      const o = vr(i, this.domBody);
      let a = this.dragStartHeight - (o[1] - this.dragStartMousePos[1]);
      a = a > this.minHeight ? a : this.minHeight;
      let s = this.dragStartTop + o[1] - this.dragStartMousePos[1];
      s = a > this.minHeight ? s : this.dragStartTop + this.dragStartHeight - this.minHeight;
      let l = this.dragStartWidth + (o[0] - this.dragStartMousePos[0]);
      l = l > this.minWidth ? l : this.minWidth, this.setState({
        top: s,
        width: l,
        height: a
      }), i.sourceEvent.stopPropagation(), this.sizeChanged();
    }
  }, {
    key: "dragTopLeftFunc",
    value: function(i) {
      const o = vr(i, this.domBody);
      let a = this.dragStartWidth - (o[0] - this.dragStartMousePos[0]);
      a = a > this.minWidth ? a : this.minWidth;
      let s = this.dragStartLeft + o[0] - this.dragStartMousePos[0];
      s = a > this.minWidth ? s : this.dragStartLeft + this.dragStartWidth - this.minWidth;
      let l = this.dragStartHeight - (o[1] - this.dragStartMousePos[1]);
      l = l > this.minHeight ? l : this.minHeight;
      let u = this.dragStartTop + o[1] - this.dragStartMousePos[1];
      u = l > this.minHeight ? u : this.dragStartTop + this.dragStartHeight - this.minHeight, this.setState({
        top: u,
        left: s,
        width: a,
        height: l
      }), i.sourceEvent.stopPropagation(), this.sizeChanged();
    }
  }, {
    key: "dragStart",
    value: function(i) {
      this.dragStartMousePos = vr(i, this.domBody), this.dragStartWidth = this.state.width, this.dragStartHeight = this.state.height, this.dragStartTop = this.state.top, this.dragStartLeft = this.state.left, i.sourceEvent.stopPropagation();
    }
  }, {
    key: "sizeChanged",
    value: function() {
      this.props.sizeChanged && this.props.sizeChanged(this.state);
    }
  }, {
    key: "rotateClicked",
    value: function() {
      this.props.trackRotated(this.state.uid);
    }
  }, {
    key: "closeClicked",
    value: function() {
      this.props.trackClosed(this.state.uid);
    }
    /* ------------------------------ Rendering ------------------------------- */
  }, {
    key: "render",
    value: function() {
      const i = this.props.theme === wr ? "white" : "black", o = {
        top: this.state.top,
        left: this.state.left,
        width: this.state.width,
        height: this.state.height,
        opacity: this.props.opacity
      }, a = 24, s = 24, l = {
        left: this.state.width / 2 - a / 2,
        width: a
      }, u = {
        top: this.state.height / 2 - s / 2,
        height: s
      }, c = {
        bottom: {
          ...l,
          bottom: 1
        },
        top: {
          ...l,
          top: 1
        },
        left: {
          ...u,
          left: 1
        },
        right: {
          ...u,
          right: 1
        }
      }, f = [...this.props.resizeHandles].map((h) => import_react.default.createElement("div", {
        key: h,
        ref: (d) => {
          this[`${h}Handle`] = d;
        },
        className: HO[`${h}-draggable-handle`],
        style: c[h],
        title: "Resize track"
      }, import_react.default.createElement("div", {
        className: HO[`${h}-draggable-handle-grabber`],
        style: {
          borderColor: i
        }
      })));
      return import_react.default.createElement("div", {
        ref: (h) => {
          this.divContainer = h;
        },
        className: nr(this.props.className, HO["draggable-div"]),
        style: o
      }, f);
    }
  }]), r;
}(import_react.default.Component);
tZ.propTypes = {
  className: M.string,
  height: M.number,
  left: M.number,
  opacity: M.number,
  resizeHandles: M.object,
  sizeChanged: M.func,
  top: M.number,
  trackClosed: M.func,
  trackRotated: M.func,
  uid: M.string,
  width: M.number,
  theme: M.symbol
};
var Uze = ih(tZ);
function jze(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function Gze(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, Vze(n.key), n);
  }
}
function zze(e13, t, r) {
  return t && Gze(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function Vze(e13) {
  var t = Xze(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function Xze(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
function Wze(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  e13.prototype = Object.create(t && t.prototype, { constructor: { value: e13, writable: true, configurable: true } }), Object.defineProperty(e13, "prototype", { writable: false }), t && nk(e13, t);
}
function nk(e13, t) {
  return nk = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, i) {
    return n.__proto__ = i, n;
  }, nk(e13, t);
}
function Yze(e13) {
  var t = Zze();
  return function() {
    var n = UT(e13), i;
    if (t) {
      var o = UT(this).constructor;
      i = Reflect.construct(n, arguments, o);
    } else
      i = n.apply(this, arguments);
    return qze(this, i);
  };
}
function qze(e13, t) {
  if (t && (typeof t == "object" || typeof t == "function"))
    return t;
  if (t !== void 0)
    throw new TypeError("Derived constructors may only return object or undefined");
  return Kze(e13);
}
function Kze(e13) {
  if (e13 === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e13;
}
function Zze() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return false;
  if (typeof Proxy == "function")
    return true;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), true;
  } catch {
    return false;
  }
}
function UT(e13) {
  return UT = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(r) {
    return r.__proto__ || Object.getPrototypeOf(r);
  }, UT(e13);
}
var rZ = function(e13) {
  Wze(r, e13);
  var t = Yze(r);
  function r(n) {
    var i;
    return jze(this, r), i = t.call(this, n), i.state = {
      controlsVisible: false
    }, i;
  }
  return zze(r, [{
    key: "shouldComponentUpdate",
    value: function() {
      return !this.resizing;
    }
  }, {
    key: "handleMouseEnter",
    value: function() {
      this.setState({
        controlsVisible: true
      });
    }
  }, {
    key: "handleMouseLeave",
    value: function() {
      this.setState({
        controlsVisible: false
      });
    }
  }, {
    key: "handleMouseMove",
    value: function() {
      this.setState({
        controlsVisible: true
      });
    }
  }, {
    key: "getControls",
    value: function() {
      let i = null;
      return this.moveable ? i = vP(() => import_react.default.createElement("svg", {
        className: "no-zoom",
        height: "10px",
        onClick: () => {
        },
        style: this.getMoveImgStyle(),
        width: "10px"
      }, import_react.default.createElement("use", {
        xlinkHref: "#move"
      }))) : i = vP(() => import_react.default.createElement("div", null)), import_react.default.createElement("div", {
        style: {
          position: "absolute",
          backgroundColor: "rgba(255,255,255,0.7)",
          right: "3px",
          top: "3px",
          pointerEvents: "none",
          paddingLeft: "5px",
          paddingRight: "5px",
          borderRadius: "5px",
          border: "1px solid #dddddd"
        }
      }, import_react.default.createElement(i, null), import_react.default.createElement("svg", {
        ref: (o) => {
          this.imgConfig = o;
        },
        className: "no-zoom",
        height: "10px",
        onClick: () => {
          const a = import_react_dom.default.findDOMNode(this.imgConfig).getBoundingClientRect();
          this.props.onConfigTrackMenuOpened(this.props.uid, a);
        },
        style: this.getSettingsImgStyle(),
        width: "10px"
      }, import_react.default.createElement("use", {
        xlinkHref: "#cog"
      })), import_react.default.createElement("svg", {
        ref: (o) => {
          this.imgAdd = o;
        },
        className: "no-zoom",
        height: "10px",
        onClick: () => this.props.onAddSeries(this.props.uid),
        style: this.getAddImgStyle(),
        width: "10px"
      }, import_react.default.createElement("use", {
        xlinkHref: "#plus"
      })), import_react.default.createElement("svg", {
        ref: (o) => {
          this.imgClose = o;
        },
        className: "no-zoom",
        height: "10px",
        onClick: () => {
          const a = import_react_dom.default.findDOMNode(this.imgClose).getBoundingClientRect();
          this.props.onCloseTrackMenuOpened(this.props.uid, a);
        },
        style: this.getCloseImgStyle(),
        width: "10px"
      }, import_react.default.createElement("use", {
        xlinkHref: "#cross"
      })));
    }
  }]), r;
}(import_react.default.Component);
rZ.propTypes = {
  configMenuOpen: M.bool,
  onConfigTrackMenuOpened: M.func,
  onCloseTrackMenuOpened: M.func,
  onAddSeries: M.func,
  uid: M.string
};
function Qze(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function Jze(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, t8e(n.key), n);
  }
}
function e8e(e13, t, r) {
  return t && Jze(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function t8e(e13) {
  var t = r8e(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function r8e(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
function n8e(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  e13.prototype = Object.create(t && t.prototype, { constructor: { value: e13, writable: true, configurable: true } }), Object.defineProperty(e13, "prototype", { writable: false }), t && ik(e13, t);
}
function ik(e13, t) {
  return ik = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, i) {
    return n.__proto__ = i, n;
  }, ik(e13, t);
}
function i8e(e13) {
  var t = s8e();
  return function() {
    var n = jT(e13), i;
    if (t) {
      var o = jT(this).constructor;
      i = Reflect.construct(n, arguments, o);
    } else
      i = n.apply(this, arguments);
    return o8e(this, i);
  };
}
function o8e(e13, t) {
  if (t && (typeof t == "object" || typeof t == "function"))
    return t;
  if (t !== void 0)
    throw new TypeError("Derived constructors may only return object or undefined");
  return a8e(e13);
}
function a8e(e13) {
  if (e13 === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e13;
}
function s8e() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return false;
  if (typeof Proxy == "function")
    return true;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), true;
  } catch {
    return false;
  }
}
function jT(e13) {
  return jT = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(r) {
    return r.__proto__ || Object.getPrototypeOf(r);
  }, jT(e13);
}
var wS = function(e13) {
  n8e(r, e13);
  var t = i8e(r);
  function r(n) {
    var i;
    return Qze(this, r), i = t.call(this, n), i.moveable = true, i;
  }
  return e8e(r, [{
    key: "render",
    value: function() {
      return import_react.default.createElement("div", {
        ref: (i) => {
          this.el = i;
        },
        className: this.props.className,
        onMouseEnter: this.handleMouseEnter.bind(this),
        onMouseLeave: () => {
          this.handleMouseLeave();
        },
        style: {
          height: this.props.height,
          width: this.props.width
        }
      }, import_react.default.createElement(Uze, {
        key: this.props.uid,
        height: this.props.height,
        resizeHandles: this.props.editable ? this.props.resizeHandles : /* @__PURE__ */ new Set(),
        sizeChanged: (i) => this.props.handleResizeTrack(this.props.uid, i.width, i.height),
        style: {
          background: "transparent"
        },
        uid: this.props.uid,
        width: this.props.width
      }), this.props.editable && this.getControls(this.state.controlsVisible || this.props.item.configMenuVisible));
    }
  }]), r;
}(rZ);
wS.propTypes = {
  className: M.string,
  uid: M.string,
  item: M.object,
  height: M.number,
  width: M.number
};
function l8e(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function c8e(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, h8e(n.key), n);
  }
}
function u8e(e13, t, r) {
  return t && c8e(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function h8e(e13) {
  var t = f8e(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function f8e(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
function d8e(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  e13.prototype = Object.create(t && t.prototype, { constructor: { value: e13, writable: true, configurable: true } }), Object.defineProperty(e13, "prototype", { writable: false }), t && ok(e13, t);
}
function ok(e13, t) {
  return ok = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, i) {
    return n.__proto__ = i, n;
  }, ok(e13, t);
}
function p8e(e13) {
  var t = v8e();
  return function() {
    var n = GT(e13), i;
    if (t) {
      var o = GT(this).constructor;
      i = Reflect.construct(n, arguments, o);
    } else
      i = n.apply(this, arguments);
    return m8e(this, i);
  };
}
function m8e(e13, t) {
  if (t && (typeof t == "object" || typeof t == "function"))
    return t;
  if (t !== void 0)
    throw new TypeError("Derived constructors may only return object or undefined");
  return g8e(e13);
}
function g8e(e13) {
  if (e13 === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e13;
}
function v8e() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return false;
  if (typeof Proxy == "function")
    return true;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), true;
  } catch {
    return false;
  }
}
function GT(e13) {
  return GT = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(r) {
    return r.__proto__ || Object.getPrototypeOf(r);
  }, GT(e13);
}
var N_ = {
  pointerEvents: "all"
};
var nZ = function(e13) {
  d8e(r, e13);
  var t = p8e(r);
  function r() {
    return l8e(this, r), t.apply(this, arguments);
  }
  return u8e(r, [{
    key: "getControls",
    value: function(i) {
      return import_react.default.createElement(cS, {
        configMenuVisible: this.props.item.configMenuVisible,
        imgStyleAdd: N_,
        imgStyleClose: N_,
        imgStyleMove: N_,
        imgStyleSettings: N_,
        isMoveable: this.moveable,
        isVisible: i,
        onAddSeries: this.props.onAddSeries,
        onCloseTrackMenuOpened: this.props.onCloseTrackMenuOpened,
        onConfigTrackMenuOpened: this.props.onConfigTrackMenuOpened,
        uid: this.props.uid
      });
    }
  }]), r;
}(wS);
var y8e = d9((e13) => import_react.default.createElement(nZ, {
  className: e13.className,
  editable: e13.editable,
  handleConfigTrack: e13.handleConfigTrack,
  handleResizeTrack: e13.handleResizeTrack,
  height: e13.height,
  item: e13.item,
  onAddSeries: e13.onAddSeries,
  onCloseTrack: e13.onCloseTrack,
  onCloseTrackMenuOpened: e13.onCloseTrackMenuOpened,
  onConfigTrackMenuOpened: e13.onConfigTrackMenuOpened,
  resizeHandles: e13.resizeHandles,
  uid: e13.uid,
  width: e13.width
}));
function ak() {
  return ak = Object.assign ? Object.assign.bind() : function(e13) {
    for (var t = 1; t < arguments.length; t++) {
      var r = arguments[t];
      for (var n in r)
        Object.prototype.hasOwnProperty.call(r, n) && (e13[n] = r[n]);
    }
    return e13;
  }, ak.apply(this, arguments);
}
var iZ = kfe(({
  className: e13,
  items: t,
  itemClass: r,
  itemControlAlignLeft: n,
  sortingIndex: i,
  useDragHandle: o,
  sortableHandlers: a,
  height: s,
  width: l,
  onCloseTrack: u,
  onCloseTrackMenuOpened: c,
  onConfigTrackMenuOpened: f,
  onAddSeries: h,
  handleConfigTrack: d,
  editable: p,
  itemReactClass: m,
  handleResizeTrack: g,
  resizeHandles: v
}) => {
  const b = t.map((y, _) => import_react.default.createElement(m, {
    key: `sci-${y.uid}`,
    className: r,
    controlAlignLeft: n,
    sortingIndex: i,
    index: _,
    uid: y.uid,
    height: y.height,
    width: y.width,
    item: y,
    useDragHandle: o,
    onCloseTrack: u,
    onCloseTrackMenuOpened: c,
    onConfigTrackMenuOpened: f,
    onAddSeries: h,
    handleConfigTrack: d,
    editable: p,
    handleResizeTrack: g,
    resizeHandles: v
  }));
  return import_react.default.createElement("div", ak({
    className: e13,
    style: {
      height: s,
      width: l,
      background: "transparent"
    }
  }, a), b);
});
var _8e = {
  "horizontal-tiled-plot": "_horizontal-tiled-plot_1bqkg_1"
};
function b8e(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function T8e(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, S8e(n.key), n);
  }
}
function E8e(e13, t, r) {
  return t && T8e(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function S8e(e13) {
  var t = w8e(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function w8e(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
function A8e(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  e13.prototype = Object.create(t && t.prototype, { constructor: { value: e13, writable: true, configurable: true } }), Object.defineProperty(e13, "prototype", { writable: false }), t && sk(e13, t);
}
function sk(e13, t) {
  return sk = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, i) {
    return n.__proto__ = i, n;
  }, sk(e13, t);
}
function O8e(e13) {
  var t = P8e();
  return function() {
    var n = zT(e13), i;
    if (t) {
      var o = zT(this).constructor;
      i = Reflect.construct(n, arguments, o);
    } else
      i = n.apply(this, arguments);
    return I8e(this, i);
  };
}
function I8e(e13, t) {
  if (t && (typeof t == "object" || typeof t == "function"))
    return t;
  if (t !== void 0)
    throw new TypeError("Derived constructors may only return object or undefined");
  return Lb(e13);
}
function Lb(e13) {
  if (e13 === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e13;
}
function P8e() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return false;
  if (typeof Proxy == "function")
    return true;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), true;
  } catch {
    return false;
  }
}
function zT(e13) {
  return zT = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(r) {
    return r.__proto__ || Object.getPrototypeOf(r);
  }, zT(e13);
}
function yj(e13) {
  return e13 && e13.sourceEvent;
}
var VT = function(e13) {
  A8e(r, e13);
  var t = O8e(r);
  function r(n) {
    var i;
    return b8e(this, r), i = t.call(this, n), i.brushBehavior = m1().on("start", i.brushStarted.bind(Lb(i))).on("brush", i.brushed.bind(Lb(i))).on("end", i.brushedEnded.bind(Lb(i))), i;
  }
  return E8e(r, [{
    key: "componentDidMount",
    value: function() {
      this.props.isRangeSelectionActive && this.addBrush();
    }
  }, {
    key: "shouldComponentUpdate",
    value: function(i, o) {
      return this.rangeSelectionTriggered ? (this.rangeSelectionTriggered = false, this.rangeSelectionTriggeredEnd && this.props.rangeSelection !== i.rangeSelection && this.moveBrush(i.rangeSelection[0] ? i.rangeSelection[0] : null, true), this.rangeSelectionTriggeredEnd = false, this.state !== o) : this.props.rangeSelection !== i.rangeSelection ? (this.moveBrush(i.rangeSelection[0] ? i.rangeSelection[0] : null, i.rangeSelectionEnd), this.state !== o) : true;
    }
  }, {
    key: "componentDidUpdate",
    value: function() {
      this.props.isRangeSelectionActive ? this.addBrush() : this.removeBrush();
    }
    /* ---------------------------- Custom Methods ---------------------------- */
  }, {
    key: "addBrush",
    value: function() {
      !this.brushEl || this.brushElAddedBefore === this.brushEl || (this.brushElAddedBefore && this.brushElAddedBefore.on(".brush", null), this.brushEl.call(this.brushBehavior), this.brushElAddedBefore = this.brushEl, Pf(this.brushEl, $o["track-range-selection-group-brush-selection"]));
    }
  }, {
    key: "brushed",
    value: function(i) {
      const o = this.rangeSelectionMoved;
      this.rangeSelectionMoved = false, !(!yj(i) || !this.props.onRangeSelection || o) && (this.rangeSelectionTriggered = true, this.props.onRangeSelection(i.selection));
    }
  }, {
    key: "brushStarted",
    value: function(i) {
      !yj(i) || !i.selection || this.props.onRangeSelectionStart();
    }
  }, {
    key: "brushedEnded",
    value: function(i) {
      if (!this.props.is1dRangeSelection)
        return;
      const o = this.rangeSelectionMovedEnd;
      this.rangeSelectionMovedEnd = false, i.selection && i.sourceEvent && this.props.onRangeSelection && !o && (this.rangeSelectionTriggered = true, this.rangeSelectionTriggeredEnd = true, this.props.onRangeSelectionEnd(i.selection)), i.selection || (this.rangeSelectionTriggered = true, this.props.onRangeSelectionReset());
    }
  }, {
    key: "moveBrush",
    value: function(i, o = false) {
      if (!this.brushEl)
        return;
      const a = i ? [this.props.scale(i[0]), this.props.scale(i[1])] : null;
      this.rangeSelectionMoved = true, this.rangeSelectionMovedEnd = true, o ? this.brushEl.transition().call(this.brushBehavior.move, a) : this.brushEl.call(this.brushBehavior.move, a);
    }
  }, {
    key: "removeBrush",
    value: function() {
      this.brushElAddedBefore && (this.brushElAddedBefore.call(this.brushBehavior.move, null), this.brushElAddedBefore.on(".brush", null), this.brushElAddedBefore = void 0, this.props.onRangeSelectionReset());
    }
    /* ------------------------------ Rendering ------------------------------- */
  }, {
    key: "render",
    value: function() {
      const i = this.props.tracks.map((s) => s.height).reduce(El, 0), o = this.props.tracks.map((s) => ep(s)).reduce(jv, false), a = this.props.isRangeSelectionActive ? $o["track-range-selection-active"] : $o["track-range-selection"];
      return import_react.default.createElement("div", {
        className: nr("horizontal-tiled-plot", _8e["horizontal-tiled-plot"])
      }, o && import_react.default.createElement("svg", {
        ref: (s) => {
          this.brushEl = Wt(s);
        },
        className: a,
        style: {
          height: i,
          width: this.props.width
        },
        xmlns: "http://www.w3.org/2000/svg"
      }), import_react.default.createElement(SS, {
        className: nr(Ho.list, Ho.stylizedList),
        component: iZ,
        editable: this.props.editable,
        handleConfigTrack: this.props.handleConfigTrack,
        handleResizeTrack: this.props.handleResizeTrack,
        height: i,
        helperClass: Ho.stylizedHelper,
        itemClass: Ho.stylizedItem,
        itemReactClass: y8e,
        items: this.props.tracks.map((s) => ({
          configMenuVisible: s.uid === this.props.configTrackMenuId,
          uid: s.uid || Gt.nice(),
          width: this.props.width,
          height: s.height,
          value: s.value
        })),
        onAddSeries: this.props.onAddSeries,
        onCloseTrack: this.props.onCloseTrack,
        onCloseTrackMenuOpened: this.props.onCloseTrackMenuOpened,
        onConfigTrackMenuOpened: this.props.onConfigTrackMenuOpened,
        onSortEnd: this.props.handleSortEnd,
        referenceAncestor: this.props.referenceAncestor,
        resizeHandles: this.props.resizeHandles,
        useDragHandle: true,
        width: this.props.width
      }));
    }
  }]), r;
}(import_react.default.Component);
VT.propTypes = {
  configTrackMenuId: M.string,
  editable: M.bool,
  handleConfigTrack: M.func,
  handleResizeTrack: M.func,
  handleSortEnd: M.func,
  is1dRangeSelection: M.bool,
  isRangeSelectionActive: M.bool,
  onAddSeries: M.func,
  onCloseTrack: M.func,
  onCloseTrackMenuOpened: M.func,
  onConfigTrackMenuOpened: M.func,
  onRangeSelection: M.func,
  onRangeSelectionEnd: M.func,
  onRangeSelectionReset: M.func,
  onRangeSelectionStart: M.func,
  rangeSelection: M.array,
  rangeSelectionEnd: M.bool,
  referenceAncestor: M.func,
  resizeHandles: M.object,
  scale: M.func,
  tracks: M.array,
  width: M.number
};
function C8e(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function x8e(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, D8e(n.key), n);
  }
}
function k8e(e13, t, r) {
  return t && x8e(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function D8e(e13) {
  var t = R8e(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function R8e(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
function N8e(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  e13.prototype = Object.create(t && t.prototype, { constructor: { value: e13, writable: true, configurable: true } }), Object.defineProperty(e13, "prototype", { writable: false }), t && lk(e13, t);
}
function lk(e13, t) {
  return lk = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, i) {
    return n.__proto__ = i, n;
  }, lk(e13, t);
}
function M8e(e13) {
  var t = F8e();
  return function() {
    var n = XT(e13), i;
    if (t) {
      var o = XT(this).constructor;
      i = Reflect.construct(n, arguments, o);
    } else
      i = n.apply(this, arguments);
    return L8e(this, i);
  };
}
function L8e(e13, t) {
  if (t && (typeof t == "object" || typeof t == "function"))
    return t;
  if (t !== void 0)
    throw new TypeError("Derived constructors may only return object or undefined");
  return B8e(e13);
}
function B8e(e13) {
  if (e13 === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e13;
}
function F8e() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return false;
  if (typeof Proxy == "function")
    return true;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), true;
  } catch {
    return false;
  }
}
function XT(e13) {
  return XT = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(r) {
    return r.__proto__ || Object.getPrototypeOf(r);
  }, XT(e13);
}
var M_ = {
  pointerEvents: "all"
};
var oZ = function(e13) {
  N8e(r, e13);
  var t = M8e(r);
  function r() {
    return C8e(this, r), t.apply(this, arguments);
  }
  return k8e(r, [{
    key: "getControls",
    value: function(i) {
      return import_react.default.createElement(cS, {
        imgStyleAdd: M_,
        imgStyleClose: M_,
        imgStyleMove: M_,
        imgStyleSettings: M_,
        isAlignLeft: this.props.controlAlignLeft,
        isMoveable: this.moveable,
        isVertical: true,
        isVisible: i,
        onAddSeries: this.props.onAddSeries,
        onCloseTrackMenuOpened: this.props.onCloseTrackMenuOpened,
        onConfigTrackMenuOpened: this.props.onConfigTrackMenuOpened,
        uid: this.props.uid
      });
    }
  }]), r;
}(wS);
function $8e(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function H8e(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, j8e(n.key), n);
  }
}
function U8e(e13, t, r) {
  return t && H8e(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function j8e(e13) {
  var t = G8e(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function G8e(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
function Bb() {
  return typeof Reflect < "u" && Reflect.get ? Bb = Reflect.get.bind() : Bb = function(t, r, n) {
    var i = z8e(t, r);
    if (i) {
      var o = Object.getOwnPropertyDescriptor(i, r);
      return o.get ? o.get.call(arguments.length < 3 ? t : n) : o.value;
    }
  }, Bb.apply(this, arguments);
}
function z8e(e13, t) {
  for (; !Object.prototype.hasOwnProperty.call(e13, t) && (e13 = Ud(e13), e13 !== null); )
    ;
  return e13;
}
function V8e(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  e13.prototype = Object.create(t && t.prototype, { constructor: { value: e13, writable: true, configurable: true } }), Object.defineProperty(e13, "prototype", { writable: false }), t && ck(e13, t);
}
function ck(e13, t) {
  return ck = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, i) {
    return n.__proto__ = i, n;
  }, ck(e13, t);
}
function X8e(e13) {
  var t = Y8e();
  return function() {
    var n = Ud(e13), i;
    if (t) {
      var o = Ud(this).constructor;
      i = Reflect.construct(n, arguments, o);
    } else
      i = n.apply(this, arguments);
    return W8e(this, i);
  };
}
function W8e(e13, t) {
  if (t && (typeof t == "object" || typeof t == "function"))
    return t;
  if (t !== void 0)
    throw new TypeError("Derived constructors may only return object or undefined");
  return aZ(e13);
}
function aZ(e13) {
  if (e13 === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e13;
}
function Y8e() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return false;
  if (typeof Proxy == "function")
    return true;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), true;
  } catch {
    return false;
  }
}
function Ud(e13) {
  return Ud = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(r) {
    return r.__proto__ || Object.getPrototypeOf(r);
  }, Ud(e13);
}
var q8e = function(e13) {
  V8e(r, e13);
  var t = X8e(r);
  function r(n, i) {
    var o;
    $8e(this, r), o = t.call(this, n, i);
    const {
      registerViewportChanged: a,
      removeViewportChanged: s
    } = n, l = Gt.nice();
    return o.uid = l, o.removeViewportChanged = s, o.viewportXDomain = null, o.viewportYDomain = null, a(l, o.viewportChanged.bind(aZ(o))), o;
  }
  return U8e(r, [{
    key: "viewportChanged",
    value: function(i, o) {
      const a = i.domain(), s = o.domain();
      this.viewportXDomain = a, this.viewportYDomain = s, this.draw();
    }
  }, {
    key: "draw",
    value: function() {
      const i = this.pMain;
      if (!this.viewportXDomain || !this.viewportYDomain)
        return;
      i.clear(), i.lineStyle(1, 255, 1), i.beginFill(16740363, 1);
      const o = this._xScale(this.viewportXDomain[0]), a = this._yScale(this.viewportYDomain[0]), s = this._xScale(this.viewportXDomain[1]) - this._xScale(this.viewportXDomain[0]), l = this._yScale(this.viewportYDomain[1]) - this._yScale(this.viewportYDomain[0]);
      this.pMain.drawRect(o, a, s, l);
    }
  }, {
    key: "zoomed",
    value: function(i, o) {
      this.xScale(i), this.yScale(o), this.draw();
    }
  }, {
    key: "setPosition",
    value: function(i) {
      Bb(Ud(r.prototype), "setPosition", this).call(this, i), this.pMain.position.y = this.position[1], this.pMain.position.x = this.position[0], this.draw();
    }
  }]), r;
}(Ai);
function sZ(e13) {
  this.size = 0, this.limit = e13, this._keymap = {};
}
function K8e(e13, t) {
  const r = {
    key: e13,
    value: t
  };
  if (this._keymap[e13] = r, this.tail ? (this.tail.newer = r, r.older = this.tail) : this.head = r, this.tail = r, this.size === this.limit)
    return this.shift();
  this.size += 1;
}
function Z8e() {
  const e13 = this.head;
  return e13 && (this.head.newer ? (this.head = this.head.newer, this.head.older = void 0) : (this.head = void 0, this.tail = void 0), e13.newer = void 0, e13.older = void 0, delete this._keymap[e13.key], this.size -= 1), e13;
}
function Q8e(e13, t) {
  const r = this._keymap[e13];
  if (r !== void 0)
    return r === this.tail || (r.newer && (r === this.head && (this.head = r.newer), r.newer.older = r.older), r.older && (r.older.newer = r.newer), r.newer = void 0, r.older = this.tail, this.tail && (this.tail.newer = r), this.tail = r), t ? r : r.value;
}
function J8e(e13) {
  return this._keymap[e13];
}
function e9e(e13, t) {
  const r = this.get(e13, true);
  let n;
  return r ? (n = r.value, r.value = t) : (n = this.put(e13, t), n && (n = n.value)), n;
}
function t9e(e13) {
  const t = this._keymap[e13];
  if (t)
    return delete this._keymap[t.key], t.newer && t.older ? (t.older.newer = t.newer, t.newer.older = t.older) : t.newer ? (t.newer.older = void 0, this.head = t.newer) : t.older ? (t.older.newer = void 0, this.tail = t.older) : (this.head = void 0, this.tail = void 0), this.size -= 1, t.value;
}
function r9e() {
  this.head = void 0, this.tail = void 0, this.size = 0, this._keymap = {};
}
function n9e() {
  return Object.keys(this._keymap);
}
function i9e(e13, t, r) {
  let n;
  if (t === true ? (r = true, t = void 0) : typeof t != "object" && (t = this), r)
    for (n = this.tail; n; )
      e13.call(t, n.key, n.value, this), n = n.older;
  else
    for (n = this.head; n; )
      e13.call(t, n.key, n.value, this), n = n.newer;
}
function o9e() {
  const e13 = [];
  let t = this.head;
  for (; t; )
    e13.push({
      key: t.key.toJSON(),
      value: t.value.toJSON()
    }), t = t.newer;
  return e13;
}
function a9e() {
  let e13 = "", t = this.head;
  for (; t; )
    e13 += `${String(t.key)}:${t.value}`, t = t.newer, t && (e13 += " < ");
  return e13;
}
Object.assign(sZ.prototype, {
  put: K8e,
  get: Q8e,
  find: J8e,
  keys: n9e,
  set: e9e,
  shift: Z8e,
  remove: t9e,
  removeAll: r9e,
  forEach: i9e,
  toJSON: o9e,
  toString: a9e
});
var lZ = "1.13.4";
var s9e = "_button_1wnjn_1";
var UO = {
  button: s9e,
  "button-shortcut": "_button-shortcut_1wnjn_35"
};
var Ps = import_react.default.forwardRef((e13, t) => import_react.default.createElement("button", {
  ref: t,
  className: UO[e13.styleName] ?? UO.button,
  disabled: e13.disable,
  onBlur: e13.onBlur,
  onClick: e13.onClick,
  onMouseDown: e13.onMouseDown,
  onMouseOut: e13.onMouseOut,
  onMouseUp: e13.onMouseUp,
  type: "button"
}, e13.children, e13.shortcut && import_react.default.createElement("span", {
  className: UO["button-shortcut"]
}, e13.shortcut)));
Ps.defaultProps = {
  onClick: () => {
  },
  styleName: "",
  type: "button"
};
Ps.propTypes = {
  children: M.any,
  disable: M.bool,
  onBlur: M.func,
  onClick: M.func,
  onMouseDown: M.func,
  onMouseOut: M.func,
  onMouseUp: M.func,
  shortcut: M.string,
  type: M.string,
  styleName: M.string
};
var l9e = "_cross_2ke8w_1";
var c9e = {
  cross: l9e
};
function cZ() {
  return import_react.default.createElement("div", {
    className: c9e.cross
  });
}
function uk() {
  return uk = Object.assign ? Object.assign.bind() : function(e13) {
    for (var t = 1; t < arguments.length; t++) {
      var r = arguments[t];
      for (var n in r)
        Object.prototype.hasOwnProperty.call(r, n) && (e13[n] = r[n]);
    }
    return e13;
  }, uk.apply(this, arguments);
}
var {
  Provider: u9e,
  Consumer: h9e
} = import_react.default.createContext({
  close: Xo,
  open: Xo
});
var AS = (e13) => import_react.default.forwardRef((t, r) => import_react.default.createElement(h9e, null, (n) => import_react.default.createElement(e13, uk({
  ref: r
}, t, {
  modal: n
}))));
var $h = {
  "modal-background": "_modal-background_zzhoe_1",
  "modal-hide": "_modal-hide_zzhoe_13",
  "modal-wrap": "_modal-wrap_zzhoe_17",
  "modal-window": "_modal-window_zzhoe_25",
  "modal-window-max-height": "_modal-window-max-height_zzhoe_38",
  "modal-content": "_modal-content_zzhoe_42"
};
function zM(e13) {
  const t = () => {
    e13.modal.close(), e13.onClose && e13.onClose();
  };
  return import_react.default.createElement("div", {
    className: nr($h["modal-background"], {
      [$h["modal-hide"]]: e13.hide
    })
  }, import_react.default.createElement("div", {
    className: $h["modal-wrap"]
  }, import_react.default.createElement("div", {
    className: nr($h["modal-window"], {
      [$h["modal-window-max-height"]]: e13.maxHeight
    })
  }, e13.closeButton && import_react.default.createElement(Ps, {
    onClick: t
  }, import_react.default.createElement(cZ, null)), import_react.default.createElement("div", {
    className: $h["modal-content"]
  }, e13.children))));
}
zM.defaultProps = {
  closeButton: true,
  hide: false,
  maxHeight: false
};
zM.propTypes = {
  children: M.element.isRequired,
  closeButton: M.bool,
  hide: M.bool,
  maxHeight: M.bool,
  modal: M.object.isRequired,
  onClose: M.func
};
var f9e = AS(zM);
var jO = {
  "dialog-header": "_dialog-header_wp50s_1",
  "dialog-main-max-height": "_dialog-main-max-height_wp50s_20",
  "dialog-footer": "_dialog-footer_wp50s_31",
  "dialog-footer-max-height": "_dialog-footer-max-height_wp50s_31"
};
function VM(e13) {
  const t = () => {
    e13.modal.close(), e13.onCancel && e13.onCancel();
  }, r = () => {
    e13.modal.close(), e13.onOkay && e13.onOkay();
  };
  return import_react.default.createElement(f9e, {
    closeButton: false,
    hide: e13.hide,
    maxHeight: e13.maxHeight
  }, import_react.default.createElement(import_react.default.Fragment, null, import_react.default.createElement("header", {
    className: jO["dialog-header"]
  }, import_react.default.createElement("h3", null, e13.title), import_react.default.createElement(Ps, {
    onClick: t
  }, import_react.default.createElement(cZ, null))), e13.maxHeight ? import_react.default.createElement("main", {
    className: nr(e13.maxHeight && jO["dialog-main-max-height"])
  }, e13.children) : import_react.default.createElement("main", null, e13.children), import_react.default.createElement("footer", {
    className: jO[e13.maxHeight ? "dialog-footer-max-height" : "dialog-footer"]
  }, e13.okayOnly ? import_react.default.createElement("div", null) : import_react.default.createElement(Ps, {
    onClick: t,
    shortcut: e13.cancelShortcut
  }, e13.cancelTitle), import_react.default.createElement(Ps, {
    onClick: r,
    shortcut: e13.okayShortcut
  }, e13.okayTitle))));
}
VM.defaultProps = {
  cancelTitle: "Cancel",
  hide: false,
  maxHeight: false,
  okayOnly: false,
  okayTitle: "Ok"
};
VM.propTypes = {
  cancelShortcut: M.string,
  cancelTitle: M.string,
  children: M.object,
  hide: M.bool,
  maxHeight: M.bool,
  modal: M.object.isRequired,
  okayShortcut: M.string,
  okayTitle: M.string,
  okayOnly: M.bool,
  onCancel: M.func.isRequired,
  onOkay: M.func.isRequired,
  title: M.string.isRequired
};
var gy = AS(VM);
var _o = {};
var vy = {};
var d9e = typeof globalThis == "object" && globalThis && globalThis.Object === Object && globalThis;
var uZ = d9e;
var p9e = typeof self == "object" && self && self.Object === Object && self;
var m9e = uZ || p9e || Function("return this")();
var ca = m9e;
var g9e = ca.Symbol;
var za = g9e;
var hZ = Object.prototype;
var v9e = hZ.hasOwnProperty;
var y9e = hZ.toString;
var sm = za ? za.toStringTag : void 0;
function _9e(e13) {
  var t = v9e.call(e13, sm), r = e13[sm];
  try {
    e13[sm] = void 0;
    var n = true;
  } catch {
  }
  var i = y9e.call(e13);
  return n && (t ? e13[sm] = r : delete e13[sm]), i;
}
var b9e = Object.prototype;
var T9e = b9e.toString;
function E9e(e13) {
  return T9e.call(e13);
}
var S9e = "[object Null]";
var w9e = "[object Undefined]";
var _j = za ? za.toStringTag : void 0;
function lc(e13) {
  return e13 == null ? e13 === void 0 ? w9e : S9e : _j && _j in Object(e13) ? _9e(e13) : E9e(e13);
}
var A9e = Array.isArray;
var Si = A9e;
function ta(e13) {
  return e13 != null && typeof e13 == "object";
}
var O9e = "[object String]";
function I9e(e13) {
  return typeof e13 == "string" || !Si(e13) && ta(e13) && lc(e13) == O9e;
}
var P9e = Object.freeze(Object.defineProperty({
  __proto__: null,
  default: I9e
}, Symbol.toStringTag, { value: "Module" }));
var C9e = Hs(P9e);
function x9e(e13) {
  return function(t, r, n) {
    for (var i = -1, o = Object(t), a = n(t), s = a.length; s--; ) {
      var l = a[++i];
      if (r(o[l], l, o) === false)
        break;
    }
    return t;
  };
}
var k9e = x9e();
var fZ = k9e;
function D9e(e13, t) {
  for (var r = -1, n = Array(e13); ++r < e13; )
    n[r] = t(r);
  return n;
}
var R9e = "[object Arguments]";
function bj(e13) {
  return ta(e13) && lc(e13) == R9e;
}
var dZ = Object.prototype;
var N9e = dZ.hasOwnProperty;
var M9e = dZ.propertyIsEnumerable;
var L9e = bj(/* @__PURE__ */ function() {
  return arguments;
}()) ? bj : function(e13) {
  return ta(e13) && N9e.call(e13, "callee") && !M9e.call(e13, "callee");
};
var WT = L9e;
function B9e() {
  return false;
}
var pZ = typeof exports == "object" && exports && !exports.nodeType && exports;
var Tj = pZ && typeof module == "object" && module && !module.nodeType && module;
var F9e = Tj && Tj.exports === pZ;
var Ej = F9e ? ca.Buffer : void 0;
var $9e = Ej ? Ej.isBuffer : void 0;
var H9e = $9e || B9e;
var _v = H9e;
var U9e = 9007199254740991;
var j9e = /^(?:0|[1-9]\d*)$/;
function XM(e13, t) {
  var r = typeof e13;
  return t = t ?? U9e, !!t && (r == "number" || r != "symbol" && j9e.test(e13)) && e13 > -1 && e13 % 1 == 0 && e13 < t;
}
var G9e = 9007199254740991;
function WM(e13) {
  return typeof e13 == "number" && e13 > -1 && e13 % 1 == 0 && e13 <= G9e;
}
var z9e = "[object Arguments]";
var V9e = "[object Array]";
var X9e = "[object Boolean]";
var W9e = "[object Date]";
var Y9e = "[object Error]";
var q9e = "[object Function]";
var K9e = "[object Map]";
var Z9e = "[object Number]";
var Q9e = "[object Object]";
var J9e = "[object RegExp]";
var eVe = "[object Set]";
var tVe = "[object String]";
var rVe = "[object WeakMap]";
var nVe = "[object ArrayBuffer]";
var iVe = "[object DataView]";
var oVe = "[object Float32Array]";
var aVe = "[object Float64Array]";
var sVe = "[object Int8Array]";
var lVe = "[object Int16Array]";
var cVe = "[object Int32Array]";
var uVe = "[object Uint8Array]";
var hVe = "[object Uint8ClampedArray]";
var fVe = "[object Uint16Array]";
var dVe = "[object Uint32Array]";
var Rr = {};
Rr[oVe] = Rr[aVe] = Rr[sVe] = Rr[lVe] = Rr[cVe] = Rr[uVe] = Rr[hVe] = Rr[fVe] = Rr[dVe] = true;
Rr[z9e] = Rr[V9e] = Rr[nVe] = Rr[X9e] = Rr[iVe] = Rr[W9e] = Rr[Y9e] = Rr[q9e] = Rr[K9e] = Rr[Z9e] = Rr[Q9e] = Rr[J9e] = Rr[eVe] = Rr[tVe] = Rr[rVe] = false;
function pVe(e13) {
  return ta(e13) && WM(e13.length) && !!Rr[lc(e13)];
}
function YM(e13) {
  return function(t) {
    return e13(t);
  };
}
var mZ = typeof exports == "object" && exports && !exports.nodeType && exports;
var Lg = mZ && typeof module == "object" && module && !module.nodeType && module;
var mVe = Lg && Lg.exports === mZ;
var GO = mVe && uZ.process;
var gVe = function() {
  try {
    var e13 = Lg && Lg.require && Lg.require("util").types;
    return e13 || GO && GO.binding && GO.binding("util");
  } catch {
  }
}();
var jd = gVe;
var Sj = jd && jd.isTypedArray;
var vVe = Sj ? YM(Sj) : pVe;
var qM = vVe;
var yVe = Object.prototype;
var _Ve = yVe.hasOwnProperty;
function gZ(e13, t) {
  var r = Si(e13), n = !r && WT(e13), i = !r && !n && _v(e13), o = !r && !n && !i && qM(e13), a = r || n || i || o, s = a ? D9e(e13.length, String) : [], l = s.length;
  for (var u in e13)
    (t || _Ve.call(e13, u)) && !(a && // Safari 9 has enumerable `arguments.length` in strict mode.
    (u == "length" || // Node.js 0.10 has enumerable non-index properties on buffers.
    i && (u == "offset" || u == "parent") || // PhantomJS 2 has enumerable non-index properties on typed arrays.
    o && (u == "buffer" || u == "byteLength" || u == "byteOffset") || // Skip index properties.
    XM(u, l))) && s.push(u);
  return s;
}
var bVe = Object.prototype;
function KM(e13) {
  var t = e13 && e13.constructor, r = typeof t == "function" && t.prototype || bVe;
  return e13 === r;
}
function vZ(e13, t) {
  return function(r) {
    return e13(t(r));
  };
}
var TVe = vZ(Object.keys, Object);
var EVe = TVe;
var SVe = Object.prototype;
var wVe = SVe.hasOwnProperty;
function AVe(e13) {
  if (!KM(e13))
    return EVe(e13);
  var t = [];
  for (var r in Object(e13))
    wVe.call(e13, r) && r != "constructor" && t.push(r);
  return t;
}
function io(e13) {
  var t = typeof e13;
  return e13 != null && (t == "object" || t == "function");
}
var OVe = "[object AsyncFunction]";
var IVe = "[object Function]";
var PVe = "[object GeneratorFunction]";
var CVe = "[object Proxy]";
function ZM(e13) {
  if (!io(e13))
    return false;
  var t = lc(e13);
  return t == IVe || t == PVe || t == OVe || t == CVe;
}
function Sp(e13) {
  return e13 != null && WM(e13.length) && !ZM(e13);
}
function QM(e13) {
  return Sp(e13) ? gZ(e13) : AVe(e13);
}
function yZ(e13, t) {
  return e13 && fZ(e13, t, QM);
}
function OS(e13) {
  return e13;
}
function _Z(e13) {
  return typeof e13 == "function" ? e13 : OS;
}
function xVe(e13, t) {
  return e13 && yZ(e13, _Z(t));
}
var kVe = Object.freeze(Object.defineProperty({
  __proto__: null,
  default: xVe
}, Symbol.toStringTag, { value: "Module" }));
var JM = Hs(kVe);
var DVe = vZ(Object.getPrototypeOf, Object);
var bZ = DVe;
var RVe = "[object Object]";
var NVe = Function.prototype;
var MVe = Object.prototype;
var TZ = NVe.toString;
var LVe = MVe.hasOwnProperty;
var BVe = TZ.call(Object);
function EZ(e13) {
  if (!ta(e13) || lc(e13) != RVe)
    return false;
  var t = bZ(e13);
  if (t === null)
    return true;
  var r = LVe.call(t, "constructor") && t.constructor;
  return typeof r == "function" && r instanceof r && TZ.call(r) == BVe;
}
var FVe = Object.freeze(Object.defineProperty({
  __proto__: null,
  default: EZ
}, Symbol.toStringTag, { value: "Module" }));
var $Ve = Hs(FVe);
function SZ(e13, t) {
  for (var r = -1, n = e13 == null ? 0 : e13.length, i = Array(n); ++r < n; )
    i[r] = t(e13[r], r, e13);
  return i;
}
function HVe() {
  this.__data__ = [], this.size = 0;
}
function yy(e13, t) {
  return e13 === t || e13 !== e13 && t !== t;
}
function IS(e13, t) {
  for (var r = e13.length; r--; )
    if (yy(e13[r][0], t))
      return r;
  return -1;
}
var UVe = Array.prototype;
var jVe = UVe.splice;
function GVe(e13) {
  var t = this.__data__, r = IS(t, e13);
  if (r < 0)
    return false;
  var n = t.length - 1;
  return r == n ? t.pop() : jVe.call(t, r, 1), --this.size, true;
}
function zVe(e13) {
  var t = this.__data__, r = IS(t, e13);
  return r < 0 ? void 0 : t[r][1];
}
function VVe(e13) {
  return IS(this.__data__, e13) > -1;
}
function XVe(e13, t) {
  var r = this.__data__, n = IS(r, e13);
  return n < 0 ? (++this.size, r.push([e13, t])) : r[n][1] = t, this;
}
function Ks(e13) {
  var t = -1, r = e13 == null ? 0 : e13.length;
  for (this.clear(); ++t < r; ) {
    var n = e13[t];
    this.set(n[0], n[1]);
  }
}
Ks.prototype.clear = HVe;
Ks.prototype.delete = GVe;
Ks.prototype.get = zVe;
Ks.prototype.has = VVe;
Ks.prototype.set = XVe;
function WVe() {
  this.__data__ = new Ks(), this.size = 0;
}
function YVe(e13) {
  var t = this.__data__, r = t.delete(e13);
  return this.size = t.size, r;
}
function qVe(e13) {
  return this.__data__.get(e13);
}
function KVe(e13) {
  return this.__data__.has(e13);
}
var ZVe = ca["__core-js_shared__"];
var zO = ZVe;
var wj = function() {
  var e13 = /[^.]+$/.exec(zO && zO.keys && zO.keys.IE_PROTO || "");
  return e13 ? "Symbol(src)_1." + e13 : "";
}();
function QVe(e13) {
  return !!wj && wj in e13;
}
var JVe = Function.prototype;
var e7e = JVe.toString;
function uh(e13) {
  if (e13 != null) {
    try {
      return e7e.call(e13);
    } catch {
    }
    try {
      return e13 + "";
    } catch {
    }
  }
  return "";
}
var t7e = /[\\^$.*+?()[\]{}|]/g;
var r7e = /^\[object .+?Constructor\]$/;
var n7e = Function.prototype;
var i7e = Object.prototype;
var o7e = n7e.toString;
var a7e = i7e.hasOwnProperty;
var s7e = RegExp("^" + o7e.call(a7e).replace(t7e, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$");
function l7e(e13) {
  if (!io(e13) || QVe(e13))
    return false;
  var t = ZM(e13) ? s7e : r7e;
  return t.test(uh(e13));
}
function c7e(e13, t) {
  return e13 == null ? void 0 : e13[t];
}
function hh(e13, t) {
  var r = c7e(e13, t);
  return l7e(r) ? r : void 0;
}
var u7e = hh(ca, "Map");
var bv = u7e;
var h7e = hh(Object, "create");
var Tv = h7e;
function f7e() {
  this.__data__ = Tv ? Tv(null) : {}, this.size = 0;
}
function d7e(e13) {
  var t = this.has(e13) && delete this.__data__[e13];
  return this.size -= t ? 1 : 0, t;
}
var p7e = "__lodash_hash_undefined__";
var m7e = Object.prototype;
var g7e = m7e.hasOwnProperty;
function v7e(e13) {
  var t = this.__data__;
  if (Tv) {
    var r = t[e13];
    return r === p7e ? void 0 : r;
  }
  return g7e.call(t, e13) ? t[e13] : void 0;
}
var y7e = Object.prototype;
var _7e = y7e.hasOwnProperty;
function b7e(e13) {
  var t = this.__data__;
  return Tv ? t[e13] !== void 0 : _7e.call(t, e13);
}
var T7e = "__lodash_hash_undefined__";
function E7e(e13, t) {
  var r = this.__data__;
  return this.size += this.has(e13) ? 0 : 1, r[e13] = Tv && t === void 0 ? T7e : t, this;
}
function Uu(e13) {
  var t = -1, r = e13 == null ? 0 : e13.length;
  for (this.clear(); ++t < r; ) {
    var n = e13[t];
    this.set(n[0], n[1]);
  }
}
Uu.prototype.clear = f7e;
Uu.prototype.delete = d7e;
Uu.prototype.get = v7e;
Uu.prototype.has = b7e;
Uu.prototype.set = E7e;
function S7e() {
  this.size = 0, this.__data__ = {
    hash: new Uu(),
    map: new (bv || Ks)(),
    string: new Uu()
  };
}
function w7e(e13) {
  var t = typeof e13;
  return t == "string" || t == "number" || t == "symbol" || t == "boolean" ? e13 !== "__proto__" : e13 === null;
}
function PS(e13, t) {
  var r = e13.__data__;
  return w7e(t) ? r[typeof t == "string" ? "string" : "hash"] : r.map;
}
function A7e(e13) {
  var t = PS(this, e13).delete(e13);
  return this.size -= t ? 1 : 0, t;
}
function O7e(e13) {
  return PS(this, e13).get(e13);
}
function I7e(e13) {
  return PS(this, e13).has(e13);
}
function P7e(e13, t) {
  var r = PS(this, e13), n = r.size;
  return r.set(e13, t), this.size += r.size == n ? 0 : 1, this;
}
function Zs(e13) {
  var t = -1, r = e13 == null ? 0 : e13.length;
  for (this.clear(); ++t < r; ) {
    var n = e13[t];
    this.set(n[0], n[1]);
  }
}
Zs.prototype.clear = S7e;
Zs.prototype.delete = A7e;
Zs.prototype.get = O7e;
Zs.prototype.has = I7e;
Zs.prototype.set = P7e;
var C7e = 200;
function x7e(e13, t) {
  var r = this.__data__;
  if (r instanceof Ks) {
    var n = r.__data__;
    if (!bv || n.length < C7e - 1)
      return n.push([e13, t]), this.size = ++r.size, this;
    r = this.__data__ = new Zs(n);
  }
  return r.set(e13, t), this.size = r.size, this;
}
function Qo(e13) {
  var t = this.__data__ = new Ks(e13);
  this.size = t.size;
}
Qo.prototype.clear = WVe;
Qo.prototype.delete = YVe;
Qo.prototype.get = qVe;
Qo.prototype.has = KVe;
Qo.prototype.set = x7e;
var k7e = "__lodash_hash_undefined__";
function D7e(e13) {
  return this.__data__.set(e13, k7e), this;
}
function R7e(e13) {
  return this.__data__.has(e13);
}
function YT(e13) {
  var t = -1, r = e13 == null ? 0 : e13.length;
  for (this.__data__ = new Zs(); ++t < r; )
    this.add(e13[t]);
}
YT.prototype.add = YT.prototype.push = D7e;
YT.prototype.has = R7e;
function N7e(e13, t) {
  for (var r = -1, n = e13 == null ? 0 : e13.length; ++r < n; )
    if (t(e13[r], r, e13))
      return true;
  return false;
}
function M7e(e13, t) {
  return e13.has(t);
}
var L7e = 1;
var B7e = 2;
function wZ(e13, t, r, n, i, o) {
  var a = r & L7e, s = e13.length, l = t.length;
  if (s != l && !(a && l > s))
    return false;
  var u = o.get(e13), c = o.get(t);
  if (u && c)
    return u == t && c == e13;
  var f = -1, h = true, d = r & B7e ? new YT() : void 0;
  for (o.set(e13, t), o.set(t, e13); ++f < s; ) {
    var p = e13[f], m = t[f];
    if (n)
      var g = a ? n(m, p, f, t, e13, o) : n(p, m, f, e13, t, o);
    if (g !== void 0) {
      if (g)
        continue;
      h = false;
      break;
    }
    if (d) {
      if (!N7e(t, function(v, b) {
        if (!M7e(d, b) && (p === v || i(p, v, r, n, o)))
          return d.push(b);
      })) {
        h = false;
        break;
      }
    } else if (!(p === m || i(p, m, r, n, o))) {
      h = false;
      break;
    }
  }
  return o.delete(e13), o.delete(t), h;
}
var F7e = ca.Uint8Array;
var qT = F7e;
function $7e(e13) {
  var t = -1, r = Array(e13.size);
  return e13.forEach(function(n, i) {
    r[++t] = [i, n];
  }), r;
}
function H7e(e13) {
  var t = -1, r = Array(e13.size);
  return e13.forEach(function(n) {
    r[++t] = n;
  }), r;
}
var U7e = 1;
var j7e = 2;
var G7e = "[object Boolean]";
var z7e = "[object Date]";
var V7e = "[object Error]";
var X7e = "[object Map]";
var W7e = "[object Number]";
var Y7e = "[object RegExp]";
var q7e = "[object Set]";
var K7e = "[object String]";
var Z7e = "[object Symbol]";
var Q7e = "[object ArrayBuffer]";
var J7e = "[object DataView]";
var Aj = za ? za.prototype : void 0;
var VO = Aj ? Aj.valueOf : void 0;
function e2e(e13, t, r, n, i, o, a) {
  switch (r) {
    case J7e:
      if (e13.byteLength != t.byteLength || e13.byteOffset != t.byteOffset)
        return false;
      e13 = e13.buffer, t = t.buffer;
    case Q7e:
      return !(e13.byteLength != t.byteLength || !o(new qT(e13), new qT(t)));
    case G7e:
    case z7e:
    case W7e:
      return yy(+e13, +t);
    case V7e:
      return e13.name == t.name && e13.message == t.message;
    case Y7e:
    case K7e:
      return e13 == t + "";
    case X7e:
      var s = $7e;
    case q7e:
      var l = n & U7e;
      if (s || (s = H7e), e13.size != t.size && !l)
        return false;
      var u = a.get(e13);
      if (u)
        return u == t;
      n |= j7e, a.set(e13, t);
      var c = wZ(s(e13), s(t), n, i, o, a);
      return a.delete(e13), c;
    case Z7e:
      if (VO)
        return VO.call(e13) == VO.call(t);
  }
  return false;
}
function t2e(e13, t) {
  for (var r = -1, n = t.length, i = e13.length; ++r < n; )
    e13[i + r] = t[r];
  return e13;
}
function r2e(e13, t, r) {
  var n = t(e13);
  return Si(e13) ? n : t2e(n, r(e13));
}
function n2e(e13, t) {
  for (var r = -1, n = e13 == null ? 0 : e13.length, i = 0, o = []; ++r < n; ) {
    var a = e13[r];
    t(a, r, e13) && (o[i++] = a);
  }
  return o;
}
function i2e() {
  return [];
}
var o2e = Object.prototype;
var a2e = o2e.propertyIsEnumerable;
var Oj = Object.getOwnPropertySymbols;
var s2e = Oj ? function(e13) {
  return e13 == null ? [] : (e13 = Object(e13), n2e(Oj(e13), function(t) {
    return a2e.call(e13, t);
  }));
} : i2e;
var l2e = s2e;
function hk(e13) {
  return r2e(e13, QM, l2e);
}
var c2e = 1;
var u2e = Object.prototype;
var h2e = u2e.hasOwnProperty;
function f2e(e13, t, r, n, i, o) {
  var a = r & c2e, s = hk(e13), l = s.length, u = hk(t), c = u.length;
  if (l != c && !a)
    return false;
  for (var f = l; f--; ) {
    var h = s[f];
    if (!(a ? h in t : h2e.call(t, h)))
      return false;
  }
  var d = o.get(e13), p = o.get(t);
  if (d && p)
    return d == t && p == e13;
  var m = true;
  o.set(e13, t), o.set(t, e13);
  for (var g = a; ++f < l; ) {
    h = s[f];
    var v = e13[h], b = t[h];
    if (n)
      var y = a ? n(b, v, h, t, e13, o) : n(v, b, h, e13, t, o);
    if (!(y === void 0 ? v === b || i(v, b, r, n, o) : y)) {
      m = false;
      break;
    }
    g || (g = h == "constructor");
  }
  if (m && !g) {
    var _ = e13.constructor, T = t.constructor;
    _ != T && "constructor" in e13 && "constructor" in t && !(typeof _ == "function" && _ instanceof _ && typeof T == "function" && T instanceof T) && (m = false);
  }
  return o.delete(e13), o.delete(t), m;
}
var d2e = hh(ca, "DataView");
var fk = d2e;
var p2e = hh(ca, "Promise");
var dk = p2e;
var m2e = hh(ca, "Set");
var pk = m2e;
var g2e = hh(ca, "WeakMap");
var mk = g2e;
var Ij = "[object Map]";
var v2e = "[object Object]";
var Pj = "[object Promise]";
var Cj = "[object Set]";
var xj = "[object WeakMap]";
var kj = "[object DataView]";
var y2e = uh(fk);
var _2e = uh(bv);
var b2e = uh(dk);
var T2e = uh(pk);
var E2e = uh(mk);
var Lc = lc;
(fk && Lc(new fk(new ArrayBuffer(1))) != kj || bv && Lc(new bv()) != Ij || dk && Lc(dk.resolve()) != Pj || pk && Lc(new pk()) != Cj || mk && Lc(new mk()) != xj) && (Lc = function(e13) {
  var t = lc(e13), r = t == v2e ? e13.constructor : void 0, n = r ? uh(r) : "";
  if (n)
    switch (n) {
      case y2e:
        return kj;
      case _2e:
        return Ij;
      case b2e:
        return Pj;
      case T2e:
        return Cj;
      case E2e:
        return xj;
    }
  return t;
});
var Ev = Lc;
var S2e = 1;
var Dj = "[object Arguments]";
var Rj = "[object Array]";
var L_ = "[object Object]";
var w2e = Object.prototype;
var Nj = w2e.hasOwnProperty;
function A2e(e13, t, r, n, i, o) {
  var a = Si(e13), s = Si(t), l = a ? Rj : Ev(e13), u = s ? Rj : Ev(t);
  l = l == Dj ? L_ : l, u = u == Dj ? L_ : u;
  var c = l == L_, f = u == L_, h = l == u;
  if (h && _v(e13)) {
    if (!_v(t))
      return false;
    a = true, c = false;
  }
  if (h && !c)
    return o || (o = new Qo()), a || qM(e13) ? wZ(e13, t, r, n, i, o) : e2e(e13, t, l, r, n, i, o);
  if (!(r & S2e)) {
    var d = c && Nj.call(e13, "__wrapped__"), p = f && Nj.call(t, "__wrapped__");
    if (d || p) {
      var m = d ? e13.value() : e13, g = p ? t.value() : t;
      return o || (o = new Qo()), i(m, g, r, n, o);
    }
  }
  return h ? (o || (o = new Qo()), f2e(e13, t, r, n, i, o)) : false;
}
function eL(e13, t, r, n, i) {
  return e13 === t ? true : e13 == null || t == null || !ta(e13) && !ta(t) ? e13 !== e13 && t !== t : A2e(e13, t, r, n, eL, i);
}
var O2e = 1;
var I2e = 2;
function P2e(e13, t, r, n) {
  var i = r.length, o = i;
  if (e13 == null)
    return !o;
  for (e13 = Object(e13); i--; ) {
    var a = r[i];
    if (a[2] ? a[1] !== e13[a[0]] : !(a[0] in e13))
      return false;
  }
  for (; ++i < o; ) {
    a = r[i];
    var s = a[0], l = e13[s], u = a[1];
    if (a[2]) {
      if (l === void 0 && !(s in e13))
        return false;
    } else {
      var c = new Qo(), f;
      if (!(f === void 0 ? eL(u, l, O2e | I2e, n, c) : f))
        return false;
    }
  }
  return true;
}
function AZ(e13) {
  return e13 === e13 && !io(e13);
}
function C2e(e13) {
  for (var t = QM(e13), r = t.length; r--; ) {
    var n = t[r], i = e13[n];
    t[r] = [n, i, AZ(i)];
  }
  return t;
}
function OZ(e13, t) {
  return function(r) {
    return r == null ? false : r[e13] === t && (t !== void 0 || e13 in Object(r));
  };
}
function x2e(e13) {
  var t = C2e(e13);
  return t.length == 1 && t[0][2] ? OZ(t[0][0], t[0][1]) : function(r) {
    return r === e13 || P2e(r, e13, t);
  };
}
var k2e = "[object Symbol]";
function CS(e13) {
  return typeof e13 == "symbol" || ta(e13) && lc(e13) == k2e;
}
var D2e = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/;
var R2e = /^\w*$/;
function tL(e13, t) {
  if (Si(e13))
    return false;
  var r = typeof e13;
  return r == "number" || r == "symbol" || r == "boolean" || e13 == null || CS(e13) ? true : R2e.test(e13) || !D2e.test(e13) || t != null && e13 in Object(t);
}
var N2e = "Expected a function";
function rL(e13, t) {
  if (typeof e13 != "function" || t != null && typeof t != "function")
    throw new TypeError(N2e);
  var r = function() {
    var n = arguments, i = t ? t.apply(this, n) : n[0], o = r.cache;
    if (o.has(i))
      return o.get(i);
    var a = e13.apply(this, n);
    return r.cache = o.set(i, a) || o, a;
  };
  return r.cache = new (rL.Cache || Zs)(), r;
}
rL.Cache = Zs;
var M2e = 500;
function L2e(e13) {
  var t = rL(e13, function(n) {
    return r.size === M2e && r.clear(), n;
  }), r = t.cache;
  return t;
}
var B2e = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g;
var F2e = /\\(\\)?/g;
var $2e = L2e(function(e13) {
  var t = [];
  return e13.charCodeAt(0) === 46 && t.push(""), e13.replace(B2e, function(r, n, i, o) {
    t.push(i ? o.replace(F2e, "$1") : n || r);
  }), t;
});
var H2e = $2e;
var Mj = za ? za.prototype : void 0;
var Lj = Mj ? Mj.toString : void 0;
function IZ(e13) {
  if (typeof e13 == "string")
    return e13;
  if (Si(e13))
    return SZ(e13, IZ) + "";
  if (CS(e13))
    return Lj ? Lj.call(e13) : "";
  var t = e13 + "";
  return t == "0" && 1 / e13 == -1 / 0 ? "-0" : t;
}
function U2e(e13) {
  return e13 == null ? "" : IZ(e13);
}
function PZ(e13, t) {
  return Si(e13) ? e13 : tL(e13, t) ? [e13] : H2e(U2e(e13));
}
function xS(e13) {
  if (typeof e13 == "string" || CS(e13))
    return e13;
  var t = e13 + "";
  return t == "0" && 1 / e13 == -1 / 0 ? "-0" : t;
}
function CZ(e13, t) {
  t = PZ(t, e13);
  for (var r = 0, n = t.length; e13 != null && r < n; )
    e13 = e13[xS(t[r++])];
  return r && r == n ? e13 : void 0;
}
function j2e(e13, t, r) {
  var n = e13 == null ? void 0 : CZ(e13, t);
  return n === void 0 ? r : n;
}
function G2e(e13, t) {
  return e13 != null && t in Object(e13);
}
function z2e(e13, t, r) {
  t = PZ(t, e13);
  for (var n = -1, i = t.length, o = false; ++n < i; ) {
    var a = xS(t[n]);
    if (!(o = e13 != null && r(e13, a)))
      break;
    e13 = e13[a];
  }
  return o || ++n != i ? o : (i = e13 == null ? 0 : e13.length, !!i && WM(i) && XM(a, i) && (Si(e13) || WT(e13)));
}
function V2e(e13, t) {
  return e13 != null && z2e(e13, t, G2e);
}
var X2e = 1;
var W2e = 2;
function Y2e(e13, t) {
  return tL(e13) && AZ(t) ? OZ(xS(e13), t) : function(r) {
    var n = j2e(r, e13);
    return n === void 0 && n === t ? V2e(r, e13) : eL(t, n, X2e | W2e);
  };
}
function q2e(e13) {
  return function(t) {
    return t == null ? void 0 : t[e13];
  };
}
function K2e(e13) {
  return function(t) {
    return CZ(t, e13);
  };
}
function Z2e(e13) {
  return tL(e13) ? q2e(xS(e13)) : K2e(e13);
}
function Q2e(e13) {
  return typeof e13 == "function" ? e13 : e13 == null ? OS : typeof e13 == "object" ? Si(e13) ? Y2e(e13[0], e13[1]) : x2e(e13) : Z2e(e13);
}
function J2e(e13, t) {
  return function(r, n) {
    if (r == null)
      return r;
    if (!Sp(r))
      return e13(r, n);
    for (var i = r.length, o = -1, a = Object(r); ++o < i && n(a[o], o, a) !== false; )
      ;
    return r;
  };
}
var eXe = J2e(yZ);
var xZ = eXe;
function tXe(e13, t) {
  var r = -1, n = Sp(e13) ? Array(e13.length) : [];
  return xZ(e13, function(i, o, a) {
    n[++r] = t(i, o, a);
  }), n;
}
function cc(e13, t) {
  var r = Si(e13) ? SZ : tXe;
  return r(e13, Q2e(t));
}
var rXe = Object.freeze(Object.defineProperty({
  __proto__: null,
  default: cc
}, Symbol.toStringTag, { value: "Module" }));
var nXe = Hs(rXe);
Object.defineProperty(vy, "__esModule", {
  value: true
});
vy.flattenNames = void 0;
var iXe = C9e;
var oXe = kS(iXe);
var aXe = JM;
var sXe = kS(aXe);
var lXe = $Ve;
var cXe = kS(lXe);
var uXe = nXe;
var hXe = kS(uXe);
function kS(e13) {
  return e13 && e13.__esModule ? e13 : {
    default: e13
  };
}
var fXe = vy.flattenNames = function e11() {
  var t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : [], r = [];
  return (0, hXe.default)(t, function(n) {
    Array.isArray(n) ? e11(n).map(function(i) {
      return r.push(i);
    }) : (0, cXe.default)(n) ? (0, sXe.default)(n, function(i, o) {
      i === true && r.push(o), r.push(o + "-" + i);
    }) : (0, oXe.default)(n) && r.push(n);
  }), r;
};
vy.default = fXe;
var _y = {};
function kZ(e13, t) {
  for (var r = -1, n = e13 == null ? 0 : e13.length; ++r < n && t(e13[r], r, e13) !== false; )
    ;
  return e13;
}
var dXe = function() {
  try {
    var e13 = hh(Object, "defineProperty");
    return e13({}, "", {}), e13;
  } catch {
  }
}();
var KT = dXe;
function nL(e13, t, r) {
  t == "__proto__" && KT ? KT(e13, t, {
    configurable: true,
    enumerable: true,
    value: r,
    writable: true
  }) : e13[t] = r;
}
var pXe = Object.prototype;
var mXe = pXe.hasOwnProperty;
function DZ(e13, t, r) {
  var n = e13[t];
  (!(mXe.call(e13, t) && yy(n, r)) || r === void 0 && !(t in e13)) && nL(e13, t, r);
}
function gXe(e13, t, r, n) {
  var i = !r;
  r || (r = {});
  for (var o = -1, a = t.length; ++o < a; ) {
    var s = t[o], l = void 0;
    l === void 0 && (l = e13[s]), i ? nL(r, s, l) : DZ(r, s, l);
  }
  return r;
}
function vXe(e13) {
  var t = [];
  if (e13 != null)
    for (var r in Object(e13))
      t.push(r);
  return t;
}
var yXe = Object.prototype;
var _Xe = yXe.hasOwnProperty;
function bXe(e13) {
  if (!io(e13))
    return vXe(e13);
  var t = KM(e13), r = [];
  for (var n in e13)
    n == "constructor" && (t || !_Xe.call(e13, n)) || r.push(n);
  return r;
}
function RZ(e13) {
  return Sp(e13) ? gZ(e13, true) : bXe(e13);
}
var NZ = typeof exports == "object" && exports && !exports.nodeType && exports;
var Bj = NZ && typeof module == "object" && module && !module.nodeType && module;
var TXe = Bj && Bj.exports === NZ;
var Fj = TXe ? ca.Buffer : void 0;
var $j = Fj ? Fj.allocUnsafe : void 0;
function MZ(e13, t) {
  if (t)
    return e13.slice();
  var r = e13.length, n = $j ? $j(r) : new e13.constructor(r);
  return e13.copy(n), n;
}
function EXe(e13, t) {
  var r = -1, n = e13.length;
  for (t || (t = Array(n)); ++r < n; )
    t[r] = e13[r];
  return t;
}
var SXe = Object.prototype;
var wXe = SXe.hasOwnProperty;
function AXe(e13) {
  var t = e13.length, r = new e13.constructor(t);
  return t && typeof e13[0] == "string" && wXe.call(e13, "index") && (r.index = e13.index, r.input = e13.input), r;
}
function iL(e13) {
  var t = new e13.constructor(e13.byteLength);
  return new qT(t).set(new qT(e13)), t;
}
function OXe(e13, t) {
  var r = iL(e13.buffer);
  return new e13.constructor(r, e13.byteOffset, e13.byteLength);
}
var IXe = /\w*$/;
function PXe(e13) {
  var t = new e13.constructor(e13.source, IXe.exec(e13));
  return t.lastIndex = e13.lastIndex, t;
}
var Hj = za ? za.prototype : void 0;
var Uj = Hj ? Hj.valueOf : void 0;
function CXe(e13) {
  return Uj ? Object(Uj.call(e13)) : {};
}
function LZ(e13, t) {
  var r = t ? iL(e13.buffer) : e13.buffer;
  return new e13.constructor(r, e13.byteOffset, e13.length);
}
var xXe = "[object Boolean]";
var kXe = "[object Date]";
var DXe = "[object Map]";
var RXe = "[object Number]";
var NXe = "[object RegExp]";
var MXe = "[object Set]";
var LXe = "[object String]";
var BXe = "[object Symbol]";
var FXe = "[object ArrayBuffer]";
var $Xe = "[object DataView]";
var HXe = "[object Float32Array]";
var UXe = "[object Float64Array]";
var jXe = "[object Int8Array]";
var GXe = "[object Int16Array]";
var zXe = "[object Int32Array]";
var VXe = "[object Uint8Array]";
var XXe = "[object Uint8ClampedArray]";
var WXe = "[object Uint16Array]";
var YXe = "[object Uint32Array]";
function qXe(e13, t, r) {
  var n = e13.constructor;
  switch (t) {
    case FXe:
      return iL(e13);
    case xXe:
    case kXe:
      return new n(+e13);
    case $Xe:
      return OXe(e13);
    case HXe:
    case UXe:
    case jXe:
    case GXe:
    case zXe:
    case VXe:
    case XXe:
    case WXe:
    case YXe:
      return LZ(e13, r);
    case DXe:
      return new n();
    case RXe:
    case LXe:
      return new n(e13);
    case NXe:
      return PXe(e13);
    case MXe:
      return new n();
    case BXe:
      return CXe(e13);
  }
}
var jj = Object.create;
var KXe = /* @__PURE__ */ function() {
  function e13() {
  }
  return function(t) {
    if (!io(t))
      return {};
    if (jj)
      return jj(t);
    e13.prototype = t;
    var r = new e13();
    return e13.prototype = void 0, r;
  };
}();
var ZXe = KXe;
function BZ(e13) {
  return typeof e13.constructor == "function" && !KM(e13) ? ZXe(bZ(e13)) : {};
}
var QXe = "[object Map]";
function JXe(e13) {
  return ta(e13) && Ev(e13) == QXe;
}
var Gj = jd && jd.isMap;
var eWe = Gj ? YM(Gj) : JXe;
var tWe = eWe;
var rWe = "[object Set]";
function nWe(e13) {
  return ta(e13) && Ev(e13) == rWe;
}
var zj = jd && jd.isSet;
var iWe = zj ? YM(zj) : nWe;
var oWe = iWe;
var aWe = 1;
var FZ = "[object Arguments]";
var sWe = "[object Array]";
var lWe = "[object Boolean]";
var cWe = "[object Date]";
var uWe = "[object Error]";
var $Z = "[object Function]";
var hWe = "[object GeneratorFunction]";
var fWe = "[object Map]";
var dWe = "[object Number]";
var HZ = "[object Object]";
var pWe = "[object RegExp]";
var mWe = "[object Set]";
var gWe = "[object String]";
var vWe = "[object Symbol]";
var yWe = "[object WeakMap]";
var _We = "[object ArrayBuffer]";
var bWe = "[object DataView]";
var TWe = "[object Float32Array]";
var EWe = "[object Float64Array]";
var SWe = "[object Int8Array]";
var wWe = "[object Int16Array]";
var AWe = "[object Int32Array]";
var OWe = "[object Uint8Array]";
var IWe = "[object Uint8ClampedArray]";
var PWe = "[object Uint16Array]";
var CWe = "[object Uint32Array]";
var Or = {};
Or[FZ] = Or[sWe] = Or[_We] = Or[bWe] = Or[lWe] = Or[cWe] = Or[TWe] = Or[EWe] = Or[SWe] = Or[wWe] = Or[AWe] = Or[fWe] = Or[dWe] = Or[HZ] = Or[pWe] = Or[mWe] = Or[gWe] = Or[vWe] = Or[OWe] = Or[IWe] = Or[PWe] = Or[CWe] = true;
Or[uWe] = Or[$Z] = Or[yWe] = false;
function Fb(e13, t, r, n, i, o) {
  var a, s = t & aWe;
  if (a !== void 0)
    return a;
  if (!io(e13))
    return e13;
  var l = Si(e13);
  if (l)
    a = AXe(e13);
  else {
    var u = Ev(e13), c = u == $Z || u == hWe;
    if (_v(e13))
      return MZ(e13, s);
    if (u == HZ || u == FZ || c && !i)
      a = c ? {} : BZ(e13);
    else {
      if (!Or[u])
        return i ? e13 : {};
      a = qXe(e13, u, s);
    }
  }
  o || (o = new Qo());
  var f = o.get(e13);
  if (f)
    return f;
  o.set(e13, a), oWe(e13) ? e13.forEach(function(p) {
    a.add(Fb(p, t, r, p, e13, o));
  }) : tWe(e13) && e13.forEach(function(p, m) {
    a.set(m, Fb(p, t, r, m, e13, o));
  });
  var h = hk, d = l ? void 0 : h(e13);
  return kZ(d || e13, function(p, m) {
    d && (m = p, p = e13[m]), DZ(a, m, Fb(p, t, r, m, e13, o));
  }), a;
}
var xWe = 1;
var kWe = 4;
function DWe(e13) {
  return Fb(e13, xWe | kWe);
}
var RWe = Object.freeze(Object.defineProperty({
  __proto__: null,
  default: DWe
}, Symbol.toStringTag, { value: "Module" }));
var NWe = Hs(RWe);
Object.defineProperty(_y, "__esModule", {
  value: true
});
_y.mergeClasses = void 0;
var MWe = JM;
var LWe = UZ(MWe);
var BWe = NWe;
var FWe = UZ(BWe);
var $We = Object.assign || function(e13) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t];
    for (var n in r)
      Object.prototype.hasOwnProperty.call(r, n) && (e13[n] = r[n]);
  }
  return e13;
};
function UZ(e13) {
  return e13 && e13.__esModule ? e13 : {
    default: e13
  };
}
var HWe = _y.mergeClasses = function(t) {
  var r = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : [], n = t.default && (0, FWe.default)(t.default) || {};
  return r.map(function(i) {
    var o = t[i];
    return o && (0, LWe.default)(o, function(a, s) {
      n[s] || (n[s] = {}), n[s] = $We({}, n[s], o[s]);
    }), i;
  }), n;
};
_y.default = HWe;
var by = {};
Object.defineProperty(by, "__esModule", {
  value: true
});
by.autoprefix = void 0;
var UWe = JM;
var Vj = GWe(UWe);
var jWe = Object.assign || function(e13) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t];
    for (var n in r)
      Object.prototype.hasOwnProperty.call(r, n) && (e13[n] = r[n]);
  }
  return e13;
};
function GWe(e13) {
  return e13 && e13.__esModule ? e13 : {
    default: e13
  };
}
var zWe = {
  borderRadius: function(t) {
    return {
      msBorderRadius: t,
      MozBorderRadius: t,
      OBorderRadius: t,
      WebkitBorderRadius: t,
      borderRadius: t
    };
  },
  boxShadow: function(t) {
    return {
      msBoxShadow: t,
      MozBoxShadow: t,
      OBoxShadow: t,
      WebkitBoxShadow: t,
      boxShadow: t
    };
  },
  userSelect: function(t) {
    return {
      WebkitTouchCallout: t,
      KhtmlUserSelect: t,
      MozUserSelect: t,
      msUserSelect: t,
      WebkitUserSelect: t,
      userSelect: t
    };
  },
  flex: function(t) {
    return {
      WebkitBoxFlex: t,
      MozBoxFlex: t,
      WebkitFlex: t,
      msFlex: t,
      flex: t
    };
  },
  flexBasis: function(t) {
    return {
      WebkitFlexBasis: t,
      flexBasis: t
    };
  },
  justifyContent: function(t) {
    return {
      WebkitJustifyContent: t,
      justifyContent: t
    };
  },
  transition: function(t) {
    return {
      msTransition: t,
      MozTransition: t,
      OTransition: t,
      WebkitTransition: t,
      transition: t
    };
  },
  transform: function(t) {
    return {
      msTransform: t,
      MozTransform: t,
      OTransform: t,
      WebkitTransform: t,
      transform: t
    };
  },
  absolute: function(t) {
    var r = t && t.split(" ");
    return {
      position: "absolute",
      top: r && r[0],
      right: r && r[1],
      bottom: r && r[2],
      left: r && r[3]
    };
  },
  extend: function(t, r) {
    var n = r[t];
    return n || {
      extend: t
    };
  }
};
var VWe = by.autoprefix = function(t) {
  var r = {};
  return (0, Vj.default)(t, function(n, i) {
    var o = {};
    (0, Vj.default)(n, function(a, s) {
      var l = zWe[s];
      l ? o = jWe({}, o, l(a)) : o[s] = a;
    }), r[i] = o;
  }), r;
};
by.default = VWe;
var Ty = {};
Object.defineProperty(Ty, "__esModule", {
  value: true
});
Ty.hover = void 0;
var XWe = Object.assign || function(e13) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t];
    for (var n in r)
      Object.prototype.hasOwnProperty.call(r, n) && (e13[n] = r[n]);
  }
  return e13;
};
var WWe = import_react.default;
var XO = YWe(WWe);
function YWe(e13) {
  return e13 && e13.__esModule ? e13 : {
    default: e13
  };
}
function qWe(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function Xj(e13, t) {
  if (!e13)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return t && (typeof t == "object" || typeof t == "function") ? t : e13;
}
function KWe(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function, not " + typeof t);
  e13.prototype = Object.create(t && t.prototype, {
    constructor: {
      value: e13,
      enumerable: false,
      writable: true,
      configurable: true
    }
  }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e13, t) : e13.__proto__ = t);
}
var ZWe = Ty.hover = function(t) {
  var r = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : "span";
  return function(n) {
    KWe(i, n);
    function i() {
      var o, a, s, l;
      qWe(this, i);
      for (var u = arguments.length, c = Array(u), f = 0; f < u; f++)
        c[f] = arguments[f];
      return l = (a = (s = Xj(this, (o = i.__proto__ || Object.getPrototypeOf(i)).call.apply(o, [this].concat(c))), s), s.state = {
        hover: false
      }, s.handleMouseOver = function() {
        return s.setState({
          hover: true
        });
      }, s.handleMouseOut = function() {
        return s.setState({
          hover: false
        });
      }, s.render = function() {
        return XO.default.createElement(r, {
          onMouseOver: s.handleMouseOver,
          onMouseOut: s.handleMouseOut
        }, XO.default.createElement(t, XWe({}, s.props, s.state)));
      }, a), Xj(s, l);
    }
    return i;
  }(XO.default.Component);
};
Ty.default = ZWe;
var Ey = {};
Object.defineProperty(Ey, "__esModule", {
  value: true
});
Ey.active = void 0;
var QWe = Object.assign || function(e13) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t];
    for (var n in r)
      Object.prototype.hasOwnProperty.call(r, n) && (e13[n] = r[n]);
  }
  return e13;
};
var JWe = import_react.default;
var WO = eYe(JWe);
function eYe(e13) {
  return e13 && e13.__esModule ? e13 : {
    default: e13
  };
}
function tYe(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function Wj(e13, t) {
  if (!e13)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return t && (typeof t == "object" || typeof t == "function") ? t : e13;
}
function rYe(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function, not " + typeof t);
  e13.prototype = Object.create(t && t.prototype, {
    constructor: {
      value: e13,
      enumerable: false,
      writable: true,
      configurable: true
    }
  }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e13, t) : e13.__proto__ = t);
}
var nYe = Ey.active = function(t) {
  var r = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : "span";
  return function(n) {
    rYe(i, n);
    function i() {
      var o, a, s, l;
      tYe(this, i);
      for (var u = arguments.length, c = Array(u), f = 0; f < u; f++)
        c[f] = arguments[f];
      return l = (a = (s = Wj(this, (o = i.__proto__ || Object.getPrototypeOf(i)).call.apply(o, [this].concat(c))), s), s.state = {
        active: false
      }, s.handleMouseDown = function() {
        return s.setState({
          active: true
        });
      }, s.handleMouseUp = function() {
        return s.setState({
          active: false
        });
      }, s.render = function() {
        return WO.default.createElement(r, {
          onMouseDown: s.handleMouseDown,
          onMouseUp: s.handleMouseUp
        }, WO.default.createElement(t, QWe({}, s.props, s.state)));
      }, a), Wj(s, l);
    }
    return i;
  }(WO.default.Component);
};
Ey.default = nYe;
var oL = {};
Object.defineProperty(oL, "__esModule", {
  value: true
});
var iYe = function(t, r) {
  var n = {}, i = function(a) {
    var s = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : true;
    n[a] = s;
  };
  return t === 0 && i("first-child"), t === r - 1 && i("last-child"), (t === 0 || t % 2 === 0) && i("even"), Math.abs(t % 2) === 1 && i("odd"), i("nth-child", t), n;
};
oL.default = iYe;
Object.defineProperty(_o, "__esModule", {
  value: true
});
_o.ReactCSS = _o.loop = _o.handleActive = aL = _o.handleHover = _o.hover = void 0;
var oYe = vy;
var aYe = wp(oYe);
var sYe = _y;
var lYe = wp(sYe);
var cYe = by;
var uYe = wp(cYe);
var hYe = Ty;
var jZ = wp(hYe);
var fYe = Ey;
var dYe = wp(fYe);
var pYe = oL;
var mYe = wp(pYe);
function wp(e13) {
  return e13 && e13.__esModule ? e13 : {
    default: e13
  };
}
_o.hover = jZ.default;
var aL = _o.handleHover = jZ.default;
_o.handleActive = dYe.default;
_o.loop = mYe.default;
var gYe = _o.ReactCSS = function(t) {
  for (var r = arguments.length, n = Array(r > 1 ? r - 1 : 0), i = 1; i < r; i++)
    n[i - 1] = arguments[i];
  var o = (0, aYe.default)(n), a = (0, lYe.default)(t, o);
  return (0, uYe.default)(a);
};
var wt = _o.default = gYe;
var vYe = function(t, r, n, i, o) {
  var a = o.clientWidth, s = o.clientHeight, l = typeof t.pageX == "number" ? t.pageX : t.touches[0].pageX, u = typeof t.pageY == "number" ? t.pageY : t.touches[0].pageY, c = l - (o.getBoundingClientRect().left + window.pageXOffset), f = u - (o.getBoundingClientRect().top + window.pageYOffset);
  if (n === "vertical") {
    var h = void 0;
    if (f < 0 ? h = 0 : f > s ? h = 1 : h = Math.round(f * 100 / s) / 100, r.a !== h)
      return {
        h: r.h,
        s: r.s,
        l: r.l,
        a: h,
        source: "rgb"
      };
  } else {
    var d = void 0;
    if (c < 0 ? d = 0 : c > a ? d = 1 : d = Math.round(c * 100 / a) / 100, i !== d)
      return {
        h: r.h,
        s: r.s,
        l: r.l,
        a: d,
        source: "rgb"
      };
  }
  return null;
};
var YO = {};
var yYe = function(t, r, n, i) {
  if (typeof document > "u" && !i)
    return null;
  var o = i ? new i() : document.createElement("canvas");
  o.width = n * 2, o.height = n * 2;
  var a = o.getContext("2d");
  return a ? (a.fillStyle = t, a.fillRect(0, 0, o.width, o.height), a.fillStyle = r, a.fillRect(0, 0, n, n), a.translate(n, n), a.fillRect(0, 0, n, n), o.toDataURL()) : null;
};
var _Ye = function(t, r, n, i) {
  var o = t + "-" + r + "-" + n + (i ? "-server" : "");
  if (YO[o])
    return YO[o];
  var a = yYe(t, r, n, i);
  return YO[o] = a, a;
};
var Yj = Object.assign || function(e13) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t];
    for (var n in r)
      Object.prototype.hasOwnProperty.call(r, n) && (e13[n] = r[n]);
  }
  return e13;
};
var Ap = function(t) {
  var r = t.white, n = t.grey, i = t.size, o = t.renderers, a = t.borderRadius, s = t.boxShadow, l = t.children, u = wt({
    default: {
      grid: {
        borderRadius: a,
        boxShadow: s,
        absolute: "0px 0px 0px 0px",
        background: "url(" + _Ye(r, n, i, o.canvas) + ") center left"
      }
    }
  });
  return (0, import_react.isValidElement)(l) ? import_react.default.cloneElement(l, Yj({}, l.props, {
    style: Yj({}, l.props.style, u.grid)
  })) : import_react.default.createElement("div", {
    style: u.grid
  });
};
Ap.defaultProps = {
  size: 8,
  white: "transparent",
  grey: "rgba(0,0,0,.08)",
  renderers: {}
};
var bYe = Object.assign || function(e13) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t];
    for (var n in r)
      Object.prototype.hasOwnProperty.call(r, n) && (e13[n] = r[n]);
  }
  return e13;
};
var TYe = /* @__PURE__ */ function() {
  function e13(t, r) {
    for (var n = 0; n < r.length; n++) {
      var i = r[n];
      i.enumerable = i.enumerable || false, i.configurable = true, "value" in i && (i.writable = true), Object.defineProperty(t, i.key, i);
    }
  }
  return function(t, r, n) {
    return r && e13(t.prototype, r), n && e13(t, n), t;
  };
}();
function EYe(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function qj(e13, t) {
  if (!e13)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return t && (typeof t == "object" || typeof t == "function") ? t : e13;
}
function SYe(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function, not " + typeof t);
  e13.prototype = Object.create(t && t.prototype, {
    constructor: {
      value: e13,
      enumerable: false,
      writable: true,
      configurable: true
    }
  }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e13, t) : e13.__proto__ = t);
}
var sL = function(e13) {
  SYe(t, e13);
  function t() {
    var r, n, i, o;
    EYe(this, t);
    for (var a = arguments.length, s = Array(a), l = 0; l < a; l++)
      s[l] = arguments[l];
    return o = (n = (i = qj(this, (r = t.__proto__ || Object.getPrototypeOf(t)).call.apply(r, [this].concat(s))), i), i.handleChange = function(u) {
      var c = vYe(u, i.props.hsl, i.props.direction, i.props.a, i.container);
      c && typeof i.props.onChange == "function" && i.props.onChange(c, u);
    }, i.handleMouseDown = function(u) {
      i.handleChange(u), window.addEventListener("mousemove", i.handleChange), window.addEventListener("mouseup", i.handleMouseUp);
    }, i.handleMouseUp = function() {
      i.unbindEventListeners();
    }, i.unbindEventListeners = function() {
      window.removeEventListener("mousemove", i.handleChange), window.removeEventListener("mouseup", i.handleMouseUp);
    }, n), qj(i, o);
  }
  return TYe(t, [{
    key: "componentWillUnmount",
    value: function() {
      this.unbindEventListeners();
    }
  }, {
    key: "render",
    value: function() {
      var n = this, i = this.props.rgb, o = wt({
        default: {
          alpha: {
            absolute: "0px 0px 0px 0px",
            borderRadius: this.props.radius
          },
          checkboard: {
            absolute: "0px 0px 0px 0px",
            overflow: "hidden",
            borderRadius: this.props.radius
          },
          gradient: {
            absolute: "0px 0px 0px 0px",
            background: "linear-gradient(to right, rgba(" + i.r + "," + i.g + "," + i.b + `, 0) 0%,
           rgba(` + i.r + "," + i.g + "," + i.b + ", 1) 100%)",
            boxShadow: this.props.shadow,
            borderRadius: this.props.radius
          },
          container: {
            position: "relative",
            height: "100%",
            margin: "0 3px"
          },
          pointer: {
            position: "absolute",
            left: i.a * 100 + "%"
          },
          slider: {
            width: "4px",
            borderRadius: "1px",
            height: "8px",
            boxShadow: "0 0 2px rgba(0, 0, 0, .6)",
            background: "#fff",
            marginTop: "1px",
            transform: "translateX(-2px)"
          }
        },
        vertical: {
          gradient: {
            background: "linear-gradient(to bottom, rgba(" + i.r + "," + i.g + "," + i.b + `, 0) 0%,
           rgba(` + i.r + "," + i.g + "," + i.b + ", 1) 100%)"
          },
          pointer: {
            left: 0,
            top: i.a * 100 + "%"
          }
        },
        overwrite: bYe({}, this.props.style)
      }, {
        vertical: this.props.direction === "vertical",
        overwrite: true
      });
      return import_react.default.createElement("div", {
        style: o.alpha
      }, import_react.default.createElement("div", {
        style: o.checkboard
      }, import_react.default.createElement(Ap, {
        renderers: this.props.renderers
      })), import_react.default.createElement("div", {
        style: o.gradient
      }), import_react.default.createElement("div", {
        style: o.container,
        ref: function(s) {
          return n.container = s;
        },
        onMouseDown: this.handleMouseDown,
        onTouchMove: this.handleChange,
        onTouchStart: this.handleChange
      }, import_react.default.createElement("div", {
        style: o.pointer
      }, this.props.pointer ? import_react.default.createElement(this.props.pointer, this.props) : import_react.default.createElement("div", {
        style: o.slider
      }))));
    }
  }]), t;
}(import_react.PureComponent || import_react.Component);
var wYe = /* @__PURE__ */ function() {
  function e13(t, r) {
    for (var n = 0; n < r.length; n++) {
      var i = r[n];
      i.enumerable = i.enumerable || false, i.configurable = true, "value" in i && (i.writable = true), Object.defineProperty(t, i.key, i);
    }
  }
  return function(t, r, n) {
    return r && e13(t.prototype, r), n && e13(t, n), t;
  };
}();
function AYe(e13, t, r) {
  return t in e13 ? Object.defineProperty(e13, t, {
    value: r,
    enumerable: true,
    configurable: true,
    writable: true
  }) : e13[t] = r, e13;
}
function OYe(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function IYe(e13, t) {
  if (!e13)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return t && (typeof t == "object" || typeof t == "function") ? t : e13;
}
function PYe(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function, not " + typeof t);
  e13.prototype = Object.create(t && t.prototype, {
    constructor: {
      value: e13,
      enumerable: false,
      writable: true,
      configurable: true
    }
  }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e13, t) : e13.__proto__ = t);
}
var CYe = 1;
var GZ = 38;
var xYe = 40;
var kYe = [GZ, xYe];
var DYe = function(t) {
  return kYe.indexOf(t) > -1;
};
var RYe = function(t) {
  return Number(String(t).replace(/%/g, ""));
};
var NYe = 1;
var tr = function(e13) {
  PYe(t, e13);
  function t(r) {
    OYe(this, t);
    var n = IYe(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this));
    return n.handleBlur = function() {
      n.state.blurValue && n.setState({
        value: n.state.blurValue,
        blurValue: null
      });
    }, n.handleChange = function(i) {
      n.setUpdatedValue(i.target.value, i);
    }, n.handleKeyDown = function(i) {
      var o = RYe(i.target.value);
      if (!isNaN(o) && DYe(i.keyCode)) {
        var a = n.getArrowOffset(), s = i.keyCode === GZ ? o + a : o - a;
        n.setUpdatedValue(s, i);
      }
    }, n.handleDrag = function(i) {
      if (n.props.dragLabel) {
        var o = Math.round(n.props.value + i.movementX);
        o >= 0 && o <= n.props.dragMax && n.props.onChange && n.props.onChange(n.getValueObjectWithLabel(o), i);
      }
    }, n.handleMouseDown = function(i) {
      n.props.dragLabel && (i.preventDefault(), n.handleDrag(i), window.addEventListener("mousemove", n.handleDrag), window.addEventListener("mouseup", n.handleMouseUp));
    }, n.handleMouseUp = function() {
      n.unbindEventListeners();
    }, n.unbindEventListeners = function() {
      window.removeEventListener("mousemove", n.handleDrag), window.removeEventListener("mouseup", n.handleMouseUp);
    }, n.state = {
      value: String(r.value).toUpperCase(),
      blurValue: String(r.value).toUpperCase()
    }, n.inputId = "rc-editable-input-" + NYe++, n;
  }
  return wYe(t, [{
    key: "componentDidUpdate",
    value: function(n, i) {
      this.props.value !== this.state.value && (n.value !== this.props.value || i.value !== this.state.value) && (this.input === document.activeElement ? this.setState({
        blurValue: String(this.props.value).toUpperCase()
      }) : this.setState({
        value: String(this.props.value).toUpperCase(),
        blurValue: !this.state.blurValue && String(this.props.value).toUpperCase()
      }));
    }
  }, {
    key: "componentWillUnmount",
    value: function() {
      this.unbindEventListeners();
    }
  }, {
    key: "getValueObjectWithLabel",
    value: function(n) {
      return AYe({}, this.props.label, n);
    }
  }, {
    key: "getArrowOffset",
    value: function() {
      return this.props.arrowOffset || CYe;
    }
  }, {
    key: "setUpdatedValue",
    value: function(n, i) {
      var o = this.props.label ? this.getValueObjectWithLabel(n) : n;
      this.props.onChange && this.props.onChange(o, i), this.setState({
        value: n
      });
    }
  }, {
    key: "render",
    value: function() {
      var n = this, i = wt({
        default: {
          wrap: {
            position: "relative"
          }
        },
        "user-override": {
          wrap: this.props.style && this.props.style.wrap ? this.props.style.wrap : {},
          input: this.props.style && this.props.style.input ? this.props.style.input : {},
          label: this.props.style && this.props.style.label ? this.props.style.label : {}
        },
        "dragLabel-true": {
          label: {
            cursor: "ew-resize"
          }
        }
      }, {
        "user-override": true
      }, this.props);
      return import_react.default.createElement("div", {
        style: i.wrap
      }, import_react.default.createElement("input", {
        id: this.inputId,
        style: i.input,
        ref: function(a) {
          return n.input = a;
        },
        value: this.state.value,
        onKeyDown: this.handleKeyDown,
        onChange: this.handleChange,
        onBlur: this.handleBlur,
        placeholder: this.props.placeholder,
        spellCheck: "false"
      }), this.props.label && !this.props.hideLabel ? import_react.default.createElement("label", {
        htmlFor: this.inputId,
        style: i.label,
        onMouseDown: this.handleMouseDown
      }, this.props.label) : null);
    }
  }]), t;
}(import_react.PureComponent || import_react.Component);
var MYe = function(t, r, n, i) {
  var o = i.clientWidth, a = i.clientHeight, s = typeof t.pageX == "number" ? t.pageX : t.touches[0].pageX, l = typeof t.pageY == "number" ? t.pageY : t.touches[0].pageY, u = s - (i.getBoundingClientRect().left + window.pageXOffset), c = l - (i.getBoundingClientRect().top + window.pageYOffset);
  if (r === "vertical") {
    var f = void 0;
    if (c < 0)
      f = 359;
    else if (c > a)
      f = 0;
    else {
      var h = -(c * 100 / a) + 100;
      f = 360 * h / 100;
    }
    if (n.h !== f)
      return {
        h: f,
        s: n.s,
        l: n.l,
        a: n.a,
        source: "hsl"
      };
  } else {
    var d = void 0;
    if (u < 0)
      d = 0;
    else if (u > o)
      d = 359;
    else {
      var p = u * 100 / o;
      d = 360 * p / 100;
    }
    if (n.h !== d)
      return {
        h: d,
        s: n.s,
        l: n.l,
        a: n.a,
        source: "hsl"
      };
  }
  return null;
};
var LYe = /* @__PURE__ */ function() {
  function e13(t, r) {
    for (var n = 0; n < r.length; n++) {
      var i = r[n];
      i.enumerable = i.enumerable || false, i.configurable = true, "value" in i && (i.writable = true), Object.defineProperty(t, i.key, i);
    }
  }
  return function(t, r, n) {
    return r && e13(t.prototype, r), n && e13(t, n), t;
  };
}();
function BYe(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function Kj(e13, t) {
  if (!e13)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return t && (typeof t == "object" || typeof t == "function") ? t : e13;
}
function FYe(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function, not " + typeof t);
  e13.prototype = Object.create(t && t.prototype, {
    constructor: {
      value: e13,
      enumerable: false,
      writable: true,
      configurable: true
    }
  }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e13, t) : e13.__proto__ = t);
}
var Op = function(e13) {
  FYe(t, e13);
  function t() {
    var r, n, i, o;
    BYe(this, t);
    for (var a = arguments.length, s = Array(a), l = 0; l < a; l++)
      s[l] = arguments[l];
    return o = (n = (i = Kj(this, (r = t.__proto__ || Object.getPrototypeOf(t)).call.apply(r, [this].concat(s))), i), i.handleChange = function(u) {
      var c = MYe(u, i.props.direction, i.props.hsl, i.container);
      c && typeof i.props.onChange == "function" && i.props.onChange(c, u);
    }, i.handleMouseDown = function(u) {
      i.handleChange(u), window.addEventListener("mousemove", i.handleChange), window.addEventListener("mouseup", i.handleMouseUp);
    }, i.handleMouseUp = function() {
      i.unbindEventListeners();
    }, n), Kj(i, o);
  }
  return LYe(t, [{
    key: "componentWillUnmount",
    value: function() {
      this.unbindEventListeners();
    }
  }, {
    key: "unbindEventListeners",
    value: function() {
      window.removeEventListener("mousemove", this.handleChange), window.removeEventListener("mouseup", this.handleMouseUp);
    }
  }, {
    key: "render",
    value: function() {
      var n = this, i = this.props.direction, o = i === void 0 ? "horizontal" : i, a = wt({
        default: {
          hue: {
            absolute: "0px 0px 0px 0px",
            borderRadius: this.props.radius,
            boxShadow: this.props.shadow
          },
          container: {
            padding: "0 2px",
            position: "relative",
            height: "100%",
            borderRadius: this.props.radius
          },
          pointer: {
            position: "absolute",
            left: this.props.hsl.h * 100 / 360 + "%"
          },
          slider: {
            marginTop: "1px",
            width: "4px",
            borderRadius: "1px",
            height: "8px",
            boxShadow: "0 0 2px rgba(0, 0, 0, .6)",
            background: "#fff",
            transform: "translateX(-2px)"
          }
        },
        vertical: {
          pointer: {
            left: "0px",
            top: -(this.props.hsl.h * 100 / 360) + 100 + "%"
          }
        }
      }, {
        vertical: o === "vertical"
      });
      return import_react.default.createElement("div", {
        style: a.hue
      }, import_react.default.createElement("div", {
        className: "hue-" + o,
        style: a.container,
        ref: function(l) {
          return n.container = l;
        },
        onMouseDown: this.handleMouseDown,
        onTouchMove: this.handleChange,
        onTouchStart: this.handleChange
      }, import_react.default.createElement("style", null, `
            .hue-horizontal {
              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0
                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to right, #f00 0%, #ff0
                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }

            .hue-vertical {
              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,
                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,
                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }
          `), import_react.default.createElement("div", {
        style: a.pointer
      }, this.props.pointer ? import_react.default.createElement(this.props.pointer, this.props) : import_react.default.createElement("div", {
        style: a.slider
      }))));
    }
  }]), t;
}(import_react.PureComponent || import_react.Component);
function gk(e13, t, r) {
  (r !== void 0 && !yy(e13[t], r) || r === void 0 && !(t in e13)) && nL(e13, t, r);
}
function $Ye(e13) {
  return ta(e13) && Sp(e13);
}
function vk(e13, t) {
  if (!(t === "constructor" && typeof e13[t] == "function") && t != "__proto__")
    return e13[t];
}
function HYe(e13) {
  return gXe(e13, RZ(e13));
}
function UYe(e13, t, r, n, i, o, a) {
  var s = vk(e13, r), l = vk(t, r), u = a.get(l);
  if (u) {
    gk(e13, r, u);
    return;
  }
  var c = o ? o(s, l, r + "", e13, t, a) : void 0, f = c === void 0;
  if (f) {
    var h = Si(l), d = !h && _v(l), p = !h && !d && qM(l);
    c = l, h || d || p ? Si(s) ? c = s : $Ye(s) ? c = EXe(s) : d ? (f = false, c = MZ(l, true)) : p ? (f = false, c = LZ(l, true)) : c = [] : EZ(l) || WT(l) ? (c = s, WT(s) ? c = HYe(s) : (!io(s) || ZM(s)) && (c = BZ(l))) : f = false;
  }
  f && (a.set(l, c), i(c, l, n, o, a), a.delete(l)), gk(e13, r, c);
}
function zZ(e13, t, r, n, i) {
  e13 !== t && fZ(t, function(o, a) {
    if (i || (i = new Qo()), io(o))
      UYe(e13, t, a, r, zZ, n, i);
    else {
      var s = n ? n(vk(e13, a), o, a + "", e13, t, i) : void 0;
      s === void 0 && (s = o), gk(e13, a, s);
    }
  }, RZ);
}
function jYe(e13, t, r) {
  switch (r.length) {
    case 0:
      return e13.call(t);
    case 1:
      return e13.call(t, r[0]);
    case 2:
      return e13.call(t, r[0], r[1]);
    case 3:
      return e13.call(t, r[0], r[1], r[2]);
  }
  return e13.apply(t, r);
}
var Zj = Math.max;
function GYe(e13, t, r) {
  return t = Zj(t === void 0 ? e13.length - 1 : t, 0), function() {
    for (var n = arguments, i = -1, o = Zj(n.length - t, 0), a = Array(o); ++i < o; )
      a[i] = n[t + i];
    i = -1;
    for (var s = Array(t + 1); ++i < t; )
      s[i] = n[i];
    return s[t] = r(a), jYe(e13, this, s);
  };
}
function zYe(e13) {
  return function() {
    return e13;
  };
}
var VYe = KT ? function(e13, t) {
  return KT(e13, "toString", {
    configurable: true,
    enumerable: false,
    value: zYe(t),
    writable: true
  });
} : OS;
var XYe = VYe;
var WYe = 800;
var YYe = 16;
var qYe = Date.now;
function KYe(e13) {
  var t = 0, r = 0;
  return function() {
    var n = qYe(), i = YYe - (n - r);
    if (r = n, i > 0) {
      if (++t >= WYe)
        return arguments[0];
    } else
      t = 0;
    return e13.apply(void 0, arguments);
  };
}
var ZYe = KYe(XYe);
var QYe = ZYe;
function JYe(e13, t) {
  return QYe(GYe(e13, t, OS), e13 + "");
}
function eqe(e13, t, r) {
  if (!io(r))
    return false;
  var n = typeof t;
  return (n == "number" ? Sp(r) && XM(t, r.length) : n == "string" && t in r) ? yy(r[t], e13) : false;
}
function tqe(e13) {
  return JYe(function(t, r) {
    var n = -1, i = r.length, o = i > 1 ? r[i - 1] : void 0, a = i > 2 ? r[2] : void 0;
    for (o = e13.length > 3 && typeof o == "function" ? (i--, o) : void 0, a && eqe(r[0], r[1], a) && (o = i < 3 ? void 0 : o, i = 1), t = Object(t); ++n < i; ) {
      var s = r[n];
      s && e13(t, s, n, o);
    }
    return t;
  });
}
var rqe = tqe(function(e13, t, r) {
  zZ(e13, t, r);
});
var Ui = rqe;
var Sy = function(t) {
  var r = t.zDepth, n = t.radius, i = t.background, o = t.children, a = t.styles, s = a === void 0 ? {} : a, l = wt(Ui({
    default: {
      wrap: {
        position: "relative",
        display: "inline-block"
      },
      content: {
        position: "relative"
      },
      bg: {
        absolute: "0px 0px 0px 0px",
        boxShadow: "0 " + r + "px " + r * 4 + "px rgba(0,0,0,.24)",
        borderRadius: n,
        background: i
      }
    },
    "zDepth-0": {
      bg: {
        boxShadow: "none"
      }
    },
    "zDepth-1": {
      bg: {
        boxShadow: "0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"
      }
    },
    "zDepth-2": {
      bg: {
        boxShadow: "0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"
      }
    },
    "zDepth-3": {
      bg: {
        boxShadow: "0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"
      }
    },
    "zDepth-4": {
      bg: {
        boxShadow: "0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"
      }
    },
    "zDepth-5": {
      bg: {
        boxShadow: "0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"
      }
    },
    square: {
      bg: {
        borderRadius: "0"
      }
    },
    circle: {
      bg: {
        borderRadius: "50%"
      }
    }
  }, s), {
    "zDepth-1": r === 1
  });
  return import_react.default.createElement("div", {
    style: l.wrap
  }, import_react.default.createElement("div", {
    style: l.bg
  }), import_react.default.createElement("div", {
    style: l.content
  }, o));
};
Sy.propTypes = {
  background: M.string,
  zDepth: M.oneOf([0, 1, 2, 3, 4, 5]),
  radius: M.number,
  styles: M.object
};
Sy.defaultProps = {
  background: "#fff",
  zDepth: 1,
  radius: 2,
  styles: {}
};
var nqe = function() {
  return ca.Date.now();
};
var qO = nqe;
var iqe = /\s/;
function oqe(e13) {
  for (var t = e13.length; t-- && iqe.test(e13.charAt(t)); )
    ;
  return t;
}
var aqe = /^\s+/;
function sqe(e13) {
  return e13 && e13.slice(0, oqe(e13) + 1).replace(aqe, "");
}
var Qj = NaN;
var lqe = /^[-+]0x[0-9a-f]+$/i;
var cqe = /^0b[01]+$/i;
var uqe = /^0o[0-7]+$/i;
var hqe = parseInt;
function Jj(e13) {
  if (typeof e13 == "number")
    return e13;
  if (CS(e13))
    return Qj;
  if (io(e13)) {
    var t = typeof e13.valueOf == "function" ? e13.valueOf() : e13;
    e13 = io(t) ? t + "" : t;
  }
  if (typeof e13 != "string")
    return e13 === 0 ? e13 : +e13;
  e13 = sqe(e13);
  var r = cqe.test(e13);
  return r || uqe.test(e13) ? hqe(e13.slice(2), r ? 2 : 8) : lqe.test(e13) ? Qj : +e13;
}
var fqe = "Expected a function";
var dqe = Math.max;
var pqe = Math.min;
function VZ(e13, t, r) {
  var n, i, o, a, s, l, u = 0, c = false, f = false, h = true;
  if (typeof e13 != "function")
    throw new TypeError(fqe);
  t = Jj(t) || 0, io(r) && (c = !!r.leading, f = "maxWait" in r, o = f ? dqe(Jj(r.maxWait) || 0, t) : o, h = "trailing" in r ? !!r.trailing : h);
  function d(E) {
    var O = n, S = i;
    return n = i = void 0, u = E, a = e13.apply(S, O), a;
  }
  function p(E) {
    return u = E, s = setTimeout(v, t), c ? d(E) : a;
  }
  function m(E) {
    var O = E - l, S = E - u, P = t - O;
    return f ? pqe(P, o - S) : P;
  }
  function g(E) {
    var O = E - l, S = E - u;
    return l === void 0 || O >= t || O < 0 || f && S >= o;
  }
  function v() {
    var E = qO();
    if (g(E))
      return b(E);
    s = setTimeout(v, m(E));
  }
  function b(E) {
    return s = void 0, h && n ? d(E) : (n = i = void 0, a);
  }
  function y() {
    s !== void 0 && clearTimeout(s), u = 0, n = l = i = s = void 0;
  }
  function _() {
    return s === void 0 ? a : b(qO());
  }
  function T() {
    var E = qO(), O = g(E);
    if (n = arguments, i = this, l = E, O) {
      if (s === void 0)
        return p(l);
      if (f)
        return clearTimeout(s), s = setTimeout(v, t), d(l);
    }
    return s === void 0 && (s = setTimeout(v, t)), a;
  }
  return T.cancel = y, T.flush = _, T;
}
var mqe = "Expected a function";
function gqe(e13, t, r) {
  var n = true, i = true;
  if (typeof e13 != "function")
    throw new TypeError(mqe);
  return io(r) && (n = "leading" in r ? !!r.leading : n, i = "trailing" in r ? !!r.trailing : i), VZ(e13, t, {
    leading: n,
    maxWait: t,
    trailing: i
  });
}
var vqe = function(t, r, n) {
  var i = n.getBoundingClientRect(), o = i.width, a = i.height, s = typeof t.pageX == "number" ? t.pageX : t.touches[0].pageX, l = typeof t.pageY == "number" ? t.pageY : t.touches[0].pageY, u = s - (n.getBoundingClientRect().left + window.pageXOffset), c = l - (n.getBoundingClientRect().top + window.pageYOffset);
  u < 0 ? u = 0 : u > o && (u = o), c < 0 ? c = 0 : c > a && (c = a);
  var f = u / o, h = 1 - c / a;
  return {
    h: r.h,
    s: f,
    v: h,
    a: r.a,
    source: "hsv"
  };
};
var yqe = /* @__PURE__ */ function() {
  function e13(t, r) {
    for (var n = 0; n < r.length; n++) {
      var i = r[n];
      i.enumerable = i.enumerable || false, i.configurable = true, "value" in i && (i.writable = true), Object.defineProperty(t, i.key, i);
    }
  }
  return function(t, r, n) {
    return r && e13(t.prototype, r), n && e13(t, n), t;
  };
}();
function _qe(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function bqe(e13, t) {
  if (!e13)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return t && (typeof t == "object" || typeof t == "function") ? t : e13;
}
function Tqe(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function, not " + typeof t);
  e13.prototype = Object.create(t && t.prototype, {
    constructor: {
      value: e13,
      enumerable: false,
      writable: true,
      configurable: true
    }
  }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e13, t) : e13.__proto__ = t);
}
var DS = function(e13) {
  Tqe(t, e13);
  function t(r) {
    _qe(this, t);
    var n = bqe(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, r));
    return n.handleChange = function(i) {
      typeof n.props.onChange == "function" && n.throttle(n.props.onChange, vqe(i, n.props.hsl, n.container), i);
    }, n.handleMouseDown = function(i) {
      n.handleChange(i);
      var o = n.getContainerRenderWindow();
      o.addEventListener("mousemove", n.handleChange), o.addEventListener("mouseup", n.handleMouseUp);
    }, n.handleMouseUp = function() {
      n.unbindEventListeners();
    }, n.throttle = gqe(function(i, o, a) {
      i(o, a);
    }, 50), n;
  }
  return yqe(t, [{
    key: "componentWillUnmount",
    value: function() {
      this.throttle.cancel(), this.unbindEventListeners();
    }
  }, {
    key: "getContainerRenderWindow",
    value: function() {
      for (var n = this.container, i = window; !i.document.contains(n) && i.parent !== i; )
        i = i.parent;
      return i;
    }
  }, {
    key: "unbindEventListeners",
    value: function() {
      var n = this.getContainerRenderWindow();
      n.removeEventListener("mousemove", this.handleChange), n.removeEventListener("mouseup", this.handleMouseUp);
    }
  }, {
    key: "render",
    value: function() {
      var n = this, i = this.props.style || {}, o = i.color, a = i.white, s = i.black, l = i.pointer, u = i.circle, c = wt({
        default: {
          color: {
            absolute: "0px 0px 0px 0px",
            background: "hsl(" + this.props.hsl.h + ",100%, 50%)",
            borderRadius: this.props.radius
          },
          white: {
            absolute: "0px 0px 0px 0px",
            borderRadius: this.props.radius
          },
          black: {
            absolute: "0px 0px 0px 0px",
            boxShadow: this.props.shadow,
            borderRadius: this.props.radius
          },
          pointer: {
            position: "absolute",
            top: -(this.props.hsv.v * 100) + 100 + "%",
            left: this.props.hsv.s * 100 + "%",
            cursor: "default"
          },
          circle: {
            width: "4px",
            height: "4px",
            boxShadow: `0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,
            borderRadius: "50%",
            cursor: "hand",
            transform: "translate(-2px, -2px)"
          }
        },
        custom: {
          color: o,
          white: a,
          black: s,
          pointer: l,
          circle: u
        }
      }, {
        custom: !!this.props.style
      });
      return import_react.default.createElement("div", {
        style: c.color,
        ref: function(h) {
          return n.container = h;
        },
        onMouseDown: this.handleMouseDown,
        onTouchMove: this.handleChange,
        onTouchStart: this.handleChange
      }, import_react.default.createElement("style", null, `
          .saturation-white {
            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));
            background: linear-gradient(to right, #fff, rgba(255,255,255,0));
          }
          .saturation-black {
            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));
            background: linear-gradient(to top, #000, rgba(0,0,0,0));
          }
        `), import_react.default.createElement("div", {
        style: c.white,
        className: "saturation-white"
      }, import_react.default.createElement("div", {
        style: c.black,
        className: "saturation-black"
      }), import_react.default.createElement("div", {
        style: c.pointer
      }, this.props.pointer ? import_react.default.createElement(this.props.pointer, this.props) : import_react.default.createElement("div", {
        style: c.circle
      }))));
    }
  }]), t;
}(import_react.PureComponent || import_react.Component);
function Eqe(e13, t) {
  var r = Si(e13) ? kZ : xZ;
  return r(e13, _Z(t));
}
function ZT(e13) {
  "@babel/helpers - typeof";
  return ZT = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function(t) {
    return typeof t;
  } : function(t) {
    return t && typeof Symbol == "function" && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t;
  }, ZT(e13);
}
var Sqe = /^\s+/;
var wqe = /\s+$/;
function lt(e13, t) {
  if (e13 = e13 || "", t = t || {}, e13 instanceof lt)
    return e13;
  if (!(this instanceof lt))
    return new lt(e13, t);
  var r = Aqe(e13);
  this._originalInput = e13, this._r = r.r, this._g = r.g, this._b = r.b, this._a = r.a, this._roundA = Math.round(100 * this._a) / 100, this._format = t.format || r.format, this._gradientType = t.gradientType, this._r < 1 && (this._r = Math.round(this._r)), this._g < 1 && (this._g = Math.round(this._g)), this._b < 1 && (this._b = Math.round(this._b)), this._ok = r.ok;
}
lt.prototype = {
  isDark: function() {
    return this.getBrightness() < 128;
  },
  isLight: function() {
    return !this.isDark();
  },
  isValid: function() {
    return this._ok;
  },
  getOriginalInput: function() {
    return this._originalInput;
  },
  getFormat: function() {
    return this._format;
  },
  getAlpha: function() {
    return this._a;
  },
  getBrightness: function() {
    var t = this.toRgb();
    return (t.r * 299 + t.g * 587 + t.b * 114) / 1e3;
  },
  getLuminance: function() {
    var t = this.toRgb(), r, n, i, o, a, s;
    return r = t.r / 255, n = t.g / 255, i = t.b / 255, r <= 0.03928 ? o = r / 12.92 : o = Math.pow((r + 0.055) / 1.055, 2.4), n <= 0.03928 ? a = n / 12.92 : a = Math.pow((n + 0.055) / 1.055, 2.4), i <= 0.03928 ? s = i / 12.92 : s = Math.pow((i + 0.055) / 1.055, 2.4), 0.2126 * o + 0.7152 * a + 0.0722 * s;
  },
  setAlpha: function(t) {
    return this._a = XZ(t), this._roundA = Math.round(100 * this._a) / 100, this;
  },
  toHsv: function() {
    var t = t4(this._r, this._g, this._b);
    return {
      h: t.h * 360,
      s: t.s,
      v: t.v,
      a: this._a
    };
  },
  toHsvString: function() {
    var t = t4(this._r, this._g, this._b), r = Math.round(t.h * 360), n = Math.round(t.s * 100), i = Math.round(t.v * 100);
    return this._a == 1 ? "hsv(" + r + ", " + n + "%, " + i + "%)" : "hsva(" + r + ", " + n + "%, " + i + "%, " + this._roundA + ")";
  },
  toHsl: function() {
    var t = e42(this._r, this._g, this._b);
    return {
      h: t.h * 360,
      s: t.s,
      l: t.l,
      a: this._a
    };
  },
  toHslString: function() {
    var t = e42(this._r, this._g, this._b), r = Math.round(t.h * 360), n = Math.round(t.s * 100), i = Math.round(t.l * 100);
    return this._a == 1 ? "hsl(" + r + ", " + n + "%, " + i + "%)" : "hsla(" + r + ", " + n + "%, " + i + "%, " + this._roundA + ")";
  },
  toHex: function(t) {
    return r4(this._r, this._g, this._b, t);
  },
  toHexString: function(t) {
    return "#" + this.toHex(t);
  },
  toHex8: function(t) {
    return Cqe(this._r, this._g, this._b, this._a, t);
  },
  toHex8String: function(t) {
    return "#" + this.toHex8(t);
  },
  toRgb: function() {
    return {
      r: Math.round(this._r),
      g: Math.round(this._g),
      b: Math.round(this._b),
      a: this._a
    };
  },
  toRgbString: function() {
    return this._a == 1 ? "rgb(" + Math.round(this._r) + ", " + Math.round(this._g) + ", " + Math.round(this._b) + ")" : "rgba(" + Math.round(this._r) + ", " + Math.round(this._g) + ", " + Math.round(this._b) + ", " + this._roundA + ")";
  },
  toPercentageRgb: function() {
    return {
      r: Math.round(Br(this._r, 255) * 100) + "%",
      g: Math.round(Br(this._g, 255) * 100) + "%",
      b: Math.round(Br(this._b, 255) * 100) + "%",
      a: this._a
    };
  },
  toPercentageRgbString: function() {
    return this._a == 1 ? "rgb(" + Math.round(Br(this._r, 255) * 100) + "%, " + Math.round(Br(this._g, 255) * 100) + "%, " + Math.round(Br(this._b, 255) * 100) + "%)" : "rgba(" + Math.round(Br(this._r, 255) * 100) + "%, " + Math.round(Br(this._g, 255) * 100) + "%, " + Math.round(Br(this._b, 255) * 100) + "%, " + this._roundA + ")";
  },
  toName: function() {
    return this._a === 0 ? "transparent" : this._a < 1 ? false : Uqe[r4(this._r, this._g, this._b, true)] || false;
  },
  toFilter: function(t) {
    var r = "#" + n4(this._r, this._g, this._b, this._a), n = r, i = this._gradientType ? "GradientType = 1, " : "";
    if (t) {
      var o = lt(t);
      n = "#" + n4(o._r, o._g, o._b, o._a);
    }
    return "progid:DXImageTransform.Microsoft.gradient(" + i + "startColorstr=" + r + ",endColorstr=" + n + ")";
  },
  toString: function(t) {
    var r = !!t;
    t = t || this._format;
    var n = false, i = this._a < 1 && this._a >= 0, o = !r && i && (t === "hex" || t === "hex6" || t === "hex3" || t === "hex4" || t === "hex8" || t === "name");
    return o ? t === "name" && this._a === 0 ? this.toName() : this.toRgbString() : (t === "rgb" && (n = this.toRgbString()), t === "prgb" && (n = this.toPercentageRgbString()), (t === "hex" || t === "hex6") && (n = this.toHexString()), t === "hex3" && (n = this.toHexString(true)), t === "hex4" && (n = this.toHex8String(true)), t === "hex8" && (n = this.toHex8String()), t === "name" && (n = this.toName()), t === "hsl" && (n = this.toHslString()), t === "hsv" && (n = this.toHsvString()), n || this.toHexString());
  },
  clone: function() {
    return lt(this.toString());
  },
  _applyModification: function(t, r) {
    var n = t.apply(null, [this].concat([].slice.call(r)));
    return this._r = n._r, this._g = n._g, this._b = n._b, this.setAlpha(n._a), this;
  },
  lighten: function() {
    return this._applyModification(Rqe, arguments);
  },
  brighten: function() {
    return this._applyModification(Nqe, arguments);
  },
  darken: function() {
    return this._applyModification(Mqe, arguments);
  },
  desaturate: function() {
    return this._applyModification(xqe, arguments);
  },
  saturate: function() {
    return this._applyModification(kqe, arguments);
  },
  greyscale: function() {
    return this._applyModification(Dqe, arguments);
  },
  spin: function() {
    return this._applyModification(Lqe, arguments);
  },
  _applyCombination: function(t, r) {
    return t.apply(null, [this].concat([].slice.call(r)));
  },
  analogous: function() {
    return this._applyCombination($qe, arguments);
  },
  complement: function() {
    return this._applyCombination(Bqe, arguments);
  },
  monochromatic: function() {
    return this._applyCombination(Hqe, arguments);
  },
  splitcomplement: function() {
    return this._applyCombination(Fqe, arguments);
  },
  // Disabled until https://github.com/bgrins/TinyColor/issues/254
  // polyad: function (number) {
  //   return this._applyCombination(polyad, [number]);
  // },
  triad: function() {
    return this._applyCombination(i4, [3]);
  },
  tetrad: function() {
    return this._applyCombination(i4, [4]);
  }
};
lt.fromRatio = function(e13, t) {
  if (ZT(e13) == "object") {
    var r = {};
    for (var n in e13)
      e13.hasOwnProperty(n) && (n === "a" ? r[n] = e13[n] : r[n] = Hm(e13[n]));
    e13 = r;
  }
  return lt(e13, t);
};
function Aqe(e13) {
  var t = {
    r: 0,
    g: 0,
    b: 0
  }, r = 1, n = null, i = null, o = null, a = false, s = false;
  return typeof e13 == "string" && (e13 = Vqe(e13)), ZT(e13) == "object" && (is(e13.r) && is(e13.g) && is(e13.b) ? (t = Oqe(e13.r, e13.g, e13.b), a = true, s = String(e13.r).substr(-1) === "%" ? "prgb" : "rgb") : is(e13.h) && is(e13.s) && is(e13.v) ? (n = Hm(e13.s), i = Hm(e13.v), t = Pqe(e13.h, n, i), a = true, s = "hsv") : is(e13.h) && is(e13.s) && is(e13.l) && (n = Hm(e13.s), o = Hm(e13.l), t = Iqe(e13.h, n, o), a = true, s = "hsl"), e13.hasOwnProperty("a") && (r = e13.a)), r = XZ(r), {
    ok: a,
    format: e13.format || s,
    r: Math.min(255, Math.max(t.r, 0)),
    g: Math.min(255, Math.max(t.g, 0)),
    b: Math.min(255, Math.max(t.b, 0)),
    a: r
  };
}
function Oqe(e13, t, r) {
  return {
    r: Br(e13, 255) * 255,
    g: Br(t, 255) * 255,
    b: Br(r, 255) * 255
  };
}
function e42(e13, t, r) {
  e13 = Br(e13, 255), t = Br(t, 255), r = Br(r, 255);
  var n = Math.max(e13, t, r), i = Math.min(e13, t, r), o, a, s = (n + i) / 2;
  if (n == i)
    o = a = 0;
  else {
    var l = n - i;
    switch (a = s > 0.5 ? l / (2 - n - i) : l / (n + i), n) {
      case e13:
        o = (t - r) / l + (t < r ? 6 : 0);
        break;
      case t:
        o = (r - e13) / l + 2;
        break;
      case r:
        o = (e13 - t) / l + 4;
        break;
    }
    o /= 6;
  }
  return {
    h: o,
    s: a,
    l: s
  };
}
function Iqe(e13, t, r) {
  var n, i, o;
  e13 = Br(e13, 360), t = Br(t, 100), r = Br(r, 100);
  function a(u, c, f) {
    return f < 0 && (f += 1), f > 1 && (f -= 1), f < 1 / 6 ? u + (c - u) * 6 * f : f < 1 / 2 ? c : f < 2 / 3 ? u + (c - u) * (2 / 3 - f) * 6 : u;
  }
  if (t === 0)
    n = i = o = r;
  else {
    var s = r < 0.5 ? r * (1 + t) : r + t - r * t, l = 2 * r - s;
    n = a(l, s, e13 + 1 / 3), i = a(l, s, e13), o = a(l, s, e13 - 1 / 3);
  }
  return {
    r: n * 255,
    g: i * 255,
    b: o * 255
  };
}
function t4(e13, t, r) {
  e13 = Br(e13, 255), t = Br(t, 255), r = Br(r, 255);
  var n = Math.max(e13, t, r), i = Math.min(e13, t, r), o, a, s = n, l = n - i;
  if (a = n === 0 ? 0 : l / n, n == i)
    o = 0;
  else {
    switch (n) {
      case e13:
        o = (t - r) / l + (t < r ? 6 : 0);
        break;
      case t:
        o = (r - e13) / l + 2;
        break;
      case r:
        o = (e13 - t) / l + 4;
        break;
    }
    o /= 6;
  }
  return {
    h: o,
    s: a,
    v: s
  };
}
function Pqe(e13, t, r) {
  e13 = Br(e13, 360) * 6, t = Br(t, 100), r = Br(r, 100);
  var n = Math.floor(e13), i = e13 - n, o = r * (1 - t), a = r * (1 - i * t), s = r * (1 - (1 - i) * t), l = n % 6, u = [r, a, o, o, s, r][l], c = [s, r, r, a, o, o][l], f = [o, o, s, r, r, a][l];
  return {
    r: u * 255,
    g: c * 255,
    b: f * 255
  };
}
function r4(e13, t, r, n) {
  var i = [Yo(Math.round(e13).toString(16)), Yo(Math.round(t).toString(16)), Yo(Math.round(r).toString(16))];
  return n && i[0].charAt(0) == i[0].charAt(1) && i[1].charAt(0) == i[1].charAt(1) && i[2].charAt(0) == i[2].charAt(1) ? i[0].charAt(0) + i[1].charAt(0) + i[2].charAt(0) : i.join("");
}
function Cqe(e13, t, r, n, i) {
  var o = [Yo(Math.round(e13).toString(16)), Yo(Math.round(t).toString(16)), Yo(Math.round(r).toString(16)), Yo(WZ(n))];
  return i && o[0].charAt(0) == o[0].charAt(1) && o[1].charAt(0) == o[1].charAt(1) && o[2].charAt(0) == o[2].charAt(1) && o[3].charAt(0) == o[3].charAt(1) ? o[0].charAt(0) + o[1].charAt(0) + o[2].charAt(0) + o[3].charAt(0) : o.join("");
}
function n4(e13, t, r, n) {
  var i = [Yo(WZ(n)), Yo(Math.round(e13).toString(16)), Yo(Math.round(t).toString(16)), Yo(Math.round(r).toString(16))];
  return i.join("");
}
lt.equals = function(e13, t) {
  return !e13 || !t ? false : lt(e13).toRgbString() == lt(t).toRgbString();
};
lt.random = function() {
  return lt.fromRatio({
    r: Math.random(),
    g: Math.random(),
    b: Math.random()
  });
};
function xqe(e13, t) {
  t = t === 0 ? 0 : t || 10;
  var r = lt(e13).toHsl();
  return r.s -= t / 100, r.s = RS(r.s), lt(r);
}
function kqe(e13, t) {
  t = t === 0 ? 0 : t || 10;
  var r = lt(e13).toHsl();
  return r.s += t / 100, r.s = RS(r.s), lt(r);
}
function Dqe(e13) {
  return lt(e13).desaturate(100);
}
function Rqe(e13, t) {
  t = t === 0 ? 0 : t || 10;
  var r = lt(e13).toHsl();
  return r.l += t / 100, r.l = RS(r.l), lt(r);
}
function Nqe(e13, t) {
  t = t === 0 ? 0 : t || 10;
  var r = lt(e13).toRgb();
  return r.r = Math.max(0, Math.min(255, r.r - Math.round(255 * -(t / 100)))), r.g = Math.max(0, Math.min(255, r.g - Math.round(255 * -(t / 100)))), r.b = Math.max(0, Math.min(255, r.b - Math.round(255 * -(t / 100)))), lt(r);
}
function Mqe(e13, t) {
  t = t === 0 ? 0 : t || 10;
  var r = lt(e13).toHsl();
  return r.l -= t / 100, r.l = RS(r.l), lt(r);
}
function Lqe(e13, t) {
  var r = lt(e13).toHsl(), n = (r.h + t) % 360;
  return r.h = n < 0 ? 360 + n : n, lt(r);
}
function Bqe(e13) {
  var t = lt(e13).toHsl();
  return t.h = (t.h + 180) % 360, lt(t);
}
function i4(e13, t) {
  if (isNaN(t) || t <= 0)
    throw new Error("Argument to polyad must be a positive number");
  for (var r = lt(e13).toHsl(), n = [lt(e13)], i = 360 / t, o = 1; o < t; o++)
    n.push(lt({
      h: (r.h + o * i) % 360,
      s: r.s,
      l: r.l
    }));
  return n;
}
function Fqe(e13) {
  var t = lt(e13).toHsl(), r = t.h;
  return [lt(e13), lt({
    h: (r + 72) % 360,
    s: t.s,
    l: t.l
  }), lt({
    h: (r + 216) % 360,
    s: t.s,
    l: t.l
  })];
}
function $qe(e13, t, r) {
  t = t || 6, r = r || 30;
  var n = lt(e13).toHsl(), i = 360 / r, o = [lt(e13)];
  for (n.h = (n.h - (i * t >> 1) + 720) % 360; --t; )
    n.h = (n.h + i) % 360, o.push(lt(n));
  return o;
}
function Hqe(e13, t) {
  t = t || 6;
  for (var r = lt(e13).toHsv(), n = r.h, i = r.s, o = r.v, a = [], s = 1 / t; t--; )
    a.push(lt({
      h: n,
      s: i,
      v: o
    })), o = (o + s) % 1;
  return a;
}
lt.mix = function(e13, t, r) {
  r = r === 0 ? 0 : r || 50;
  var n = lt(e13).toRgb(), i = lt(t).toRgb(), o = r / 100, a = {
    r: (i.r - n.r) * o + n.r,
    g: (i.g - n.g) * o + n.g,
    b: (i.b - n.b) * o + n.b,
    a: (i.a - n.a) * o + n.a
  };
  return lt(a);
};
lt.readability = function(e13, t) {
  var r = lt(e13), n = lt(t);
  return (Math.max(r.getLuminance(), n.getLuminance()) + 0.05) / (Math.min(r.getLuminance(), n.getLuminance()) + 0.05);
};
lt.isReadable = function(e13, t, r) {
  var n = lt.readability(e13, t), i, o;
  switch (o = false, i = Xqe(r), i.level + i.size) {
    case "AAsmall":
    case "AAAlarge":
      o = n >= 4.5;
      break;
    case "AAlarge":
      o = n >= 3;
      break;
    case "AAAsmall":
      o = n >= 7;
      break;
  }
  return o;
};
lt.mostReadable = function(e13, t, r) {
  var n = null, i = 0, o, a, s, l;
  r = r || {}, a = r.includeFallbackColors, s = r.level, l = r.size;
  for (var u = 0; u < t.length; u++)
    o = lt.readability(e13, t[u]), o > i && (i = o, n = lt(t[u]));
  return lt.isReadable(e13, n, {
    level: s,
    size: l
  }) || !a ? n : (r.includeFallbackColors = false, lt.mostReadable(e13, ["#fff", "#000"], r));
};
var yk = lt.names = {
  aliceblue: "f0f8ff",
  antiquewhite: "faebd7",
  aqua: "0ff",
  aquamarine: "7fffd4",
  azure: "f0ffff",
  beige: "f5f5dc",
  bisque: "ffe4c4",
  black: "000",
  blanchedalmond: "ffebcd",
  blue: "00f",
  blueviolet: "8a2be2",
  brown: "a52a2a",
  burlywood: "deb887",
  burntsienna: "ea7e5d",
  cadetblue: "5f9ea0",
  chartreuse: "7fff00",
  chocolate: "d2691e",
  coral: "ff7f50",
  cornflowerblue: "6495ed",
  cornsilk: "fff8dc",
  crimson: "dc143c",
  cyan: "0ff",
  darkblue: "00008b",
  darkcyan: "008b8b",
  darkgoldenrod: "b8860b",
  darkgray: "a9a9a9",
  darkgreen: "006400",
  darkgrey: "a9a9a9",
  darkkhaki: "bdb76b",
  darkmagenta: "8b008b",
  darkolivegreen: "556b2f",
  darkorange: "ff8c00",
  darkorchid: "9932cc",
  darkred: "8b0000",
  darksalmon: "e9967a",
  darkseagreen: "8fbc8f",
  darkslateblue: "483d8b",
  darkslategray: "2f4f4f",
  darkslategrey: "2f4f4f",
  darkturquoise: "00ced1",
  darkviolet: "9400d3",
  deeppink: "ff1493",
  deepskyblue: "00bfff",
  dimgray: "696969",
  dimgrey: "696969",
  dodgerblue: "1e90ff",
  firebrick: "b22222",
  floralwhite: "fffaf0",
  forestgreen: "228b22",
  fuchsia: "f0f",
  gainsboro: "dcdcdc",
  ghostwhite: "f8f8ff",
  gold: "ffd700",
  goldenrod: "daa520",
  gray: "808080",
  green: "008000",
  greenyellow: "adff2f",
  grey: "808080",
  honeydew: "f0fff0",
  hotpink: "ff69b4",
  indianred: "cd5c5c",
  indigo: "4b0082",
  ivory: "fffff0",
  khaki: "f0e68c",
  lavender: "e6e6fa",
  lavenderblush: "fff0f5",
  lawngreen: "7cfc00",
  lemonchiffon: "fffacd",
  lightblue: "add8e6",
  lightcoral: "f08080",
  lightcyan: "e0ffff",
  lightgoldenrodyellow: "fafad2",
  lightgray: "d3d3d3",
  lightgreen: "90ee90",
  lightgrey: "d3d3d3",
  lightpink: "ffb6c1",
  lightsalmon: "ffa07a",
  lightseagreen: "20b2aa",
  lightskyblue: "87cefa",
  lightslategray: "789",
  lightslategrey: "789",
  lightsteelblue: "b0c4de",
  lightyellow: "ffffe0",
  lime: "0f0",
  limegreen: "32cd32",
  linen: "faf0e6",
  magenta: "f0f",
  maroon: "800000",
  mediumaquamarine: "66cdaa",
  mediumblue: "0000cd",
  mediumorchid: "ba55d3",
  mediumpurple: "9370db",
  mediumseagreen: "3cb371",
  mediumslateblue: "7b68ee",
  mediumspringgreen: "00fa9a",
  mediumturquoise: "48d1cc",
  mediumvioletred: "c71585",
  midnightblue: "191970",
  mintcream: "f5fffa",
  mistyrose: "ffe4e1",
  moccasin: "ffe4b5",
  navajowhite: "ffdead",
  navy: "000080",
  oldlace: "fdf5e6",
  olive: "808000",
  olivedrab: "6b8e23",
  orange: "ffa500",
  orangered: "ff4500",
  orchid: "da70d6",
  palegoldenrod: "eee8aa",
  palegreen: "98fb98",
  paleturquoise: "afeeee",
  palevioletred: "db7093",
  papayawhip: "ffefd5",
  peachpuff: "ffdab9",
  peru: "cd853f",
  pink: "ffc0cb",
  plum: "dda0dd",
  powderblue: "b0e0e6",
  purple: "800080",
  rebeccapurple: "663399",
  red: "f00",
  rosybrown: "bc8f8f",
  royalblue: "4169e1",
  saddlebrown: "8b4513",
  salmon: "fa8072",
  sandybrown: "f4a460",
  seagreen: "2e8b57",
  seashell: "fff5ee",
  sienna: "a0522d",
  silver: "c0c0c0",
  skyblue: "87ceeb",
  slateblue: "6a5acd",
  slategray: "708090",
  slategrey: "708090",
  snow: "fffafa",
  springgreen: "00ff7f",
  steelblue: "4682b4",
  tan: "d2b48c",
  teal: "008080",
  thistle: "d8bfd8",
  tomato: "ff6347",
  turquoise: "40e0d0",
  violet: "ee82ee",
  wheat: "f5deb3",
  white: "fff",
  whitesmoke: "f5f5f5",
  yellow: "ff0",
  yellowgreen: "9acd32"
};
var Uqe = lt.hexNames = jqe(yk);
function jqe(e13) {
  var t = {};
  for (var r in e13)
    e13.hasOwnProperty(r) && (t[e13[r]] = r);
  return t;
}
function XZ(e13) {
  return e13 = parseFloat(e13), (isNaN(e13) || e13 < 0 || e13 > 1) && (e13 = 1), e13;
}
function Br(e13, t) {
  Gqe(e13) && (e13 = "100%");
  var r = zqe(e13);
  return e13 = Math.min(t, Math.max(0, parseFloat(e13))), r && (e13 = parseInt(e13 * t, 10) / 100), Math.abs(e13 - t) < 1e-6 ? 1 : e13 % t / parseFloat(t);
}
function RS(e13) {
  return Math.min(1, Math.max(0, e13));
}
function Xi(e13) {
  return parseInt(e13, 16);
}
function Gqe(e13) {
  return typeof e13 == "string" && e13.indexOf(".") != -1 && parseFloat(e13) === 1;
}
function zqe(e13) {
  return typeof e13 == "string" && e13.indexOf("%") != -1;
}
function Yo(e13) {
  return e13.length == 1 ? "0" + e13 : "" + e13;
}
function Hm(e13) {
  return e13 <= 1 && (e13 = e13 * 100 + "%"), e13;
}
function WZ(e13) {
  return Math.round(parseFloat(e13) * 255).toString(16);
}
function o4(e13) {
  return Xi(e13) / 255;
}
var Mo = function() {
  var e13 = "[-\\+]?\\d+%?", t = "[-\\+]?\\d*\\.\\d+%?", r = "(?:" + t + ")|(?:" + e13 + ")", n = "[\\s|\\(]+(" + r + ")[,|\\s]+(" + r + ")[,|\\s]+(" + r + ")\\s*\\)?", i = "[\\s|\\(]+(" + r + ")[,|\\s]+(" + r + ")[,|\\s]+(" + r + ")[,|\\s]+(" + r + ")\\s*\\)?";
  return {
    CSS_UNIT: new RegExp(r),
    rgb: new RegExp("rgb" + n),
    rgba: new RegExp("rgba" + i),
    hsl: new RegExp("hsl" + n),
    hsla: new RegExp("hsla" + i),
    hsv: new RegExp("hsv" + n),
    hsva: new RegExp("hsva" + i),
    hex3: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,
    hex6: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,
    hex4: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,
    hex8: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/
  };
}();
function is(e13) {
  return !!Mo.CSS_UNIT.exec(e13);
}
function Vqe(e13) {
  e13 = e13.replace(Sqe, "").replace(wqe, "").toLowerCase();
  var t = false;
  if (yk[e13])
    e13 = yk[e13], t = true;
  else if (e13 == "transparent")
    return {
      r: 0,
      g: 0,
      b: 0,
      a: 0,
      format: "name"
    };
  var r;
  return (r = Mo.rgb.exec(e13)) ? {
    r: r[1],
    g: r[2],
    b: r[3]
  } : (r = Mo.rgba.exec(e13)) ? {
    r: r[1],
    g: r[2],
    b: r[3],
    a: r[4]
  } : (r = Mo.hsl.exec(e13)) ? {
    h: r[1],
    s: r[2],
    l: r[3]
  } : (r = Mo.hsla.exec(e13)) ? {
    h: r[1],
    s: r[2],
    l: r[3],
    a: r[4]
  } : (r = Mo.hsv.exec(e13)) ? {
    h: r[1],
    s: r[2],
    v: r[3]
  } : (r = Mo.hsva.exec(e13)) ? {
    h: r[1],
    s: r[2],
    v: r[3],
    a: r[4]
  } : (r = Mo.hex8.exec(e13)) ? {
    r: Xi(r[1]),
    g: Xi(r[2]),
    b: Xi(r[3]),
    a: o4(r[4]),
    format: t ? "name" : "hex8"
  } : (r = Mo.hex6.exec(e13)) ? {
    r: Xi(r[1]),
    g: Xi(r[2]),
    b: Xi(r[3]),
    format: t ? "name" : "hex"
  } : (r = Mo.hex4.exec(e13)) ? {
    r: Xi(r[1] + "" + r[1]),
    g: Xi(r[2] + "" + r[2]),
    b: Xi(r[3] + "" + r[3]),
    a: o4(r[4] + "" + r[4]),
    format: t ? "name" : "hex8"
  } : (r = Mo.hex3.exec(e13)) ? {
    r: Xi(r[1] + "" + r[1]),
    g: Xi(r[2] + "" + r[2]),
    b: Xi(r[3] + "" + r[3]),
    format: t ? "name" : "hex"
  } : false;
}
function Xqe(e13) {
  var t, r;
  return e13 = e13 || {
    level: "AA",
    size: "small"
  }, t = (e13.level || "AA").toUpperCase(), r = (e13.size || "small").toLowerCase(), t !== "AA" && t !== "AAA" && (t = "AA"), r !== "small" && r !== "large" && (r = "small"), {
    level: t,
    size: r
  };
}
var a4 = function(t) {
  var r = ["r", "g", "b", "a", "h", "s", "l", "v"], n = 0, i = 0;
  return Eqe(r, function(o) {
    if (t[o] && (n += 1, isNaN(t[o]) || (i += 1), o === "s" || o === "l")) {
      var a = /^\d+%$/;
      a.test(t[o]) && (i += 1);
    }
  }), n === i ? t : false;
};
var Um = function(t, r) {
  var n = t.hex ? lt(t.hex) : lt(t), i = n.toHsl(), o = n.toHsv(), a = n.toRgb(), s = n.toHex();
  i.s === 0 && (i.h = r || 0, o.h = r || 0);
  var l = s === "000000" && a.a === 0;
  return {
    hsl: i,
    hex: l ? "transparent" : "#" + s,
    rgb: a,
    hsv: o,
    oldHue: t.h || r || i.h,
    source: t.source
  };
};
var uc = function(t) {
  if (t === "transparent")
    return true;
  var r = String(t).charAt(0) === "#" ? 1 : 0;
  return t.length !== 4 + r && t.length < 7 + r && lt(t).isValid();
};
var lL = function(t) {
  if (!t)
    return "#fff";
  var r = Um(t);
  if (r.hex === "transparent")
    return "rgba(0,0,0,0.4)";
  var n = (r.rgb.r * 299 + r.rgb.g * 587 + r.rgb.b * 114) / 1e3;
  return n >= 128 ? "#000" : "#fff";
};
var KO = function(t, r) {
  var n = t.replace("°", "");
  return lt(r + " (" + n + ")")._ok;
};
var lm = Object.assign || function(e13) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t];
    for (var n in r)
      Object.prototype.hasOwnProperty.call(r, n) && (e13[n] = r[n]);
  }
  return e13;
};
var Wqe = /* @__PURE__ */ function() {
  function e13(t, r) {
    for (var n = 0; n < r.length; n++) {
      var i = r[n];
      i.enumerable = i.enumerable || false, i.configurable = true, "value" in i && (i.writable = true), Object.defineProperty(t, i.key, i);
    }
  }
  return function(t, r, n) {
    return r && e13(t.prototype, r), n && e13(t, n), t;
  };
}();
function Yqe(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function qqe(e13, t) {
  if (!e13)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return t && (typeof t == "object" || typeof t == "function") ? t : e13;
}
function Kqe(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function, not " + typeof t);
  e13.prototype = Object.create(t && t.prototype, {
    constructor: {
      value: e13,
      enumerable: false,
      writable: true,
      configurable: true
    }
  }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e13, t) : e13.__proto__ = t);
}
var ji = function(t) {
  var r = function(n) {
    Kqe(i, n);
    function i(o) {
      Yqe(this, i);
      var a = qqe(this, (i.__proto__ || Object.getPrototypeOf(i)).call(this));
      return a.handleChange = function(s, l) {
        var u = a4(s);
        if (u) {
          var c = Um(s, s.h || a.state.oldHue);
          a.setState(c), a.props.onChangeComplete && a.debounce(a.props.onChangeComplete, c, l), a.props.onChange && a.props.onChange(c, l);
        }
      }, a.handleSwatchHover = function(s, l) {
        var u = a4(s);
        if (u) {
          var c = Um(s, s.h || a.state.oldHue);
          a.props.onSwatchHover && a.props.onSwatchHover(c, l);
        }
      }, a.state = lm({}, Um(o.color, 0)), a.debounce = VZ(function(s, l, u) {
        s(l, u);
      }, 100), a;
    }
    return Wqe(i, [{
      key: "render",
      value: function() {
        var a = {};
        return this.props.onSwatchHover && (a.onSwatchHover = this.handleSwatchHover), import_react.default.createElement(t, lm({}, this.props, this.state, {
          onChange: this.handleChange
        }, a));
      }
    }], [{
      key: "getDerivedStateFromProps",
      value: function(a, s) {
        return lm({}, Um(a.color, s.oldHue));
      }
    }]), i;
  }(import_react.PureComponent || import_react.Component);
  return r.propTypes = lm({}, t.propTypes), r.defaultProps = lm({}, t.defaultProps, {
    color: {
      h: 250,
      s: 0.5,
      l: 0.2,
      a: 1
    }
  }), r;
};
var Zqe = Object.assign || function(e13) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t];
    for (var n in r)
      Object.prototype.hasOwnProperty.call(r, n) && (e13[n] = r[n]);
  }
  return e13;
};
var Qqe = /* @__PURE__ */ function() {
  function e13(t, r) {
    for (var n = 0; n < r.length; n++) {
      var i = r[n];
      i.enumerable = i.enumerable || false, i.configurable = true, "value" in i && (i.writable = true), Object.defineProperty(t, i.key, i);
    }
  }
  return function(t, r, n) {
    return r && e13(t.prototype, r), n && e13(t, n), t;
  };
}();
function Jqe(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function s4(e13, t) {
  if (!e13)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return t && (typeof t == "object" || typeof t == "function") ? t : e13;
}
function eKe(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function, not " + typeof t);
  e13.prototype = Object.create(t && t.prototype, {
    constructor: {
      value: e13,
      enumerable: false,
      writable: true,
      configurable: true
    }
  }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e13, t) : e13.__proto__ = t);
}
var tKe = function(t) {
  var r = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : "span";
  return function(n) {
    eKe(i, n);
    function i() {
      var o, a, s, l;
      Jqe(this, i);
      for (var u = arguments.length, c = Array(u), f = 0; f < u; f++)
        c[f] = arguments[f];
      return l = (a = (s = s4(this, (o = i.__proto__ || Object.getPrototypeOf(i)).call.apply(o, [this].concat(c))), s), s.state = {
        focus: false
      }, s.handleFocus = function() {
        return s.setState({
          focus: true
        });
      }, s.handleBlur = function() {
        return s.setState({
          focus: false
        });
      }, a), s4(s, l);
    }
    return Qqe(i, [{
      key: "render",
      value: function() {
        return import_react.default.createElement(r, {
          onFocus: this.handleFocus,
          onBlur: this.handleBlur
        }, import_react.default.createElement(t, Zqe({}, this.props, this.state)));
      }
    }]), i;
  }(import_react.default.Component);
};
var l4 = Object.assign || function(e13) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t];
    for (var n in r)
      Object.prototype.hasOwnProperty.call(r, n) && (e13[n] = r[n]);
  }
  return e13;
};
var rKe = 13;
var nKe = function(t) {
  var r = t.color, n = t.style, i = t.onClick, o = i === void 0 ? function() {
  } : i, a = t.onHover, s = t.title, l = s === void 0 ? r : s, u = t.children, c = t.focus, f = t.focusStyle, h = f === void 0 ? {} : f, d = r === "transparent", p = wt({
    default: {
      swatch: l4({
        background: r,
        height: "100%",
        width: "100%",
        cursor: "pointer",
        position: "relative",
        outline: "none"
      }, n, c ? h : {})
    }
  }), m = function(_) {
    return o(r, _);
  }, g = function(_) {
    return _.keyCode === rKe && o(r, _);
  }, v = function(_) {
    return a(r, _);
  }, b = {};
  return a && (b.onMouseOver = v), import_react.default.createElement("div", l4({
    style: p.swatch,
    onClick: m,
    title: l,
    tabIndex: 0,
    onKeyDown: g
  }, b), u, d && import_react.default.createElement(Ap, {
    borderRadius: p.swatch.borderRadius,
    boxShadow: "inset 0 0 0 1px rgba(0,0,0,0.1)"
  }));
};
var fh = tKe(nKe);
var iKe = function(t) {
  var r = t.direction, n = wt({
    default: {
      picker: {
        width: "18px",
        height: "18px",
        borderRadius: "50%",
        transform: "translate(-9px, -1px)",
        backgroundColor: "rgb(248, 248, 248)",
        boxShadow: "0 1px 4px 0 rgba(0, 0, 0, 0.37)"
      }
    },
    vertical: {
      picker: {
        transform: "translate(-3px, -9px)"
      }
    }
  }, {
    vertical: r === "vertical"
  });
  return import_react.default.createElement("div", {
    style: n.picker
  });
};
var oKe = Object.assign || function(e13) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t];
    for (var n in r)
      Object.prototype.hasOwnProperty.call(r, n) && (e13[n] = r[n]);
  }
  return e13;
};
var YZ = function(t) {
  var r = t.rgb, n = t.hsl, i = t.width, o = t.height, a = t.onChange, s = t.direction, l = t.style, u = t.renderers, c = t.pointer, f = t.className, h = f === void 0 ? "" : f, d = wt({
    default: {
      picker: {
        position: "relative",
        width: i,
        height: o
      },
      alpha: {
        radius: "2px",
        style: l
      }
    }
  });
  return import_react.default.createElement("div", {
    style: d.picker,
    className: "alpha-picker " + h
  }, import_react.default.createElement(sL, oKe({}, d.alpha, {
    rgb: r,
    hsl: n,
    pointer: c,
    renderers: u,
    onChange: a,
    direction: s
  })));
};
YZ.defaultProps = {
  width: "316px",
  height: "16px",
  direction: "horizontal",
  pointer: iKe
};
ji(YZ);
var aKe = function(t) {
  var r = t.colors, n = t.onClick, i = t.onSwatchHover, o = wt({
    default: {
      swatches: {
        marginRight: "-10px"
      },
      swatch: {
        width: "22px",
        height: "22px",
        float: "left",
        marginRight: "10px",
        marginBottom: "10px",
        borderRadius: "4px"
      },
      clear: {
        clear: "both"
      }
    }
  });
  return import_react.default.createElement("div", {
    style: o.swatches
  }, cc(r, function(a) {
    return import_react.default.createElement(fh, {
      key: a,
      color: a,
      style: o.swatch,
      onClick: n,
      onHover: i,
      focusStyle: {
        boxShadow: "0 0 4px " + a
      }
    });
  }), import_react.default.createElement("div", {
    style: o.clear
  }));
};
var cL = function(t) {
  var r = t.onChange, n = t.onSwatchHover, i = t.hex, o = t.colors, a = t.width, s = t.triangle, l = t.styles, u = l === void 0 ? {} : l, c = t.className, f = c === void 0 ? "" : c, h = i === "transparent", d = function(g, v) {
    uc(g) && r({
      hex: g,
      source: "hex"
    }, v);
  }, p = wt(Ui({
    default: {
      card: {
        width: a,
        background: "#fff",
        boxShadow: "0 1px rgba(0,0,0,.1)",
        borderRadius: "6px",
        position: "relative"
      },
      head: {
        height: "110px",
        background: i,
        borderRadius: "6px 6px 0 0",
        display: "flex",
        alignItems: "center",
        justifyContent: "center",
        position: "relative"
      },
      body: {
        padding: "10px"
      },
      label: {
        fontSize: "18px",
        color: lL(i),
        position: "relative"
      },
      triangle: {
        width: "0px",
        height: "0px",
        borderStyle: "solid",
        borderWidth: "0 10px 10px 10px",
        borderColor: "transparent transparent " + i + " transparent",
        position: "absolute",
        top: "-10px",
        left: "50%",
        marginLeft: "-10px"
      },
      input: {
        width: "100%",
        fontSize: "12px",
        color: "#666",
        border: "0px",
        outline: "none",
        height: "22px",
        boxShadow: "inset 0 0 0 1px #ddd",
        borderRadius: "4px",
        padding: "0 7px",
        boxSizing: "border-box"
      }
    },
    "hide-triangle": {
      triangle: {
        display: "none"
      }
    }
  }, u), {
    "hide-triangle": s === "hide"
  });
  return import_react.default.createElement("div", {
    style: p.card,
    className: "block-picker " + f
  }, import_react.default.createElement("div", {
    style: p.triangle
  }), import_react.default.createElement("div", {
    style: p.head
  }, h && import_react.default.createElement(Ap, {
    borderRadius: "6px 6px 0 0"
  }), import_react.default.createElement("div", {
    style: p.label
  }, i)), import_react.default.createElement("div", {
    style: p.body
  }, import_react.default.createElement(aKe, {
    colors: o,
    onClick: d,
    onSwatchHover: n
  }), import_react.default.createElement(tr, {
    style: {
      input: p.input
    },
    value: i,
    onChange: d
  })));
};
cL.propTypes = {
  width: M.oneOfType([M.string, M.number]),
  colors: M.arrayOf(M.string),
  triangle: M.oneOf(["top", "hide"]),
  styles: M.object
};
cL.defaultProps = {
  width: 170,
  colors: ["#D9E3F0", "#F47373", "#697689", "#37D67A", "#2CCCE4", "#555555", "#dce775", "#ff8a65", "#ba68c8"],
  triangle: "top",
  styles: {}
};
ji(cL);
var Xh = {
  100: "#ffcdd2",
  300: "#e57373",
  500: "#f44336",
  700: "#d32f2f",
  900: "#b71c1c"
};
var Wh = {
  100: "#f8bbd0",
  300: "#f06292",
  500: "#e91e63",
  700: "#c2185b",
  900: "#880e4f"
};
var Yh = {
  100: "#e1bee7",
  300: "#ba68c8",
  500: "#9c27b0",
  700: "#7b1fa2",
  900: "#4a148c"
};
var qh = {
  100: "#d1c4e9",
  300: "#9575cd",
  500: "#673ab7",
  700: "#512da8",
  900: "#311b92"
};
var Kh = {
  100: "#c5cae9",
  300: "#7986cb",
  500: "#3f51b5",
  700: "#303f9f",
  900: "#1a237e"
};
var Zh = {
  100: "#bbdefb",
  300: "#64b5f6",
  500: "#2196f3",
  700: "#1976d2",
  900: "#0d47a1"
};
var Qh = {
  100: "#b3e5fc",
  300: "#4fc3f7",
  500: "#03a9f4",
  700: "#0288d1",
  900: "#01579b"
};
var Jh = {
  100: "#b2ebf2",
  300: "#4dd0e1",
  500: "#00bcd4",
  700: "#0097a7",
  900: "#006064"
};
var ef = {
  100: "#b2dfdb",
  300: "#4db6ac",
  500: "#009688",
  700: "#00796b",
  900: "#004d40"
};
var jm = {
  100: "#c8e6c9",
  300: "#81c784",
  500: "#4caf50",
  700: "#388e3c"
};
var tf = {
  100: "#dcedc8",
  300: "#aed581",
  500: "#8bc34a",
  700: "#689f38",
  900: "#33691e"
};
var rf = {
  100: "#f0f4c3",
  300: "#dce775",
  500: "#cddc39",
  700: "#afb42b",
  900: "#827717"
};
var nf = {
  100: "#fff9c4",
  300: "#fff176",
  500: "#ffeb3b",
  700: "#fbc02d",
  900: "#f57f17"
};
var of = {
  100: "#ffecb3",
  300: "#ffd54f",
  500: "#ffc107",
  700: "#ffa000",
  900: "#ff6f00"
};
var af = {
  100: "#ffe0b2",
  300: "#ffb74d",
  500: "#ff9800",
  700: "#f57c00",
  900: "#e65100"
};
var sf = {
  100: "#ffccbc",
  300: "#ff8a65",
  500: "#ff5722",
  700: "#e64a19",
  900: "#bf360c"
};
var lf = {
  100: "#d7ccc8",
  300: "#a1887f",
  500: "#795548",
  700: "#5d4037",
  900: "#3e2723"
};
var cf = {
  100: "#cfd8dc",
  300: "#90a4ae",
  500: "#607d8b",
  700: "#455a64",
  900: "#263238"
};
var qZ = function(t) {
  var r = t.color, n = t.onClick, i = t.onSwatchHover, o = t.hover, a = t.active, s = t.circleSize, l = t.circleSpacing, u = wt({
    default: {
      swatch: {
        width: s,
        height: s,
        marginRight: l,
        marginBottom: l,
        transform: "scale(1)",
        transition: "100ms transform ease"
      },
      Swatch: {
        borderRadius: "50%",
        background: "transparent",
        boxShadow: "inset 0 0 0 " + (s / 2 + 1) + "px " + r,
        transition: "100ms box-shadow ease"
      }
    },
    hover: {
      swatch: {
        transform: "scale(1.2)"
      }
    },
    active: {
      Swatch: {
        boxShadow: "inset 0 0 0 3px " + r
      }
    }
  }, {
    hover: o,
    active: a
  });
  return import_react.default.createElement("div", {
    style: u.swatch
  }, import_react.default.createElement(fh, {
    style: u.Swatch,
    color: r,
    onClick: n,
    onHover: i,
    focusStyle: {
      boxShadow: u.Swatch.boxShadow + ", 0 0 5px " + r
    }
  }));
};
qZ.defaultProps = {
  circleSize: 28,
  circleSpacing: 14
};
var sKe = aL(qZ);
var uL = function(t) {
  var r = t.width, n = t.onChange, i = t.onSwatchHover, o = t.colors, a = t.hex, s = t.circleSize, l = t.styles, u = l === void 0 ? {} : l, c = t.circleSpacing, f = t.className, h = f === void 0 ? "" : f, d = wt(Ui({
    default: {
      card: {
        width: r,
        display: "flex",
        flexWrap: "wrap",
        marginRight: -c,
        marginBottom: -c
      }
    }
  }, u)), p = function(g, v) {
    return n({
      hex: g,
      source: "hex"
    }, v);
  };
  return import_react.default.createElement("div", {
    style: d.card,
    className: "circle-picker " + h
  }, cc(o, function(m) {
    return import_react.default.createElement(sKe, {
      key: m,
      color: m,
      onClick: p,
      onSwatchHover: i,
      active: a === m.toLowerCase(),
      circleSize: s,
      circleSpacing: c
    });
  }));
};
uL.propTypes = {
  width: M.oneOfType([M.string, M.number]),
  circleSize: M.number,
  circleSpacing: M.number,
  styles: M.object
};
uL.defaultProps = {
  width: 252,
  circleSize: 28,
  circleSpacing: 14,
  colors: [Xh[500], Wh[500], Yh[500], qh[500], Kh[500], Zh[500], Qh[500], Jh[500], ef[500], jm[500], tf[500], rf[500], nf[500], of[500], af[500], sf[500], lf[500], cf[500]],
  styles: {}
};
ji(uL);
function c4(e13) {
  return e13 === void 0;
}
var KZ = {};
Object.defineProperty(KZ, "__esModule", {
  value: true
});
var u4 = Object.assign || function(e13) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t];
    for (var n in r)
      Object.prototype.hasOwnProperty.call(r, n) && (e13[n] = r[n]);
  }
  return e13;
};
var lKe = import_react.default;
var h4 = cKe(lKe);
function cKe(e13) {
  return e13 && e13.__esModule ? e13 : {
    default: e13
  };
}
function uKe(e13, t) {
  var r = {};
  for (var n in e13)
    t.indexOf(n) >= 0 || Object.prototype.hasOwnProperty.call(e13, n) && (r[n] = e13[n]);
  return r;
}
var B_ = 24;
var hKe = KZ.default = function(e13) {
  var t = e13.fill, r = t === void 0 ? "currentColor" : t, n = e13.width, i = n === void 0 ? B_ : n, o = e13.height, a = o === void 0 ? B_ : o, s = e13.style, l = s === void 0 ? {} : s, u = uKe(e13, ["fill", "width", "height", "style"]);
  return h4.default.createElement("svg", u4({
    viewBox: "0 0 " + B_ + " " + B_,
    style: u4({
      fill: r,
      width: i,
      height: a
    }, l)
  }, u), h4.default.createElement("path", {
    d: "M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"
  }));
};
var fKe = /* @__PURE__ */ function() {
  function e13(t, r) {
    for (var n = 0; n < r.length; n++) {
      var i = r[n];
      i.enumerable = i.enumerable || false, i.configurable = true, "value" in i && (i.writable = true), Object.defineProperty(t, i.key, i);
    }
  }
  return function(t, r, n) {
    return r && e13(t.prototype, r), n && e13(t, n), t;
  };
}();
function dKe(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function pKe(e13, t) {
  if (!e13)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return t && (typeof t == "object" || typeof t == "function") ? t : e13;
}
function mKe(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function, not " + typeof t);
  e13.prototype = Object.create(t && t.prototype, {
    constructor: {
      value: e13,
      enumerable: false,
      writable: true,
      configurable: true
    }
  }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e13, t) : e13.__proto__ = t);
}
var ZZ = function(e13) {
  mKe(t, e13);
  function t(r) {
    dKe(this, t);
    var n = pKe(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this));
    return n.toggleViews = function() {
      n.state.view === "hex" ? n.setState({
        view: "rgb"
      }) : n.state.view === "rgb" ? n.setState({
        view: "hsl"
      }) : n.state.view === "hsl" && (n.props.hsl.a === 1 ? n.setState({
        view: "hex"
      }) : n.setState({
        view: "rgb"
      }));
    }, n.handleChange = function(i, o) {
      i.hex ? uc(i.hex) && n.props.onChange({
        hex: i.hex,
        source: "hex"
      }, o) : i.r || i.g || i.b ? n.props.onChange({
        r: i.r || n.props.rgb.r,
        g: i.g || n.props.rgb.g,
        b: i.b || n.props.rgb.b,
        source: "rgb"
      }, o) : i.a ? (i.a < 0 ? i.a = 0 : i.a > 1 && (i.a = 1), n.props.onChange({
        h: n.props.hsl.h,
        s: n.props.hsl.s,
        l: n.props.hsl.l,
        a: Math.round(i.a * 100) / 100,
        source: "rgb"
      }, o)) : (i.h || i.s || i.l) && (typeof i.s == "string" && i.s.includes("%") && (i.s = i.s.replace("%", "")), typeof i.l == "string" && i.l.includes("%") && (i.l = i.l.replace("%", "")), i.s == 1 ? i.s = 0.01 : i.l == 1 && (i.l = 0.01), n.props.onChange({
        h: i.h || n.props.hsl.h,
        s: Number(c4(i.s) ? n.props.hsl.s : i.s),
        l: Number(c4(i.l) ? n.props.hsl.l : i.l),
        source: "hsl"
      }, o));
    }, n.showHighlight = function(i) {
      i.currentTarget.style.background = "#eee";
    }, n.hideHighlight = function(i) {
      i.currentTarget.style.background = "transparent";
    }, r.hsl.a !== 1 && r.view === "hex" ? n.state = {
      view: "rgb"
    } : n.state = {
      view: r.view
    }, n;
  }
  return fKe(t, [{
    key: "render",
    value: function() {
      var n = this, i = wt({
        default: {
          wrap: {
            paddingTop: "16px",
            display: "flex"
          },
          fields: {
            flex: "1",
            display: "flex",
            marginLeft: "-6px"
          },
          field: {
            paddingLeft: "6px",
            width: "100%"
          },
          alpha: {
            paddingLeft: "6px",
            width: "100%"
          },
          toggle: {
            width: "32px",
            textAlign: "right",
            position: "relative"
          },
          icon: {
            marginRight: "-4px",
            marginTop: "12px",
            cursor: "pointer",
            position: "relative"
          },
          iconHighlight: {
            position: "absolute",
            width: "24px",
            height: "28px",
            background: "#eee",
            borderRadius: "4px",
            top: "10px",
            left: "12px",
            display: "none"
          },
          input: {
            fontSize: "11px",
            color: "#333",
            width: "100%",
            borderRadius: "2px",
            border: "none",
            boxShadow: "inset 0 0 0 1px #dadada",
            height: "21px",
            textAlign: "center"
          },
          label: {
            textTransform: "uppercase",
            fontSize: "11px",
            lineHeight: "11px",
            color: "#969696",
            textAlign: "center",
            display: "block",
            marginTop: "12px"
          },
          svg: {
            fill: "#333",
            width: "24px",
            height: "24px",
            border: "1px transparent solid",
            borderRadius: "5px"
          }
        },
        disableAlpha: {
          alpha: {
            display: "none"
          }
        }
      }, this.props, this.state), o = void 0;
      return this.state.view === "hex" ? o = import_react.default.createElement("div", {
        style: i.fields,
        className: "flexbox-fix"
      }, import_react.default.createElement("div", {
        style: i.field
      }, import_react.default.createElement(tr, {
        style: {
          input: i.input,
          label: i.label
        },
        label: "hex",
        value: this.props.hex,
        onChange: this.handleChange
      }))) : this.state.view === "rgb" ? o = import_react.default.createElement("div", {
        style: i.fields,
        className: "flexbox-fix"
      }, import_react.default.createElement("div", {
        style: i.field
      }, import_react.default.createElement(tr, {
        style: {
          input: i.input,
          label: i.label
        },
        label: "r",
        value: this.props.rgb.r,
        onChange: this.handleChange
      })), import_react.default.createElement("div", {
        style: i.field
      }, import_react.default.createElement(tr, {
        style: {
          input: i.input,
          label: i.label
        },
        label: "g",
        value: this.props.rgb.g,
        onChange: this.handleChange
      })), import_react.default.createElement("div", {
        style: i.field
      }, import_react.default.createElement(tr, {
        style: {
          input: i.input,
          label: i.label
        },
        label: "b",
        value: this.props.rgb.b,
        onChange: this.handleChange
      })), import_react.default.createElement("div", {
        style: i.alpha
      }, import_react.default.createElement(tr, {
        style: {
          input: i.input,
          label: i.label
        },
        label: "a",
        value: this.props.rgb.a,
        arrowOffset: 0.01,
        onChange: this.handleChange
      }))) : this.state.view === "hsl" && (o = import_react.default.createElement("div", {
        style: i.fields,
        className: "flexbox-fix"
      }, import_react.default.createElement("div", {
        style: i.field
      }, import_react.default.createElement(tr, {
        style: {
          input: i.input,
          label: i.label
        },
        label: "h",
        value: Math.round(this.props.hsl.h),
        onChange: this.handleChange
      })), import_react.default.createElement("div", {
        style: i.field
      }, import_react.default.createElement(tr, {
        style: {
          input: i.input,
          label: i.label
        },
        label: "s",
        value: Math.round(this.props.hsl.s * 100) + "%",
        onChange: this.handleChange
      })), import_react.default.createElement("div", {
        style: i.field
      }, import_react.default.createElement(tr, {
        style: {
          input: i.input,
          label: i.label
        },
        label: "l",
        value: Math.round(this.props.hsl.l * 100) + "%",
        onChange: this.handleChange
      })), import_react.default.createElement("div", {
        style: i.alpha
      }, import_react.default.createElement(tr, {
        style: {
          input: i.input,
          label: i.label
        },
        label: "a",
        value: this.props.hsl.a,
        arrowOffset: 0.01,
        onChange: this.handleChange
      })))), import_react.default.createElement("div", {
        style: i.wrap,
        className: "flexbox-fix"
      }, o, import_react.default.createElement("div", {
        style: i.toggle
      }, import_react.default.createElement("div", {
        style: i.icon,
        onClick: this.toggleViews,
        ref: function(s) {
          return n.icon = s;
        }
      }, import_react.default.createElement(hKe, {
        style: i.svg,
        onMouseOver: this.showHighlight,
        onMouseEnter: this.showHighlight,
        onMouseOut: this.hideHighlight
      }))));
    }
  }], [{
    key: "getDerivedStateFromProps",
    value: function(n, i) {
      return n.hsl.a !== 1 && i.view === "hex" ? {
        view: "rgb"
      } : null;
    }
  }]), t;
}(import_react.default.Component);
ZZ.defaultProps = {
  view: "hex"
};
var f4 = function() {
  var t = wt({
    default: {
      picker: {
        width: "12px",
        height: "12px",
        borderRadius: "6px",
        transform: "translate(-6px, -1px)",
        backgroundColor: "rgb(248, 248, 248)",
        boxShadow: "0 1px 4px 0 rgba(0, 0, 0, 0.37)"
      }
    }
  });
  return import_react.default.createElement("div", {
    style: t.picker
  });
};
var gKe = function() {
  var t = wt({
    default: {
      picker: {
        width: "12px",
        height: "12px",
        borderRadius: "6px",
        boxShadow: "inset 0 0 0 1px #fff",
        transform: "translate(-6px, -6px)"
      }
    }
  });
  return import_react.default.createElement("div", {
    style: t.picker
  });
};
var hL = function(t) {
  var r = t.width, n = t.onChange, i = t.disableAlpha, o = t.rgb, a = t.hsl, s = t.hsv, l = t.hex, u = t.renderers, c = t.styles, f = c === void 0 ? {} : c, h = t.className, d = h === void 0 ? "" : h, p = t.defaultView, m = wt(Ui({
    default: {
      picker: {
        width: r,
        background: "#fff",
        borderRadius: "2px",
        boxShadow: "0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",
        boxSizing: "initial",
        fontFamily: "Menlo"
      },
      saturation: {
        width: "100%",
        paddingBottom: "55%",
        position: "relative",
        borderRadius: "2px 2px 0 0",
        overflow: "hidden"
      },
      Saturation: {
        radius: "2px 2px 0 0"
      },
      body: {
        padding: "16px 16px 12px"
      },
      controls: {
        display: "flex"
      },
      color: {
        width: "32px"
      },
      swatch: {
        marginTop: "6px",
        width: "16px",
        height: "16px",
        borderRadius: "8px",
        position: "relative",
        overflow: "hidden"
      },
      active: {
        absolute: "0px 0px 0px 0px",
        borderRadius: "8px",
        boxShadow: "inset 0 0 0 1px rgba(0,0,0,.1)",
        background: "rgba(" + o.r + ", " + o.g + ", " + o.b + ", " + o.a + ")",
        zIndex: "2"
      },
      toggles: {
        flex: "1"
      },
      hue: {
        height: "10px",
        position: "relative",
        marginBottom: "8px"
      },
      Hue: {
        radius: "2px"
      },
      alpha: {
        height: "10px",
        position: "relative"
      },
      Alpha: {
        radius: "2px"
      }
    },
    disableAlpha: {
      color: {
        width: "22px"
      },
      alpha: {
        display: "none"
      },
      hue: {
        marginBottom: "0px"
      },
      swatch: {
        width: "10px",
        height: "10px",
        marginTop: "0px"
      }
    }
  }, f), {
    disableAlpha: i
  });
  return import_react.default.createElement("div", {
    style: m.picker,
    className: "chrome-picker " + d
  }, import_react.default.createElement("div", {
    style: m.saturation
  }, import_react.default.createElement(DS, {
    style: m.Saturation,
    hsl: a,
    hsv: s,
    pointer: gKe,
    onChange: n
  })), import_react.default.createElement("div", {
    style: m.body
  }, import_react.default.createElement("div", {
    style: m.controls,
    className: "flexbox-fix"
  }, import_react.default.createElement("div", {
    style: m.color
  }, import_react.default.createElement("div", {
    style: m.swatch
  }, import_react.default.createElement("div", {
    style: m.active
  }), import_react.default.createElement(Ap, {
    renderers: u
  }))), import_react.default.createElement("div", {
    style: m.toggles
  }, import_react.default.createElement("div", {
    style: m.hue
  }, import_react.default.createElement(Op, {
    style: m.Hue,
    hsl: a,
    pointer: f4,
    onChange: n
  })), import_react.default.createElement("div", {
    style: m.alpha
  }, import_react.default.createElement(sL, {
    style: m.Alpha,
    rgb: o,
    hsl: a,
    pointer: f4,
    renderers: u,
    onChange: n
  })))), import_react.default.createElement(ZZ, {
    rgb: o,
    hsl: a,
    hex: l,
    view: p,
    onChange: n,
    disableAlpha: i
  })));
};
hL.propTypes = {
  width: M.oneOfType([M.string, M.number]),
  disableAlpha: M.bool,
  styles: M.object,
  defaultView: M.oneOf(["hex", "rgb", "hsl"])
};
hL.defaultProps = {
  width: 225,
  disableAlpha: false,
  styles: {}
};
ji(hL);
var vKe = function(t) {
  var r = t.color, n = t.onClick, i = n === void 0 ? function() {
  } : n, o = t.onSwatchHover, a = t.active, s = wt({
    default: {
      color: {
        background: r,
        width: "15px",
        height: "15px",
        float: "left",
        marginRight: "5px",
        marginBottom: "5px",
        position: "relative",
        cursor: "pointer"
      },
      dot: {
        absolute: "5px 5px 5px 5px",
        background: lL(r),
        borderRadius: "50%",
        opacity: "0"
      }
    },
    active: {
      dot: {
        opacity: "1"
      }
    },
    "color-#FFFFFF": {
      color: {
        boxShadow: "inset 0 0 0 1px #ddd"
      },
      dot: {
        background: "#000"
      }
    },
    transparent: {
      dot: {
        background: "#000"
      }
    }
  }, {
    active: a,
    "color-#FFFFFF": r === "#FFFFFF",
    transparent: r === "transparent"
  });
  return import_react.default.createElement(fh, {
    style: s.color,
    color: r,
    onClick: i,
    onHover: o,
    focusStyle: {
      boxShadow: "0 0 4px " + r
    }
  }, import_react.default.createElement("div", {
    style: s.dot
  }));
};
var yKe = function(t) {
  var r = t.hex, n = t.rgb, i = t.onChange, o = wt({
    default: {
      fields: {
        display: "flex",
        paddingBottom: "6px",
        paddingRight: "5px",
        position: "relative"
      },
      active: {
        position: "absolute",
        top: "6px",
        left: "5px",
        height: "9px",
        width: "9px",
        background: r
      },
      HEXwrap: {
        flex: "6",
        position: "relative"
      },
      HEXinput: {
        width: "80%",
        padding: "0px",
        paddingLeft: "20%",
        border: "none",
        outline: "none",
        background: "none",
        fontSize: "12px",
        color: "#333",
        height: "16px"
      },
      HEXlabel: {
        display: "none"
      },
      RGBwrap: {
        flex: "3",
        position: "relative"
      },
      RGBinput: {
        width: "70%",
        padding: "0px",
        paddingLeft: "30%",
        border: "none",
        outline: "none",
        background: "none",
        fontSize: "12px",
        color: "#333",
        height: "16px"
      },
      RGBlabel: {
        position: "absolute",
        top: "3px",
        left: "0px",
        lineHeight: "16px",
        textTransform: "uppercase",
        fontSize: "12px",
        color: "#999"
      }
    }
  }), a = function(l, u) {
    l.r || l.g || l.b ? i({
      r: l.r || n.r,
      g: l.g || n.g,
      b: l.b || n.b,
      source: "rgb"
    }, u) : i({
      hex: l.hex,
      source: "hex"
    }, u);
  };
  return import_react.default.createElement("div", {
    style: o.fields,
    className: "flexbox-fix"
  }, import_react.default.createElement("div", {
    style: o.active
  }), import_react.default.createElement(tr, {
    style: {
      wrap: o.HEXwrap,
      input: o.HEXinput,
      label: o.HEXlabel
    },
    label: "hex",
    value: r,
    onChange: a
  }), import_react.default.createElement(tr, {
    style: {
      wrap: o.RGBwrap,
      input: o.RGBinput,
      label: o.RGBlabel
    },
    label: "r",
    value: n.r,
    onChange: a
  }), import_react.default.createElement(tr, {
    style: {
      wrap: o.RGBwrap,
      input: o.RGBinput,
      label: o.RGBlabel
    },
    label: "g",
    value: n.g,
    onChange: a
  }), import_react.default.createElement(tr, {
    style: {
      wrap: o.RGBwrap,
      input: o.RGBinput,
      label: o.RGBlabel
    },
    label: "b",
    value: n.b,
    onChange: a
  }));
};
var fL = function(t) {
  var r = t.onChange, n = t.onSwatchHover, i = t.colors, o = t.hex, a = t.rgb, s = t.styles, l = s === void 0 ? {} : s, u = t.className, c = u === void 0 ? "" : u, f = wt(Ui({
    default: {
      Compact: {
        background: "#f6f6f6",
        radius: "4px"
      },
      compact: {
        paddingTop: "5px",
        paddingLeft: "5px",
        boxSizing: "initial",
        width: "240px"
      },
      clear: {
        clear: "both"
      }
    }
  }, l)), h = function(p, m) {
    p.hex ? uc(p.hex) && r({
      hex: p.hex,
      source: "hex"
    }, m) : r(p, m);
  };
  return import_react.default.createElement(Sy, {
    style: f.Compact,
    styles: l
  }, import_react.default.createElement("div", {
    style: f.compact,
    className: "compact-picker " + c
  }, import_react.default.createElement("div", null, cc(i, function(d) {
    return import_react.default.createElement(vKe, {
      key: d,
      color: d,
      active: d.toLowerCase() === o,
      onClick: h,
      onSwatchHover: n
    });
  }), import_react.default.createElement("div", {
    style: f.clear
  })), import_react.default.createElement(yKe, {
    hex: o,
    rgb: a,
    onChange: h
  })));
};
fL.propTypes = {
  colors: M.arrayOf(M.string),
  styles: M.object
};
fL.defaultProps = {
  colors: ["#4D4D4D", "#999999", "#FFFFFF", "#F44E3B", "#FE9200", "#FCDC00", "#DBDF00", "#A4DD00", "#68CCCA", "#73D8FF", "#AEA1FF", "#FDA1FF", "#333333", "#808080", "#cccccc", "#D33115", "#E27300", "#FCC400", "#B0BC00", "#68BC00", "#16A5A5", "#009CE0", "#7B64FF", "#FA28FF", "#000000", "#666666", "#B3B3B3", "#9F0500", "#C45100", "#FB9E00", "#808900", "#194D33", "#0C797D", "#0062B1", "#653294", "#AB149E"],
  styles: {}
};
ji(fL);
var _Ke = function(t) {
  var r = t.hover, n = t.color, i = t.onClick, o = t.onSwatchHover, a = {
    position: "relative",
    zIndex: "2",
    outline: "2px solid #fff",
    boxShadow: "0 0 5px 2px rgba(0,0,0,0.25)"
  }, s = wt({
    default: {
      swatch: {
        width: "25px",
        height: "25px",
        fontSize: "0"
      }
    },
    hover: {
      swatch: a
    }
  }, {
    hover: r
  });
  return import_react.default.createElement("div", {
    style: s.swatch
  }, import_react.default.createElement(fh, {
    color: n,
    onClick: i,
    onHover: o,
    focusStyle: a
  }));
};
var bKe = aL(_Ke);
var dL = function(t) {
  var r = t.width, n = t.colors, i = t.onChange, o = t.onSwatchHover, a = t.triangle, s = t.styles, l = s === void 0 ? {} : s, u = t.className, c = u === void 0 ? "" : u, f = wt(Ui({
    default: {
      card: {
        width: r,
        background: "#fff",
        border: "1px solid rgba(0,0,0,0.2)",
        boxShadow: "0 3px 12px rgba(0,0,0,0.15)",
        borderRadius: "4px",
        position: "relative",
        padding: "5px",
        display: "flex",
        flexWrap: "wrap"
      },
      triangle: {
        position: "absolute",
        border: "7px solid transparent",
        borderBottomColor: "#fff"
      },
      triangleShadow: {
        position: "absolute",
        border: "8px solid transparent",
        borderBottomColor: "rgba(0,0,0,0.15)"
      }
    },
    "hide-triangle": {
      triangle: {
        display: "none"
      },
      triangleShadow: {
        display: "none"
      }
    },
    "top-left-triangle": {
      triangle: {
        top: "-14px",
        left: "10px"
      },
      triangleShadow: {
        top: "-16px",
        left: "9px"
      }
    },
    "top-right-triangle": {
      triangle: {
        top: "-14px",
        right: "10px"
      },
      triangleShadow: {
        top: "-16px",
        right: "9px"
      }
    },
    "bottom-left-triangle": {
      triangle: {
        top: "35px",
        left: "10px",
        transform: "rotate(180deg)"
      },
      triangleShadow: {
        top: "37px",
        left: "9px",
        transform: "rotate(180deg)"
      }
    },
    "bottom-right-triangle": {
      triangle: {
        top: "35px",
        right: "10px",
        transform: "rotate(180deg)"
      },
      triangleShadow: {
        top: "37px",
        right: "9px",
        transform: "rotate(180deg)"
      }
    }
  }, l), {
    "hide-triangle": a === "hide",
    "top-left-triangle": a === "top-left",
    "top-right-triangle": a === "top-right",
    "bottom-left-triangle": a === "bottom-left",
    "bottom-right-triangle": a === "bottom-right"
  }), h = function(p, m) {
    return i({
      hex: p,
      source: "hex"
    }, m);
  };
  return import_react.default.createElement("div", {
    style: f.card,
    className: "github-picker " + c
  }, import_react.default.createElement("div", {
    style: f.triangleShadow
  }), import_react.default.createElement("div", {
    style: f.triangle
  }), cc(n, function(d) {
    return import_react.default.createElement(bKe, {
      color: d,
      key: d,
      onClick: h,
      onSwatchHover: o
    });
  }));
};
dL.propTypes = {
  width: M.oneOfType([M.string, M.number]),
  colors: M.arrayOf(M.string),
  triangle: M.oneOf(["hide", "top-left", "top-right", "bottom-left", "bottom-right"]),
  styles: M.object
};
dL.defaultProps = {
  width: 200,
  colors: ["#B80000", "#DB3E00", "#FCCB00", "#008B02", "#006B76", "#1273DE", "#004DCF", "#5300EB", "#EB9694", "#FAD0C3", "#FEF3BD", "#C1E1C5", "#BEDADC", "#C4DEF6", "#BED3F3", "#D4C4FB"],
  triangle: "top-left",
  styles: {}
};
ji(dL);
var TKe = function(t) {
  var r = t.direction, n = wt({
    default: {
      picker: {
        width: "18px",
        height: "18px",
        borderRadius: "50%",
        transform: "translate(-9px, -1px)",
        backgroundColor: "rgb(248, 248, 248)",
        boxShadow: "0 1px 4px 0 rgba(0, 0, 0, 0.37)"
      }
    },
    vertical: {
      picker: {
        transform: "translate(-3px, -9px)"
      }
    }
  }, {
    vertical: r === "vertical"
  });
  return import_react.default.createElement("div", {
    style: n.picker
  });
};
var EKe = Object.assign || function(e13) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t];
    for (var n in r)
      Object.prototype.hasOwnProperty.call(r, n) && (e13[n] = r[n]);
  }
  return e13;
};
var pL = function(t) {
  var r = t.width, n = t.height, i = t.onChange, o = t.hsl, a = t.direction, s = t.pointer, l = t.styles, u = l === void 0 ? {} : l, c = t.className, f = c === void 0 ? "" : c, h = wt(Ui({
    default: {
      picker: {
        position: "relative",
        width: r,
        height: n
      },
      hue: {
        radius: "2px"
      }
    }
  }, u)), d = function(m) {
    return i({
      a: 1,
      h: m.h,
      l: 0.5,
      s: 1
    });
  };
  return import_react.default.createElement("div", {
    style: h.picker,
    className: "hue-picker " + f
  }, import_react.default.createElement(Op, EKe({}, h.hue, {
    hsl: o,
    pointer: s,
    onChange: d,
    direction: a
  })));
};
pL.propTypes = {
  styles: M.object
};
pL.defaultProps = {
  width: "316px",
  height: "16px",
  direction: "horizontal",
  pointer: TKe,
  styles: {}
};
ji(pL);
var SKe = function(t) {
  var r = t.onChange, n = t.hex, i = t.rgb, o = t.styles, a = o === void 0 ? {} : o, s = t.className, l = s === void 0 ? "" : s, u = wt(Ui({
    default: {
      material: {
        width: "98px",
        height: "98px",
        padding: "16px",
        fontFamily: "Roboto"
      },
      HEXwrap: {
        position: "relative"
      },
      HEXinput: {
        width: "100%",
        marginTop: "12px",
        fontSize: "15px",
        color: "#333",
        padding: "0px",
        border: "0px",
        borderBottom: "2px solid " + n,
        outline: "none",
        height: "30px"
      },
      HEXlabel: {
        position: "absolute",
        top: "0px",
        left: "0px",
        fontSize: "11px",
        color: "#999999",
        textTransform: "capitalize"
      },
      Hex: {
        style: {}
      },
      RGBwrap: {
        position: "relative"
      },
      RGBinput: {
        width: "100%",
        marginTop: "12px",
        fontSize: "15px",
        color: "#333",
        padding: "0px",
        border: "0px",
        borderBottom: "1px solid #eee",
        outline: "none",
        height: "30px"
      },
      RGBlabel: {
        position: "absolute",
        top: "0px",
        left: "0px",
        fontSize: "11px",
        color: "#999999",
        textTransform: "capitalize"
      },
      split: {
        display: "flex",
        marginRight: "-10px",
        paddingTop: "11px"
      },
      third: {
        flex: "1",
        paddingRight: "10px"
      }
    }
  }, a)), c = function(h, d) {
    h.hex ? uc(h.hex) && r({
      hex: h.hex,
      source: "hex"
    }, d) : (h.r || h.g || h.b) && r({
      r: h.r || i.r,
      g: h.g || i.g,
      b: h.b || i.b,
      source: "rgb"
    }, d);
  };
  return import_react.default.createElement(Sy, {
    styles: a
  }, import_react.default.createElement("div", {
    style: u.material,
    className: "material-picker " + l
  }, import_react.default.createElement(tr, {
    style: {
      wrap: u.HEXwrap,
      input: u.HEXinput,
      label: u.HEXlabel
    },
    label: "hex",
    value: n,
    onChange: c
  }), import_react.default.createElement("div", {
    style: u.split,
    className: "flexbox-fix"
  }, import_react.default.createElement("div", {
    style: u.third
  }, import_react.default.createElement(tr, {
    style: {
      wrap: u.RGBwrap,
      input: u.RGBinput,
      label: u.RGBlabel
    },
    label: "r",
    value: i.r,
    onChange: c
  })), import_react.default.createElement("div", {
    style: u.third
  }, import_react.default.createElement(tr, {
    style: {
      wrap: u.RGBwrap,
      input: u.RGBinput,
      label: u.RGBlabel
    },
    label: "g",
    value: i.g,
    onChange: c
  })), import_react.default.createElement("div", {
    style: u.third
  }, import_react.default.createElement(tr, {
    style: {
      wrap: u.RGBwrap,
      input: u.RGBinput,
      label: u.RGBlabel
    },
    label: "b",
    value: i.b,
    onChange: c
  })))));
};
ji(SKe);
var wKe = function(t) {
  var r = t.onChange, n = t.rgb, i = t.hsv, o = t.hex, a = wt({
    default: {
      fields: {
        paddingTop: "5px",
        paddingBottom: "9px",
        width: "80px",
        position: "relative"
      },
      divider: {
        height: "5px"
      },
      RGBwrap: {
        position: "relative"
      },
      RGBinput: {
        marginLeft: "40%",
        width: "40%",
        height: "18px",
        border: "1px solid #888888",
        boxShadow: "inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",
        marginBottom: "5px",
        fontSize: "13px",
        paddingLeft: "3px",
        marginRight: "10px"
      },
      RGBlabel: {
        left: "0px",
        top: "0px",
        width: "34px",
        textTransform: "uppercase",
        fontSize: "13px",
        height: "18px",
        lineHeight: "22px",
        position: "absolute"
      },
      HEXwrap: {
        position: "relative"
      },
      HEXinput: {
        marginLeft: "20%",
        width: "80%",
        height: "18px",
        border: "1px solid #888888",
        boxShadow: "inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",
        marginBottom: "6px",
        fontSize: "13px",
        paddingLeft: "3px"
      },
      HEXlabel: {
        position: "absolute",
        top: "0px",
        left: "0px",
        width: "14px",
        textTransform: "uppercase",
        fontSize: "13px",
        height: "18px",
        lineHeight: "22px"
      },
      fieldSymbols: {
        position: "absolute",
        top: "5px",
        right: "-7px",
        fontSize: "13px"
      },
      symbol: {
        height: "20px",
        lineHeight: "22px",
        paddingBottom: "7px"
      }
    }
  }), s = function(u, c) {
    u["#"] ? uc(u["#"]) && r({
      hex: u["#"],
      source: "hex"
    }, c) : u.r || u.g || u.b ? r({
      r: u.r || n.r,
      g: u.g || n.g,
      b: u.b || n.b,
      source: "rgb"
    }, c) : (u.h || u.s || u.v) && r({
      h: u.h || i.h,
      s: u.s || i.s,
      v: u.v || i.v,
      source: "hsv"
    }, c);
  };
  return import_react.default.createElement("div", {
    style: a.fields
  }, import_react.default.createElement(tr, {
    style: {
      wrap: a.RGBwrap,
      input: a.RGBinput,
      label: a.RGBlabel
    },
    label: "h",
    value: Math.round(i.h),
    onChange: s
  }), import_react.default.createElement(tr, {
    style: {
      wrap: a.RGBwrap,
      input: a.RGBinput,
      label: a.RGBlabel
    },
    label: "s",
    value: Math.round(i.s * 100),
    onChange: s
  }), import_react.default.createElement(tr, {
    style: {
      wrap: a.RGBwrap,
      input: a.RGBinput,
      label: a.RGBlabel
    },
    label: "v",
    value: Math.round(i.v * 100),
    onChange: s
  }), import_react.default.createElement("div", {
    style: a.divider
  }), import_react.default.createElement(tr, {
    style: {
      wrap: a.RGBwrap,
      input: a.RGBinput,
      label: a.RGBlabel
    },
    label: "r",
    value: n.r,
    onChange: s
  }), import_react.default.createElement(tr, {
    style: {
      wrap: a.RGBwrap,
      input: a.RGBinput,
      label: a.RGBlabel
    },
    label: "g",
    value: n.g,
    onChange: s
  }), import_react.default.createElement(tr, {
    style: {
      wrap: a.RGBwrap,
      input: a.RGBinput,
      label: a.RGBlabel
    },
    label: "b",
    value: n.b,
    onChange: s
  }), import_react.default.createElement("div", {
    style: a.divider
  }), import_react.default.createElement(tr, {
    style: {
      wrap: a.HEXwrap,
      input: a.HEXinput,
      label: a.HEXlabel
    },
    label: "#",
    value: o.replace("#", ""),
    onChange: s
  }), import_react.default.createElement("div", {
    style: a.fieldSymbols
  }, import_react.default.createElement("div", {
    style: a.symbol
  }, "°"), import_react.default.createElement("div", {
    style: a.symbol
  }, "%"), import_react.default.createElement("div", {
    style: a.symbol
  }, "%")));
};
var AKe = function(t) {
  var r = t.hsl, n = wt({
    default: {
      picker: {
        width: "12px",
        height: "12px",
        borderRadius: "6px",
        boxShadow: "inset 0 0 0 1px #fff",
        transform: "translate(-6px, -6px)"
      }
    },
    "black-outline": {
      picker: {
        boxShadow: "inset 0 0 0 1px #000"
      }
    }
  }, {
    "black-outline": r.l > 0.5
  });
  return import_react.default.createElement("div", {
    style: n.picker
  });
};
var OKe = function() {
  var t = wt({
    default: {
      triangle: {
        width: 0,
        height: 0,
        borderStyle: "solid",
        borderWidth: "4px 0 4px 6px",
        borderColor: "transparent transparent transparent #fff",
        position: "absolute",
        top: "1px",
        left: "1px"
      },
      triangleBorder: {
        width: 0,
        height: 0,
        borderStyle: "solid",
        borderWidth: "5px 0 5px 8px",
        borderColor: "transparent transparent transparent #555"
      },
      left: {
        Extend: "triangleBorder",
        transform: "translate(-13px, -4px)"
      },
      leftInside: {
        Extend: "triangle",
        transform: "translate(-8px, -5px)"
      },
      right: {
        Extend: "triangleBorder",
        transform: "translate(20px, -14px) rotate(180deg)"
      },
      rightInside: {
        Extend: "triangle",
        transform: "translate(-8px, -5px)"
      }
    }
  });
  return import_react.default.createElement("div", {
    style: t.pointer
  }, import_react.default.createElement("div", {
    style: t.left
  }, import_react.default.createElement("div", {
    style: t.leftInside
  })), import_react.default.createElement("div", {
    style: t.right
  }, import_react.default.createElement("div", {
    style: t.rightInside
  })));
};
var d4 = function(t) {
  var r = t.onClick, n = t.label, i = t.children, o = t.active, a = wt({
    default: {
      button: {
        backgroundImage: "linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",
        border: "1px solid #878787",
        borderRadius: "2px",
        height: "20px",
        boxShadow: "0 1px 0 0 #EAEAEA",
        fontSize: "14px",
        color: "#000",
        lineHeight: "20px",
        textAlign: "center",
        marginBottom: "10px",
        cursor: "pointer"
      }
    },
    active: {
      button: {
        boxShadow: "0 0 0 1px #878787"
      }
    }
  }, {
    active: o
  });
  return import_react.default.createElement("div", {
    style: a.button,
    onClick: r
  }, n || i);
};
var IKe = function(t) {
  var r = t.rgb, n = t.currentColor, i = wt({
    default: {
      swatches: {
        border: "1px solid #B3B3B3",
        borderBottom: "1px solid #F0F0F0",
        marginBottom: "2px",
        marginTop: "1px"
      },
      new: {
        height: "34px",
        background: "rgb(" + r.r + "," + r.g + ", " + r.b + ")",
        boxShadow: "inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"
      },
      current: {
        height: "34px",
        background: n,
        boxShadow: "inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"
      },
      label: {
        fontSize: "14px",
        color: "#000",
        textAlign: "center"
      }
    }
  });
  return import_react.default.createElement("div", null, import_react.default.createElement("div", {
    style: i.label
  }, "new"), import_react.default.createElement("div", {
    style: i.swatches
  }, import_react.default.createElement("div", {
    style: i.new
  }), import_react.default.createElement("div", {
    style: i.current
  })), import_react.default.createElement("div", {
    style: i.label
  }, "current"));
};
var PKe = /* @__PURE__ */ function() {
  function e13(t, r) {
    for (var n = 0; n < r.length; n++) {
      var i = r[n];
      i.enumerable = i.enumerable || false, i.configurable = true, "value" in i && (i.writable = true), Object.defineProperty(t, i.key, i);
    }
  }
  return function(t, r, n) {
    return r && e13(t.prototype, r), n && e13(t, n), t;
  };
}();
function CKe(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function xKe(e13, t) {
  if (!e13)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return t && (typeof t == "object" || typeof t == "function") ? t : e13;
}
function kKe(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function, not " + typeof t);
  e13.prototype = Object.create(t && t.prototype, {
    constructor: {
      value: e13,
      enumerable: false,
      writable: true,
      configurable: true
    }
  }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e13, t) : e13.__proto__ = t);
}
var mL = function(e13) {
  kKe(t, e13);
  function t(r) {
    CKe(this, t);
    var n = xKe(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this));
    return n.state = {
      currentColor: r.hex
    }, n;
  }
  return PKe(t, [{
    key: "render",
    value: function() {
      var n = this.props, i = n.styles, o = i === void 0 ? {} : i, a = n.className, s = a === void 0 ? "" : a, l = wt(Ui({
        default: {
          picker: {
            background: "#DCDCDC",
            borderRadius: "4px",
            boxShadow: "0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",
            boxSizing: "initial",
            width: "513px"
          },
          head: {
            backgroundImage: "linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",
            borderBottom: "1px solid #B1B1B1",
            boxShadow: "inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",
            height: "23px",
            lineHeight: "24px",
            borderRadius: "4px 4px 0 0",
            fontSize: "13px",
            color: "#4D4D4D",
            textAlign: "center"
          },
          body: {
            padding: "15px 15px 0",
            display: "flex"
          },
          saturation: {
            width: "256px",
            height: "256px",
            position: "relative",
            border: "2px solid #B3B3B3",
            borderBottom: "2px solid #F0F0F0",
            overflow: "hidden"
          },
          hue: {
            position: "relative",
            height: "256px",
            width: "19px",
            marginLeft: "10px",
            border: "2px solid #B3B3B3",
            borderBottom: "2px solid #F0F0F0"
          },
          controls: {
            width: "180px",
            marginLeft: "10px"
          },
          top: {
            display: "flex"
          },
          previews: {
            width: "60px"
          },
          actions: {
            flex: "1",
            marginLeft: "20px"
          }
        }
      }, o));
      return import_react.default.createElement("div", {
        style: l.picker,
        className: "photoshop-picker " + s
      }, import_react.default.createElement("div", {
        style: l.head
      }, this.props.header), import_react.default.createElement("div", {
        style: l.body,
        className: "flexbox-fix"
      }, import_react.default.createElement("div", {
        style: l.saturation
      }, import_react.default.createElement(DS, {
        hsl: this.props.hsl,
        hsv: this.props.hsv,
        pointer: AKe,
        onChange: this.props.onChange
      })), import_react.default.createElement("div", {
        style: l.hue
      }, import_react.default.createElement(Op, {
        direction: "vertical",
        hsl: this.props.hsl,
        pointer: OKe,
        onChange: this.props.onChange
      })), import_react.default.createElement("div", {
        style: l.controls
      }, import_react.default.createElement("div", {
        style: l.top,
        className: "flexbox-fix"
      }, import_react.default.createElement("div", {
        style: l.previews
      }, import_react.default.createElement(IKe, {
        rgb: this.props.rgb,
        currentColor: this.state.currentColor
      })), import_react.default.createElement("div", {
        style: l.actions
      }, import_react.default.createElement(d4, {
        label: "OK",
        onClick: this.props.onAccept,
        active: true
      }), import_react.default.createElement(d4, {
        label: "Cancel",
        onClick: this.props.onCancel
      }), import_react.default.createElement(wKe, {
        onChange: this.props.onChange,
        rgb: this.props.rgb,
        hsv: this.props.hsv,
        hex: this.props.hex
      }))))));
    }
  }]), t;
}(import_react.default.Component);
mL.propTypes = {
  header: M.string,
  styles: M.object
};
mL.defaultProps = {
  header: "Color Picker",
  styles: {}
};
ji(mL);
var DKe = function(t) {
  var r = t.onChange, n = t.rgb, i = t.hsl, o = t.hex, a = t.disableAlpha, s = wt({
    default: {
      fields: {
        display: "flex",
        paddingTop: "4px"
      },
      single: {
        flex: "1",
        paddingLeft: "6px"
      },
      alpha: {
        flex: "1",
        paddingLeft: "6px"
      },
      double: {
        flex: "2"
      },
      input: {
        width: "80%",
        padding: "4px 10% 3px",
        border: "none",
        boxShadow: "inset 0 0 0 1px #ccc",
        fontSize: "11px"
      },
      label: {
        display: "block",
        textAlign: "center",
        fontSize: "11px",
        color: "#222",
        paddingTop: "3px",
        paddingBottom: "4px",
        textTransform: "capitalize"
      }
    },
    disableAlpha: {
      alpha: {
        display: "none"
      }
    }
  }, {
    disableAlpha: a
  }), l = function(c, f) {
    c.hex ? uc(c.hex) && r({
      hex: c.hex,
      source: "hex"
    }, f) : c.r || c.g || c.b ? r({
      r: c.r || n.r,
      g: c.g || n.g,
      b: c.b || n.b,
      a: n.a,
      source: "rgb"
    }, f) : c.a && (c.a < 0 ? c.a = 0 : c.a > 100 && (c.a = 100), c.a /= 100, r({
      h: i.h,
      s: i.s,
      l: i.l,
      a: c.a,
      source: "rgb"
    }, f));
  };
  return import_react.default.createElement("div", {
    style: s.fields,
    className: "flexbox-fix"
  }, import_react.default.createElement("div", {
    style: s.double
  }, import_react.default.createElement(tr, {
    style: {
      input: s.input,
      label: s.label
    },
    label: "hex",
    value: o.replace("#", ""),
    onChange: l
  })), import_react.default.createElement("div", {
    style: s.single
  }, import_react.default.createElement(tr, {
    style: {
      input: s.input,
      label: s.label
    },
    label: "r",
    value: n.r,
    onChange: l,
    dragLabel: "true",
    dragMax: "255"
  })), import_react.default.createElement("div", {
    style: s.single
  }, import_react.default.createElement(tr, {
    style: {
      input: s.input,
      label: s.label
    },
    label: "g",
    value: n.g,
    onChange: l,
    dragLabel: "true",
    dragMax: "255"
  })), import_react.default.createElement("div", {
    style: s.single
  }, import_react.default.createElement(tr, {
    style: {
      input: s.input,
      label: s.label
    },
    label: "b",
    value: n.b,
    onChange: l,
    dragLabel: "true",
    dragMax: "255"
  })), import_react.default.createElement("div", {
    style: s.alpha
  }, import_react.default.createElement(tr, {
    style: {
      input: s.input,
      label: s.label
    },
    label: "a",
    value: Math.round(n.a * 100),
    onChange: l,
    dragLabel: "true",
    dragMax: "100"
  })));
};
var RKe = Object.assign || function(e13) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t];
    for (var n in r)
      Object.prototype.hasOwnProperty.call(r, n) && (e13[n] = r[n]);
  }
  return e13;
};
var QZ = function(t) {
  var r = t.colors, n = t.onClick, i = n === void 0 ? function() {
  } : n, o = t.onSwatchHover, a = wt({
    default: {
      colors: {
        margin: "0 -10px",
        padding: "10px 0 0 10px",
        borderTop: "1px solid #eee",
        display: "flex",
        flexWrap: "wrap",
        position: "relative"
      },
      swatchWrap: {
        width: "16px",
        height: "16px",
        margin: "0 10px 10px 0"
      },
      swatch: {
        borderRadius: "3px",
        boxShadow: "inset 0 0 0 1px rgba(0,0,0,.15)"
      }
    },
    "no-presets": {
      colors: {
        display: "none"
      }
    }
  }, {
    "no-presets": !r || !r.length
  }), s = function(u, c) {
    i({
      hex: u,
      source: "hex"
    }, c);
  };
  return import_react.default.createElement("div", {
    style: a.colors,
    className: "flexbox-fix"
  }, r.map(function(l) {
    var u = typeof l == "string" ? {
      color: l
    } : l, c = "" + u.color + (u.title || "");
    return import_react.default.createElement("div", {
      key: c,
      style: a.swatchWrap
    }, import_react.default.createElement(fh, RKe({}, u, {
      style: a.swatch,
      onClick: s,
      onHover: o,
      focusStyle: {
        boxShadow: "inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px " + u.color
      }
    })));
  }));
};
QZ.propTypes = {
  colors: M.arrayOf(M.oneOfType([M.string, M.shape({
    color: M.string,
    title: M.string
  })])).isRequired
};
var NKe = Object.assign || function(e13) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t];
    for (var n in r)
      Object.prototype.hasOwnProperty.call(r, n) && (e13[n] = r[n]);
  }
  return e13;
};
var gL = function(t) {
  var r = t.width, n = t.rgb, i = t.hex, o = t.hsv, a = t.hsl, s = t.onChange, l = t.onSwatchHover, u = t.disableAlpha, c = t.presetColors, f = t.renderers, h = t.styles, d = h === void 0 ? {} : h, p = t.className, m = p === void 0 ? "" : p, g = wt(Ui({
    default: NKe({
      picker: {
        width: r,
        padding: "10px 10px 0",
        boxSizing: "initial",
        background: "#fff",
        borderRadius: "4px",
        boxShadow: "0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"
      },
      saturation: {
        width: "100%",
        paddingBottom: "75%",
        position: "relative",
        overflow: "hidden"
      },
      Saturation: {
        radius: "3px",
        shadow: "inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"
      },
      controls: {
        display: "flex"
      },
      sliders: {
        padding: "4px 0",
        flex: "1"
      },
      color: {
        width: "24px",
        height: "24px",
        position: "relative",
        marginTop: "4px",
        marginLeft: "4px",
        borderRadius: "3px"
      },
      activeColor: {
        absolute: "0px 0px 0px 0px",
        borderRadius: "2px",
        background: "rgba(" + n.r + "," + n.g + "," + n.b + "," + n.a + ")",
        boxShadow: "inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"
      },
      hue: {
        position: "relative",
        height: "10px",
        overflow: "hidden"
      },
      Hue: {
        radius: "2px",
        shadow: "inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"
      },
      alpha: {
        position: "relative",
        height: "10px",
        marginTop: "4px",
        overflow: "hidden"
      },
      Alpha: {
        radius: "2px",
        shadow: "inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"
      }
    }, d),
    disableAlpha: {
      color: {
        height: "10px"
      },
      hue: {
        height: "10px"
      },
      alpha: {
        display: "none"
      }
    }
  }, d), {
    disableAlpha: u
  });
  return import_react.default.createElement("div", {
    style: g.picker,
    className: "sketch-picker " + m
  }, import_react.default.createElement("div", {
    style: g.saturation
  }, import_react.default.createElement(DS, {
    style: g.Saturation,
    hsl: a,
    hsv: o,
    onChange: s
  })), import_react.default.createElement("div", {
    style: g.controls,
    className: "flexbox-fix"
  }, import_react.default.createElement("div", {
    style: g.sliders
  }, import_react.default.createElement("div", {
    style: g.hue
  }, import_react.default.createElement(Op, {
    style: g.Hue,
    hsl: a,
    onChange: s
  })), import_react.default.createElement("div", {
    style: g.alpha
  }, import_react.default.createElement(sL, {
    style: g.Alpha,
    rgb: n,
    hsl: a,
    renderers: f,
    onChange: s
  }))), import_react.default.createElement("div", {
    style: g.color
  }, import_react.default.createElement(Ap, null), import_react.default.createElement("div", {
    style: g.activeColor
  }))), import_react.default.createElement(DKe, {
    rgb: n,
    hsl: a,
    hex: i,
    onChange: s,
    disableAlpha: u
  }), import_react.default.createElement(QZ, {
    colors: c,
    onClick: s,
    onSwatchHover: l
  }));
};
gL.propTypes = {
  disableAlpha: M.bool,
  width: M.oneOfType([M.string, M.number]),
  styles: M.object
};
gL.defaultProps = {
  disableAlpha: false,
  width: 200,
  styles: {},
  presetColors: ["#D0021B", "#F5A623", "#F8E71C", "#8B572A", "#7ED321", "#417505", "#BD10E0", "#9013FE", "#4A90E2", "#50E3C2", "#B8E986", "#000000", "#4A4A4A", "#9B9B9B", "#FFFFFF"]
};
var MKe = ji(gL);
var cm = function(t) {
  var r = t.hsl, n = t.offset, i = t.onClick, o = i === void 0 ? function() {
  } : i, a = t.active, s = t.first, l = t.last, u = wt({
    default: {
      swatch: {
        height: "12px",
        background: "hsl(" + r.h + ", 50%, " + n * 100 + "%)",
        cursor: "pointer"
      }
    },
    first: {
      swatch: {
        borderRadius: "2px 0 0 2px"
      }
    },
    last: {
      swatch: {
        borderRadius: "0 2px 2px 0"
      }
    },
    active: {
      swatch: {
        transform: "scaleY(1.8)",
        borderRadius: "3.6px/2px"
      }
    }
  }, {
    active: a,
    first: s,
    last: l
  }), c = function(h) {
    return o({
      h: r.h,
      s: 0.5,
      l: n,
      source: "hsl"
    }, h);
  };
  return import_react.default.createElement("div", {
    style: u.swatch,
    onClick: c
  });
};
var LKe = function(t) {
  var r = t.onClick, n = t.hsl, i = wt({
    default: {
      swatches: {
        marginTop: "20px"
      },
      swatch: {
        boxSizing: "border-box",
        width: "20%",
        paddingRight: "1px",
        float: "left"
      },
      clear: {
        clear: "both"
      }
    }
  }), o = 0.1;
  return import_react.default.createElement("div", {
    style: i.swatches
  }, import_react.default.createElement("div", {
    style: i.swatch
  }, import_react.default.createElement(cm, {
    hsl: n,
    offset: ".80",
    active: Math.abs(n.l - 0.8) < o && Math.abs(n.s - 0.5) < o,
    onClick: r,
    first: true
  })), import_react.default.createElement("div", {
    style: i.swatch
  }, import_react.default.createElement(cm, {
    hsl: n,
    offset: ".65",
    active: Math.abs(n.l - 0.65) < o && Math.abs(n.s - 0.5) < o,
    onClick: r
  })), import_react.default.createElement("div", {
    style: i.swatch
  }, import_react.default.createElement(cm, {
    hsl: n,
    offset: ".50",
    active: Math.abs(n.l - 0.5) < o && Math.abs(n.s - 0.5) < o,
    onClick: r
  })), import_react.default.createElement("div", {
    style: i.swatch
  }, import_react.default.createElement(cm, {
    hsl: n,
    offset: ".35",
    active: Math.abs(n.l - 0.35) < o && Math.abs(n.s - 0.5) < o,
    onClick: r
  })), import_react.default.createElement("div", {
    style: i.swatch
  }, import_react.default.createElement(cm, {
    hsl: n,
    offset: ".20",
    active: Math.abs(n.l - 0.2) < o && Math.abs(n.s - 0.5) < o,
    onClick: r,
    last: true
  })), import_react.default.createElement("div", {
    style: i.clear
  }));
};
var BKe = function() {
  var t = wt({
    default: {
      picker: {
        width: "14px",
        height: "14px",
        borderRadius: "6px",
        transform: "translate(-7px, -1px)",
        backgroundColor: "rgb(248, 248, 248)",
        boxShadow: "0 1px 4px 0 rgba(0, 0, 0, 0.37)"
      }
    }
  });
  return import_react.default.createElement("div", {
    style: t.picker
  });
};
var vL = function(t) {
  var r = t.hsl, n = t.onChange, i = t.pointer, o = t.styles, a = o === void 0 ? {} : o, s = t.className, l = s === void 0 ? "" : s, u = wt(Ui({
    default: {
      hue: {
        height: "12px",
        position: "relative"
      },
      Hue: {
        radius: "2px"
      }
    }
  }, a));
  return import_react.default.createElement("div", {
    style: u.wrap || {},
    className: "slider-picker " + l
  }, import_react.default.createElement("div", {
    style: u.hue
  }, import_react.default.createElement(Op, {
    style: u.Hue,
    hsl: r,
    pointer: i,
    onChange: n
  })), import_react.default.createElement("div", {
    style: u.swatches
  }, import_react.default.createElement(LKe, {
    hsl: r,
    onClick: n
  })));
};
vL.propTypes = {
  styles: M.object
};
vL.defaultProps = {
  pointer: BKe,
  styles: {}
};
ji(vL);
var JZ = {};
Object.defineProperty(JZ, "__esModule", {
  value: true
});
var p4 = Object.assign || function(e13) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t];
    for (var n in r)
      Object.prototype.hasOwnProperty.call(r, n) && (e13[n] = r[n]);
  }
  return e13;
};
var FKe = import_react.default;
var m4 = $Ke(FKe);
function $Ke(e13) {
  return e13 && e13.__esModule ? e13 : {
    default: e13
  };
}
function HKe(e13, t) {
  var r = {};
  for (var n in e13)
    t.indexOf(n) >= 0 || Object.prototype.hasOwnProperty.call(e13, n) && (r[n] = e13[n]);
  return r;
}
var F_ = 24;
var UKe = JZ.default = function(e13) {
  var t = e13.fill, r = t === void 0 ? "currentColor" : t, n = e13.width, i = n === void 0 ? F_ : n, o = e13.height, a = o === void 0 ? F_ : o, s = e13.style, l = s === void 0 ? {} : s, u = HKe(e13, ["fill", "width", "height", "style"]);
  return m4.default.createElement("svg", p4({
    viewBox: "0 0 " + F_ + " " + F_,
    style: p4({
      fill: r,
      width: i,
      height: a
    }, l)
  }, u), m4.default.createElement("path", {
    d: "M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"
  }));
};
var jKe = function(t) {
  var r = t.color, n = t.onClick, i = n === void 0 ? function() {
  } : n, o = t.onSwatchHover, a = t.first, s = t.last, l = t.active, u = wt({
    default: {
      color: {
        width: "40px",
        height: "24px",
        cursor: "pointer",
        background: r,
        marginBottom: "1px"
      },
      check: {
        color: lL(r),
        marginLeft: "8px",
        display: "none"
      }
    },
    first: {
      color: {
        overflow: "hidden",
        borderRadius: "2px 2px 0 0"
      }
    },
    last: {
      color: {
        overflow: "hidden",
        borderRadius: "0 0 2px 2px"
      }
    },
    active: {
      check: {
        display: "block"
      }
    },
    "color-#FFFFFF": {
      color: {
        boxShadow: "inset 0 0 0 1px #ddd"
      },
      check: {
        color: "#333"
      }
    },
    transparent: {
      check: {
        color: "#333"
      }
    }
  }, {
    first: a,
    last: s,
    active: l,
    "color-#FFFFFF": r === "#FFFFFF",
    transparent: r === "transparent"
  });
  return import_react.default.createElement(fh, {
    color: r,
    style: u.color,
    onClick: i,
    onHover: o,
    focusStyle: {
      boxShadow: "0 0 4px " + r
    }
  }, import_react.default.createElement("div", {
    style: u.check
  }, import_react.default.createElement(UKe, null)));
};
var GKe = function(t) {
  var r = t.onClick, n = t.onSwatchHover, i = t.group, o = t.active, a = wt({
    default: {
      group: {
        paddingBottom: "10px",
        width: "40px",
        float: "left",
        marginRight: "10px"
      }
    }
  });
  return import_react.default.createElement("div", {
    style: a.group
  }, cc(i, function(s, l) {
    return import_react.default.createElement(jKe, {
      key: s,
      color: s,
      active: s.toLowerCase() === o,
      first: l === 0,
      last: l === i.length - 1,
      onClick: r,
      onSwatchHover: n
    });
  }));
};
var yL = function(t) {
  var r = t.width, n = t.height, i = t.onChange, o = t.onSwatchHover, a = t.colors, s = t.hex, l = t.styles, u = l === void 0 ? {} : l, c = t.className, f = c === void 0 ? "" : c, h = wt(Ui({
    default: {
      picker: {
        width: r,
        height: n
      },
      overflow: {
        height: n,
        overflowY: "scroll"
      },
      body: {
        padding: "16px 0 6px 16px"
      },
      clear: {
        clear: "both"
      }
    }
  }, u)), d = function(m, g) {
    return i({
      hex: m,
      source: "hex"
    }, g);
  };
  return import_react.default.createElement("div", {
    style: h.picker,
    className: "swatches-picker " + f
  }, import_react.default.createElement(Sy, null, import_react.default.createElement("div", {
    style: h.overflow
  }, import_react.default.createElement("div", {
    style: h.body
  }, cc(a, function(p) {
    return import_react.default.createElement(GKe, {
      key: p.toString(),
      group: p,
      active: s,
      onClick: d,
      onSwatchHover: o
    });
  }), import_react.default.createElement("div", {
    style: h.clear
  })))));
};
yL.propTypes = {
  width: M.oneOfType([M.string, M.number]),
  height: M.oneOfType([M.string, M.number]),
  colors: M.arrayOf(M.arrayOf(M.string)),
  styles: M.object
  /* eslint-disable max-len */
};
yL.defaultProps = {
  width: 320,
  height: 240,
  colors: [[Xh[900], Xh[700], Xh[500], Xh[300], Xh[100]], [Wh[900], Wh[700], Wh[500], Wh[300], Wh[100]], [Yh[900], Yh[700], Yh[500], Yh[300], Yh[100]], [qh[900], qh[700], qh[500], qh[300], qh[100]], [Kh[900], Kh[700], Kh[500], Kh[300], Kh[100]], [Zh[900], Zh[700], Zh[500], Zh[300], Zh[100]], [Qh[900], Qh[700], Qh[500], Qh[300], Qh[100]], [Jh[900], Jh[700], Jh[500], Jh[300], Jh[100]], [ef[900], ef[700], ef[500], ef[300], ef[100]], ["#194D33", jm[700], jm[500], jm[300], jm[100]], [tf[900], tf[700], tf[500], tf[300], tf[100]], [rf[900], rf[700], rf[500], rf[300], rf[100]], [nf[900], nf[700], nf[500], nf[300], nf[100]], [of[900], of[700], of[500], of[300], of[100]], [af[900], af[700], af[500], af[300], af[100]], [sf[900], sf[700], sf[500], sf[300], sf[100]], [lf[900], lf[700], lf[500], lf[300], lf[100]], [cf[900], cf[700], cf[500], cf[300], cf[100]], ["#000000", "#525252", "#969696", "#D9D9D9", "#FFFFFF"]],
  styles: {}
};
ji(yL);
var _L = function(t) {
  var r = t.onChange, n = t.onSwatchHover, i = t.hex, o = t.colors, a = t.width, s = t.triangle, l = t.styles, u = l === void 0 ? {} : l, c = t.className, f = c === void 0 ? "" : c, h = wt(Ui({
    default: {
      card: {
        width: a,
        background: "#fff",
        border: "0 solid rgba(0,0,0,0.25)",
        boxShadow: "0 1px 4px rgba(0,0,0,0.25)",
        borderRadius: "4px",
        position: "relative"
      },
      body: {
        padding: "15px 9px 9px 15px"
      },
      label: {
        fontSize: "18px",
        color: "#fff"
      },
      triangle: {
        width: "0px",
        height: "0px",
        borderStyle: "solid",
        borderWidth: "0 9px 10px 9px",
        borderColor: "transparent transparent #fff transparent",
        position: "absolute"
      },
      triangleShadow: {
        width: "0px",
        height: "0px",
        borderStyle: "solid",
        borderWidth: "0 9px 10px 9px",
        borderColor: "transparent transparent rgba(0,0,0,.1) transparent",
        position: "absolute"
      },
      hash: {
        background: "#F0F0F0",
        height: "30px",
        width: "30px",
        borderRadius: "4px 0 0 4px",
        float: "left",
        color: "#98A1A4",
        display: "flex",
        alignItems: "center",
        justifyContent: "center"
      },
      input: {
        width: "100px",
        fontSize: "14px",
        color: "#666",
        border: "0px",
        outline: "none",
        height: "28px",
        boxShadow: "inset 0 0 0 1px #F0F0F0",
        boxSizing: "content-box",
        borderRadius: "0 4px 4px 0",
        float: "left",
        paddingLeft: "8px"
      },
      swatch: {
        width: "30px",
        height: "30px",
        float: "left",
        borderRadius: "4px",
        margin: "0 6px 6px 0"
      },
      clear: {
        clear: "both"
      }
    },
    "hide-triangle": {
      triangle: {
        display: "none"
      },
      triangleShadow: {
        display: "none"
      }
    },
    "top-left-triangle": {
      triangle: {
        top: "-10px",
        left: "12px"
      },
      triangleShadow: {
        top: "-11px",
        left: "12px"
      }
    },
    "top-right-triangle": {
      triangle: {
        top: "-10px",
        right: "12px"
      },
      triangleShadow: {
        top: "-11px",
        right: "12px"
      }
    }
  }, u), {
    "hide-triangle": s === "hide",
    "top-left-triangle": s === "top-left",
    "top-right-triangle": s === "top-right"
  }), d = function(m, g) {
    uc(m) && r({
      hex: m,
      source: "hex"
    }, g);
  };
  return import_react.default.createElement("div", {
    style: h.card,
    className: "twitter-picker " + f
  }, import_react.default.createElement("div", {
    style: h.triangleShadow
  }), import_react.default.createElement("div", {
    style: h.triangle
  }), import_react.default.createElement("div", {
    style: h.body
  }, cc(o, function(p, m) {
    return import_react.default.createElement(fh, {
      key: m,
      color: p,
      hex: p,
      style: h.swatch,
      onClick: d,
      onHover: n,
      focusStyle: {
        boxShadow: "0 0 4px " + p
      }
    });
  }), import_react.default.createElement("div", {
    style: h.hash
  }, "#"), import_react.default.createElement(tr, {
    label: null,
    style: {
      input: h.input
    },
    value: i.replace("#", ""),
    onChange: d
  }), import_react.default.createElement("div", {
    style: h.clear
  })));
};
_L.propTypes = {
  width: M.oneOfType([M.string, M.number]),
  triangle: M.oneOf(["hide", "top-left", "top-right"]),
  colors: M.arrayOf(M.string),
  styles: M.object
};
_L.defaultProps = {
  width: 276,
  colors: ["#FF6900", "#FCB900", "#7BDCB5", "#00D084", "#8ED1FC", "#0693E3", "#ABB8C3", "#EB144C", "#F78DA7", "#9900EF"],
  triangle: "top-left",
  styles: {}
};
ji(_L);
var bL = function(t) {
  var r = wt({
    default: {
      picker: {
        width: "20px",
        height: "20px",
        borderRadius: "22px",
        border: "2px #fff solid",
        transform: "translate(-12px, -13px)",
        background: "hsl(" + Math.round(t.hsl.h) + ", " + Math.round(t.hsl.s * 100) + "%, " + Math.round(t.hsl.l * 100) + "%)"
      }
    }
  });
  return import_react.default.createElement("div", {
    style: r.picker
  });
};
bL.propTypes = {
  hsl: M.shape({
    h: M.number,
    s: M.number,
    l: M.number,
    a: M.number
  })
};
bL.defaultProps = {
  hsl: {
    a: 1,
    h: 249.94,
    l: 0.2,
    s: 0.5
  }
};
var TL = function(t) {
  var r = wt({
    default: {
      picker: {
        width: "20px",
        height: "20px",
        borderRadius: "22px",
        transform: "translate(-10px, -7px)",
        background: "hsl(" + Math.round(t.hsl.h) + ", 100%, 50%)",
        border: "2px white solid"
      }
    }
  });
  return import_react.default.createElement("div", {
    style: r.picker
  });
};
TL.propTypes = {
  hsl: M.shape({
    h: M.number,
    s: M.number,
    l: M.number,
    a: M.number
  })
};
TL.defaultProps = {
  hsl: {
    a: 1,
    h: 249.94,
    l: 0.2,
    s: 0.5
  }
};
var zKe = function(t) {
  var r = t.onChange, n = t.rgb, i = t.hsl, o = t.hex, a = t.hsv, s = function(d, p) {
    if (d.hex)
      uc(d.hex) && r({
        hex: d.hex,
        source: "hex"
      }, p);
    else if (d.rgb) {
      var m = d.rgb.split(",");
      KO(d.rgb, "rgb") && r({
        r: m[0],
        g: m[1],
        b: m[2],
        a: 1,
        source: "rgb"
      }, p);
    } else if (d.hsv) {
      var g = d.hsv.split(",");
      KO(d.hsv, "hsv") && (g[2] = g[2].replace("%", ""), g[1] = g[1].replace("%", ""), g[0] = g[0].replace("°", ""), g[1] == 1 ? g[1] = 0.01 : g[2] == 1 && (g[2] = 0.01), r({
        h: Number(g[0]),
        s: Number(g[1]),
        v: Number(g[2]),
        source: "hsv"
      }, p));
    } else if (d.hsl) {
      var v = d.hsl.split(",");
      KO(d.hsl, "hsl") && (v[2] = v[2].replace("%", ""), v[1] = v[1].replace("%", ""), v[0] = v[0].replace("°", ""), f[1] == 1 ? f[1] = 0.01 : f[2] == 1 && (f[2] = 0.01), r({
        h: Number(v[0]),
        s: Number(v[1]),
        v: Number(v[2]),
        source: "hsl"
      }, p));
    }
  }, l = wt({
    default: {
      wrap: {
        display: "flex",
        height: "100px",
        marginTop: "4px"
      },
      fields: {
        width: "100%"
      },
      column: {
        paddingTop: "10px",
        display: "flex",
        justifyContent: "space-between"
      },
      double: {
        padding: "0px 4.4px",
        boxSizing: "border-box"
      },
      input: {
        width: "100%",
        height: "38px",
        boxSizing: "border-box",
        padding: "4px 10% 3px",
        textAlign: "center",
        border: "1px solid #dadce0",
        fontSize: "11px",
        textTransform: "lowercase",
        borderRadius: "5px",
        outline: "none",
        fontFamily: "Roboto,Arial,sans-serif"
      },
      input2: {
        height: "38px",
        width: "100%",
        border: "1px solid #dadce0",
        boxSizing: "border-box",
        fontSize: "11px",
        textTransform: "lowercase",
        borderRadius: "5px",
        outline: "none",
        paddingLeft: "10px",
        fontFamily: "Roboto,Arial,sans-serif"
      },
      label: {
        textAlign: "center",
        fontSize: "12px",
        background: "#fff",
        position: "absolute",
        textTransform: "uppercase",
        color: "#3c4043",
        width: "35px",
        top: "-6px",
        left: "0",
        right: "0",
        marginLeft: "auto",
        marginRight: "auto",
        fontFamily: "Roboto,Arial,sans-serif"
      },
      label2: {
        left: "10px",
        textAlign: "center",
        fontSize: "12px",
        background: "#fff",
        position: "absolute",
        textTransform: "uppercase",
        color: "#3c4043",
        width: "32px",
        top: "-6px",
        fontFamily: "Roboto,Arial,sans-serif"
      },
      single: {
        flexGrow: "1",
        margin: "0px 4.4px"
      }
    }
  }), u = n.r + ", " + n.g + ", " + n.b, c = Math.round(i.h) + "°, " + Math.round(i.s * 100) + "%, " + Math.round(i.l * 100) + "%", f = Math.round(a.h) + "°, " + Math.round(a.s * 100) + "%, " + Math.round(a.v * 100) + "%";
  return import_react.default.createElement("div", {
    style: l.wrap,
    className: "flexbox-fix"
  }, import_react.default.createElement("div", {
    style: l.fields
  }, import_react.default.createElement("div", {
    style: l.double
  }, import_react.default.createElement(tr, {
    style: {
      input: l.input,
      label: l.label
    },
    label: "hex",
    value: o,
    onChange: s
  })), import_react.default.createElement("div", {
    style: l.column
  }, import_react.default.createElement("div", {
    style: l.single
  }, import_react.default.createElement(tr, {
    style: {
      input: l.input2,
      label: l.label2
    },
    label: "rgb",
    value: u,
    onChange: s
  })), import_react.default.createElement("div", {
    style: l.single
  }, import_react.default.createElement(tr, {
    style: {
      input: l.input2,
      label: l.label2
    },
    label: "hsv",
    value: f,
    onChange: s
  })), import_react.default.createElement("div", {
    style: l.single
  }, import_react.default.createElement(tr, {
    style: {
      input: l.input2,
      label: l.label2
    },
    label: "hsl",
    value: c,
    onChange: s
  })))));
};
var EL = function(t) {
  var r = t.width, n = t.onChange, i = t.rgb, o = t.hsl, a = t.hsv, s = t.hex, l = t.header, u = t.styles, c = u === void 0 ? {} : u, f = t.className, h = f === void 0 ? "" : f, d = wt(Ui({
    default: {
      picker: {
        width: r,
        background: "#fff",
        border: "1px solid #dfe1e5",
        boxSizing: "initial",
        display: "flex",
        flexWrap: "wrap",
        borderRadius: "8px 8px 0px 0px"
      },
      head: {
        height: "57px",
        width: "100%",
        paddingTop: "16px",
        paddingBottom: "16px",
        paddingLeft: "16px",
        fontSize: "20px",
        boxSizing: "border-box",
        fontFamily: "Roboto-Regular,HelveticaNeue,Arial,sans-serif"
      },
      saturation: {
        width: "70%",
        padding: "0px",
        position: "relative",
        overflow: "hidden"
      },
      swatch: {
        width: "30%",
        height: "228px",
        padding: "0px",
        background: "rgba(" + i.r + ", " + i.g + ", " + i.b + ", 1)",
        position: "relative",
        overflow: "hidden"
      },
      body: {
        margin: "auto",
        width: "95%"
      },
      controls: {
        display: "flex",
        boxSizing: "border-box",
        height: "52px",
        paddingTop: "22px"
      },
      color: {
        width: "32px"
      },
      hue: {
        height: "8px",
        position: "relative",
        margin: "0px 16px 0px 16px",
        width: "100%"
      },
      Hue: {
        radius: "2px"
      }
    }
  }, c));
  return import_react.default.createElement("div", {
    style: d.picker,
    className: "google-picker " + h
  }, import_react.default.createElement("div", {
    style: d.head
  }, l), import_react.default.createElement("div", {
    style: d.swatch
  }), import_react.default.createElement("div", {
    style: d.saturation
  }, import_react.default.createElement(DS, {
    hsl: o,
    hsv: a,
    pointer: bL,
    onChange: n
  })), import_react.default.createElement("div", {
    style: d.body
  }, import_react.default.createElement("div", {
    style: d.controls,
    className: "flexbox-fix"
  }, import_react.default.createElement("div", {
    style: d.hue
  }, import_react.default.createElement(Op, {
    style: d.Hue,
    hsl: o,
    radius: "4px",
    pointer: TL,
    onChange: n
  }))), import_react.default.createElement(zKe, {
    rgb: i,
    hsl: o,
    hex: s,
    hsv: a,
    onChange: n
  })));
};
EL.propTypes = {
  width: M.oneOfType([M.string, M.number]),
  styles: M.object,
  header: M.string
};
EL.defaultProps = {
  width: 652,
  styles: {},
  header: "Color picker"
};
ji(EL);
function VKe(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function XKe(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, YKe(n.key), n);
  }
}
function WKe(e13, t, r) {
  return t && XKe(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function YKe(e13) {
  var t = qKe(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function qKe(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
function KKe(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  e13.prototype = Object.create(t && t.prototype, { constructor: { value: e13, writable: true, configurable: true } }), Object.defineProperty(e13, "prototype", { writable: false }), t && _k(e13, t);
}
function _k(e13, t) {
  return _k = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, i) {
    return n.__proto__ = i, n;
  }, _k(e13, t);
}
function ZKe(e13) {
  var t = eZe();
  return function() {
    var n = QT(e13), i;
    if (t) {
      var o = QT(this).constructor;
      i = Reflect.construct(n, arguments, o);
    } else
      i = n.apply(this, arguments);
    return QKe(this, i);
  };
}
function QKe(e13, t) {
  if (t && (typeof t == "object" || typeof t == "function"))
    return t;
  if (t !== void 0)
    throw new TypeError("Derived constructors may only return object or undefined");
  return JKe(e13);
}
function JKe(e13) {
  if (e13 === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e13;
}
function eZe() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return false;
  if (typeof Proxy == "function")
    return true;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), true;
  } catch {
    return false;
  }
}
function QT(e13) {
  return QT = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(r) {
    return r.__proto__ || Object.getPrototypeOf(r);
  }, QT(e13);
}
var eQ = function(e13) {
  KKe(r, e13);
  var t = ZKe(r);
  function r(n) {
    var i;
    VKe(this, r), i = t.call(this, n);
    const o = td(n.color);
    return i.state = {
      displayColorPicker: false,
      color: {
        r: o.r,
        g: o.g,
        b: o.b,
        a: o.opacity
      }
    }, i;
  }
  return WKe(r, [{
    key: "handleClick",
    value: function() {
      this.setState((i) => ({
        displayColorPicker: !i.displayColorPicker
      }));
    }
  }, {
    key: "handleClose",
    value: function() {
      this.setState({
        displayColorPicker: false
      });
    }
  }, {
    key: "handleChange",
    value: function(i) {
      const o = i.rgb, a = `rgba(${o.r},${o.g},${o.b},${o.a})`;
      this.props.onChange(a), this.setState({
        color: i.rgb
      });
    }
  }, {
    key: "render",
    value: function() {
      const i = wt({
        default: {
          color: {
            width: "32px",
            height: "14px",
            borderRadius: "2px",
            background: `rgba(${this.state.color.r}, ${this.state.color.g}, ${this.state.color.b}, ${this.state.color.a})`
          },
          swatch: {
            padding: "5px",
            background: "#fff",
            cursor: "pointer",
            borderRadius: "1px"
          },
          popover: {
            position: "absolute",
            zIndex: "2"
          },
          cover: {
            position: "fixed",
            top: "0px",
            right: "0px",
            bottom: "0px",
            left: "0px"
          }
        }
      });
      return import_react.default.createElement("div", null, import_react.default.createElement("div", {
        onClick: this.handleClick.bind(this),
        style: i.swatch
      }, import_react.default.createElement("div", {
        style: i.color
      })), this.state.displayColorPicker ? import_react.default.createElement("div", {
        style: i.popover
      }, import_react.default.createElement("div", {
        onClick: this.handleClose.bind(this),
        style: i.cover
      }), import_react.default.createElement(MKe, {
        color: this.state.color,
        onChange: this.handleChange.bind(this)
      })) : null);
    }
  }]), r;
}(import_react.default.Component);
eQ.propTypes = {
  color: M.string,
  onChange: M.func
};
function tZe(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function rZe(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, iZe(n.key), n);
  }
}
function nZe(e13, t, r) {
  return t && rZe(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function iZe(e13) {
  var t = oZe(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function oZe(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
function aZe(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  e13.prototype = Object.create(t && t.prototype, { constructor: { value: e13, writable: true, configurable: true } }), Object.defineProperty(e13, "prototype", { writable: false }), t && bk(e13, t);
}
function bk(e13, t) {
  return bk = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, i) {
    return n.__proto__ = i, n;
  }, bk(e13, t);
}
function sZe(e13) {
  var t = uZe();
  return function() {
    var n = JT(e13), i;
    if (t) {
      var o = JT(this).constructor;
      i = Reflect.construct(n, arguments, o);
    } else
      i = n.apply(this, arguments);
    return lZe(this, i);
  };
}
function lZe(e13, t) {
  if (t && (typeof t == "object" || typeof t == "function"))
    return t;
  if (t !== void 0)
    throw new TypeError("Derived constructors may only return object or undefined");
  return cZe(e13);
}
function cZe(e13) {
  if (e13 === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e13;
}
function uZe() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return false;
  if (typeof Proxy == "function")
    return true;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), true;
  } catch {
    return false;
  }
}
function JT(e13) {
  return JT = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(r) {
    return r.__proto__ || Object.getPrototypeOf(r);
  }, JT(e13);
}
var Tk = function(e13) {
  aZe(r, e13);
  var t = sZe(r);
  function r(n) {
    var i;
    return tZe(this, r), i = t.call(this, n), i.state = {
      colors: n.track.options.colorRange.slice()
    }, i;
  }
  return nZe(r, [{
    key: "handleColorsChanged",
    value: function(i) {
      this.setState({
        colors: i
      });
    }
  }, {
    key: "handleSubmit",
    value: function() {
      const i = this.props.track.options;
      i.colorRange = this.state.colors, this.props.onSubmit(this.props.track.options);
    }
    /**
     * Add a color to the end
     */
  }, {
    key: "handleAddColor",
    value: function() {
      this.setState((i) => ({
        colors: i.colors.concat(i.colors[i.colors.length - 1])
      }));
    }
    /**
     * Remove one of the colors from the color map
     */
  }, {
    key: "handleRemoveColor",
    value: function(i) {
      this.setState((o) => ({
        colors: o.colors.slice(0, i).concat(o.colors.slice(i + 1))
      }));
    }
  }, {
    key: "render",
    value: function() {
      const i = JSON.parse(JSON.stringify(this.props.track)), o = Object.assign(i, {
        options: {
          colorRange: this.state.colors
        }
      }), a = {
        editable: false,
        zoomFixed: true,
        views: [{
          uid: `hmo-${this.props.track.uid}`,
          initialXDomain: this.props.xScale ? this.props.xScale.domain() : [0, 1],
          initialYDomain: this.props.yScale ? this.props.yScale.domain() : [0, 1],
          tracks: {
            center: [o]
          },
          layout: {
            x: 0,
            y: 0,
            h: 12,
            w: 12,
            i: `hmo-${this.props.track.id}`
          }
        }]
      }, s = this.state.colors.map((u, c) => {
        const f = this.state.colors.length > 2 && c === this.state.colors.length - 1 ? import_react.default.createElement("div", {
          onClick: () => this.handleRemoveColor(c),
          style: {
            background: "white",
            position: "absolute",
            top: 0,
            right: 0,
            opacity: 1,
            width: 14,
            height: 14,
            borderRadius: 2,
            cursor: "pointer"
          }
        }, import_react.default.createElement("svg", {
          height: "10px",
          style: {
            position: "absolute",
            top: 2,
            right: 2,
            opacity: 0.5,
            width: 10,
            height: 10
          }
        }, import_react.default.createElement("use", {
          xlinkHref: "#cross"
        }))) : null;
        return (
          /* eslint-disable react/no-array-index-key */
          // Colors may be repeated, so the array index is the best choice here.
          import_react.default.createElement("div", {
            key: `l${c}`,
            style: {
              borderRadius: "1px",
              boxShadow: "0 0 0 1px #E5E5E5",
              position: "relative",
              outline: "none"
            }
          }, f, import_react.default.createElement(eQ, {
            key: c,
            color: this.state.colors[c],
            onChange: (h) => {
              this.setState((d) => {
                const p = d.colors.slice();
                return p[c] = h, {
                  colors: p
                };
              }, () => {
                this.handleColorsChanged(this.state.colors);
              });
            }
          }))
        );
      }).reverse(), l = this.state.colors.length < 10 ? import_react.default.createElement("div", {
        onClick: this.handleAddColor.bind(this),
        style: {
          position: "relative",
          outline: "none",
          height: "25px",
          padding: "5px",
          background: "#fff",
          borderRadius: "1px",
          boxShadow: "0 0 0 1px #E5E5E5",
          cursor: "pointer"
        }
      }, import_react.default.createElement("div", {
        style: {
          textAlign: "center",
          width: "32px",
          height: "14px"
        }
      }, import_react.default.createElement("svg", {
        height: "100%",
        style: {
          opacity: 0.5,
          margin: "auto",
          display: "block"
        },
        width: "10px"
      }, import_react.default.createElement("use", {
        xlinkHref: "#plus"
      })))) : null;
      return import_react.default.createElement(gy, {
        okayTitle: "Submit",
        onCancel: this.props.onCancel,
        onOkay: this.handleSubmit.bind(this),
        title: "Custom Color Map"
      }, import_react.default.createElement("table", {
        className: "table-track-options"
      }, import_react.default.createElement("thead", null), import_react.default.createElement("tbody", {
        style: {
          verticalAlign: "top"
        }
      }, import_react.default.createElement("tr", null, import_react.default.createElement("td", {
        className: "td-track-options"
      }, import_react.default.createElement("table", null, import_react.default.createElement("tbody", null, import_react.default.createElement("tr", null, import_react.default.createElement("td", {
        className: "td-track-options"
      }, "Preview")), import_react.default.createElement("tr", null, import_react.default.createElement("td", {
        className: "td-track-options"
      }, import_react.default.createElement("div", {
        style: {
          width: 200
        }
      }, import_react.default.createElement(Ay, {
        options: {
          bounded: false
        },
        viewConfig: a
      }))))))), import_react.default.createElement("td", {
        className: "td-track-options"
      }, import_react.default.createElement("table", null, import_react.default.createElement("tbody", null, import_react.default.createElement("tr", null, import_react.default.createElement("td", {
        className: "td-track-options"
      }, "Colors")), import_react.default.createElement("tr", null, import_react.default.createElement("td", {
        className: "td-track-options"
      }, l, import_react.default.createElement("div", {
        style: {
          position: "relative"
        }
      }, s))))))))));
    }
  }]), r;
}(import_react.default.Component);
Tk.propTypes = {
  handleCancel: M.func,
  onCancel: M.func,
  onSubmit: M.func,
  track: M.object,
  xScale: M.object,
  yScale: M.object
};
var g4 = (e13) => {
  if (!e13.header)
    return [];
  const t = e13.header.split("	"), r = [];
  for (let n = 0; n < t.length; n++)
    r.push({
      name: t[n],
      value: n + 1
    });
  return r;
};
var Gd = (e13, t = "", r = 1) => e13.reduce((n, i) => (n[i] = {
  name: `${i * r}${t}`,
  value: i
}, n), {});
var zi = {
  yes: {
    name: "Yes",
    value: true
  },
  no: {
    name: "No",
    value: false
  }
};
var Ur = {
  black: {
    name: "Black",
    value: "black"
  },
  blue: {
    name: "Blue",
    value: "blue"
  },
  brown: {
    name: "Brown",
    value: "brown"
  },
  cyan: {
    name: "Cyan",
    value: "cyan"
  },
  green: {
    name: "Green",
    value: "green"
  },
  grey: {
    name: "Grey",
    value: "grey"
  },
  orange: {
    name: "Orange",
    value: "orange"
  },
  purple: {
    name: "Purple",
    value: "purple"
  },
  turquoise: {
    name: "Turquoise",
    value: "turquoise"
  },
  red: {
    name: "Red",
    value: "red"
  },
  white: {
    name: "White",
    value: "white"
  }
};
var hZe = {
  use_stroke: {
    name: "Glyph color",
    value: "[glyph-color]"
  }
};
var Gm = Gd([1, 2, 3, 5, 8, 13, 21]);
var fZe = Object.assign(Gm, {
  none: {
    name: "none",
    value: "none"
  }
});
var $_ = Gd([0, 2, 4, 8, 16, 32, 64, 128, 256]);
var sl = Gd([0, 0.2, 0.4, 0.6, 0.8, 1], "%", 100);
var dZe = Gd([0.2, 0.4, 0.6, 0.8, 1], "%", 100);
var Mn = {
  axisLabelFormatting: {
    name: "Axis Label Formatting",
    inlineOptions: {
      normal: {
        name: "normal",
        value: "normal"
      },
      scientific: {
        name: "scientific",
        value: "scientific"
      }
    }
  },
  flipDiagonal: {
    name: "Flip Across Diagonal",
    inlineOptions: {
      none: {
        name: "No",
        value: "none"
      },
      yes: {
        name: "Yes",
        value: "yes"
      },
      copy: {
        name: "Copy",
        value: "copy"
      }
    }
  },
  heatmapValueScaling: {
    name: "Value Scaling",
    inlineOptions: {
      linear: {
        name: "Linear",
        value: "linear"
      },
      log: {
        name: "Log",
        value: "log"
      }
    }
  },
  valueScaling: {
    name: "Value Scaling",
    inlineOptions: {
      linear: {
        name: "Linear",
        value: "linear"
      },
      log: {
        name: "Log",
        value: "log"
      }
    }
  },
  extent: {
    name: "Extent",
    inlineOptions: {
      full: {
        name: "Full",
        value: "full"
      },
      upperRight: {
        name: "Upper Right",
        value: "upper-right"
      },
      lowerLeft: {
        name: "Lower Left",
        value: "lower-left"
      }
    }
  },
  labelLeftMargin: {
    name: "Label Left Margin",
    inlineOptions: $_
  },
  labelRightMargin: {
    name: "Label Right Margin",
    inlineOptions: $_
  },
  labelTopMargin: {
    name: "Label Top Margin",
    inlineOptions: $_
  },
  labelBottomMargin: {
    name: "Label Bottom Margin",
    inlineOptions: $_
  },
  labelShowResolution: {
    name: "Label Show Resolution",
    inlineOptions: zi
  },
  labelShowAssembly: {
    name: "Label Show Assembly",
    inlineOptions: zi
  },
  lineStrokeWidth: {
    name: "Stroke Width",
    inlineOptions: Gm
  },
  strokeWidth: {
    name: "Stroke Width",
    inlineOptions: Gm
  },
  trackBorderWidth: {
    name: "Track Border Width",
    inlineOptions: Gm
  },
  separatePlusMinusStrands: {
    name: "Separate +/- strands",
    inlineOptions: zi
  },
  sortLargestOnTop: {
    name: "Sort Largest On Top",
    inlineOptions: zi
  },
  showTexts: {
    name: "Show texts",
    inlineOptions: zi
  },
  staggered: {
    name: "Staggered",
    inlineOptions: zi
  },
  minSquareSize: {
    name: "Minimum size",
    inlineOptions: fZe
  },
  pointSize: {
    name: "Point Size",
    inlineOptions: Gm
  },
  pointColor: {
    name: "Point Color",
    inlineOptions: Ur
  },
  trackBorderColor: {
    name: "Track Border Color",
    inlineOptions: Ur
  },
  backgroundColor: {
    name: "Background Color",
    inlineOptions: {
      white: {
        name: "White",
        value: "white"
      },
      lightGrey: {
        name: "Light Grey",
        value: "#eeeeee"
      },
      grey: {
        name: "Grey",
        value: "#cccccc"
      },
      black: {
        name: "Black",
        value: "black"
      },
      transparent: {
        name: "Transparent",
        value: "transparent"
      }
    }
  },
  colorScale: {
    name: "Color Scale",
    inlineOptions: {
      epilogos: {
        name: "Epilogos",
        values: ["#FF0000", "#FF4500", "#32CD32", "#008000", "#006400", "#C2E105", "#FFFF00", "#66CDAA", "#8A91D0", "#CD5C5C", "#E9967A", "#BDB76B", "#808080", "#C0C0C0", "#FFFFFF"]
      },
      category10: {
        name: "D3 Category10",
        values: ["#1F77B4", "#FF7F0E", "#2CA02C", "#D62728", "#9467BD", "#8C564B", "#E377C2", "#7F7F7F", "#BCBD22", "#17BECF"]
      }
    }
  },
  minusStrandColor: {
    name: "- Strand Color",
    inlineOptions: Ur
  },
  plusStrandColor: {
    name: "+ Strand Color",
    inlineOptions: Ur
  },
  lineStrokeColor: {
    name: "Stroke color",
    inlineOptions: Ur
  },
  projectionStrokeColor: {
    name: "Stroke color",
    inlineOptions: Ur
  },
  projectionFillColor: {
    name: "Fill color",
    inlineOptions: Ur
  },
  stroke: {
    name: "Stroke Color",
    inlineOptions: Ur
  },
  strokeColor: {
    name: "Stroke color",
    inlineOptions: Ur
  },
  fill: {
    name: "Fill Color",
    inlineOptions: Ur
  },
  color: {
    name: "Color",
    inlineOptions: Ur
  },
  fontColor: {
    name: "Font color",
    inlineOptions: Ur
  },
  fillColor: {
    name: "Fill color",
    inlineOptions: Ur
  },
  barFillColor: {
    name: "Fill color",
    inlineOptions: Ur
  },
  barFillColorTop: {
    name: "Top Fill color",
    inlineOptions: Ur
  },
  barFillColorBottom: {
    name: "Bottom Fill color",
    inlineOptions: Ur
  },
  barOpacity: {
    name: "Bar opacity",
    inlineOptions: sl
  },
  zeroLineVisible: {
    name: "Zero line visible",
    inlineOptions: zi
  },
  zeroLineColor: {
    name: "Zero line color",
    inlineOptions: Ur
  },
  zeroLineOpacity: {
    name: "Zero line opacity",
    inlineOptions: dZe
  },
  fillOpacity: {
    name: "Fill Opacity",
    inlineOptions: sl
  },
  strokeOpacity: {
    name: "Stroke Opacity",
    inlineOptions: sl
  },
  strokePos: {
    name: "Stroke Position",
    inlineOptions: {
      aroundInner: {
        name: "Around Inner",
        value: "around"
      },
      aroundCenter: {
        name: "Around Center",
        value: null
      },
      hidden: {
        name: "Hidden",
        value: "hidden"
      },
      top: {
        name: "Top",
        value: "top"
      },
      right: {
        name: "Right",
        value: "right"
      },
      bottom: {
        name: "Bottom",
        value: "bottom"
      },
      left: {
        name: "Left",
        value: "left"
      }
    }
  },
  barBorder: {
    name: "Bar border",
    inlineOptions: zi
  },
  scaledHeight: {
    name: "Scaled height",
    inlineOptions: zi
  },
  rectangleDomainStrokeColor: {
    name: "Stroke color",
    inlineOptions: Ur
  },
  rectangleDomainFillColor: {
    name: "Fill color",
    inlineOptions: Ur
  },
  rectangleDomainFillOpacity: {
    name: "Fill opacity",
    inlineOptions: sl
  },
  rectangleDomainOpacity: {
    name: "Opacity",
    inlineOptions: sl
  },
  mapboxStyle: {
    name: "Map style",
    inlineOptions: {
      streets: {
        name: "streets",
        value: "mapbox.streets"
      },
      light: {
        name: "light",
        value: "mapbox.light"
      },
      dark: {
        name: "dark",
        value: "mapbox.dark"
      },
      satellite: {
        name: "satellite",
        value: "mapbox.satellite"
      },
      "streets-satellite": {
        name: "streets-satellite",
        value: "mapbox.streets-satellite"
      },
      wheatpaste: {
        name: "wheatpaste",
        value: "mapbox.wheatpaste"
      },
      "streets-basic": {
        name: "streets-basic",
        value: "mapbox.streets-basic"
      },
      comic: {
        name: "comic",
        value: "mapbox.comic"
      },
      outdoors: {
        name: "outdoors",
        value: "mapbox.outdoors"
      },
      "run-bike-hike": {
        name: "run-bike-hike",
        value: "mapbox.run-bike-hike"
      },
      pencil: {
        name: "pencil",
        value: "mapbox.pencil"
      },
      pirates: {
        name: "pirates",
        value: "mapbox.pirates"
      },
      emerald: {
        name: "emerald",
        value: "mapbox.emerald"
      },
      "high-contrast": {
        name: "high-contrast",
        value: "mapbox.high-contrast"
      }
    }
  },
  oneDHeatmapFlipped: {
    name: "Flip Heatmap",
    inlineOptions: {
      yes: {
        name: "Yes",
        value: "yes"
      },
      no: {
        name: "No",
        value: null
      }
    }
  },
  showMousePosition: {
    name: "Show Mouse Position",
    inlineOptions: zi
  },
  showTooltip: {
    name: "Show Tooltip",
    inlineOptions: zi
  },
  fontSize: {
    name: "Font Size",
    inlineOptions: Gd([8, 9, 10, 11, 12, 14, 16, 18, 24], "px")
  },
  tickPositions: {
    name: "Tick Positions",
    inlineOptions: {
      even: {
        name: "Even",
        value: "even"
      },
      ends: {
        name: "Ends",
        value: "ends"
      }
    }
  },
  tickFormat: {
    name: "Tick Format",
    inlineOptions: {
      plain: {
        name: "Plain",
        value: "plain"
      },
      si: {
        name: "SI",
        value: "si"
      }
    }
  },
  colorEncoding: {
    name: "Color Encode Annotations",
    inlineOptions: {
      none: {
        name: "None",
        value: null
      },
      itemRgb: {
        name: "itemRgb",
        value: "itemRgb"
      }
    },
    generateOptions: g4
  },
  fontIsAligned: {
    name: "Left-Align Font",
    inlineOptions: zi
  },
  axisPositionHorizontal: {
    name: "Axis Position",
    inlineOptions: {
      left: {
        name: "Left",
        value: "left"
      },
      outsideLeft: {
        name: "Outside left",
        value: "outsideLeft"
      },
      right: {
        name: "Right",
        value: "right"
      },
      outsideRight: {
        name: "Outside right",
        value: "outsideRight"
      },
      hidden: {
        name: "Hidden",
        value: null
      }
    }
  },
  axisPositionVertical: {
    name: "Axis Position",
    inlineOptions: {
      top: {
        name: "Top",
        value: "top"
      },
      outsideTop: {
        name: "Outside top",
        value: "outsideTop"
      },
      bottom: {
        name: "Bottom",
        value: "bottom"
      },
      outsideBottom: {
        name: "Outside bottom",
        value: "outsideBottom"
      },
      hidden: {
        name: "Hidden",
        value: null
      }
    }
  },
  axisMargin: {
    name: "Axis Margin",
    inlineOptions: Gd([0, 10, 20, 30, 40, 50, 100, 200, 400], "px")
  },
  colorbarPosition: {
    name: "Colorbar Position",
    inlineOptions: {
      topLeft: {
        name: "Top Left",
        value: "topLeft"
      },
      topRight: {
        name: "Top Right",
        value: "topRight"
      },
      bottomLeft: {
        name: "Bottom Left",
        value: "bottomLeft"
      },
      bottomRight: {
        name: "Bottom Right",
        value: "bottomRight"
      },
      hidden: {
        name: "Hidden",
        value: null
      }
    }
  },
  colorbarBackgroundColor: {
    name: "Colorbar Background Color",
    inlineOptions: Ur
  },
  colorbarBackgroundOpacity: {
    name: "Colorbar Background Opacity",
    inlineOptions: sl
  },
  /*
  colorbarOrientation: {
    name: 'Colorbar Orientation',
    inlineOptions: {
      'horizontal': { name: 'Horizontal', value: 'horizontal' },
      'vertical': { name: 'Vertical', value: 'vertical' },
    }
  },
  */
  // This will default to 'inside' if it's not set when colorbarPosition
  // is set
  colorbarLabelsPosition: {
    name: "Colorbar Labels Position",
    inlineOptions: {
      inside: {
        name: "Inside",
        value: "inside"
      },
      outside: {
        name: "Outside",
        value: "outside"
      }
    }
  },
  labelColor: {
    name: "Label Color",
    inlineOptions: {
      ...Ur,
      ...hZe
    }
  },
  labelPosition: {
    name: "Label Position",
    inlineOptions: {
      ol: {
        name: "Outer left",
        value: "outerLeft"
      },
      or: {
        name: "Outer right",
        value: "outerRight"
      },
      ot: {
        name: "Outer top",
        value: "outerTop"
      },
      ob: {
        name: "Outer bottom",
        value: "outerBottom"
      },
      tl: {
        name: "Top left",
        value: "topLeft"
      },
      tr: {
        name: "Top right",
        value: "topRight"
      },
      bl: {
        name: "Bottom left",
        value: "bottomLeft"
      },
      br: {
        name: "Bottom right",
        value: "bottomRight"
      },
      hidden: {
        name: "Hidden",
        value: "hidden"
      }
    }
  },
  labelTextOpacity: {
    name: "Label Text Opacity",
    inlineOptions: sl
  },
  geneAnnotationHeight: {
    name: "Gene Annotation Height",
    inlineOptions: {
      8: {
        name: "8px",
        value: 8
      },
      10: {
        name: "10px",
        value: 10
      },
      12: {
        name: "12px",
        value: 12
      },
      16: {
        name: "16px",
        value: 16
      }
    }
  },
  annotationHeight: {
    name: "Annotation Height",
    inlineOptions: {
      5: {
        name: "5px",
        value: 5
      },
      8: {
        name: "8px",
        value: 8
      },
      10: {
        name: "10px",
        value: 10
      },
      12: {
        name: "12px",
        value: 12
      },
      16: {
        name: "16px",
        value: 16
      },
      20: {
        name: "20px",
        value: 20
      },
      scaled: {
        name: "scaled",
        value: "scaled"
      }
    }
  },
  maxAnnotationHeight: {
    name: "Max Annotation Height",
    inlineOptions: {
      5: {
        name: "5px",
        value: 5
      },
      8: {
        name: "8px",
        value: 8
      },
      10: {
        name: "10px",
        value: 10
      },
      12: {
        name: "12px",
        value: 12
      },
      16: {
        name: "16px",
        value: 16
      },
      20: {
        name: "20px",
        value: 20
      },
      none: {
        name: "none",
        value: null
      }
    }
  },
  annotationStyle: {
    name: "Annotation Style",
    inlineOptions: {
      box: {
        name: "Box",
        value: "box"
      },
      segment: {
        name: "Segment",
        value: "segment"
      }
    }
  },
  geneLabelPosition: {
    name: "Gene Label Position",
    inlineOptions: {
      inside: {
        name: "Inside",
        value: "inside"
      },
      outside: {
        name: "Outside",
        value: "outside"
      }
    }
  },
  geneStrandSpacing: {
    name: "Gene Strand Spacing",
    inlineOptions: {
      2: {
        name: "2px",
        value: 2
      },
      4: {
        name: "4px",
        value: 4
      },
      8: {
        name: "8px",
        value: 8
      }
    }
  },
  labelBackgroundColor: {
    name: "Label Background Color",
    inlineOptions: Ur
  },
  labelBackgroundOpacity: {
    name: "Label Background Opacity",
    inlineOptions: sl
  },
  viewResolution: {
    name: "View Resolution",
    inlineOptions: {
      high: {
        name: "High",
        value: 384
      },
      medium: {
        name: "Medium",
        value: 1024
      },
      low: {
        name: "Low",
        value: 2048
      }
    }
  },
  // colormaps are mostly taken from here:
  // http://matplotlib.org/api/pyplot_summary.html?highlight=colormaps#matplotlib.pyplot.colormaps
  colorRange: {
    name: "Color map",
    inlineOptions: {
      afmhot: {
        name: "afmhot",
        value: ["rgba(0,0,0,1.0)", "rgba(128,0,0,1.0)", "rgba(256,129,1,1.0)", "rgba(256,256,129,1.0)", "rgba(256,256,256,1.0)"]
      },
      fall: {
        name: "fall",
        value: ["white", "rgba(245,166,35,1.0)", "rgba(208,2,27,1.0)", "black"]
      },
      hot: {
        name: "hot",
        value: ["rgba(10,0,0,1.0)", "rgba(179,0,0,1.0)", "rgba(256,91,0,1.0)", "rgba(256,256,6,1.0)", "rgba(256,256,256,1.0)"]
      },
      jet: {
        name: "jet",
        value: ["rgba(0,0,128,1.0)", "rgba(0,129,256,1.0)", "rgba(125,256,122,1.0)", "rgba(256,148,0,1.0)", "rgba(128,0,0,1.0)"]
      },
      bwr: {
        name: "bwr",
        value: ["rgba(0,0,256,1.0)", "rgba(128,128,256,1.0)", "rgba(256,254,254,1.0)", "rgba(256,126,126,1.0)", "rgba(256,0,0,1.0)"]
      },
      cubehelix: {
        name: "cubehelix",
        value: ["rgba(0,0,0,1.0)", "rgba(21,83,76,1.0)", "rgba(162,121,74,1.0)", "rgba(199,180,238,1.0)", "rgba(256,256,256,1.0)"]
      },
      rainbow: {
        name: "rainbow",
        value: ["rgba(128,0,256,1.0)", "rgba(0,181,236,1.0)", "rgba(129,255,180,1.0)", "rgba(256,179,96,1.0)", "rgba(256,0,0,1.0)"]
      },
      gray: {
        name: "greys",
        value: ["rgba(255,255,255,1)", "rgba(0,0,0,1)"]
      },
      red: {
        name: "White to red",
        value: ["rgba(255,255,255,1)", "rgba(255,0,0,1)"]
      },
      green: {
        name: "White to green",
        value: ["rgba(255,255,255,1)", "rgba(0,255,0,1)"]
      },
      blue: {
        name: "White to blue",
        value: ["rgba(255,255,255,1)", "rgba(0,0,255,1)"]
      },
      custard: {
        name: "custard",
        value: ["#FFFFFF", "#F8E71C", "rgba(245,166,35,1)", "rgba(0,0,0,1)"]
      },
      magma: {
        name: "magma",
        value: ["rgba(0,0,3,1)", "rgba(0,0,4,1)", "rgba(0,0,6,1)", "rgba(1,0,7,1)", "rgba(1,1,9,1)", "rgba(1,1,11,1)", "rgba(2,2,13,1)", "rgba(2,2,15,1)", "rgba(3,3,17,1)", "rgba(4,3,19,1)", "rgba(4,4,21,1)", "rgba(5,4,23,1)", "rgba(6,5,25,1)", "rgba(7,5,27,1)", "rgba(8,6,29,1)", "rgba(9,7,32,1)", "rgba(10,7,34,1)", "rgba(11,8,36,1)", "rgba(12,9,38,1)", "rgba(13,10,40,1)", "rgba(14,10,42,1)", "rgba(15,11,45,1)", "rgba(16,12,47,1)", "rgba(17,12,49,1)", "rgba(19,13,51,1)", "rgba(20,13,54,1)", "rgba(21,14,56,1)", "rgba(22,14,58,1)", "rgba(23,15,61,1)", "rgba(25,15,63,1)", "rgba(26,16,66,1)", "rgba(27,16,68,1)", "rgba(28,16,70,1)", "rgba(30,17,73,1)", "rgba(31,17,75,1)", "rgba(33,17,78,1)", "rgba(34,17,80,1)", "rgba(36,17,83,1)", "rgba(37,17,85,1)", "rgba(39,17,87,1)", "rgba(40,17,90,1)", "rgba(42,17,92,1)", "rgba(43,17,94,1)", "rgba(45,17,97,1)", "rgba(47,16,99,1)", "rgba(49,16,101,1)", "rgba(50,16,103,1)", "rgba(52,16,105,1)", "rgba(54,15,107,1)", "rgba(55,15,108,1)", "rgba(57,15,110,1)", "rgba(59,15,112,1)", "rgba(61,15,113,1)", "rgba(62,15,114,1)", "rgba(64,15,116,1)", "rgba(66,15,117,1)", "rgba(67,15,118,1)", "rgba(69,15,119,1)", "rgba(71,15,120,1)", "rgba(72,16,120,1)", "rgba(74,16,121,1)", "rgba(76,16,122,1)", "rgba(77,17,123,1)", "rgba(79,17,123,1)", "rgba(81,18,124,1)", "rgba(82,18,124,1)", "rgba(84,19,125,1)", "rgba(85,20,125,1)", "rgba(87,20,126,1)", "rgba(88,21,126,1)", "rgba(90,21,126,1)", "rgba(92,22,127,1)", "rgba(93,23,127,1)", "rgba(95,23,127,1)", "rgba(96,24,128,1)", "rgba(98,25,128,1)", "rgba(99,25,128,1)", "rgba(101,26,128,1)", "rgba(103,26,128,1)", "rgba(104,27,129,1)", "rgba(106,28,129,1)", "rgba(107,28,129,1)", "rgba(109,29,129,1)", "rgba(110,30,129,1)", "rgba(112,30,129,1)", "rgba(113,31,129,1)", "rgba(115,32,129,1)", "rgba(117,32,129,1)", "rgba(118,33,129,1)", "rgba(120,33,129,1)", "rgba(121,34,130,1)", "rgba(123,35,130,1)", "rgba(124,35,130,1)", "rgba(126,36,130,1)", "rgba(128,36,130,1)", "rgba(129,37,129,1)", "rgba(131,37,129,1)", "rgba(132,38,129,1)", "rgba(134,39,129,1)", "rgba(136,39,129,1)", "rgba(137,40,129,1)", "rgba(139,40,129,1)", "rgba(140,41,129,1)", "rgba(142,41,129,1)", "rgba(144,42,129,1)", "rgba(145,42,129,1)", "rgba(147,43,128,1)", "rgba(148,43,128,1)", "rgba(150,44,128,1)", "rgba(152,44,128,1)", "rgba(153,45,128,1)", "rgba(155,46,127,1)", "rgba(157,46,127,1)", "rgba(158,47,127,1)", "rgba(160,47,127,1)", "rgba(161,48,126,1)", "rgba(163,48,126,1)", "rgba(165,49,126,1)", "rgba(166,49,125,1)", "rgba(168,50,125,1)", "rgba(170,50,125,1)", "rgba(171,51,124,1)", "rgba(173,51,124,1)", "rgba(175,52,123,1)", "rgba(176,52,123,1)", "rgba(178,53,123,1)", "rgba(180,53,122,1)", "rgba(181,54,122,1)", "rgba(183,55,121,1)", "rgba(185,55,121,1)", "rgba(186,56,120,1)", "rgba(188,56,120,1)", "rgba(189,57,119,1)", "rgba(191,57,118,1)", "rgba(193,58,118,1)", "rgba(194,59,117,1)", "rgba(196,59,117,1)", "rgba(198,60,116,1)", "rgba(199,61,115,1)", "rgba(201,61,115,1)", "rgba(202,62,114,1)", "rgba(204,63,113,1)", "rgba(206,63,113,1)", "rgba(207,64,112,1)", "rgba(209,65,111,1)", "rgba(210,66,110,1)", "rgba(212,67,110,1)", "rgba(213,67,109,1)", "rgba(215,68,108,1)", "rgba(216,69,107,1)", "rgba(218,70,107,1)", "rgba(219,71,106,1)", "rgba(221,72,105,1)", "rgba(222,73,104,1)", "rgba(223,74,103,1)", "rgba(225,75,103,1)", "rgba(226,76,102,1)", "rgba(227,78,101,1)", "rgba(229,79,100,1)", "rgba(230,80,100,1)", "rgba(231,81,99,1)", "rgba(232,83,98,1)", "rgba(233,84,97,1)", "rgba(234,85,97,1)", "rgba(236,87,96,1)", "rgba(237,88,95,1)", "rgba(238,90,95,1)", "rgba(239,91,94,1)", "rgba(239,93,94,1)", "rgba(240,95,93,1)", "rgba(241,96,93,1)", "rgba(242,98,93,1)", "rgba(243,100,92,1)", "rgba(243,101,92,1)", "rgba(244,103,92,1)", "rgba(245,105,92,1)", "rgba(246,107,92,1)", "rgba(246,108,92,1)", "rgba(247,110,92,1)", "rgba(247,112,92,1)", "rgba(248,114,92,1)", "rgba(248,116,92,1)", "rgba(249,118,92,1)", "rgba(249,120,92,1)", "rgba(250,121,93,1)", "rgba(250,123,93,1)", "rgba(250,125,94,1)", "rgba(251,127,94,1)", "rgba(251,129,95,1)", "rgba(251,131,95,1)", "rgba(252,133,96,1)", "rgba(252,135,97,1)", "rgba(252,137,97,1)", "rgba(252,139,98,1)", "rgba(253,140,99,1)", "rgba(253,142,100,1)", "rgba(253,144,101,1)", "rgba(253,146,102,1)", "rgba(253,148,103,1)", "rgba(254,150,104,1)", "rgba(254,152,105,1)", "rgba(254,154,106,1)", "rgba(254,156,107,1)", "rgba(254,157,108,1)", "rgba(254,159,109,1)", "rgba(254,161,110,1)", "rgba(254,163,111,1)", "rgba(254,165,112,1)", "rgba(255,167,114,1)", "rgba(255,169,115,1)", "rgba(255,171,116,1)", "rgba(255,172,118,1)", "rgba(255,174,119,1)", "rgba(255,176,120,1)", "rgba(255,178,122,1)", "rgba(255,180,123,1)", "rgba(255,182,124,1)", "rgba(255,184,126,1)", "rgba(255,185,127,1)", "rgba(255,187,129,1)", "rgba(255,189,130,1)", "rgba(255,191,132,1)", "rgba(255,193,133,1)", "rgba(255,195,135,1)", "rgba(255,197,136,1)", "rgba(255,198,138,1)", "rgba(255,200,140,1)", "rgba(255,202,141,1)", "rgba(255,204,143,1)", "rgba(254,206,144,1)", "rgba(254,208,146,1)", "rgba(254,209,148,1)", "rgba(254,211,149,1)", "rgba(254,213,151,1)", "rgba(254,215,153,1)", "rgba(254,217,155,1)", "rgba(254,219,156,1)", "rgba(254,220,158,1)", "rgba(254,222,160,1)", "rgba(254,224,162,1)", "rgba(254,226,163,1)", "rgba(253,228,165,1)", "rgba(253,230,167,1)", "rgba(253,231,169,1)", "rgba(253,233,171,1)", "rgba(253,235,172,1)", "rgba(253,237,174,1)", "rgba(253,239,176,1)", "rgba(253,241,178,1)", "rgba(253,242,180,1)", "rgba(253,244,182,1)", "rgba(253,246,184,1)", "rgba(252,248,186,1)", "rgba(252,250,188,1)", "rgba(252,251,189,1)", "rgba(252,253,191,1)"]
      },
      viridis: {
        name: "viridis",
        value: ["rgba(68,1,84,1)", "rgba(68,2,85,1)", "rgba(69,3,87,1)", "rgba(69,5,88,1)", "rgba(69,6,90,1)", "rgba(70,8,91,1)", "rgba(70,9,93,1)", "rgba(70,11,94,1)", "rgba(70,12,96,1)", "rgba(71,14,97,1)", "rgba(71,15,98,1)", "rgba(71,17,100,1)", "rgba(71,18,101,1)", "rgba(71,20,102,1)", "rgba(72,21,104,1)", "rgba(72,22,105,1)", "rgba(72,24,106,1)", "rgba(72,25,108,1)", "rgba(72,26,109,1)", "rgba(72,28,110,1)", "rgba(72,29,111,1)", "rgba(72,30,112,1)", "rgba(72,32,113,1)", "rgba(72,33,115,1)", "rgba(72,34,116,1)", "rgba(72,36,117,1)", "rgba(72,37,118,1)", "rgba(72,38,119,1)", "rgba(72,39,120,1)", "rgba(71,41,121,1)", "rgba(71,42,121,1)", "rgba(71,43,122,1)", "rgba(71,44,123,1)", "rgba(71,46,124,1)", "rgba(70,47,125,1)", "rgba(70,48,126,1)", "rgba(70,49,126,1)", "rgba(70,51,127,1)", "rgba(69,52,128,1)", "rgba(69,53,129,1)", "rgba(69,54,129,1)", "rgba(68,56,130,1)", "rgba(68,57,131,1)", "rgba(68,58,131,1)", "rgba(67,59,132,1)", "rgba(67,60,132,1)", "rgba(67,62,133,1)", "rgba(66,63,133,1)", "rgba(66,64,134,1)", "rgba(65,65,134,1)", "rgba(65,66,135,1)", "rgba(65,67,135,1)", "rgba(64,69,136,1)", "rgba(64,70,136,1)", "rgba(63,71,136,1)", "rgba(63,72,137,1)", "rgba(62,73,137,1)", "rgba(62,74,137,1)", "rgba(61,75,138,1)", "rgba(61,77,138,1)", "rgba(60,78,138,1)", "rgba(60,79,138,1)", "rgba(59,80,139,1)", "rgba(59,81,139,1)", "rgba(58,82,139,1)", "rgba(58,83,139,1)", "rgba(57,84,140,1)", "rgba(57,85,140,1)", "rgba(56,86,140,1)", "rgba(56,87,140,1)", "rgba(55,88,140,1)", "rgba(55,89,140,1)", "rgba(54,91,141,1)", "rgba(54,92,141,1)", "rgba(53,93,141,1)", "rgba(53,94,141,1)", "rgba(52,95,141,1)", "rgba(52,96,141,1)", "rgba(51,97,141,1)", "rgba(51,98,141,1)", "rgba(51,99,141,1)", "rgba(50,100,142,1)", "rgba(50,101,142,1)", "rgba(49,102,142,1)", "rgba(49,103,142,1)", "rgba(48,104,142,1)", "rgba(48,105,142,1)", "rgba(47,106,142,1)", "rgba(47,107,142,1)", "rgba(47,108,142,1)", "rgba(46,109,142,1)", "rgba(46,110,142,1)", "rgba(45,111,142,1)", "rgba(45,112,142,1)", "rgba(45,112,142,1)", "rgba(44,113,142,1)", "rgba(44,114,142,1)", "rgba(43,115,142,1)", "rgba(43,116,142,1)", "rgba(43,117,142,1)", "rgba(42,118,142,1)", "rgba(42,119,142,1)", "rgba(41,120,142,1)", "rgba(41,121,142,1)", "rgba(41,122,142,1)", "rgba(40,123,142,1)", "rgba(40,124,142,1)", "rgba(40,125,142,1)", "rgba(39,126,142,1)", "rgba(39,127,142,1)", "rgba(38,128,142,1)", "rgba(38,129,142,1)", "rgba(38,130,142,1)", "rgba(37,131,142,1)", "rgba(37,131,142,1)", "rgba(37,132,142,1)", "rgba(36,133,142,1)", "rgba(36,134,142,1)", "rgba(35,135,142,1)", "rgba(35,136,142,1)", "rgba(35,137,142,1)", "rgba(34,138,141,1)", "rgba(34,139,141,1)", "rgba(34,140,141,1)", "rgba(33,141,141,1)", "rgba(33,142,141,1)", "rgba(33,143,141,1)", "rgba(32,144,141,1)", "rgba(32,145,140,1)", "rgba(32,146,140,1)", "rgba(32,147,140,1)", "rgba(31,147,140,1)", "rgba(31,148,140,1)", "rgba(31,149,139,1)", "rgba(31,150,139,1)", "rgba(31,151,139,1)", "rgba(30,152,139,1)", "rgba(30,153,138,1)", "rgba(30,154,138,1)", "rgba(30,155,138,1)", "rgba(30,156,137,1)", "rgba(30,157,137,1)", "rgba(30,158,137,1)", "rgba(30,159,136,1)", "rgba(30,160,136,1)", "rgba(31,161,136,1)", "rgba(31,162,135,1)", "rgba(31,163,135,1)", "rgba(31,163,134,1)", "rgba(32,164,134,1)", "rgba(32,165,134,1)", "rgba(33,166,133,1)", "rgba(33,167,133,1)", "rgba(34,168,132,1)", "rgba(35,169,131,1)", "rgba(35,170,131,1)", "rgba(36,171,130,1)", "rgba(37,172,130,1)", "rgba(38,173,129,1)", "rgba(39,174,129,1)", "rgba(40,175,128,1)", "rgba(41,175,127,1)", "rgba(42,176,127,1)", "rgba(43,177,126,1)", "rgba(44,178,125,1)", "rgba(46,179,124,1)", "rgba(47,180,124,1)", "rgba(48,181,123,1)", "rgba(50,182,122,1)", "rgba(51,183,121,1)", "rgba(53,183,121,1)", "rgba(54,184,120,1)", "rgba(56,185,119,1)", "rgba(57,186,118,1)", "rgba(59,187,117,1)", "rgba(61,188,116,1)", "rgba(62,189,115,1)", "rgba(64,190,114,1)", "rgba(66,190,113,1)", "rgba(68,191,112,1)", "rgba(70,192,111,1)", "rgba(72,193,110,1)", "rgba(73,194,109,1)", "rgba(75,194,108,1)", "rgba(77,195,107,1)", "rgba(79,196,106,1)", "rgba(81,197,105,1)", "rgba(83,198,104,1)", "rgba(85,198,102,1)", "rgba(88,199,101,1)", "rgba(90,200,100,1)", "rgba(92,201,99,1)", "rgba(94,201,98,1)", "rgba(96,202,96,1)", "rgba(98,203,95,1)", "rgba(101,204,94,1)", "rgba(103,204,92,1)", "rgba(105,205,91,1)", "rgba(108,206,90,1)", "rgba(110,206,88,1)", "rgba(112,207,87,1)", "rgba(115,208,85,1)", "rgba(117,208,84,1)", "rgba(119,209,82,1)", "rgba(122,210,81,1)", "rgba(124,210,79,1)", "rgba(127,211,78,1)", "rgba(129,212,76,1)", "rgba(132,212,75,1)", "rgba(134,213,73,1)", "rgba(137,213,72,1)", "rgba(139,214,70,1)", "rgba(142,215,68,1)", "rgba(144,215,67,1)", "rgba(147,216,65,1)", "rgba(149,216,63,1)", "rgba(152,217,62,1)", "rgba(155,217,60,1)", "rgba(157,218,58,1)", "rgba(160,218,57,1)", "rgba(163,219,55,1)", "rgba(165,219,53,1)", "rgba(168,220,51,1)", "rgba(171,220,50,1)", "rgba(173,221,48,1)", "rgba(176,221,46,1)", "rgba(179,221,45,1)", "rgba(181,222,43,1)", "rgba(184,222,41,1)", "rgba(187,223,39,1)", "rgba(189,223,38,1)", "rgba(192,223,36,1)", "rgba(195,224,35,1)", "rgba(197,224,33,1)", "rgba(200,225,32,1)", "rgba(203,225,30,1)", "rgba(205,225,29,1)", "rgba(208,226,28,1)", "rgba(211,226,27,1)", "rgba(213,226,26,1)", "rgba(216,227,25,1)", "rgba(219,227,24,1)", "rgba(221,227,24,1)", "rgba(224,228,24,1)", "rgba(226,228,24,1)", "rgba(229,228,24,1)", "rgba(232,229,25,1)", "rgba(234,229,25,1)", "rgba(237,229,26,1)", "rgba(239,230,27,1)", "rgba(242,230,28,1)", "rgba(244,230,30,1)", "rgba(247,230,31,1)", "rgba(249,231,33,1)", "rgba(251,231,35,1)", "rgba(254,231,36,1)"]
      },
      custom: {
        name: "Custom...",
        componentPickers: {
          heatmap: Tk,
          "horizontal-heatmap": Tk
        }
      }
    }
  },
  align: {
    name: "Align",
    inlineOptions: {
      white: {
        name: "Top",
        value: "top"
      },
      lightGrey: {
        name: "Bottom",
        value: "bottom"
      }
    }
  },
  colorRangeGradient: {
    name: "Color Gradient",
    inlineOptions: zi
  },
  dataTransform: {
    name: "Transforms",
    inlineOptions: {
      default: {
        name: "Default",
        value: "default"
      },
      None: {
        name: "None",
        value: "None"
      }
    },
    generateOptions: (e13) => {
      const t = [];
      if (e13.transforms)
        for (const r of e13.transforms)
          t.push({
            name: r.name,
            value: r.value
          });
      return t;
    }
  },
  aggregationMode: {
    name: "Aggregation Mode",
    inlineOptions: {},
    generateOptions: (e13) => {
      const t = [];
      return e13.aggregationModes ? Object.values(e13.aggregationModes).forEach(({
        name: r,
        value: n
      }) => {
        t.push({
          name: r,
          value: n
        });
      }) : t.push({
        name: "Default",
        value: "default"
      }), t;
    }
  },
  maxZoom: {
    name: "Zoom limit",
    inlineOptions: {
      none: {
        name: "None",
        value: null
      }
    },
    generateOptions: (e13) => {
      if (e13.maxZoom) {
        const t = [];
        for (let r = 0; r <= e13.maxZoom; r++) {
          const {
            maxWidth: n,
            binsPerDimension: i,
            maxZoom: o
          } = e13;
          let a = 1, s = 1;
          if (e13.resolutions) {
            const f = e13.resolutions.map((h) => +h).sort((h, d) => d - h);
            [a] = f, s = f[r];
          } else
            s = e13.maxWidth / (2 ** r * e13.binsPerDimension), a = n / (2 ** o * i);
          const l = Qd(a, s), c = Xu(`.${l}`, s)(s);
          t.push({
            name: c,
            value: r.toString()
          });
        }
        return t;
      }
      return [];
    }
  },
  valueColumn: {
    name: "Value column",
    inlineOptions: {
      none: {
        name: "None",
        value: null
      }
    },
    generateOptions: g4
  },
  zeroValueColor: {
    name: "Zero Value Color",
    inlineOptions: Ur
  }
};
var tQ = {
  ...vde,
  IS_TRACK_RANGE_SELECTABLE: ep,
  OPTIONS_INFO: Mn
};
var pZe = {
  d3Array: ooe,
  d3Axis: B5e,
  d3Brush: rfe,
  d3Color: _oe,
  d3Drag: Nue,
  d3Dsv: Hde,
  d3Format: Woe,
  d3Geo: K6e,
  d3Queue: tze,
  d3Request: Tze,
  d3Scale: Ese,
  d3Selection: rie,
  d3Transition: Xke,
  d3Zoom: Jke,
  PIXI: tQ.GLOBALS.PIXI,
  mix: Tp,
  slugid: Gt
};
var mZe = {
  Annotations1dTrack: nx,
  Annotations2dTrack: Rq,
  ArrowheadDomainsTrack: kq,
  BarTrack: bM,
  BedLikeTrack: Sq,
  CNVIntervalTrack: Cq,
  Chromosome2DAnnotations: Bq,
  Chromosome2DLabels: Lq,
  ChromosomeGrid: Nm,
  CombinedTrack: VR,
  CrossRule: oK,
  DivergentBarTrack: Iq,
  HeatmapTiledPixiTrack: cy,
  Horizontal1dHeatmapTrack: Pq,
  Horizontal2DDomainsTrack: Nq,
  HorizontalChromosomeLabels: $q,
  HorizontalGeneAnnotationsTrack: xq,
  HorizontalHeatmapTrack: Hq,
  HorizontalLine1DPixiTrack: bp,
  HorizontalMultivecTrack: Oq,
  HorizontalPoint1DPixiTrack: Aq,
  HorizontalRule: Qq,
  HorizontalTiled1DPixiTrack: yp,
  HorizontalTiledPlot: VT,
  HorizontalTrack: nZ,
  Id2DTiledPixiTrack: FY,
  IdHorizontal1DTiledPixiTrack: HY,
  IdVertical1DTiledPixiTrack: jY,
  LeftAxisTrack: XY,
  MapboxTilesTrack: lK,
  MoveableTrack: wS,
  OSMTileIdsTrack: sK,
  OSMTilesTrack: hy,
  OverlayTrack: wq,
  PixiTrack: Ai,
  RasterTilesTrack: cK,
  SVGTrack: lh,
  SquareMarkersTrack: Mq,
  Tiled1DPixiTrack: hM,
  TiledPixiTrack: sh,
  TopAxisTrack: VY,
  Track: Df,
  ValueIntervalTrack: jq,
  VerticalRule: iK,
  VerticalTiled1DPixiTrack: UY,
  VerticalTrack: oZ,
  ViewportTracker2D: Gq,
  ViewportTracker2DPixi: q8e,
  ViewportTrackerHorizontal: zq,
  ViewportTrackerVertical: Vq
};
var gZe = {
  ContextMenuItem: Ct,
  DataFetcher: uS,
  LruCache: sZ
};
var vZe = {
  ChromosomeInfo: Ls,
  SearchField: Nd
};
var yZe = {
  DataFetcher: uS,
  GBKDataFetcher: NY,
  LocalDataFetcher: MY,
  getDataFetcher: LGe
};
var eE = {
  chromosomes: vZe,
  libraries: pZe,
  tracks: mZe,
  dataFetchers: yZe,
  factories: gZe,
  services: _pe,
  utils: gDe,
  configs: tQ,
  VERSION: lZ
};
var ZO = {
  "track-renderer": "_track-renderer_11dwb_1",
  "track-renderer-element": "_track-renderer-element_11dwb_5",
  "track-renderer-events": "_track-renderer-events_11dwb_6"
};
function _Ze(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function bZe(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, EZe(n.key), n);
  }
}
function TZe(e13, t, r) {
  return t && bZe(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function EZe(e13) {
  var t = SZe(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function SZe(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
function wZe(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  e13.prototype = Object.create(t && t.prototype, { constructor: { value: e13, writable: true, configurable: true } }), Object.defineProperty(e13, "prototype", { writable: false }), t && Ek(e13, t);
}
function Ek(e13, t) {
  return Ek = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, i) {
    return n.__proto__ = i, n;
  }, Ek(e13, t);
}
function AZe(e13) {
  var t = IZe();
  return function() {
    var n = tE(e13), i;
    if (t) {
      var o = tE(this).constructor;
      i = Reflect.construct(n, arguments, o);
    } else
      i = n.apply(this, arguments);
    return OZe(this, i);
  };
}
function OZe(e13, t) {
  if (t && (typeof t == "object" || typeof t == "function"))
    return t;
  if (t !== void 0)
    throw new TypeError("Derived constructors may only return object or undefined");
  return Lo(e13);
}
function Lo(e13) {
  if (e13 === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e13;
}
function IZe() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return false;
  if (typeof Proxy == "function")
    return true;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), true;
  } catch {
    return false;
  }
}
function tE(e13) {
  return tE = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(r) {
    return r.__proto__ || Object.getPrototypeOf(r);
  }, tE(e13);
}
var {
  getDataFetcher: PZe
} = eE.dataFetchers;
var CZe = 100;
var SL = function(e13) {
  wZe(r, e13);
  var t = AZe(r);
  function r(n) {
    var i;
    if (_Ze(this, r), i = t.call(this, n), i.dragging = false, i.element = null, i.eventTracker = null, i.eventTrackerOld = null, i.closing = false, i.yPositionOffset = 0, i.xPositionOffset = 0, i.scrollTop = 0, i.scrollTimeout = null, i.activeTransitions = 0, i.zoomTransform = En, i.windowScrolledBound = i.windowScrolled.bind(Lo(i)), i.zoomStartedBound = i.zoomStarted.bind(Lo(i)), i.zoomedBound = i.zoomed.bind(Lo(i)), i.zoomEndedBound = i.zoomEnded.bind(Lo(i)), i.uid = Gt.nice(), i.viewUid = i.props.uid, i.availableForPlugins = {
      ...eE,
      services: {
        ...eE.services,
        pubSub: i.props.pubSub,
        pixiRenderer: i.props.pixiRenderer
      }
    }, i.mounted = false, i.emptyZoomBehavior = uC(), i.currentProps = n, i.prevPropsStr = "", i.zoomBehavior = /** @type {import("d3-zoom").ZoomBehavior<HTMLElement, any>} */
    uC().filter((o) => !(o.target.classList.contains("no-zoom") || o.target.classList.contains("react-resizable-handle"))).on("start", i.zoomStartedBound).on("zoom", i.zoomedBound).on("end", i.zoomEndedBound), i.zoomTransform = En, i.prevZoomTransform = En, i.initialXDomain = [0, 1], i.initialYDomain = [0, 1], i.xDomainLimits = [-Number.MAX_SAFE_INTEGER, Number.MAX_SAFE_INTEGER], i.yDomainLimits = [-Number.MAX_SAFE_INTEGER, Number.MAX_SAFE_INTEGER], i.zoomLimits = [0, Number.MAX_SAFE_INTEGER], i.prevCenterX = i.currentProps.paddingLeft + i.currentProps.leftWidth + i.currentProps.centerWidth / 2, i.prevCenterY = i.currentProps.paddingTop + i.currentProps.topHeight + i.currentProps.centerHeight / 2, i.cumCenterXOffset = 0, i.cumCenterYOffset = 0, i.setUpInitialScales(i.currentProps.initialXDomain, i.currentProps.initialYDomain, i.currentProps.xDomainLimits, i.currentProps.yDomainLimits, i.currentProps.zoomLimits), i.setUpScales(), i.trackDefObjects = {}, i.metaTracks = {}, i.pubSubs = [], window.higlassTracksByType)
      for (const o in window.higlassTracksByType)
        Tr[o] = window.higlassTracksByType[o].config;
    return i.boundForwardEvent = i.forwardEvent.bind(Lo(i)), i.boundScrollEvent = i.scrollEvent.bind(Lo(i)), i.boundForwardContextMenu = i.forwardContextMenu.bind(Lo(i)), i.dispatchEventBound = i.dispatchEvent.bind(Lo(i)), i.zoomToDataPosHandlerBound = i.zoomToDataPosHandler.bind(Lo(i)), i.onScrollHandlerBound = i.onScrollHandler.bind(Lo(i)), i.elementPos = {
      height: 0,
      width: 0,
      left: 0,
      top: 0
    }, i.elementSelection = null, i;
  }
  return TZe(r, [{
    key: "xScale",
    get: function() {
      if (!this._xScale)
        throw new Error("xScale is not defined");
      return this._xScale;
    }
  }, {
    key: "yScale",
    get: function() {
      if (!this._yScale)
        throw new Error("yScale is not defined");
      return this._yScale;
    }
    // eslint-disable-next-line camelcase
  }, {
    key: "UNSAFE_componentWillMount",
    value: function() {
      this.pubSubs = [], this.pubSubs.push(this.props.pubSub.subscribe("scroll", this.windowScrolledBound)), this.pubSubs.push(this.props.pubSub.subscribe("app.event", this.dispatchEventBound)), this.pubSubs.push(this.props.pubSub.subscribe("zoomToDataPos", this.zoomToDataPosHandlerBound)), this.pubSubs.push(this.props.pubSub.subscribe("app.scroll", this.onScrollHandlerBound));
    }
  }, {
    key: "componentDidMount",
    value: function() {
      if (!this.element)
        throw new Error("Component did not mount, this.element is not defined.");
      if (this.elementPos = this.element.getBoundingClientRect(), this.elementSelection = Wt(this.element), this.pStage = new Ge.PIXI.Graphics(), this.pMask = new Ge.PIXI.Graphics(), this.pOutline = new Ge.PIXI.Graphics(), this.pBackground = new Ge.PIXI.Graphics(), this.pStage.addChild(this.pMask), this.pStage.addChild(this.pOutline), this.currentProps.pixiStage.addChild(this.pStage), this.pStage.mask = this.pMask, this.props.isRangeSelection || this.addZoom(), !this.currentProps.svgElement || !this.currentProps.canvasElement)
        return;
      this.svgElement = this.currentProps.svgElement, this.syncTrackObjects(this.currentProps.positionedTracks), this.syncMetaTracks(this.currentProps.metaTracks), this.currentProps.setCentersFunction(this.setCenter.bind(this)), this.currentProps.registerDraggingChangedListener(this.draggingChanged.bind(this)), this.draggingChanged(true), this.addEventTracker();
      const i = [[this.xScale(this.xDomainLimits[0]), this.yScale(this.yDomainLimits[0])], [this.xScale(this.xDomainLimits[1]), this.yScale(this.yDomainLimits[1])]], o = this.svgElement.getBoundingClientRect(), a = [[Math.max(i[0][0], 0), Math.max(i[0][1], 0)], [Math.min(i[1][0], o.width), Math.min(i[1][1], o.height)]];
      this.zoomBehavior.extent(a).translateExtent(i).scaleExtent(this.zoomLimits);
    }
    // eslint-disable-next-line camelcase
    /** @param {TrackRendererProps} nextProps */
  }, {
    key: "UNSAFE_componentWillReceiveProps",
    value: function(i) {
      if (!i.svgElement || !i.canvasElement)
        return;
      const o = this.updatablePropsToString(i);
      if (this.currentProps = i, this.prevPropsStr === o)
        return;
      this.setBackground();
      for (const u in this.trackDefObjects) {
        const c = this.trackDefObjects[u].trackObject;
        c.delayDrawing = true;
      }
      this.prevPropsStr = o, this.setUpInitialScales(i.initialXDomain, i.initialYDomain, i.xDomainLimits, i.yDomainLimits, i.zoomLimits), this.setUpScales(i.width !== this.props.width || i.height !== this.props.height), this.svgElement = i.svgElement;
      const a = [[this.xScale(this.xDomainLimits[0]), this.yScale(this.yDomainLimits[0])], [this.xScale(this.xDomainLimits[1]), this.yScale(this.yDomainLimits[1])]], s = this.svgElement.getBoundingClientRect(), l = [[Math.max(a[0][0], 0), Math.max(a[0][1], 0)], [Math.min(a[1][0], s.width), Math.min(a[1][1], s.height)]];
      this.zoomBehavior.extent(l).translateExtent(a).scaleExtent(this.zoomLimits), this.syncTrackObjects(i.positionedTracks), this.syncMetaTracks(i.metaTracks);
      for (const u of i.positionedTracks) {
        const c = u.track.options, f = this.trackDefObjects[u.track.uid].trackObject;
        if (f.rerender(c), rb(u.track)) {
          const h = {};
          for (const d of u.track.contents)
            h[d.uid] = d;
          for (const d in f.createdTracks)
            f.createdTracks[d].rerender(h[d].options);
        }
      }
      this.props.onNewTilesLoaded();
      for (const u in this.trackDefObjects) {
        const c = this.trackDefObjects[u].trackObject;
        c.delayDrawing = false, c.draw();
      }
    }
    /** @param {TrackRendererProps} prevProps */
  }, {
    key: "componentDidUpdate",
    value: function(i) {
      (this.props.initialXDomain[0] !== i.initialXDomain[0] || this.props.initialXDomain[1] !== i.initialXDomain[1] || this.props.initialYDomain[0] !== i.initialYDomain[0] || this.props.initialYDomain[1] !== i.initialYDomain[1]) && this.element && (this.element.__zoom = En), i.isRangeSelection !== this.props.isRangeSelection && (this.props.isRangeSelection ? this.removeZoom() : this.addZoom()), i.zoomable !== this.props.zoomable && (this.props.zoomable ? this.addZoom() : this.removeZoom()), this.addEventTracker();
    }
  }, {
    key: "componentWillUnmount",
    value: function() {
      var i, o;
      this.mounted = false, this.removeTracks(Object.keys(this.trackDefObjects)), this.removeMetaTracks(Object.keys(this.metaTracks)), this.currentProps.removeDraggingChangedListener(this.draggingChanged), this.pStage && this.currentProps.pixiStage.removeChild(this.pStage), (i = this.pMask) == null || i.destroy(true), (o = this.pStage) == null || o.destroy(true), this.pubSubs.forEach((a) => this.props.pubSub.unsubscribe(a)), this.pubSubs = [], this.removeEventTracker();
    }
    /* --------------------------- Custom Methods ----------------------------- */
    /**
     * Dispatch a forwarded event on the main DOM element
     *
     * @param  {Event & { sourceUid: string, type: string }} event Event to be dispatched.
     */
  }, {
    key: "dispatchEvent",
    value: function(i) {
      i.sourceUid === this.uid && i.type !== "contextmenu" && this.element && I0(i, this.element);
    }
    /**
     * Check of a view position (i.e., pixel coords) is within this view
     *
     * @param {number} x - X position to be tested.
     * @param {number} y - Y position to be tested.
     * @return {boolean} If `true` position is within this view.
     */
  }, {
    key: "isWithin",
    value: function(i, o) {
      const a = i >= this.elementPos.left && i <= this.elementPos.width + this.elementPos.left, s = o >= this.elementPos.top && o <= this.elementPos.height + this.elementPos.top;
      return a && s;
    }
    /** @param {{ pos: [number, number, number, number], animateTime: number }} opts */
  }, {
    key: "zoomToDataPosHandler",
    value: function({
      pos: i,
      animateTime: o
    }) {
      this.zoomToDataPos(...i, o);
    }
  }, {
    key: "addZoom",
    value: function() {
      !this.elementSelection || !this.currentProps.zoomable || (this.elementSelection.call(this.zoomBehavior), this.zoomBehavior.transform(this.elementSelection, this.zoomTransform));
    }
  }, {
    key: "removeZoom",
    value: function() {
      this.elementSelection && (this.zoomEnded(), this.elementSelection.on(".zoom", null));
    }
    /*
     * Add a mask to make sure that the tracks displayed in this view
     * don't overflow its bounds.
     */
  }, {
    key: "setMask",
    value: function() {
      var i, o, a, s;
      (i = this.pMask) == null || i.clear(), (o = this.pMask) == null || o.beginFill(), (a = this.pMask) == null || a.drawRect(this.xPositionOffset, this.yPositionOffset, this.currentProps.width, this.currentProps.height), (s = this.pMask) == null || s.endFill();
    }
  }, {
    key: "setBackground",
    value: function() {
      var i, o, a, s, l;
      const u = this.props.theme === wr ? "black" : "white", c = ct(((i = this.currentProps.viewOptions) == null ? void 0 : i.backgroundColor) ?? u);
      (o = this.pBackground) == null || o.clear(), (a = this.pBackground) == null || a.beginFill(c), (s = this.pBackground) == null || s.drawRect(this.xPositionOffset, this.yPositionOffset, this.currentProps.width, this.currentProps.height), (l = this.pBackground) == null || l.endFill();
    }
  }, {
    key: "windowScrolled",
    value: function() {
      this.removeZoom(), this.scrollTimeout && clearTimeout(this.scrollTimeout), this.scrollTimeout = setTimeout(() => {
        this.addZoom();
      }, CZe);
    }
    /**
     * @param {[number, number]} initialXDomain
     * @param {[number, number]} initialYDomain
     * @param {[number, number]} xDomainLimits
     * @param {[number, number]} yDomainLimits
     * @param {[number, number]} zoomLimits
     */
  }, {
    key: "setUpInitialScales",
    value: function(i = [0, 1], o = [0, 1], a = [-Number.MAX_SAFE_INTEGER, Number.MAX_SAFE_INTEGER], s = [-Number.MAX_SAFE_INTEGER, Number.MAX_SAFE_INTEGER], l = [0, Number.MAX_SAFE_INTEGER]) {
      l[0] = l[0] === null ? 0 : l[0], l[1] = l[1] === null ? 1 / 0 : l[1];
      const u = i[1] - i[0], c = (o[0] + o[1]) / 2;
      if (o[0] = c - u / 2, o[1] = c + u / 2, i[0] === this.initialXDomain[0] && i[1] === this.initialXDomain[1] && o[0] === this.initialYDomain[0] && o[1] === this.initialYDomain[1] && a[0] === this.xDomainLimits[0] && a[1] === this.xDomainLimits[1] && s[0] === this.yDomainLimits[0] && s[1] === this.yDomainLimits[1] && l[0] === this.zoomLimits[0] && l[1] === this.zoomLimits[1])
        return;
      this.initialXDomain = i, this.initialYDomain = o, this.xDomainLimits = a, this.yDomainLimits = s, this.zoomLimits = l, this.zoomTransform = En, this.prevZoomTransform = En, this.cumCenterYOffset = 0, this.cumCenterXOffset = 0, this.drawableToDomainX = It().domain([this.currentProps.paddingLeft + this.currentProps.leftWidth, this.currentProps.paddingLeft + this.currentProps.leftWidth + this.currentProps.centerWidth]).range([i[0], i[1]]);
      let f, h;
      this.currentProps.centerWidth === 0 ? (f = this.currentProps.paddingTop + this.currentProps.topHeight, h = this.currentProps.paddingTop + this.currentProps.topHeight + this.currentProps.centerHeight) : (f = this.currentProps.paddingTop + this.currentProps.topHeight + this.currentProps.centerHeight / 2 - this.currentProps.centerWidth / 2, h = this.currentProps.paddingTop + this.currentProps.topHeight + this.currentProps.centerHeight / 2 + this.currentProps.centerWidth / 2), this.drawableToDomainY = It().domain([f, h]).range([o[0], o[1]]), this.prevCenterX = this.currentProps.paddingLeft + this.currentProps.leftWidth + this.currentProps.centerWidth / 2, this.prevCenterY = this.currentProps.paddingTop + this.currentProps.topHeight + this.currentProps.centerHeight / 2;
    }
    /** @param {TrackRendererProps} props */
  }, {
    key: "updatablePropsToString",
    value: function(i) {
      return JSON.stringify({
        positionedTracks: i.positionedTracks,
        initialXDomain: i.initialXDomain,
        initialYDomain: i.initialYDomain,
        width: i.width,
        height: i.height,
        paddingLeft: i.paddingLeft,
        paddingTop: i.paddingTop,
        leftWidth: i.leftWidth,
        topHeight: i.topHeight,
        dragging: i.dragging,
        viewOptions: i.viewOptions
      });
    }
    /** @param {boolean} draggingStatus */
  }, {
    key: "draggingChanged",
    value: function(i) {
      this.dragging = i, this.timedUpdatePositionAndDimensions();
    }
  }, {
    key: "setUpScales",
    value: function(i = false) {
      const o = this.currentProps.paddingLeft + this.currentProps.leftWidth + this.currentProps.centerWidth / 2, a = this.currentProps.paddingTop + this.currentProps.topHeight + this.currentProps.centerHeight / 2;
      if (!this.drawableToDomainX || !this.drawableToDomainY)
        return;
      const s = (this.drawableToDomainX(o) - this.drawableToDomainX(this.prevCenterX)) / this.zoomTransform.k, l = (this.drawableToDomainY(a) - this.drawableToDomainY(this.prevCenterY)) / this.zoomTransform.k;
      this.cumCenterYOffset += l, this.cumCenterXOffset += s, this.prevCenterY = a, this.prevCenterX = o;
      const u = [this.drawableToDomainX(0) - this.cumCenterXOffset, this.drawableToDomainX(this.currentProps.width) - this.cumCenterXOffset], c = [this.drawableToDomainY(0) - this.cumCenterYOffset, this.drawableToDomainY(this.currentProps.height) - this.cumCenterYOffset];
      this._xScale = It().domain(u).range([0, this.currentProps.width]), this._yScale = It().domain(c).range([0, this.currentProps.height]);
      for (const f in this.trackDefObjects)
        this.trackDefObjects[f].trackObject.refScalesChanged(this.xScale, this.yScale);
      this.applyZoomTransform(i);
    }
    /**
     * Get a track's viewconf definition by its object
     *
     * @param {TrackObject} trackObjectIn
     */
  }, {
    key: "getTrackDef",
    value: function(i) {
      const o = po(this.trackDefObjects);
      for (const [, {
        trackDef: a,
        trackObject: s
      }] of o) {
        if (s === i)
          return a.track;
        if (rb(a.track)) {
          for (const l of a.track.contents)
            if (s.createdTracks[l.uid] === i)
              return l;
        }
      }
      return null;
    }
    /**
     * Fetch the trackObject for a track with a given ID
     *
     * @param {string} trackId
     * @return {TrackObject | undefined}
     */
  }, {
    key: "getTrackObject",
    value: function(i) {
      const o = po(this.trackDefObjects);
      for (let a = 0; a < o.length; a++) {
        const s = o[a][0], l = o[a][1].trackObject;
        if (s === i)
          return l;
        if (l.createdTracks) {
          const u = po(l.createdTracks);
          for (let c = 0; c < u.length; c++) {
            const f = u[c][0], h = u[c][1];
            if (f === i)
              return h;
          }
        }
      }
    }
  }, {
    key: "timedUpdatePositionAndDimensions",
    value: function() {
      this.closing || !this.element || (this.elementPos = this.element.getBoundingClientRect(), this.dragging && (this.yPositionOffset = this.element.getBoundingClientRect().top - this.currentProps.canvasElement.getBoundingClientRect().top + this.scrollTop, this.xPositionOffset = this.element.getBoundingClientRect().left - this.currentProps.canvasElement.getBoundingClientRect().left, this.setMask(), this.setBackground(), this.updateTrackPositions() && this.applyZoomTransform(true), requestAnimationFrame(this.timedUpdatePositionAndDimensions.bind(this))));
    }
    /**
     * @param {Array<TrackConfig>} trackDefinitions
     */
  }, {
    key: "syncMetaTracks",
    value: function(i) {
      const o = Object.keys(this.metaTracks), a = new Set(i.map((s) => s.uid));
      this.addMetaTracks(i.filter((s) => !this.metaTracks[s.uid])), this.updateMetaTracks(i.filter((s) => this.metaTracks[s.uid])), this.removeMetaTracks(o.filter((s) => !a.has(s)));
    }
    /**
     * @param {Array<TrackDefinition>} trackDefinitions
     */
  }, {
    key: "syncTrackObjects",
    value: function(i) {
      this.prevTrackDefinitions = JSON.stringify(i);
      const o = {};
      for (let f = 0; f < i.length; f++)
        o[i[f].track.uid] = i[f];
      const a = new Set(Object.keys(this.trackDefObjects)), s = new Set(Object.keys(o)), l = new Set([...s].filter((f) => !a.has(f))), u = new Set([...a].filter((f) => !s.has(f))), c = new Set([...s].filter((f) => a.has(f)));
      this.updateExistingTrackDefs([...c].map((f) => o[f])), this.addNewTracks([...l].map((f) => o[f])), this.updateExistingTrackDefs([...l].map((f) => o[f])), this.removeTracks([...u]);
    }
    /**
     * Add new meta tracks
     *
     * @param {Array<TrackConfig>} metaTrackDefs  Definitions of meta tracks to be added.
     */
  }, {
    key: "addMetaTracks",
    value: function(i) {
      i.filter((o) => !this.metaTracks[o.uid]).forEach((o) => {
        this.metaTracks[o.uid] = {
          trackDef: o,
          trackObject: this.createMetaTrack(o)
        };
      });
    }
    /**
     * @param {Array<TrackDefinition>} newTrackDefinitions
     */
  }, {
    key: "addNewTracks",
    value: function(i) {
      if (this.currentProps.pixiStage) {
        for (let o = 0; o < i.length; o++) {
          const a = i[o], s = this.createTrackObject(a.track);
          s.refScalesChanged(this.xScale, this.yScale), this.trackDefObjects[a.track.uid] = {
            trackDef: a,
            trackObject: s
          };
          const l = this.zoomTransform.rescaleX(this.xScale), u = this.zoomTransform.rescaleY(this.yScale);
          s.setDimensions([a.width, a.height]), s.zoomed(l, u);
        }
        this.applyZoomTransform(false);
      }
    }
    /** @param {unknown} _unused */
  }, {
    key: "updateMetaTracks",
    value: function(i) {
    }
    /** @param {Array<TrackDefinition>} newTrackDefs */
  }, {
    key: "updateExistingTrackDefs",
    value: function(i) {
      for (const a of i) {
        const s = this.trackDefObjects[a.track.uid];
        s.trackDef = a, rb(a.track) && s.trackObject.updateContents(a.track.contents, this.createTrackObject.bind(this)).refScalesChanged(this.xScale, this.yScale);
      }
      this.updateTrackPositions() && this.applyZoomTransform(false);
    }
  }, {
    key: "updateTrackPositions",
    value: function() {
      let i = false;
      for (const o in this.trackDefObjects) {
        const a = this.trackDefObjects[o].trackDef, s = this.trackDefObjects[o].trackObject, l = s.position, u = s.dimensions, c = [this.xPositionOffset + a.left, this.yPositionOffset + a.top], f = [a.width, a.height];
        (!l || c[0] !== l[0] || c[1] !== l[1]) && (s.setPosition(c), i = true), (!u || f[0] !== u[0] || f[1] !== u[1]) && (s.setDimensions(f), i = true);
      }
      return i;
    }
    /** @param {string[]} trackIds */
  }, {
    key: "removeMetaTracks",
    value: function(i) {
      i.forEach((o) => {
        this.metaTracks[o].trackObject.remove(), this.metaTracks[o] = void 0, delete this.metaTracks[o];
      });
    }
    /** @param {string[]} trackUids */
  }, {
    key: "removeTracks",
    value: function(i) {
      for (let o = 0; o < i.length; o++)
        this.trackDefObjects[i[o]].trackObject.remove(), delete this.trackDefObjects[i[o]];
    }
    /**
     * Set the center of this view to a paticular X and Y coordinate
     * @param  {number}  centerX  Centeral X data? position.
     * @param  {number}  centerY  Central Y data? position.
     * @param  {number}  sourceK  Source zoom level? @Pete what's the source?
     * @param  {boolean}  notify  If `true` notify listeners that the scales
     *   have changed. This can be turned off to prevent circular updates when
     *   scales are locked.
     * @param  {number}  animateTime  Animation time in milliseconds. Only used
     *   when `animate` is true.
     * @param  {Scale}  xScale  The scale to use for the X axis.
     * @param  {Scale}  yScale  The scale to use for the Y axis.
     */
  }, {
    key: "setCenter",
    value: function(i, o, a, s = false, l = 0, u = this.xScale, c = this.yScale) {
      const h = (this.xScale.invert(1) - this.xScale.invert(0)) / a, d = this.currentProps.paddingLeft + this.currentProps.leftWidth + this.currentProps.centerWidth / 2, p = this.currentProps.paddingTop + this.currentProps.topHeight + this.currentProps.centerHeight / 2, m = d - u(i) * h, g = p - c(o) * h;
      let v;
      const b = () => {
        const y = En.translate(m, g).scale(h);
        this.zoomTransform = y, this.elementSelection && this.emptyZoomBehavior.transform(this.elementSelection, y), v = this.applyZoomTransform(s);
      };
      if (l && this.elementSelection) {
        let y = this.elementSelection;
        this.activeTransitions += 1, document.hidden || (y = y.transition().duration(l)), y.call(this.zoomBehavior.transform, En.translate(m, g).scale(h)).on("end", () => {
          b(), this.activeTransitions -= 1;
        });
      } else
        b();
      return v;
    }
    /** @param {number} movement */
  }, {
    key: "valueScaleMove",
    value: function(i) {
      if (this.zoomStartPos) {
        for (const o of this.getTracksAtPosition(...this.zoomStartPos))
          o.movedY(i);
        this.zoomStartTransform && (this.zoomTransform = this.zoomStartTransform);
      }
    }
    /**
     * @param {{ sourceEvent: Event }} event
     * @param {string | null} orientation
     */
  }, {
    key: "valueScaleZoom",
    value: function(i, o) {
      if (!Tpe(i.sourceEvent))
        return;
      const a = i.sourceEvent.deltaY, s = i.sourceEvent.deltaMode, u = ((f, h) => f * (h ? 120 : 1) / 500)(a, s), c = vr(i.sourceEvent, this.props.canvasElement);
      for (const f of this.getTracksAtPosition(...c)) {
        const h = o === "1d-horizontal" ? c[1] - f.position[1] : c[0] - f.position[0];
        f.zoomedY(h, 2 ** u);
      }
      this.zoomStartTransform && (this.zoomTransform = this.zoomStartTransform);
    }
    /**
     * Respond to a zoom event.
     *
     * We need to update our local record of the zoom transform and apply it
     * to all the tracks.
     *
     * @param {import("d3-zoom").D3ZoomEvent<HTMLElement, unknown> & { shiftKey?: boolean }} event
     */
  }, {
    key: "zoomed",
    value: function(i) {
      var o;
      let a = null;
      if (this.zoomStartPos) {
        const l = this.getTracksAtPosition(...this.zoomStartPos);
        if (l.length) {
          const u = l[0], c = this.getTrackDef(u);
          if (!c)
            return;
          (o = Tr[c.type]) != null && o.orientation && (a = Tr[c.type].orientation), u instanceof IU && (a = "1d-vertical");
        }
      }
      if (a && i.sourceEvent) {
        if (i.shiftKey || this.valueScaleZooming) {
          if (i.sourceEvent.deltaY !== void 0) {
            this.valueScaleZoom(i, a);
            return;
          }
          a === "1d-horizontal" ? this.valueScaleMove(i.sourceEvent.movementY) : a === "1d-vertical" && this.valueScaleMove(i.sourceEvent.movementX);
        }
        a === "1d-horizontal" && i.sourceEvent.movementY ? this.valueScaleMove(i.sourceEvent.movementY) : a === "1d-vertical" && i.sourceEvent.movementX && this.valueScaleMove(i.sourceEvent.movementX);
      }
      this.zoomTransform = this.currentProps.zoomable ? i.transform : En, this.prevZoomTransform.k !== this.zoomTransform.k || (a === "1d-horizontal" ? this.zoomTransform = En.translate(this.zoomTransform.x, this.prevZoomTransform.y).scale(this.zoomTransform.k) : a === "1d-vertical" && (this.zoomTransform = En.translate(this.prevZoomTransform.x, this.zoomTransform.y).scale(this.zoomTransform.k)), this.element && (this.element.__zoom = this.zoomTransform)), this.applyZoomTransform(true), this.prevZoomTransform = this.zoomTransform, this.props.pubSub.publish("app.zoom", i), i.sourceEvent && (i.sourceEvent.stopPropagation(), i.sourceEvent.preventDefault());
    }
    /**
     * Return a list of tracks under this position.
     *
     * The position should be relative to this.props.canvasElement.
     *
     * @param {number} x The query x position
     * @param {number} y The query y position
     * @return {Array<TrackObject>}  An array of tracks at this position
     */
  }, {
    key: "getTracksAtPosition",
    value: function(i, o) {
      const a = [];
      let s = [];
      for (const l in this.trackDefObjects) {
        const u = this.trackDefObjects[l].trackObject;
        u.childTracks ? s = s.concat(u.childTracks) : s.push(u);
      }
      for (const l of s) {
        const u = l.position[0] <= i && i <= l.position[0] + l.dimensions[0], c = l.position[1] <= o && o <= l.position[1] + l.dimensions[1];
        u && c && a.push(l);
      }
      return a;
    }
    /** @param {import('d3-zoom').D3ZoomEvent<HTMLElement, unknown>=} event */
  }, {
    key: "zoomStarted",
    value: function(i) {
      this.zooming = true, i && i.sourceEvent && (this.zoomStartPos = vr(i.sourceEvent, this.props.canvasElement), i.sourceEvent.shiftKey && (this.valueScaleZooming = true)), this.zoomStartTransform = this.zoomTransform, this.props.pubSub.publish("app.zoomStart");
    }
  }, {
    key: "zoomEnded",
    value: function() {
      this.zooming = false, this.zoomStartPos = null, this.valueScaleZooming && (this.valueScaleZooming = false, this.element && (this.element.__zoom = this.zoomStartTransform)), this.props.pubSub.publish("app.zoomEnd");
    }
    /**
     * @param {boolean=} notify
     * @returns {[Scale, Scale] | undefined}
     */
  }, {
    key: "applyZoomTransform",
    value: function(i = true) {
      const o = this.currentProps, a = o.paddingLeft + o.leftWidth, s = o.paddingTop + o.topHeight;
      if (!this.xScale || !this.yScale)
        return;
      this.zoomedXScale = this.zoomTransform.rescaleX(this.xScale), this.zoomedYScale = this.zoomTransform.rescaleY(this.yScale);
      const l = It().domain([a, a + o.centerWidth].map(this.zoomedXScale.invert)).range([0, o.centerWidth]), u = It().domain([s, s + o.centerHeight].map(this.zoomedYScale.invert)).range([0, o.centerHeight]);
      for (const c in this.trackDefObjects) {
        const f = this.trackDefObjects[c].trackObject, h = this.trackDefObjects[c].trackDef;
        let d = "unknown";
        if (Tr[h.track.type] && (d = Tr[h.track.type].orientation), d === "whole") {
          const p = It().domain([o.paddingLeft, o.width - o.paddingLeft].map(this.zoomedXScale.invert)).range([0, o.width - 2 * o.paddingLeft]), m = It().domain([o.paddingTop, o.height - o.paddingTop].map(this.zoomedYScale.invert)).range([0, o.height - 2 * o.paddingTop]);
          f.zoomed(p, m);
          continue;
        }
        if (this.trackDefObjects[c].trackDef.track.position === "gallery") {
          const p = It().domain([o.paddingLeft + o.leftWidthNoGallery, o.paddingLeft + o.leftWidth + o.centerWidth + o.galleryDim].map(this.zoomedXScale.invert)).range([0, o.centerWidth + 2 * o.galleryDim]), m = It().domain([o.paddingTop + o.topHeightNoGallery, o.paddingTop + o.topHeight + o.centerHeight + o.galleryDim].map(this.zoomedYScale.invert)).range([0, o.centerHeight - 2 * o.galleryDim]);
          f.zoomed(p.copy(), m.copy(), this.zoomTransform.k);
          continue;
        }
        f.zoomed(l.copy(), u.copy(), this.zoomTransform.k, this.zoomTransform.x + this.xPositionOffset, this.zoomTransform.y + this.yPositionOffset, o.paddingLeft + o.leftWidth, o.paddingTop + o.topHeight);
      }
      return this.currentXScale = l, this.currentYScale = u, i && this.currentProps.onScalesChanged(l, u), [l, u];
    }
    /** @param {TrackConfig} track */
  }, {
    key: "createMetaTrack",
    value: function(i) {
      switch (i.type) {
        default: {
          const o = this.props.pluginTracks[i.type];
          if (o == null ? void 0 : o.isMetaTrack) {
            const a = {
              getTrackObject: this.getTrackObject.bind(this),
              onNewTilesLoaded: () => {
                this.currentProps.onNewTilesLoaded(i.uid);
              },
              definition: i
            };
            try {
              return new o.track(
                // eslint-disable-line new-cap
                this.availableForPlugins,
                a,
                i.options
              );
            } catch (s) {
              console.error("Plugin meta track", i.type, "failed to instantiate.", s);
            }
          }
          return console.warn(`Unknown meta track of type: ${i.type}`), new MU(this.pStage, {
            name: "Unknown Track Type",
            type: i.type
          });
        }
      }
    }
    /** @param {TrackConfig} track */
  }, {
    key: "createTrackObject",
    value: function(i) {
      const o = this.createLocationAgnosticTrackObject(i);
      return (i.position === "left" || i.position === "right") && Tr[i.type].orientation === "1d-horizontal" ? new IU(o) : o;
    }
    /** @param {TrackConfig} track */
  }, {
    key: "createLocationAgnosticTrackObject",
    value: function(i) {
      let o = i.data;
      o || (o = {
        server: y1(i.server),
        tilesetUid: i.tilesetUid
      }), i.coordSystem && (o.coordSystem = i.coordSystem);
      const a = PZe(o, this.props.pubSub, this.props.pluginDataFetchers, this.availableForPlugins);
      if (!this.pStage || !this.svgElement)
        throw new Error("No PIXI stage or svg element");
      const s = {
        id: i.uid,
        trackUid: i.uid,
        trackType: i.type,
        viewUid: this.viewUid,
        pubSub: this.props.pubSub,
        scene: this.pStage,
        dataConfig: o,
        dataFetcher: a,
        getLockGroupExtrema: () => this.currentProps.getLockGroupExtrema(i.uid),
        handleTilesetInfoReceived: (l) => {
          this.currentProps.onTilesetInfoReceived(i.uid, l);
        },
        animate: () => {
          this.currentProps.onNewTilesLoaded(i.uid);
        },
        svgElement: this.svgElement,
        isValueScaleLocked: () => this.currentProps.isValueScaleLocked(i.uid),
        onValueScaleChanged: () => {
          this.currentProps.onValueScaleChanged(i.uid);
        },
        onTrackOptionsChanged: (l) => {
          this.currentProps.onTrackOptionsChanged(i.uid, l);
        },
        onMouseMoveZoom: this.props.onMouseMoveZoom,
        chromInfoPath: i.chromInfoPath,
        isShowGlobalMousePosition: () => this.props.isShowGlobalMousePosition,
        getTheme: () => this.props.theme
      };
      switch (i.y && (s.yPosition = i.y), i.x && (s.xPosition = i.x), i.projectionXDomain && (s.projectionXDomain = i.projectionXDomain), i.projectionYDomain && (s.projectionYDomain = i.projectionYDomain), i.type) {
        case "left-axis":
          return new XY(s, i.options);
        case "top-axis":
          return new VY(s, i.options);
        case "heatmap":
          return new cy(s, i.options);
        case "multivec":
        case "vector-heatmap":
        case "horizontal-multivec":
        case "horizontal-vector-heatmap":
        case "vertical-multivec":
        case "vertical-vector-heatmap":
          return new Oq(s, i.options);
        case "1d-heatmap":
        case "horizontal-1d-heatmap":
        case "vertical-1d-heatmap":
          return new Pq(s, i.options);
        case "line":
        case "horizontal-line":
        case "vertical-line":
          return new bp(s, i.options);
        case "point":
        case "horizontal-point":
        case "vertical-point":
          return new Aq(s, i.options);
        case "bar":
        case "horizontal-bar":
        case "vertical-bar":
          return new bM(s, i.options);
        case "divergent-bar":
        case "horizontal-divergent-bar":
        case "vertical-divergent-bar":
          return new Iq(s, i.options);
        case "horizontal-1d-tiles":
          return new HY(s, i.options);
        case "vertical-1d-tiles":
          return new jY(s, i.options);
        case "2d-tiles":
          return new FY(s, i.options);
        case "stacked-interval":
        case "top-stacked-interval":
        case "left-stacked-interval":
          return new Cq(s, i.options);
        case "viewport-projection-center":
          return i.registerViewportChanged && i.removeViewportChanged && i.setDomainsCallback ? (s.registerViewportChanged = i.registerViewportChanged, s.removeViewportChanged = i.removeViewportChanged, s.setDomainsCallback = i.setDomainsCallback, new Gq(s, i.options)) : new Df(s, {});
        case "viewport-projection-horizontal":
          return i.registerViewportChanged && i.removeViewportChanged && i.setDomainsCallback ? (s.registerViewportChanged = i.registerViewportChanged, s.removeViewportChanged = i.removeViewportChanged, s.setDomainsCallback = i.setDomainsCallback, new zq(s, i.options)) : new Df(s, {});
        case "viewport-projection-vertical":
          return i.registerViewportChanged && i.removeViewportChanged && i.setDomainsCallback ? (s.registerViewportChanged = i.registerViewportChanged, s.removeViewportChanged = i.removeViewportChanged, s.setDomainsCallback = i.setDomainsCallback, new Vq(s, i.options)) : new Df(s, {});
        case "gene-annotations":
        case "horizontal-gene-annotations":
        case "vertical-gene-annotations":
          return new xq(s, i.options);
        case "2d-rectangle-domains":
        case "arrowhead-domains":
          return new kq(s, i.options);
        case "horizontal-1d-annotations":
          return new nx(s, i.options);
        case "vertical-1d-annotations":
          return new nx(s, i.options, true);
        case "2d-annotations":
          return new Rq(s, i.options);
        case "linear-2d-rectangle-domains":
        case "horizontal-2d-rectangle-domains":
        case "vertical-2d-rectangle-domains":
          return new Nq(s, i.options);
        case "square-markers":
          return new Mq(s, i.options);
        case "combined":
          return s.tracks = i.contents, s.createTrackObject = this.createTrackObject.bind(this), new VR(s);
        case "2d-chromosome-labels":
          return new Lq(s, i.options);
        case "horizontal-chromosome-grid":
          return s.orientation = "1d-horizontal", new Nm(s, i.options);
        case "vertical-chromosome-grid":
          return s.orientation = "1d-vertical", new Nm(s, i.options);
        case "2d-chromosome-grid":
          return new Nm(s, i.options);
        case "chromosome-labels":
        case "horizontal-chromosome-labels":
        case "vertical-chromosome-labels":
          return new $q(s, i.options);
        case "linear-heatmap":
        case "horizontal-heatmap":
        case "vertical-heatmap":
          return new Hq(s, i.options);
        case "2d-chromosome-annotations":
          return new Bq(s, i.options);
        case "1d-value-interval":
        case "horizontal-1d-value-interval":
        case "vertical-1d-value-interval":
          return new jq(s, i.options);
        case "osm":
        case "osm-tiles":
          return new hy(s, i.options);
        case "osm-2d-tile-ids":
          return new sK(s, i.options);
        case "mapbox":
        case "mapbox-tiles":
          return new lK(s, i.options);
        case "raster-tiles":
          return new cK(s, i.options);
        case "bedlike":
        case "vertical-bedlike":
          return new Sq(s, i.options);
        case "overlay-track":
          return new wq(s, i.options);
        case "overlay-chromosome-grid-track":
          return s.isOverlay = true, new Nm(s, i.options);
        case "horizontal-rule":
          return new Qq(s, i.options);
        case "vertical-rule":
          return new iK(s, i.options);
        case "cross-rule":
          return s.x = i.x, s.y = i.y, new oK(s, i.options);
        case "simple-svg":
          return new lh(s, i.options);
        case "empty": {
          const l = i.options;
          return new Ai(s, l);
        }
        default: {
          const l = this.props.pluginTracks[i.type];
          if (l && !l.isMetaTrack) {
            s.AVAILABLE_FOR_PLUGINS = this.availableForPlugins, s.baseEl = this.baseEl, s.definition = i, i.registerViewportChanged && i.removeViewportChanged && i.setDomainsCallback && (s.registerViewportChanged = i.registerViewportChanged, s.removeViewportChanged = i.removeViewportChanged, s.setDomainsCallback = i.setDomainsCallback);
            try {
              return new l.track(
                // eslint-disable-line new-cap
                this.availableForPlugins,
                s,
                i.options
              );
            } catch (u) {
              console.error("Plugin track", i.type, "failed to instantiate.", u);
            }
          }
          return console.warn("Unknown track type:", i.type), new MU(s, {
            name: "Unknown Track Type",
            type: i.type
          });
        }
      }
    }
    /**
     * Zoom to a location given the data coordinates
     * @param   {number}  dataXStart  Data start X coordinate.
     * @param   {number}  dataXEnd  Data end X coordinate.
     * @param   {number}  dataYStart  Data start Y coordinate.
     * @param   {number}  dataYEnd  Data end Y coordinate.
     * @param   {number}  animateTime  Animation time in milliseconds.
     * @param   {ProjectorFunction | null}  projector  If not `null` a projector function that
     *   provides adjusted x and y scales.
     */
  }, {
    key: "zoomToDataPos",
    value: function(i, o, a, s, l = 3e3, u = null) {
      const [c, f, h] = un(this.xScale.copy().domain([i, o]), this.yScale.copy().domain([a, s])), d = u ? u(this.xScale, this.yScale) : [this.xScale, this.yScale];
      this.setCenter(c, f, h, false, l, d[0], d[1]);
    }
    /**
     * @param {{ altKey: boolean, preventDefault: () => void }} e
     */
  }, {
    key: "forwardContextMenu",
    value: function(i) {
      this.props.disableTrackMenu || i.altKey || (i.preventDefault(), setTimeout(() => {
        this.props.pubSub.publish("contextmenu", i);
      }, 0));
    }
  }, {
    key: "addEventTracker",
    value: function() {
      !this.eventTracker || this.eventTracker === this.eventTrackerOld || (this.eventTrackerOld || (this.eventTrackerOld = this.eventTracker), this.eventTracker = this.eventTrackerOld, this.eventTracker.addEventListener("click", this.boundForwardEvent), this.eventTracker.addEventListener("contextmenu", this.boundForwardContextMenu), this.eventTracker.addEventListener("dblclick", this.boundForwardEvent), this.eventTracker.addEventListener("wheel", this.boundForwardEvent), this.eventTracker.addEventListener("dragstart", this.boundForwardEvent), this.eventTracker.addEventListener("selectstart", this.boundForwardEvent), this.eventTracker.addEventListener("mouseover", this.boundForwardEvent), this.eventTracker.addEventListener("mouseenter", this.boundForwardEvent), this.eventTracker.addEventListener("mousedown", this.boundForwardEvent), this.eventTracker.addEventListener("mouseup", this.boundForwardEvent), this.eventTracker.addEventListener("mouseout", this.boundForwardEvent), this.eventTracker.addEventListener("mouseleave", this.boundForwardEvent), this.eventTracker.addEventListener("touchstart", this.boundForwardEvent), this.eventTracker.addEventListener("touchend", this.boundForwardEvent), this.eventTracker.addEventListener("touchmove", this.boundForwardEvent), this.eventTracker.addEventListener("touchcancel", this.boundForwardEvent), this.eventTracker.addEventListener("pointerover", this.boundForwardEvent), this.eventTracker.addEventListener("pointerenter", this.boundForwardEvent), this.eventTracker.addEventListener("pointerdown", this.boundForwardEvent), this.eventTracker.addEventListener("pointerup", this.boundForwardEvent), this.eventTracker.addEventListener("pointercancel", this.boundForwardEvent), this.eventTracker.addEventListener("pointerout", this.boundForwardEvent), this.eventTracker.addEventListener("pointerleave", this.boundForwardEvent), window.addEventListener("scroll", this.boundScrollEvent));
    }
  }, {
    key: "removeEventTracker",
    value: function() {
      this.eventTracker && (this.eventTracker.removeEventListener("click", this.boundForwardEvent), this.eventTracker.removeEventListener("contextmenu", this.boundForwardContextMenu), this.eventTracker.removeEventListener("dblclick", this.boundForwardEvent), this.eventTracker.removeEventListener("wheel", this.boundForwardEvent), this.eventTracker.removeEventListener("dragstart", this.boundForwardEvent), this.eventTracker.removeEventListener("selectstart", this.boundForwardEvent), this.eventTracker.removeEventListener("mouseover", this.boundForwardEvent), this.eventTracker.removeEventListener("mouseenter", this.boundForwardEvent), this.eventTracker.removeEventListener("mousedown", this.boundForwardEvent), this.eventTracker.removeEventListener("mouseup", this.boundForwardEvent), this.eventTracker.removeEventListener("mouseout", this.boundForwardEvent), this.eventTracker.removeEventListener("mouseleave", this.boundForwardEvent), this.eventTracker.removeEventListener("touchstart", this.boundForwardEvent), this.eventTracker.removeEventListener("touchend", this.boundForwardEvent), this.eventTracker.removeEventListener("touchcancel", this.boundForwardEvent), this.eventTracker.removeEventListener("pointerover", this.boundForwardEvent), this.eventTracker.removeEventListener("pointerenter", this.boundForwardEvent), this.eventTracker.removeEventListener("pointerdown", this.boundForwardEvent), this.eventTracker.removeEventListener("pointerup", this.boundForwardEvent), this.eventTracker.removeEventListener("pointercancel", this.boundForwardEvent), this.eventTracker.removeEventListener("pointerout", this.boundForwardEvent), this.eventTracker.removeEventListener("pointerleave", this.boundForwardEvent), window.removeEventListener("scroll", this.boundScrollEvent));
    }
  }, {
    key: "scrollEvent",
    value: function() {
      this.element && (this.elementPos = this.element.getBoundingClientRect());
    }
    /**
     * Publishes an event to the pubSub channel, first overriding the
     * sourceUid to be the uid of this track renderer.
     *
     * @template {Event} T
     * @param {T & { sourceUid?: string; forwarded?: boolean }} event
     */
  }, {
    key: "forwardEvent",
    value: function(i) {
      i.sourceUid = this.uid, i.forwarded = true, this.props.pubSub.publish("app.event", i);
    }
    /** @param {number} scrollTop */
  }, {
    key: "onScrollHandler",
    value: function(i) {
      this.scrollTop = i;
    }
    /* ------------------------------- Render ------------------------------- */
  }, {
    key: "render",
    value: function() {
      return import_react.default.createElement("div", {
        ref: (i) => {
          this.baseEl = i;
        },
        className: nr("track-renderer-div", ZO["track-renderer"]),
        style: {
          height: this.currentProps.height,
          width: this.currentProps.width
        }
      }, import_react.default.createElement("div", {
        ref: (i) => {
          this.element = i;
        },
        className: nr("track-renderer-element", ZO["track-renderer-element"])
      }), import_react.default.createElement("div", {
        ref: (i) => {
          this.eventTracker = i;
        },
        className: nr("track-renderer-events", ZO["track-renderer-events"])
      }, this.currentProps.children));
    }
  }]), r;
}(import_react.default.Component);
SL.defaultProps = {
  pluginDataFetchers: {},
  pluginTracks: {},
  canvasElement: null,
  centerHeight: 0,
  centerWidth: 0,
  children: [],
  galleryDim: 0,
  height: 0,
  initialXDomain: [],
  initialYDomain: [],
  isShowGlobalMousePosition: false,
  isRangeSelection: false,
  leftWidth: 0,
  leftWidthNoGallery: 0,
  paddingLeft: 0,
  paddingTop: 0,
  positionedTracks: [],
  topHeight: 0,
  topHeightNoGallery: 0,
  width: 0,
  metaTracks: []
};
SL.propTypes = {
  canvasElement: M.object,
  centerHeight: M.number,
  centerWidth: M.number,
  children: M.array,
  disableTrackMenu: M.bool,
  galleryDim: M.number,
  height: M.number,
  initialXDomain: M.array,
  initialYDomain: M.array,
  isShowGlobalMousePosition: M.bool,
  isRangeSelection: M.bool,
  leftWidth: M.number,
  leftWidthNoGallery: M.number,
  paddingLeft: M.number,
  paddingTop: M.number,
  metaTracks: M.array,
  onMouseMoveZoom: M.func,
  onNewTilesLoaded: M.func.isRequired,
  onScalesChanged: M.func.isRequired,
  pixiRenderer: M.object.isRequired,
  pixiStage: M.object.isRequired,
  pluginDataFetchers: M.object,
  pluginTracks: M.object,
  positionedTracks: M.array,
  pubSub: M.object.isRequired,
  setCentersFunction: M.func,
  svgElement: M.object.isRequired,
  theme: M.symbol.isRequired,
  topHeight: M.number,
  topHeightNoGallery: M.number,
  viewOptions: M.object,
  width: M.number,
  xDomainLimits: M.array,
  yDomainLimits: M.array,
  valueScaleZoom: M.bool,
  zoomable: M.bool.isRequired,
  zoomDomain: M.array,
  uid: M.string,
  zoomLimits: M.array
};
var xZe = pp(ih(SL));
var rQ = { exports: {} };
(function(e13, t) {
  (function(r, n) {
    e13.exports = n(import_react.default);
  })(self, (r) => (() => {
    var n = {
      4184: (s, l) => {
        var u;
        (function() {
          var c = {}.hasOwnProperty;
          function f() {
            for (var h = [], d = 0; d < arguments.length; d++) {
              var p = arguments[d];
              if (p) {
                var m = typeof p;
                if (m === "string" || m === "number")
                  h.push(p);
                else if (Array.isArray(p)) {
                  if (p.length) {
                    var g = f.apply(null, p);
                    g && h.push(g);
                  }
                } else if (m === "object")
                  if (p.toString === Object.prototype.toString)
                    for (var v in p)
                      c.call(p, v) && p[v] && h.push(v);
                  else
                    h.push(p.toString());
              }
            }
            return h.join(" ");
          }
          s.exports ? (f.default = f, s.exports = f) : (u = (function() {
            return f;
          }).apply(l, [])) === void 0 || (s.exports = u);
        })();
      },
      8552: (s, l, u) => {
        var c = u(852)(u(5639), "DataView");
        s.exports = c;
      },
      1989: (s, l, u) => {
        var c = u(1789), f = u(401), h = u(7667), d = u(1327), p = u(1866);
        function m(g) {
          var v = -1, b = g == null ? 0 : g.length;
          for (this.clear(); ++v < b; ) {
            var y = g[v];
            this.set(y[0], y[1]);
          }
        }
        m.prototype.clear = c, m.prototype.delete = f, m.prototype.get = h, m.prototype.has = d, m.prototype.set = p, s.exports = m;
      },
      8407: (s, l, u) => {
        var c = u(7040), f = u(4125), h = u(2117), d = u(7518), p = u(4705);
        function m(g) {
          var v = -1, b = g == null ? 0 : g.length;
          for (this.clear(); ++v < b; ) {
            var y = g[v];
            this.set(y[0], y[1]);
          }
        }
        m.prototype.clear = c, m.prototype.delete = f, m.prototype.get = h, m.prototype.has = d, m.prototype.set = p, s.exports = m;
      },
      7071: (s, l, u) => {
        var c = u(852)(u(5639), "Map");
        s.exports = c;
      },
      3369: (s, l, u) => {
        var c = u(4785), f = u(1285), h = u(6e3), d = u(9916), p = u(5265);
        function m(g) {
          var v = -1, b = g == null ? 0 : g.length;
          for (this.clear(); ++v < b; ) {
            var y = g[v];
            this.set(y[0], y[1]);
          }
        }
        m.prototype.clear = c, m.prototype.delete = f, m.prototype.get = h, m.prototype.has = d, m.prototype.set = p, s.exports = m;
      },
      3818: (s, l, u) => {
        var c = u(852)(u(5639), "Promise");
        s.exports = c;
      },
      8525: (s, l, u) => {
        var c = u(852)(u(5639), "Set");
        s.exports = c;
      },
      8668: (s, l, u) => {
        var c = u(3369), f = u(619), h = u(2385);
        function d(p) {
          var m = -1, g = p == null ? 0 : p.length;
          for (this.__data__ = new c(); ++m < g; )
            this.add(p[m]);
        }
        d.prototype.add = d.prototype.push = f, d.prototype.has = h, s.exports = d;
      },
      6384: (s, l, u) => {
        var c = u(8407), f = u(7465), h = u(3779), d = u(7599), p = u(4758), m = u(4309);
        function g(v) {
          var b = this.__data__ = new c(v);
          this.size = b.size;
        }
        g.prototype.clear = f, g.prototype.delete = h, g.prototype.get = d, g.prototype.has = p, g.prototype.set = m, s.exports = g;
      },
      2705: (s, l, u) => {
        var c = u(5639).Symbol;
        s.exports = c;
      },
      1149: (s, l, u) => {
        var c = u(5639).Uint8Array;
        s.exports = c;
      },
      577: (s, l, u) => {
        var c = u(852)(u(5639), "WeakMap");
        s.exports = c;
      },
      4963: (s) => {
        s.exports = function(l, u) {
          for (var c = -1, f = l == null ? 0 : l.length, h = 0, d = []; ++c < f; ) {
            var p = l[c];
            u(p, c, l) && (d[h++] = p);
          }
          return d;
        };
      },
      4636: (s, l, u) => {
        var c = u(2545), f = u(5694), h = u(1469), d = u(4144), p = u(5776), m = u(6719), g = Object.prototype.hasOwnProperty;
        s.exports = function(v, b) {
          var y = h(v), _ = !y && f(v), T = !y && !_ && d(v), E = !y && !_ && !T && m(v), O = y || _ || T || E, S = O ? c(v.length, String) : [], P = S.length;
          for (var C in v)
            !b && !g.call(v, C) || O && (C == "length" || T && (C == "offset" || C == "parent") || E && (C == "buffer" || C == "byteLength" || C == "byteOffset") || p(C, P)) || S.push(C);
          return S;
        };
      },
      2488: (s) => {
        s.exports = function(l, u) {
          for (var c = -1, f = u.length, h = l.length; ++c < f; )
            l[h + c] = u[c];
          return l;
        };
      },
      2908: (s) => {
        s.exports = function(l, u) {
          for (var c = -1, f = l == null ? 0 : l.length; ++c < f; )
            if (u(l[c], c, l))
              return true;
          return false;
        };
      },
      8470: (s, l, u) => {
        var c = u(7813);
        s.exports = function(f, h) {
          for (var d = f.length; d--; )
            if (c(f[d][0], h))
              return d;
          return -1;
        };
      },
      8866: (s, l, u) => {
        var c = u(2488), f = u(1469);
        s.exports = function(h, d, p) {
          var m = d(h);
          return f(h) ? m : c(m, p(h));
        };
      },
      4239: (s, l, u) => {
        var c = u(2705), f = u(9607), h = u(2333), d = c ? c.toStringTag : void 0;
        s.exports = function(p) {
          return p == null ? p === void 0 ? "[object Undefined]" : "[object Null]" : d && d in Object(p) ? f(p) : h(p);
        };
      },
      9454: (s, l, u) => {
        var c = u(4239), f = u(7005);
        s.exports = function(h) {
          return f(h) && c(h) == "[object Arguments]";
        };
      },
      939: (s, l, u) => {
        var c = u(2492), f = u(7005);
        s.exports = function h(d, p, m, g, v) {
          return d === p || (d == null || p == null || !f(d) && !f(p) ? d != d && p != p : c(d, p, m, g, h, v));
        };
      },
      2492: (s, l, u) => {
        var c = u(6384), f = u(7114), h = u(8351), d = u(6096), p = u(4160), m = u(1469), g = u(4144), v = u(6719), b = "[object Arguments]", y = "[object Array]", _ = "[object Object]", T = Object.prototype.hasOwnProperty;
        s.exports = function(E, O, S, P, C, w) {
          var N = m(E), L = m(O), A = N ? y : p(E), R = L ? y : p(O), F = (A = A == b ? _ : A) == _, $ = (R = R == b ? _ : R) == _, K = A == R;
          if (K && g(E)) {
            if (!g(O))
              return false;
            N = true, F = false;
          }
          if (K && !F)
            return w || (w = new c()), N || v(E) ? f(E, O, S, P, C, w) : h(E, O, A, S, P, C, w);
          if (!(1 & S)) {
            var ie = F && T.call(E, "__wrapped__"), J = $ && T.call(O, "__wrapped__");
            if (ie || J) {
              var pe = ie ? E.value() : E, oe = J ? O.value() : O;
              return w || (w = new c()), C(pe, oe, S, P, w);
            }
          }
          return !!K && (w || (w = new c()), d(E, O, S, P, C, w));
        };
      },
      8458: (s, l, u) => {
        var c = u(3560), f = u(5346), h = u(3218), d = u(346), p = /^\[object .+?Constructor\]$/, m = Function.prototype, g = Object.prototype, v = m.toString, b = g.hasOwnProperty, y = RegExp("^" + v.call(b).replace(/[\\^$.*+?()[\]{}|]/g, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$");
        s.exports = function(_) {
          return !(!h(_) || f(_)) && (c(_) ? y : p).test(d(_));
        };
      },
      8749: (s, l, u) => {
        var c = u(4239), f = u(1780), h = u(7005), d = {};
        d["[object Float32Array]"] = d["[object Float64Array]"] = d["[object Int8Array]"] = d["[object Int16Array]"] = d["[object Int32Array]"] = d["[object Uint8Array]"] = d["[object Uint8ClampedArray]"] = d["[object Uint16Array]"] = d["[object Uint32Array]"] = true, d["[object Arguments]"] = d["[object Array]"] = d["[object ArrayBuffer]"] = d["[object Boolean]"] = d["[object DataView]"] = d["[object Date]"] = d["[object Error]"] = d["[object Function]"] = d["[object Map]"] = d["[object Number]"] = d["[object Object]"] = d["[object RegExp]"] = d["[object Set]"] = d["[object String]"] = d["[object WeakMap]"] = false, s.exports = function(p) {
          return h(p) && f(p.length) && !!d[c(p)];
        };
      },
      280: (s, l, u) => {
        var c = u(5726), f = u(6916), h = Object.prototype.hasOwnProperty;
        s.exports = function(d) {
          if (!c(d))
            return f(d);
          var p = [];
          for (var m in Object(d))
            h.call(d, m) && m != "constructor" && p.push(m);
          return p;
        };
      },
      2545: (s) => {
        s.exports = function(l, u) {
          for (var c = -1, f = Array(l); ++c < l; )
            f[c] = u(c);
          return f;
        };
      },
      1717: (s) => {
        s.exports = function(l) {
          return function(u) {
            return l(u);
          };
        };
      },
      4757: (s) => {
        s.exports = function(l, u) {
          return l.has(u);
        };
      },
      4429: (s, l, u) => {
        var c = u(5639)["__core-js_shared__"];
        s.exports = c;
      },
      7114: (s, l, u) => {
        var c = u(8668), f = u(2908), h = u(4757);
        s.exports = function(d, p, m, g, v, b) {
          var y = 1 & m, _ = d.length, T = p.length;
          if (_ != T && !(y && T > _))
            return false;
          var E = b.get(d), O = b.get(p);
          if (E && O)
            return E == p && O == d;
          var S = -1, P = true, C = 2 & m ? new c() : void 0;
          for (b.set(d, p), b.set(p, d); ++S < _; ) {
            var w = d[S], N = p[S];
            if (g)
              var L = y ? g(N, w, S, p, d, b) : g(w, N, S, d, p, b);
            if (L !== void 0) {
              if (L)
                continue;
              P = false;
              break;
            }
            if (C) {
              if (!f(p, function(A, R) {
                if (!h(C, R) && (w === A || v(w, A, m, g, b)))
                  return C.push(R);
              })) {
                P = false;
                break;
              }
            } else if (w !== N && !v(w, N, m, g, b)) {
              P = false;
              break;
            }
          }
          return b.delete(d), b.delete(p), P;
        };
      },
      8351: (s, l, u) => {
        var c = u(2705), f = u(1149), h = u(7813), d = u(7114), p = u(8776), m = u(1814), g = c ? c.prototype : void 0, v = g ? g.valueOf : void 0;
        s.exports = function(b, y, _, T, E, O, S) {
          switch (_) {
            case "[object DataView]":
              if (b.byteLength != y.byteLength || b.byteOffset != y.byteOffset)
                return false;
              b = b.buffer, y = y.buffer;
            case "[object ArrayBuffer]":
              return !(b.byteLength != y.byteLength || !O(new f(b), new f(y)));
            case "[object Boolean]":
            case "[object Date]":
            case "[object Number]":
              return h(+b, +y);
            case "[object Error]":
              return b.name == y.name && b.message == y.message;
            case "[object RegExp]":
            case "[object String]":
              return b == y + "";
            case "[object Map]":
              var P = p;
            case "[object Set]":
              var C = 1 & T;
              if (P || (P = m), b.size != y.size && !C)
                return false;
              var w = S.get(b);
              if (w)
                return w == y;
              T |= 2, S.set(b, y);
              var N = d(P(b), P(y), T, E, O, S);
              return S.delete(b), N;
            case "[object Symbol]":
              if (v)
                return v.call(b) == v.call(y);
          }
          return false;
        };
      },
      6096: (s, l, u) => {
        var c = u(8234), f = Object.prototype.hasOwnProperty;
        s.exports = function(h, d, p, m, g, v) {
          var b = 1 & p, y = c(h), _ = y.length;
          if (_ != c(d).length && !b)
            return false;
          for (var T = _; T--; ) {
            var E = y[T];
            if (!(b ? E in d : f.call(d, E)))
              return false;
          }
          var O = v.get(h), S = v.get(d);
          if (O && S)
            return O == d && S == h;
          var P = true;
          v.set(h, d), v.set(d, h);
          for (var C = b; ++T < _; ) {
            var w = h[E = y[T]], N = d[E];
            if (m)
              var L = b ? m(N, w, E, d, h, v) : m(w, N, E, h, d, v);
            if (!(L === void 0 ? w === N || g(w, N, p, m, v) : L)) {
              P = false;
              break;
            }
            C || (C = E == "constructor");
          }
          if (P && !C) {
            var A = h.constructor, R = d.constructor;
            A == R || !("constructor" in h) || !("constructor" in d) || typeof A == "function" && A instanceof A && typeof R == "function" && R instanceof R || (P = false);
          }
          return v.delete(h), v.delete(d), P;
        };
      },
      1957: (s, l, u) => {
        var c = typeof u.g == "object" && u.g && u.g.Object === Object && u.g;
        s.exports = c;
      },
      8234: (s, l, u) => {
        var c = u(8866), f = u(9551), h = u(3674);
        s.exports = function(d) {
          return c(d, h, f);
        };
      },
      5050: (s, l, u) => {
        var c = u(7019);
        s.exports = function(f, h) {
          var d = f.__data__;
          return c(h) ? d[typeof h == "string" ? "string" : "hash"] : d.map;
        };
      },
      852: (s, l, u) => {
        var c = u(8458), f = u(7801);
        s.exports = function(h, d) {
          var p = f(h, d);
          return c(p) ? p : void 0;
        };
      },
      9607: (s, l, u) => {
        var c = u(2705), f = Object.prototype, h = f.hasOwnProperty, d = f.toString, p = c ? c.toStringTag : void 0;
        s.exports = function(m) {
          var g = h.call(m, p), v = m[p];
          try {
            m[p] = void 0;
            var b = true;
          } catch {
          }
          var y = d.call(m);
          return b && (g ? m[p] = v : delete m[p]), y;
        };
      },
      9551: (s, l, u) => {
        var c = u(4963), f = u(479), h = Object.prototype.propertyIsEnumerable, d = Object.getOwnPropertySymbols, p = d ? function(m) {
          return m == null ? [] : (m = Object(m), c(d(m), function(g) {
            return h.call(m, g);
          }));
        } : f;
        s.exports = p;
      },
      4160: (s, l, u) => {
        var c = u(8552), f = u(7071), h = u(3818), d = u(8525), p = u(577), m = u(4239), g = u(346), v = "[object Map]", b = "[object Promise]", y = "[object Set]", _ = "[object WeakMap]", T = "[object DataView]", E = g(c), O = g(f), S = g(h), P = g(d), C = g(p), w = m;
        (c && w(new c(new ArrayBuffer(1))) != T || f && w(new f()) != v || h && w(h.resolve()) != b || d && w(new d()) != y || p && w(new p()) != _) && (w = function(N) {
          var L = m(N), A = L == "[object Object]" ? N.constructor : void 0, R = A ? g(A) : "";
          if (R)
            switch (R) {
              case E:
                return T;
              case O:
                return v;
              case S:
                return b;
              case P:
                return y;
              case C:
                return _;
            }
          return L;
        }), s.exports = w;
      },
      7801: (s) => {
        s.exports = function(l, u) {
          return l == null ? void 0 : l[u];
        };
      },
      1789: (s, l, u) => {
        var c = u(4536);
        s.exports = function() {
          this.__data__ = c ? c(null) : {}, this.size = 0;
        };
      },
      401: (s) => {
        s.exports = function(l) {
          var u = this.has(l) && delete this.__data__[l];
          return this.size -= u ? 1 : 0, u;
        };
      },
      7667: (s, l, u) => {
        var c = u(4536), f = Object.prototype.hasOwnProperty;
        s.exports = function(h) {
          var d = this.__data__;
          if (c) {
            var p = d[h];
            return p === "__lodash_hash_undefined__" ? void 0 : p;
          }
          return f.call(d, h) ? d[h] : void 0;
        };
      },
      1327: (s, l, u) => {
        var c = u(4536), f = Object.prototype.hasOwnProperty;
        s.exports = function(h) {
          var d = this.__data__;
          return c ? d[h] !== void 0 : f.call(d, h);
        };
      },
      1866: (s, l, u) => {
        var c = u(4536);
        s.exports = function(f, h) {
          var d = this.__data__;
          return this.size += this.has(f) ? 0 : 1, d[f] = c && h === void 0 ? "__lodash_hash_undefined__" : h, this;
        };
      },
      5776: (s) => {
        var l = /^(?:0|[1-9]\d*)$/;
        s.exports = function(u, c) {
          var f = typeof u;
          return !!(c = c ?? 9007199254740991) && (f == "number" || f != "symbol" && l.test(u)) && u > -1 && u % 1 == 0 && u < c;
        };
      },
      7019: (s) => {
        s.exports = function(l) {
          var u = typeof l;
          return u == "string" || u == "number" || u == "symbol" || u == "boolean" ? l !== "__proto__" : l === null;
        };
      },
      5346: (s, l, u) => {
        var c, f = u(4429), h = (c = /[^.]+$/.exec(f && f.keys && f.keys.IE_PROTO || "")) ? "Symbol(src)_1." + c : "";
        s.exports = function(d) {
          return !!h && h in d;
        };
      },
      5726: (s) => {
        var l = Object.prototype;
        s.exports = function(u) {
          var c = u && u.constructor;
          return u === (typeof c == "function" && c.prototype || l);
        };
      },
      7040: (s) => {
        s.exports = function() {
          this.__data__ = [], this.size = 0;
        };
      },
      4125: (s, l, u) => {
        var c = u(8470), f = Array.prototype.splice;
        s.exports = function(h) {
          var d = this.__data__, p = c(d, h);
          return !(p < 0 || (p == d.length - 1 ? d.pop() : f.call(d, p, 1), --this.size, 0));
        };
      },
      2117: (s, l, u) => {
        var c = u(8470);
        s.exports = function(f) {
          var h = this.__data__, d = c(h, f);
          return d < 0 ? void 0 : h[d][1];
        };
      },
      7518: (s, l, u) => {
        var c = u(8470);
        s.exports = function(f) {
          return c(this.__data__, f) > -1;
        };
      },
      4705: (s, l, u) => {
        var c = u(8470);
        s.exports = function(f, h) {
          var d = this.__data__, p = c(d, f);
          return p < 0 ? (++this.size, d.push([f, h])) : d[p][1] = h, this;
        };
      },
      4785: (s, l, u) => {
        var c = u(1989), f = u(8407), h = u(7071);
        s.exports = function() {
          this.size = 0, this.__data__ = {
            hash: new c(),
            map: new (h || f)(),
            string: new c()
          };
        };
      },
      1285: (s, l, u) => {
        var c = u(5050);
        s.exports = function(f) {
          var h = c(this, f).delete(f);
          return this.size -= h ? 1 : 0, h;
        };
      },
      6e3: (s, l, u) => {
        var c = u(5050);
        s.exports = function(f) {
          return c(this, f).get(f);
        };
      },
      9916: (s, l, u) => {
        var c = u(5050);
        s.exports = function(f) {
          return c(this, f).has(f);
        };
      },
      5265: (s, l, u) => {
        var c = u(5050);
        s.exports = function(f, h) {
          var d = c(this, f), p = d.size;
          return d.set(f, h), this.size += d.size == p ? 0 : 1, this;
        };
      },
      8776: (s) => {
        s.exports = function(l) {
          var u = -1, c = Array(l.size);
          return l.forEach(function(f, h) {
            c[++u] = [h, f];
          }), c;
        };
      },
      4536: (s, l, u) => {
        var c = u(852)(Object, "create");
        s.exports = c;
      },
      6916: (s, l, u) => {
        var c = u(5569)(Object.keys, Object);
        s.exports = c;
      },
      1167: (s, l, u) => {
        s = u.nmd(s);
        var c = u(1957), f = l && !l.nodeType && l, h = f && s && !s.nodeType && s, d = h && h.exports === f && c.process, p = function() {
          try {
            return h && h.require && h.require("util").types || d && d.binding && d.binding("util");
          } catch {
          }
        }();
        s.exports = p;
      },
      2333: (s) => {
        var l = Object.prototype.toString;
        s.exports = function(u) {
          return l.call(u);
        };
      },
      5569: (s) => {
        s.exports = function(l, u) {
          return function(c) {
            return l(u(c));
          };
        };
      },
      5639: (s, l, u) => {
        var c = u(1957), f = typeof self == "object" && self && self.Object === Object && self, h = c || f || Function("return this")();
        s.exports = h;
      },
      619: (s) => {
        s.exports = function(l) {
          return this.__data__.set(l, "__lodash_hash_undefined__"), this;
        };
      },
      2385: (s) => {
        s.exports = function(l) {
          return this.__data__.has(l);
        };
      },
      1814: (s) => {
        s.exports = function(l) {
          var u = -1, c = Array(l.size);
          return l.forEach(function(f) {
            c[++u] = f;
          }), c;
        };
      },
      7465: (s, l, u) => {
        var c = u(8407);
        s.exports = function() {
          this.__data__ = new c(), this.size = 0;
        };
      },
      3779: (s) => {
        s.exports = function(l) {
          var u = this.__data__, c = u.delete(l);
          return this.size = u.size, c;
        };
      },
      7599: (s) => {
        s.exports = function(l) {
          return this.__data__.get(l);
        };
      },
      4758: (s) => {
        s.exports = function(l) {
          return this.__data__.has(l);
        };
      },
      4309: (s, l, u) => {
        var c = u(8407), f = u(7071), h = u(3369);
        s.exports = function(d, p) {
          var m = this.__data__;
          if (m instanceof c) {
            var g = m.__data__;
            if (!f || g.length < 199)
              return g.push([d, p]), this.size = ++m.size, this;
            m = this.__data__ = new h(g);
          }
          return m.set(d, p), this.size = m.size, this;
        };
      },
      346: (s) => {
        var l = Function.prototype.toString;
        s.exports = function(u) {
          if (u != null) {
            try {
              return l.call(u);
            } catch {
            }
            try {
              return u + "";
            } catch {
            }
          }
          return "";
        };
      },
      7813: (s) => {
        s.exports = function(l, u) {
          return l === u || l != l && u != u;
        };
      },
      5694: (s, l, u) => {
        var c = u(9454), f = u(7005), h = Object.prototype, d = h.hasOwnProperty, p = h.propertyIsEnumerable, m = c(/* @__PURE__ */ function() {
          return arguments;
        }()) ? c : function(g) {
          return f(g) && d.call(g, "callee") && !p.call(g, "callee");
        };
        s.exports = m;
      },
      1469: (s) => {
        var l = Array.isArray;
        s.exports = l;
      },
      8612: (s, l, u) => {
        var c = u(3560), f = u(1780);
        s.exports = function(h) {
          return h != null && f(h.length) && !c(h);
        };
      },
      4144: (s, l, u) => {
        s = u.nmd(s);
        var c = u(5639), f = u(5062), h = l && !l.nodeType && l, d = h && s && !s.nodeType && s, p = d && d.exports === h ? c.Buffer : void 0, m = (p ? p.isBuffer : void 0) || f;
        s.exports = m;
      },
      8446: (s, l, u) => {
        var c = u(939);
        s.exports = function(f, h) {
          return c(f, h);
        };
      },
      3560: (s, l, u) => {
        var c = u(4239), f = u(3218);
        s.exports = function(h) {
          if (!f(h))
            return false;
          var d = c(h);
          return d == "[object Function]" || d == "[object GeneratorFunction]" || d == "[object AsyncFunction]" || d == "[object Proxy]";
        };
      },
      1780: (s) => {
        s.exports = function(l) {
          return typeof l == "number" && l > -1 && l % 1 == 0 && l <= 9007199254740991;
        };
      },
      3218: (s) => {
        s.exports = function(l) {
          var u = typeof l;
          return l != null && (u == "object" || u == "function");
        };
      },
      7005: (s) => {
        s.exports = function(l) {
          return l != null && typeof l == "object";
        };
      },
      6719: (s, l, u) => {
        var c = u(8749), f = u(1717), h = u(1167), d = h && h.isTypedArray, p = d ? f(d) : c;
        s.exports = p;
      },
      3674: (s, l, u) => {
        var c = u(4636), f = u(280), h = u(8612);
        s.exports = function(d) {
          return h(d) ? c(d) : f(d);
        };
      },
      8306: (s, l, u) => {
        var c = u(3369);
        function f(h, d) {
          if (typeof h != "function" || d != null && typeof d != "function")
            throw new TypeError("Expected a function");
          var p = function() {
            var m = arguments, g = d ? d.apply(this, m) : m[0], v = p.cache;
            if (v.has(g))
              return v.get(g);
            var b = h.apply(this, m);
            return p.cache = v.set(g, b) || v, b;
          };
          return p.cache = new (f.Cache || c)(), p;
        }
        f.Cache = c, s.exports = f;
      },
      479: (s) => {
        s.exports = function() {
          return [];
        };
      },
      5062: (s) => {
        s.exports = function() {
          return false;
        };
      },
      2703: (s, l, u) => {
        var c = u(414);
        function f() {
        }
        function h() {
        }
        h.resetWarningCache = f, s.exports = function() {
          function d(g, v, b, y, _, T) {
            if (T !== c) {
              var E = new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");
              throw E.name = "Invariant Violation", E;
            }
          }
          function p() {
            return d;
          }
          d.isRequired = d;
          var m = {
            array: d,
            bigint: d,
            bool: d,
            func: d,
            number: d,
            object: d,
            string: d,
            symbol: d,
            any: d,
            arrayOf: p,
            element: d,
            elementType: d,
            instanceOf: p,
            node: d,
            objectOf: p,
            oneOf: p,
            oneOfType: p,
            shape: p,
            exact: p,
            checkPropTypes: h,
            resetWarningCache: f
          };
          return m.PropTypes = m, m;
        };
      },
      5697: (s, l, u) => {
        s.exports = u(2703)();
      },
      414: (s) => {
        s.exports = "SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";
      },
      9787: (s) => {
        s.exports = r;
      }
    }, i = {};
    function o(s) {
      var l = i[s];
      if (l !== void 0)
        return l.exports;
      var u = i[s] = {
        id: s,
        loaded: false,
        exports: {}
      };
      return n[s](u, u.exports, o), u.loaded = true, u.exports;
    }
    o.n = (s) => {
      var l = s && s.__esModule ? () => s.default : () => s;
      return o.d(l, {
        a: l
      }), l;
    }, o.d = (s, l) => {
      for (var u in l)
        o.o(l, u) && !o.o(s, u) && Object.defineProperty(s, u, {
          enumerable: true,
          get: l[u]
        });
    }, o.g = function() {
      if (typeof globalThis == "object")
        return globalThis;
      try {
        return this || new Function("return this")();
      } catch {
        if (typeof window == "object")
          return window;
      }
    }(), o.o = (s, l) => Object.prototype.hasOwnProperty.call(s, l), o.r = (s) => {
      typeof Symbol < "u" && Symbol.toStringTag && Object.defineProperty(s, Symbol.toStringTag, {
        value: "Module"
      }), Object.defineProperty(s, "__esModule", {
        value: true
      });
    }, o.nmd = (s) => (s.paths = [], s.children || (s.children = []), s);
    var a = {};
    return (() => {
      o.r(a), o.d(a, {
        default: () => ge,
        expandNodesToLevel: () => Q
      });
      var s = o(4184), l = o.n(s), u = o(8446), c = o.n(u), f = o(8306), h = o.n(f);
      let d = (Z = 21) => crypto.getRandomValues(new Uint8Array(Z)).reduce((Y, j) => Y + ((j &= 63) < 36 ? j.toString(36) : j < 62 ? (j - 26).toString(36).toUpperCase() : j > 62 ? "-" : "_"), "");
      var p = o(5697), m = o.n(p), g = o(9787), v = o.n(g);
      function b(Z) {
        return b = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function(Y) {
          return typeof Y;
        } : function(Y) {
          return Y && typeof Symbol == "function" && Y.constructor === Symbol && Y !== Symbol.prototype ? "symbol" : typeof Y;
        }, b(Z);
      }
      var y = ["children", "title"];
      function _() {
        return _ = Object.assign ? Object.assign.bind() : function(Z) {
          for (var Y = 1; Y < arguments.length; Y++) {
            var j = arguments[Y];
            for (var G in j)
              Object.prototype.hasOwnProperty.call(j, G) && (Z[G] = j[G]);
          }
          return Z;
        }, _.apply(this, arguments);
      }
      function T(Z, Y) {
        if (!(Z instanceof Y))
          throw new TypeError("Cannot call a class as a function");
      }
      function E(Z, Y) {
        for (var j = 0; j < Y.length; j++) {
          var G = Y[j];
          G.enumerable = G.enumerable || false, G.configurable = true, "value" in G && (G.writable = true), Object.defineProperty(Z, G.key, G);
        }
      }
      function O(Z, Y) {
        return O = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(j, G) {
          return j.__proto__ = G, j;
        }, O(Z, Y);
      }
      function S(Z, Y) {
        if (Y && (b(Y) === "object" || typeof Y == "function"))
          return Y;
        if (Y !== void 0)
          throw new TypeError("Derived constructors may only return object or undefined");
        return function(j) {
          if (j === void 0)
            throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
          return j;
        }(Z);
      }
      function P(Z) {
        return P = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(Y) {
          return Y.__proto__ || Object.getPrototypeOf(Y);
        }, P(Z);
      }
      function C(Z, Y, j) {
        return Y in Z ? Object.defineProperty(Z, Y, {
          value: j,
          enumerable: true,
          configurable: true,
          writable: true
        }) : Z[Y] = j, Z;
      }
      var w = function(Z) {
        (function(Se, me) {
          if (typeof me != "function" && me !== null)
            throw new TypeError("Super expression must either be null or a function");
          Se.prototype = Object.create(me && me.prototype, {
            constructor: {
              value: Se,
              writable: true,
              configurable: true
            }
          }), Object.defineProperty(Se, "prototype", {
            writable: false
          }), me && O(Se, me);
        })(ve, Z);
        var Y, j, G, ue, ye = (G = ve, ue = function() {
          if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
            return false;
          if (typeof Proxy == "function")
            return true;
          try {
            return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
            })), true;
          } catch {
            return false;
          }
        }(), function() {
          var Se, me = P(G);
          if (ue) {
            var be = P(this).constructor;
            Se = Reflect.construct(me, arguments, be);
          } else
            Se = me.apply(this, arguments);
          return S(this, Se);
        });
        function ve() {
          return T(this, ve), ye.apply(this, arguments);
        }
        return Y = ve, (j = [{
          key: "render",
          value: function() {
            var Se = this.props, me = Se.children, be = Se.title, z = function(U, ae) {
              if (U == null)
                return {};
              var we, Ie, Ye = function(dt, At) {
                if (dt == null)
                  return {};
                var Yt, Et, Ut = {}, or = Object.keys(dt);
                for (Et = 0; Et < or.length; Et++)
                  Yt = or[Et], At.indexOf(Yt) >= 0 || (Ut[Yt] = dt[Yt]);
                return Ut;
              }(U, ae);
              if (Object.getOwnPropertySymbols) {
                var qe = Object.getOwnPropertySymbols(U);
                for (Ie = 0; Ie < qe.length; Ie++)
                  we = qe[Ie], ae.indexOf(we) >= 0 || Object.prototype.propertyIsEnumerable.call(U, we) && (Ye[we] = U[we]);
              }
              return Ye;
            }(Se, y);
            return v().createElement("button", _({
              "aria-label": be,
              title: be,
              type: "button"
            }, z), me);
          }
        }]) && E(Y.prototype, j), Object.defineProperty(Y, "prototype", {
          writable: false
        }), ve;
      }(v().PureComponent);
      C(w, "propTypes", {
        children: m().node.isRequired,
        title: m().string
      }), C(w, "defaultProps", {
        title: null
      });
      const N = w, L = {
        ALL: "all",
        PARENT: "parent",
        LEAF: "leaf"
      };
      function A(Z) {
        this.message = Z, this.stack = Error().stack;
      }
      A.prototype = Object.create(Error.prototype), A.prototype.name = "CheckboxTreeError";
      const R = A;
      function F(Z, Y) {
        var j = Object.keys(Z);
        if (Object.getOwnPropertySymbols) {
          var G = Object.getOwnPropertySymbols(Z);
          Y && (G = G.filter(function(ue) {
            return Object.getOwnPropertyDescriptor(Z, ue).enumerable;
          })), j.push.apply(j, G);
        }
        return j;
      }
      function $(Z, Y, j) {
        return Y in Z ? Object.defineProperty(Z, Y, {
          value: j,
          enumerable: true,
          configurable: true,
          writable: true
        }) : Z[Y] = j, Z;
      }
      function K(Z, Y) {
        if (!(Z instanceof Y))
          throw new TypeError("Cannot call a class as a function");
      }
      function ie(Z, Y) {
        for (var j = 0; j < Y.length; j++) {
          var G = Y[j];
          G.enumerable = G.enumerable || false, G.configurable = true, "value" in G && (G.writable = true), Object.defineProperty(Z, G.key, G);
        }
      }
      var J = L;
      const pe = function() {
        function Z(G) {
          var ue = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
          K(this, Z), this.props = G, this.flatNodes = ue;
        }
        var Y, j;
        return Y = Z, j = [{
          key: "setProps",
          value: function(G) {
            this.props = G;
          }
        }, {
          key: "clone",
          value: function() {
            var G = this, ue = {};
            return Object.keys(this.flatNodes).forEach(function(ye) {
              var ve = G.flatNodes[ye];
              ue[ye] = function(Se) {
                for (var me = 1; me < arguments.length; me++) {
                  var be = arguments[me] != null ? arguments[me] : {};
                  me % 2 ? F(Object(be), true).forEach(function(z) {
                    $(Se, z, be[z]);
                  }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(Se, Object.getOwnPropertyDescriptors(be)) : F(Object(be)).forEach(function(z) {
                    Object.defineProperty(Se, z, Object.getOwnPropertyDescriptor(be, z));
                  });
                }
                return Se;
              }({}, ve);
            }), new Z(this.props, ue);
          }
        }, {
          key: "getNode",
          value: function(G) {
            return this.flatNodes[G];
          }
        }, {
          key: "reset",
          value: function() {
            this.flatNodes = {};
          }
        }, {
          key: "flattenNodes",
          value: function(G) {
            var ue = this, ye = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {}, ve = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 0;
            if (Array.isArray(G) && G.length !== 0) {
              var Se = this.props, me = Se.disabled, be = Se.noCascade;
              G.forEach(function(z, U) {
                var ae = ue.nodeHasChildren(z);
                if (ue.flatNodes[z.value] !== void 0)
                  throw new R("Duplicate value '".concat(z.value, "' detected. All node values must be unique."));
                ue.flatNodes[z.value] = {
                  label: z.label,
                  value: z.value,
                  children: z.children,
                  parent: ye,
                  isChild: ye.value !== void 0,
                  isParent: ae,
                  isLeaf: !ae,
                  showCheckbox: z.showCheckbox === void 0 || z.showCheckbox,
                  disabled: ue.getDisabledState(z, ye, me, be),
                  treeDepth: ve,
                  index: U
                }, ue.flattenNodes(z.children, z, ve + 1);
              });
            }
          }
        }, {
          key: "nodeHasChildren",
          value: function(G) {
            return Array.isArray(G.children);
          }
        }, {
          key: "getDisabledState",
          value: function(G, ue, ye, ve) {
            return !!ye || !(ve || !ue.disabled) || !!G.disabled;
          }
        }, {
          key: "deserializeLists",
          value: function(G) {
            var ue = this, ye = ["checked", "expanded"];
            Object.keys(this.flatNodes).forEach(function(ve) {
              ye.forEach(function(Se) {
                ue.flatNodes[ve][Se] = false;
              });
            }), ye.forEach(function(ve) {
              G[ve].forEach(function(Se) {
                ue.flatNodes[Se] !== void 0 && (ue.flatNodes[Se][ve] = true);
              });
            });
          }
        }, {
          key: "serializeList",
          value: function(G) {
            var ue = this, ye = [];
            return Object.keys(this.flatNodes).forEach(function(ve) {
              ue.flatNodes[ve][G] && ye.push(ve);
            }), ye;
          }
        }, {
          key: "expandAllNodes",
          value: function(G) {
            var ue = this;
            return Object.keys(this.flatNodes).forEach(function(ye) {
              ue.flatNodes[ye].isParent && (ue.flatNodes[ye].expanded = G);
            }), this;
          }
        }, {
          key: "toggleChecked",
          value: function(G, ue, ye, ve) {
            var Se = this, me = !(arguments.length > 4 && arguments[4] !== void 0) || arguments[4], be = this.flatNodes[G.value], z = [J.PARENT, J.ALL].indexOf(ye) > -1, U = [J.LEAF, J.ALL].indexOf(ye) > -1;
            if (be.isLeaf || ve) {
              if (G.disabled)
                return this;
              this.toggleNode(G.value, "checked", ue);
            } else
              (z || be.children.length === 0) && this.toggleNode(G.value, "checked", ue), U && be.children.forEach(function(ae) {
                Se.toggleChecked(ae, ue, ye, ve, false);
              });
            return me && !ve && be.isChild && z && this.toggleParentStatus(be.parent, ye), this;
          }
        }, {
          key: "toggleParentStatus",
          value: function(G, ue) {
            var ye = this.flatNodes[G.value];
            ye.isChild ? (ue === J.ALL && this.toggleNode(G.value, "checked", this.isEveryChildChecked(ye)), this.toggleParentStatus(ye.parent, ue)) : this.toggleNode(G.value, "checked", this.isEveryChildChecked(ye));
          }
        }, {
          key: "isEveryChildChecked",
          value: function(G) {
            var ue = this;
            return G.children.every(function(ye) {
              return ue.getNode(ye.value).checked;
            });
          }
        }, {
          key: "toggleNode",
          value: function(G, ue, ye) {
            return this.flatNodes[G][ue] = ye, this;
          }
        }], j && ie(Y.prototype, j), Object.defineProperty(Y, "prototype", {
          writable: false
        }), Z;
      }();
      function oe(Z) {
        return oe = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function(Y) {
          return typeof Y;
        } : function(Y) {
          return Y && typeof Symbol == "function" && Y.constructor === Symbol && Y !== Symbol.prototype ? "symbol" : typeof Y;
        }, oe(Z);
      }
      function q() {
        return q = Object.assign ? Object.assign.bind() : function(Z) {
          for (var Y = 1; Y < arguments.length; Y++) {
            var j = arguments[Y];
            for (var G in j)
              Object.prototype.hasOwnProperty.call(j, G) && (Z[G] = j[G]);
          }
          return Z;
        }, q.apply(this, arguments);
      }
      function W(Z, Y) {
        var j = Object.keys(Z);
        if (Object.getOwnPropertySymbols) {
          var G = Object.getOwnPropertySymbols(Z);
          Y && (G = G.filter(function(ue) {
            return Object.getOwnPropertyDescriptor(Z, ue).enumerable;
          })), j.push.apply(j, G);
        }
        return j;
      }
      function se(Z, Y) {
        if (!(Z instanceof Y))
          throw new TypeError("Cannot call a class as a function");
      }
      function Te(Z, Y) {
        for (var j = 0; j < Y.length; j++) {
          var G = Y[j];
          G.enumerable = G.enumerable || false, G.configurable = true, "value" in G && (G.writable = true), Object.defineProperty(Z, G.key, G);
        }
      }
      function Ae(Z, Y) {
        return Ae = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(j, G) {
          return j.__proto__ = G, j;
        }, Ae(Z, Y);
      }
      function Re(Z, Y) {
        if (Y && (oe(Y) === "object" || typeof Y == "function"))
          return Y;
        if (Y !== void 0)
          throw new TypeError("Derived constructors may only return object or undefined");
        return function(j) {
          if (j === void 0)
            throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
          return j;
        }(Z);
      }
      function Ee(Z) {
        return Ee = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(Y) {
          return Y.__proto__ || Object.getPrototypeOf(Y);
        }, Ee(Z);
      }
      function Me(Z, Y, j) {
        return Y in Z ? Object.defineProperty(Z, Y, {
          value: j,
          enumerable: true,
          configurable: true,
          writable: true
        }) : Z[Y] = j, Z;
      }
      var Ne = function(Z) {
        (function(Se, me) {
          if (typeof me != "function" && me !== null)
            throw new TypeError("Super expression must either be null or a function");
          Se.prototype = Object.create(me && me.prototype, {
            constructor: {
              value: Se,
              writable: true,
              configurable: true
            }
          }), Object.defineProperty(Se, "prototype", {
            writable: false
          }), me && Ae(Se, me);
        })(ve, Z);
        var Y, j, G, ue, ye = (G = ve, ue = function() {
          if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
            return false;
          if (typeof Proxy == "function")
            return true;
          try {
            return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
            })), true;
          } catch {
            return false;
          }
        }(), function() {
          var Se, me = Ee(G);
          if (ue) {
            var be = Ee(this).constructor;
            Se = Reflect.construct(me, arguments, be);
          } else
            Se = me.apply(this, arguments);
          return Re(this, Se);
        });
        function ve() {
          return se(this, ve), ye.apply(this, arguments);
        }
        return Y = ve, j = [{
          key: "componentDidMount",
          value: function() {
            this.updateDeterminateProperty();
          }
        }, {
          key: "componentDidUpdate",
          value: function() {
            this.updateDeterminateProperty();
          }
        }, {
          key: "updateDeterminateProperty",
          value: function() {
            var Se = this.props.indeterminate;
            this.checkbox.indeterminate = Se;
          }
        }, {
          key: "render",
          value: function() {
            var Se = this, me = function(be) {
              for (var z = 1; z < arguments.length; z++) {
                var U = arguments[z] != null ? arguments[z] : {};
                z % 2 ? W(Object(U), true).forEach(function(ae) {
                  Me(be, ae, U[ae]);
                }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(be, Object.getOwnPropertyDescriptors(U)) : W(Object(U)).forEach(function(ae) {
                  Object.defineProperty(be, ae, Object.getOwnPropertyDescriptor(U, ae));
                });
              }
              return be;
            }({}, this.props);
            return delete me.indeterminate, v().createElement("input", q({}, me, {
              ref: function(be) {
                Se.checkbox = be;
              },
              type: "checkbox"
            }));
          }
        }], j && Te(Y.prototype, j), Object.defineProperty(Y, "prototype", {
          writable: false
        }), ve;
      }(v().PureComponent);
      Me(Ne, "propTypes", {
        indeterminate: m().bool
      }), Me(Ne, "defaultProps", {
        indeterminate: false
      });
      const Oe = Ne, Fe = m().shape({
        check: m().node,
        uncheck: m().node,
        halfCheck: m().node,
        expandClose: m().node,
        expandOpen: m().node,
        expandAll: m().node,
        collapseAll: m().node,
        parentClose: m().node,
        parentOpen: m().node,
        leaf: m().node
      }), Ue = m().shape({
        collapseAll: m().string.isRequired,
        expandAll: m().string.isRequired,
        toggle: m().string.isRequired
      });
      function et(Z) {
        return et = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function(Y) {
          return typeof Y;
        } : function(Y) {
          return Y && typeof Symbol == "function" && Y.constructor === Symbol && Y !== Symbol.prototype ? "symbol" : typeof Y;
        }, et(Z);
      }
      function ot(Z, Y) {
        for (var j = 0; j < Y.length; j++) {
          var G = Y[j];
          G.enumerable = G.enumerable || false, G.configurable = true, "value" in G && (G.writable = true), Object.defineProperty(Z, G.key, G);
        }
      }
      function Ke(Z, Y) {
        return Ke = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(j, G) {
          return j.__proto__ = G, j;
        }, Ke(Z, Y);
      }
      function ht(Z, Y) {
        if (Y && (et(Y) === "object" || typeof Y == "function"))
          return Y;
        if (Y !== void 0)
          throw new TypeError("Derived constructors may only return object or undefined");
        return bt(Z);
      }
      function bt(Z) {
        if (Z === void 0)
          throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return Z;
      }
      function $t(Z) {
        return $t = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(Y) {
          return Y.__proto__ || Object.getPrototypeOf(Y);
        }, $t(Z);
      }
      function rn(Z, Y, j) {
        return Y in Z ? Object.defineProperty(Z, Y, {
          value: j,
          enumerable: true,
          configurable: true,
          writable: true
        }) : Z[Y] = j, Z;
      }
      var Ht = function(Z) {
        (function(Se, me) {
          if (typeof me != "function" && me !== null)
            throw new TypeError("Super expression must either be null or a function");
          Se.prototype = Object.create(me && me.prototype, {
            constructor: {
              value: Se,
              writable: true,
              configurable: true
            }
          }), Object.defineProperty(Se, "prototype", {
            writable: false
          }), me && Ke(Se, me);
        })(ve, Z);
        var Y, j, G, ue, ye = (G = ve, ue = function() {
          if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
            return false;
          if (typeof Proxy == "function")
            return true;
          try {
            return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
            })), true;
          } catch {
            return false;
          }
        }(), function() {
          var Se, me = $t(G);
          if (ue) {
            var be = $t(this).constructor;
            Se = Reflect.construct(me, arguments, be);
          } else
            Se = me.apply(this, arguments);
          return ht(this, Se);
        });
        function ve(Se) {
          var me;
          return function(be, z) {
            if (!(be instanceof z))
              throw new TypeError("Cannot call a class as a function");
          }(this, ve), (me = ye.call(this, Se)).onCheck = me.onCheck.bind(bt(me)), me.onCheckboxKeyPress = me.onCheckboxKeyPress.bind(bt(me)), me.onCheckboxKeyUp = me.onCheckboxKeyUp.bind(bt(me)), me.onClick = me.onClick.bind(bt(me)), me.onExpand = me.onExpand.bind(bt(me)), me;
        }
        return Y = ve, (j = [{
          key: "onCheck",
          value: function() {
            var Se = this.props, me = Se.value;
            (0, Se.onCheck)({
              value: me,
              checked: this.getCheckState({
                toggle: true
              })
            });
          }
        }, {
          key: "onCheckboxKeyPress",
          value: function(Se) {
            Se.which === 32 && Se.preventDefault();
          }
        }, {
          key: "onCheckboxKeyUp",
          value: function(Se) {
            var me = Se.keyCode;
            [13, 32].includes(me) && this.onCheck();
          }
        }, {
          key: "onClick",
          value: function() {
            var Se = this.props, me = Se.expandOnClick, be = Se.isParent, z = Se.value, U = Se.onClick;
            be && me && this.onExpand(), U({
              value: z,
              checked: this.getCheckState({
                toggle: false
              })
            });
          }
        }, {
          key: "onExpand",
          value: function() {
            var Se = this.props, me = Se.expanded, be = Se.value;
            (0, Se.onExpand)({
              value: be,
              expanded: !me
            });
          }
        }, {
          key: "getCheckState",
          value: function(Se) {
            var me = Se.toggle, be = this.props, z = be.checked, U = be.optimisticToggle;
            return !(z !== 0 || !me) || z === 1 && !me || z === 2 && U;
          }
        }, {
          key: "renderCollapseButton",
          value: function() {
            var Se = this.props, me = Se.expandDisabled, be = Se.isLeaf, z = Se.lang;
            return be ? v().createElement("span", {
              className: "rct-collapse"
            }, v().createElement("span", {
              className: "rct-icon"
            })) : v().createElement(N, {
              className: "rct-collapse rct-collapse-btn",
              disabled: me,
              title: z.toggle,
              onClick: this.onExpand
            }, this.renderCollapseIcon());
          }
        }, {
          key: "renderCollapseIcon",
          value: function() {
            var Se = this.props, me = Se.expanded, be = Se.icons, z = be.expandClose, U = be.expandOpen;
            return me ? U : z;
          }
        }, {
          key: "renderCheckboxIcon",
          value: function() {
            var Se = this.props, me = Se.checked, be = Se.icons, z = be.uncheck, U = be.check, ae = be.halfCheck;
            return me === 0 ? z : me === 1 ? U : ae;
          }
        }, {
          key: "renderNodeIcon",
          value: function() {
            var Se = this.props, me = Se.expanded, be = Se.icon, z = Se.icons, U = z.leaf, ae = z.parentClose, we = z.parentOpen, Ie = Se.isLeaf;
            return be !== null ? be : Ie ? U : me ? we : ae;
          }
        }, {
          key: "renderBareLabel",
          value: function(Se) {
            var me = this.props, be = me.onClick, z = me.title, U = be !== null;
            return v().createElement("span", {
              className: "rct-bare-label",
              title: z
            }, U ? v().createElement("span", {
              className: "rct-node-clickable",
              onClick: this.onClick,
              onKeyPress: this.onClick,
              role: "button",
              tabIndex: 0
            }, Se) : Se);
          }
        }, {
          key: "renderCheckboxLabel",
          value: function(Se) {
            var me = this.props, be = me.checked, z = me.disabled, U = me.title, ae = me.treeId, we = me.value, Ie = me.onClick !== null, Ye = "".concat(ae, "-").concat(String(we).split(" ").join("_")), qe = [v().createElement("label", {
              key: 0,
              htmlFor: Ye,
              title: U
            }, v().createElement(Oe, {
              checked: be === 1,
              disabled: z,
              id: Ye,
              indeterminate: be === 2,
              onClick: this.onCheck,
              onChange: function() {
              }
            }), v().createElement("span", {
              "aria-checked": be === 1,
              "aria-disabled": z,
              className: "rct-checkbox",
              role: "checkbox",
              tabIndex: 0,
              onKeyPress: this.onCheckboxKeyPress,
              onKeyUp: this.onCheckboxKeyUp
            }, this.renderCheckboxIcon()), Ie ? null : Se)];
            return Ie && qe.push(v().createElement("span", {
              key: 1,
              className: "rct-node-clickable",
              onClick: this.onClick,
              onKeyPress: this.onClick,
              role: "link",
              tabIndex: 0
            }, Se)), qe;
          }
        }, {
          key: "renderLabel",
          value: function() {
            var Se = this.props, me = Se.label, be = Se.showCheckbox, z = [Se.showNodeIcon ? v().createElement("span", {
              key: 0,
              className: "rct-node-icon"
            }, this.renderNodeIcon()) : null, v().createElement("span", {
              key: 1,
              className: "rct-title"
            }, me)];
            return be ? this.renderCheckboxLabel(z) : this.renderBareLabel(z);
          }
        }, {
          key: "renderChildren",
          value: function() {
            return this.props.expanded ? this.props.children : null;
          }
        }, {
          key: "render",
          value: function() {
            var Se = this.props, me = Se.className, be = Se.disabled, z = Se.expanded, U = Se.isLeaf, ae = l()({
              "rct-node": true,
              "rct-node-leaf": U,
              "rct-node-parent": !U,
              "rct-node-expanded": !U && z,
              "rct-node-collapsed": !U && !z,
              "rct-disabled": be
            }, me);
            return v().createElement("li", {
              className: ae
            }, v().createElement("span", {
              className: "rct-text"
            }, this.renderCollapseButton(), this.renderLabel()), this.renderChildren());
          }
        }]) && ot(Y.prototype, j), Object.defineProperty(Y, "prototype", {
          writable: false
        }), ve;
      }(v().PureComponent);
      rn(Ht, "propTypes", {
        checked: m().number.isRequired,
        disabled: m().bool.isRequired,
        expandDisabled: m().bool.isRequired,
        expanded: m().bool.isRequired,
        icons: Fe.isRequired,
        isLeaf: m().bool.isRequired,
        isParent: m().bool.isRequired,
        label: m().node.isRequired,
        lang: Ue.isRequired,
        optimisticToggle: m().bool.isRequired,
        showNodeIcon: m().bool.isRequired,
        treeId: m().string.isRequired,
        value: m().oneOfType([m().string, m().number]).isRequired,
        onCheck: m().func.isRequired,
        onExpand: m().func.isRequired,
        children: m().node,
        className: m().string,
        expandOnClick: m().bool,
        icon: m().node,
        showCheckbox: m().bool,
        title: m().string,
        onClick: m().func
      }), rn(Ht, "defaultProps", {
        children: null,
        className: null,
        expandOnClick: false,
        icon: null,
        showCheckbox: true,
        title: null,
        onClick: function() {
        }
      });
      const xe = Ht, ne = m().oneOfType([m().arrayOf(m().string), m().arrayOf(m().number)]);
      function ce(Z, Y) {
        var j = Object.keys(Z);
        if (Object.getOwnPropertySymbols) {
          var G = Object.getOwnPropertySymbols(Z);
          Y && (G = G.filter(function(ue) {
            return Object.getOwnPropertyDescriptor(Z, ue).enumerable;
          })), j.push.apply(j, G);
        }
        return j;
      }
      function _e(Z) {
        for (var Y = 1; Y < arguments.length; Y++) {
          var j = arguments[Y] != null ? arguments[Y] : {};
          Y % 2 ? ce(Object(j), true).forEach(function(G) {
            ee(Z, G, j[G]);
          }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(Z, Object.getOwnPropertyDescriptors(j)) : ce(Object(j)).forEach(function(G) {
            Object.defineProperty(Z, G, Object.getOwnPropertyDescriptor(j, G));
          });
        }
        return Z;
      }
      function ee(Z, Y, j) {
        return Y in Z ? Object.defineProperty(Z, Y, {
          value: j,
          enumerable: true,
          configurable: true,
          writable: true
        }) : Z[Y] = j, Z;
      }
      var de = {
        label: m().node.isRequired,
        value: m().oneOfType([m().string, m().number]).isRequired,
        disabled: m().bool,
        icon: m().node,
        showCheckbox: m().bool,
        title: m().string
      };
      const Ce = m().oneOfType([m().shape(de), m().shape(_e(_e({}, de), {}, {
        children: m().arrayOf(de).isRequired
      }))]);
      function ke(Z) {
        return ke = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function(Y) {
          return typeof Y;
        } : function(Y) {
          return Y && typeof Symbol == "function" && Y.constructor === Symbol && Y !== Symbol.prototype ? "symbol" : typeof Y;
        }, ke(Z);
      }
      function Ve(Z, Y) {
        var j = Object.keys(Z);
        if (Object.getOwnPropertySymbols) {
          var G = Object.getOwnPropertySymbols(Z);
          Y && (G = G.filter(function(ue) {
            return Object.getOwnPropertyDescriptor(Z, ue).enumerable;
          })), j.push.apply(j, G);
        }
        return j;
      }
      function We(Z) {
        for (var Y = 1; Y < arguments.length; Y++) {
          var j = arguments[Y] != null ? arguments[Y] : {};
          Y % 2 ? Ve(Object(j), true).forEach(function(G) {
            pr(Z, G, j[G]);
          }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(Z, Object.getOwnPropertyDescriptors(j)) : Ve(Object(j)).forEach(function(G) {
            Object.defineProperty(Z, G, Object.getOwnPropertyDescriptor(j, G));
          });
        }
        return Z;
      }
      function Ze(Z, Y) {
        for (var j = 0; j < Y.length; j++) {
          var G = Y[j];
          G.enumerable = G.enumerable || false, G.configurable = true, "value" in G && (G.writable = true), Object.defineProperty(Z, G.key, G);
        }
      }
      function rt(Z, Y) {
        return rt = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(j, G) {
          return j.__proto__ = G, j;
        }, rt(Z, Y);
      }
      function ut(Z, Y) {
        if (Y && (ke(Y) === "object" || typeof Y == "function"))
          return Y;
        if (Y !== void 0)
          throw new TypeError("Derived constructors may only return object or undefined");
        return Dt(Z);
      }
      function Dt(Z) {
        if (Z === void 0)
          throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return Z;
      }
      function gt(Z) {
        return gt = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(Y) {
          return Y.__proto__ || Object.getPrototypeOf(Y);
        }, gt(Z);
      }
      function pr(Z, Y, j) {
        return Y in Z ? Object.defineProperty(Z, Y, {
          value: j,
          enumerable: true,
          configurable: true,
          writable: true
        }) : Z[Y] = j, Z;
      }
      var H = function(Z) {
        (function(me, be) {
          if (typeof be != "function" && be !== null)
            throw new TypeError("Super expression must either be null or a function");
          me.prototype = Object.create(be && be.prototype, {
            constructor: {
              value: me,
              writable: true,
              configurable: true
            }
          }), Object.defineProperty(me, "prototype", {
            writable: false
          }), be && rt(me, be);
        })(Se, Z);
        var Y, j, G, ue, ye, ve = (ue = Se, ye = function() {
          if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
            return false;
          if (typeof Proxy == "function")
            return true;
          try {
            return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
            })), true;
          } catch {
            return false;
          }
        }(), function() {
          var me, be = gt(ue);
          if (ye) {
            var z = gt(this).constructor;
            me = Reflect.construct(be, arguments, z);
          } else
            me = be.apply(this, arguments);
          return ut(this, me);
        });
        function Se(me) {
          var be;
          (function(U, ae) {
            if (!(U instanceof ae))
              throw new TypeError("Cannot call a class as a function");
          })(this, Se), be = ve.call(this, me);
          var z = new pe(me);
          return z.flattenNodes(me.nodes), z.deserializeLists({
            checked: me.checked,
            expanded: me.expanded
          }), be.state = {
            id: me.id || "rct-".concat(d()),
            model: z,
            prevProps: me
          }, be.onCheck = be.onCheck.bind(Dt(be)), be.onExpand = be.onExpand.bind(Dt(be)), be.onNodeClick = be.onNodeClick.bind(Dt(be)), be.onExpandAll = be.onExpandAll.bind(Dt(be)), be.onCollapseAll = be.onCollapseAll.bind(Dt(be)), be.combineMemorized = h()(function(U, ae) {
            return We(We({}, U), ae);
          }).bind(Dt(be)), be;
        }
        return Y = Se, j = [{
          key: "onCheck",
          value: function(me) {
            var be = this.props, z = be.checkModel, U = be.noCascade, ae = be.onCheck, we = this.state.model.clone(), Ie = we.getNode(me.value);
            we.toggleChecked(me, me.checked, z, U), ae(we.serializeList("checked"), We(We({}, Ie), me));
          }
        }, {
          key: "onExpand",
          value: function(me) {
            var be = this.props.onExpand, z = this.state.model.clone(), U = z.getNode(me.value);
            z.toggleNode(me.value, "expanded", me.expanded), be(z.serializeList("expanded"), We(We({}, U), me));
          }
        }, {
          key: "onNodeClick",
          value: function(me) {
            (0, this.props.onClick)(We(We({}, this.state.model.getNode(me.value)), me));
          }
        }, {
          key: "onExpandAll",
          value: function() {
            this.expandAllNodes();
          }
        }, {
          key: "onCollapseAll",
          value: function() {
            this.expandAllNodes(false);
          }
        }, {
          key: "expandAllNodes",
          value: function() {
            var me = !(arguments.length > 0 && arguments[0] !== void 0) || arguments[0], be = this.props.onExpand;
            be(this.state.model.clone().expandAllNodes(me).serializeList("expanded"));
          }
        }, {
          key: "determineShallowCheckState",
          value: function(me, be) {
            var z = this.state.model.getNode(me.value);
            return z.isLeaf || be || me.children.length === 0 ? z.checked ? 1 : 0 : this.isEveryChildChecked(me) ? 1 : this.isSomeChildChecked(me) ? 2 : 0;
          }
        }, {
          key: "isEveryChildChecked",
          value: function(me) {
            var be = this;
            return me.children.every(function(z) {
              return be.state.model.getNode(z.value).checkState === 1;
            });
          }
        }, {
          key: "isSomeChildChecked",
          value: function(me) {
            var be = this;
            return me.children.some(function(z) {
              return be.state.model.getNode(z.value).checkState > 0;
            });
          }
        }, {
          key: "renderTreeNodes",
          value: function(me) {
            var be = this, z = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {}, U = this.props, ae = U.expandDisabled, we = U.expandOnClick, Ie = U.icons, Ye = U.lang, qe = U.noCascade, dt = U.onClick, At = U.onlyLeafCheckboxes, Yt = U.optimisticToggle, Et = U.showNodeTitle, Ut = U.showNodeIcon, or = this.state, pt = or.id, zt = or.model, ar = Se.defaultProps.icons, cr = me.map(function(Cr) {
              var zn = Cr.value, Xe = zt.getNode(Cr.value), it = Xe.isParent ? be.renderTreeNodes(Cr.children, Cr) : null;
              Xe.checkState = be.determineShallowCheckState(Cr, qe);
              var Rt = At ? Xe.isLeaf : Xe.showCheckbox;
              return !z.value || zt.getNode(z.value).expanded ? v().createElement(xe, {
                key: zn,
                checked: Xe.checkState,
                className: Cr.className,
                disabled: Xe.disabled,
                expandDisabled: ae,
                expandOnClick: we,
                expanded: Xe.expanded,
                icon: Cr.icon,
                icons: be.combineMemorized(ar, Ie),
                label: Cr.label,
                lang: Ye,
                optimisticToggle: Yt,
                isLeaf: Xe.isLeaf,
                isParent: Xe.isParent,
                showCheckbox: Rt,
                showNodeIcon: Ut,
                title: Et ? Cr.title || Cr.label : Cr.title,
                treeId: pt,
                value: Cr.value,
                onCheck: be.onCheck,
                onClick: dt && be.onNodeClick,
                onExpand: be.onExpand
              }, it) : null;
            });
            return v().createElement("ol", null, cr);
          }
        }, {
          key: "renderExpandAll",
          value: function() {
            var me = this.props, be = me.icons, z = be.expandAll, U = be.collapseAll, ae = me.lang;
            return me.showExpandAll ? v().createElement("div", {
              className: "rct-options"
            }, v().createElement(N, {
              className: "rct-option rct-option-expand-all",
              title: ae.expandAll,
              onClick: this.onExpandAll
            }, z), v().createElement(N, {
              className: "rct-option rct-option-collapse-all",
              title: ae.collapseAll,
              onClick: this.onCollapseAll
            }, U)) : null;
          }
        }, {
          key: "renderHiddenInput",
          value: function() {
            var me = this.props, be = me.name, z = me.nameAsArray;
            return be === void 0 ? null : z ? this.renderArrayHiddenInput() : this.renderJoinedHiddenInput();
          }
        }, {
          key: "renderArrayHiddenInput",
          value: function() {
            var me = this.props, be = me.checked, z = me.name;
            return be.map(function(U) {
              var ae = "".concat(z, "[]");
              return v().createElement("input", {
                key: U,
                name: ae,
                type: "hidden",
                value: U
              });
            });
          }
        }, {
          key: "renderJoinedHiddenInput",
          value: function() {
            var me = this.props, be = me.checked, z = me.name, U = be.join(",");
            return v().createElement("input", {
              name: z,
              type: "hidden",
              value: U
            });
          }
        }, {
          key: "render",
          value: function() {
            var me, be = this.props, z = be.direction, U = be.disabled, ae = be.iconsClass, we = be.nodes, Ie = be.nativeCheckboxes, Ye = this.state.id, qe = this.renderTreeNodes(we), dt = l()((pr(me = {
              "react-checkbox-tree": true,
              "rct-disabled": U
            }, "rct-icons-".concat(ae), true), pr(me, "rct-native-display", Ie), pr(me, "rct-direction-rtl", z === "rtl"), me));
            return v().createElement("div", {
              className: dt,
              id: Ye
            }, this.renderExpandAll(), this.renderHiddenInput(), qe);
          }
        }], G = [{
          key: "getDerivedStateFromProps",
          value: function(me, be) {
            var z = be.model, U = be.prevProps, ae = me.disabled, we = me.id, Ie = me.nodes, Ye = We(We({}, be), {}, {
              prevProps: me
            });
            return z.setProps(me), c()(U.nodes, Ie) && U.disabled === ae || (z.reset(), z.flattenNodes(Ie)), we !== null && (Ye = We(We({}, Ye), {}, {
              id: we
            })), z.deserializeLists({
              checked: me.checked,
              expanded: me.expanded
            }), Ye;
          }
        }], j && Ze(Y.prototype, j), G && Ze(Y, G), Object.defineProperty(Y, "prototype", {
          writable: false
        }), Se;
      }(v().Component);
      function x(Z) {
        return function(Y) {
          if (Array.isArray(Y))
            return B(Y);
        }(Z) || function(Y) {
          if (typeof Symbol < "u" && Y[Symbol.iterator] != null || Y["@@iterator"] != null)
            return Array.from(Y);
        }(Z) || function(Y, j) {
          if (Y) {
            if (typeof Y == "string")
              return B(Y, j);
            var G = Object.prototype.toString.call(Y).slice(8, -1);
            return G === "Object" && Y.constructor && (G = Y.constructor.name), G === "Map" || G === "Set" ? Array.from(Y) : G === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(G) ? B(Y, j) : void 0;
          }
        }(Z) || function() {
          throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
        }();
      }
      function B(Z, Y) {
        (Y == null || Y > Z.length) && (Y = Z.length);
        for (var j = 0, G = new Array(Y); j < Y; j++)
          G[j] = Z[j];
        return G;
      }
      function Q(Z, Y) {
        var j = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 0;
        if (j > Y)
          return [];
        var G = [];
        return Z.forEach(function(ue) {
          ue.children && (G = [].concat(x(G), [ue.value], x(Q(ue.children, Y, j + 1))));
        }), G;
      }
      pr(H, "propTypes", {
        nodes: m().arrayOf(Ce).isRequired,
        checkModel: m().oneOf([L.LEAF, L.ALL]),
        checked: ne,
        direction: m().string,
        disabled: m().bool,
        expandDisabled: m().bool,
        expandOnClick: m().bool,
        expanded: ne,
        icons: Fe,
        iconsClass: m().string,
        id: m().string,
        lang: Ue,
        name: m().string,
        nameAsArray: m().bool,
        nativeCheckboxes: m().bool,
        noCascade: m().bool,
        onlyLeafCheckboxes: m().bool,
        optimisticToggle: m().bool,
        showExpandAll: m().bool,
        showNodeIcon: m().bool,
        showNodeTitle: m().bool,
        onCheck: m().func,
        onClick: m().func,
        onExpand: m().func
      }), pr(H, "defaultProps", {
        checkModel: L.LEAF,
        checked: [],
        direction: "ltr",
        disabled: false,
        expandDisabled: false,
        expandOnClick: false,
        expanded: [],
        icons: {
          check: v().createElement("span", {
            className: "rct-icon rct-icon-check"
          }),
          uncheck: v().createElement("span", {
            className: "rct-icon rct-icon-uncheck"
          }),
          halfCheck: v().createElement("span", {
            className: "rct-icon rct-icon-half-check"
          }),
          expandClose: v().createElement("span", {
            className: "rct-icon rct-icon-expand-close"
          }),
          expandOpen: v().createElement("span", {
            className: "rct-icon rct-icon-expand-open"
          }),
          expandAll: v().createElement("span", {
            className: "rct-icon rct-icon-expand-all"
          }),
          collapseAll: v().createElement("span", {
            className: "rct-icon rct-icon-collapse-all"
          }),
          parentClose: v().createElement("span", {
            className: "rct-icon rct-icon-parent-close"
          }),
          parentOpen: v().createElement("span", {
            className: "rct-icon rct-icon-parent-open"
          }),
          leaf: v().createElement("span", {
            className: "rct-icon rct-icon-leaf"
          })
        },
        iconsClass: "fa4",
        id: null,
        lang: {
          collapseAll: "Collapse all",
          expandAll: "Expand all",
          toggle: "Toggle"
        },
        name: void 0,
        nameAsArray: false,
        nativeCheckboxes: false,
        noCascade: false,
        onlyLeafCheckboxes: false,
        optimisticToggle: true,
        showExpandAll: false,
        showNodeIcon: true,
        showNodeTitle: false,
        onCheck: function() {
        },
        onClick: null,
        onExpand: function() {
        }
      });
      const ge = H;
    })(), a;
  })());
})(rQ);
var kZe = rQ.exports;
var DZe = $i(kZe);
function RZe(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function NZe(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, LZe(n.key), n);
  }
}
function MZe(e13, t, r) {
  return t && NZe(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function LZe(e13) {
  var t = BZe(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function BZe(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
function FZe(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  e13.prototype = Object.create(t && t.prototype, { constructor: { value: e13, writable: true, configurable: true } }), Object.defineProperty(e13, "prototype", { writable: false }), t && Sk(e13, t);
}
function Sk(e13, t) {
  return Sk = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, i) {
    return n.__proto__ = i, n;
  }, Sk(e13, t);
}
function $Ze(e13) {
  var t = jZe();
  return function() {
    var n = rE(e13), i;
    if (t) {
      var o = rE(this).constructor;
      i = Reflect.construct(n, arguments, o);
    } else
      i = n.apply(this, arguments);
    return HZe(this, i);
  };
}
function HZe(e13, t) {
  if (t && (typeof t == "object" || typeof t == "function"))
    return t;
  if (t !== void 0)
    throw new TypeError("Derived constructors may only return object or undefined");
  return UZe(e13);
}
function UZe(e13) {
  if (e13 === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e13;
}
function jZe() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return false;
  if (typeof Proxy == "function")
    return true;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), true;
  } catch {
    return false;
  }
}
function rE(e13) {
  return rE = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(r) {
    return r.__proto__ || Object.getPrototypeOf(r);
  }, rE(e13);
}
var nQ = function(e13) {
  FZe(r, e13);
  var t = $Ze(r);
  function r(n) {
    var i;
    RZe(this, r), i = t.call(this, n), i.localTracks = mu.filter((l) => l.local && !l.hidden).map((l) => {
      const u = {
        ...l
      };
      return u.datatype = l.datatype[0], u;
    }), i.augmentedTracksInfo = mu, window.higlassTracksByType && Object.keys(window.higlassTracksByType).forEach((l) => {
      i.augmentedTracksInfo.push(window.higlassTracksByType[l].config);
    }), n.datatype ? i.localTracks = i.localTracks.filter((l) => l.datatype[0] === n.datatype) : i.localTracks = i.localTracks.filter((l) => l.orientation === i.props.orientation), i.localTracks.forEach((l) => {
      l.uuid = Gt.nice();
    });
    const o = i.prepareNewEntries("", i.localTracks, {}), a = Object.keys(o), s = a.length ? [a[0]] : null;
    return i.mounted = false, i.state = {
      selectedUuid: s,
      options: o,
      filter: "",
      checked: [],
      expanded: []
    }, i.requestTilesetLists(), i;
  }
  return MZe(r, [{
    key: "componentDidMount",
    value: function() {
      this.mounted = true, this.requestTilesetLists(), this.searchBox.focus();
    }
  }, {
    key: "componentWillUnmount",
    value: function() {
      this.mounted = false;
    }
  }, {
    key: "prepareNewEntries",
    value: function(i, o, a) {
      const s = a;
      return o.map((u) => ({
        ...u,
        server: i,
        tilesetUid: u.uuid,
        serverUidKey: this.serverUidKey(i, u.uuid),
        datatype: u.datatype,
        name: u.name,
        uid: Gt.nice()
      })).forEach((u) => {
        s[u.serverUidKey] = u;
      }), s;
    }
  }, {
    key: "serverUidKey",
    value: function(i, o) {
      return `${i}/${o}`;
    }
  }, {
    key: "requestTilesetLists",
    value: function() {
      let i = null;
      if (this.props.datatype ? i = `dt=${this.props.datatype}` : i = [...new Set([].concat(...this.augmentedTracksInfo.filter((a) => a.datatype).filter((a) => a.orientation === this.props.orientation || this.props.orientation === "1d-vertical" && a.orientation === "1d-horizontal").map((a) => a.datatype)))].map((a) => `dt=${a}`).join("&"), !this.props.trackSourceServers) {
        console.warn("No track source servers specified in the viewconf");
        return;
      }
      this.props.trackSourceServers.forEach((o) => {
        Je.json(`${o}/tilesets/?limit=10000&${i}`, (a, s) => {
          if (a)
            console.error("ERROR:", a);
          else {
            const l = this.prepareNewEntries(o, s.results, this.state.options), u = Object.keys(l);
            let {
              selectedUuid: c
            } = this.state;
            if (!c) {
              c = u.length ? [u[0]] : null;
              const f = this.state.options[c[0]];
              this.props.selectedTilesetChanged([f]);
            }
            this.mounted && this.setState({
              selectedUuid: c,
              options: l
            });
          }
        }, this.props.pubSub);
      });
    }
    /**
     * Double clicked on an element. Should be selected
     * and this window will be closed.
     */
  }, {
    key: "handleOptionDoubleClick",
    value: function(i) {
      const o = this.state.options[i.target.value];
      this.props.onDoubleClick(o);
    }
  }, {
    key: "handleSelectedOptions",
    value: function(i) {
      const o = [], a = [];
      for (let s = 0; s < i.length; s++)
        o.push(i[s]), a.push(this.state.options[i[s]]);
      this.props.selectedTilesetChanged(a), this.setState({
        selectedUuid: o
      });
    }
  }, {
    key: "handleSelect",
    value: function() {
      const {
        selectedOptions: i
      } = this.multiSelect, o = [];
      for (let a = 0; a < i.length; a++) {
        const s = i[a];
        o.push(s.value);
      }
      this.handleSelectedOptions(o);
    }
  }, {
    key: "handleSearchChange",
    value: function() {
      const i = this.searchBox;
      this.setState({
        filter: i.value
      });
    }
    /*
     * Create the nested checkbox tree by partitioning the
     * list of available datasets according to their group
     *
     * @param {object} datasetsDict A dictionary of id -> tileset
     *  def mappings
     * @param {string} filter A string to filter the results by
     * @returns {array} A list of items that define the nested checkbox
     *  structure
     *  {
     *    'name': 'blah',
     *    'value': 'blah',
     *    'children': [],
     *  }
     */
  }, {
    key: "partitionByGroup",
    value: function(i, o) {
      const a = {
        "": {
          name: "",
          value: "",
          children: []
        }
      };
      for (const l of Object.keys(i)) {
        const u = i[l];
        if (u.name.toLowerCase().includes(o))
          if ("project_name" in u) {
            const c = u.project_name;
            c in a || (a[c] = {
              value: c,
              label: c,
              children: []
            }), a[c].children.push({
              label: u.name,
              value: l
            });
          } else
            a[""].children.push({
              label: u.name,
              value: l
            });
      }
      const s = a[""].children;
      for (const l of Object.keys(a))
        l !== "" && (a[l].children.sort((u, c) => u.label.toLowerCase().localeCompare(c.label.toLowerCase(), "en")), s.push(a[l]));
      return s.sort((l, u) => l.label.toLowerCase().localeCompare(u.label.toLowerCase(), "en")), s;
    }
  }, {
    key: "handleChecked",
    value: function(i) {
      this.handleSelectedOptions(i), this.setState({
        checked: i
      });
    }
  }, {
    key: "handleExpanded",
    value: function(i) {
      this.setState({
        expanded: i
      });
    }
  }, {
    key: "render",
    value: function() {
      const i = [];
      for (const u in this.state.options)
        i.push(this.state.options[u]);
      const o = this.partitionByGroup(this.state.options, this.state.filter), a = {
        width: 15,
        height: 15,
        top: 2,
        right: 2,
        position: "relative"
      }, s = JSON.parse(JSON.stringify(a));
      s.opacity = 0.5;
      const l = import_react.default.createElement("form", {
        onSubmit: (u) => {
          u.preventDefault();
        }
      }, import_react.default.createElement("div", {
        className: "tileset-finder-search-bar"
      }, import_react.default.createElement("span", {
        className: "tileset-finder-label"
      }, "Select tileset:"), import_react.default.createElement("input", {
        ref: (u) => {
          this.searchBox = u;
        },
        className: "tileset-finder-search-box",
        onChange: this.handleSearchChange.bind(this),
        placeholder: "Search Term",
        type: "text"
      })), import_react.default.createElement("div", {
        className: "tileset-finder-checkbox-tree"
      }, import_react.default.createElement(DZe, {
        checked: this.state.checked,
        expanded: this.state.expanded,
        icons: {
          uncheck: import_react.default.createElement("svg", {
            style: a
          }, import_react.default.createElement("use", {
            xlinkHref: "#square_o"
          })),
          check: import_react.default.createElement("svg", {
            style: a
          }, import_react.default.createElement("use", {
            xlinkHref: "#check_square_o"
          })),
          halfCheck: import_react.default.createElement("svg", {
            style: s
          }, import_react.default.createElement("use", {
            xlinkHref: "#check_square_o"
          })),
          leaf: import_react.default.createElement("svg", {
            style: a
          }, import_react.default.createElement("use", {
            xlinkHref: "#file_o"
          })),
          expandClose: import_react.default.createElement("svg", {
            style: a
          }, import_react.default.createElement("use", {
            xlinkHref: "#chevron_right"
          })),
          expandOpen: import_react.default.createElement("svg", {
            style: a
          }, import_react.default.createElement("use", {
            xlinkHref: "#chevron_down"
          })),
          parentClose: import_react.default.createElement("svg", {
            style: a
          }, import_react.default.createElement("use", {
            xlinkHref: "#folder_o"
          })),
          parentOpen: import_react.default.createElement("svg", {
            style: a
          }, import_react.default.createElement("use", {
            xlinkHref: "#folder_open_o"
          }))
        },
        nodes: o,
        onCheck: this.handleChecked.bind(this),
        onExpand: this.handleExpanded.bind(this)
      })));
      return import_react.default.createElement("div", null, l);
    }
  }]), r;
}(import_react.default.Component);
nQ.propTypes = {
  datatype: M.string,
  orientation: M.string,
  onDoubleClick: M.func,
  pubSub: M.object.isRequired,
  selectedTilesetChanged: M.func,
  trackSourceServers: M.array
};
var GZe = pp(nQ);
function zZe(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function VZe(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, WZe(n.key), n);
  }
}
function XZe(e13, t, r) {
  return t && VZe(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function WZe(e13) {
  var t = YZe(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function YZe(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
function qZe(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  e13.prototype = Object.create(t && t.prototype, { constructor: { value: e13, writable: true, configurable: true } }), Object.defineProperty(e13, "prototype", { writable: false }), t && wk(e13, t);
}
function wk(e13, t) {
  return wk = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, i) {
    return n.__proto__ = i, n;
  }, wk(e13, t);
}
function KZe(e13) {
  var t = JZe();
  return function() {
    var n = nE(e13), i;
    if (t) {
      var o = nE(this).constructor;
      i = Reflect.construct(n, arguments, o);
    } else
      i = n.apply(this, arguments);
    return ZZe(this, i);
  };
}
function ZZe(e13, t) {
  if (t && (typeof t == "object" || typeof t == "function"))
    return t;
  if (t !== void 0)
    throw new TypeError("Derived constructors may only return object or undefined");
  return QZe(e13);
}
function QZe(e13) {
  if (e13 === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e13;
}
function JZe() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return false;
  if (typeof Proxy == "function")
    return true;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), true;
  } catch {
    return false;
  }
}
function nE(e13) {
  return nE = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(r) {
    return r.__proto__ || Object.getPrototypeOf(r);
  }, nE(e13);
}
var iQ = function(e13) {
  qZe(r, e13);
  var t = KZe(r);
  function r(n) {
    var i;
    return zZe(this, r), i = t.call(this, n), i.DATATYPE_TO_TRACK_TYPE = MR(i.props.orientation), i.AVAILABLE_TRACK_TYPES = A0(i.props.datatypes, i.props.orientation), i.state = {
      selectedPlotType: i.AVAILABLE_TRACK_TYPES[0]
    }, i;
  }
  return XZe(r, [{
    key: "UNSAFE_componentWillReceiveProps",
    value: function(i) {
      if (this.AVAILABLE_TRACK_TYPES = A0(i.datatypes, this.props.orientation), !!this.AVAILABLE_TRACK_TYPES && i.allTracksSameDatatype && this.AVAILABLE_TRACK_TYPES.length > 0 && !this.AVAILABLE_TRACK_TYPES.includes(this.state.selectedPlotType)) {
        const o = FR(i.datatypes[0][0], this.props.position, this.AVAILABLE_TRACK_TYPES);
        this.handlePlotTypeSelected(o);
      }
    }
  }, {
    key: "handlePlotTypeSelected",
    value: function(i) {
      this.setState({
        selectedPlotType: i
      }), this.props.onPlotTypeSelected(i.type);
    }
  }, {
    key: "render",
    value: function() {
      let i = "No plot types available for track";
      const o = {};
      return mu.forEach((a) => {
        o[a.type] = a;
      }), this.AVAILABLE_TRACK_TYPES && (i = this.AVAILABLE_TRACK_TYPES.sort((a, s) => a.type < s.type).map((a) => {
        const s = o[a.type].thumbnail, l = this.state.selectedPlotType.type === a.type ? "plot-type-item plot-type-selected" : "plot-type-item", u = o[a.type].thumbnail ? import_react.default.createElement("div", {
          className: "track-thumbnail",
          dangerouslySetInnerHTML: {
            __html: s.outerHTML
          }
        }) : import_react.default.createElement("div", {
          className: "track-thumbnail"
        }, import_react.default.createElement("svg", {
          height: 20,
          width: 30
        }));
        return import_react.default.createElement("li", {
          key: a.type,
          className: l,
          onClick: (c) => {
            this.setState({
              selectedPlotType: a
            }), this.props.onPlotTypeSelected(a.type);
          },
          style: {
            listStyle: "none",
            paddingLeft: 5,
            paddingBottom: 0
          }
        }, u, import_react.default.createElement("span", {
          style: {
            verticalAlign: "middle"
          }
        }, a.type));
      })), import_react.default.createElement("div", null, i.length > 0 && this.props.allTracksSameDatatype && import_react.default.createElement("div", {
        className: "plot-type-container"
      }, i), !this.props.allTracksSameDatatype && import_react.default.createElement("div", {
        className: "plot-type-container-empty"
      }, "Datasets with multiple datatypes chosen. They will be added with their default track types."));
    }
  }]), r;
}(import_react.default.Component);
iQ.propTypes = {
  allTracksSameDatatype: M.bool,
  datatypes: M.array,
  orientation: M.string,
  onPlotTypeSelected: M.func,
  position: M.string
};
function eQe(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function tQe(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, nQe(n.key), n);
  }
}
function rQe(e13, t, r) {
  return t && tQe(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function nQe(e13) {
  var t = iQe(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function iQe(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
function oQe(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  e13.prototype = Object.create(t && t.prototype, { constructor: { value: e13, writable: true, configurable: true } }), Object.defineProperty(e13, "prototype", { writable: false }), t && Ak(e13, t);
}
function Ak(e13, t) {
  return Ak = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, i) {
    return n.__proto__ = i, n;
  }, Ak(e13, t);
}
function aQe(e13) {
  var t = lQe();
  return function() {
    var n = iE(e13), i;
    if (t) {
      var o = iE(this).constructor;
      i = Reflect.construct(n, arguments, o);
    } else
      i = n.apply(this, arguments);
    return sQe(this, i);
  };
}
function sQe(e13, t) {
  if (t && (typeof t == "object" || typeof t == "function"))
    return t;
  if (t !== void 0)
    throw new TypeError("Derived constructors may only return object or undefined");
  return $b(e13);
}
function $b(e13) {
  if (e13 === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e13;
}
function lQe() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return false;
  if (typeof Proxy == "function")
    return true;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), true;
  } catch {
    return false;
  }
}
function iE(e13) {
  return iE = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(r) {
    return r.__proto__ || Object.getPrototypeOf(r);
  }, iE(e13);
}
var oE = function(e13) {
  oQe(r, e13);
  var t = aQe(r);
  function r(n) {
    var i;
    return eQe(this, r), i = t.call(this, n), i.options = {}, i.state = {
      selectedTilesets: [{
        datatype: "none"
      }],
      allTracksSameDatatype: true
      // Do all selected tracks have the same datatype
    }, i.handleSubmitBound = i.handleSubmit.bind($b(i)), i.handleTilesetPickerDoubleClickBound = i.handleTilesetPickerDoubleClick.bind($b(i)), i.selectedTilesetsChangedBound = i.selectedTilesetsChanged.bind($b(i)), i;
  }
  return rQe(r, [{
    key: "getOrientation",
    value: function(i) {
      let o = null;
      return i === "top" || i === "bottom" ? o = "1d-horizontal" : i === "left" || i === "right" ? o = "1d-vertical" : o = "2d", o;
    }
  }, {
    key: "handleSubmit",
    value: function(i) {
      i && i.preventDefault(), this.props.onTracksChosen(this.state.selectedTilesets, this.props.position, this.props.host);
    }
    /**
     * The user double clicked a tileset in the tileset finder dialog.
     * This means that only one is selected.
     *
     * Arguments
     * ---------
     *  tileset: { uuid: 'CXCX', filetype: 'cooler' ....}
     */
  }, {
    key: "handleTilesetPickerDoubleClick",
    value: function(i) {
      this.selectedTilesetsChanged([i]), this.props.onTracksChosen(this.state.selectedTilesets, this.props.position, this.props.host);
    }
  }, {
    key: "handleOptionsChanged",
    value: function(i) {
      this.options = i;
    }
  }, {
    key: "handlePlotTypeSelected",
    value: function(i) {
      const {
        selectedTilesets: o
      } = this.state;
      for (const a of o)
        a.type = i;
      this.selectedPlotType = i, this.setState({
        selectedTilesets: o
      });
    }
  }, {
    key: "selectedTilesetsChanged",
    value: function(i) {
      let o = null;
      i.length === 0 ? o = [{
        datatype: "none"
      }] : o = i;
      let a = true;
      const s = o[0].datatype;
      for (const l of o)
        l.datatype !== s && (a = false);
      if (a)
        for (const l of o)
          l.type = this.selectedPlotType;
      else
        for (const l of o) {
          let u = [l.datatype];
          const c = this.getOrientation(this.props.position);
          l.filetype === "cooler" && (u = [l.datatype, "chromsizes"]);
          const f = A0([u], c), h = FR(u[0], this.props.position, f);
          l.type = h.type;
        }
      this.setState({
        selectedTilesets: o,
        allTracksSameDatatype: a
      });
    }
  }, {
    key: "render",
    value: function() {
      const i = this.getOrientation(this.props.position), o = import_react.default.createElement("div", null, import_react.default.createElement(
        GZe,
        {
          ref: (a) => {
            this.tilesetFinder = a;
          },
          datatype: this.props.datatype,
          onDoubleClick: this.handleTilesetPickerDoubleClick.bind(this),
          onTracksChosen: (a) => this.props.onTracksChosen(a, this.props.position),
          orientation: i,
          selectedTilesetChanged: this.selectedTilesetsChanged.bind(this),
          trackSourceServers: this.props.trackSourceServers
        }
      ));
      return import_react.default.createElement(gy, {
        maxHeight: true,
        okayTitle: "Submit",
        onCancel: this.props.onCancel,
        onOkay: this.handleSubmitBound,
        title: "Add Track"
      }, import_react.default.createElement(import_react.default.Fragment, null, o, import_react.default.createElement(
        iQ,
        {
          ref: (a) => {
            this.plotTypeChooser = a;
          },
          allTracksSameDatatype: this.state.allTracksSameDatatype,
          datatypes: this.state.selectedTilesets.map((a) => a.filetype === "cooler" ? [a.datatype, "chromsizes"] : [a.datatype]),
          onPlotTypeSelected: this.handlePlotTypeSelected.bind(this),
          orientation: i,
          position: this.props.position
        }
      )));
    }
  }]), r;
}(import_react.default.Component);
oE.defaultProps = {
  position: "top"
};
oE.propTypes = {
  datatype: M.string,
  host: M.string,
  onCancel: M.func.isRequired,
  onTracksChosen: M.func.isRequired,
  position: M.string,
  trackSourceServers: M.array.isRequired
};
function Ok() {
  return Ok = Object.assign ? Object.assign.bind() : function(e13) {
    for (var t = 1; t < arguments.length; t++) {
      var r = arguments[t];
      for (var n in r)
        Object.prototype.hasOwnProperty.call(r, n) && (e13[n] = r[n]);
    }
    return e13;
  }, Ok.apply(this, arguments);
}
function cQe(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function uQe(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, fQe(n.key), n);
  }
}
function hQe(e13, t, r) {
  return t && uQe(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function fQe(e13) {
  var t = dQe(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function dQe(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
function pQe(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  e13.prototype = Object.create(t && t.prototype, { constructor: { value: e13, writable: true, configurable: true } }), Object.defineProperty(e13, "prototype", { writable: false }), t && Ik(e13, t);
}
function Ik(e13, t) {
  return Ik = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, i) {
    return n.__proto__ = i, n;
  }, Ik(e13, t);
}
function mQe(e13) {
  var t = yQe();
  return function() {
    var n = aE(e13), i;
    if (t) {
      var o = aE(this).constructor;
      i = Reflect.construct(n, arguments, o);
    } else
      i = n.apply(this, arguments);
    return gQe(this, i);
  };
}
function gQe(e13, t) {
  if (t && (typeof t == "object" || typeof t == "function"))
    return t;
  if (t !== void 0)
    throw new TypeError("Derived constructors may only return object or undefined");
  return vQe(e13);
}
function vQe(e13) {
  if (e13 === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e13;
}
function yQe() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return false;
  if (typeof Proxy == "function")
    return true;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), true;
  } catch {
    return false;
  }
}
function aE(e13) {
  return aE = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(r) {
    return r.__proto__ || Object.getPrototypeOf(r);
  }, aE(e13);
}
var wL = function(e13) {
  pQe(r, e13);
  var t = mQe(r);
  function r() {
    return cQe(this, r), t.apply(this, arguments);
  }
  return hQe(r, [{
    key: "render",
    value: function() {
      const i = [];
      return this.props.children.forEach((o, a) => {
        const s = `customTrackDialog_${a}`;
        i.push(import_react.default.createElement(o, Ok({
          key: s
        }, this.props.bodyProps[a])));
      }), import_react.default.createElement(gy, {
        maxHeight: true,
        okayOnly: true,
        okayTitle: "Close",
        onCancel: this.props.onCancel,
        onOkay: this.props.onCancel,
        title: this.props.title
      }, i);
    }
  }]), r;
}(import_react.default.PureComponent);
wL.defaultProps = {};
wL.propTypes = {
  onCancel: M.func.isRequired,
  title: M.string,
  bodyProps: M.array,
  children: M.array
};
function _Qe(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function bQe(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, EQe(n.key), n);
  }
}
function TQe(e13, t, r) {
  return t && bQe(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function EQe(e13) {
  var t = SQe(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function SQe(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
function wQe(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  e13.prototype = Object.create(t && t.prototype, { constructor: { value: e13, writable: true, configurable: true } }), Object.defineProperty(e13, "prototype", { writable: false }), t && Pk(e13, t);
}
function Pk(e13, t) {
  return Pk = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, i) {
    return n.__proto__ = i, n;
  }, Pk(e13, t);
}
function AQe(e13) {
  var t = PQe();
  return function() {
    var n = sE(e13), i;
    if (t) {
      var o = sE(this).constructor;
      i = Reflect.construct(n, arguments, o);
    } else
      i = n.apply(this, arguments);
    return OQe(this, i);
  };
}
function OQe(e13, t) {
  if (t && (typeof t == "object" || typeof t == "function"))
    return t;
  if (t !== void 0)
    throw new TypeError("Derived constructors may only return object or undefined");
  return IQe(e13);
}
function IQe(e13) {
  if (e13 === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e13;
}
function PQe() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return false;
  if (typeof Proxy == "function")
    return true;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), true;
  } catch {
    return false;
  }
}
function sE(e13) {
  return sE = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(r) {
    return r.__proto__ || Object.getPrototypeOf(r);
  }, sE(e13);
}
var v4 = 20;
var hc = function(e13) {
  wQe(r, e13);
  var t = AQe(r);
  function r(n) {
    var i;
    return _Qe(this, r), i = t.call(this, n), i.adjusted = false, i.state = {
      orientation: i.props.orientation ? i.props.orientation : "right",
      left: i.props.position.left,
      top: i.props.position.top,
      submenuShown: null
    }, i;
  }
  return TQe(r, [{
    key: "componentDidMount",
    value: function() {
      this.updateOrientation();
    }
    // eslint-disable-next-line camelcase
  }, {
    key: "UNSAFE_componentWillReceiveProps",
    value: function(i) {
      this.adjusted = false, this.setState({
        left: i.position.left,
        top: i.position.top
      });
    }
  }, {
    key: "componentDidUpdate",
    value: function() {
      this.updateOrientation();
    }
    /* ---------------------------- Custom Methods ---------------------------- */
  }, {
    key: "handleItemMouseEnterWithRect",
    value: function(i, o) {
      this.setState({
        submenuShown: o,
        submenuSourceBbox: i
      });
    }
  }, {
    key: "handleItemMouseEnter",
    value: function(i, o) {
      this.handleItemMouseEnterWithRect(i.currentTarget.getBoundingClientRect(), o);
    }
  }, {
    key: "handleMouseLeave",
    value: function() {
    }
  }, {
    key: "handleOtherMouseEnter",
    value: function() {
      this.setState({
        submenuShown: null
      });
    }
    /*
    handleSeriesMouseEnter(evt, uid) {
      let domNode = evt.currentTarget;
       this.setState({
        submenuShown: uid,
        submenuSourceBbox: domNode.getBoundingClientRect()
      });
    }
     handleMouseLeave(evt) {
      return;
    }
     handleOtherMouseEnter(evt) {
      this.setState({
        submenuShown: null
      });
    }
    */
  }, {
    key: "updateOrientation",
    value: function() {
      if (this.adjusted)
        return;
      this.adjusted = true, this.divDom = import_react_dom.default.findDOMNode(this.div);
      const i = this.divDom.getBoundingClientRect(), o = this.props.parentBbox ? this.props.parentBbox : {
        top: this.props.position.top,
        left: this.props.position.left,
        width: 0
      };
      let a = this.state.orientation, s = o.top;
      if (o.top + i.height > window.innerHeight && (o.top - i.height > 0 ? s = o.top - i.height + v4 : (s = o.top - i.height + v4, s -= s + i.height - window.innerHeight)), this.state.orientation === "left") {
        let l = o.left - i.width;
        l < 0 && (o.left + o.width + i.width > window.innerWidth ? l = 0 : (l = o.left + o.width, a = "right")), this.setState({
          left: l,
          top: s,
          orientation: a
        });
      } else {
        let l = o.left + o.width;
        o.left + o.width + i.width > window.innerWidth && (o.left - i.width < 0 ? (l = 0, a = "right") : (l = o.left - i.width, a = "left")), this.setState({
          left: l,
          top: s,
          orientation: a
        });
      }
    }
    /* ------------------------------ Rendering ------------------------------- */
  }, {
    key: "render",
    value: function() {
      const i = this.state.left ? {
        left: this.state.left
      } : {
        right: this.state.right
      }, o = {
        top: this.state.top
      }, a = Object.assign(i, o);
      return import_react.default.createElement("div", {
        ref: (s) => {
          this.div = s;
        },
        className: nr("context-menu-item", St["context-menu"], {
          [St["context-menu-dark"]]: this.props.theme === wr
        }),
        style: a
      }, this.props.children);
    }
  }]), r;
}(import_react.default.Component);
hc.propTypes = {
  children: M.node,
  orientation: M.string,
  parentBbox: M.object,
  position: M.object,
  theme: M.symbol.isRequired
};
function CQe(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function xQe(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, DQe(n.key), n);
  }
}
function kQe(e13, t, r) {
  return t && xQe(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function DQe(e13) {
  var t = RQe(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function RQe(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
function NQe(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  e13.prototype = Object.create(t && t.prototype, { constructor: { value: e13, writable: true, configurable: true } }), Object.defineProperty(e13, "prototype", { writable: false }), t && Ck(e13, t);
}
function Ck(e13, t) {
  return Ck = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, i) {
    return n.__proto__ = i, n;
  }, Ck(e13, t);
}
function MQe(e13) {
  var t = FQe();
  return function() {
    var n = lE(e13), i;
    if (t) {
      var o = lE(this).constructor;
      i = Reflect.construct(n, arguments, o);
    } else
      i = n.apply(this, arguments);
    return LQe(this, i);
  };
}
function LQe(e13, t) {
  if (t && (typeof t == "object" || typeof t == "function"))
    return t;
  if (t !== void 0)
    throw new TypeError("Derived constructors may only return object or undefined");
  return BQe(e13);
}
function BQe(e13) {
  if (e13 === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e13;
}
function FQe() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return false;
  if (typeof Proxy == "function")
    return true;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), true;
  } catch {
    return false;
  }
}
function lE(e13) {
  return lE = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(r) {
    return r.__proto__ || Object.getPrototypeOf(r);
  }, lE(e13);
}
var xk = function(e13) {
  NQe(r, e13);
  var t = MQe(r);
  function r() {
    return CQe(this, r), t.apply(this, arguments);
  }
  return kQe(r, [{
    key: "getSubmenu",
    value: function() {
      if (this.state.submenuShown) {
        const i = this.state.submenuSourceBbox, o = this.state.orientation === "left" ? {
          left: this.state.left,
          top: i.top
        } : {
          left: this.state.left + i.width + 7,
          top: i.top
        }, a = this.state.submenuShown;
        return import_react.default.createElement(r, {
          menuItems: a.children,
          orientation: this.state.orientation,
          parentBbox: i,
          position: o,
          theme: this.props.theme
        });
      }
      return import_react.default.createElement("div", null);
    }
  }, {
    key: "componentWillUnmount",
    value: function() {
    }
  }, {
    key: "render",
    value: function() {
      const i = [];
      for (const o in this.props.menuItems) {
        const a = this.props.menuItems[o];
        i.push(import_react.default.createElement(Ct, {
          key: o,
          onClick: a.handler ? a.handler : () => null,
          onMouseEnter: a.children ? (s) => this.handleItemMouseEnter(s, a) : this.handleOtherMouseEnter.bind(this),
          onMouseLeave: this.handleMouseLeave
        }, a.name, a.children && import_react.default.createElement("svg", {
          className: St["play-icon"]
        }, import_react.default.createElement("use", {
          xlinkHref: "#play"
        }))));
      }
      return import_react.default.createElement("div", {
        ref: (o) => {
          this.div = o;
        },
        className: nr(St["context-menu"], {
          [St["context-menu-dark"]]: this.props.theme === wr
        }),
        style: {
          left: this.state.left,
          top: this.state.top
        }
      }, i, this.getSubmenu());
    }
  }]), r;
}(hc);
function $Qe(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function HQe(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, jQe(n.key), n);
  }
}
function UQe(e13, t, r) {
  return t && HQe(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function jQe(e13) {
  var t = GQe(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function GQe(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
function zQe(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  e13.prototype = Object.create(t && t.prototype, { constructor: { value: e13, writable: true, configurable: true } }), Object.defineProperty(e13, "prototype", { writable: false }), t && kk(e13, t);
}
function kk(e13, t) {
  return kk = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, i) {
    return n.__proto__ = i, n;
  }, kk(e13, t);
}
function VQe(e13) {
  var t = YQe();
  return function() {
    var n = cE(e13), i;
    if (t) {
      var o = cE(this).constructor;
      i = Reflect.construct(n, arguments, o);
    } else
      i = n.apply(this, arguments);
    return XQe(this, i);
  };
}
function XQe(e13, t) {
  if (t && (typeof t == "object" || typeof t == "function"))
    return t;
  if (t !== void 0)
    throw new TypeError("Derived constructors may only return object or undefined");
  return WQe(e13);
}
function WQe(e13) {
  if (e13 === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e13;
}
function YQe() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return false;
  if (typeof Proxy == "function")
    return true;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), true;
  } catch {
    return false;
  }
}
function cE(e13) {
  return cE = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(r) {
    return r.__proto__ || Object.getPrototypeOf(r);
  }, cE(e13);
}
var qQe = function(e13) {
  zQe(r, e13);
  var t = VQe(r);
  function r() {
    return $Qe(this, r), t.apply(this, arguments);
  }
  return UQe(r, [{
    key: "getConfigureSeriesMenu",
    value: function(i, o, a) {
      const s = {}, l = window.higlassTracksByType && window.higlassTracksByType[a.type] && window.higlassTracksByType[a.type].config && window.higlassTracksByType[a.type].config.optionsInfo;
      if (l)
        for (const u of Object.keys(l))
          Mn[u] = l[u];
      if (!Tr[a.type] || !Tr[a.type].availableOptions)
        return null;
      for (const u of Tr[a.type].availableOptions)
        if (u in Mn) {
          if (s[u] = {
            name: Mn[u].name
          }, Mn[u].generateOptions) {
            const c = Mn[u].generateOptions(a);
            s[u].children || (s[u].children = {});
            for (const f of c) {
              const h = {
                name: f.name,
                value: f.value,
                handler: () => {
                  a.options[u] = f.value, this.props.onTrackOptionsChanged(a.uid, a.options), this.props.closeMenu();
                }
              };
              s[u].children[f.value] = h;
            }
          }
          if (Mn[u].inlineOptions)
            for (const c in Mn[u].inlineOptions) {
              const f = Mn[u].inlineOptions[c];
              s[u].children || (s[u].children = {});
              const h = {
                name: f.name,
                value: f.value
                // missing handler to be filled in below
              };
              f.componentPickers && f.componentPickers[a.type] ? h.handler = () => {
                this.props.onConfigureTrack(a, f.componentPickers[a.type]), this.props.closeMenu();
              } : h.handler = () => {
                a.options[u] = f.value, this.props.onTrackOptionsChanged(a.uid, a.options), this.props.closeMenu();
              }, s[u].children[c] = h;
            }
          else Mn[u].componentPickers && Mn[u].componentPickers[a.type] && (s[u].handler = () => {
            this.props.onConfigureTrack(a, Mn[u].componentPickers[a.type]), this.props.closeMenu();
          });
        }
      return import_react.default.createElement(xk, {
        key: "config-series-menu",
        closeMenu: this.props.closeMenu,
        menuItems: s,
        orientation: this.state.orientation,
        parentBbox: o,
        position: i,
        theme: this.props.theme
      });
    }
    /**
     * Return a list of track types that can be used
     * with the data for this track
     *
     * @param {Object} position The position where to draw ths menu (e.g. {left: 42, top: 88})
     *
     * @param (Object) bbox
     *  The bounding box of the parent menu, used to determine whether
     *  to draw the child menu on the left or the right
     *
     * @param (Object) track The track definition for this series (as in the viewconf)
     */
  }, {
    key: "getTrackTypeItems",
    value: function(i, o, a) {
      window.higlassTracksByType && Object.keys(window.higlassTracksByType).forEach((f) => {
        Tr[f] = window.higlassTracksByType[f].config;
      });
      let {
        datatype: s
      } = a, l = null;
      a.type in Tr && (s || (s = Tr[a.type].datatype[0]), {
        orientation: l
      } = Tr[a.type]);
      const u = Object.values(Tr).filter((f) => f.datatype).filter((f) => f.orientation).filter((f) => f.datatype.includes(s)).filter((f) => f.orientation === l).map((f) => f.type), c = {};
      for (let f = 0; f < u.length; f++)
        c[u[f]] = {
          value: u[f],
          name: u[f],
          handler: () => {
            this.props.onChangeTrackType(a.uid, u[f]);
          }
        };
      return import_react.default.createElement(xk, {
        key: "track-type-items",
        closeMenu: this.props.closeMenu,
        menuItems: c,
        orientation: this.state.orientation,
        parentBbox: o,
        position: i,
        theme: this.props.theme
      });
    }
  }, {
    key: "getSubmenu",
    value: function() {
      if (this.state.submenuShown) {
        const i = this.state.submenuSourceBbox, o = this.state.orientation === "left" ? {
          left: this.state.left,
          top: i.top
        } : {
          left: this.state.left + i.width + 7,
          top: i.top
        }, a = this.state.submenuShown, s = a.value;
        return a.option === "track-type" ? this.getTrackTypeItems(o, i, s) : this.getConfigureSeriesMenu(o, i, s);
      }
      return import_react.default.createElement("div", null);
    }
  }, {
    key: "getDivideByMenuItem",
    value: function() {
      if (this.props.series.data && this.props.series.data.type === "divided") {
        const i = {
          tilesetUid: this.props.series.data.children[0].tilesetUid,
          server: this.props.series.data.children[0].server
        };
        return import_react.default.createElement(Ct, {
          className: St["context-menu-item"],
          onClick: () => this.props.onChangeTrackData(this.props.series.uid, i),
          onMouseEnter: (o) => this.handleOtherMouseEnter(o)
        }, import_react.default.createElement("span", {
          className: St["context-menu-span"]
        }, "Remove divisor"));
      }
      return import_react.default.createElement(Ct, {
        className: St["context-menu-item"],
        onClick: () => this.props.onAddDivisor(this.props.series),
        onMouseEnter: (i) => this.handleOtherMouseEnter(i)
      }, import_react.default.createElement("span", {
        className: St["context-menu-span"]
      }, "Divide by"));
    }
  }, {
    key: "componentWillUnmount",
    value: function() {
    }
  }, {
    key: "render",
    value: function() {
      let i = null;
      Tr[this.props.series.type] && Tr[this.props.series.type].exportable && (i = import_react.default.createElement(Ct, {
        className: St["context-menu-item"],
        onClick: () => this.props.onExportData(this.props.hostTrack.uid, this.props.track.uid),
        onMouseEnter: (a) => this.handleOtherMouseEnter(a)
      }, import_react.default.createElement("span", {
        className: St["context-menu-span"]
      }, "Export Data")));
      const o = this.props.onAddSeries ? import_react.default.createElement(Ct, {
        className: St["context-menu-item"],
        onClick: () => {
          this.props.onCloseTrack(this.props.series.uid), this.props.onAddSeries(this.props.hostTrack.uid);
        },
        onMouseEnter: (a) => this.handleOtherMouseEnter(a)
      }, import_react.default.createElement("span", {
        className: St["context-menu-span"]
      }, "Replace Series")) : null;
      return import_react.default.createElement("div", {
        ref: (a) => {
          this.div = a;
        },
        className: nr(St["context-menu"], {
          [St["context-menu-dark"]]: this.props.theme === wr
        }),
        "data-menu-type": "SeriesListMenu",
        onMouseLeave: this.props.handleMouseLeave,
        style: {
          left: this.state.left,
          top: this.state.top
        }
      }, import_react.default.createElement(Ct, {
        onClick: () => {
        },
        onMouseEnter: (a) => this.handleItemMouseEnter(a, {
          option: "configure-series",
          value: this.props.track
        }),
        onMouseLeave: (a) => this.handleMouseLeave(a)
      }, "Configure Series", import_react.default.createElement("svg", {
        className: St["play-icon"]
      }, import_react.default.createElement("use", {
        xlinkHref: "#play"
      }))), import_react.default.createElement(Ct, {
        className: St["context-menu-item"],
        onClick: () => {
        },
        onMouseEnter: (a) => this.handleItemMouseEnter(a, {
          option: "track-type",
          value: this.props.track
        }),
        onMouseLeave: (a) => this.handleMouseLeave(a)
      }, import_react.default.createElement("span", {
        className: St["context-menu-span"]
      }, "Track Type", import_react.default.createElement("svg", {
        className: St["play-icon"]
      }, import_react.default.createElement("use", {
        xlinkHref: "#play"
      })))), i, this.getDivideByMenuItem(), import_react.default.createElement(Ct, {
        className: St["context-menu-item"],
        onClick: this.props.onCloseTrack,
        onMouseEnter: (a) => this.handleOtherMouseEnter(a)
      }, import_react.default.createElement("span", {
        className: St["context-menu-span"]
      }, "Close Series")), o, this.getSubmenu());
    }
  }]), r;
}(hc);
var oQ = (e13) => {
  let t = [];
  for (const r of e13)
    r.contents ? t = t.concat(r.contents) : t.push(r);
  return t;
};
var AL = (e13, t, r, n) => e13 ? (window.higlassTracksByType && Object.keys(window.higlassTracksByType).forEach((i) => {
  Tr[i] = window.higlassTracksByType[i].config;
}), oQ(e13).map((i) => {
  const o = Tr[i.type] ? Tr[i.type].thumbnail : null, a = o ? import_react.default.createElement("div", {
    className: St["context-menu-icon"],
    dangerouslySetInnerHTML: {
      __html: o.outerHTML
    }
  }) : import_react.default.createElement("div", {
    className: St["context-menu-icon"]
  }, import_react.default.createElement("svg", null));
  return import_react.default.createElement(Ct, {
    key: i.uid,
    className: St["context-menu-item"],
    onClick: () => {
      n && n(i.uid);
    },
    onMouseEnter: (s) => {
      t && t(s, i);
    },
    onMouseLeave: (s) => {
      r && r(s);
    }
  }, a, import_react.default.createElement("span", {
    className: St["context-menu-span"]
  }, i.options && i.options.name && i.options.name.length ? i.options.name : i.type, t && r ? import_react.default.createElement("svg", {
    className: St["play-icon"]
  }, import_react.default.createElement("use", {
    xlinkHref: "#play"
  })) : null));
})) : null;
function KQe(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function ZQe(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, JQe(n.key), n);
  }
}
function QQe(e13, t, r) {
  return t && ZQe(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function JQe(e13) {
  var t = eJe(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function eJe(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
function tJe(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  e13.prototype = Object.create(t && t.prototype, { constructor: { value: e13, writable: true, configurable: true } }), Object.defineProperty(e13, "prototype", { writable: false }), t && Dk(e13, t);
}
function Dk(e13, t) {
  return Dk = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, i) {
    return n.__proto__ = i, n;
  }, Dk(e13, t);
}
function rJe(e13) {
  var t = oJe();
  return function() {
    var n = uE(e13), i;
    if (t) {
      var o = uE(this).constructor;
      i = Reflect.construct(n, arguments, o);
    } else
      i = n.apply(this, arguments);
    return nJe(this, i);
  };
}
function nJe(e13, t) {
  if (t && (typeof t == "object" || typeof t == "function"))
    return t;
  if (t !== void 0)
    throw new TypeError("Derived constructors may only return object or undefined");
  return iJe(e13);
}
function iJe(e13) {
  if (e13 === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e13;
}
function oJe() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return false;
  if (typeof Proxy == "function")
    return true;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), true;
  } catch {
    return false;
  }
}
function uE(e13) {
  return uE = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(r) {
    return r.__proto__ || Object.getPrototypeOf(r);
  }, uE(e13);
}
var aQ = _S((e13) => function(t) {
  tJe(n, t);
  var r = rJe(n);
  function n() {
    return KQe(this, n), r.apply(this, arguments);
  }
  return QQe(n, [{
    key: "getSubmenu",
    value: function() {
      if (this.state.submenuShown) {
        const o = this.state.submenuSourceBbox;
        let a = null;
        this.state.orientation === "left" ? a = {
          left: this.state.left,
          top: o.top
        } : a = {
          left: this.state.left + o.width + 7,
          top: o.top
        };
        const l = oQ(this.props.tracks).filter((c) => c.uid === this.state.submenuShown.uid)[0], u = l && l.position !== "whole";
        return import_react.default.createElement(qQe, {
          key: `series-list-menu-${l.uid}`,
          ref: (c) => {
            this.seriesListMenu = c;
          },
          closeMenu: this.props.closeMenu,
          hostTrack: this.props.tracks[0],
          onAddDivisor: this.props.onAddDivisor,
          onAddSeries: u ? this.props.onAddSeries : null,
          onChangeTrackData: this.props.onChangeTrackData,
          onChangeTrackType: this.props.onChangeTrackType,
          onCloseTrack: () => this.props.onCloseTrack(this.state.submenuShown.uid),
          onConfigureTrack: this.props.onConfigureTrack,
          onDivideSeries: this.props.onDivideSeries,
          onExportData: this.props.onExportData,
          onLockScales: this.props.onLockScales,
          onTrackOptionsChanged: this.props.onTrackOptionsChanged,
          orientation: this.state.orientation,
          parentBbox: o,
          position: a,
          series: this.state.submenuShown,
          theme: this.props.theme,
          track: l,
          trackOrientation: this.props.trackOrientation,
          trackSourceServers: this.props.trackSourceServers
        });
      }
      return import_react.default.createElement("div", null);
    }
  }]), n;
}(e13));
function aJe(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function sJe(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, cJe(n.key), n);
  }
}
function lJe(e13, t, r) {
  return t && sJe(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function cJe(e13) {
  var t = uJe(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function uJe(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
function Hb() {
  return typeof Reflect < "u" && Reflect.get ? Hb = Reflect.get.bind() : Hb = function(t, r, n) {
    var i = hJe(t, r);
    if (i) {
      var o = Object.getOwnPropertyDescriptor(i, r);
      return o.get ? o.get.call(arguments.length < 3 ? t : n) : o.value;
    }
  }, Hb.apply(this, arguments);
}
function hJe(e13, t) {
  for (; !Object.prototype.hasOwnProperty.call(e13, t) && (e13 = zd(e13), e13 !== null); )
    ;
  return e13;
}
function fJe(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  e13.prototype = Object.create(t && t.prototype, { constructor: { value: e13, writable: true, configurable: true } }), Object.defineProperty(e13, "prototype", { writable: false }), t && Rk(e13, t);
}
function Rk(e13, t) {
  return Rk = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, i) {
    return n.__proto__ = i, n;
  }, Rk(e13, t);
}
function dJe(e13) {
  var t = gJe();
  return function() {
    var n = zd(e13), i;
    if (t) {
      var o = zd(this).constructor;
      i = Reflect.construct(n, arguments, o);
    } else
      i = n.apply(this, arguments);
    return pJe(this, i);
  };
}
function pJe(e13, t) {
  if (t && (typeof t == "object" || typeof t == "function"))
    return t;
  if (t !== void 0)
    throw new TypeError("Derived constructors may only return object or undefined");
  return mJe(e13);
}
function mJe(e13) {
  if (e13 === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e13;
}
function gJe() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return false;
  if (typeof Proxy == "function")
    return true;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), true;
  } catch {
    return false;
  }
}
function zd(e13) {
  return zd = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(r) {
    return r.__proto__ || Object.getPrototypeOf(r);
  }, zd(e13);
}
var vJe = function(e13) {
  fJe(r, e13);
  var t = dJe(r);
  function r(n) {
    var i;
    return aJe(this, r), i = t.call(this, n), i.seriesRefs = {}, i.seriesListMenu = null, i;
  }
  return lJe(r, [{
    key: "componentDidMount",
    value: function() {
      Hb(zd(r.prototype), "componentDidMount", this).call(this);
    }
  }, {
    key: "render",
    value: function() {
      return import_react.default.createElement("div", {
        ref: (i) => {
          this.div = i;
        },
        className: nr(St["context-menu"], {
          [St["context-menu-dark"]]: this.props.theme === wr
        }),
        "data-menu-type": "ConfigTrackMenu",
        style: {
          left: this.state.left,
          top: this.state.top
        }
      }, AL(this.props.tracks, this.handleItemMouseEnter.bind(this), this.handleMouseLeave.bind(this), null), import_react.default.createElement("hr", {
        className: St["context-menu-hr"]
      }), import_react.default.createElement(Ct, {
        contextMenu: this,
        onClick: () => this.props.onLockValueScale(this.props.tracks[0].uid),
        onMouseEnter: (i) => this.handleOtherMouseEnter(i)
      }, "Lock Value Scale With"), import_react.default.createElement(Ct, {
        contextMenu: this,
        onClick: () => this.props.onUnlockValueScale(this.props.tracks[0].uid),
        onMouseEnter: (i) => this.handleOtherMouseEnter(i)
      }, "Unlock Value Scale"), import_react.default.createElement("hr", {
        className: St["context-menu-hr"]
      }), import_react.default.createElement(Ct, {
        contextMenu: this,
        onClick: () => this.props.onAddSeries(this.props.tracks[0].uid),
        onMouseEnter: (i) => this.handleOtherMouseEnter(i)
      }, "Add Series"), import_react.default.createElement(Ct, {
        onClick: () => this.props.onCloseTrack(this.props.tracks[0].uid)
      }, "Close Track"), import_react.default.createElement(Ct, {
        onClick: () => {
          this.props.onReplaceTrack(this.props.tracks[0].uid, this.props.trackOrientation);
        }
      }, "Replace Track"), this.getSubmenu());
    }
  }]), r;
}(Tp(hc).with(aQ));
function sQ(e13) {
  return import_react.default.createElement("div", null, AL(e13.tracks, null, null, e13.onCloseTrack), import_react.default.createElement("hr", {
    className: St["context-menu-hr"]
  }), import_react.default.createElement(Ct, {
    onClick: () => e13.onCloseTrack(e13.tracks[0].uid)
  }, "Close all series"));
}
sQ.propTypes = {
  onCloseTrack: M.func.isRequired,
  tracks: M.array.isRequired
};
function yJe(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function _Je(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, TJe(n.key), n);
  }
}
function bJe(e13, t, r) {
  return t && _Je(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function TJe(e13) {
  var t = EJe(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function EJe(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
function SJe(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  e13.prototype = Object.create(t && t.prototype, { constructor: { value: e13, writable: true, configurable: true } }), Object.defineProperty(e13, "prototype", { writable: false }), t && Nk(e13, t);
}
function Nk(e13, t) {
  return Nk = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, i) {
    return n.__proto__ = i, n;
  }, Nk(e13, t);
}
function wJe(e13) {
  var t = OJe();
  return function() {
    var n = hE(e13), i;
    if (t) {
      var o = hE(this).constructor;
      i = Reflect.construct(n, arguments, o);
    } else
      i = n.apply(this, arguments);
    return AJe(this, i);
  };
}
function AJe(e13, t) {
  if (t && (typeof t == "object" || typeof t == "function"))
    return t;
  if (t !== void 0)
    throw new TypeError("Derived constructors may only return object or undefined");
  return Ub(e13);
}
function Ub(e13) {
  if (e13 === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e13;
}
function OJe() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return false;
  if (typeof Proxy == "function")
    return true;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), true;
  } catch {
    return false;
  }
}
function hE(e13) {
  return hE = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(r) {
    return r.__proto__ || Object.getPrototypeOf(r);
  }, hE(e13);
}
var zl = function(e13) {
  SJe(r, e13);
  var t = wJe(r);
  function r(n) {
    var i;
    return yJe(this, r), i = t.call(this, n), i.clickHandlerBound = i.clickHandler.bind(Ub(i)), i.contextMenuHandlerBound = i.contextMenuHandler.bind(Ub(i)), i.resizeHandlerBound = i.resizeHandler.bind(Ub(i)), i;
  }
  return bJe(r, [{
    key: "componentDidMount",
    value: function() {
      this.popup = document.createElement("div"), document.body.appendChild(this.popup), this.popup.style.zIndex = 99, this.popup.style.position = "absolute", this.popup.className = "hg-popup", document.addEventListener("click", this.clickHandlerBound, true), document.addEventListener("contextmenu", this.contextMenuHandlerBound, true), window.addEventListener("resize", this.resizeHandlerBound, true), this._renderLayer();
    }
  }, {
    key: "componentDidUpdate",
    value: function() {
      this._renderLayer();
    }
  }, {
    key: "componentWillUnmount",
    value: function() {
      document.removeEventListener("click", this.clickHandlerBound, true), document.removeEventListener("contextmenu", this.contextMenuHandlerBound, true), window.removeEventListener("resize", this.resizeHandlerBound, true), import_react_dom.default.unmountComponentAtNode(this.popup), document.body.removeChild(this.popup);
    }
  }, {
    key: "_renderLayer",
    value: function() {
      import_react_dom.default.render(this.props.children, this.popup);
    }
  }, {
    key: "clickHandler",
    value: function(i) {
      this.popup.contains(i.target) || this.props.onMenuClosed && this.props.onMenuClosed(i);
    }
  }, {
    key: "contextMenuHandler",
    value: function(i) {
      i.altKey || (i.preventDefault(), this.clickHandler(i));
    }
  }, {
    key: "resizeHandler",
    value: function() {
      this.props.onMenuClosed(null);
    }
  }, {
    key: "render",
    value: function() {
      return import_react.default.createElement("div", null);
    }
  }]), r;
}(import_react.default.Component);
zl.defaultProps = {
  onMenuClosed: X9
};
zl.propTypes = {
  children: M.node.isRequired,
  onMenuClosed: M.func
};
var IJe = d9((e13) => import_react.default.createElement(oZ, {
  className: e13.className,
  controlAlignLeft: e13.controlAlignLeft,
  editable: e13.editable,
  handleConfigTrack: e13.handleConfigTrack,
  handleResizeTrack: e13.handleResizeTrack,
  height: e13.height,
  item: e13.item,
  onAddSeries: e13.onAddSeries,
  onCloseTrack: e13.onCloseTrack,
  onCloseTrackMenuOpened: e13.onCloseTrackMenuOpened,
  onConfigTrackMenuOpened: e13.onConfigTrackMenuOpened,
  resizeHandles: e13.resizeHandles,
  uid: e13.uid,
  width: e13.width
}));
var PJe = {
  "vertical-tiled-plot": "_vertical-tiled-plot_f3ho8_1"
};
function CJe(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function xJe(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, DJe(n.key), n);
  }
}
function kJe(e13, t, r) {
  return t && xJe(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function DJe(e13) {
  var t = RJe(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function RJe(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
function NJe(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  e13.prototype = Object.create(t && t.prototype, { constructor: { value: e13, writable: true, configurable: true } }), Object.defineProperty(e13, "prototype", { writable: false }), t && Mk(e13, t);
}
function Mk(e13, t) {
  return Mk = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, i) {
    return n.__proto__ = i, n;
  }, Mk(e13, t);
}
function MJe(e13) {
  var t = BJe();
  return function() {
    var n = fE(e13), i;
    if (t) {
      var o = fE(this).constructor;
      i = Reflect.construct(n, arguments, o);
    } else
      i = n.apply(this, arguments);
    return LJe(this, i);
  };
}
function LJe(e13, t) {
  if (t && (typeof t == "object" || typeof t == "function"))
    return t;
  if (t !== void 0)
    throw new TypeError("Derived constructors may only return object or undefined");
  return jb(e13);
}
function jb(e13) {
  if (e13 === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e13;
}
function BJe() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return false;
  if (typeof Proxy == "function")
    return true;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), true;
  } catch {
    return false;
  }
}
function fE(e13) {
  return fE = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(r) {
    return r.__proto__ || Object.getPrototypeOf(r);
  }, fE(e13);
}
function y4(e13) {
  return e13 && e13.sourceEvent;
}
var Lk = function(e13) {
  NJe(r, e13);
  var t = MJe(r);
  function r(n) {
    var i;
    return CJe(this, r), i = t.call(this, n), i.brushBehavior = $v().on("start", i.brushStarted.bind(jb(i))).on("brush", i.brushed.bind(jb(i))).on("end", i.brushedEnded.bind(jb(i))), i;
  }
  return kJe(r, [{
    key: "componentDidMount",
    value: function() {
      this.props.isRangeSelectionActive && this.addBrush();
    }
  }, {
    key: "shouldComponentUpdate",
    value: function(i, o) {
      if (this.rangeSelectionTriggered)
        return this.rangeSelectionTriggered = false, this.rangeSelectionTriggeredEnd && this.props.rangeSelection !== i.rangeSelection && this.moveBrush(i.rangeSelection[0] ? i.rangeSelection[0] : null, true), this.rangeSelectionTriggeredEnd = false, this.state !== o;
      if (this.props.rangeSelection !== i.rangeSelection) {
        const a = this.props.is1dRangeSelection ? 0 : 1;
        return this.moveBrush(i.rangeSelection[a] ? i.rangeSelection[a] : null, i.rangeSelectionEnd), this.state !== o;
      }
      return true;
    }
  }, {
    key: "componentDidUpdate",
    value: function() {
      this.props.isRangeSelectionActive ? this.addBrush() : this.removeBrush();
    }
    /* --------------------------- Getter / Setter ---------------------------- */
    /* ---------------------------- Custom Methods ---------------------------- */
  }, {
    key: "addBrush",
    value: function() {
      !this.brushEl || this.brushElAddedBefore === this.brushEl || (this.brushElAddedBefore && this.brushElAddedBefore.on(".brush", null), this.brushEl.call(this.brushBehavior), this.brushElAddedBefore = this.brushEl, Pf(this.brushEl, $o["track-range-selection-group-brush-selection"]));
    }
  }, {
    key: "brushed",
    value: function(i) {
      const o = this.rangeSelectionMoved;
      this.rangeSelectionMoved = false, !(!y4(i) || !this.props.onRangeSelection || o) && (this.rangeSelectionTriggered = true, this.props.onRangeSelection(i.selection));
    }
  }, {
    key: "brushStarted",
    value: function(i) {
      !y4(i) || !i.selection || this.props.onRangeSelectionStart();
    }
  }, {
    key: "brushedEnded",
    value: function(i) {
      if (!this.props.is1dRangeSelection)
        return;
      const o = this.rangeSelectionMovedEnd;
      this.rangeSelectionMovedEnd = false, i.selection && i.sourceEvent && this.props.onRangeSelection && !o && (this.rangeSelectionTriggered = true, this.rangeSelectionTriggeredEnd = true, this.props.onRangeSelectionEnd(i.selection)), i.selection || (this.rangeSelectionTriggered = true, this.props.onRangeSelectionReset());
    }
  }, {
    key: "moveBrush",
    value: function(i, o = false) {
      if (!this.brushEl)
        return;
      const a = i ? [this.props.scale(i[0]), this.props.scale(i[1])] : null;
      this.rangeSelectionMoved = true, this.rangeSelectionMovedEnd = true, o ? this.brushEl.transition().call(this.brushBehavior.move, a) : this.brushEl.call(this.brushBehavior.move, a);
    }
  }, {
    key: "removeBrush",
    value: function() {
      this.brushElAddedBefore && (this.brushElAddedBefore.call(this.brushBehavior.move, null), this.brushElAddedBefore.on(".brush", null), this.brushElAddedBefore = void 0, this.props.onRangeSelectionReset());
    }
    /* ------------------------------ Rendering ------------------------------- */
  }, {
    key: "render",
    value: function() {
      const i = this.props.tracks.map((s) => s.width).reduce(El, 0), o = this.props.tracks.map((s) => ep(s)).reduce(jv, false), a = $o[this.props.isRangeSelectionActive ? "track-range-selection-active" : "track-range-selection"];
      return import_react.default.createElement("div", {
        className: PJe["vertical-tiled-plot"]
      }, o && import_react.default.createElement("svg", {
        ref: (s) => {
          this.brushEl = Wt(s);
        },
        className: a,
        style: {
          height: this.props.height,
          width: i
        },
        xmlns: "http://www.w3.org/2000/svg"
      }), import_react.default.createElement(SS, {
        axis: "x",
        className: nr(Ho.list, Ho.stylizedList, Ho.horizontalList),
        component: iZ,
        editable: this.props.editable,
        handleConfigTrack: this.props.handleConfigTrack,
        handleResizeTrack: this.props.handleResizeTrack,
        height: this.props.height,
        helperClass: Ho.stylizedHelper,
        itemClass: nr(Ho.stylizedItem, Ho.horizontalItem),
        itemControlAlignLeft: this.props.tracksControlAlignLeft,
        itemReactClass: IJe,
        items: this.props.tracks.map((s) => ({
          configMenuVisible: s.uid === this.props.configTrackMenuId,
          uid: s.uid || Gt.nice(),
          height: this.props.height,
          width: s.width,
          value: s.value
        })),
        onAddSeries: this.props.onAddSeries,
        onCloseTrack: this.props.onCloseTrack,
        onCloseTrackMenuOpened: this.props.onCloseTrackMenuOpened,
        onConfigTrackMenuOpened: this.props.onConfigTrackMenuOpened,
        onSortEnd: this.props.handleSortEnd,
        referenceAncestor: this.props.referenceAncestor,
        resizeHandles: this.props.resizeHandles,
        useDragHandle: true,
        width: i
      }));
    }
  }]), r;
}(import_react.default.Component);
Lk.propTypes = {
  configTrackMenuId: M.string,
  editable: M.bool,
  handleConfigTrack: M.func,
  handleResizeTrack: M.func,
  handleSortEnd: M.func,
  is1dRangeSelection: M.bool,
  isRangeSelectionActive: M.bool,
  height: M.number,
  onAddSeries: M.func,
  onCloseTrack: M.func,
  onCloseTrackMenuOpened: M.func,
  onConfigTrackMenuOpened: M.func,
  onRangeSelection: M.func,
  onRangeSelectionEnd: M.func,
  onRangeSelectionReset: M.func,
  onRangeSelectionStart: M.func,
  rangeSelection: M.array,
  rangeSelectionEnd: M.bool,
  referenceAncestor: M.func,
  resizeHandles: M.object,
  scale: M.func,
  tracks: M.array,
  tracksControlAlignLeft: M.bool
};
function FJe(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function $Je(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, UJe(n.key), n);
  }
}
function HJe(e13, t, r) {
  return t && $Je(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function UJe(e13) {
  var t = jJe(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function jJe(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
function GJe(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  e13.prototype = Object.create(t && t.prototype, { constructor: { value: e13, writable: true, configurable: true } }), Object.defineProperty(e13, "prototype", { writable: false }), t && Bk(e13, t);
}
function Bk(e13, t) {
  return Bk = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, i) {
    return n.__proto__ = i, n;
  }, Bk(e13, t);
}
function zJe(e13) {
  var t = WJe();
  return function() {
    var n = dE(e13), i;
    if (t) {
      var o = dE(this).constructor;
      i = Reflect.construct(n, arguments, o);
    } else
      i = n.apply(this, arguments);
    return VJe(this, i);
  };
}
function VJe(e13, t) {
  if (t && (typeof t == "object" || typeof t == "function"))
    return t;
  if (t !== void 0)
    throw new TypeError("Derived constructors may only return object or undefined");
  return XJe(e13);
}
function XJe(e13) {
  if (e13 === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e13;
}
function WJe() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return false;
  if (typeof Proxy == "function")
    return true;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), true;
  } catch {
    return false;
  }
}
function dE(e13) {
  return dE = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(r) {
    return r.__proto__ || Object.getPrototypeOf(r);
  }, dE(e13);
}
var lQ = function(e13) {
  GJe(r, e13);
  var t = zJe(r);
  function r() {
    return FJe(this, r), t.apply(this, arguments);
  }
  return HJe(r, [{
    key: "render",
    value: function() {
      const i = AL(this.props.tracks, this.handleItemMouseEnter.bind(this), this.handleMouseLeave.bind(this)), o = this.props.customItems ? import_react.default.Children.map(this.props.customItems, (a) => import_react.default.cloneElement(a, {
        onMouseEnter: (s) => {
          this.handleOtherMouseEnter(s);
        }
      })) : null;
      return import_react.default.createElement("div", {
        ref: (a) => {
          this.div = a;
        },
        className: nr(St["context-menu"], {
          [St["context-menu-dark"]]: this.props.theme === wr
        }),
        "data-menu-type": "ViewContextMenu",
        style: {
          left: this.state.left,
          top: this.state.top
        }
      }, o, o && import_react.default.createElement("hr", {
        className: St["context-menu-hr"]
      }), i, i && import_react.default.createElement("hr", {
        className: St["context-menu-hr"]
      }), import_react.default.createElement(Ct, {
        onClick: () => this.props.onAddTrack({
          type: "horizontal-rule",
          y: this.props.coords[1],
          position: "whole"
        }),
        onMouseEnter: (a) => this.handleOtherMouseEnter(a)
      }, "Add Horizontal Rule"), import_react.default.createElement(Ct, {
        onClick: () => this.props.onAddTrack({
          type: "vertical-rule",
          x: this.props.coords[0],
          position: "whole"
        }),
        onMouseEnter: (a) => this.handleOtherMouseEnter(a)
      }, "Add Vertical Rule"), import_react.default.createElement(Ct, {
        onClick: () => this.props.onAddTrack({
          type: "cross-rule",
          x: this.props.coords[0],
          y: this.props.coords[1],
          position: "whole"
        }),
        onMouseEnter: (a) => this.handleOtherMouseEnter(a)
      }, "Add Cross Rule"), import_react.default.createElement("hr", {
        className: St["context-menu-hr"]
      }), this.hasMatrixTrack(this.props.tracks) && import_react.default.createElement(Ct, {
        onClick: this.handleAddHorizontalSection.bind(this),
        onMouseEnter: (a) => this.handleOtherMouseEnter(a)
      }, "Add Horizontal Cross Section"), this.hasMatrixTrack(this.props.tracks) && import_react.default.createElement(Ct, {
        onClick: this.handleAddVerticalSection.bind(this),
        onMouseEnter: (a) => this.handleOtherMouseEnter(a)
      }, "Add Vertical Cross Section"), this.getSubmenu());
    }
  }, {
    key: "hasMatrixTrack",
    value: function(i) {
      return nb(this.props.tracks).filter((a) => a.type === "heatmap").length > 0;
    }
  }, {
    key: "handleAddHorizontalSection",
    value: function() {
      const o = nb(this.props.tracks).filter((a) => a.type === "heatmap")[0];
      this.props.onAddTrack({
        type: "horizontal-rule",
        y: this.props.coords[1],
        position: "whole"
      }), this.props.onAddTrack({
        data: {
          type: "horizontal-section",
          server: o.server,
          tilesetUid: o.tilesetUid,
          slicePos: this.props.coords[1]
        },
        options: {
          valueScaling: "log"
        },
        type: "horizontal-bar",
        height: 30,
        position: "top"
      });
    }
  }, {
    key: "handleAddVerticalSection",
    value: function() {
      const o = nb(this.props.tracks).filter((a) => a.type === "heatmap")[0];
      this.props.onAddTrack({
        type: "vertical-rule",
        x: this.props.coords[0],
        position: "whole"
      }), this.props.onAddTrack({
        data: {
          type: "vertical-section",
          server: o.server,
          tilesetUid: o.tilesetUid,
          slicePos: this.props.coords[0]
        },
        options: {
          valueScaling: "log"
        },
        type: "vertical-bar",
        height: 30,
        position: "left"
      });
    }
  }]), r;
}(Tp(hc).with(aQ));
lQ.propTypes = {
  // the data coordinates where this context menu was initiated
  coords: M.array,
  customItems: M.array
};
function YJe(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function qJe(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, ZJe(n.key), n);
  }
}
function KJe(e13, t, r) {
  return t && qJe(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function ZJe(e13) {
  var t = QJe(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function QJe(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
function JJe(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  e13.prototype = Object.create(t && t.prototype, { constructor: { value: e13, writable: true, configurable: true } }), Object.defineProperty(e13, "prototype", { writable: false }), t && Fk(e13, t);
}
function Fk(e13, t) {
  return Fk = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, i) {
    return n.__proto__ = i, n;
  }, Fk(e13, t);
}
function eet(e13) {
  var t = ret();
  return function() {
    var n = pE(e13), i;
    if (t) {
      var o = pE(this).constructor;
      i = Reflect.construct(n, arguments, o);
    } else
      i = n.apply(this, arguments);
    return tet(this, i);
  };
}
function tet(e13, t) {
  if (t && (typeof t == "object" || typeof t == "function"))
    return t;
  if (t !== void 0)
    throw new TypeError("Derived constructors may only return object or undefined");
  return Rn(e13);
}
function Rn(e13) {
  if (e13 === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e13;
}
function ret() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return false;
  if (typeof Proxy == "function")
    return true;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), true;
  } catch {
    return false;
  }
}
function pE(e13) {
  return pE = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(r) {
    return r.__proto__ || Object.getPrototypeOf(r);
  }, pE(e13);
}
var OL = function(e13) {
  JJe(r, e13);
  var t = eet(r);
  function r(n) {
    var i;
    YJe(this, r), i = t.call(this, n), i.closing = false;
    const {
      tracks: o
    } = i.props;
    return i.canvasElement = null, i.tracksByUidInit = {}, [...i.props.tracks.top || [], ...i.props.tracks.right || [], ...i.props.tracks.bottom || [], ...i.props.tracks.left || [], ...i.props.tracks.gallery || [], ...i.props.tracks.center || []].forEach((a) => {
      a.type === "combined" ? a.contents.forEach((s) => {
        i.tracksByUidInit[s.uid] = false;
      }) : i.tracksByUidInit[a.uid] = false;
    }), i.xScale = null, i.yScale = null, i.addUidsToTracks(o), i.trackToReplace = null, i.trackRenderer = null, i.configTrackMenu = null, i.state = {
      sizeMeasured: false,
      height: 10,
      width: 10,
      tracks: o,
      init: false,
      addTrackPosition: null,
      customDialog: null,
      mouseOverOverlayUid: null,
      // trackOptions: null
      // trackOptions: trackOptions
      forceUpdate: 0,
      // a random value that will be assigned by
      // crucial functions to force an update
      rangeSelection: [null, null],
      rangeSelectionEnd: false,
      chromInfo: null,
      defaultChromSizes: null,
      contextMenuCustomItems: null,
      contextMenuPosition: null,
      addDivisorDialog: null
    }, i.reset = true, window.higlassTracksByType && Object.keys(window.higlassTracksByType).forEach((a) => {
      Tr[a] = window.higlassTracksByType[a].config;
    }), i.topHeight = 0, i.bottomHeight = 0, i.leftWidth = 0, i.rightWidth = 0, i.centerHeight = 0, i.centerWidth = 0, i.dragTimeout = null, i.previousPropsStr = "", i.contextMenuHandlerBound = i.contextMenuHandler.bind(Rn(i)), i.handleNoTrackAddedBound = i.handleNoTrackAdded.bind(Rn(i)), i.handleTracksAddedBound = i.handleTracksAdded.bind(Rn(i)), i.closeMenusBound = i.closeMenus.bind(Rn(i)), i.handleAddDivisorBound = i.handleAddDivisor.bind(Rn(i)), i.handleAddSeriesBound = i.handleAddSeries.bind(Rn(i)), i.handleChangeTrackDataBound = i.handleChangeTrackData.bind(Rn(i)), i.handleChangeTrackTypeBound = i.handleChangeTrackType.bind(Rn(i)), i.handleCloseTrackBound = i.handleCloseTrack.bind(Rn(i)), i.handleConfigureTrackBound = i.handleConfigureTrack.bind(Rn(i)), i.handleExportTrackDataBound = i.handleExportTrackData.bind(Rn(i)), i.handleLockValueScaleBound = i.handleLockValueScale.bind(Rn(i)), i.handleReplaceTrackBound = i.handleReplaceTrack.bind(Rn(i)), i.handleTrackOptionsChangedBound = i.handleTrackOptionsChanged.bind(Rn(i)), i.handleUnlockValueScaleBound = i.handleUnlockValueScale.bind(Rn(i)), i.onAddTrack = i.handleAddTrack.bind(Rn(i)), i;
  }
  return KJe(r, [{
    key: "waitForDOMAttachment",
    value: function(i) {
      if (!this.mounted)
        return;
      const o = import_react_dom.default.findDOMNode(this);
      document.body.contains(o) ? i() : requestAnimationFrame(() => this.waitForDOMAttachment(i));
    }
  }, {
    key: "componentDidMount",
    value: function() {
      this.mounted = true, this.element = import_react_dom.default.findDOMNode(this), this.canvasElement = import_react_dom.default.findDOMNode(this.props.canvasElement), this.waitForDOMAttachment(() => {
        g0.ElementQueries.listen(), this.resizeSensor = new g0.ResizeSensor(this.element.parentNode, this.measureSize.bind(this)), this.measureSize();
      }), this.addEventListeners(), this.pubSubs = [], this.pubSubs.push(this.props.pubSub.subscribe("contextmenu", this.contextMenuHandlerBound));
    }
    // eslint-disable-next-line camelcase
  }, {
    key: "UNSAFE_componentWillReceiveProps",
    value: function(i) {
      this.addUidsToTracks(i.tracks), this.setState({
        tracks: i.tracks
      });
    }
  }, {
    key: "shouldComponentUpdate",
    value: function(i, o) {
      const a = this.previousPropsStr, s = this.updatablePropsToString(i), l = JSON.stringify(this.state), u = JSON.stringify(o), c = a !== s || l !== u || this.props.chooseTrackHandler !== i.chooseTrackHandler || this.props.customDialog !== i.customDialog;
      c && (this.previousPropsStr = s);
      const f = this.numTracks;
      return this.numTracks = 0, ss(this.props.tracks, () => this.numTracks++), this.reset = this.reset || f === 0 && this.numTracks > 0, this.numTracks || (this.tracksByUidInit = {}), c;
    }
    // eslint-disable-next-line camelcase
  }, {
    key: "UNSAFE_componentWillUpdate",
    value: function() {
    }
  }, {
    key: "componentDidUpdate",
    value: function(i, o) {
      if (o.rangeSelection !== this.state.rangeSelection) {
        let a = [null, null];
        this.state.defaultChromSizes && this.state.rangeSelection.every((s) => s && s.length) && (a = this.state.rangeSelection.map((s) => O0(...s, this.state.defaultChromSizes))), this.props.onRangeSelection({
          dataRange: this.state.rangeSelection,
          genomicRange: a
        });
      }
      if (this.state.customDialog || this.props.customDialog) {
        const a = this.state.customDialog || this.props.customDialog;
        if (a.length > 0) {
          const s = [], l = [];
          a.forEach((u) => {
            s.push(u.bodyComponent), l.push(u.bodyProps);
          }), this.props.modal.open(import_react.default.createElement(wL, {
            children: s,
            bodyProps: l,
            onCancel: this.props.closeCustomDialog,
            title: a[0].title
          }));
        }
      }
      if (i.tracks.center, this.props.tracks.center, (this.state.addTrackPosition || this.props.addTrackPosition) && this.props.modal.open(import_react.default.createElement(oE, {
        host: this.state.addTrackHost,
        onCancel: this.handleNoTrackAddedBound,
        onTracksChosen: this.handleTracksAddedBound,
        position: this.state.addTrackPosition || this.props.addTrackPosition,
        trackSourceServers: this.props.trackSourceServers
      })), this.state.addDivisorDialog) {
        const a = this.state.addDivisorDialog;
        this.props.modal.open(import_react.default.createElement(oE, {
          datatype: Tr[a.type].datatype[0],
          host: this.state.addTrackHost,
          onCancel: () => {
            this.setState({
              addDivisorDialog: null
            });
          },
          onTracksChosen: (s) => {
            this.handleDivisorChosen(a, s);
          },
          trackSourceServers: this.props.trackSourceServers
        }));
      }
    }
  }, {
    key: "componentWillUnmount",
    value: function() {
      this.closing = true, this.removeEventListeners(), this.pubSubs.forEach((i) => this.props.pubSub.unsubscribe(i));
    }
  }, {
    key: "addUidsToTracks",
    value: function(i) {
      Object.keys(i).forEach((o) => {
        i[o].forEach((a) => {
          a.uid = a.uid || Gt.nice();
        });
      });
    }
    /*
    getDefaultChromSizes() {
      try {
        const centralHeatmap = this.findCentralHeatmapTrack(
          this.props.tracks.center
        );
        this.getChromInfo = chromInfo
          .get(`${centralHeatmap.server}/chrom-sizes/?id=${centralHeatmap.tilesetUid}`)
          .then(defaultChromSizes => this.setState({ defaultChromSizes }));
      } catch (err) {  }
    }
    */
  }, {
    key: "contextMenuHandler",
    value: function(i) {
      if (!this.divTiledPlot)
        return;
      const o = this.divTiledPlot.getBoundingClientRect();
      if (!XR(i.clientX, i.clientY, o.left, o.left + o.width, o.top, o.top + o.height))
        return;
      const s = [i.clientX, i.clientY], l = vr(i, this.divTiledPlot), u = this.trackRenderer.zoomedXScale.invert(l[0]), c = this.trackRenderer.zoomedYScale.invert(l[1]);
      let f = null;
      i.hgCustomItems && (f = i.hgCustomItems.map((h) => import_react.default.createElement(Ct, {
        key: h.key,
        onClick: h.onClick
      }, h.text))), this.setState({
        contextMenuCustomItems: f,
        contextMenuPosition: {
          left: s[0],
          top: s[1],
          canvasLeft: l[0] + this.trackRenderer.xPositionOffset,
          canvasTop: l[1] + this.trackRenderer.yPositionOffset
        },
        contextMenuDataX: u,
        contextMenuDataY: c
      });
    }
  }, {
    key: "measureSize",
    value: function() {
      this.element.clientWidth > 0 && this.element.clientHeight > 0 && this.setState({
        sizeMeasured: true,
        width: this.element.clientWidth,
        height: this.element.clientHeight
      });
    }
  }, {
    key: "handleTrackOptionsChanged",
    value: function(i, o) {
      return this.props.onTrackOptionsChanged(i, o);
    }
  }, {
    key: "handleScalesChanged",
    value: function(i, o) {
      this.xScale = i, this.yScale = o, this.props.onScalesChanged(i, o);
    }
    /**
     * We've received information about a tileset from the server. Register it
     * with the track definition.
     * @param trackUid (string): The identifier for the track
     * @param tilesetInfo (object): Information about the track (hopefully including
     *                              its name.
     */
  }, {
    key: "handleTilesetInfoReceived",
    value: function(i, o) {
      const a = qi(this.props.tracks, i);
      if (!a) {
        console.warn("Strange, track not found:", i);
        return;
      }
      this.tracksByUidInit[a.uid] = true, this.checkAllTilesetInfoReceived(), a.options || (a.options = {}), a.name = o.name, a.maxWidth = o.max_width, a.transforms = o.transforms, a.aggregationModes = o.aggregation_modes, a.header = o.header, a.binsPerDimension = o.bins_per_dimension, o.resolutions ? (a.maxZoom = o.resolutions.length - 1, a.resolutions = o.resolutions) : a.maxZoom = o.max_zoom, a.coordSystem = o.coordSystem, a.datatype = o.datatype;
    }
    /**
     * Check if all track which are expecting a tileset info have been loaded.
     */
  }, {
    key: "checkAllTilesetInfoReceived",
    value: function() {
      if (this.state.init && !this.reset || !this.trackRenderer || !this.props.zoomToDataExtentOnInit())
        return;
      const i = Object.keys(this.trackRenderer.trackDefObjects).map((a) => {
        const s = this.trackRenderer.trackDefObjects[a].trackObject;
        return s.childTracks ? s.childTracks : s;
      }).reduce((a, s) => a.concat(s), []).filter(({
        tilesetInfo: a
      }) => typeof a < "u" && a !== true), o = Object.values(this.tracksByUidInit).filter((a) => a).length;
      i.length === o && (this.setState({
        init: true
      }), this.reset = false, this.handleZoomToData());
    }
  }, {
    key: "handleOverlayMouseEnter",
    value: function(i) {
      this.setState({
        mouseOverOverlayUid: i
      });
    }
  }, {
    key: "handleOverlayMouseLeave",
    value: function(i) {
      i === this.state.mouseOverOverlayUid && this.setState({
        mouseOverOverlayUid: null
      });
    }
  }, {
    key: "handleTrackPositionChosen",
    value: function(i) {
      this.setState({
        mouseOverOverlayUid: null
      }), this.props.chooseTrackHandler(i.track.uid);
    }
  }, {
    key: "handleNoTrackAdded",
    value: function() {
      this.trackToReplace = null, this.props.onNoTrackAdded(), this.setState({
        addTrackPosition: null,
        addTrackHost: null
      });
    }
  }, {
    key: "handleAddDivisor",
    value: function(i) {
      this.setState({
        addDivisorDialog: i
      });
    }
    /**
     * The user has selected a track that they wish to use to normalize another
     * track.
     */
  }, {
    key: "handleDivisorChosen",
    value: function(i, o) {
      this.setState({
        addDivisorDialog: null
      });
      const a = i.data ? {
        server: i.data.server,
        tilesetUid: i.data.tilesetUid
      } : {
        server: i.server,
        tilesetUid: i.tilesetUid
      }, s = {
        server: o[0].server,
        tilesetUid: o[0].uuid
      };
      this.handleChangeTrackData(i.uid, {
        type: "divided",
        children: [a, s]
      });
    }
  }, {
    key: "handleDivideSeries",
    value: function(i) {
    }
  }, {
    key: "handleAddSeries",
    value: function(i) {
      const o = qm(this.props.tracks, i), a = qi(this.props.tracks, i);
      this.setState({
        addTrackPosition: o,
        addTrackHost: a
      });
    }
  }, {
    key: "handleReplaceTrack",
    value: function(i, o) {
      this.trackToReplace = i, this.handleAddTrack(o);
    }
  }, {
    key: "handleAddTrack",
    value: function(i) {
      this.setState({
        addTrackPosition: i,
        addTrackHost: null
      });
    }
  }, {
    key: "handleResizeTrack",
    value: function(i, o, a) {
      const {
        tracks: s
      } = this.state;
      for (const l in s) {
        const c = s[l].filter((f) => f.uid === i);
        c.length > 0 && (c[0].width = o, c[0].height = a);
      }
      this.setState({
        tracks: s,
        forceUpdate: Math.random()
      }), this.props.onResizeTrack();
    }
  }, {
    key: "closeMenus",
    value: function() {
      this.setState({
        closeTrackMenuId: null,
        configTrackMenuId: null,
        contextMenuPosition: null,
        contextMenuCustomItems: null
      });
    }
  }, {
    key: "handleLockValueScale",
    value: function(i) {
      this.closeMenus(), this.props.onLockValueScale(i);
    }
  }, {
    key: "handleUnlockValueScale",
    value: function(i) {
      this.closeMenus(), this.props.onUnlockValueScale(i);
    }
  }, {
    key: "handleCloseTrack",
    value: function(i) {
      this.closeMenus(), this.props.onCloseTrack(i);
    }
  }, {
    key: "handleChangeTrackType",
    value: function(i, o) {
      this.closeMenus(), this.props.onChangeTrackType(i, o);
    }
    /**
     * Change this tracks data section so that it
     * is either of type "divided" or the "divided"
     * type is removed
     */
  }, {
    key: "handleChangeTrackData",
    value: function(i, o) {
      this.closeMenus(), this.props.onChangeTrackData(i, o);
    }
  }, {
    key: "handleTracksAdded",
    value: function(i, o, a) {
      return this.trackToReplace && (this.handleCloseTrack(this.trackToReplace), this.trackToReplace = null), this.props.onTracksAdded(i, o, a), this.setState({
        addTrackPosition: null,
        addTrackHost: null
      }), i;
    }
  }, {
    key: "handleCloseTrackMenuOpened",
    value: function(i, o) {
      this.setState({
        closeTrackMenuId: i,
        closeTrackMenuLocation: o
      });
    }
  }, {
    key: "handleCloseContextMenu",
    value: function() {
      this.setState({
        contextMenuCustomItems: null,
        contextMenuPosition: null,
        contextMenuDataX: null,
        contextMenuDataY: null
      });
    }
  }, {
    key: "handleCloseTrackMenuClosed",
    value: function() {
      this.setState({
        closeTrackMenuId: null
      });
    }
  }, {
    key: "handleConfigTrackMenuOpened",
    value: function(i, o) {
      this.closeMenus(), this.setState({
        configTrackMenuId: i,
        configTrackMenuLocation: o
      });
    }
  }, {
    key: "handleConfigureTrack",
    value: function(i, o) {
      this.setState({
        configTrackMenuId: null,
        trackOptions: {
          track: i,
          configComponent: o
        }
      }), this.closeMenus();
    }
  }, {
    key: "handleSortEnd",
    value: function(i) {
      this.setState((o) => {
        const a = o.tracks, s = {};
        for (let l = 0; l < i.length; l++)
          s[i[l].uid] = l;
        for (const l in a) {
          const u = a[l];
          if (u.length && u[0].uid in s) {
            const c = new Array(u.length);
            for (let f = 0; f < u.length; f++)
              c[s[u[f].uid]] = u[f];
            a[l] = c;
          }
        }
        return {
          tracks: a,
          forceUpdate: Math.random()
        };
      });
    }
  }, {
    key: "createTracksAndLocations",
    value: function() {
      const i = [], {
        tracks: o
      } = this.state;
      return bP.forEach((a) => {
        o[a] && o[a].forEach((s) => {
          s.contents && s.contents.forEach((l) => {
            l.position = a;
          }), s.position = a, i.push({
            track: s,
            location: a
          });
        });
      }), i;
    }
    /**
     * Calculate where a track is absoluately positioned within the drawing area
     *
     * @param track: The track object (with members, e.g. track.uid, track.width,
     *   track.height)
     * @param location: Where it's being plotted (e.g. 'top', 'bottom')
     * @return: The position of the track and it's height and width
     *          (e.g. {left: 10, top: 20, width: 30, height: 40}
     */
  }, {
    key: "calculateTrackPosition",
    value: function(i, o) {
      let a = this.props.paddingTop, s = this.props.paddingBottom, l = this.props.paddingLeft, u = this.props.paddingRight, c = this.centerWidth, f = i.height, h = 0, d = 0;
      switch (o) {
        case "top":
          l += this.leftWidth;
          for (let p = 0; p < this.state.tracks.top.length && this.state.tracks.top[p].uid !== i.uid; p++)
            a += this.state.tracks.top[p].height;
          break;
        case "bottom":
          l += this.leftWidth, a += this.topHeight + this.centerHeight + this.galleryDim;
          for (let p = 0; p < this.state.tracks.bottom.length && this.state.tracks.bottom[p].uid !== i.uid; p++)
            a += this.state.tracks.bottom[p].height;
          break;
        case "left":
          a += this.topHeight, c = i.width, f = this.centerHeight;
          for (let p = 0; p < this.state.tracks.left.length && this.state.tracks.left[p].uid !== i.uid; p++)
            l += this.state.tracks.left[p].width;
          break;
        case "right":
          l += this.leftWidth + this.centerWidth + this.galleryDim, a += this.topHeight, c = i.width, f = this.centerHeight;
          for (let p = 0; p < this.state.tracks.right.length && this.state.tracks.right[p].uid !== i.uid; p++)
            l += this.state.tracks.right[p].width;
          break;
        case "center":
          l += this.leftWidth, a += this.topHeight, f = this.centerHeight;
          break;
        case "gallery":
          l += this.leftWidthNoGallery, a += this.topHeightNoGallery, c = this.state.width - this.leftWidthNoGallery - this.rightWidthNoGallery - this.props.paddingLeft, f = this.state.height - this.topHeightNoGallery - this.bottomHeightNoGallery - this.props.paddingTop, h = this.galleryDim, d = this.galleryDim;
          for (let p = 0; p < this.state.tracks.gallery.length && this.state.tracks.gallery[p].uid !== i.uid; p++)
            c -= 2 * this.state.tracks.gallery[p].height, f -= 2 * this.state.tracks.gallery[p].height, l += this.state.tracks.gallery[p].height, a += this.state.tracks.gallery[p].height, h -= this.state.tracks.gallery[p].height, d -= this.state.tracks.gallery[p].height;
          for (let p = 0; p < this.state.tracks.right.length; p++)
            u += this.state.tracks.right[p].width;
          for (let p = 0; p < this.state.tracks.bottom.length; p++)
            s += this.state.tracks.bottom[p].height;
          i.offsetX = h, i.offsetY = d, i.offsetTop = a, i.offsetRight = u, i.offsetBottom = s, i.offsetLeft = l;
          break;
        case "whole":
        default:
          c = this.leftWidth + this.centerWidth + this.rightWidth, f = this.topHeight + this.centerHeight + this.bottomHeight;
      }
      return bP.indexOf(o) === -1 && console.warn("Track with unknown position present:", o, i), {
        left: l,
        top: a,
        width: c,
        height: f,
        track: i
      };
    }
    /**
     * Find a central heatmap track among all displayed tracks
     *
     * @param  {Array}  tracks  Tracks to be searched.
     * @return  {Object}  The first central heatmap track or `undefined`.
     */
  }, {
    key: "findCentralHeatmapTrack",
    value: function(i) {
      for (let o = 0; o < i.length; o++) {
        if (i[o].type === "combined")
          return this.findCentralHeatmapTrack(i[o].contents);
        if (i[o].type === "heatmap")
          return i[o];
      }
    }
  }, {
    key: "trackUuidToOrientation",
    value: function(i) {
    }
  }, {
    key: "overlayTracks",
    value: function(i) {
      return this.props.overlays ? this.props.overlays.filter((a) => a.includes && a.includes.length).map((a) => {
        const s = a.type ? `overlay-${a.type}-track` : "overlay-track", l = {
          ...a,
          uid: a.uid || Gt.nice(),
          includes: a.includes,
          type: s,
          options: Object.assign(a.options, {
            orientationsAndPositions: a.includes.map((u) => {
              const c = qi(this.props.tracks, u);
              if (!c)
                return console.warn(`OverlayTrack included uid (${u}) not found in the track list`), null;
              const f = qm(this.props.tracks, c.uid);
              let h;
              if ((f === "top" || f === "bottom") && (h = "1d-horizontal"), (f === "left" || f === "right") && (h = "1d-vertical"), f === "center" && (h = "2d"), !h)
                return console.warn("Only top, bottom, left, right, or center tracks can be overlaid at the moment"), null;
              const d = i.filter((m) => m.track.uid === u);
              if (!d.length)
                return null;
              const p = {
                left: d[0].left - this.props.paddingLeft,
                top: d[0].top - this.props.paddingTop,
                width: d[0].width,
                height: d[0].height
              };
              return {
                orientation: h,
                position: p
              };
            }).filter((u) => u)
            // filter out null entries
          })
        };
        return {
          top: this.props.paddingTop,
          left: this.props.paddingLeft,
          width: this.leftWidth + this.centerWidth + this.rightWidth,
          height: this.topHeight + this.centerHeight + this.bottomHeight + this.props.marginTop + this.props.marginBottom,
          track: l
        };
      }) : [];
    }
  }, {
    key: "positionedTracks",
    value: function() {
      return this.createTracksAndLocations().map(({
        track: o,
        location: a
      }) => this.calculateTrackPosition(o, a));
    }
  }, {
    key: "createTrackPositionTexts",
    value: function() {
      const i = this.positionedTracks();
      return this.createTracksAndLocations(), i.map((a) => {
        const {
          track: s
        } = a;
        return import_react.default.createElement("div", {
          key: s.uid,
          style: {
            left: a.left,
            top: a.top,
            width: a.width,
            height: a.height,
            position: "absolute"
          }
        }, s.uid.slice(0, 2));
      });
    }
  }, {
    key: "handleExportTrackData",
    value: function(i, o) {
      const a = qi(this.props.tracks, o);
      let s = null;
      i !== o ? s = this.trackRenderer.trackDefObjects[i].trackObject.createdTracks[a.uid] : {
        trackObject: s
      } = this.trackRenderer.trackDefObjects[i], s.exportData(), this.closeMenus();
    }
    /**
     * List all the tracks that are under this mouse position
     */
  }, {
    key: "listTracksAtPosition",
    value: function(i, o, a = false) {
      const s = [];
      if (!this.trackRenderer)
        return [];
      for (const l in this.trackRenderer.trackDefObjects) {
        const u = this.trackRenderer.trackDefObjects[l].trackObject;
        if (u.respondsToPosition(i, o))
          if (a) {
            if (this.props.tracks.center)
              if (this.props.tracks.center.contents)
                for (let c = 0; c < this.props.tracks.center.contents.length; c++)
                  this.props.tracks.center.contents[c].uid === l && (u.is2d = true);
              else this.props.tracks.center && this.props.tracks.center.length && this.props.tracks.center[0].uid === l && (u.is2d = true);
            s.push(u);
          } else
            s.push(this.trackRenderer.trackDefObjects[l].trackDef.track);
      }
      return s;
    }
  }, {
    key: "listAllTrackObjects",
    value: function() {
      const i = [];
      for (const o in this.trackRenderer.trackDefObjects) {
        const a = this.trackRenderer.trackDefObjects[o];
        if (a.trackObject.createdTracks)
          for (const s in a.trackObject.createdTracks) {
            const l = a.trackObject.createdTracks[s];
            i.push(l);
          }
        else
          i.push(a.trackObject);
      }
      return i;
    }
  }, {
    key: "handleZoomToData",
    value: function() {
      const i = Number.MAX_SAFE_INTEGER, o = Number.MIN_SAFE_INTEGER, a = [i, i], s = [o, o], l = this.listAllTrackObjects();
      for (const d of l)
        if (d.tilesetInfo && d.tilesetInfo.min_pos)
          for (let p = 0; p < d.tilesetInfo.min_pos.length; p++)
            d.tilesetInfo.min_pos[p] < a[p] && (a[p] = d.tilesetInfo.min_pos[p]), d.tilesetInfo.max_pos[p] > s[p] && (s[p] = d.tilesetInfo.max_pos[p]);
      const u = this.trackRenderer.currentProps.paddingLeft + this.trackRenderer.currentProps.leftWidth;
      let c = [u, u + this.trackRenderer.currentProps.centerWidth].map(this.trackRenderer.zoomTransform.rescaleX(this.trackRenderer.xScale).invert);
      const f = this.trackRenderer.currentProps.paddingTop + this.trackRenderer.currentProps.topHeight;
      let h = [f, f + this.trackRenderer.currentProps.centerHeight].map(this.trackRenderer.zoomTransform.rescaleY(this.trackRenderer.yScale).invert);
      this.trackRenderer.zoomTransform.k = 1, this.trackRenderer.zoomTransform.x = 0, this.trackRenderer.zoomTransform.y = 0, this.trackRenderer.applyZoomTransform(), a[0] < Number.MAX_SAFE_INTEGER && s[0] > Number.MIN_SAFE_INTEGER && (c = [a[0], s[0]]), a[1] < Number.MAX_SAFE_INTEGER && s[1] > Number.MIN_SAFE_INTEGER && (h = [a[1], s[1]]), this.props.onDataDomainChanged(c, h);
    }
  }, {
    key: "resetViewport",
    value: function() {
      this.trackRenderer.zoomTransform.k = 1, this.trackRenderer.zoomTransform.x = 0, this.trackRenderer.zoomTransform.y = 0, this.trackRenderer.applyZoomTransform(), this.props.onDataDomainChanged(this.props.initialXDomain, this.props.initialYDomain);
    }
  }, {
    key: "updatablePropsToString",
    value: function(i) {
      return JSON.stringify({
        tracks: i.tracks,
        overlays: i.overlays,
        viewOptions: i.viewOptions,
        uid: i.uid,
        addTrackPosition: i.addTrackPosition,
        editable: i.editable,
        marginTop: i.marginTop,
        marginBottom: i.marginBottom,
        marginLeft: i.marginLeft,
        marginRight: i.marginRight,
        paddingTop: i.paddingTop,
        paddingBottom: i.paddingBottom,
        paddingLeft: i.paddingLeft,
        paddingRight: i.paddingRight,
        mouseTool: i.mouseTool,
        initialXDomain: i.initialXDomain,
        initialYDomain: i.initialYDomain,
        trackSourceServers: i.trackSourceServers,
        zoomable: i.zoomable,
        draggingHappening: i.draggingHappening
      });
    }
  }, {
    key: "getXYScales",
    value: function() {
      this.trackRenderer && (this.xScale = this.trackRenderer.currentXScale, this.yScale = this.trackRenderer.currentYScale);
    }
    /**
     * Translate view to data location.
     *
     * @description
     * The view location is in pixels relative to the browser window. The data
     * location is given by the scaling relative to the initial x and y domains.
     * And the genomic location depends on the chrom sizes.
     *
     * @method  rangeViewToDataLoci
     * @author  Fritz Lekschas
     * @date    2018-01-14
     * @param  {Array}  range  Selected view range
     * @param  {Function}  scale  View to data scaling
     * @return  {Array}  2D array of data locations
     */
  }, {
    key: "rangeViewToDataLoci",
    value: function(i, o) {
      return o ? [parseInt(o.invert(i[0]), 10), parseInt(o.invert(i[1]), 10)] : [null, null];
    }
  }, {
    key: "rangeSelectionResetHandler",
    value: function() {
      this.state.rangeSelectionMaster && this.setState({
        is1dRangeSelection: null,
        rangeSelection: [null, null],
        rangeSelectionMaster: null,
        rangeSelectionEnd: false
      });
    }
  }, {
    key: "rangeSelection1dEndHandler",
    value: function(i) {
      (!this.xScale || !this.yScale) && this.getXYScales();
      const o = i === "x" ? this.xScale : this.yScale;
      return (a) => {
        this.setState((s) => {
          const l = s.is1dRangeSelection ? [null, null] : s.rangeSelection.slice(), u = !this.state.is1dRangeSelection && i === "y" ? 1 : 0;
          let c = this.rangeViewToDataLoci(a, o);
          const f = c[1] - c[0];
          if (this.props.rangeSelection1dSize[0] > f) {
            const h = c[0] + f / 2;
            c = [h - this.props.rangeSelection1dSize[0] / 2, h + this.props.rangeSelection1dSize[0] / 2];
          } else if (this.props.rangeSelection1dSize[1] < f) {
            const h = c[0] + f / 2;
            c = [h - this.props.rangeSelection1dSize[1] / 2, h + this.props.rangeSelection1dSize[1] / 2];
          }
          return l[u] = c, this.props.rangeSelectionToInt && (l[u] = l[u].map((h) => Math.round(h))), {
            rangeSelection: l,
            rangeSelectionEnd: true
          };
        });
      };
    }
  }, {
    key: "rangeSelection1dHandler",
    value: function(i) {
      (!this.xScale || !this.yScale) && this.getXYScales();
      const o = i === "x" ? this.xScale : this.yScale;
      return (a) => {
        this.setState((s) => {
          const l = s.is1dRangeSelection ? [null, null] : s.rangeSelection.slice(), u = !s.is1dRangeSelection && i === "y" ? 1 : 0;
          return l[u] = this.rangeViewToDataLoci(a, o), {
            rangeSelection: l,
            rangeSelectionEnd: false
          };
        });
      };
    }
  }, {
    key: "rangeSelection1dStartHandler",
    value: function() {
      this.state.rangeSelectionMaster || this.setState({
        is1dRangeSelection: true,
        rangeSelectionMaster: true,
        rangeSelectionEnd: false
      });
    }
  }, {
    key: "rangeSelection2dHandler",
    value: function(i) {
      (!this.xScale || !this.yScale) && this.getXYScales(), this.setState({
        rangeSelection: [this.rangeViewToDataLoci(i[0], this.xScale), this.rangeViewToDataLoci(i[1], this.yScale)],
        rangeSelectionEnd: false
      });
    }
  }, {
    key: "rangeSelection2dStartHandler",
    value: function() {
      this.state.rangeSelectionMaster || this.setState({
        is1dRangeSelection: false,
        rangeSelectionMaster: true,
        rangeSelectionEnd: false
      });
    }
  }, {
    key: "rangeSelection2dEndHandler",
    value: function(i) {
      (!this.xScale || !this.yScale) && this.getXYScales();
      const o = this.rangeViewToDataLoci(i[0], this.xScale), a = this.rangeViewToDataLoci(i[1], this.yScale);
      let s = [o, a];
      const l = o[1] - o[0], u = a[1] - a[0], c = [l, u];
      s.forEach((f, h) => {
        if (this.props.rangeSelection1dSize[0] > c[h]) {
          const d = f[0] + Math.round(c[h] / 2);
          f[0] = d - this.props.rangeSelection1dSize[0] / 2, f[1] = d + this.props.rangeSelection1dSize[0] / 2;
        } else if (this.props.rangeSelection1dSize[1] < c[h]) {
          const d = f[0] + Math.round(c[h] / 2);
          f[0] = d - this.props.rangeSelection1dSize[1] / 2, f[1] = d + this.props.rangeSelection1dSize[1] / 2;
        }
      }), this.props.rangeSelectionToInt && (s = s.map((f) => f.map((h) => Math.round(h)))), this.setState({
        rangeSelection: s,
        rangeSelectionEnd: true
      });
    }
  }, {
    key: "getContextMenu",
    value: function() {
      if (this.state.contextMenuPosition) {
        const i = this.listTracksAtPosition(this.state.contextMenuPosition.canvasLeft, this.state.contextMenuPosition.canvasTop);
        return import_react.default.createElement(zl, {
          onMenuClosed: this.closeMenusBound
        }, import_react.default.createElement(lQ, {
          closeMenu: this.closeMenusBound,
          coords: [this.state.contextMenuDataX, this.state.contextMenuDataY],
          customItems: this.state.contextMenuCustomItems,
          onAddDivisor: this.handleAddDivisorBound,
          onAddSeries: this.handleAddSeriesBound,
          onAddTrack: (o) => {
            this.props.onTracksAdded([o], o.position, null), this.handleCloseContextMenu();
          },
          onChangeTrackData: this.handleChangeTrackDataBound,
          onChangeTrackType: this.handleChangeTrackTypeBound,
          onCloseTrack: this.handleCloseTrackBound,
          onConfigureTrack: this.handleConfigureTrackBound,
          onExportData: this.handleExportTrackDataBound,
          onLockValueScale: this.handleLockValueScaleBound,
          onReplaceTrack: this.handleReplaceTrackBound,
          onTrackOptionsChanged: this.handleTrackOptionsChangedBound,
          onUnlockValueScale: this.handleUnlockValueScaleBound,
          orientation: "right",
          position: this.state.contextMenuPosition,
          theme: this.props.theme,
          tracks: i,
          trackSourceServers: this.props.trackSourceServers
        }));
      }
      return null;
    }
    /**
     * Draw an overlay that shows the positions of all the different
     * track areas
     */
  }, {
    key: "getIdealizedTrackPositionsOverlay",
    value: function() {
      const i = this.props.draggingHappening;
      if (typeof i == "boolean")
        return;
      const o = i.datatype;
      if (!(o in Qg) && !i.defaultTracks) {
        console.warn("unknown data type:", i.higlassTrack);
        return;
      }
      const a = {
        "1d-horizontal": ["top", "bottom", "left", "right"],
        "2d": ["center"],
        "1d-vertical": ["left", "right"]
      }, s = Qg[o] || {};
      if (i.defaultTracks)
        for (const w of i.defaultTracks)
          if (!Tr[w])
            console.warn("unknown track type", w);
          else
            for (const N of a[Tr[w].orientation])
              s[N] = w;
      const l = new Set(["top", "left", "right", "center", "bottom"].filter((w) => w in this.state.tracks && this.state.tracks[w].length)), u = "top" in s, c = "left" in s, f = "right" in s, h = "bottom" in s, d = "center" in s, p = "center" in s || l.has("left") || l.has("right") || l.has("center"), m = "top" in s, g = "bottom" in s && p, v = "left" in s && p, b = "right" in s && p, y = Object.keys(s).length && ("center" in s || p), _ = import_react.default.createElement("div", {
        style: {
          flexGrow: 1
        }
      }), T = import_react.default.cloneElement(_), E = import_react.default.createElement("div", {
        style: {
          display: "flex",
          flexGrow: 1
        }
      }, m && (y || v) ? _ : null, import_react.default.createElement(g_, {
        defaultTrackType: s.top,
        draggingHappening: this.props.draggingHappening,
        enabled: u,
        onTrackDropped: (w) => this.handleTracksAdded([w], "top"),
        style: {
          border: "1px solid black",
          flexGrow: 1
        }
      }), m && (y || v) ? T : null), O = import_react.default.createElement("div", {
        style: {
          display: "flex",
          flexGrow: 1
        }
      }, m && (y || v) ? _ : null, import_react.default.createElement(g_, {
        defaultTrackType: s.bottom,
        draggingHappening: this.props.draggingHappening,
        enabled: h,
        onTrackDropped: (w) => this.handleTracksAdded([w], "bottom"),
        style: {
          border: "1px solid black",
          flexGrow: 1
        }
      }), m && (y || v) ? T : null), S = import_react.default.createElement(g_, {
        defaultTrackType: s.left,
        draggingHappening: this.props.draggingHappening,
        enabled: c,
        onTrackDropped: (w) => this.handleTracksAdded([w], "left"),
        style: {
          border: "1px solid black",
          flexGrow: 1
        }
      }), P = import_react.default.createElement(g_, {
        defaultTrackType: s.center,
        draggingHappening: this.props.draggingHappening,
        enabled: d,
        onTrackDropped: (w) => this.handleTracksAdded([w], "center"),
        position: "center",
        style: {
          border: "1px solid black",
          flexGrow: 1
        }
      }), C = import_react.default.cloneElement(S, {
        defaultTrackType: s.right,
        enabled: f,
        onTrackDropped: (w) => this.handleTracksAdded([w], "right")
      });
      return import_react.default.createElement("div", {
        style: {
          position: "absolute",
          left: "0px",
          top: "0px",
          width: this.state.width,
          height: this.state.height
        }
      }, import_react.default.createElement("div", {
        style: {
          position: "absolute",
          width: this.state.width,
          height: this.state.height,
          background: "white",
          opacity: 0.4
        }
      }), import_react.default.createElement("div", {
        style: {
          width: this.state.width,
          height: this.state.height,
          position: "absolute",
          display: "flex",
          flexDirection: "column"
        }
      }, m ? E : null, p && import_react.default.createElement("div", {
        style: {
          display: "flex",
          height: m || g ? "40%" : "100%",
          width: "100%"
        }
      }, v ? S : null, y ? P : null, b ? C : null), g ? O : null));
    }
  }, {
    key: "render",
    value: function() {
      this.galleryDim = this.props.tracks.gallery ? this.props.tracks.gallery.map((y) => y.height).reduce(El, 0) : 0, this.topHeightNoGallery = this.props.tracks.top.map((y) => y.height).reduce(El, 0), this.topHeight = this.topHeightNoGallery + this.galleryDim, this.bottomHeightNoGallery = this.props.tracks.bottom.map((y) => y.height).reduce(El, 0), this.bottomHeight = this.bottomHeightNoGallery + this.galleryDim, this.leftWidthNoGallery = this.props.tracks.left.map((y) => y.width).reduce(El, 0), this.leftWidth = this.leftWidthNoGallery + this.galleryDim, this.rightWidthNoGallery = this.props.tracks.right.map((y) => y.width).reduce(El, 0), this.rightWidth = this.rightWidthNoGallery + this.galleryDim;
      const i = this.props.paddingTop + this.props.paddingBottom, o = this.props.paddingLeft + this.props.paddingRight;
      this.centerHeight = Math.max(0, this.state.height - this.topHeight - this.bottomHeight - i), this.centerWidth = Math.max(0, this.state.width - this.leftWidth - this.rightWidth - o);
      const a = "none", s = import_react.default.createElement("div", {
        className: "top-track-container",
        style: {
          left: this.leftWidth + this.props.paddingLeft,
          top: this.props.paddingTop,
          width: this.centerWidth,
          height: this.topHeightNoGallery,
          outline: a,
          position: "absolute"
        }
      }, import_react.default.createElement(VT, {
        configTrackMenuId: this.state.configTrackMenuId,
        editable: this.props.editable,
        handleConfigTrack: this.handleConfigTrackMenuOpened.bind(this),
        handleResizeTrack: this.handleResizeTrack.bind(this),
        handleSortEnd: this.handleSortEnd.bind(this),
        is1dRangeSelection: this.state.is1dRangeSelection,
        isRangeSelectionActive: this.props.mouseTool === yo,
        onAddSeries: this.handleAddSeries.bind(this),
        onCloseTrack: this.handleCloseTrack.bind(this),
        onCloseTrackMenuOpened: this.handleCloseTrackMenuOpened.bind(this),
        onConfigTrackMenuOpened: this.handleConfigTrackMenuOpened.bind(this),
        onRangeSelection: this.rangeSelection1dHandler("x").bind(this),
        onRangeSelectionEnd: this.rangeSelection1dEndHandler("x").bind(this),
        onRangeSelectionReset: this.rangeSelectionResetHandler.bind(this),
        onRangeSelectionStart: this.rangeSelection1dStartHandler.bind(this),
        rangeSelection: this.state.rangeSelection,
        rangeSelectionEnd: this.state.rangeSelectionEnd,
        resizeHandles: /* @__PURE__ */ new Set(["bottom"]),
        scale: this.xScale,
        tracks: this.props.tracks.top,
        width: this.centerWidth
      })), l = import_react.default.createElement("div", {
        className: "left-track-container",
        style: {
          left: this.props.paddingLeft,
          top: this.topHeight + this.props.paddingTop,
          width: this.leftWidthNoGallery,
          height: this.centerHeight,
          outline: a,
          position: "absolute"
        }
      }, import_react.default.createElement(Lk, {
        configTrackMenuId: this.state.configTrackMenuId,
        editable: this.props.editable,
        handleConfigTrack: this.handleConfigTrackMenuOpened.bind(this),
        handleResizeTrack: this.handleResizeTrack.bind(this),
        handleSortEnd: this.handleSortEnd.bind(this),
        height: this.centerHeight,
        is1dRangeSelection: this.state.is1dRangeSelection,
        isRangeSelectionActive: this.props.mouseTool === yo,
        onAddSeries: this.handleAddSeries.bind(this),
        onCloseTrack: this.handleCloseTrack.bind(this),
        onCloseTrackMenuOpened: this.handleCloseTrackMenuOpened.bind(this),
        onConfigTrackMenuOpened: this.handleConfigTrackMenuOpened.bind(this),
        onRangeSelection: this.rangeSelection1dHandler("y").bind(this),
        onRangeSelectionEnd: this.rangeSelection1dEndHandler("y").bind(this),
        onRangeSelectionReset: this.rangeSelectionResetHandler.bind(this),
        onRangeSelectionStart: this.rangeSelection1dStartHandler.bind(this),
        rangeSelection: this.state.rangeSelection,
        rangeSelectionEnd: this.state.rangeSelectionEnd,
        resizeHandles: /* @__PURE__ */ new Set(["right"]),
        scale: this.yScale,
        tracks: this.props.tracks.left
      })), u = import_react.default.createElement("div", {
        className: "right-track-container",
        style: {
          right: this.props.paddingRight,
          top: this.topHeight + this.props.paddingTop,
          width: this.rightWidthNoGallery,
          height: this.centerHeight,
          outline: a,
          position: "absolute"
        }
      }, import_react.default.createElement(Lk, {
        configTrackMenuId: this.state.configTrackMenuId,
        editable: this.props.editable,
        handleConfigTrack: this.handleConfigTrackMenuOpened.bind(this),
        handleResizeTrack: this.handleResizeTrack.bind(this),
        handleSortEnd: this.handleSortEnd.bind(this),
        height: this.centerHeight,
        is1dRangeSelection: this.state.is1dRangeSelection,
        isRangeSelectionActive: this.props.mouseTool === yo,
        onAddSeries: this.handleAddSeries.bind(this),
        onCloseTrack: this.handleCloseTrack.bind(this),
        onCloseTrackMenuOpened: this.handleCloseTrackMenuOpened.bind(this),
        onConfigTrackMenuOpened: this.handleConfigTrackMenuOpened.bind(this),
        onRangeSelection: this.rangeSelection1dHandler("y").bind(this),
        onRangeSelectionEnd: this.rangeSelection1dEndHandler("y").bind(this),
        onRangeSelectionReset: this.rangeSelectionResetHandler.bind(this),
        onRangeSelectionStart: this.rangeSelection1dStartHandler.bind(this),
        rangeSelection: this.state.rangeSelection,
        rangeSelectionEnd: this.state.rangeSelectionEnd,
        resizeHandles: /* @__PURE__ */ new Set(["left"]),
        scale: this.yScale,
        tracks: this.props.tracks.right,
        tracksControlAlignLeft: true
      })), c = import_react.default.createElement("div", {
        className: "bottom-track-container",
        style: {
          left: this.leftWidth + this.props.paddingLeft,
          bottom: this.props.paddingBottom,
          width: this.centerWidth,
          height: this.bottomHeightNoGallery,
          outline: a,
          position: "absolute"
        }
      }, import_react.default.createElement(VT, {
        configTrackMenuId: this.state.configTrackMenuId,
        editable: this.props.editable,
        handleConfigTrack: this.handleConfigTrackMenuOpened.bind(this),
        handleResizeTrack: this.handleResizeTrack.bind(this),
        handleSortEnd: this.handleSortEnd.bind(this),
        is1dRangeSelection: this.state.is1dRangeSelection,
        isRangeSelectionActive: this.props.mouseTool === yo,
        onAddSeries: this.handleAddSeries.bind(this),
        onCloseTrack: this.handleCloseTrack.bind(this),
        onCloseTrackMenuOpened: this.handleCloseTrackMenuOpened.bind(this),
        onConfigTrackMenuOpened: this.handleConfigTrackMenuOpened.bind(this),
        onRangeSelection: this.rangeSelection1dHandler("x").bind(this),
        onRangeSelectionEnd: this.rangeSelection1dEndHandler("x").bind(this),
        onRangeSelectionReset: this.rangeSelectionResetHandler.bind(this),
        onRangeSelectionStart: this.rangeSelection1dStartHandler.bind(this),
        rangeSelection: this.state.rangeSelection,
        rangeSelectionEnd: this.state.rangeSelectionEnd,
        resizeHandles: /* @__PURE__ */ new Set(["top"]),
        scale: this.xScale,
        tracks: this.props.tracks.bottom,
        width: this.centerWidth
      })), f = import_react.default.createElement("div", {
        key: "galleryTracksDiv",
        className: "gallery-track-container",
        style: {
          left: this.leftWidthNoGallery + this.props.paddingLeft,
          top: this.topHeightNoGallery + this.props.paddingTop,
          width: this.centerWidth + 2 * this.galleryDim,
          height: this.centerHeight + 2 * this.galleryDim,
          outline: a,
          position: "absolute"
        }
      }, import_react.default.createElement(VW, {
        configTrackMenuId: this.state.configTrackMenuId,
        editable: this.props.editable,
        height: this.centerHeight + 2 * this.galleryDim,
        onAddSeries: this.handleAddSeries.bind(this),
        onCloseTrack: this.handleCloseTrack.bind(this),
        onCloseTrackMenuOpened: this.handleCloseTrackMenuOpened.bind(this),
        onConfigTrackMenuOpened: this.handleConfigTrackMenuOpened.bind(this),
        tracks: this.props.tracks.gallery,
        width: this.centerWidth + 2 * this.galleryDim
      }));
      let h = import_react.default.createElement("div", {
        className: ["center-track-container", fC["center-track-container"]].join(" "),
        style: {
          left: this.leftWidth + this.props.paddingLeft,
          top: this.topHeight + this.props.paddingTop,
          width: this.centerWidth,
          height: this.bottomHeight,
          outline: a
        }
      });
      this.props.tracks.center.length && (h = import_react.default.createElement("div", {
        className: ["center-track-container", fC["center-track-container"]].join(" "),
        style: {
          left: this.leftWidth + this.props.paddingLeft,
          top: this.topHeight + this.props.paddingTop,
          width: this.centerWidth,
          height: this.centerHeight,
          outline: a
        }
      }, import_react.default.createElement(tM, {
        configTrackMenuId: this.state.configTrackMenuId,
        editable: this.props.editable,
        height: this.centerHeight,
        is1dRangeSelection: this.state.is1dRangeSelection,
        isRangeSelectionActive: this.props.mouseTool === yo,
        onAddSeries: this.handleAddSeries.bind(this),
        onCloseTrackMenuOpened: this.handleCloseTrackMenuOpened.bind(this),
        onConfigTrackMenuOpened: this.handleConfigTrackMenuOpened.bind(this),
        onRangeSelectionReset: this.rangeSelectionResetHandler.bind(this),
        onRangeSelectionStart: this.rangeSelection2dStartHandler.bind(this),
        onRangeSelectionX: this.rangeSelection1dHandler("x").bind(this),
        onRangeSelectionXEnd: this.rangeSelection1dEndHandler("x").bind(this),
        onRangeSelectionXY: this.rangeSelection2dHandler.bind(this),
        onRangeSelectionXYEnd: this.rangeSelection2dEndHandler.bind(this),
        onRangeSelectionY: this.rangeSelection1dHandler("y").bind(this),
        onRangeSelectionYEnd: this.rangeSelection1dEndHandler("y").bind(this),
        rangeSelection: this.state.rangeSelection,
        rangeSelectionEnd: this.state.rangeSelectionEnd,
        scaleX: this.xScale,
        scaleY: this.yScale,
        tracks: this.props.tracks.center,
        uid: this.props.tracks.center[0].uid,
        width: this.centerWidth
      }))), this.createTrackPositionTexts();
      let d = this.positionedTracks();
      d = d.concat(this.overlayTracks(d));
      let p = null;
      this.state.sizeMeasured && (p = import_react.default.createElement(
        xZe,
        {
          ref: (y) => {
            this.trackRenderer = y, this.checkAllTilesetInfoReceived();
          },
          canvasElement: this.canvasElement,
          centerHeight: this.centerHeight,
          centerWidth: this.centerWidth,
          disableTrackMenu: this.props.disableTrackMenu,
          dragging: this.props.dragging,
          galleryDim: this.galleryDim,
          getLockGroupExtrema: this.props.getLockGroupExtrema,
          height: this.state.height,
          initialXDomain: this.props.initialXDomain,
          initialYDomain: this.props.initialYDomain,
          isRangeSelection: this.props.mouseTool === yo,
          isShowGlobalMousePosition: this.props.isShowGlobalMousePosition,
          isValueScaleLocked: this.props.isValueScaleLocked,
          leftWidth: this.leftWidth,
          leftWidthNoGallery: this.leftWidthNoGallery,
          metaTracks: this.props.metaTracks,
          onMouseMoveZoom: this.props.onMouseMoveZoom,
          onNewTilesLoaded: this.props.onNewTilesLoaded,
          onScalesChanged: this.handleScalesChanged.bind(this),
          onTilesetInfoReceived: this.handleTilesetInfoReceived.bind(this),
          onTrackOptionsChanged: this.handleTrackOptionsChanged.bind(this),
          onValueScaleChanged: this.props.onValueScaleChanged,
          paddingLeft: this.props.paddingLeft,
          paddingTop: this.props.paddingTop,
          pixiRenderer: this.props.pixiRenderer,
          pixiStage: this.props.pixiStage,
          pluginDataFetchers: this.props.pluginDataFetchers,
          pluginTracks: this.props.pluginTracks,
          positionedTracks: d,
          registerDraggingChangedListener: this.props.registerDraggingChangedListener,
          removeDraggingChangedListener: this.props.removeDraggingChangedListener,
          setCentersFunction: this.props.setCentersFunction,
          svgElement: this.props.svgElement,
          topHeight: this.topHeight,
          topHeightNoGallery: this.topHeightNoGallery,
          uid: this.props.uid,
          viewOptions: this.props.viewOptions,
          width: this.state.width,
          xDomainLimits: this.props.xDomainLimits,
          yDomainLimits: this.props.yDomainLimits,
          zoomable: this.props.zoomable,
          zoomLimits: this.props.zoomLimits
        },
        s,
        l,
        u,
        c,
        f,
        h
      ));
      let m = null, g = null;
      this.state.configTrackMenuId && (m = import_react.default.createElement(zl, {
        onMenuClosed: this.closeMenusBound
      }, import_react.default.createElement(vJe, {
        ref: (y) => {
          this.configTrackMenu = y;
        },
        closeMenu: this.closeMenusBound,
        onAddDivisor: this.handleAddDivisorBound,
        onAddSeries: this.handleAddSeriesBound,
        onAddTrack: this.handleAddTrackBound,
        onChangeTrackType: this.handleChangeTrackTypeBound,
        onCloseTrack: this.handleCloseTrackBound,
        onConfigureTrack: this.handleConfigureTrackBound,
        onExportData: this.handleExportTrackDataBound,
        onLockValueScale: this.handleLockValueScaleBound,
        onReplaceTrack: this.handleReplaceTrackBound,
        onTrackOptionsChanged: this.handleTrackOptionsChangedBound,
        onUnlockValueScale: this.handleUnlockValueScaleBound,
        position: this.state.configTrackMenuLocation,
        theme: this.props.theme,
        trackOrientation: qm(this.props.tracks, this.state.configTrackMenuId),
        tracks: [qi(this.props.tracks, this.state.configTrackMenuId)]
      }))), this.state.closeTrackMenuId && (g = import_react.default.createElement(zl, {
        onMenuClosed: this.handleCloseTrackMenuClosed.bind(this)
      }, import_react.default.createElement(hc, {
        position: this.state.closeTrackMenuLocation,
        theme: this.props.theme
      }, import_react.default.createElement(sQ, {
        onCloseTrack: this.handleCloseTrack.bind(this),
        tracks: [qi(this.props.tracks, this.state.closeTrackMenuId)]
      }))));
      let v = null;
      this.props.chooseTrackHandler && (v = d.filter((y) => y.track.position !== "whole").map((y) => {
        let _ = "transparent", T = "none";
        return this.state.mouseOverOverlayUid === y.track.uid && (_ = "yellow", T = "1px solid black"), import_react.default.createElement("div", {
          key: y.track.uid,
          className: "tiled-plot-track-overlay",
          onClick: () => this.handleTrackPositionChosen(y),
          onDragEnter: (E) => {
            this.handleOverlayMouseEnter(y.track.uid), E.preventDefault();
          },
          onDragLeave: () => this.handleOverlayMouseLeave(y.track.uid),
          onDragOver: (E) => E.preventDefault(),
          onDrop: () => this.handleTrackPositionChosen(y),
          onMouseEnter: () => this.handleOverlayMouseEnter(y.track.uid),
          onMouseLeave: () => this.handleOverlayMouseLeave(y.track.uid),
          style: {
            position: "absolute",
            left: y.left,
            top: y.top,
            width: y.width,
            height: y.height,
            background: _,
            opacity: 0.4,
            border: T,
            zIndex: 1
          }
        });
      }));
      let b = null;
      if (this.xScale && this.yScale && this.props.editable && this.state.trackOptions) {
        const y = this.state.trackOptions.configComponent, _ = this.state.trackOptions.track;
        b = import_react.default.createElement(y, {
          track: _,
          xScale: this.xScale,
          yScale: this.yScale,
          onCancel: () => {
            this.setState({
              trackOptions: null
            });
          },
          onTrackOptionsChanged: (T) => T,
          onSubmit: (T) => {
            this.handleTrackOptionsChanged(this.state.trackOptions.track.uid, T), this.setState({
              trackOptions: null
            });
          }
        });
      }
      return import_react.default.createElement("div", {
        ref: (y) => {
          this.divTiledPlot = y;
        },
        className: ["tiled-plot-div", Ho["tiled-plot"]].join(" "),
        style: {
          marginBottom: this.props.marginBottom,
          marginLeft: this.props.marginLeft,
          marginRight: this.props.marginRight,
          marginTop: this.props.marginTop
        }
      }, p, v, m, g, b, this.getContextMenu(), this.props.draggingHappening && this.getIdealizedTrackPositionsOverlay());
    }
    /* -------------------- Custom Methods -----------------------*/
  }, {
    key: "addEventListeners",
    value: function() {
      this.eventListeners = [], this.eventListeners.forEach((i) => document.addEventListener(i.name, i.callback, false));
    }
  }, {
    key: "removeEventListeners",
    value: function() {
      this.eventListeners.forEach((i) => document.removeEventListener(i.name, i.callback));
    }
  }]), r;
}(import_react.default.Component);
OL.defaultProps = {
  isShowGlobalMousePosition: false,
  pluginDataFetchers: {},
  pluginTracks: {},
  metaTracks: [],
  zoomable: true
};
OL.propTypes = {
  addTrackPosition: M.string,
  canvasElement: M.object,
  chooseTrackHandler: M.func,
  chromInfoPath: M.string,
  customDialog: M.array,
  closeCustomDialog: M.func,
  disableTrackMenu: M.bool,
  dragging: M.bool,
  draggingHappening: M.bool,
  editable: M.bool,
  getLockGroupExtrema: M.func,
  initialXDomain: M.array,
  initialYDomain: M.array,
  isShowGlobalMousePosition: M.bool,
  isValueScaleLocked: M.func,
  marginBottom: M.number.isRequired,
  marginLeft: M.number.isRequired,
  marginRight: M.number.isRequired,
  marginTop: M.number.isRequired,
  paddingBottom: M.number.isRequired,
  paddingLeft: M.number.isRequired,
  paddingRight: M.number.isRequired,
  paddingTop: M.number.isRequired,
  metaTracks: M.array,
  modal: M.object,
  mouseTool: M.string,
  onCloseTrack: M.func,
  onChangeTrackData: M.func,
  onChangeTrackType: M.func,
  onDataDomainChanged: M.func,
  onLockValueScale: M.func,
  onMouseMoveZoom: M.func,
  onNewTilesLoaded: M.func,
  onNoTrackAdded: M.func,
  onRangeSelection: M.func.isRequired,
  onScalesChanged: M.func,
  onTrackOptionsChanged: M.func,
  onTrackPositionChosen: M.func,
  onTracksAdded: M.func,
  onUnlockValueScale: M.func,
  onValueScaleChanged: M.func,
  onResizeTrack: M.func,
  overlays: M.array,
  openModal: M.func,
  pixiRenderer: M.object,
  pixiStage: M.object,
  pluginDataFetchers: M.object,
  pluginTracks: M.object,
  pubSub: M.object.isRequired,
  rangeSelection1dSize: M.array,
  rangeSelectionToInt: M.bool,
  registerDraggingChangedListener: M.func,
  removeDraggingChangedListener: M.func,
  setCentersFunction: M.func,
  svgElement: M.object,
  theme: M.symbol.isRequired,
  tracks: M.object,
  trackSourceServers: M.array,
  uid: M.string,
  viewOptions: M.object,
  xDomainLimits: M.array,
  yDomainLimits: M.array,
  zoomable: M.bool,
  zoomLimits: M.array,
  zoomToDataExtentOnInit: M.func
};
var net = pp(AS(ih(OL)));
var iet = Object.assign || function(e13) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t];
    for (var n in r)
      Object.prototype.hasOwnProperty.call(r, n) && (e13[n] = r[n]);
  }
  return e13;
};
var oet = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function(e13) {
  return typeof e13;
} : function(e13) {
  return e13 && typeof Symbol == "function" && e13.constructor === Symbol ? "symbol" : typeof e13;
};
var aet = /[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source;
function set(e13) {
  var t = void 0, r = void 0, n = void 0, i = e13.ownerDocument, o = i.body, a = i && i.documentElement;
  return t = e13.getBoundingClientRect(), r = t.left, n = t.top, r -= a.clientLeft || o.clientLeft || 0, n -= a.clientTop || o.clientTop || 0, {
    left: r,
    top: n
  };
}
function cQ(e13, t) {
  var r = e13["page" + (t ? "Y" : "X") + "Offset"], n = "scroll" + (t ? "Top" : "Left");
  if (typeof r != "number") {
    var i = e13.document;
    r = i.documentElement[n], typeof r != "number" && (r = i.body[n]);
  }
  return r;
}
function $k(e13) {
  return cQ(e13);
}
function Hk(e13) {
  return cQ(e13, true);
}
function uQ(e13) {
  var t = set(e13), r = e13.ownerDocument, n = r.defaultView || r.parentWindow;
  return t.left += $k(n), t.top += Hk(n), t;
}
function cet(e13, t, r) {
  var n = "", i = e13.ownerDocument, o = r || i.defaultView.getComputedStyle(e13, null);
  return o && (n = o.getPropertyValue(t) || o[t]), n;
}
var uet = new RegExp("^(" + aet + ")(?!px)[a-z%]+$", "i");
var het = /^(top|right|bottom|left)$/;
var QO = "currentStyle";
var JO = "runtimeStyle";
var Ic = "left";
var fet = "px";
function det(e13, t) {
  var r = e13[QO] && e13[QO][t];
  if (uet.test(r) && !het.test(t)) {
    var n = e13.style, i = n[Ic], o = e13[JO][Ic];
    e13[JO][Ic] = e13[QO][Ic], n[Ic] = t === "fontSize" ? "1em" : r || 0, r = n.pixelLeft + fet, n[Ic] = i, e13[JO][Ic] = o;
  }
  return r === "" ? "auto" : r;
}
var ju = void 0;
typeof window < "u" && (ju = window.getComputedStyle ? cet : det);
function IL(e13, t) {
  for (var r = 0; r < e13.length; r++)
    t(e13[r]);
}
function hQ(e13) {
  return ju(e13, "boxSizing") === "border-box";
}
var pet = ["margin", "border", "padding"];
var Uk = -1;
var met = 2;
var jk = 1;
var get = 0;
function vet(e13, t, r) {
  var n = {}, i = e13.style, o = void 0;
  for (o in t)
    t.hasOwnProperty(o) && (n[o] = i[o], i[o] = t[o]);
  r.call(e13);
  for (o in t)
    t.hasOwnProperty(o) && (i[o] = n[o]);
}
function zm(e13, t, r) {
  var n = 0, i = void 0, o = void 0, a = void 0;
  for (o = 0; o < t.length; o++)
    if (i = t[o], i)
      for (a = 0; a < r.length; a++) {
        var s = void 0;
        i === "border" ? s = i + r[a] + "Width" : s = i + r[a], n += parseFloat(ju(e13, s)) || 0;
      }
  return n;
}
function Gb(e13) {
  return e13 != null && e13 == e13.window;
}
var Ra = {};
IL(["Width", "Height"], function(e13) {
  Ra["doc" + e13] = function(t) {
    var r = t.document;
    return Math.max(
      // firefox chrome documentElement.scrollHeight< body.scrollHeight
      // ie standard mode : documentElement.scrollHeight> body.scrollHeight
      r.documentElement["scroll" + e13],
      // quirks : documentElement.scrollHeight 最大等于可视窗口多一点？
      r.body["scroll" + e13],
      Ra["viewport" + e13](r)
    );
  }, Ra["viewport" + e13] = function(t) {
    var r = "client" + e13, n = t.document, i = n.body, o = n.documentElement, a = o[r];
    return n.compatMode === "CSS1Compat" && a || i && i[r] || a;
  };
});
function _4(e13, t, r) {
  if (Gb(e13))
    return t === "width" ? Ra.viewportWidth(e13) : Ra.viewportHeight(e13);
  if (e13.nodeType === 9)
    return t === "width" ? Ra.docWidth(e13) : Ra.docHeight(e13);
  var n = t === "width" ? ["Left", "Right"] : ["Top", "Bottom"], i = t === "width" ? e13.offsetWidth : e13.offsetHeight;
  ju(e13);
  var o = hQ(e13), a = 0;
  (i == null || i <= 0) && (i = void 0, a = ju(e13, t), (a == null || Number(a) < 0) && (a = e13.style[t] || 0), a = parseFloat(a) || 0), r === void 0 && (r = o ? jk : Uk);
  var s = i !== void 0 || o, l = i || a;
  if (r === Uk)
    return s ? l - zm(e13, ["border", "padding"], n) : a;
  if (s) {
    var u = r === met ? -zm(e13, ["border"], n) : zm(e13, ["margin"], n);
    return l + (r === jk ? 0 : u);
  }
  return a + zm(e13, pet.slice(r), n);
}
var yet = {
  position: "absolute",
  visibility: "hidden",
  display: "block"
};
function b4(e13) {
  var t = void 0, r = arguments;
  return e13.offsetWidth !== 0 ? t = _4.apply(void 0, r) : vet(e13, yet, function() {
    t = _4.apply(void 0, r);
  }), t;
}
function zf(e13, t, r) {
  var n = r;
  if ((typeof t > "u" ? "undefined" : oet(t)) === "object") {
    for (var i in t)
      t.hasOwnProperty(i) && zf(e13, i, t[i]);
    return;
  }
  if (typeof n < "u") {
    typeof n == "number" && (n += "px"), e13.style[t] = n;
    return;
  }
  return ju(e13, t);
}
IL(["width", "height"], function(e13) {
  var t = e13.charAt(0).toUpperCase() + e13.slice(1);
  Ra["outer" + t] = function(n, i) {
    return n && b4(n, e13, i ? get : jk);
  };
  var r = e13 === "width" ? ["Left", "Right"] : ["Top", "Bottom"];
  Ra[e13] = function(n, i) {
    if (i !== void 0) {
      if (n) {
        ju(n);
        var o = hQ(n);
        return o && (i += zm(n, ["padding", "border"], r)), zf(n, e13, i);
      }
      return;
    }
    return n && b4(n, e13, Uk);
  };
});
function _et(e13, t) {
  zf(e13, "position") === "static" && (e13.style.position = "relative");
  var r = uQ(e13), n = {}, i = void 0, o = void 0;
  for (o in t)
    t.hasOwnProperty(o) && (i = parseFloat(zf(e13, o)) || 0, n[o] = i + t[o] - r[o]);
  zf(e13, n);
}
var bet = iet({
  getWindow: function(t) {
    var r = t.ownerDocument || t;
    return r.defaultView || r.parentWindow;
  },
  offset: function(t, r) {
    if (typeof r < "u")
      _et(t, r);
    else
      return uQ(t);
  },
  isWindow: Gb,
  each: IL,
  css: zf,
  clone: function(t) {
    var r = {};
    for (var n in t)
      t.hasOwnProperty(n) && (r[n] = t[n]);
    var i = t.overflow;
    if (i)
      for (var n in t)
        t.hasOwnProperty(n) && (r.overflow[n] = t.overflow[n]);
    return r;
  },
  scrollLeft: function(t, r) {
    if (Gb(t)) {
      if (r === void 0)
        return $k(t);
      window.scrollTo(r, Hk(t));
    } else {
      if (r === void 0)
        return t.scrollLeft;
      t.scrollLeft = r;
    }
  },
  scrollTop: function(t, r) {
    if (Gb(t)) {
      if (r === void 0)
        return Hk(t);
      window.scrollTo($k(t), r);
    } else {
      if (r === void 0)
        return t.scrollTop;
      t.scrollTop = r;
    }
  },
  viewportWidth: 0,
  viewportHeight: 0
}, Ra);
var Ar = bet;
function Tet(e13, t, r) {
  r = r || {}, t.nodeType === 9 && (t = Ar.getWindow(t));
  var n = r.allowHorizontalScroll, i = r.onlyScrollIfNeeded, o = r.alignWithTop, a = r.alignWithLeft, s = r.offsetTop || 0, l = r.offsetLeft || 0, u = r.offsetBottom || 0, c = r.offsetRight || 0;
  n = n === void 0 ? true : n;
  var f = Ar.isWindow(t), h = Ar.offset(e13), d = Ar.outerHeight(e13), p = Ar.outerWidth(e13), m = void 0, g = void 0, v = void 0, b = void 0, y = void 0, _ = void 0, T = void 0, E = void 0, O = void 0, S = void 0;
  f ? (T = t, S = Ar.height(T), O = Ar.width(T), E = {
    left: Ar.scrollLeft(T),
    top: Ar.scrollTop(T)
  }, y = {
    left: h.left - E.left - l,
    top: h.top - E.top - s
  }, _ = {
    left: h.left + p - (E.left + O) + c,
    top: h.top + d - (E.top + S) + u
  }, b = E) : (m = Ar.offset(t), g = t.clientHeight, v = t.clientWidth, b = {
    left: t.scrollLeft,
    top: t.scrollTop
  }, y = {
    left: h.left - (m.left + (parseFloat(Ar.css(t, "borderLeftWidth")) || 0)) - l,
    top: h.top - (m.top + (parseFloat(Ar.css(t, "borderTopWidth")) || 0)) - s
  }, _ = {
    left: h.left + p - (m.left + v + (parseFloat(Ar.css(t, "borderRightWidth")) || 0)) + c,
    top: h.top + d - (m.top + g + (parseFloat(Ar.css(t, "borderBottomWidth")) || 0)) + u
  }), y.top < 0 || _.top > 0 ? o === true ? Ar.scrollTop(t, b.top + y.top) : o === false ? Ar.scrollTop(t, b.top + _.top) : y.top < 0 ? Ar.scrollTop(t, b.top + y.top) : Ar.scrollTop(t, b.top + _.top) : i || (o = o === void 0 ? true : !!o, o ? Ar.scrollTop(t, b.top + y.top) : Ar.scrollTop(t, b.top + _.top)), n && (y.left < 0 || _.left > 0 ? a === true ? Ar.scrollLeft(t, b.left + y.left) : a === false ? Ar.scrollLeft(t, b.left + _.left) : y.left < 0 ? Ar.scrollLeft(t, b.left + y.left) : Ar.scrollLeft(t, b.left + _.left) : i || (a = a === void 0 ? true : !!a, a ? Ar.scrollLeft(t, b.left + y.left) : Ar.scrollLeft(t, b.left + _.left)));
}
var Eet = Tet;
var wet = Eet;
var Aet = $i(wet);
function mE() {
  return mE = Object.assign ? Object.assign.bind() : function(e13) {
    for (var t = 1; t < arguments.length; t++) {
      var r = arguments[t];
      for (var n in r)
        Object.prototype.hasOwnProperty.call(r, n) && (e13[n] = r[n]);
    }
    return e13;
  }, mE.apply(this, arguments);
}
function Oet(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function Iet(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, Cet(n.key), n);
  }
}
function Pet(e13, t, r) {
  return t && Iet(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function Cet(e13) {
  var t = xet(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function xet(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
function ket(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  e13.prototype = Object.create(t && t.prototype, { constructor: { value: e13, writable: true, configurable: true } }), Object.defineProperty(e13, "prototype", { writable: false }), t && Gk(e13, t);
}
function Gk(e13, t) {
  return Gk = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, i) {
    return n.__proto__ = i, n;
  }, Gk(e13, t);
}
function Det(e13) {
  var t = Met();
  return function() {
    var n = gE(e13), i;
    if (t) {
      var o = gE(this).constructor;
      i = Reflect.construct(n, arguments, o);
    } else
      i = n.apply(this, arguments);
    return Ret(this, i);
  };
}
function Ret(e13, t) {
  if (t && (typeof t == "object" || typeof t == "function"))
    return t;
  if (t !== void 0)
    throw new TypeError("Derived constructors may only return object or undefined");
  return Net(e13);
}
function Net(e13) {
  if (e13 === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e13;
}
function Met() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return false;
  if (typeof Proxy == "function")
    return true;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), true;
  } catch {
    return false;
  }
}
function gE(e13) {
  return gE = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(r) {
    return r.__proto__ || Object.getPrototypeOf(r);
  }, gE(e13);
}
var um = [];
var PL = function(e13) {
  ket(r, e13);
  var t = Det(r);
  function r(n) {
    var i;
    return Oet(this, r), i = t.call(this, n), i.state = {
      highlightedIndex: null,
      menuTop: 0,
      menuLeft: 0,
      menuWidth: 0,
      isOpen: false
    }, i.keyDownHandlers = {
      ArrowDown(o) {
        o.preventDefault();
        const a = this.getFilteredItems().length;
        if (!a)
          return;
        const {
          highlightedIndex: s
        } = this.state, l = s === null || s === a - 1 ? 0 : s + 1;
        this._performAutoCompleteOnKeyUp = true, this.setState({
          highlightedIndex: l,
          isOpen: true
        });
      },
      ArrowUp(o) {
        o.preventDefault();
        const a = this.getFilteredItems().length;
        if (!a)
          return;
        const {
          highlightedIndex: s
        } = this.state, l = s === 0 || s === null ? a - 1 : s - 1;
        this._performAutoCompleteOnKeyUp = true, this.setState({
          highlightedIndex: l,
          isOpen: true
        });
      },
      Enter(o) {
        if (this.state.isOpen !== false)
          if (this.state.highlightedIndex === null)
            this.setState({
              isOpen: false
            }, () => {
              this.inputEl.select();
            });
          else {
            o.preventDefault();
            const a = this.getFilteredItems()[this.state.highlightedIndex], s = this.props.getItemValue(a);
            this.setState({
              isOpen: false,
              highlightedIndex: null
            }, () => {
              this.inputEl.setSelectionRange(s.length, s.length), this.props.onSelect(s, a);
            });
          }
      },
      Escape() {
        this.setState({
          highlightedIndex: null,
          isOpen: false
        });
      }
    }, i;
  }
  return Pet(r, [{
    key: "getInitialState",
    value: function() {
      return {
        isOpen: false,
        highlightedIndex: null
      };
    }
    // eslint-disable-next-line camelcase
  }, {
    key: "UNSAFE_componentWillMount",
    value: function() {
      this._ignoreBlur = false, this._performAutoCompleteOnUpdate = false, this._performAutoCompleteOnKeyUp = false;
    }
    // eslint-disable-next-line camelcase
  }, {
    key: "UNSAFE_componentWillReceiveProps",
    value: function(i) {
      this._performAutoCompleteOnUpdate = true, (this.props.items !== i.items || // The entries in `items` may have been changed even though the
      // object reference remains the same, double check by seeing
      // if `highlightedIndex` points to an existing item
      this.state.highlightedIndex >= i.items.length) && this.setState({
        highlightedIndex: null
      });
    }
  }, {
    key: "componentDidUpdate",
    value: function(i, o) {
      this.state.isOpen === true && o.isOpen === false && this.setMenuPositions(), this.state.isOpen && this._performAutoCompleteOnUpdate && (this._performAutoCompleteOnUpdate = false, this.maybeAutoCompleteText()), this.maybeScrollItemIntoView(), o.isOpen !== this.state.isOpen && this.props.onMenuVisibilityChange(this.state.isOpen, this.inputEl);
    }
  }, {
    key: "maybeScrollItemIntoView",
    value: function() {
      if (this.state.isOpen === true && this.state.highlightedIndex !== null) {
        const i = this.refs[`item-${this.state.highlightedIndex}`], o = this.refs.menu;
        i && Aet((0, import_react_dom.findDOMNode)(i), (0, import_react_dom.findDOMNode)(o), {
          onlyScrollIfNeeded: true
        });
      }
    }
  }, {
    key: "handleKeyDown",
    value: function(i) {
      this.keyDownHandlers[i.key] ? this.keyDownHandlers[i.key].call(this, i) : this.setState({
        highlightedIndex: null,
        isOpen: true
      });
    }
  }, {
    key: "handleChange",
    value: function(i) {
      this._performAutoCompleteOnKeyUp = true, this.props.onChange(i, i.target.value);
    }
  }, {
    key: "handleKeyUp",
    value: function() {
      this._performAutoCompleteOnKeyUp && (this._performAutoCompleteOnKeyUp = false, this.maybeAutoCompleteText());
    }
  }, {
    key: "getFilteredItems",
    value: function() {
      let i = this.props.items;
      return this.props.shouldItemRender && (i = i.filter((o) => this.props.shouldItemRender(o, this.props.value))), this.props.sortItems && i.sort((o, a) => this.props.sortItems(o, a, this.props.value)), i;
    }
  }, {
    key: "maybeAutoCompleteText",
    value: function() {
      if (!this.props.autoHighlight || this.props.value === "")
        return;
      const {
        highlightedIndex: i
      } = this.state, o = this.getFilteredItems();
      if (o.length === 0)
        return;
      const a = i !== null ? o[i] : o[0];
      this.props.getItemValue(a).toLowerCase().indexOf(this.props.value.toLowerCase()) === 0 && i === null && this.setState({
        highlightedIndex: 0
      });
    }
  }, {
    key: "setMenuPositions",
    value: function() {
      const i = this.inputEl, o = i.getBoundingClientRect(), a = globalThis.window.getComputedStyle(i), s = parseInt(a.marginBottom, 10) || 0, l = parseInt(a.marginLeft, 10) || 0, u = parseInt(a.marginRight, 10) || 0;
      this.setState({
        menuTop: o.bottom + s,
        menuLeft: o.left + l,
        menuWidth: o.width + l + u
      });
    }
  }, {
    key: "highlightItemFromMouse",
    value: function(i) {
      this.setState({
        highlightedIndex: i
      });
    }
  }, {
    key: "selectItemFromMouse",
    value: function(i) {
      const o = this.props.getItemValue(i);
      this.setState({
        isOpen: false,
        highlightedIndex: null
      }, () => {
        this.props.onSelect(o, i), this.inputEl.focus();
      });
    }
  }, {
    key: "setIgnoreBlur",
    value: function(i) {
      this._ignoreBlur = i;
    }
  }, {
    key: "renderMenu",
    value: function() {
      const i = this.getFilteredItems().map((s, l) => {
        const u = this.props.renderItem(s, this.state.highlightedIndex === l, {
          cursor: "default"
        });
        return import_react.default.cloneElement(u, {
          onMouseDown: () => this.setIgnoreBlur(true),
          // Ignore blur to prevent menu from de-rendering before we can process click
          onMouseEnter: () => this.highlightItemFromMouse(l),
          onClick: () => this.selectItemFromMouse(s),
          ref: `item-${l}`
        });
      }), o = {
        left: this.state.menuLeft,
        top: this.state.menuTop,
        minWidth: this.state.menuWidth
      };
      if (!i.length)
        return null;
      const a = this.props.renderMenu(i, this.props.value, o);
      return import_react.default.cloneElement(a, {
        ref: "menu"
      });
    }
  }, {
    key: "handleInputBlur",
    value: function() {
      this.props.onFocus && this.props.onFocus(), !this._ignoreBlur && this.setState({
        isOpen: false,
        highlightedIndex: null
      });
    }
  }, {
    key: "handleInputFocus",
    value: function() {
      if (this.props.onFocus && this.props.onFocus(true), this._ignoreBlur) {
        this.setIgnoreBlur(false);
        return;
      }
      this._ignoreClick = true, this.setState({
        isOpen: true
      });
    }
  }, {
    key: "isInputFocused",
    value: function() {
      return this.inputEl.ownerDocument && this.inputEl === this.inputEl.ownerDocument.activeElement;
    }
  }, {
    key: "handleInputClick",
    value: function() {
      this.isInputFocused() && this.state.isOpen === false ? this.setState({
        isOpen: true
      }) : this.state.highlightedIndex !== null && !this._ignoreClick && this.selectItemFromMouse(this.getFilteredItems()[this.state.highlightedIndex]), this._ignoreClick = false;
    }
  }, {
    key: "composeEventHandlers",
    value: function(i, o) {
      return o ? (a) => {
        i(a), o(a);
      } : i;
    }
    /* ------------------------------ Rendering ------------------------------- */
  }, {
    key: "render",
    value: function() {
      this.props.debug && um.push({
        id: um.length,
        state: this.state
      });
      const {
        inputProps: i
      } = this.props;
      return import_react.default.createElement("div", mE({
        style: {
          ...this.props.wrapperStyle
        }
      }, this.props.wrapperProps), import_react.default.createElement("input", mE({}, i, {
        ref: (o) => {
          this.inputEl = o;
        },
        "aria-autocomplete": "list",
        autoComplete: "off",
        onBlur: this.composeEventHandlers(this.handleInputBlur.bind(this), i.onBlur && i.onBlur.bind(this)),
        onChange: this.handleChange.bind(this),
        onClick: this.composeEventHandlers(this.handleInputClick.bind(this), i.onClick && i.onClick.bind(this)),
        onFocus: this.composeEventHandlers(this.handleInputFocus.bind(this), i.onFocus && i.onFocus.bind(this)),
        onKeyDown: this.composeEventHandlers(this.handleKeyDown.bind(this), i.onKeyDown && i.onKeyDown.bind(this)),
        onKeyUp: this.composeEventHandlers(this.handleKeyUp.bind(this), i.onKeyUp && i.onKeyUp.bind(this)),
        role: "combobox",
        value: this.props.value
      })), ("open" in this.props ? this.props.open : this.state.isOpen) && this.renderMenu(), this.props.debug && import_react.default.createElement("pre", {
        style: {
          marginLeft: 300
        }
      }, JSON.stringify(um.slice(um.length - 5, um.length), null, 2)));
    }
  }]), r;
}(import_react.default.Component);
PL.defaultProps = {
  value: "",
  wrapperProps: {},
  wrapperStyle: {
    display: "inline-block"
  },
  inputProps: {},
  onChange() {
  },
  onSelect() {
  },
  renderMenu(e13, t, r) {
    return (
      /* eslint-disable react/no-this-in-sfc */
      import_react.default.createElement("div", {
        style: {
          ...r,
          ...this.menuStyle
        }
      }, e13)
    );
  },
  shouldItemRender() {
    return true;
  },
  menuStyle: {
    borderRadius: "3px",
    boxShadow: "0 2px 12px rgba(0, 0, 0, 0.1)",
    background: "rgba(255, 255, 255, 0.9)",
    padding: "2px 0",
    fontSize: "90%",
    position: "fixed",
    overflow: "auto",
    maxHeight: "50%"
    // TODO: don't cheat, let it flow to the bottom
  },
  autoHighlight: true,
  onMenuVisibilityChange() {
  }
};
PL.propTypes = {
  autoHighlight: M.bool,
  debug: M.bool,
  getItemValue: M.func.isRequired,
  inputProps: M.object,
  items: M.array,
  menuStyle: M.object,
  onChange: M.func,
  onFocus: M.func,
  onMenuVisibilityChange: M.func,
  onSelect: M.func,
  open: M.bool,
  renderItem: M.func.isRequired,
  renderMenu: M.func,
  shouldItemRender: M.func,
  sortItems: M.func,
  value: M.any,
  wrapperProps: M.object,
  wrapperStyle: M.object
};
var Hh = {
  "genome-position-search": "_genome-position-search_1l2sx_1",
  "genome-position-search-focus": "_genome-position-search-focus_1l2sx_2",
  "genome-position-search-bar": "_genome-position-search-bar_1l2sx_16",
  "genome-position-search-dark": "_genome-position-search-dark_1l2sx_34",
  "genome-position-search-bar-button": "_genome-position-search-bar-button_1l2sx_38",
  "genome-position-search-bar-suggestions": "_genome-position-search-bar-suggestions_1l2sx_83"
};
function Let(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function Bet(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, $et(n.key), n);
  }
}
function Fet(e13, t, r) {
  return t && Bet(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function $et(e13) {
  var t = Het(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function Het(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
function Uet(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  e13.prototype = Object.create(t && t.prototype, { constructor: { value: e13, writable: true, configurable: true } }), Object.defineProperty(e13, "prototype", { writable: false }), t && zk(e13, t);
}
function zk(e13, t) {
  return zk = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, i) {
    return n.__proto__ = i, n;
  }, zk(e13, t);
}
function jet(e13) {
  var t = zet();
  return function() {
    var n = vE(e13), i;
    if (t) {
      var o = vE(this).constructor;
      i = Reflect.construct(n, arguments, o);
    } else
      i = n.apply(this, arguments);
    return Get(this, i);
  };
}
function Get(e13, t) {
  if (t && (typeof t == "object" || typeof t == "function"))
    return t;
  if (t !== void 0)
    throw new TypeError("Derived constructors may only return object or undefined");
  return fQ(e13);
}
function fQ(e13) {
  if (e13 === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e13;
}
function zet() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return false;
  if (typeof Proxy == "function")
    return true;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), true;
  } catch {
    return false;
  }
}
function vE(e13) {
  return vE = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(r) {
    return r.__proto__ || Object.getPrototypeOf(r);
  }, vE(e13);
}
var dQ = function(e13) {
  Uet(r, e13);
  var t = jet(r);
  function r(n) {
    var i;
    return Let(this, r), i = t.call(this, n), i.mounted = false, i.uid = Gt.nice(), i.chromInfo = null, i.searchField = null, i.autocompleteMenu = null, i.xScale = null, i.yScale = null, i.prevParts = [], i.props.registerViewportChangedListener(i.scalesChanged.bind(fQ(i))), i.menuPosition = {
      left: 0,
      top: 0
    }, i.positionText = "chr4:190,998,876-191,000,255", i.state = {
      genes: [],
      isFocused: false,
      autocompleteServer: i.props.autocompleteServer,
      autocompleteId: i.props.autocompleteId,
      availableAssemblies: [],
      selectedAssembly: null
    }, i.styles = {
      item: {
        padding: "2px 6px",
        cursor: "default"
      },
      highlightedItem: {
        color: "white",
        background: "hsl(200, 50%, 50%)",
        padding: "2px 6px",
        cursor: "default"
      },
      menu: {
        border: "solid 1px #ccc"
      }
    }, i.availableAutocompletes = {}, i.props.autocompleteId && (i.availableAutocompletes[i.props.chromInfoId] = /* @__PURE__ */ new Set([{
      server: i.props.autocompleteServer,
      acId: i.props.autocompleteId
    }])), i.availableChromSizes = {}, i;
  }
  return Fet(r, [{
    key: "componentDidMount",
    value: function() {
      this.mounted = true, Wt(this.autocompleteMenu.inputEl).on("keypress", this.autocompleteKeyPress.bind(this)), this.findAvailableAutocompleteSources(), this.findAvailableChromSizes(), this.props.chromInfoPath && (this.searchPosition = true, Ls(this.props.chromInfoPath, (i) => {
        if (!i) {
          this.searchPosition = null;
          return;
        }
        this.chromInfo = i, this.searchField = new Nd(this.chromInfo), this.setPositionText();
      })), this.setPositionText();
    }
  }, {
    key: "componentWillUnmount",
    value: function() {
      this.mounted = false, this.props.removeViewportChangedListener();
    }
  }, {
    key: "onAutocompleteChange",
    value: function(i, o) {
      this.positionText = o, this.setState({
        value: o,
        loading: true
      }), this.changedPart = null;
      const a = o.split(/ /);
      let s = 0;
      const l = [];
      let u = false;
      for (let c = 0; c < a.length; c++) {
        const f = a[c].split(/-/);
        for (let h = 0; h < f.length; h++) {
          if (s += 1, l.push(f[h]), h === 0 ? u = true : u = false, h === this.prevParts.length) {
            this.changedPart = s - 1;
            break;
          }
          if (f[h] !== this.prevParts[h]) {
            this.changedPart = s - 1;
            break;
          }
        }
      }
      if (this.prevParts = l, !!(this.state.autocompleteServer && this.state.autocompleteId) && this.changedPart !== null) {
        this.setState({
          loading: true
        });
        let c = `${this.state.autocompleteServer}/suggest/`;
        c += `?d=${this.state.autocompleteId}&ac=${l[this.changedPart].toLowerCase()}`, Je.json(c, (f, h) => {
          if (f)
            this.setState({
              loading: false,
              genes: []
            });
          else if (this.changedPart > 0 && !u) {
            const d = `${this.state.autocompleteServer}/suggest/?d=${this.state.autocompleteId}&ac=${l[this.changedPart - 1].toLowerCase()}-${l[this.changedPart].toLowerCase()}`;
            Je.json(d, (p, m) => {
              p ? this.setState({
                loading: false,
                genes: h
              }) : this.setState({
                loading: false,
                genes: m.concat(h)
              });
            }, this.props.pubSub);
          } else
            this.setState({
              loading: false,
              genes: h
            });
        }, this.props.pubSub);
      }
    }
  }, {
    key: "setAvailableAssemblies",
    value: function() {
      const i = new Set(ho(this.availableChromSizes)), o = /* @__PURE__ */ new Set([...i]);
      this.gpsbForm && this.setState({
        availableAssemblies: [...o]
      });
    }
  }, {
    key: "setSelectedAssembly",
    value: function(i) {
      if (!this.mounted || !this.availableChromSizes[i])
        return;
      const o = [...this.availableChromSizes[i]][0];
      this.setState({
        autocompleteServer: o.server
      });
      const {
        server: a
      } = o;
      if (this.availableAutocompletes[i]) {
        const s = [...this.availableAutocompletes[i]][0].acId;
        this.props.onSelectedAssemblyChanged(i, s, a), this.gpsbForm && this.setState({
          autocompleteId: s
        });
      } else
        this.props.onSelectedAssemblyChanged(i, null, a), this.gpsbForm && this.setState({
          autocompleteId: null
        });
      this.fetchChromInfo(o.uuid, o.server);
    }
  }, {
    key: "setPositionText",
    value: function() {
      if (!this.mounted || !this.searchField)
        return;
      const i = this.searchField.scalesToPositionText(this.xScale, this.yScale, this.props.twoD);
      this.prevParts = i.split(/[ -]/), this.gpsbForm && (this.positionText = i, this.origPositionText = i, this.autocompleteMenu.inputEl.value = i);
    }
  }, {
    key: "scalesChanged",
    value: function(i, o) {
      this.xScale = i, this.yScale = o, this.setPositionText();
    }
  }, {
    key: "findAvailableChromSizes",
    value: function() {
      this.props.trackSourceServers && this.props.trackSourceServers.forEach((i) => {
        Je.json(`${i}/available-chrom-sizes/`, (o, a) => {
          o ? console.error(o) : (a.results.forEach((s) => {
            s.coordSystem in this.availableChromSizes || (this.availableChromSizes[s.coordSystem] = /* @__PURE__ */ new Set()), this.availableChromSizes[s.coordSystem].add({
              server: i,
              uuid: s.uuid
            }), this.setAvailableAssemblies();
          }), this.searchField || this.fetchChromInfo(this.props.chromInfoId in this.availableChromSizes ? [...this.availableChromSizes[this.props.chromInfoId]][0].uuid : this.props.chromInfoId, this.props.chromInfoId in this.availableChromSizes ? [...this.availableChromSizes[this.props.chromInfoId]][0].server : this.props.chromInfoServer));
        }, this.props.pubSub);
      });
    }
  }, {
    key: "findAvailableAutocompleteSources",
    value: function() {
      this.props.trackSourceServers && this.props.trackSourceServers.forEach((i) => {
        Je.json(`${i}/tilesets/?limit=100&dt=gene-annotation`, (o, a) => {
          o ? console.error(o) : (a.results.forEach((s) => {
            s.coordSystem in this.availableAutocompletes || (this.availableAutocompletes[s.coordSystem] = /* @__PURE__ */ new Set()), this.availableAutocompletes[s.coordSystem].add({
              server: i,
              acId: s.uuid
            }), this.setAvailableAssemblies();
          }), this.state.autocompleteId || this.gpsbForm && this.availableAutocompletes[this.props.chromInfoId] && this.setState({
            autocompleteId: [...this.availableAutocompletes[this.props.chromInfoId]][0].acId
          }));
        }, this.props.pubSub);
      });
    }
    /**
     * The user has selected an assembly to use for the coordinate search box.
     * Once the appropriate ChromInfo file is fetched, it is stored locally
     *
     * @param {string} chromInfoId The name of the chromosome info set to use
     */
  }, {
    key: "fetchChromInfo",
    value: function(i, o) {
      Ls(`${o}/chrom-sizes/?id=${i}`, (a) => {
        a && (Je.json(`${o}/tileset_info/?d=${i}`, (s, l) => {
          s || this.gpsbForm && this.setState({
            selectedAssembly: l[i].coordSystem
          });
        }, this.props.pubSub), this.chromInfo = a, this.searchField = new Nd(this.chromInfo), this.setPositionText());
      }, this.props.pubSub);
    }
  }, {
    key: "autocompleteKeyPress",
    value: function(i) {
      i.keyCode === 13 && this.buttonClick();
    }
  }, {
    key: "genePositionToSearchBarText",
    value: function(i) {
    }
  }, {
    key: "replaceGenesWithLoadedPositions",
    value: function(i) {
      const o = this.positionText, a = o.split(" ");
      let s = false;
      for (let u = 0; u < a.length; u++) {
        const c = a[u].split("-");
        let f = 0, h = 0, d = "";
        for (; f < c.length; ) {
          for (h = c.length; h > f; ) {
            const p = c.slice(f, h).join("-");
            if (i[p.toLowerCase()]) {
              const m = i[p.toLowerCase()], g = Math.floor((m.txEnd - m.txStart) / 4);
              f === 0 && h < c.length ? d = `${m.chr}:${m.txStart - g}` : f === 0 && h === c.length ? d = `${m.chr}:${m.txStart - g}-${m.txEnd + g}` : d += `- ${m.chr}:${m.txEnd + g}`, s = true;
              break;
            } else h === f + 1 && (d.length && (d += "-"), d += p);
            h -= 1;
          }
          f = h + 1;
        }
        a[u] = d;
      }
      const l = a.join(" ");
      return this.prevParts = l.split(/[ -]/), this.positionText = l, this.setState({
        value: l
      }), s ? o : null;
    }
  }, {
    key: "replaceGenesWithPositions",
    value: function(i) {
      const o = this.positionText.split(/[ -]/), a = [];
      for (let s = 0; s < o.length; s++) {
        if (o[s].length === 0)
          continue;
        const l = this.searchField.parsePosition(o[s])[2];
        if (l === null || Number.isNaN(+l)) {
          const u = `${this.state.autocompleteServer}/suggest/?d=${this.state.autocompleteId}&ac=${o[s].toLowerCase()}`;
          a.push(Je.json(u, Xo, this.props.pubSub));
        }
      }
      Promise.all(a).then((s) => {
        if (s) {
          const l = {};
          for (let c = 0; c < s.length; c++)
            if (s[c][0])
              for (let f = 0; f < s[c].length; f++)
                l[s[c][f].geneName.toLowerCase()] = s[c][f];
          const u = this.replaceGenesWithLoadedPositions(l);
          i(u);
        }
      }).catch((s) => console.error(s));
    }
  }, {
    key: "buttonClick",
    value: function() {
      this.setState({
        genes: []
      }), this.replaceGenesWithPositions((i) => {
        const o = this.positionText;
        if (this.searchField !== null) {
          const a = this.searchField.searchPosition(o), s = a[0];
          let l = a[1];
          if (!s) {
            this.setPositionText();
            return;
          }
          if (s && (Number.isNaN(+s[0]) || Number.isNaN(+s[1])) || l && (Number.isNaN(+l[0]) || Number.isNaN(+l[1])))
            return;
          l || (l = s);
          const u = this.xScale.copy().domain(s), c = this.yScale.copy().domain(l), [f, h, d] = un(u, c);
          i && this.props.onGeneSearch({
            geneSymbol: i,
            range: s,
            centerX: f,
            centerY: h
          }), this.props.setCenters(f, h, d, E9);
        }
      });
    }
  }, {
    key: "searchFieldSubmit",
    value: function() {
      this.buttonClick();
    }
  }, {
    key: "pathJoin",
    value: function(i, o) {
      const a = o || "/", s = new RegExp(`${a}{1,}`, "g");
      return i.join(a).replace(s, a);
    }
  }, {
    key: "geneSelected",
    value: function(i, o) {
      const a = this.positionText.split(" ");
      let s = this.changedPart;
      for (let l = 0; l < a.length; l++) {
        const u = a[l].split("-"), c = o.geneName.split("-");
        if (s > u.length - 1)
          s -= u.length;
        else {
          if (u[s] = o.geneName, c.length === 2 && s > 0 && u[s - 1].toLowerCase() === c[0].toLowerCase()) {
            const f = u.slice(0, s - 1);
            f.push(c.join("-")), s < u.length - 1 && f.push(u.slice(s + 1)), a[l] = f.join("-");
          } else
            a[l] = u.join("-");
          break;
        }
      }
      this.prevParts = a.join(" ").split(/[ -]/), this.positionText = a.join(" "), this.setState({
        value: a.join(" "),
        genes: []
      });
    }
  }, {
    key: "handleMenuVisibilityChange",
    value: function(i, o) {
      const a = o.getBoundingClientRect();
      this.menuPosition = {
        left: a.left,
        top: a.top + a.height
      }, this.setState({
        menuOpened: i
      });
    }
  }, {
    key: "handleRenderMenu",
    value: function(i) {
      return import_react.default.createElement(zl, null, import_react.default.createElement("div", {
        className: Hh["genome-position-search-bar-suggestions"],
        style: {
          left: this.menuPosition.left,
          top: this.menuPosition.top
        }
      }, i));
    }
  }, {
    key: "handleAssemblySelectEvt",
    value: function(i) {
      this.handleAssemblySelect(i.target.value);
    }
  }, {
    key: "handleAssemblySelect",
    value: function(i) {
      this.setSelectedAssembly(i), this.setState({
        selectedAssembly: i
      });
    }
  }, {
    key: "focusHandler",
    value: function(i) {
      this.setState({
        isFocused: i
      });
    }
  }, {
    key: "render",
    value: function() {
      const i = this.state.availableAssemblies.map((o) => import_react.default.createElement("option", {
        key: o,
        value: o
      }, o));
      return import_react.default.createElement("div", {
        ref: (o) => {
          this.gpsbForm = o;
        },
        className: nr({
          [Hh["genome-position-search-focus"]]: this.state.isFocused,
          [Hh["genome-position-search"]]: !this.state.isFocused,
          [Hh["genome-position-search-dark"]]: this.props.theme === wr
        })
      }, !this.props.hideAvailableAssemblies && import_react.default.createElement("select", {
        ref: (o) => {
          this.assemblyPickButton = o;
        },
        className: Hh["genome-position-search-bar-button"],
        id: this.uid,
        onChange: this.handleAssemblySelectEvt.bind(this),
        value: this.state.selectedAssembly || void 0
      }, i), import_react.default.createElement(PL, {
        ref: (o) => {
          this.autocompleteMenu = o;
        },
        getItemValue: (o) => o.geneName,
        inputProps: {
          className: Hh["genome-position-search-bar"],
          title: "Current location: enter a symbol or location to change the position of the current view"
        },
        items: this.state.genes,
        menuStyle: {
          position: "absolute",
          left: this.menuPosition.left,
          top: this.menuPosition.top,
          border: "1px solid black"
        },
        onChange: this.onAutocompleteChange.bind(this),
        onFocus: this.focusHandler.bind(this),
        onMenuVisibilityChange: this.handleMenuVisibilityChange.bind(this),
        onSelect: (o, a) => this.geneSelected(o, a),
        onSubmit: this.searchFieldSubmit.bind(this),
        renderItem: (o, a) => import_react.default.createElement("div", {
          key: o.refseqid,
          id: o.refseqid,
          style: a ? this.styles.highlightedItem : this.styles.item
        }, o.geneName),
        renderMenu: this.handleRenderMenu.bind(this),
        value: this.state.selectedAssembly ? this.positionText : "No valid assembly selected",
        wrapperStyle: {
          width: "100%"
        }
      }), import_react.default.createElement(C9, {
        onClick: this.buttonClick.bind(this),
        theStyle: "multitrack-header-icon"
      }));
    }
  }]), r;
}(import_react.default.Component);
dQ.propTypes = {
  autocompleteId: M.string,
  autocompleteServer: M.string,
  chromInfoId: M.string,
  chromInfoServer: M.string,
  chromInfoPath: M.string,
  hideAvailableAssemblies: M.bool,
  isFocused: M.bool,
  pubSub: M.object,
  onFocus: M.func,
  onGeneSearch: M.func,
  onSelectedAssemblyChanged: M.func,
  registerViewportChangedListener: M.func,
  removeViewportChangedListener: M.func,
  setCenters: M.func,
  theme: M.symbol.isRequired,
  trackSourceServers: M.array,
  twoD: M.bool
};
var Vet = pp(ih(dQ));
var Xet = {
  "export-link-dialog-wrapper": "_export-link-dialog-wrapper_p9gxw_1"
};
function Wet(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function Yet(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, Ket(n.key), n);
  }
}
function qet(e13, t, r) {
  return t && Yet(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function Ket(e13) {
  var t = Zet(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function Zet(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
function Qet(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  e13.prototype = Object.create(t && t.prototype, { constructor: { value: e13, writable: true, configurable: true } }), Object.defineProperty(e13, "prototype", { writable: false }), t && Vk(e13, t);
}
function Vk(e13, t) {
  return Vk = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, i) {
    return n.__proto__ = i, n;
  }, Vk(e13, t);
}
function Jet(e13) {
  var t = rtt();
  return function() {
    var n = yE(e13), i;
    if (t) {
      var o = yE(this).constructor;
      i = Reflect.construct(n, arguments, o);
    } else
      i = n.apply(this, arguments);
    return ett(this, i);
  };
}
function ett(e13, t) {
  if (t && (typeof t == "object" || typeof t == "function"))
    return t;
  if (t !== void 0)
    throw new TypeError("Derived constructors may only return object or undefined");
  return ttt(e13);
}
function ttt(e13) {
  if (e13 === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e13;
}
function rtt() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return false;
  if (typeof Proxy == "function")
    return true;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), true;
  } catch {
    return false;
  }
}
function yE(e13) {
  return yE = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(r) {
    return r.__proto__ || Object.getPrototypeOf(r);
  }, yE(e13);
}
var CL = function(e13) {
  Qet(r, e13);
  var t = Jet(r);
  function r() {
    return Wet(this, r), t.apply(this, arguments);
  }
  return qet(r, [{
    key: "render",
    value: function() {
      return import_react.default.createElement(gy, {
        okayOnly: true,
        okayTitle: "Done",
        onOkay: this.props.onDone,
        title: "Share view link"
      }, import_react.default.createElement("div", {
        className: Xet["export-link-dialog-wrapper"]
      }, import_react.default.createElement("input", {
        ref: (i) => {
          i && (this.input = i, i.focus(), i.select());
        },
        onClick: (i) => {
          i.target.select();
        },
        placeholder: "Generating the link...",
        readOnly: true,
        value: this.props.url
      }), import_react.default.createElement(Ps, {
        onClick: (i) => {
          this.input.select(), document.execCommand("copy");
        }
      }, "Copy")));
    }
  }]), r;
}(import_react.default.Component);
CL.defaultProps = {
  onDone: () => {
  },
  url: ""
};
CL.propTypes = {
  onDone: M.func,
  url: M.string
};
function ntt(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function itt(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, att(n.key), n);
  }
}
function ott(e13, t, r) {
  return t && itt(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function att(e13) {
  var t = stt(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function stt(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
function ltt(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  e13.prototype = Object.create(t && t.prototype, { constructor: { value: e13, writable: true, configurable: true } }), Object.defineProperty(e13, "prototype", { writable: false }), t && Xk(e13, t);
}
function Xk(e13, t) {
  return Xk = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, i) {
    return n.__proto__ = i, n;
  }, Xk(e13, t);
}
function ctt(e13) {
  var t = ftt();
  return function() {
    var n = _E(e13), i;
    if (t) {
      var o = _E(this).constructor;
      i = Reflect.construct(n, arguments, o);
    } else
      i = n.apply(this, arguments);
    return utt(this, i);
  };
}
function utt(e13, t) {
  if (t && (typeof t == "object" || typeof t == "function"))
    return t;
  if (t !== void 0)
    throw new TypeError("Derived constructors may only return object or undefined");
  return htt(e13);
}
function htt(e13) {
  if (e13 === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e13;
}
function ftt() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return false;
  if (typeof Proxy == "function")
    return true;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), true;
  } catch {
    return false;
  }
}
function _E(e13) {
  return _E = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(r) {
    return r.__proto__ || Object.getPrototypeOf(r);
  }, _E(e13);
}
var pQ = function(e13) {
  ltt(r, e13);
  var t = ctt(r);
  function r(n) {
    var i;
    return ntt(this, r), i = t.call(this, n), i.state = {
      submenuShown: false
    }, i;
  }
  return ott(r, [{
    key: "getConfigureViewMenu",
    value: function(i, o) {
      const a = ["backgroundColor"], s = {}, l = {};
      for (const u of a)
        if (u in Object.keys(Mn) && (s[u] = {
          name: Mn[u].name
        }, Mn[u].inlineOptions))
          for (const c in Mn[u].inlineOptions) {
            const f = Mn[u].inlineOptions[c];
            s[u].children || (s[u].children = {});
            const h = {
              name: f.name,
              value: f.value
              // missing handler to be filled in below
            };
            h.handler = () => {
              l[u] = f.value, this.props.onOptionsChanged(l);
            }, s[u].children[c] = h;
          }
      return import_react.default.createElement(xk, {
        key: "config-series-menu",
        closeMenu: this.props.closeMenu,
        menuItems: s,
        orientation: this.state.orientation,
        parentBbox: o,
        position: i,
        theme: this.props.theme
      });
    }
  }, {
    key: "getSubmenu",
    value: function() {
      if (this.state.submenuShown) {
        const i = this.state.submenuSourceBbox, o = this.state.orientation === "left" ? {
          left: this.state.left,
          top: i.top
        } : {
          left: this.state.left + i.width + 7,
          top: i.top
        };
        return this.state.submenuShown.option === "options" ? this.getConfigureViewMenu(o, i) : import_react.default.createElement("div", null);
      }
      return import_react.default.createElement("div", null);
    }
  }, {
    key: "render",
    value: function() {
      return import_react.default.createElement("div", {
        ref: (i) => {
          this.div = i;
        },
        className: nr(St["context-menu"], {
          [St["context-menu-dark"]]: this.props.theme === wr
        }),
        "data-menu-type": "ConfigViewMenu",
        style: {
          left: this.state.left,
          top: this.state.top
        }
      }, import_react.default.createElement(Ct, {
        onClick: (i) => this.props.onTogglePositionSearchBox(i)
      }, "Toggle position search box"), import_react.default.createElement("hr", {
        className: St["context-menu-hr"]
      }), import_react.default.createElement(Ct, {
        onClick: (i) => this.props.onZoomToData(i)
      }, "Zoom to data extent"), import_react.default.createElement(Ct, {
        onClick: (i) => this.props.onClearView(i)
      }, "Clear View"), import_react.default.createElement("hr", {
        className: St["context-menu-hr"]
      }), import_react.default.createElement(Ct, {
        onClick: (i) => this.props.onYankZoom(i)
      }, "Take zoom from"), import_react.default.createElement(Ct, {
        onClick: (i) => this.props.onYankLocation(i)
      }, "Take location from"), import_react.default.createElement(Ct, {
        onClick: (i) => this.props.onYankZoomAndLocation(i)
      }, "Take zoom and location from"), import_react.default.createElement("hr", {
        className: St["context-menu-hr"]
      }), import_react.default.createElement(Ct, {
        onClick: this.props.onLockZoom
      }, "Lock zoom with"), import_react.default.createElement(Ct, {
        onClick: this.props.onLockLocation
      }, "Lock location with"), import_react.default.createElement(Ct, {
        onClick: this.props.onLockZoomAndLocation
      }, "Lock zoom and location with"), import_react.default.createElement("hr", {
        className: St["context-menu-hr"]
      }), import_react.default.createElement(Ct, {
        onClick: this.props.onTakeAndLockZoomAndLocation
      }, "Take and lock zoom and location with"), import_react.default.createElement("hr", {
        className: St["context-menu-hr"]
      }), import_react.default.createElement(Ct, {
        onClick: (i) => this.props.onUnlockZoom(i)
      }, "Unlock zoom"), import_react.default.createElement(Ct, {
        onClick: (i) => this.props.onUnlockLocation(i)
      }, "Unlock location"), import_react.default.createElement(Ct, {
        onClick: (i) => this.props.onUnlockZoomAndLocation(i)
      }, "Unlock zoom and location"), import_react.default.createElement("hr", {
        className: St["context-menu-hr"]
      }), import_react.default.createElement(Ct, {
        onClick: (i) => this.props.onProjectViewport(i)
      }, "Show this viewport on"), import_react.default.createElement("hr", {
        className: St["context-menu-hr"]
      }), import_react.default.createElement(Ct, {
        onClick: (i) => this.props.onEditViewConfig(i)
      }, "Edit view config"), import_react.default.createElement("hr", {
        className: St["context-menu-hr"]
      }), import_react.default.createElement(Ct, {
        onClick: () => this.props.onExportSVG()
      }, "Export views as SVG"), import_react.default.createElement(Ct, {
        onClick: () => this.props.onExportPNG()
      }, "Export views as PNG"), import_react.default.createElement(Ct, {
        onClick: () => this.props.onExportViewAsJSON()
      }, "Export views as JSON"), import_react.default.createElement(Ct, {
        onClick: () => this.props.onExportViewAsLink()
      }, "Export views as Link"), this.getSubmenu());
    }
  }]), r;
}(hc);
pQ.propTypes = {
  onEditViewConfig: M.func.isRequired,
  onExportSVG: M.func,
  onExportPNG: M.func,
  onExportViewAsJSON: M.func,
  onExportViewAsLink: M.func,
  onLockLocation: M.func,
  onLockZoom: M.func,
  onLockZoomAndLocation: M.func,
  onProjectViewport: M.func,
  onTakeAndLockZoomAndLocation: M.func,
  onTogglePositionSearchBox: M.func,
  onUnlockLocation: M.func,
  onUnlockZoom: M.func,
  onUnlockZoomAndLocation: M.func,
  onYankLocation: M.func,
  onYankZoom: M.func,
  onYankZoomAndLocation: M.func,
  onZoomToData: M.func,
  theme: M.symbol
};
var lo = {
  "add-track-position-table": "_add-track-position-table_wdy5w_1",
  "add-track-position-table-dark": "_add-track-position-table-dark_wdy5w_7",
  "add-track-position-other": "_add-track-position-other_wdy5w_11",
  "add-track-position-top-center": "_add-track-position-top-center_wdy5w_15",
  "add-track-position-middle-left": "_add-track-position-middle-left_wdy5w_30",
  "add-track-position-middle-right": "_add-track-position-middle-right_wdy5w_45",
  "add-track-position-middle-middle": "_add-track-position-middle-middle_wdy5w_60",
  "add-track-position-bottom-middle": "_add-track-position-bottom-middle_wdy5w_71",
  "add-track-position-span": "_add-track-position-span_wdy5w_86"
};
function mQ(e13) {
  return import_react.default.createElement("div", null, import_react.default.createElement("div", {
    className: lo["add-track-position-span"]
  }, "Add Track..."), import_react.default.createElement("table", {
    className: nr(lo["add-track-position-table"], {
      [lo["add-track-position-table-dark"]]: e13.theme === wr
    })
  }, import_react.default.createElement("tbody", null, import_react.default.createElement("tr", {
    style: {
      height: "30px"
    }
  }, import_react.default.createElement("td", {
    "aria-hidden": "true",
    className: lo["add-track-position-other"]
  }), import_react.default.createElement("td", {
    className: lo["add-track-position-top-center"],
    onClick: () => e13.onTrackPositionChosen("top")
  }, "top"), import_react.default.createElement("td", {
    "aria-hidden": "true",
    className: lo["add-track-position-other"]
  })), import_react.default.createElement("tr", {
    style: {
      height: "80px"
    }
  }, import_react.default.createElement("td", {
    className: lo["add-track-position-middle-left"],
    onClick: () => e13.onTrackPositionChosen("left")
  }, "left"), import_react.default.createElement("td", {
    className: lo["add-track-position-middle-middle"],
    onClick: () => e13.onTrackPositionChosen("center")
  }, "center"), import_react.default.createElement("td", {
    className: lo["add-track-position-middle-right"],
    onClick: () => e13.onTrackPositionChosen("right")
  }, "right")), import_react.default.createElement("tr", {
    style: {
      height: "30px"
    }
  }, import_react.default.createElement("td", {
    "aria-hidden": "true",
    className: lo["add-track-position-other"]
  }), import_react.default.createElement("td", {
    className: lo["add-track-position-bottom-middle"],
    onClick: () => e13.onTrackPositionChosen("bottom")
  }, "bottom"), import_react.default.createElement("td", {
    "aria-hidden": "true",
    className: lo["add-track-position-other"]
  })))));
}
mQ.propTypes = {
  onTrackPositionChosen: M.func.isRequired,
  theme: M.symbol.isRequired
};
var dtt = ih(mQ);
function ptt(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function mtt(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, vtt(n.key), n);
  }
}
function gtt(e13, t, r) {
  return t && mtt(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function vtt(e13) {
  var t = ytt(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function ytt(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
function _tt(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  e13.prototype = Object.create(t && t.prototype, { constructor: { value: e13, writable: true, configurable: true } }), Object.defineProperty(e13, "prototype", { writable: false }), t && Wk(e13, t);
}
function Wk(e13, t) {
  return Wk = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, i) {
    return n.__proto__ = i, n;
  }, Wk(e13, t);
}
function btt(e13) {
  var t = Ett();
  return function() {
    var n = bE(e13), i;
    if (t) {
      var o = bE(this).constructor;
      i = Reflect.construct(n, arguments, o);
    } else
      i = n.apply(this, arguments);
    return Ttt(this, i);
  };
}
function Ttt(e13, t) {
  if (t && (typeof t == "object" || typeof t == "function"))
    return t;
  if (t !== void 0)
    throw new TypeError("Derived constructors may only return object or undefined");
  return gQ(e13);
}
function gQ(e13) {
  if (e13 === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e13;
}
function Ett() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return false;
  if (typeof Proxy == "function")
    return true;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), true;
  } catch {
    return false;
  }
}
function bE(e13) {
  return bE = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(r) {
    return r.__proto__ || Object.getPrototypeOf(r);
  }, bE(e13);
}
var xL = function(e13) {
  _tt(r, e13);
  var t = btt(r);
  function r(n) {
    var i;
    return ptt(this, r), i = t.call(this, n), i.configImg = null, i.plusImg = null, i.state = {
      addTrackPositionMenuUid: null,
      addTrackPositionMenuPosition: null,
      configMenuUid: null,
      configMenuPosition: null,
      isFocused: false,
      width: -1
    }, i.handleTrackPositionChosenBound = i.handleTrackPositionChosen.bind(gQ(i)), i;
  }
  return gtt(r, [{
    key: "componentDidMount",
    value: function() {
      this.setState({
        width: this.el.clientWidth
      });
    }
  }, {
    key: "checkWidth",
    value: function() {
      const i = this.el.clientWidth;
      i !== this.state.width && this.setState({
        width: i
      });
    }
    /**
     * The user clicked on the `cog` of the menu so we need to open
     * it.
     */
  }, {
    key: "handleConfigMenuOpened",
    value: function(i) {
      this.setState({
        configMenuUid: i,
        configMenuPosition: this.configImg.getBoundingClientRect()
      });
    }
    /**
     * The user has clicked on the 'plus' sign at the top of a TiledPlot
     * so we need to open the Track Position Chooser dialog
     */
  }, {
    key: "handleAddTrackPositionMenuOpened",
    value: function(i) {
      this.setState({
        addTrackPositionMenuUid: i,
        addTrackPositionMenuPosition: this.plusImg.getBoundingClientRect()
      });
    }
    /**
     * The user has chosen a position for the new track. The actual
     * track selection will be handled by TiledPlot
     *
     * We just need to close the menu here.
     */
  }, {
    key: "handleTrackPositionChosen",
    value: function(i) {
      this.props.onTrackPositionChosen(i), this.setState({
        addTrackPositionMenuUid: null,
        addTrackPositionMenuPosition: null
      });
    }
  }, {
    key: "render",
    value: function() {
      let i = null, o = null;
      this.state.addTrackPositionMenuPosition && (o = import_react.default.createElement(zl, {
        onMenuClosed: () => {
          this.setState({
            addTrackPositionMenuUid: null,
            addTrackPositionMenuPosition: null
          });
        }
      }, import_react.default.createElement(hc, {
        orientation: "left",
        position: this.state.addTrackPositionMenuPosition,
        theme: this.props.theme
      }, import_react.default.createElement(dtt, {
        onTrackPositionChosen: this.handleTrackPositionChosenBound
      })))), this.state.configMenuUid && (i = import_react.default.createElement(zl, {
        onMenuClosed: () => this.setState({
          configMenuUid: null
        })
      }, import_react.default.createElement(pQ, {
        onClearView: () => {
          this.setState({
            configMenuUid: null
          }), this.props.onClearView();
        },
        onEditViewConfig: () => {
          this.setState({
            configMenuUid: null
          }), this.props.onEditViewConfig(this.state.configMenuUid);
        },
        onExportPNG: () => {
          this.setState({
            configMenuUid: null
          }), this.props.onExportPNG();
        },
        onExportSVG: () => {
          this.setState({
            configMenuUid: null
          }), this.props.onExportSVG();
        },
        onExportViewAsJSON: () => {
          this.setState({
            configMenuUid: null
          }), this.props.onExportViewsAsJSON();
        },
        onExportViewAsLink: () => {
          this.setState({
            configMenuUid: null
          }), this.props.onExportViewsAsLink();
        },
        onLockLocation: () => {
          this.setState({
            configMenuUid: null
          }), this.props.onLockLocation(this.state.configMenuUid);
        },
        onLockZoom: () => {
          this.setState({
            configMenuUid: null
          }), this.props.onLockZoom(this.state.configMenuUid);
        },
        onLockZoomAndLocation: () => {
          this.setState({
            configMenuUid: null
          }), this.props.onLockZoomAndLocation(this.state.configMenuUid);
        },
        onOptionsChanged: (u) => {
          this.props.onViewOptionsChanged(u), this.setState({
            configMenuUid: null
          });
        },
        onProjectViewport: () => {
          this.setState({
            configMenuUid: null
          }), this.props.onProjectViewport(this.state.configMenuUid);
        },
        onTakeAndLockZoomAndLocation: () => {
          this.setState({
            configMenuUid: null
          }), this.props.onTakeAndLockZoomAndLocation(this.state.configMenuUid);
        },
        onTogglePositionSearchBox: () => {
          this.setState({
            configMenuUid: null
          }), this.props.onTogglePositionSearchBox(this.state.configMenuUid);
        },
        onUnlockLocation: () => {
          this.setState({
            configMenuUid: null
          }), this.props.onUnlockLocation(this.state.configMenuUid);
        },
        onUnlockZoom: () => {
          this.setState({
            configMenuUid: null
          }), this.props.onUnlockZoom(this.state.configMenuUid);
        },
        onUnlockZoomAndLocation: () => {
          this.setState({
            configMenuUid: null
          }), this.props.onUnlockZoomAndLocation(this.state.configMenuUid);
        },
        onYankLocation: () => {
          this.setState({
            configMenuUid: null
          }), this.props.onYankLocation(this.state.configMenuUid);
        },
        onYankZoom: () => {
          this.setState({
            configMenuUid: null
          }), this.props.onYankZoom(this.state.configMenuUid);
        },
        onYankZoomAndLocation: () => {
          this.setState({
            configMenuUid: null
          }), this.props.onYankZoomAndLocation(this.state.configMenuUid);
        },
        onZoomToData: () => {
          this.setState({
            configMenuUid: null
          }), this.props.onZoomToData(this.state.configMenuUid);
        },
        orientation: "left",
        position: this.state.configMenuPosition,
        theme: this.props.theme
      })));
      const a = this.props.getGenomePositionSearchBox(this.state.isFocused, (u) => {
        this.setState({
          isFocused: u
        });
      }), s = nr(this.state.isFocused ? uo["multitrack-header-focus"] : uo["multitrack-header"], {
        [uo["multitrack-header-dark"]]: this.props.theme === wr
      }), l = this.state.width <= S9 ? uo["multitrack-header-icon-squeazed"] : uo["multitrack-header-icon"];
      return import_react.default.createElement("div", {
        ref: (u) => {
          this.el = u;
        },
        className: s
      }, import_react.default.createElement("div", {
        className: uo["multitrack-header-left"]
      }, this.props.mouseTool === yo && import_react.default.createElement("svg", {
        className: nr(uo["mouse-tool-selection"], l),
        title: "Selection tool active"
      }, import_react.default.createElement("use", {
        xlinkHref: "#select"
      })), import_react.default.createElement("div", {
        className: uo["multitrack-header-grabber"],
        title: "Drag to move the view"
      }, import_react.default.createElement("div", null), import_react.default.createElement("div", null), import_react.default.createElement("div", null)), this.state.width > w9 && import_react.default.createElement("div", {
        className: uo["multitrack-header-search"]
      }, this.props.isGenomePositionSearchBoxVisible && a)), import_react.default.createElement("nav", {
        className: uo["multitrack-header-nav-list"]
      }, import_react.default.createElement("svg", {
        className: l,
        onClick: this.props.onAddView
      }, import_react.default.createElement("title", null, "Add new view (clone this view)"), import_react.default.createElement("use", {
        xlinkHref: "#copy"
      })), import_react.default.createElement("svg", {
        ref: (u) => {
          this.configImg = u;
        },
        className: l,
        onClick: () => this.handleConfigMenuOpened(this.props.viewUid)
      }, import_react.default.createElement("title", null, "Configure this view"), import_react.default.createElement("use", {
        xlinkHref: "#cog"
      })), import_react.default.createElement("svg", {
        ref: (u) => {
          this.plusImg = u;
        },
        className: l,
        onClick: () => this.handleAddTrackPositionMenuOpened(this.props.viewUid)
      }, import_react.default.createElement("title", null, "Add Track"), import_react.default.createElement("use", {
        xlinkHref: "#plus"
      })), import_react.default.createElement("svg", {
        className: l,
        onClick: this.props.onCloseView
      }, import_react.default.createElement("title", null, "Close View"), import_react.default.createElement("use", {
        xlinkHref: "#cross"
      }))), i, o);
    }
  }]), r;
}(import_react.default.Component);
xL.defaultProps = {
  isGenomePositionSearchBoxVisible: false
};
xL.propTypes = {
  getGenomePositionSearchBox: M.func.isRequired,
  isGenomePositionSearchBoxVisible: M.bool,
  mouseTool: M.string.isRequired,
  onAddView: M.func.isRequired,
  onClearView: M.func.isRequired,
  onCloseView: M.func.isRequired,
  onEditViewConfig: M.func.isRequired,
  onExportSVG: M.func.isRequired,
  onExportPNG: M.func.isRequired,
  onExportViewsAsJSON: M.func.isRequired,
  onExportViewsAsLink: M.func.isRequired,
  onLockLocation: M.func.isRequired,
  onLockZoom: M.func.isRequired,
  onLockZoomAndLocation: M.func.isRequired,
  onProjectViewport: M.func.isRequired,
  onTakeAndLockZoomAndLocation: M.func.isRequired,
  onTogglePositionSearchBox: M.func.isRequired,
  onTrackPositionChosen: M.func.isRequired,
  onUnlockLocation: M.func.isRequired,
  onUnlockZoom: M.func.isRequired,
  onUnlockZoomAndLocation: M.func.isRequired,
  onViewOptionsChanged: M.func.isRequired,
  onYankLocation: M.func.isRequired,
  onYankZoom: M.func.isRequired,
  onYankZoomAndLocation: M.func.isRequired,
  onZoomToData: M.func.isRequired,
  theme: M.symbol.isRequired,
  viewUid: M.string.isRequired
};
var Stt = ih(xL);
var vQ = {};
Object.defineProperty(vQ, "__esModule", {
  value: true
});
var ll = Object.assign || function(e13) {
  for (var t = 1; t < arguments.length; t++) {
    var r = arguments[t];
    for (var n in r)
      Object.prototype.hasOwnProperty.call(r, n) && (e13[n] = r[n]);
  }
  return e13;
};
var wtt = /* @__PURE__ */ function() {
  function e13(t, r) {
    for (var n = 0; n < r.length; n++) {
      var i = r[n];
      i.enumerable = i.enumerable || false, i.configurable = true, "value" in i && (i.writable = true), Object.defineProperty(t, i.key, i);
    }
  }
  return function(t, r, n) {
    return r && e13(t.prototype, r), n && e13(t, n), t;
  };
}();
var Att = import_react.default;
var hm = Ott(Att);
function Ott(e13) {
  if (e13 && e13.__esModule)
    return e13;
  var t = {};
  if (e13 != null)
    for (var r in e13)
      Object.prototype.hasOwnProperty.call(e13, r) && (t[r] = e13[r]);
  return t.default = e13, t;
}
function Itt(e13, t) {
  var r = {};
  for (var n in e13)
    t.indexOf(n) >= 0 || Object.prototype.hasOwnProperty.call(e13, n) && (r[n] = e13[n]);
  return r;
}
function Ptt(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function T4(e13, t) {
  if (!e13)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return t && (typeof t == "object" || typeof t == "function") ? t : e13;
}
function Ctt(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function, not " + typeof t);
  e13.prototype = Object.create(t && t.prototype, {
    constructor: {
      value: e13,
      enumerable: false,
      writable: true,
      configurable: true
    }
  }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e13, t) : e13.__proto__ = t);
}
var xtt = 13;
var ktt = 9;
var Dtt = 8;
var Rtt = 89;
var H_ = 90;
var Ntt = 77;
var E4 = 57;
var S4 = 219;
var w4 = 222;
var A4 = 192;
var Mtt = 27;
var O4 = 100;
var Ltt = 3e3;
var Btt = "navigator" in globalThis && /Win/i.test(navigator.platform);
var eI = "navigator" in globalThis && /(Mac|iPhone|iPod|iPad)/i.test(navigator.platform);
var zb = "npm__react-simple-code-editor__textarea";
var Ftt = (
  /* CSS */
  `
/**
 * Reset the text fill color so that placeholder is visible
 */
.` + zb + `:empty {
  -webkit-text-fill-color: inherit !important;
}

/**
 * Hack to apply on some CSS on IE10 and IE11
 */
@media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {
  /**
    * IE doesn't support '-webkit-text-fill-color'
    * So we use 'color: transparent' to make the text transparent on IE
    * Unlike other browsers, it doesn't affect caret color in IE
    */
  .` + zb + ` {
    color: transparent !important;
  }

  .` + zb + `::selection {
    background-color: #accef7 !important;
    color: transparent !important;
  }
}
`
);
var yQ = function(e13) {
  Ctt(t, e13);
  function t() {
    var r, n, i, o;
    Ptt(this, t);
    for (var a = arguments.length, s = Array(a), l = 0; l < a; l++)
      s[l] = arguments[l];
    return o = (n = (i = T4(this, (r = t.__proto__ || Object.getPrototypeOf(t)).call.apply(r, [this].concat(s))), i), i.state = {
      capture: true
    }, i._recordCurrentState = function() {
      var u = i._input;
      if (u) {
        var c = u.value, f = u.selectionStart, h = u.selectionEnd;
        i._recordChange({
          value: c,
          selectionStart: f,
          selectionEnd: h
        });
      }
    }, i._getLines = function(u, c) {
      return u.substring(0, c).split(`
`);
    }, i._recordChange = function(u) {
      var c = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false, f = i._history, h = f.stack, d = f.offset;
      if (h.length && d > -1) {
        i._history.stack = h.slice(0, d + 1);
        var p = i._history.stack.length;
        if (p > O4) {
          var m = p - O4;
          i._history.stack = h.slice(m, p), i._history.offset = Math.max(i._history.offset - m, 0);
        }
      }
      var g = Date.now();
      if (c) {
        var v = i._history.stack[i._history.offset];
        if (v && g - v.timestamp < Ltt) {
          var b = /[^a-z0-9]([a-z0-9]+)$/i, y = i._getLines(v.value, v.selectionStart).pop().match(b), _ = i._getLines(u.value, u.selectionStart).pop().match(b);
          if (y && _ && _[1].startsWith(y[1])) {
            i._history.stack[i._history.offset] = ll({}, u, {
              timestamp: g
            });
            return;
          }
        }
      }
      i._history.stack.push(ll({}, u, {
        timestamp: g
      })), i._history.offset++;
    }, i._updateInput = function(u) {
      var c = i._input;
      c && (c.value = u.value, c.selectionStart = u.selectionStart, c.selectionEnd = u.selectionEnd, i.props.onValueChange(u.value));
    }, i._applyEdits = function(u) {
      var c = i._input, f = i._history.stack[i._history.offset];
      f && c && (i._history.stack[i._history.offset] = ll({}, f, {
        selectionStart: c.selectionStart,
        selectionEnd: c.selectionEnd
      })), i._recordChange(u), i._updateInput(u);
    }, i._undoEdit = function() {
      var u = i._history, c = u.stack, f = u.offset, h = c[f - 1];
      h && (i._updateInput(h), i._history.offset = Math.max(f - 1, 0));
    }, i._redoEdit = function() {
      var u = i._history, c = u.stack, f = u.offset, h = c[f + 1];
      h && (i._updateInput(h), i._history.offset = Math.min(f + 1, c.length - 1));
    }, i._handleKeyDown = function(u) {
      var c = i.props, f = c.tabSize, h = c.insertSpaces, d = c.ignoreTabKey, p = c.onKeyDown;
      if (!(p && (p(u), u.defaultPrevented))) {
        u.keyCode === Mtt && u.target.blur();
        var m = u.target, g = m.value, v = m.selectionStart, b = m.selectionEnd, y = (h ? " " : "	").repeat(f);
        if (u.keyCode === ktt && !d && i.state.capture)
          if (u.preventDefault(), u.shiftKey) {
            var _ = i._getLines(g, v), T = _.length - 1, E = i._getLines(g, b).length - 1, O = g.split(`
`).map(function(oe, q) {
              return q >= T && q <= E && oe.startsWith(y) ? oe.substring(y.length) : oe;
            }).join(`
`);
            if (g !== O) {
              var S = _[T];
              i._applyEdits({
                value: O,
                // Move the start cursor if first line in selection was modified
                // It was modified only if it started with a tab
                selectionStart: S.startsWith(y) ? v - y.length : v,
                // Move the end cursor by total number of characters removed
                selectionEnd: b - (g.length - O.length)
              });
            }
          } else if (v !== b) {
            var P = i._getLines(g, v), C = P.length - 1, w = i._getLines(g, b).length - 1, N = P[C];
            i._applyEdits({
              value: g.split(`
`).map(function(oe, q) {
                return q >= C && q <= w ? y + oe : oe;
              }).join(`
`),
              // Move the start cursor by number of characters added in first line of selection
              // Don't move it if it there was no text before cursor
              selectionStart: /\S/.test(N) ? v + y.length : v,
              // Move the end cursor by total number of characters added
              selectionEnd: b + y.length * (w - C + 1)
            });
          } else {
            var L = v + y.length;
            i._applyEdits({
              // Insert tab character at caret
              value: g.substring(0, v) + y + g.substring(b),
              // Update caret position
              selectionStart: L,
              selectionEnd: L
            });
          }
        else if (u.keyCode === Dtt) {
          var A = v !== b, R = g.substring(0, v);
          if (R.endsWith(y) && !A) {
            u.preventDefault();
            var F = v - y.length;
            i._applyEdits({
              // Remove tab character at caret
              value: g.substring(0, v - y.length) + g.substring(b),
              // Update caret position
              selectionStart: F,
              selectionEnd: F
            });
          }
        } else if (u.keyCode === xtt) {
          if (v === b) {
            var $ = i._getLines(g, v).pop(), K = $.match(/^\s+/);
            if (K && K[0]) {
              u.preventDefault();
              var ie = `
` + K[0], J = v + ie.length;
              i._applyEdits({
                // Insert indentation character at caret
                value: g.substring(0, v) + ie + g.substring(b),
                // Update caret position
                selectionStart: J,
                selectionEnd: J
              });
            }
          }
        } else if (u.keyCode === E4 || u.keyCode === S4 || u.keyCode === w4 || u.keyCode === A4) {
          var pe = void 0;
          u.keyCode === E4 && u.shiftKey ? pe = ["(", ")"] : u.keyCode === S4 ? u.shiftKey ? pe = ["{", "}"] : pe = ["[", "]"] : u.keyCode === w4 ? u.shiftKey ? pe = ['"', '"'] : pe = ["'", "'"] : u.keyCode === A4 && !u.shiftKey && (pe = ["`", "`"]), v !== b && pe && (u.preventDefault(), i._applyEdits({
            value: g.substring(0, v) + pe[0] + g.substring(v, b) + pe[1] + g.substring(b),
            // Update caret position
            selectionStart: v,
            selectionEnd: b + 2
          }));
        } else (eI ? (
          // Trigger undo with ⌘+Z on Mac
          u.metaKey && u.keyCode === H_
        ) : (
          // Trigger undo with Ctrl+Z on other platforms
          u.ctrlKey && u.keyCode === H_
        )) && !u.shiftKey && !u.altKey ? (u.preventDefault(), i._undoEdit()) : (eI ? (
          // Trigger redo with ⌘+Shift+Z on Mac
          u.metaKey && u.keyCode === H_ && u.shiftKey
        ) : Btt ? (
          // Trigger redo with Ctrl+Y on Windows
          u.ctrlKey && u.keyCode === Rtt
        ) : (
          // Trigger redo with Ctrl+Shift+Z on other platforms
          u.ctrlKey && u.keyCode === H_ && u.shiftKey
        )) && !u.altKey ? (u.preventDefault(), i._redoEdit()) : u.keyCode === Ntt && u.ctrlKey && (!eI || u.shiftKey) && (u.preventDefault(), i.setState(function(oe) {
          return {
            capture: !oe.capture
          };
        }));
      }
    }, i._handleChange = function(u) {
      var c = u.target, f = c.value, h = c.selectionStart, d = c.selectionEnd;
      i._recordChange({
        value: f,
        selectionStart: h,
        selectionEnd: d
      }, true), i.props.onValueChange(f);
    }, i._history = {
      stack: [],
      offset: -1
    }, n), T4(i, o);
  }
  return wtt(t, [{
    key: "componentDidMount",
    value: function() {
      this._recordCurrentState();
    }
  }, {
    key: "render",
    value: function() {
      var n = this, i = this.props, o = i.value, a = i.style, s = i.padding, l = i.highlight, u = i.textareaId, c = i.autoFocus, f = i.disabled, h = i.form, d = i.maxLength, p = i.minLength, m = i.name, g = i.placeholder, v = i.readOnly, b = i.required, y = i.onClick, _ = i.onFocus, T = i.onBlur, E = i.onKeyUp;
      i.onKeyDown, i.onValueChange, i.tabSize, i.insertSpaces, i.ignoreTabKey;
      var O = Itt(i, ["value", "style", "padding", "highlight", "textareaId", "autoFocus", "disabled", "form", "maxLength", "minLength", "name", "placeholder", "readOnly", "required", "onClick", "onFocus", "onBlur", "onKeyUp", "onKeyDown", "onValueChange", "tabSize", "insertSpaces", "ignoreTabKey"]), S = {
        paddingTop: s,
        paddingRight: s,
        paddingBottom: s,
        paddingLeft: s
      }, P = l(o);
      return hm.createElement("div", ll({}, O, {
        style: ll({}, fm.container, a)
      }), hm.createElement("textarea", {
        ref: function(w) {
          return n._input = w;
        },
        style: ll({}, fm.editor, fm.textarea, S),
        className: zb,
        id: u,
        value: o,
        onChange: this._handleChange,
        onKeyDown: this._handleKeyDown,
        onClick: y,
        onKeyUp: E,
        onFocus: _,
        onBlur: T,
        disabled: f,
        form: h,
        maxLength: d,
        minLength: p,
        name: m,
        placeholder: g,
        readOnly: v,
        required: b,
        autoFocus: c,
        autoCapitalize: "off",
        autoComplete: "off",
        autoCorrect: "off",
        spellCheck: false,
        "data-gramm": false
      }), hm.createElement("pre", ll({
        "aria-hidden": "true",
        style: ll({}, fm.editor, fm.highlight, S)
      }, typeof P == "string" ? {
        dangerouslySetInnerHTML: {
          __html: P + "<br />"
        }
      } : {
        children: P
      })), hm.createElement("style", {
        type: "text/css",
        dangerouslySetInnerHTML: {
          __html: Ftt
        }
      }));
    }
  }, {
    key: "session",
    get: function() {
      return {
        history: this._history
      };
    },
    set: function(n) {
      this._history = n.history;
    }
  }]), t;
}(hm.Component);
yQ.defaultProps = {
  tabSize: 2,
  insertSpaces: true,
  ignoreTabKey: false,
  padding: 0
};
var $tt = vQ.default = yQ;
var fm = {
  container: {
    position: "relative",
    textAlign: "left",
    boxSizing: "border-box",
    padding: 0,
    overflow: "hidden"
  },
  textarea: {
    position: "absolute",
    top: 0,
    left: 0,
    height: "100%",
    width: "100%",
    resize: "none",
    color: "inherit",
    overflow: "hidden",
    MozOsxFontSmoothing: "grayscale",
    WebkitFontSmoothing: "antialiased",
    WebkitTextFillColor: "transparent"
  },
  highlight: {
    position: "relative",
    pointerEvents: "none"
  },
  editor: {
    margin: 0,
    border: 0,
    background: "none",
    boxSizing: "inherit",
    display: "inherit",
    fontFamily: "inherit",
    fontSize: "inherit",
    fontStyle: "inherit",
    fontVariantLigatures: "inherit",
    fontWeight: "inherit",
    letterSpacing: "inherit",
    lineHeight: "inherit",
    tabSize: "inherit",
    textIndent: "inherit",
    textRendering: "inherit",
    textTransform: "inherit",
    whiteSpace: "pre-wrap",
    wordBreak: "keep-all",
    overflowWrap: "break-word"
  }
};
var _Q = { exports: {} };
(function(e13) {
  var t = typeof window < "u" ? window : typeof WorkerGlobalScope < "u" && self instanceof WorkerGlobalScope ? self : {};
  var r = function(n) {
    var i = /(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i, o = 0, a = {}, s = {
      /**
       * By default, Prism will attempt to highlight all code elements (by calling {@link Prism.highlightAll}) on the
       * current page after the page finished loading. This might be a problem if e.g. you wanted to asynchronously load
       * additional languages or plugins yourself.
       *
       * By setting this value to `true`, Prism will not automatically highlight all code elements on the page.
       *
       * You obviously have to change this value before the automatic highlighting started. To do this, you can add an
       * empty Prism object into the global scope before loading the Prism script like this:
       *
       * ```js
       * window.Prism = window.Prism || {};
       * Prism.manual = true;
       * // add a new <script> to load Prism's script
       * ```
       *
       * @default false
       * @type {boolean}
       * @memberof Prism
       * @public
       */
      manual: n.Prism && n.Prism.manual,
      /**
       * By default, if Prism is in a web worker, it assumes that it is in a worker it created itself, so it uses
       * `addEventListener` to communicate with its parent instance. However, if you're using Prism manually in your
       * own worker, you don't want it to do this.
       *
       * By setting this value to `true`, Prism will not add its own listeners to the worker.
       *
       * You obviously have to change this value before Prism executes. To do this, you can add an
       * empty Prism object into the global scope before loading the Prism script like this:
       *
       * ```js
       * window.Prism = window.Prism || {};
       * Prism.disableWorkerMessageHandler = true;
       * // Load Prism's script
       * ```
       *
       * @default false
       * @type {boolean}
       * @memberof Prism
       * @public
       */
      disableWorkerMessageHandler: n.Prism && n.Prism.disableWorkerMessageHandler,
      /**
       * A namespace for utility methods.
       *
       * All function in this namespace that are not explicitly marked as _public_ are for __internal use only__ and may
       * change or disappear at any time.
       *
       * @namespace
       * @memberof Prism
       */
      util: {
        encode: function b(y) {
          return y instanceof l ? new l(y.type, b(y.content), y.alias) : Array.isArray(y) ? y.map(b) : y.replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/\u00a0/g, " ");
        },
        /**
         * Returns the name of the type of the given value.
         *
         * @param {any} o
         * @returns {string}
         * @example
         * type(null)      === 'Null'
         * type(undefined) === 'Undefined'
         * type(123)       === 'Number'
         * type('foo')     === 'String'
         * type(true)      === 'Boolean'
         * type([1, 2])    === 'Array'
         * type({})        === 'Object'
         * type(String)    === 'Function'
         * type(/abc+/)    === 'RegExp'
         */
        type: function(b) {
          return Object.prototype.toString.call(b).slice(8, -1);
        },
        /**
         * Returns a unique number for the given object. Later calls will still return the same number.
         *
         * @param {Object} obj
         * @returns {number}
         */
        objId: function(b) {
          return b.__id || Object.defineProperty(b, "__id", {
            value: ++o
          }), b.__id;
        },
        /**
         * Creates a deep clone of the given object.
         *
         * The main intended use of this function is to clone language definitions.
         *
         * @param {T} o
         * @param {Record<number, any>} [visited]
         * @returns {T}
         * @template T
         */
        clone: function b(y, _) {
          _ = _ || {};
          var T, E;
          switch (s.util.type(y)) {
            case "Object":
              if (E = s.util.objId(y), _[E])
                return _[E];
              T = /** @type {Record<string, any>} */
              {}, _[E] = T;
              for (var O in y)
                y.hasOwnProperty(O) && (T[O] = b(y[O], _));
              return (
                /** @type {any} */
                T
              );
            case "Array":
              return E = s.util.objId(y), _[E] ? _[E] : (T = [], _[E] = T, y.forEach(function(S, P) {
                T[P] = b(S, _);
              }), /** @type {any} */
              T);
            default:
              return y;
          }
        },
        /**
         * Returns the Prism language of the given element set by a `language-xxxx` or `lang-xxxx` class.
         *
         * If no language is set for the element or the element is `null` or `undefined`, `none` will be returned.
         *
         * @param {Element} element
         * @returns {string}
         */
        getLanguage: function(b) {
          for (; b; ) {
            var y = i.exec(b.className);
            if (y)
              return y[1].toLowerCase();
            b = b.parentElement;
          }
          return "none";
        },
        /**
         * Sets the Prism `language-xxxx` class of the given element.
         *
         * @param {Element} element
         * @param {string} language
         * @returns {void}
         */
        setLanguage: function(b, y) {
          b.className = b.className.replace(RegExp(i, "gi"), ""), b.classList.add("language-" + y);
        },
        /**
         * Returns the script element that is currently executing.
         *
         * This does __not__ work for line script element.
         *
         * @returns {HTMLScriptElement | null}
         */
        currentScript: function() {
          if (typeof document > "u")
            return null;
          if ("currentScript" in document)
            return (
              /** @type {any} */
              document.currentScript
            );
          try {
            throw new Error();
          } catch (T) {
            var b = (/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(T.stack) || [])[1];
            if (b) {
              var y = document.getElementsByTagName("script");
              for (var _ in y)
                if (y[_].src == b)
                  return y[_];
            }
            return null;
          }
        },
        /**
         * Returns whether a given class is active for `element`.
         *
         * The class can be activated if `element` or one of its ancestors has the given class and it can be deactivated
         * if `element` or one of its ancestors has the negated version of the given class. The _negated version_ of the
         * given class is just the given class with a `no-` prefix.
         *
         * Whether the class is active is determined by the closest ancestor of `element` (where `element` itself is
         * closest ancestor) that has the given class or the negated version of it. If neither `element` nor any of its
         * ancestors have the given class or the negated version of it, then the default activation will be returned.
         *
         * In the paradoxical situation where the closest ancestor contains __both__ the given class and the negated
         * version of it, the class is considered active.
         *
         * @param {Element} element
         * @param {string} className
         * @param {boolean} [defaultActivation=false]
         * @returns {boolean}
         */
        isActive: function(b, y, _) {
          for (var T = "no-" + y; b; ) {
            var E = b.classList;
            if (E.contains(y))
              return true;
            if (E.contains(T))
              return false;
            b = b.parentElement;
          }
          return !!_;
        }
      },
      /**
       * This namespace contains all currently loaded languages and the some helper functions to create and modify languages.
       *
       * @namespace
       * @memberof Prism
       * @public
       */
      languages: {
        /**
         * The grammar for plain, unformatted text.
         */
        plain: a,
        plaintext: a,
        text: a,
        txt: a,
        /**
         * Creates a deep copy of the language with the given id and appends the given tokens.
         *
         * If a token in `redef` also appears in the copied language, then the existing token in the copied language
         * will be overwritten at its original position.
         *
         * ## Best practices
         *
         * Since the position of overwriting tokens (token in `redef` that overwrite tokens in the copied language)
         * doesn't matter, they can technically be in any order. However, this can be confusing to others that trying to
         * understand the language definition because, normally, the order of tokens matters in Prism grammars.
         *
         * Therefore, it is encouraged to order overwriting tokens according to the positions of the overwritten tokens.
         * Furthermore, all non-overwriting tokens should be placed after the overwriting ones.
         *
         * @param {string} id The id of the language to extend. This has to be a key in `Prism.languages`.
         * @param {Grammar} redef The new tokens to append.
         * @returns {Grammar} The new language created.
         * @public
         * @example
         * Prism.languages['css-with-colors'] = Prism.languages.extend('css', {
         *     // Prism.languages.css already has a 'comment' token, so this token will overwrite CSS' 'comment' token
         *     // at its original position
         *     'comment': { ... },
         *     // CSS doesn't have a 'color' token, so this token will be appended
         *     'color': /\b(?:red|green|blue)\b/
         * });
         */
        extend: function(b, y) {
          var _ = s.util.clone(s.languages[b]);
          for (var T in y)
            _[T] = y[T];
          return _;
        },
        /**
         * Inserts tokens _before_ another token in a language definition or any other grammar.
         *
         * ## Usage
         *
         * This helper method makes it easy to modify existing languages. For example, the CSS language definition
         * not only defines CSS highlighting for CSS documents, but also needs to define highlighting for CSS embedded
         * in HTML through `<style>` elements. To do this, it needs to modify `Prism.languages.markup` and add the
         * appropriate tokens. However, `Prism.languages.markup` is a regular JavaScript object literal, so if you do
         * this:
         *
         * ```js
         * Prism.languages.markup.style = {
         *     // token
         * };
         * ```
         *
         * then the `style` token will be added (and processed) at the end. `insertBefore` allows you to insert tokens
         * before existing tokens. For the CSS example above, you would use it like this:
         *
         * ```js
         * Prism.languages.insertBefore('markup', 'cdata', {
         *     'style': {
         *         // token
         *     }
         * });
         * ```
         *
         * ## Special cases
         *
         * If the grammars of `inside` and `insert` have tokens with the same name, the tokens in `inside`'s grammar
         * will be ignored.
         *
         * This behavior can be used to insert tokens after `before`:
         *
         * ```js
         * Prism.languages.insertBefore('markup', 'comment', {
         *     'comment': Prism.languages.markup.comment,
         *     // tokens after 'comment'
         * });
         * ```
         *
         * ## Limitations
         *
         * The main problem `insertBefore` has to solve is iteration order. Since ES2015, the iteration order for object
         * properties is guaranteed to be the insertion order (except for integer keys) but some browsers behave
         * differently when keys are deleted and re-inserted. So `insertBefore` can't be implemented by temporarily
         * deleting properties which is necessary to insert at arbitrary positions.
         *
         * To solve this problem, `insertBefore` doesn't actually insert the given tokens into the target object.
         * Instead, it will create a new object and replace all references to the target object with the new one. This
         * can be done without temporarily deleting properties, so the iteration order is well-defined.
         *
         * However, only references that can be reached from `Prism.languages` or `insert` will be replaced. I.e. if
         * you hold the target object in a variable, then the value of the variable will not change.
         *
         * ```js
         * var oldMarkup = Prism.languages.markup;
         * var newMarkup = Prism.languages.insertBefore('markup', 'comment', { ... });
         *
         * assert(oldMarkup !== Prism.languages.markup);
         * assert(newMarkup === Prism.languages.markup);
         * ```
         *
         * @param {string} inside The property of `root` (e.g. a language id in `Prism.languages`) that contains the
         * object to be modified.
         * @param {string} before The key to insert before.
         * @param {Grammar} insert An object containing the key-value pairs to be inserted.
         * @param {Object<string, any>} [root] The object containing `inside`, i.e. the object that contains the
         * object to be modified.
         *
         * Defaults to `Prism.languages`.
         * @returns {Grammar} The new grammar object.
         * @public
         */
        insertBefore: function(b, y, _, T) {
          T = T || /** @type {any} */
          s.languages;
          var E = T[b], O = {};
          for (var S in E)
            if (E.hasOwnProperty(S)) {
              if (S == y)
                for (var P in _)
                  _.hasOwnProperty(P) && (O[P] = _[P]);
              _.hasOwnProperty(S) || (O[S] = E[S]);
            }
          var C = T[b];
          return T[b] = O, s.languages.DFS(s.languages, function(w, N) {
            N === C && w != b && (this[w] = O);
          }), O;
        },
        // Traverse a language definition with Depth First Search
        DFS: function b(y, _, T, E) {
          E = E || {};
          var O = s.util.objId;
          for (var S in y)
            if (y.hasOwnProperty(S)) {
              _.call(y, S, y[S], T || S);
              var P = y[S], C = s.util.type(P);
              C === "Object" && !E[O(P)] ? (E[O(P)] = true, b(P, _, null, E)) : C === "Array" && !E[O(P)] && (E[O(P)] = true, b(P, _, S, E));
            }
        }
      },
      plugins: {},
      /**
       * This is the most high-level function in Prism’s API.
       * It fetches all the elements that have a `.language-xxxx` class and then calls {@link Prism.highlightElement} on
       * each one of them.
       *
       * This is equivalent to `Prism.highlightAllUnder(document, async, callback)`.
       *
       * @param {boolean} [async=false] Same as in {@link Prism.highlightAllUnder}.
       * @param {HighlightCallback} [callback] Same as in {@link Prism.highlightAllUnder}.
       * @memberof Prism
       * @public
       */
      highlightAll: function(b, y) {
        s.highlightAllUnder(document, b, y);
      },
      /**
       * Fetches all the descendants of `container` that have a `.language-xxxx` class and then calls
       * {@link Prism.highlightElement} on each one of them.
       *
       * The following hooks will be run:
       * 1. `before-highlightall`
       * 2. `before-all-elements-highlight`
       * 3. All hooks of {@link Prism.highlightElement} for each element.
       *
       * @param {ParentNode} container The root element, whose descendants that have a `.language-xxxx` class will be highlighted.
       * @param {boolean} [async=false] Whether each element is to be highlighted asynchronously using Web Workers.
       * @param {HighlightCallback} [callback] An optional callback to be invoked on each element after its highlighting is done.
       * @memberof Prism
       * @public
       */
      highlightAllUnder: function(b, y, _) {
        var T = {
          callback: _,
          container: b,
          selector: 'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'
        };
        s.hooks.run("before-highlightall", T), T.elements = Array.prototype.slice.apply(T.container.querySelectorAll(T.selector)), s.hooks.run("before-all-elements-highlight", T);
        for (var E = 0, O; O = T.elements[E++]; )
          s.highlightElement(O, y === true, T.callback);
      },
      /**
       * Highlights the code inside a single element.
       *
       * The following hooks will be run:
       * 1. `before-sanity-check`
       * 2. `before-highlight`
       * 3. All hooks of {@link Prism.highlight}. These hooks will be run by an asynchronous worker if `async` is `true`.
       * 4. `before-insert`
       * 5. `after-highlight`
       * 6. `complete`
       *
       * Some the above hooks will be skipped if the element doesn't contain any text or there is no grammar loaded for
       * the element's language.
       *
       * @param {Element} element The element containing the code.
       * It must have a class of `language-xxxx` to be processed, where `xxxx` is a valid language identifier.
       * @param {boolean} [async=false] Whether the element is to be highlighted asynchronously using Web Workers
       * to improve performance and avoid blocking the UI when highlighting very large chunks of code. This option is
       * [disabled by default](https://prismjs.com/faq.html#why-is-asynchronous-highlighting-disabled-by-default).
       *
       * Note: All language definitions required to highlight the code must be included in the main `prism.js` file for
       * asynchronous highlighting to work. You can build your own bundle on the
       * [Download page](https://prismjs.com/download.html).
       * @param {HighlightCallback} [callback] An optional callback to be invoked after the highlighting is done.
       * Mostly useful when `async` is `true`, since in that case, the highlighting is done asynchronously.
       * @memberof Prism
       * @public
       */
      highlightElement: function(b, y, _) {
        var T = s.util.getLanguage(b), E = s.languages[T];
        s.util.setLanguage(b, T);
        var O = b.parentElement;
        O && O.nodeName.toLowerCase() === "pre" && s.util.setLanguage(O, T);
        var S = b.textContent, P = {
          element: b,
          language: T,
          grammar: E,
          code: S
        };
        function C(N) {
          P.highlightedCode = N, s.hooks.run("before-insert", P), P.element.innerHTML = P.highlightedCode, s.hooks.run("after-highlight", P), s.hooks.run("complete", P), _ && _.call(P.element);
        }
        if (s.hooks.run("before-sanity-check", P), O = P.element.parentElement, O && O.nodeName.toLowerCase() === "pre" && !O.hasAttribute("tabindex") && O.setAttribute("tabindex", "0"), !P.code) {
          s.hooks.run("complete", P), _ && _.call(P.element);
          return;
        }
        if (s.hooks.run("before-highlight", P), !P.grammar) {
          C(s.util.encode(P.code));
          return;
        }
        if (y && n.Worker) {
          var w = new Worker(s.filename);
          w.onmessage = function(N) {
            C(N.data);
          }, w.postMessage(JSON.stringify({
            language: P.language,
            code: P.code,
            immediateClose: true
          }));
        } else
          C(s.highlight(P.code, P.grammar, P.language));
      },
      /**
       * Low-level function, only use if you know what you’re doing. It accepts a string of text as input
       * and the language definitions to use, and returns a string with the HTML produced.
       *
       * The following hooks will be run:
       * 1. `before-tokenize`
       * 2. `after-tokenize`
       * 3. `wrap`: On each {@link Token}.
       *
       * @param {string} text A string with the code to be highlighted.
       * @param {Grammar} grammar An object containing the tokens to use.
       *
       * Usually a language definition like `Prism.languages.markup`.
       * @param {string} language The name of the language definition passed to `grammar`.
       * @returns {string} The highlighted HTML.
       * @memberof Prism
       * @public
       * @example
       * Prism.highlight('var foo = true;', Prism.languages.javascript, 'javascript');
       */
      highlight: function(b, y, _) {
        var T = {
          code: b,
          grammar: y,
          language: _
        };
        if (s.hooks.run("before-tokenize", T), !T.grammar)
          throw new Error('The language "' + T.language + '" has no grammar.');
        return T.tokens = s.tokenize(T.code, T.grammar), s.hooks.run("after-tokenize", T), l.stringify(s.util.encode(T.tokens), T.language);
      },
      /**
       * This is the heart of Prism, and the most low-level function you can use. It accepts a string of text as input
       * and the language definitions to use, and returns an array with the tokenized code.
       *
       * When the language definition includes nested tokens, the function is called recursively on each of these tokens.
       *
       * This method could be useful in other contexts as well, as a very crude parser.
       *
       * @param {string} text A string with the code to be highlighted.
       * @param {Grammar} grammar An object containing the tokens to use.
       *
       * Usually a language definition like `Prism.languages.markup`.
       * @returns {TokenStream} An array of strings and tokens, a token stream.
       * @memberof Prism
       * @public
       * @example
       * let code = `var foo = 0;`;
       * let tokens = Prism.tokenize(code, Prism.languages.javascript);
       * tokens.forEach(token => {
       *     if (token instanceof Prism.Token && token.type === 'number') {
       *         console.log(`Found numeric literal: ${token.content}`);
       *     }
       * });
       */
      tokenize: function(b, y) {
        var _ = y.rest;
        if (_) {
          for (var T in _)
            y[T] = _[T];
          delete y.rest;
        }
        var E = new f();
        return h(E, E.head, b), c(b, E, y, E.head, 0), p(E);
      },
      /**
       * @namespace
       * @memberof Prism
       * @public
       */
      hooks: {
        all: {},
        /**
         * Adds the given callback to the list of callbacks for the given hook.
         *
         * The callback will be invoked when the hook it is registered for is run.
         * Hooks are usually directly run by a highlight function but you can also run hooks yourself.
         *
         * One callback function can be registered to multiple hooks and the same hook multiple times.
         *
         * @param {string} name The name of the hook.
         * @param {HookCallback} callback The callback function which is given environment variables.
         * @public
         */
        add: function(b, y) {
          var _ = s.hooks.all;
          _[b] = _[b] || [], _[b].push(y);
        },
        /**
         * Runs a hook invoking all registered callbacks with the given environment variables.
         *
         * Callbacks will be invoked synchronously and in the order in which they were registered.
         *
         * @param {string} name The name of the hook.
         * @param {Object<string, any>} env The environment variables of the hook passed to all callbacks registered.
         * @public
         */
        run: function(b, y) {
          var _ = s.hooks.all[b];
          if (!(!_ || !_.length))
            for (var T = 0, E; E = _[T++]; )
              E(y);
        }
      },
      Token: l
    };
    n.Prism = s;
    function l(b, y, _, T) {
      this.type = b, this.content = y, this.alias = _, this.length = (T || "").length | 0;
    }
    l.stringify = function b(y, _) {
      if (typeof y == "string")
        return y;
      if (Array.isArray(y)) {
        var T = "";
        return y.forEach(function(C) {
          T += b(C, _);
        }), T;
      }
      var E = {
        type: y.type,
        content: b(y.content, _),
        tag: "span",
        classes: ["token", y.type],
        attributes: {},
        language: _
      }, O = y.alias;
      O && (Array.isArray(O) ? Array.prototype.push.apply(E.classes, O) : E.classes.push(O)), s.hooks.run("wrap", E);
      var S = "";
      for (var P in E.attributes)
        S += " " + P + '="' + (E.attributes[P] || "").replace(/"/g, "&quot;") + '"';
      return "<" + E.tag + ' class="' + E.classes.join(" ") + '"' + S + ">" + E.content + "</" + E.tag + ">";
    };
    function u(b, y, _, T) {
      b.lastIndex = y;
      var E = b.exec(_);
      if (E && T && E[1]) {
        var O = E[1].length;
        E.index += O, E[0] = E[0].slice(O);
      }
      return E;
    }
    function c(b, y, _, T, E, O) {
      for (var S in _)
        if (!(!_.hasOwnProperty(S) || !_[S])) {
          var P = _[S];
          P = Array.isArray(P) ? P : [P];
          for (var C = 0; C < P.length; ++C) {
            if (O && O.cause == S + "," + C)
              return;
            var w = P[C], N = w.inside, L = !!w.lookbehind, A = !!w.greedy, R = w.alias;
            if (A && !w.pattern.global) {
              var F = w.pattern.toString().match(/[imsuy]*$/)[0];
              w.pattern = RegExp(w.pattern.source, F + "g");
            }
            for (var $ = w.pattern || w, K = T.next, ie = E; K !== y.tail && !(O && ie >= O.reach); ie += K.value.length, K = K.next) {
              var J = K.value;
              if (y.length > b.length)
                return;
              if (!(J instanceof l)) {
                var pe = 1, oe;
                if (A) {
                  if (oe = u($, ie, b, L), !oe || oe.index >= b.length)
                    break;
                  var Te = oe.index, q = oe.index + oe[0].length, W = ie;
                  for (W += K.value.length; Te >= W; )
                    K = K.next, W += K.value.length;
                  if (W -= K.value.length, ie = W, K.value instanceof l)
                    continue;
                  for (var se = K; se !== y.tail && (W < q || typeof se.value == "string"); se = se.next)
                    pe++, W += se.value.length;
                  pe--, J = b.slice(ie, W), oe.index -= ie;
                } else if (oe = u($, 0, J, L), !oe)
                  continue;
                var Te = oe.index, Ae = oe[0], Re = J.slice(0, Te), Ee = J.slice(Te + Ae.length), Me = ie + J.length;
                O && Me > O.reach && (O.reach = Me);
                var Ne = K.prev;
                Re && (Ne = h(y, Ne, Re), ie += Re.length), d(y, Ne, pe);
                var Oe = new l(S, N ? s.tokenize(Ae, N) : Ae, R, Ae);
                if (K = h(y, Ne, Oe), Ee && h(y, K, Ee), pe > 1) {
                  var Fe = {
                    cause: S + "," + C,
                    reach: Me
                  };
                  c(b, y, _, K.prev, ie, Fe), O && Fe.reach > O.reach && (O.reach = Fe.reach);
                }
              }
            }
          }
        }
    }
    function f() {
      var b = {
        value: null,
        prev: null,
        next: null
      }, y = {
        value: null,
        prev: b,
        next: null
      };
      b.next = y, this.head = b, this.tail = y, this.length = 0;
    }
    function h(b, y, _) {
      var T = y.next, E = {
        value: _,
        prev: y,
        next: T
      };
      return y.next = E, T.prev = E, b.length++, E;
    }
    function d(b, y, _) {
      for (var T = y.next, E = 0; E < _ && T !== b.tail; E++)
        T = T.next;
      y.next = T, T.prev = y, b.length -= E;
    }
    function p(b) {
      for (var y = [], _ = b.head.next; _ !== b.tail; )
        y.push(_.value), _ = _.next;
      return y;
    }
    if (!n.document)
      return n.addEventListener && (s.disableWorkerMessageHandler || n.addEventListener("message", function(b) {
        var y = JSON.parse(b.data), _ = y.language, T = y.code, E = y.immediateClose;
        n.postMessage(s.highlight(T, s.languages[_], _)), E && n.close();
      }, false)), s;
    var m = s.util.currentScript();
    m && (s.filename = m.src, m.hasAttribute("data-manual") && (s.manual = true));
    function g() {
      s.manual || s.highlightAll();
    }
    if (!s.manual) {
      var v = document.readyState;
      v === "loading" || v === "interactive" && m && m.defer ? document.addEventListener("DOMContentLoaded", g) : window.requestAnimationFrame ? window.requestAnimationFrame(g) : window.setTimeout(g, 16);
    }
    return s;
  }(t);
  e13.exports && (e13.exports = r), typeof globalThis < "u" && (globalThis.Prism = r);
})(_Q);
var I4 = _Q.exports;
Prism.languages.json = {
  property: {
    pattern: /(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,
    lookbehind: true,
    greedy: true
  },
  string: {
    pattern: /(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,
    lookbehind: true,
    greedy: true
  },
  comment: {
    pattern: /\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,
    greedy: true
  },
  number: /-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,
  punctuation: /[{}[\],]/,
  operator: /:/,
  boolean: /\b(?:false|true)\b/,
  null: {
    pattern: /\bnull\b/,
    alias: "keyword"
  }
};
Prism.languages.webmanifest = Prism.languages.json;
var Yk = { exports: {} };
(function(e13, t) {
  (function(r, n) {
    n(t);
  })(De, function(r) {
    function n() {
      for (var z = arguments.length, U = Array(z), ae = 0; ae < z; ae++)
        U[ae] = arguments[ae];
      if (U.length > 1) {
        U[0] = U[0].slice(0, -1);
        for (var we = U.length - 1, Ie = 1; Ie < we; ++Ie)
          U[Ie] = U[Ie].slice(1, -1);
        return U[we] = U[we].slice(1), U.join("");
      } else
        return U[0];
    }
    function i(z) {
      return "(?:" + z + ")";
    }
    function o(z) {
      return z === void 0 ? "undefined" : z === null ? "null" : Object.prototype.toString.call(z).split(" ").pop().split("]").shift().toLowerCase();
    }
    function a(z) {
      return z.toUpperCase();
    }
    function s(z) {
      return z != null ? z instanceof Array ? z : typeof z.length != "number" || z.split || z.setInterval || z.call ? [z] : Array.prototype.slice.call(z) : [];
    }
    function l(z, U) {
      var ae = z;
      if (U)
        for (var we in U)
          ae[we] = U[we];
      return ae;
    }
    function u(z) {
      var U = "[A-Za-z]", ae = "[0-9]", we = n(ae, "[A-Fa-f]"), Ie = i(i("%[EFef]" + we + "%" + we + we + "%" + we + we) + "|" + i("%[89A-Fa-f]" + we + "%" + we + we) + "|" + i("%" + we + we)), Ye = "[\\:\\/\\?\\#\\[\\]\\@]", qe = "[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]", dt = n(Ye, qe), At = z ? "[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]" : "[]", Yt = z ? "[\\uE000-\\uF8FF]" : "[]", Et = n(U, ae, "[\\-\\.\\_\\~]", At);
      i(U + n(U, ae, "[\\+\\-\\.]") + "*"), i(i(Ie + "|" + n(Et, qe, "[\\:]")) + "*");
      var Ut = i(i("25[0-5]") + "|" + i("2[0-4]" + ae) + "|" + i("1" + ae + ae) + "|" + i("0?[1-9]" + ae) + "|0?0?" + ae), or = i(Ut + "\\." + Ut + "\\." + Ut + "\\." + Ut), pt = i(we + "{1,4}"), zt = i(i(pt + "\\:" + pt) + "|" + or), ar = i(i(pt + "\\:") + "{6}" + zt), cr = i("\\:\\:" + i(pt + "\\:") + "{5}" + zt), Cr = i(i(pt) + "?\\:\\:" + i(pt + "\\:") + "{4}" + zt), zn = i(i(i(pt + "\\:") + "{0,1}" + pt) + "?\\:\\:" + i(pt + "\\:") + "{3}" + zt), Xe = i(i(i(pt + "\\:") + "{0,2}" + pt) + "?\\:\\:" + i(pt + "\\:") + "{2}" + zt), it = i(i(i(pt + "\\:") + "{0,3}" + pt) + "?\\:\\:" + pt + "\\:" + zt), Rt = i(i(i(pt + "\\:") + "{0,4}" + pt) + "?\\:\\:" + zt), Ot = i(i(i(pt + "\\:") + "{0,5}" + pt) + "?\\:\\:" + pt), vt = i(i(i(pt + "\\:") + "{0,6}" + pt) + "?\\:\\:"), qt = i([ar, cr, Cr, zn, Xe, it, Rt, Ot, vt].join("|")), xt = i(i(Et + "|" + Ie) + "+");
      i("[vV]" + we + "+\\." + n(Et, qe, "[\\:]") + "+"), i(i(Ie + "|" + n(Et, qe)) + "*");
      var Mt = i(Ie + "|" + n(Et, qe, "[\\:\\@]"));
      return i(i(Ie + "|" + n(Et, qe, "[\\@]")) + "+"), i(i(Mt + "|" + n("[\\/\\?]", Yt)) + "*"), {
        NOT_SCHEME: new RegExp(n("[^]", U, ae, "[\\+\\-\\.]"), "g"),
        NOT_USERINFO: new RegExp(n("[^\\%\\:]", Et, qe), "g"),
        NOT_HOST: new RegExp(n("[^\\%\\[\\]\\:]", Et, qe), "g"),
        NOT_PATH: new RegExp(n("[^\\%\\/\\:\\@]", Et, qe), "g"),
        NOT_PATH_NOSCHEME: new RegExp(n("[^\\%\\/\\@]", Et, qe), "g"),
        NOT_QUERY: new RegExp(n("[^\\%]", Et, qe, "[\\:\\@\\/\\?]", Yt), "g"),
        NOT_FRAGMENT: new RegExp(n("[^\\%]", Et, qe, "[\\:\\@\\/\\?]"), "g"),
        ESCAPE: new RegExp(n("[^]", Et, qe), "g"),
        UNRESERVED: new RegExp(Et, "g"),
        OTHER_CHARS: new RegExp(n("[^\\%]", Et, dt), "g"),
        PCT_ENCODED: new RegExp(Ie, "g"),
        IPV4ADDRESS: new RegExp("^(" + or + ")$"),
        IPV6ADDRESS: new RegExp("^\\[?(" + qt + ")" + i(i("\\%25|\\%(?!" + we + "{2})") + "(" + xt + ")") + "?\\]?$")
        //RFC 6874, with relaxed parsing rules
      };
    }
    var c = u(false), f = u(true), h = /* @__PURE__ */ function() {
      function z(U, ae) {
        var we = [], Ie = true, Ye = false, qe = void 0;
        try {
          for (var dt = U[Symbol.iterator](), At; !(Ie = (At = dt.next()).done) && (we.push(At.value), !(ae && we.length === ae)); Ie = true)
            ;
        } catch (Yt) {
          Ye = true, qe = Yt;
        } finally {
          try {
            !Ie && dt.return && dt.return();
          } finally {
            if (Ye)
              throw qe;
          }
        }
        return we;
      }
      return function(U, ae) {
        if (Array.isArray(U))
          return U;
        if (Symbol.iterator in Object(U))
          return z(U, ae);
        throw new TypeError("Invalid attempt to destructure non-iterable instance");
      };
    }(), d = function(z) {
      if (Array.isArray(z)) {
        for (var U = 0, ae = Array(z.length); U < z.length; U++)
          ae[U] = z[U];
        return ae;
      } else
        return Array.from(z);
    }, p = 2147483647, m = 36, g = 1, v = 26, b = 38, y = 700, _ = 72, T = 128, E = "-", O = /^xn--/, S = /[^\0-\x7E]/, P = /[\x2E\u3002\uFF0E\uFF61]/g, C = {
      overflow: "Overflow: input needs wider integers to process",
      "not-basic": "Illegal input >= 0x80 (not a basic code point)",
      "invalid-input": "Invalid input"
    }, w = m - g, N = Math.floor, L = String.fromCharCode;
    function A(z) {
      throw new RangeError(C[z]);
    }
    function R(z, U) {
      for (var ae = [], we = z.length; we--; )
        ae[we] = U(z[we]);
      return ae;
    }
    function F(z, U) {
      var ae = z.split("@"), we = "";
      ae.length > 1 && (we = ae[0] + "@", z = ae[1]), z = z.replace(P, ".");
      var Ie = z.split("."), Ye = R(Ie, U).join(".");
      return we + Ye;
    }
    function $(z) {
      for (var U = [], ae = 0, we = z.length; ae < we; ) {
        var Ie = z.charCodeAt(ae++);
        if (Ie >= 55296 && Ie <= 56319 && ae < we) {
          var Ye = z.charCodeAt(ae++);
          (Ye & 64512) == 56320 ? U.push(((Ie & 1023) << 10) + (Ye & 1023) + 65536) : (U.push(Ie), ae--);
        } else
          U.push(Ie);
      }
      return U;
    }
    var K = function(U) {
      return String.fromCodePoint.apply(String, d(U));
    }, ie = function(U) {
      return U - 48 < 10 ? U - 22 : U - 65 < 26 ? U - 65 : U - 97 < 26 ? U - 97 : m;
    }, J = function(U, ae) {
      return U + 22 + 75 * (U < 26) - ((ae != 0) << 5);
    }, pe = function(U, ae, we) {
      var Ie = 0;
      for (
        U = we ? N(U / y) : U >> 1, U += N(U / ae);
        /* no initialization */
        U > w * v >> 1;
        Ie += m
      )
        U = N(U / w);
      return N(Ie + (w + 1) * U / (U + b));
    }, oe = function(U) {
      var ae = [], we = U.length, Ie = 0, Ye = T, qe = _, dt = U.lastIndexOf(E);
      dt < 0 && (dt = 0);
      for (var At = 0; At < dt; ++At)
        U.charCodeAt(At) >= 128 && A("not-basic"), ae.push(U.charCodeAt(At));
      for (var Yt = dt > 0 ? dt + 1 : 0; Yt < we; ) {
        for (
          var Et = Ie, Ut = 1, or = m;
          ;
          /* no condition */
          or += m
        ) {
          Yt >= we && A("invalid-input");
          var pt = ie(U.charCodeAt(Yt++));
          (pt >= m || pt > N((p - Ie) / Ut)) && A("overflow"), Ie += pt * Ut;
          var zt = or <= qe ? g : or >= qe + v ? v : or - qe;
          if (pt < zt)
            break;
          var ar = m - zt;
          Ut > N(p / ar) && A("overflow"), Ut *= ar;
        }
        var cr = ae.length + 1;
        qe = pe(Ie - Et, cr, Et == 0), N(Ie / cr) > p - Ye && A("overflow"), Ye += N(Ie / cr), Ie %= cr, ae.splice(Ie++, 0, Ye);
      }
      return String.fromCodePoint.apply(String, ae);
    }, q = function(U) {
      var ae = [];
      U = $(U);
      var we = U.length, Ie = T, Ye = 0, qe = _, dt = true, At = false, Yt = void 0;
      try {
        for (var Et = U[Symbol.iterator](), Ut; !(dt = (Ut = Et.next()).done); dt = true) {
          var or = Ut.value;
          or < 128 && ae.push(L(or));
        }
      } catch (Js) {
        At = true, Yt = Js;
      } finally {
        try {
          !dt && Et.return && Et.return();
        } finally {
          if (At)
            throw Yt;
        }
      }
      var pt = ae.length, zt = pt;
      for (pt && ae.push(E); zt < we; ) {
        var ar = p, cr = true, Cr = false, zn = void 0;
        try {
          for (var Xe = U[Symbol.iterator](), it; !(cr = (it = Xe.next()).done); cr = true) {
            var Rt = it.value;
            Rt >= Ie && Rt < ar && (ar = Rt);
          }
        } catch (Js) {
          Cr = true, zn = Js;
        } finally {
          try {
            !cr && Xe.return && Xe.return();
          } finally {
            if (Cr)
              throw zn;
          }
        }
        var Ot = zt + 1;
        ar - Ie > N((p - Ye) / Ot) && A("overflow"), Ye += (ar - Ie) * Ot, Ie = ar;
        var vt = true, qt = false, xt = void 0;
        try {
          for (var Mt = U[Symbol.iterator](), Kt; !(vt = (Kt = Mt.next()).done); vt = true) {
            var ur = Kt.value;
            if (ur < Ie && ++Ye > p && A("overflow"), ur == Ie) {
              for (
                var hr = Ye, Cn = m;
                ;
                /* no condition */
                Cn += m
              ) {
                var oo = Cn <= qe ? g : Cn >= qe + v ? v : Cn - qe;
                if (hr < oo)
                  break;
                var Qs = hr - oo, Pp = m - oo;
                ae.push(L(J(oo + Qs % Pp, 0))), hr = N(Qs / Pp);
              }
              ae.push(L(J(hr, 0))), qe = pe(Ye, Ot, zt == pt), Ye = 0, ++zt;
            }
          }
        } catch (Js) {
          qt = true, xt = Js;
        } finally {
          try {
            !vt && Mt.return && Mt.return();
          } finally {
            if (qt)
              throw xt;
          }
        }
        ++Ye, ++Ie;
      }
      return ae.join("");
    }, W = function(U) {
      return F(U, function(ae) {
        return O.test(ae) ? oe(ae.slice(4).toLowerCase()) : ae;
      });
    }, se = function(U) {
      return F(U, function(ae) {
        return S.test(ae) ? "xn--" + q(ae) : ae;
      });
    }, Te = {
      /**
       * A string representing the current Punycode.js version number.
       * @memberOf punycode
       * @type String
       */
      version: "2.1.0",
      /**
       * An object of methods to convert from JavaScript's internal character
       * representation (UCS-2) to Unicode code points, and back.
       * @see <https://mathiasbynens.be/notes/javascript-encoding>
       * @memberOf punycode
       * @type Object
       */
      ucs2: {
        decode: $,
        encode: K
      },
      decode: oe,
      encode: q,
      toASCII: se,
      toUnicode: W
    }, Ae = {};
    function Re(z) {
      var U = z.charCodeAt(0), ae = void 0;
      return U < 16 ? ae = "%0" + U.toString(16).toUpperCase() : U < 128 ? ae = "%" + U.toString(16).toUpperCase() : U < 2048 ? ae = "%" + (U >> 6 | 192).toString(16).toUpperCase() + "%" + (U & 63 | 128).toString(16).toUpperCase() : ae = "%" + (U >> 12 | 224).toString(16).toUpperCase() + "%" + (U >> 6 & 63 | 128).toString(16).toUpperCase() + "%" + (U & 63 | 128).toString(16).toUpperCase(), ae;
    }
    function Ee(z) {
      for (var U = "", ae = 0, we = z.length; ae < we; ) {
        var Ie = parseInt(z.substr(ae + 1, 2), 16);
        if (Ie < 128)
          U += String.fromCharCode(Ie), ae += 3;
        else if (Ie >= 194 && Ie < 224) {
          if (we - ae >= 6) {
            var Ye = parseInt(z.substr(ae + 4, 2), 16);
            U += String.fromCharCode((Ie & 31) << 6 | Ye & 63);
          } else
            U += z.substr(ae, 6);
          ae += 6;
        } else if (Ie >= 224) {
          if (we - ae >= 9) {
            var qe = parseInt(z.substr(ae + 4, 2), 16), dt = parseInt(z.substr(ae + 7, 2), 16);
            U += String.fromCharCode((Ie & 15) << 12 | (qe & 63) << 6 | dt & 63);
          } else
            U += z.substr(ae, 9);
          ae += 9;
        } else
          U += z.substr(ae, 3), ae += 3;
      }
      return U;
    }
    function Me(z, U) {
      function ae(we) {
        var Ie = Ee(we);
        return Ie.match(U.UNRESERVED) ? Ie : we;
      }
      return z.scheme && (z.scheme = String(z.scheme).replace(U.PCT_ENCODED, ae).toLowerCase().replace(U.NOT_SCHEME, "")), z.userinfo !== void 0 && (z.userinfo = String(z.userinfo).replace(U.PCT_ENCODED, ae).replace(U.NOT_USERINFO, Re).replace(U.PCT_ENCODED, a)), z.host !== void 0 && (z.host = String(z.host).replace(U.PCT_ENCODED, ae).toLowerCase().replace(U.NOT_HOST, Re).replace(U.PCT_ENCODED, a)), z.path !== void 0 && (z.path = String(z.path).replace(U.PCT_ENCODED, ae).replace(z.scheme ? U.NOT_PATH : U.NOT_PATH_NOSCHEME, Re).replace(U.PCT_ENCODED, a)), z.query !== void 0 && (z.query = String(z.query).replace(U.PCT_ENCODED, ae).replace(U.NOT_QUERY, Re).replace(U.PCT_ENCODED, a)), z.fragment !== void 0 && (z.fragment = String(z.fragment).replace(U.PCT_ENCODED, ae).replace(U.NOT_FRAGMENT, Re).replace(U.PCT_ENCODED, a)), z;
    }
    function Ne(z) {
      return z.replace(/^0*(.*)/, "$1") || "0";
    }
    function Oe(z, U) {
      var ae = z.match(U.IPV4ADDRESS) || [], we = h(ae, 2), Ie = we[1];
      return Ie ? Ie.split(".").map(Ne).join(".") : z;
    }
    function Fe(z, U) {
      var ae = z.match(U.IPV6ADDRESS) || [], we = h(ae, 3), Ie = we[1], Ye = we[2];
      if (Ie) {
        for (var qe = Ie.toLowerCase().split("::").reverse(), dt = h(qe, 2), At = dt[0], Yt = dt[1], Et = Yt ? Yt.split(":").map(Ne) : [], Ut = At.split(":").map(Ne), or = U.IPV4ADDRESS.test(Ut[Ut.length - 1]), pt = or ? 7 : 8, zt = Ut.length - pt, ar = Array(pt), cr = 0; cr < pt; ++cr)
          ar[cr] = Et[cr] || Ut[zt + cr] || "";
        or && (ar[pt - 1] = Oe(ar[pt - 1], U));
        var Cr = ar.reduce(function(Ot, vt, qt) {
          if (!vt || vt === "0") {
            var xt = Ot[Ot.length - 1];
            xt && xt.index + xt.length === qt ? xt.length++ : Ot.push({
              index: qt,
              length: 1
            });
          }
          return Ot;
        }, []), zn = Cr.sort(function(Ot, vt) {
          return vt.length - Ot.length;
        })[0], Xe = void 0;
        if (zn && zn.length > 1) {
          var it = ar.slice(0, zn.index), Rt = ar.slice(zn.index + zn.length);
          Xe = it.join(":") + "::" + Rt.join(":");
        } else
          Xe = ar.join(":");
        return Ye && (Xe += "%" + Ye), Xe;
      } else
        return z;
    }
    var Ue = /^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i, et = "".match(/(){0}/)[1] === void 0;
    function ot(z) {
      var U = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {}, ae = {}, we = U.iri !== false ? f : c;
      U.reference === "suffix" && (z = (U.scheme ? U.scheme + ":" : "") + "//" + z);
      var Ie = z.match(Ue);
      if (Ie) {
        et ? (ae.scheme = Ie[1], ae.userinfo = Ie[3], ae.host = Ie[4], ae.port = parseInt(Ie[5], 10), ae.path = Ie[6] || "", ae.query = Ie[7], ae.fragment = Ie[8], isNaN(ae.port) && (ae.port = Ie[5])) : (ae.scheme = Ie[1] || void 0, ae.userinfo = z.indexOf("@") !== -1 ? Ie[3] : void 0, ae.host = z.indexOf("//") !== -1 ? Ie[4] : void 0, ae.port = parseInt(Ie[5], 10), ae.path = Ie[6] || "", ae.query = z.indexOf("?") !== -1 ? Ie[7] : void 0, ae.fragment = z.indexOf("#") !== -1 ? Ie[8] : void 0, isNaN(ae.port) && (ae.port = z.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/) ? Ie[4] : void 0)), ae.host && (ae.host = Fe(Oe(ae.host, we), we)), ae.scheme === void 0 && ae.userinfo === void 0 && ae.host === void 0 && ae.port === void 0 && !ae.path && ae.query === void 0 ? ae.reference = "same-document" : ae.scheme === void 0 ? ae.reference = "relative" : ae.fragment === void 0 ? ae.reference = "absolute" : ae.reference = "uri", U.reference && U.reference !== "suffix" && U.reference !== ae.reference && (ae.error = ae.error || "URI is not a " + U.reference + " reference.");
        var Ye = Ae[(U.scheme || ae.scheme || "").toLowerCase()];
        if (!U.unicodeSupport && (!Ye || !Ye.unicodeSupport)) {
          if (ae.host && (U.domainHost || Ye && Ye.domainHost))
            try {
              ae.host = Te.toASCII(ae.host.replace(we.PCT_ENCODED, Ee).toLowerCase());
            } catch (qe) {
              ae.error = ae.error || "Host's domain name can not be converted to ASCII via punycode: " + qe;
            }
          Me(ae, c);
        } else
          Me(ae, we);
        Ye && Ye.parse && Ye.parse(ae, U);
      } else
        ae.error = ae.error || "URI can not be parsed.";
      return ae;
    }
    function Ke(z, U) {
      var ae = U.iri !== false ? f : c, we = [];
      return z.userinfo !== void 0 && (we.push(z.userinfo), we.push("@")), z.host !== void 0 && we.push(Fe(Oe(String(z.host), ae), ae).replace(ae.IPV6ADDRESS, function(Ie, Ye, qe) {
        return "[" + Ye + (qe ? "%25" + qe : "") + "]";
      })), (typeof z.port == "number" || typeof z.port == "string") && (we.push(":"), we.push(String(z.port))), we.length ? we.join("") : void 0;
    }
    var ht = /^\.\.?\//, bt = /^\/\.(\/|$)/, $t = /^\/\.\.(\/|$)/, rn = /^\/?(?:.|\n)*?(?=\/|$)/;
    function Ht(z) {
      for (var U = []; z.length; )
        if (z.match(ht))
          z = z.replace(ht, "");
        else if (z.match(bt))
          z = z.replace(bt, "/");
        else if (z.match($t))
          z = z.replace($t, "/"), U.pop();
        else if (z === "." || z === "..")
          z = "";
        else {
          var ae = z.match(rn);
          if (ae) {
            var we = ae[0];
            z = z.slice(we.length), U.push(we);
          } else
            throw new Error("Unexpected dot segment condition");
        }
      return U.join("");
    }
    function xe(z) {
      var U = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {}, ae = U.iri ? f : c, we = [], Ie = Ae[(U.scheme || z.scheme || "").toLowerCase()];
      if (Ie && Ie.serialize && Ie.serialize(z, U), z.host && !ae.IPV6ADDRESS.test(z.host)) {
        if (U.domainHost || Ie && Ie.domainHost)
          try {
            z.host = U.iri ? Te.toUnicode(z.host) : Te.toASCII(z.host.replace(ae.PCT_ENCODED, Ee).toLowerCase());
          } catch (dt) {
            z.error = z.error || "Host's domain name can not be converted to " + (U.iri ? "Unicode" : "ASCII") + " via punycode: " + dt;
          }
      }
      Me(z, ae), U.reference !== "suffix" && z.scheme && (we.push(z.scheme), we.push(":"));
      var Ye = Ke(z, U);
      if (Ye !== void 0 && (U.reference !== "suffix" && we.push("//"), we.push(Ye), z.path && z.path.charAt(0) !== "/" && we.push("/")), z.path !== void 0) {
        var qe = z.path;
        !U.absolutePath && (!Ie || !Ie.absolutePath) && (qe = Ht(qe)), Ye === void 0 && (qe = qe.replace(/^\/\//, "/%2F")), we.push(qe);
      }
      return z.query !== void 0 && (we.push("?"), we.push(z.query)), z.fragment !== void 0 && (we.push("#"), we.push(z.fragment)), we.join("");
    }
    function ne(z, U) {
      var ae = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {}, we = arguments[3], Ie = {};
      return we || (z = ot(xe(z, ae), ae), U = ot(xe(U, ae), ae)), ae = ae || {}, !ae.tolerant && U.scheme ? (Ie.scheme = U.scheme, Ie.userinfo = U.userinfo, Ie.host = U.host, Ie.port = U.port, Ie.path = Ht(U.path || ""), Ie.query = U.query) : (U.userinfo !== void 0 || U.host !== void 0 || U.port !== void 0 ? (Ie.userinfo = U.userinfo, Ie.host = U.host, Ie.port = U.port, Ie.path = Ht(U.path || ""), Ie.query = U.query) : (U.path ? (U.path.charAt(0) === "/" ? Ie.path = Ht(U.path) : ((z.userinfo !== void 0 || z.host !== void 0 || z.port !== void 0) && !z.path ? Ie.path = "/" + U.path : z.path ? Ie.path = z.path.slice(0, z.path.lastIndexOf("/") + 1) + U.path : Ie.path = U.path, Ie.path = Ht(Ie.path)), Ie.query = U.query) : (Ie.path = z.path, U.query !== void 0 ? Ie.query = U.query : Ie.query = z.query), Ie.userinfo = z.userinfo, Ie.host = z.host, Ie.port = z.port), Ie.scheme = z.scheme), Ie.fragment = U.fragment, Ie;
    }
    function ce(z, U, ae) {
      var we = l({
        scheme: "null"
      }, ae);
      return xe(ne(ot(z, we), ot(U, we), we, true), we);
    }
    function _e(z, U) {
      return typeof z == "string" ? z = xe(ot(z, U), U) : o(z) === "object" && (z = ot(xe(z, U), U)), z;
    }
    function ee(z, U, ae) {
      return typeof z == "string" ? z = xe(ot(z, ae), ae) : o(z) === "object" && (z = xe(z, ae)), typeof U == "string" ? U = xe(ot(U, ae), ae) : o(U) === "object" && (U = xe(U, ae)), z === U;
    }
    function de(z, U) {
      return z && z.toString().replace(!U || !U.iri ? c.ESCAPE : f.ESCAPE, Re);
    }
    function Ce(z, U) {
      return z && z.toString().replace(!U || !U.iri ? c.PCT_ENCODED : f.PCT_ENCODED, Ee);
    }
    var ke = {
      scheme: "http",
      domainHost: true,
      parse: function(U, ae) {
        return U.host || (U.error = U.error || "HTTP URIs must have a host."), U;
      },
      serialize: function(U, ae) {
        var we = String(U.scheme).toLowerCase() === "https";
        return (U.port === (we ? 443 : 80) || U.port === "") && (U.port = void 0), U.path || (U.path = "/"), U;
      }
    }, Ve = {
      scheme: "https",
      domainHost: ke.domainHost,
      parse: ke.parse,
      serialize: ke.serialize
    };
    function We(z) {
      return typeof z.secure == "boolean" ? z.secure : String(z.scheme).toLowerCase() === "wss";
    }
    var Ze = {
      scheme: "ws",
      domainHost: true,
      parse: function(U, ae) {
        var we = U;
        return we.secure = We(we), we.resourceName = (we.path || "/") + (we.query ? "?" + we.query : ""), we.path = void 0, we.query = void 0, we;
      },
      serialize: function(U, ae) {
        if ((U.port === (We(U) ? 443 : 80) || U.port === "") && (U.port = void 0), typeof U.secure == "boolean" && (U.scheme = U.secure ? "wss" : "ws", U.secure = void 0), U.resourceName) {
          var we = U.resourceName.split("?"), Ie = h(we, 2), Ye = Ie[0], qe = Ie[1];
          U.path = Ye && Ye !== "/" ? Ye : void 0, U.query = qe, U.resourceName = void 0;
        }
        return U.fragment = void 0, U;
      }
    }, rt = {
      scheme: "wss",
      domainHost: Ze.domainHost,
      parse: Ze.parse,
      serialize: Ze.serialize
    }, ut = {}, Dt = "[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]", gt = "[0-9A-Fa-f]", pr = i(i("%[EFef]" + gt + "%" + gt + gt + "%" + gt + gt) + "|" + i("%[89A-Fa-f]" + gt + "%" + gt + gt) + "|" + i("%" + gt + gt)), H = "[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]", x = "[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]", B = n(x, '[\\"\\\\]'), Q = "[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]", ge = new RegExp(Dt, "g"), Z = new RegExp(pr, "g"), Y = new RegExp(n("[^]", H, "[\\.]", '[\\"]', B), "g"), j = new RegExp(n("[^]", Dt, Q), "g"), G = j;
    function ue(z) {
      var U = Ee(z);
      return U.match(ge) ? U : z;
    }
    var ye = {
      scheme: "mailto",
      parse: function(U, ae) {
        var we = U, Ie = we.to = we.path ? we.path.split(",") : [];
        if (we.path = void 0, we.query) {
          for (var Ye = false, qe = {}, dt = we.query.split("&"), At = 0, Yt = dt.length; At < Yt; ++At) {
            var Et = dt[At].split("=");
            switch (Et[0]) {
              case "to":
                for (var Ut = Et[1].split(","), or = 0, pt = Ut.length; or < pt; ++or)
                  Ie.push(Ut[or]);
                break;
              case "subject":
                we.subject = Ce(Et[1], ae);
                break;
              case "body":
                we.body = Ce(Et[1], ae);
                break;
              default:
                Ye = true, qe[Ce(Et[0], ae)] = Ce(Et[1], ae);
                break;
            }
          }
          Ye && (we.headers = qe);
        }
        we.query = void 0;
        for (var zt = 0, ar = Ie.length; zt < ar; ++zt) {
          var cr = Ie[zt].split("@");
          if (cr[0] = Ce(cr[0]), ae.unicodeSupport)
            cr[1] = Ce(cr[1], ae).toLowerCase();
          else
            try {
              cr[1] = Te.toASCII(Ce(cr[1], ae).toLowerCase());
            } catch (Cr) {
              we.error = we.error || "Email address's domain name can not be converted to ASCII via punycode: " + Cr;
            }
          Ie[zt] = cr.join("@");
        }
        return we;
      },
      serialize: function(U, ae) {
        var we = U, Ie = s(U.to);
        if (Ie) {
          for (var Ye = 0, qe = Ie.length; Ye < qe; ++Ye) {
            var dt = String(Ie[Ye]), At = dt.lastIndexOf("@"), Yt = dt.slice(0, At).replace(Z, ue).replace(Z, a).replace(Y, Re), Et = dt.slice(At + 1);
            try {
              Et = ae.iri ? Te.toUnicode(Et) : Te.toASCII(Ce(Et, ae).toLowerCase());
            } catch (zt) {
              we.error = we.error || "Email address's domain name can not be converted to " + (ae.iri ? "Unicode" : "ASCII") + " via punycode: " + zt;
            }
            Ie[Ye] = Yt + "@" + Et;
          }
          we.path = Ie.join(",");
        }
        var Ut = U.headers = U.headers || {};
        U.subject && (Ut.subject = U.subject), U.body && (Ut.body = U.body);
        var or = [];
        for (var pt in Ut)
          Ut[pt] !== ut[pt] && or.push(pt.replace(Z, ue).replace(Z, a).replace(j, Re) + "=" + Ut[pt].replace(Z, ue).replace(Z, a).replace(G, Re));
        return or.length && (we.query = or.join("&")), we;
      }
    }, ve = /^([^\:]+)\:(.*)/, Se = {
      scheme: "urn",
      parse: function(U, ae) {
        var we = U.path && U.path.match(ve), Ie = U;
        if (we) {
          var Ye = ae.scheme || Ie.scheme || "urn", qe = we[1].toLowerCase(), dt = we[2], At = Ye + ":" + (ae.nid || qe), Yt = Ae[At];
          Ie.nid = qe, Ie.nss = dt, Ie.path = void 0, Yt && (Ie = Yt.parse(Ie, ae));
        } else
          Ie.error = Ie.error || "URN can not be parsed.";
        return Ie;
      },
      serialize: function(U, ae) {
        var we = ae.scheme || U.scheme || "urn", Ie = U.nid, Ye = we + ":" + (ae.nid || Ie), qe = Ae[Ye];
        qe && (U = qe.serialize(U, ae));
        var dt = U, At = U.nss;
        return dt.path = (Ie || ae.nid) + ":" + At, dt;
      }
    }, me = /^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/, be = {
      scheme: "urn:uuid",
      parse: function(U, ae) {
        var we = U;
        return we.uuid = we.nss, we.nss = void 0, !ae.tolerant && (!we.uuid || !we.uuid.match(me)) && (we.error = we.error || "UUID is not valid."), we;
      },
      serialize: function(U, ae) {
        var we = U;
        return we.nss = (U.uuid || "").toLowerCase(), we;
      }
    };
    Ae[ke.scheme] = ke, Ae[Ve.scheme] = Ve, Ae[Ze.scheme] = Ze, Ae[rt.scheme] = rt, Ae[ye.scheme] = ye, Ae[Se.scheme] = Se, Ae[be.scheme] = be, r.SCHEMES = Ae, r.pctEncChar = Re, r.pctDecChars = Ee, r.parse = ot, r.removeDotSegments = Ht, r.serialize = xe, r.resolveComponents = ne, r.resolve = ce, r.normalize = _e, r.equal = ee, r.escapeComponent = de, r.unescapeComponent = Ce, Object.defineProperty(r, "__esModule", {
      value: true
    });
  });
})(Yk, Yk.exports);
var Htt = Yk.exports;
var kL = function e12(t, r) {
  if (t === r)
    return true;
  if (t && r && typeof t == "object" && typeof r == "object") {
    if (t.constructor !== r.constructor)
      return false;
    var n, i, o;
    if (Array.isArray(t)) {
      if (n = t.length, n != r.length)
        return false;
      for (i = n; i-- !== 0; )
        if (!e12(t[i], r[i]))
          return false;
      return true;
    }
    if (t.constructor === RegExp)
      return t.source === r.source && t.flags === r.flags;
    if (t.valueOf !== Object.prototype.valueOf)
      return t.valueOf() === r.valueOf();
    if (t.toString !== Object.prototype.toString)
      return t.toString() === r.toString();
    if (o = Object.keys(t), n = o.length, n !== Object.keys(r).length)
      return false;
    for (i = n; i-- !== 0; )
      if (!Object.prototype.hasOwnProperty.call(r, o[i]))
        return false;
    for (i = n; i-- !== 0; ) {
      var a = o[i];
      if (!e12(t[a], r[a]))
        return false;
    }
    return true;
  }
  return t !== t && r !== r;
};
var Utt = function(t) {
  for (var r = 0, n = t.length, i = 0, o; i < n; )
    r++, o = t.charCodeAt(i++), o >= 55296 && o <= 56319 && i < n && (o = t.charCodeAt(i), (o & 64512) == 56320 && i++);
  return r;
};
var Ip = {
  copy: jtt,
  checkDataType: qk,
  checkDataTypes: Gtt,
  coerceToTypes: ztt,
  toHash: DL,
  getProperty: RL,
  escapeQuotes: NL,
  equal: kL,
  ucs2length: Utt,
  varOccurences: Wtt,
  varReplace: Ytt,
  schemaHasRules: qtt,
  schemaHasRulesExcept: Ktt,
  schemaUnknownRules: Ztt,
  toQuotedString: Kk,
  getPathExpr: Qtt,
  getPath: Jtt,
  getData: rrt,
  unescapeFragment: nrt,
  unescapeJsonPointer: LL,
  escapeFragment: irt,
  escapeJsonPointer: ML
};
function jtt(e13, t) {
  t = t || {};
  for (var r in e13)
    t[r] = e13[r];
  return t;
}
function qk(e13, t, r, n) {
  var i = n ? " !== " : " === ", o = n ? " || " : " && ", a = n ? "!" : "", s = n ? "" : "!";
  switch (e13) {
    case "null":
      return t + i + "null";
    case "array":
      return a + "Array.isArray(" + t + ")";
    case "object":
      return "(" + a + t + o + "typeof " + t + i + '"object"' + o + s + "Array.isArray(" + t + "))";
    case "integer":
      return "(typeof " + t + i + '"number"' + o + s + "(" + t + " % 1)" + o + t + i + t + (r ? o + a + "isFinite(" + t + ")" : "") + ")";
    case "number":
      return "(typeof " + t + i + '"' + e13 + '"' + (r ? o + a + "isFinite(" + t + ")" : "") + ")";
    default:
      return "typeof " + t + i + '"' + e13 + '"';
  }
}
function Gtt(e13, t, r) {
  switch (e13.length) {
    case 1:
      return qk(e13[0], t, r, true);
    default:
      var n = "", i = DL(e13);
      i.array && i.object && (n = i.null ? "(" : "(!" + t + " || ", n += "typeof " + t + ' !== "object")', delete i.null, delete i.array, delete i.object), i.number && delete i.integer;
      for (var o in i)
        n += (n ? " && " : "") + qk(o, t, r, true);
      return n;
  }
}
var P4 = DL(["string", "number", "integer", "boolean", "null"]);
function ztt(e13, t) {
  if (Array.isArray(t)) {
    for (var r = [], n = 0; n < t.length; n++) {
      var i = t[n];
      (P4[i] || e13 === "array" && i === "array") && (r[r.length] = i);
    }
    if (r.length)
      return r;
  } else {
    if (P4[t])
      return [t];
    if (e13 === "array" && t === "array")
      return ["array"];
  }
}
function DL(e13) {
  for (var t = {}, r = 0; r < e13.length; r++)
    t[e13[r]] = true;
  return t;
}
var Vtt = /^[a-z$_][a-z$_0-9]*$/i;
var Xtt = /'|\\/g;
function RL(e13) {
  return typeof e13 == "number" ? "[" + e13 + "]" : Vtt.test(e13) ? "." + e13 : "['" + NL(e13) + "']";
}
function NL(e13) {
  return e13.replace(Xtt, "\\$&").replace(/\n/g, "\\n").replace(/\r/g, "\\r").replace(/\f/g, "\\f").replace(/\t/g, "\\t");
}
function Wtt(e13, t) {
  t += "[^0-9]";
  var r = e13.match(new RegExp(t, "g"));
  return r ? r.length : 0;
}
function Ytt(e13, t, r) {
  return t += "([^0-9])", r = r.replace(/\$/g, "$$$$"), e13.replace(new RegExp(t, "g"), r + "$1");
}
function qtt(e13, t) {
  if (typeof e13 == "boolean")
    return !e13;
  for (var r in e13)
    if (t[r])
      return true;
}
function Ktt(e13, t, r) {
  if (typeof e13 == "boolean")
    return !e13 && r != "not";
  for (var n in e13)
    if (n != r && t[n])
      return true;
}
function Ztt(e13, t) {
  if (typeof e13 != "boolean") {
    for (var r in e13)
      if (!t[r])
        return r;
  }
}
function Kk(e13) {
  return "'" + NL(e13) + "'";
}
function Qtt(e13, t, r, n) {
  var i = r ? "'/' + " + t + (n ? "" : ".replace(/~/g, '~0').replace(/\\//g, '~1')") : n ? "'[' + " + t + " + ']'" : "'[\\'' + " + t + " + '\\']'";
  return bQ(e13, i);
}
function Jtt(e13, t, r) {
  var n = Kk(r ? "/" + ML(t) : RL(t));
  return bQ(e13, n);
}
var ert = /^\/(?:[^~]|~0|~1)*$/;
var trt = /^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;
function rrt(e13, t, r) {
  var n, i, o, a;
  if (e13 === "")
    return "rootData";
  if (e13[0] == "/") {
    if (!ert.test(e13))
      throw new Error("Invalid JSON-pointer: " + e13);
    i = e13, o = "rootData";
  } else {
    if (a = e13.match(trt), !a)
      throw new Error("Invalid JSON-pointer: " + e13);
    if (n = +a[1], i = a[2], i == "#") {
      if (n >= t)
        throw new Error("Cannot access property/index " + n + " levels up, current level is " + t);
      return r[t - n];
    }
    if (n > t)
      throw new Error("Cannot access data " + n + " levels up, current level is " + t);
    if (o = "data" + (t - n || ""), !i)
      return o;
  }
  for (var s = o, l = i.split("/"), u = 0; u < l.length; u++) {
    var c = l[u];
    c && (o += RL(LL(c)), s += " && " + o);
  }
  return s;
}
function bQ(e13, t) {
  return e13 == '""' ? t : (e13 + " + " + t).replace(/([^\\])' \+ '/g, "$1");
}
function nrt(e13) {
  return LL(decodeURIComponent(e13));
}
function irt(e13) {
  return encodeURIComponent(ML(e13));
}
function ML(e13) {
  return e13.replace(/~/g, "~0").replace(/\//g, "~1");
}
function LL(e13) {
  return e13.replace(/~1/g, "/").replace(/~0/g, "~");
}
var ort = Ip;
var TQ = art;
function art(e13) {
  ort.copy(e13, this);
}
var EQ = { exports: {} };
var Ml = EQ.exports = function(e13, t, r) {
  typeof t == "function" && (r = t, t = {}), r = t.cb || r;
  var n = typeof r == "function" ? r : r.pre || function() {
  }, i = r.post || function() {
  };
  Vb(t, n, i, e13, "", e13);
};
Ml.keywords = {
  additionalItems: true,
  items: true,
  contains: true,
  additionalProperties: true,
  propertyNames: true,
  not: true
};
Ml.arrayKeywords = {
  items: true,
  allOf: true,
  anyOf: true,
  oneOf: true
};
Ml.propsKeywords = {
  definitions: true,
  properties: true,
  patternProperties: true,
  dependencies: true
};
Ml.skipKeywords = {
  default: true,
  enum: true,
  const: true,
  required: true,
  maximum: true,
  minimum: true,
  exclusiveMaximum: true,
  exclusiveMinimum: true,
  multipleOf: true,
  maxLength: true,
  minLength: true,
  pattern: true,
  format: true,
  maxItems: true,
  minItems: true,
  uniqueItems: true,
  maxProperties: true,
  minProperties: true
};
function Vb(e13, t, r, n, i, o, a, s, l, u) {
  if (n && typeof n == "object" && !Array.isArray(n)) {
    t(n, i, o, a, s, l, u);
    for (var c in n) {
      var f = n[c];
      if (Array.isArray(f)) {
        if (c in Ml.arrayKeywords)
          for (var h = 0; h < f.length; h++)
            Vb(e13, t, r, f[h], i + "/" + c + "/" + h, o, i, c, n, h);
      } else if (c in Ml.propsKeywords) {
        if (f && typeof f == "object")
          for (var d in f)
            Vb(e13, t, r, f[d], i + "/" + c + "/" + srt(d), o, i, c, n, d);
      } else (c in Ml.keywords || e13.allKeys && !(c in Ml.skipKeywords)) && Vb(e13, t, r, f, i + "/" + c, o, i, c, n);
    }
    r(n, i, o, a, s, l, u);
  }
}
function srt(e13) {
  return e13.replace(/~/g, "~0").replace(/\//g, "~1");
}
var lrt = EQ.exports;
var wy = Htt;
var C4 = kL;
var NS = Ip;
var TE = TQ;
var crt = lrt;
var BL = fc;
fc.normalizeId = Vl;
fc.fullPath = EE;
fc.url = SE;
fc.ids = prt;
fc.inlineRef = Zk;
fc.schema = MS;
function fc(e13, t, r) {
  var n = this._refs[r];
  if (typeof n == "string")
    if (this._refs[n])
      n = this._refs[n];
    else
      return fc.call(this, e13, t, n);
  if (n = n || this._schemas[r], n instanceof TE)
    return Zk(n.schema, this._opts.inlineRefs) ? n.schema : n.validate || this._compile(n);
  var i = MS.call(this, t, r), o, a, s;
  return i && (o = i.schema, t = i.root, s = i.baseId), o instanceof TE ? a = o.validate || e13.call(this, o.schema, t, void 0, s) : o !== void 0 && (a = Zk(o, this._opts.inlineRefs) ? o : e13.call(this, o, t, void 0, s)), a;
}
function MS(e13, t) {
  var r = wy.parse(t), n = wQ(r), i = EE(this._getId(e13.schema));
  if (Object.keys(e13.schema).length === 0 || n !== i) {
    var o = Vl(n), a = this._refs[o];
    if (typeof a == "string")
      return urt.call(this, e13, a, r);
    if (a instanceof TE)
      a.validate || this._compile(a), e13 = a;
    else if (a = this._schemas[o], a instanceof TE) {
      if (a.validate || this._compile(a), o == Vl(t))
        return {
          schema: a,
          root: e13,
          baseId: i
        };
      e13 = a;
    } else
      return;
    if (!e13.schema)
      return;
    i = EE(this._getId(e13.schema));
  }
  return SQ.call(this, r, i, e13.schema, e13);
}
function urt(e13, t, r) {
  var n = MS.call(this, e13, t);
  if (n) {
    var i = n.schema, o = n.baseId;
    e13 = n.root;
    var a = this._getId(i);
    return a && (o = SE(o, a)), SQ.call(this, r, o, i, e13);
  }
}
var hrt = NS.toHash(["properties", "patternProperties", "enum", "dependencies", "definitions"]);
function SQ(e13, t, r, n) {
  if (e13.fragment = e13.fragment || "", e13.fragment.slice(0, 1) == "/") {
    for (var i = e13.fragment.split("/"), o = 1; o < i.length; o++) {
      var a = i[o];
      if (a) {
        if (a = NS.unescapeFragment(a), r = r[a], r === void 0)
          break;
        var s;
        if (!hrt[a] && (s = this._getId(r), s && (t = SE(t, s)), r.$ref)) {
          var l = SE(t, r.$ref), u = MS.call(this, n, l);
          u && (r = u.schema, n = u.root, t = u.baseId);
        }
      }
    }
    if (r !== void 0 && r !== n.schema)
      return {
        schema: r,
        root: n,
        baseId: t
      };
  }
}
var frt = NS.toHash(["type", "format", "pattern", "maxLength", "minLength", "maxProperties", "minProperties", "maxItems", "minItems", "maximum", "minimum", "uniqueItems", "multipleOf", "required", "enum"]);
function Zk(e13, t) {
  if (t === false)
    return false;
  if (t === void 0 || t === true)
    return Qk(e13);
  if (t)
    return Jk(e13) <= t;
}
function Qk(e13) {
  var t;
  if (Array.isArray(e13)) {
    for (var r = 0; r < e13.length; r++)
      if (t = e13[r], typeof t == "object" && !Qk(t))
        return false;
  } else
    for (var n in e13)
      if (n == "$ref" || (t = e13[n], typeof t == "object" && !Qk(t)))
        return false;
  return true;
}
function Jk(e13) {
  var t = 0, r;
  if (Array.isArray(e13)) {
    for (var n = 0; n < e13.length; n++)
      if (r = e13[n], typeof r == "object" && (t += Jk(r)), t == 1 / 0)
        return 1 / 0;
  } else
    for (var i in e13) {
      if (i == "$ref")
        return 1 / 0;
      if (frt[i])
        t++;
      else if (r = e13[i], typeof r == "object" && (t += Jk(r) + 1), t == 1 / 0)
        return 1 / 0;
    }
  return t;
}
function EE(e13, t) {
  t !== false && (e13 = Vl(e13));
  var r = wy.parse(e13);
  return wQ(r);
}
function wQ(e13) {
  return wy.serialize(e13).split("#")[0] + "#";
}
var drt = /#\/?$/;
function Vl(e13) {
  return e13 ? e13.replace(drt, "") : "";
}
function SE(e13, t) {
  return t = Vl(t), wy.resolve(e13, t);
}
function prt(e13) {
  var t = Vl(this._getId(e13)), r = {
    "": t
  }, n = {
    "": EE(t, false)
  }, i = {}, o = this;
  return crt(e13, {
    allKeys: true
  }, function(a, s, l, u, c, f, h) {
    if (s !== "") {
      var d = o._getId(a), p = r[u], m = n[u] + "/" + c;
      if (h !== void 0 && (m += "/" + (typeof h == "number" ? h : NS.escapeFragment(h))), typeof d == "string") {
        d = p = Vl(p ? wy.resolve(p, d) : d);
        var g = o._refs[d];
        if (typeof g == "string" && (g = o._refs[g]), g && g.schema) {
          if (!C4(a, g.schema))
            throw new Error('id "' + d + '" resolves to more than one schema');
        } else if (d != Vl(m))
          if (d[0] == "#") {
            if (i[d] && !C4(a, i[d]))
              throw new Error('id "' + d + '" resolves to more than one schema');
            i[d] = a;
          } else
            o._refs[d] = m;
      }
      r[s] = p, n[s] = m;
    }
  }), i;
}
var tI = BL;
var FL = {
  Validation: x4(mrt),
  MissingRef: x4($L)
};
function mrt(e13) {
  this.message = "validation failed", this.errors = e13, this.ajv = this.validation = true;
}
$L.message = function(e13, t) {
  return "can't resolve reference " + t + " from id " + e13;
};
function $L(e13, t, r) {
  this.message = r || $L.message(e13, t), this.missingRef = tI.url(e13, t), this.missingSchema = tI.normalizeId(tI.fullPath(this.missingRef));
}
function x4(e13) {
  return e13.prototype = Object.create(Error.prototype), e13.prototype.constructor = e13, e13;
}
var AQ = function(e13, t) {
  t || (t = {}), typeof t == "function" && (t = {
    cmp: t
  });
  var r = typeof t.cycles == "boolean" ? t.cycles : false, n = t.cmp && /* @__PURE__ */ function(o) {
    return function(a) {
      return function(s, l) {
        var u = {
          key: s,
          value: a[s]
        }, c = {
          key: l,
          value: a[l]
        };
        return o(u, c);
      };
    };
  }(t.cmp), i = [];
  return function o(a) {
    if (a && a.toJSON && typeof a.toJSON == "function" && (a = a.toJSON()), a !== void 0) {
      if (typeof a == "number")
        return isFinite(a) ? "" + a : "null";
      if (typeof a != "object")
        return JSON.stringify(a);
      var s, l;
      if (Array.isArray(a)) {
        for (l = "[", s = 0; s < a.length; s++)
          s && (l += ","), l += o(a[s]) || "null";
        return l + "]";
      }
      if (a === null)
        return "null";
      if (i.indexOf(a) !== -1) {
        if (r)
          return JSON.stringify("__cycle__");
        throw new TypeError("Converting circular structure to JSON");
      }
      var u = i.push(a) - 1, c = Object.keys(a).sort(n && n(a));
      for (l = "", s = 0; s < c.length; s++) {
        var f = c[s], h = o(a[f]);
        h && (l && (l += ","), l += JSON.stringify(f) + ":" + h);
      }
      return i.splice(u, 1), "{" + l + "}";
    }
  }(e13);
};
var OQ = function(t, r, n) {
  var i = "", o = t.schema.$async === true, a = t.util.schemaHasRulesExcept(t.schema, t.RULES.all, "$ref"), s = t.self._getId(t.schema);
  if (t.opts.strictKeywords) {
    var l = t.util.schemaUnknownRules(t.schema, t.RULES.keywords);
    if (l) {
      var u = "unknown keyword: " + l;
      if (t.opts.strictKeywords === "log")
        t.logger.warn(u);
      else
        throw new Error(u);
    }
  }
  if (t.isTop && (i += " var validate = ", o && (t.async = true, i += "async "), i += "function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ", s && (t.opts.sourceCode || t.opts.processCode) && (i += " " + ("/*# sourceURL=" + s + " */") + " ")), typeof t.schema == "boolean" || !(a || t.schema.$ref)) {
    var r = "false schema", c = t.level, f = t.dataLevel, h = t.schema[r], d = t.schemaPath + t.util.getProperty(r), p = t.errSchemaPath + "/" + r, T = !t.opts.allErrors, S, m = "data" + (f || ""), _ = "valid" + c;
    if (t.schema === false) {
      t.isTop ? T = true : i += " var " + _ + " = false; ";
      var g = g || [];
      g.push(i), i = "", t.createErrors !== false ? (i += " { keyword: '" + (S || "false schema") + "' , dataPath: (dataPath || '') + " + t.errorPath + " , schemaPath: " + t.util.toQuotedString(p) + " , params: {} ", t.opts.messages !== false && (i += " , message: 'boolean schema is false' "), t.opts.verbose && (i += " , schema: false , parentSchema: validate.schema" + t.schemaPath + " , data: " + m + " "), i += " } ") : i += " {} ";
      var v = i;
      i = g.pop(), !t.compositeRule && T ? t.async ? i += " throw new ValidationError([" + v + "]); " : i += " validate.errors = [" + v + "]; return false; " : i += " var err = " + v + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";
    } else
      t.isTop ? o ? i += " return data; " : i += " validate.errors = null; return true; " : i += " var " + _ + " = true; ";
    return t.isTop && (i += " }; return validate; "), i;
  }
  if (t.isTop) {
    var b = t.isTop, c = t.level = 0, f = t.dataLevel = 0, m = "data";
    if (t.rootId = t.resolve.fullPath(t.self._getId(t.root.schema)), t.baseId = t.baseId || t.rootId, delete t.isTop, t.dataPathArr = [""], t.schema.default !== void 0 && t.opts.useDefaults && t.opts.strictDefaults) {
      var y = "default is ignored in the schema root";
      if (t.opts.strictDefaults === "log")
        t.logger.warn(y);
      else
        throw new Error(y);
    }
    i += " var vErrors = null; ", i += " var errors = 0;     ", i += " if (rootData === undefined) rootData = data; ";
  } else {
    var c = t.level, f = t.dataLevel, m = "data" + (f || "");
    if (s && (t.baseId = t.resolve.url(t.baseId, s)), o && !t.async)
      throw new Error("async schema in sync schema");
    i += " var errs_" + c + " = errors;";
  }
  var _ = "valid" + c, T = !t.opts.allErrors, E = "", O = "", S, P = t.schema.type, C = Array.isArray(P);
  if (P && t.opts.nullable && t.schema.nullable === true && (C ? P.indexOf("null") == -1 && (P = P.concat("null")) : P != "null" && (P = [P, "null"], C = true)), C && P.length == 1 && (P = P[0], C = false), t.schema.$ref && a) {
    if (t.opts.extendRefs == "fail")
      throw new Error('$ref: validation keywords used in schema at path "' + t.errSchemaPath + '" (see option extendRefs)');
    t.opts.extendRefs !== true && (a = false, t.logger.warn('$ref: keywords ignored in schema at path "' + t.errSchemaPath + '"'));
  }
  if (t.schema.$comment && t.opts.$comment && (i += " " + t.RULES.all.$comment.code(t, "$comment")), P) {
    if (t.opts.coerceTypes)
      var w = t.util.coerceToTypes(t.opts.coerceTypes, P);
    var N = t.RULES.types[P];
    if (w || C || N === true || N && !bt(N)) {
      var d = t.schemaPath + ".type", p = t.errSchemaPath + "/type", d = t.schemaPath + ".type", p = t.errSchemaPath + "/type", L = C ? "checkDataTypes" : "checkDataType";
      if (i += " if (" + t.util[L](P, m, t.opts.strictNumbers, true) + ") { ", w) {
        var A = "dataType" + c, R = "coerced" + c;
        i += " var " + A + " = typeof " + m + "; var " + R + " = undefined; ", t.opts.coerceTypes == "array" && (i += " if (" + A + " == 'object' && Array.isArray(" + m + ") && " + m + ".length == 1) { " + m + " = " + m + "[0]; " + A + " = typeof " + m + "; if (" + t.util.checkDataType(t.schema.type, m, t.opts.strictNumbers) + ") " + R + " = " + m + "; } "), i += " if (" + R + " !== undefined) ; ";
        var F = w;
        if (F)
          for (var $, K = -1, ie = F.length - 1; K < ie; )
            $ = F[K += 1], $ == "string" ? i += " else if (" + A + " == 'number' || " + A + " == 'boolean') " + R + " = '' + " + m + "; else if (" + m + " === null) " + R + " = ''; " : $ == "number" || $ == "integer" ? (i += " else if (" + A + " == 'boolean' || " + m + " === null || (" + A + " == 'string' && " + m + " && " + m + " == +" + m + " ", $ == "integer" && (i += " && !(" + m + " % 1)"), i += ")) " + R + " = +" + m + "; ") : $ == "boolean" ? i += " else if (" + m + " === 'false' || " + m + " === 0 || " + m + " === null) " + R + " = false; else if (" + m + " === 'true' || " + m + " === 1) " + R + " = true; " : $ == "null" ? i += " else if (" + m + " === '' || " + m + " === 0 || " + m + " === false) " + R + " = null; " : t.opts.coerceTypes == "array" && $ == "array" && (i += " else if (" + A + " == 'string' || " + A + " == 'number' || " + A + " == 'boolean' || " + m + " == null) " + R + " = [" + m + "]; ");
        i += " else {   ";
        var g = g || [];
        g.push(i), i = "", t.createErrors !== false ? (i += " { keyword: '" + (S || "type") + "' , dataPath: (dataPath || '') + " + t.errorPath + " , schemaPath: " + t.util.toQuotedString(p) + " , params: { type: '", C ? i += "" + P.join(",") : i += "" + P, i += "' } ", t.opts.messages !== false && (i += " , message: 'should be ", C ? i += "" + P.join(",") : i += "" + P, i += "' "), t.opts.verbose && (i += " , schema: validate.schema" + d + " , parentSchema: validate.schema" + t.schemaPath + " , data: " + m + " "), i += " } ") : i += " {} ";
        var v = i;
        i = g.pop(), !t.compositeRule && T ? t.async ? i += " throw new ValidationError([" + v + "]); " : i += " validate.errors = [" + v + "]; return false; " : i += " var err = " + v + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ", i += " } if (" + R + " !== undefined) {  ";
        var J = f ? "data" + (f - 1 || "") : "parentData", pe = f ? t.dataPathArr[f] : "parentDataProperty";
        i += " " + m + " = " + R + "; ", f || (i += "if (" + J + " !== undefined)"), i += " " + J + "[" + pe + "] = " + R + "; } ";
      } else {
        var g = g || [];
        g.push(i), i = "", t.createErrors !== false ? (i += " { keyword: '" + (S || "type") + "' , dataPath: (dataPath || '') + " + t.errorPath + " , schemaPath: " + t.util.toQuotedString(p) + " , params: { type: '", C ? i += "" + P.join(",") : i += "" + P, i += "' } ", t.opts.messages !== false && (i += " , message: 'should be ", C ? i += "" + P.join(",") : i += "" + P, i += "' "), t.opts.verbose && (i += " , schema: validate.schema" + d + " , parentSchema: validate.schema" + t.schemaPath + " , data: " + m + " "), i += " } ") : i += " {} ";
        var v = i;
        i = g.pop(), !t.compositeRule && T ? t.async ? i += " throw new ValidationError([" + v + "]); " : i += " validate.errors = [" + v + "]; return false; " : i += " var err = " + v + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";
      }
      i += " } ";
    }
  }
  if (t.schema.$ref && !a)
    i += " " + t.RULES.all.$ref.code(t, "$ref") + " ", T && (i += " } if (errors === ", b ? i += "0" : i += "errs_" + c, i += ") { ", O += "}");
  else {
    var oe = t.RULES;
    if (oe) {
      for (var N, q = -1, W = oe.length - 1; q < W; )
        if (N = oe[q += 1], bt(N)) {
          if (N.type && (i += " if (" + t.util.checkDataType(N.type, m, t.opts.strictNumbers) + ") { "), t.opts.useDefaults) {
            if (N.type == "object" && t.schema.properties) {
              var h = t.schema.properties, se = Object.keys(h), Te = se;
              if (Te)
                for (var Ae, Re = -1, Ee = Te.length - 1; Re < Ee; ) {
                  Ae = Te[Re += 1];
                  var Me = h[Ae];
                  if (Me.default !== void 0) {
                    var Ne = m + t.util.getProperty(Ae);
                    if (t.compositeRule) {
                      if (t.opts.strictDefaults) {
                        var y = "default is ignored for: " + Ne;
                        if (t.opts.strictDefaults === "log")
                          t.logger.warn(y);
                        else
                          throw new Error(y);
                      }
                    } else
                      i += " if (" + Ne + " === undefined ", t.opts.useDefaults == "empty" && (i += " || " + Ne + " === null || " + Ne + " === '' "), i += " ) " + Ne + " = ", t.opts.useDefaults == "shared" ? i += " " + t.useDefault(Me.default) + " " : i += " " + JSON.stringify(Me.default) + " ", i += "; ";
                  }
                }
            } else if (N.type == "array" && Array.isArray(t.schema.items)) {
              var Oe = t.schema.items;
              if (Oe) {
                for (var Me, K = -1, Fe = Oe.length - 1; K < Fe; )
                  if (Me = Oe[K += 1], Me.default !== void 0) {
                    var Ne = m + "[" + K + "]";
                    if (t.compositeRule) {
                      if (t.opts.strictDefaults) {
                        var y = "default is ignored for: " + Ne;
                        if (t.opts.strictDefaults === "log")
                          t.logger.warn(y);
                        else
                          throw new Error(y);
                      }
                    } else
                      i += " if (" + Ne + " === undefined ", t.opts.useDefaults == "empty" && (i += " || " + Ne + " === null || " + Ne + " === '' "), i += " ) " + Ne + " = ", t.opts.useDefaults == "shared" ? i += " " + t.useDefault(Me.default) + " " : i += " " + JSON.stringify(Me.default) + " ", i += "; ";
                  }
              }
            }
          }
          var Ue = N.rules;
          if (Ue) {
            for (var et, ot = -1, Ke = Ue.length - 1; ot < Ke; )
              if (et = Ue[ot += 1], $t(et)) {
                var ht = et.code(t, et.keyword, N.type);
                ht && (i += " " + ht + " ", T && (E += "}"));
              }
          }
          if (T && (i += " " + E + " ", E = ""), N.type && (i += " } ", P && P === N.type && !w)) {
            i += " else { ";
            var d = t.schemaPath + ".type", p = t.errSchemaPath + "/type", g = g || [];
            g.push(i), i = "", t.createErrors !== false ? (i += " { keyword: '" + (S || "type") + "' , dataPath: (dataPath || '') + " + t.errorPath + " , schemaPath: " + t.util.toQuotedString(p) + " , params: { type: '", C ? i += "" + P.join(",") : i += "" + P, i += "' } ", t.opts.messages !== false && (i += " , message: 'should be ", C ? i += "" + P.join(",") : i += "" + P, i += "' "), t.opts.verbose && (i += " , schema: validate.schema" + d + " , parentSchema: validate.schema" + t.schemaPath + " , data: " + m + " "), i += " } ") : i += " {} ";
            var v = i;
            i = g.pop(), !t.compositeRule && T ? t.async ? i += " throw new ValidationError([" + v + "]); " : i += " validate.errors = [" + v + "]; return false; " : i += " var err = " + v + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ", i += " } ";
          }
          T && (i += " if (errors === ", b ? i += "0" : i += "errs_" + c, i += ") { ", O += "}");
        }
    }
  }
  T && (i += " " + O + " "), b ? (o ? (i += " if (errors === 0) return data;           ", i += " else throw new ValidationError(vErrors); ") : (i += " validate.errors = vErrors; ", i += " return errors === 0;       "), i += " }; return validate;") : i += " var " + _ + " = errors === errs_" + c + ";";
  function bt(Ht) {
    for (var xe = Ht.rules, ne = 0; ne < xe.length; ne++)
      if ($t(xe[ne]))
        return true;
  }
  function $t(Ht) {
    return t.schema[Ht.keyword] !== void 0 || Ht.implements && rn(Ht);
  }
  function rn(Ht) {
    for (var xe = Ht.implements, ne = 0; ne < xe.length; ne++)
      if (t.schema[xe[ne]] !== void 0)
        return true;
  }
  return i;
};
var U_ = BL;
var wE = Ip;
var IQ = FL;
var grt = AQ;
var k4 = OQ;
var vrt = wE.ucs2length;
var yrt = kL;
var _rt = IQ.Validation;
var brt = eD;
function eD(e13, t, r, n) {
  var i = this, o = this._opts, a = [void 0], s = {}, l = [], u = {}, c = [], f = {}, h = [];
  t = t || {
    schema: e13,
    refVal: a,
    refs: s
  };
  var d = Trt.call(this, e13, t, n), p = this._compilations[d.index];
  if (d.compiling)
    return p.callValidate = y;
  var m = this._formats, g = this.RULES;
  try {
    var v = _(e13, t, r, n);
    p.validate = v;
    var b = p.callValidate;
    return b && (b.schema = v.schema, b.errors = null, b.refs = v.refs, b.refVal = v.refVal, b.root = v.root, b.$async = v.$async, o.sourceCode && (b.source = v.source)), v;
  } finally {
    Ert.call(this, e13, t, n);
  }
  function y() {
    var L = p.validate, A = L.apply(this, arguments);
    return y.errors = L.errors, A;
  }
  function _(L, A, R, F) {
    var $ = !A || A && A.schema == L;
    if (A.schema != t.schema)
      return eD.call(i, L, A, R, F);
    var K = L.$async === true, ie = k4({
      isTop: true,
      schema: L,
      isRoot: $,
      baseId: F,
      root: A,
      schemaPath: "",
      errSchemaPath: "#",
      errorPath: '""',
      MissingRefError: IQ.MissingRef,
      RULES: g,
      validate: k4,
      util: wE,
      resolve: U_,
      resolveRef: T,
      usePattern: C,
      useDefault: w,
      useCustomRule: N,
      opts: o,
      formats: m,
      logger: i.logger,
      self: i
    });
    ie = j_(a, Art) + j_(l, Srt) + j_(c, wrt) + j_(h, Ort) + ie, o.processCode && (ie = o.processCode(ie, L));
    var J;
    try {
      var pe = new Function("self", "RULES", "formats", "root", "refVal", "defaults", "customRules", "equal", "ucs2length", "ValidationError", ie);
      J = pe(i, g, m, t, a, c, h, yrt, vrt, _rt), a[0] = J;
    } catch (oe) {
      throw i.logger.error("Error compiling schema, function code:", ie), oe;
    }
    return J.schema = L, J.errors = null, J.refs = s, J.refVal = a, J.root = $ ? J : A, K && (J.$async = true), o.sourceCode === true && (J.source = {
      code: ie,
      patterns: l,
      defaults: c
    }), J;
  }
  function T(L, A, R) {
    A = U_.url(L, A);
    var F = s[A], $, K;
    if (F !== void 0)
      return $ = a[F], K = "refVal[" + F + "]", P($, K);
    if (!R && t.refs) {
      var ie = t.refs[A];
      if (ie !== void 0)
        return $ = t.refVal[ie], K = E(A, $), P($, K);
    }
    K = E(A);
    var J = U_.call(i, _, t, A);
    if (J === void 0) {
      var pe = r && r[A];
      pe && (J = U_.inlineRef(pe, o.inlineRefs) ? pe : eD.call(i, pe, t, r, L));
    }
    if (J === void 0)
      O(A);
    else
      return S(A, J), P(J, K);
  }
  function E(L, A) {
    var R = a.length;
    return a[R] = A, s[L] = R, "refVal" + R;
  }
  function O(L) {
    delete s[L];
  }
  function S(L, A) {
    var R = s[L];
    a[R] = A;
  }
  function P(L, A) {
    return typeof L == "object" || typeof L == "boolean" ? {
      code: A,
      schema: L,
      inline: true
    } : {
      code: A,
      $async: L && !!L.$async
    };
  }
  function C(L) {
    var A = u[L];
    return A === void 0 && (A = u[L] = l.length, l[A] = L), "pattern" + A;
  }
  function w(L) {
    switch (typeof L) {
      case "boolean":
      case "number":
        return "" + L;
      case "string":
        return wE.toQuotedString(L);
      case "object":
        if (L === null)
          return "null";
        var A = grt(L), R = f[A];
        return R === void 0 && (R = f[A] = c.length, c[R] = L), "default" + R;
    }
  }
  function N(L, A, R, F) {
    if (i._opts.validateSchema !== false) {
      var $ = L.definition.dependencies;
      if ($ && !$.every(function(Te) {
        return Object.prototype.hasOwnProperty.call(R, Te);
      }))
        throw new Error("parent schema must have all required keywords: " + $.join(","));
      var K = L.definition.validateSchema;
      if (K) {
        var ie = K(A);
        if (!ie) {
          var J = "keyword schema is invalid: " + i.errorsText(K.errors);
          if (i._opts.validateSchema == "log")
            i.logger.error(J);
          else
            throw new Error(J);
        }
      }
    }
    var pe = L.definition.compile, oe = L.definition.inline, q = L.definition.macro, W;
    if (pe)
      W = pe.call(i, A, R, F);
    else if (q)
      W = q.call(i, A, R, F), o.validateSchema !== false && i.validateSchema(W, true);
    else if (oe)
      W = oe.call(i, F, L.keyword, A, R);
    else if (W = L.definition.validate, !W)
      return;
    if (W === void 0)
      throw new Error('custom keyword "' + L.keyword + '"failed to compile');
    var se = h.length;
    return h[se] = W, {
      code: "customRule" + se,
      validate: W
    };
  }
}
function Trt(e13, t, r) {
  var n = PQ.call(this, e13, t, r);
  return n >= 0 ? {
    index: n,
    compiling: true
  } : (n = this._compilations.length, this._compilations[n] = {
    schema: e13,
    root: t,
    baseId: r
  }, {
    index: n,
    compiling: false
  });
}
function Ert(e13, t, r) {
  var n = PQ.call(this, e13, t, r);
  n >= 0 && this._compilations.splice(n, 1);
}
function PQ(e13, t, r) {
  for (var n = 0; n < this._compilations.length; n++) {
    var i = this._compilations[n];
    if (i.schema == e13 && i.root == t && i.baseId == r)
      return n;
  }
  return -1;
}
function Srt(e13, t) {
  return "var pattern" + e13 + " = new RegExp(" + wE.toQuotedString(t[e13]) + ");";
}
function wrt(e13) {
  return "var default" + e13 + " = defaults[" + e13 + "];";
}
function Art(e13, t) {
  return t[e13] === void 0 ? "" : "var refVal" + e13 + " = refVal[" + e13 + "];";
}
function Ort(e13) {
  return "var customRule" + e13 + " = customRules[" + e13 + "];";
}
function j_(e13, t) {
  if (!e13.length)
    return "";
  for (var r = "", n = 0; n < e13.length; n++)
    r += t(n, e13);
  return r;
}
var CQ = { exports: {} };
var LS = CQ.exports = function() {
  this._cache = {};
};
LS.prototype.put = function(t, r) {
  this._cache[t] = r;
};
LS.prototype.get = function(t) {
  return this._cache[t];
};
LS.prototype.del = function(t) {
  delete this._cache[t];
};
LS.prototype.clear = function() {
  this._cache = {};
};
var Irt = CQ.exports;
var Prt = Ip;
var Crt = /^(\d\d\d\d)-(\d\d)-(\d\d)$/;
var xrt = [0, 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];
var krt = /^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;
var xQ = /^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i;
var Drt = /^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;
var Rrt = /^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;
var kQ = /^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i;
var DQ = /^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i;
var RQ = /^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i;
var NQ = /^(?:\/(?:[^~/]|~0|~1)*)*$/;
var MQ = /^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i;
var LQ = /^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/;
var Nrt = BS;
function BS(e13) {
  return e13 = e13 == "full" ? "full" : "fast", Prt.copy(BS[e13]);
}
BS.fast = {
  // date: http://tools.ietf.org/html/rfc3339#section-5.6
  date: /^\d\d\d\d-[0-1]\d-[0-3]\d$/,
  // date-time: http://tools.ietf.org/html/rfc3339#section-5.6
  time: /^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,
  "date-time": /^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,
  // uri: https://github.com/mafintosh/is-my-json-valid/blob/master/formats.js
  uri: /^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,
  "uri-reference": /^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,
  "uri-template": kQ,
  url: DQ,
  // email (sources from jsen validator):
  // http://stackoverflow.com/questions/201323/using-a-regular-expression-to-validate-an-email-address#answer-8829363
  // http://www.w3.org/TR/html5/forms.html#valid-e-mail-address (search for 'willful violation')
  email: /^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,
  hostname: xQ,
  // optimized https://www.safaribooksonline.com/library/view/regular-expressions-cookbook/9780596802837/ch07s16.html
  ipv4: /^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,
  // optimized http://stackoverflow.com/questions/53497/regular-expression-that-matches-valid-ipv6-addresses
  ipv6: /^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,
  regex: $Q,
  // uuid: http://tools.ietf.org/html/rfc4122
  uuid: RQ,
  // JSON-pointer: https://tools.ietf.org/html/rfc6901
  // uri fragment: https://tools.ietf.org/html/rfc3986#appendix-A
  "json-pointer": NQ,
  "json-pointer-uri-fragment": MQ,
  // relative JSON-pointer: http://tools.ietf.org/html/draft-luff-relative-json-pointer-00
  "relative-json-pointer": LQ
};
BS.full = {
  date: BQ,
  time: FQ,
  "date-time": Brt,
  uri: $rt,
  "uri-reference": Rrt,
  "uri-template": kQ,
  url: DQ,
  email: /^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,
  hostname: xQ,
  ipv4: /^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,
  ipv6: /^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,
  regex: $Q,
  uuid: RQ,
  "json-pointer": NQ,
  "json-pointer-uri-fragment": MQ,
  "relative-json-pointer": LQ
};
function Mrt(e13) {
  return e13 % 4 === 0 && (e13 % 100 !== 0 || e13 % 400 === 0);
}
function BQ(e13) {
  var t = e13.match(Crt);
  if (!t)
    return false;
  var r = +t[1], n = +t[2], i = +t[3];
  return n >= 1 && n <= 12 && i >= 1 && i <= (n == 2 && Mrt(r) ? 29 : xrt[n]);
}
function FQ(e13, t) {
  var r = e13.match(krt);
  if (!r)
    return false;
  var n = r[1], i = r[2], o = r[3], a = r[5];
  return (n <= 23 && i <= 59 && o <= 59 || n == 23 && i == 59 && o == 60) && (!t || a);
}
var Lrt = /t|\s/i;
function Brt(e13) {
  var t = e13.split(Lrt);
  return t.length == 2 && BQ(t[0]) && FQ(t[1], true);
}
var Frt = /\/|:/;
function $rt(e13) {
  return Frt.test(e13) && Drt.test(e13);
}
var Hrt = /[^\\]\\Z/;
function $Q(e13) {
  if (Hrt.test(e13))
    return false;
  try {
    return new RegExp(e13), true;
  } catch {
    return false;
  }
}
var Urt = function(t, r, n) {
  var i = " ", o = t.level, a = t.dataLevel, s = t.schema[r], l = t.errSchemaPath + "/" + r, u = !t.opts.allErrors, c = "data" + (a || ""), f = "valid" + o, h, d;
  if (s == "#" || s == "#/")
    t.isRoot ? (h = t.async, d = "validate") : (h = t.root.schema.$async === true, d = "root.refVal[0]");
  else {
    var p = t.resolveRef(t.baseId, s, t.isRoot);
    if (p === void 0) {
      var m = t.MissingRefError.message(t.baseId, s);
      if (t.opts.missingRefs == "fail") {
        t.logger.error(m);
        var g = g || [];
        g.push(i), i = "", t.createErrors !== false ? (i += " { keyword: '$ref' , dataPath: (dataPath || '') + " + t.errorPath + " , schemaPath: " + t.util.toQuotedString(l) + " , params: { ref: '" + t.util.escapeQuotes(s) + "' } ", t.opts.messages !== false && (i += " , message: 'can\\'t resolve reference " + t.util.escapeQuotes(s) + "' "), t.opts.verbose && (i += " , schema: " + t.util.toQuotedString(s) + " , parentSchema: validate.schema" + t.schemaPath + " , data: " + c + " "), i += " } ") : i += " {} ";
        var v = i;
        i = g.pop(), !t.compositeRule && u ? t.async ? i += " throw new ValidationError([" + v + "]); " : i += " validate.errors = [" + v + "]; return false; " : i += " var err = " + v + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ", u && (i += " if (false) { ");
      } else if (t.opts.missingRefs == "ignore")
        t.logger.warn(m), u && (i += " if (true) { ");
      else
        throw new t.MissingRefError(t.baseId, s, m);
    } else if (p.inline) {
      var b = t.util.copy(t);
      b.level++;
      var y = "valid" + b.level;
      b.schema = p.schema, b.schemaPath = "", b.errSchemaPath = s;
      var _ = t.validate(b).replace(/validate\.schema/g, p.code);
      i += " " + _ + " ", u && (i += " if (" + y + ") { ");
    } else
      h = p.$async === true || t.async && p.$async !== false, d = p.code;
  }
  if (d) {
    var g = g || [];
    g.push(i), i = "", t.opts.passContext ? i += " " + d + ".call(this, " : i += " " + d + "( ", i += " " + c + ", (dataPath || '')", t.errorPath != '""' && (i += " + " + t.errorPath);
    var T = a ? "data" + (a - 1 || "") : "parentData", E = a ? t.dataPathArr[a] : "parentDataProperty";
    i += " , " + T + " , " + E + ", rootData)  ";
    var O = i;
    if (i = g.pop(), h) {
      if (!t.async)
        throw new Error("async schema referenced by sync schema");
      u && (i += " var " + f + "; "), i += " try { await " + O + "; ", u && (i += " " + f + " = true; "), i += " } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ", u && (i += " " + f + " = false; "), i += " } ", u && (i += " if (" + f + ") { ");
    } else
      i += " if (!" + O + ") { if (vErrors === null) vErrors = " + d + ".errors; else vErrors = vErrors.concat(" + d + ".errors); errors = vErrors.length; } ", u && (i += " else { ");
  }
  return i;
};
var jrt = function(t, r, n) {
  var i = " ", o = t.schema[r], a = t.schemaPath + t.util.getProperty(r), s = t.errSchemaPath + "/" + r, l = !t.opts.allErrors, u = t.util.copy(t), c = "";
  u.level++;
  var f = "valid" + u.level, h = u.baseId, d = true, p = o;
  if (p)
    for (var m, g = -1, v = p.length - 1; g < v; )
      m = p[g += 1], (t.opts.strictKeywords ? typeof m == "object" && Object.keys(m).length > 0 || m === false : t.util.schemaHasRules(m, t.RULES.all)) && (d = false, u.schema = m, u.schemaPath = a + "[" + g + "]", u.errSchemaPath = s + "/" + g, i += "  " + t.validate(u) + " ", u.baseId = h, l && (i += " if (" + f + ") { ", c += "}"));
  return l && (d ? i += " if (true) { " : i += " " + c.slice(0, -1) + " "), i;
};
var Grt = function(t, r, n) {
  var i = " ", o = t.level, a = t.dataLevel, s = t.schema[r], l = t.schemaPath + t.util.getProperty(r), u = t.errSchemaPath + "/" + r, c = !t.opts.allErrors, f = "data" + (a || ""), h = "valid" + o, d = "errs__" + o, p = t.util.copy(t), m = "";
  p.level++;
  var g = "valid" + p.level, v = s.every(function(S) {
    return t.opts.strictKeywords ? typeof S == "object" && Object.keys(S).length > 0 || S === false : t.util.schemaHasRules(S, t.RULES.all);
  });
  if (v) {
    var b = p.baseId;
    i += " var " + d + " = errors; var " + h + " = false;  ";
    var y = t.compositeRule;
    t.compositeRule = p.compositeRule = true;
    var _ = s;
    if (_)
      for (var T, E = -1, O = _.length - 1; E < O; )
        T = _[E += 1], p.schema = T, p.schemaPath = l + "[" + E + "]", p.errSchemaPath = u + "/" + E, i += "  " + t.validate(p) + " ", p.baseId = b, i += " " + h + " = " + h + " || " + g + "; if (!" + h + ") { ", m += "}";
    t.compositeRule = p.compositeRule = y, i += " " + m + " if (!" + h + ") {   var err =   ", t.createErrors !== false ? (i += " { keyword: 'anyOf' , dataPath: (dataPath || '') + " + t.errorPath + " , schemaPath: " + t.util.toQuotedString(u) + " , params: {} ", t.opts.messages !== false && (i += " , message: 'should match some schema in anyOf' "), t.opts.verbose && (i += " , schema: validate.schema" + l + " , parentSchema: validate.schema" + t.schemaPath + " , data: " + f + " "), i += " } ") : i += " {} ", i += ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ", !t.compositeRule && c && (t.async ? i += " throw new ValidationError(vErrors); " : i += " validate.errors = vErrors; return false; "), i += " } else {  errors = " + d + "; if (vErrors !== null) { if (" + d + ") vErrors.length = " + d + "; else vErrors = null; } ", t.opts.allErrors && (i += " } ");
  } else
    c && (i += " if (true) { ");
  return i;
};
var zrt = function(t, r, n) {
  var i = " ", o = t.schema[r], a = t.errSchemaPath + "/" + r;
  t.opts.allErrors;
  var s = t.util.toQuotedString(o);
  return t.opts.$comment === true ? i += " console.log(" + s + ");" : typeof t.opts.$comment == "function" && (i += " self._opts.$comment(" + s + ", " + t.util.toQuotedString(a) + ", validate.root.schema);"), i;
};
var Vrt = function(t, r, n) {
  var i = " ", o = t.level, a = t.dataLevel, s = t.schema[r], l = t.schemaPath + t.util.getProperty(r), u = t.errSchemaPath + "/" + r, c = !t.opts.allErrors, f = "data" + (a || ""), h = "valid" + o, d = t.opts.$data && s && s.$data;
  d && (i += " var schema" + o + " = " + t.util.getData(s.$data, a, t.dataPathArr) + "; "), d || (i += " var schema" + o + " = validate.schema" + l + ";"), i += "var " + h + " = equal(" + f + ", schema" + o + "); if (!" + h + ") {   ";
  var p = p || [];
  p.push(i), i = "", t.createErrors !== false ? (i += " { keyword: 'const' , dataPath: (dataPath || '') + " + t.errorPath + " , schemaPath: " + t.util.toQuotedString(u) + " , params: { allowedValue: schema" + o + " } ", t.opts.messages !== false && (i += " , message: 'should be equal to constant' "), t.opts.verbose && (i += " , schema: validate.schema" + l + " , parentSchema: validate.schema" + t.schemaPath + " , data: " + f + " "), i += " } ") : i += " {} ";
  var m = i;
  return i = p.pop(), !t.compositeRule && c ? t.async ? i += " throw new ValidationError([" + m + "]); " : i += " validate.errors = [" + m + "]; return false; " : i += " var err = " + m + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ", i += " }", c && (i += " else { "), i;
};
var Xrt = function(t, r, n) {
  var i = " ", o = t.level, a = t.dataLevel, s = t.schema[r], l = t.schemaPath + t.util.getProperty(r), u = t.errSchemaPath + "/" + r, c = !t.opts.allErrors, f = "data" + (a || ""), h = "valid" + o, d = "errs__" + o, p = t.util.copy(t), m = "";
  p.level++;
  var g = "valid" + p.level, v = "i" + o, b = p.dataLevel = t.dataLevel + 1, y = "data" + b, _ = t.baseId, T = t.opts.strictKeywords ? typeof s == "object" && Object.keys(s).length > 0 || s === false : t.util.schemaHasRules(s, t.RULES.all);
  if (i += "var " + d + " = errors;var " + h + ";", T) {
    var E = t.compositeRule;
    t.compositeRule = p.compositeRule = true, p.schema = s, p.schemaPath = l, p.errSchemaPath = u, i += " var " + g + " = false; for (var " + v + " = 0; " + v + " < " + f + ".length; " + v + "++) { ", p.errorPath = t.util.getPathExpr(t.errorPath, v, t.opts.jsonPointers, true);
    var O = f + "[" + v + "]";
    p.dataPathArr[b] = v;
    var S = t.validate(p);
    p.baseId = _, t.util.varOccurences(S, y) < 2 ? i += " " + t.util.varReplace(S, y, O) + " " : i += " var " + y + " = " + O + "; " + S + " ", i += " if (" + g + ") break; }  ", t.compositeRule = p.compositeRule = E, i += " " + m + " if (!" + g + ") {";
  } else
    i += " if (" + f + ".length == 0) {";
  var P = P || [];
  P.push(i), i = "", t.createErrors !== false ? (i += " { keyword: 'contains' , dataPath: (dataPath || '') + " + t.errorPath + " , schemaPath: " + t.util.toQuotedString(u) + " , params: {} ", t.opts.messages !== false && (i += " , message: 'should contain a valid item' "), t.opts.verbose && (i += " , schema: validate.schema" + l + " , parentSchema: validate.schema" + t.schemaPath + " , data: " + f + " "), i += " } ") : i += " {} ";
  var C = i;
  return i = P.pop(), !t.compositeRule && c ? t.async ? i += " throw new ValidationError([" + C + "]); " : i += " validate.errors = [" + C + "]; return false; " : i += " var err = " + C + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ", i += " } else { ", T && (i += "  errors = " + d + "; if (vErrors !== null) { if (" + d + ") vErrors.length = " + d + "; else vErrors = null; } "), t.opts.allErrors && (i += " } "), i;
};
var Wrt = function(t, r, n) {
  var i = " ", o = t.level, a = t.dataLevel, s = t.schema[r], l = t.schemaPath + t.util.getProperty(r), u = t.errSchemaPath + "/" + r, c = !t.opts.allErrors, f = "data" + (a || ""), h = "errs__" + o, d = t.util.copy(t), p = "";
  d.level++;
  var m = "valid" + d.level, g = {}, v = {}, b = t.opts.ownProperties;
  for (E in s)
    if (E != "__proto__") {
      var y = s[E], _ = Array.isArray(y) ? v : g;
      _[E] = y;
    }
  i += "var " + h + " = errors;";
  var T = t.errorPath;
  i += "var missing" + o + ";";
  for (var E in v)
    if (_ = v[E], _.length) {
      if (i += " if ( " + f + t.util.getProperty(E) + " !== undefined ", b && (i += " && Object.prototype.hasOwnProperty.call(" + f + ", '" + t.util.escapeQuotes(E) + "') "), c) {
        i += " && ( ";
        var O = _;
        if (O)
          for (var S, P = -1, C = O.length - 1; P < C; ) {
            S = O[P += 1], P && (i += " || ");
            var w = t.util.getProperty(S), N = f + w;
            i += " ( ( " + N + " === undefined ", b && (i += " || ! Object.prototype.hasOwnProperty.call(" + f + ", '" + t.util.escapeQuotes(S) + "') "), i += ") && (missing" + o + " = " + t.util.toQuotedString(t.opts.jsonPointers ? S : w) + ") ) ";
          }
        i += ")) {  ";
        var L = "missing" + o, A = "' + " + L + " + '";
        t.opts._errorDataPathProperty && (t.errorPath = t.opts.jsonPointers ? t.util.getPathExpr(T, L, true) : T + " + " + L);
        var R = R || [];
        R.push(i), i = "", t.createErrors !== false ? (i += " { keyword: 'dependencies' , dataPath: (dataPath || '') + " + t.errorPath + " , schemaPath: " + t.util.toQuotedString(u) + " , params: { property: '" + t.util.escapeQuotes(E) + "', missingProperty: '" + A + "', depsCount: " + _.length + ", deps: '" + t.util.escapeQuotes(_.length == 1 ? _[0] : _.join(", ")) + "' } ", t.opts.messages !== false && (i += " , message: 'should have ", _.length == 1 ? i += "property " + t.util.escapeQuotes(_[0]) : i += "properties " + t.util.escapeQuotes(_.join(", ")), i += " when property " + t.util.escapeQuotes(E) + " is present' "), t.opts.verbose && (i += " , schema: validate.schema" + l + " , parentSchema: validate.schema" + t.schemaPath + " , data: " + f + " "), i += " } ") : i += " {} ";
        var F = i;
        i = R.pop(), !t.compositeRule && c ? t.async ? i += " throw new ValidationError([" + F + "]); " : i += " validate.errors = [" + F + "]; return false; " : i += " var err = " + F + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";
      } else {
        i += " ) { ";
        var $ = _;
        if ($)
          for (var S, K = -1, ie = $.length - 1; K < ie; ) {
            S = $[K += 1];
            var w = t.util.getProperty(S), A = t.util.escapeQuotes(S), N = f + w;
            t.opts._errorDataPathProperty && (t.errorPath = t.util.getPath(T, S, t.opts.jsonPointers)), i += " if ( " + N + " === undefined ", b && (i += " || ! Object.prototype.hasOwnProperty.call(" + f + ", '" + t.util.escapeQuotes(S) + "') "), i += ") {  var err =   ", t.createErrors !== false ? (i += " { keyword: 'dependencies' , dataPath: (dataPath || '') + " + t.errorPath + " , schemaPath: " + t.util.toQuotedString(u) + " , params: { property: '" + t.util.escapeQuotes(E) + "', missingProperty: '" + A + "', depsCount: " + _.length + ", deps: '" + t.util.escapeQuotes(_.length == 1 ? _[0] : _.join(", ")) + "' } ", t.opts.messages !== false && (i += " , message: 'should have ", _.length == 1 ? i += "property " + t.util.escapeQuotes(_[0]) : i += "properties " + t.util.escapeQuotes(_.join(", ")), i += " when property " + t.util.escapeQuotes(E) + " is present' "), t.opts.verbose && (i += " , schema: validate.schema" + l + " , parentSchema: validate.schema" + t.schemaPath + " , data: " + f + " "), i += " } ") : i += " {} ", i += ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } ";
          }
      }
      i += " }   ", c && (p += "}", i += " else { ");
    }
  t.errorPath = T;
  var J = d.baseId;
  for (var E in g) {
    var y = g[E];
    (t.opts.strictKeywords ? typeof y == "object" && Object.keys(y).length > 0 || y === false : t.util.schemaHasRules(y, t.RULES.all)) && (i += " " + m + " = true; if ( " + f + t.util.getProperty(E) + " !== undefined ", b && (i += " && Object.prototype.hasOwnProperty.call(" + f + ", '" + t.util.escapeQuotes(E) + "') "), i += ") { ", d.schema = y, d.schemaPath = l + t.util.getProperty(E), d.errSchemaPath = u + "/" + t.util.escapeFragment(E), i += "  " + t.validate(d) + " ", d.baseId = J, i += " }  ", c && (i += " if (" + m + ") { ", p += "}"));
  }
  return c && (i += "   " + p + " if (" + h + " == errors) {"), i;
};
var Yrt = function(t, r, n) {
  var i = " ", o = t.level, a = t.dataLevel, s = t.schema[r], l = t.schemaPath + t.util.getProperty(r), u = t.errSchemaPath + "/" + r, c = !t.opts.allErrors, f = "data" + (a || ""), h = "valid" + o, d = t.opts.$data && s && s.$data;
  d && (i += " var schema" + o + " = " + t.util.getData(s.$data, a, t.dataPathArr) + "; ");
  var p = "i" + o, m = "schema" + o;
  d || (i += " var " + m + " = validate.schema" + l + ";"), i += "var " + h + ";", d && (i += " if (schema" + o + " === undefined) " + h + " = true; else if (!Array.isArray(schema" + o + ")) " + h + " = false; else {"), i += "" + h + " = false;for (var " + p + "=0; " + p + "<" + m + ".length; " + p + "++) if (equal(" + f + ", " + m + "[" + p + "])) { " + h + " = true; break; }", d && (i += "  }  "), i += " if (!" + h + ") {   ";
  var g = g || [];
  g.push(i), i = "", t.createErrors !== false ? (i += " { keyword: 'enum' , dataPath: (dataPath || '') + " + t.errorPath + " , schemaPath: " + t.util.toQuotedString(u) + " , params: { allowedValues: schema" + o + " } ", t.opts.messages !== false && (i += " , message: 'should be equal to one of the allowed values' "), t.opts.verbose && (i += " , schema: validate.schema" + l + " , parentSchema: validate.schema" + t.schemaPath + " , data: " + f + " "), i += " } ") : i += " {} ";
  var v = i;
  return i = g.pop(), !t.compositeRule && c ? t.async ? i += " throw new ValidationError([" + v + "]); " : i += " validate.errors = [" + v + "]; return false; " : i += " var err = " + v + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ", i += " }", c && (i += " else { "), i;
};
var qrt = function(t, r, n) {
  var i = " ", o = t.level, a = t.dataLevel, s = t.schema[r], l = t.schemaPath + t.util.getProperty(r), u = t.errSchemaPath + "/" + r, c = !t.opts.allErrors, f = "data" + (a || "");
  if (t.opts.format === false)
    return c && (i += " if (true) { "), i;
  var h = t.opts.$data && s && s.$data, d;
  h ? (i += " var schema" + o + " = " + t.util.getData(s.$data, a, t.dataPathArr) + "; ", d = "schema" + o) : d = s;
  var p = t.opts.unknownFormats, m = Array.isArray(p);
  if (h) {
    var g = "format" + o, v = "isObject" + o, b = "formatType" + o;
    i += " var " + g + " = formats[" + d + "]; var " + v + " = typeof " + g + " == 'object' && !(" + g + " instanceof RegExp) && " + g + ".validate; var " + b + " = " + v + " && " + g + ".type || 'string'; if (" + v + ") { ", t.async && (i += " var async" + o + " = " + g + ".async; "), i += " " + g + " = " + g + ".validate; } if (  ", h && (i += " (" + d + " !== undefined && typeof " + d + " != 'string') || "), i += " (", p != "ignore" && (i += " (" + d + " && !" + g + " ", m && (i += " && self._opts.unknownFormats.indexOf(" + d + ") == -1 "), i += ") || "), i += " (" + g + " && " + b + " == '" + n + "' && !(typeof " + g + " == 'function' ? ", t.async ? i += " (async" + o + " ? await " + g + "(" + f + ") : " + g + "(" + f + ")) " : i += " " + g + "(" + f + ") ", i += " : " + g + ".test(" + f + "))))) {";
  } else {
    var g = t.formats[s];
    if (!g) {
      if (p == "ignore")
        return t.logger.warn('unknown format "' + s + '" ignored in schema at path "' + t.errSchemaPath + '"'), c && (i += " if (true) { "), i;
      if (m && p.indexOf(s) >= 0)
        return c && (i += " if (true) { "), i;
      throw new Error('unknown format "' + s + '" is used in schema at path "' + t.errSchemaPath + '"');
    }
    var v = typeof g == "object" && !(g instanceof RegExp) && g.validate, b = v && g.type || "string";
    if (v) {
      var y = g.async === true;
      g = g.validate;
    }
    if (b != n)
      return c && (i += " if (true) { "), i;
    if (y) {
      if (!t.async)
        throw new Error("async format in sync schema");
      var _ = "formats" + t.util.getProperty(s) + ".validate";
      i += " if (!(await " + _ + "(" + f + "))) { ";
    } else {
      i += " if (! ";
      var _ = "formats" + t.util.getProperty(s);
      v && (_ += ".validate"), typeof g == "function" ? i += " " + _ + "(" + f + ") " : i += " " + _ + ".test(" + f + ") ", i += ") { ";
    }
  }
  var T = T || [];
  T.push(i), i = "", t.createErrors !== false ? (i += " { keyword: 'format' , dataPath: (dataPath || '') + " + t.errorPath + " , schemaPath: " + t.util.toQuotedString(u) + " , params: { format:  ", h ? i += "" + d : i += "" + t.util.toQuotedString(s), i += "  } ", t.opts.messages !== false && (i += ` , message: 'should match format "`, h ? i += "' + " + d + " + '" : i += "" + t.util.escapeQuotes(s), i += `"' `), t.opts.verbose && (i += " , schema:  ", h ? i += "validate.schema" + l : i += "" + t.util.toQuotedString(s), i += "         , parentSchema: validate.schema" + t.schemaPath + " , data: " + f + " "), i += " } ") : i += " {} ";
  var E = i;
  return i = T.pop(), !t.compositeRule && c ? t.async ? i += " throw new ValidationError([" + E + "]); " : i += " validate.errors = [" + E + "]; return false; " : i += " var err = " + E + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ", i += " } ", c && (i += " else { "), i;
};
var Krt = function(t, r, n) {
  var i = " ", o = t.level, a = t.dataLevel, s = t.schema[r], l = t.schemaPath + t.util.getProperty(r), u = t.errSchemaPath + "/" + r, c = !t.opts.allErrors, f = "data" + (a || ""), h = "valid" + o, d = "errs__" + o, p = t.util.copy(t);
  p.level++;
  var m = "valid" + p.level, g = t.schema.then, v = t.schema.else, b = g !== void 0 && (t.opts.strictKeywords ? typeof g == "object" && Object.keys(g).length > 0 || g === false : t.util.schemaHasRules(g, t.RULES.all)), y = v !== void 0 && (t.opts.strictKeywords ? typeof v == "object" && Object.keys(v).length > 0 || v === false : t.util.schemaHasRules(v, t.RULES.all)), _ = p.baseId;
  if (b || y) {
    var T;
    p.createErrors = false, p.schema = s, p.schemaPath = l, p.errSchemaPath = u, i += " var " + d + " = errors; var " + h + " = true;  ";
    var E = t.compositeRule;
    t.compositeRule = p.compositeRule = true, i += "  " + t.validate(p) + " ", p.baseId = _, p.createErrors = true, i += "  errors = " + d + "; if (vErrors !== null) { if (" + d + ") vErrors.length = " + d + "; else vErrors = null; }  ", t.compositeRule = p.compositeRule = E, b ? (i += " if (" + m + ") {  ", p.schema = t.schema.then, p.schemaPath = t.schemaPath + ".then", p.errSchemaPath = t.errSchemaPath + "/then", i += "  " + t.validate(p) + " ", p.baseId = _, i += " " + h + " = " + m + "; ", b && y ? (T = "ifClause" + o, i += " var " + T + " = 'then'; ") : T = "'then'", i += " } ", y && (i += " else { ")) : i += " if (!" + m + ") { ", y && (p.schema = t.schema.else, p.schemaPath = t.schemaPath + ".else", p.errSchemaPath = t.errSchemaPath + "/else", i += "  " + t.validate(p) + " ", p.baseId = _, i += " " + h + " = " + m + "; ", b && y ? (T = "ifClause" + o, i += " var " + T + " = 'else'; ") : T = "'else'", i += " } "), i += " if (!" + h + ") {   var err =   ", t.createErrors !== false ? (i += " { keyword: 'if' , dataPath: (dataPath || '') + " + t.errorPath + " , schemaPath: " + t.util.toQuotedString(u) + " , params: { failingKeyword: " + T + " } ", t.opts.messages !== false && (i += ` , message: 'should match "' + ` + T + ` + '" schema' `), t.opts.verbose && (i += " , schema: validate.schema" + l + " , parentSchema: validate.schema" + t.schemaPath + " , data: " + f + " "), i += " } ") : i += " {} ", i += ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ", !t.compositeRule && c && (t.async ? i += " throw new ValidationError(vErrors); " : i += " validate.errors = vErrors; return false; "), i += " }   ", c && (i += " else { ");
  } else
    c && (i += " if (true) { ");
  return i;
};
var Zrt = function(t, r, n) {
  var i = " ", o = t.level, a = t.dataLevel, s = t.schema[r], l = t.schemaPath + t.util.getProperty(r), u = t.errSchemaPath + "/" + r, c = !t.opts.allErrors, f = "data" + (a || ""), h = "valid" + o, d = "errs__" + o, p = t.util.copy(t), m = "";
  p.level++;
  var g = "valid" + p.level, v = "i" + o, b = p.dataLevel = t.dataLevel + 1, y = "data" + b, _ = t.baseId;
  if (i += "var " + d + " = errors;var " + h + ";", Array.isArray(s)) {
    var T = t.schema.additionalItems;
    if (T === false) {
      i += " " + h + " = " + f + ".length <= " + s.length + "; ";
      var E = u;
      u = t.errSchemaPath + "/additionalItems", i += "  if (!" + h + ") {   ";
      var O = O || [];
      O.push(i), i = "", t.createErrors !== false ? (i += " { keyword: 'additionalItems' , dataPath: (dataPath || '') + " + t.errorPath + " , schemaPath: " + t.util.toQuotedString(u) + " , params: { limit: " + s.length + " } ", t.opts.messages !== false && (i += " , message: 'should NOT have more than " + s.length + " items' "), t.opts.verbose && (i += " , schema: false , parentSchema: validate.schema" + t.schemaPath + " , data: " + f + " "), i += " } ") : i += " {} ";
      var S = i;
      i = O.pop(), !t.compositeRule && c ? t.async ? i += " throw new ValidationError([" + S + "]); " : i += " validate.errors = [" + S + "]; return false; " : i += " var err = " + S + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ", i += " } ", u = E, c && (m += "}", i += " else { ");
    }
    var P = s;
    if (P) {
      for (var C, w = -1, N = P.length - 1; w < N; )
        if (C = P[w += 1], t.opts.strictKeywords ? typeof C == "object" && Object.keys(C).length > 0 || C === false : t.util.schemaHasRules(C, t.RULES.all)) {
          i += " " + g + " = true; if (" + f + ".length > " + w + ") { ";
          var L = f + "[" + w + "]";
          p.schema = C, p.schemaPath = l + "[" + w + "]", p.errSchemaPath = u + "/" + w, p.errorPath = t.util.getPathExpr(t.errorPath, w, t.opts.jsonPointers, true), p.dataPathArr[b] = w;
          var A = t.validate(p);
          p.baseId = _, t.util.varOccurences(A, y) < 2 ? i += " " + t.util.varReplace(A, y, L) + " " : i += " var " + y + " = " + L + "; " + A + " ", i += " }  ", c && (i += " if (" + g + ") { ", m += "}");
        }
    }
    if (typeof T == "object" && (t.opts.strictKeywords ? typeof T == "object" && Object.keys(T).length > 0 || T === false : t.util.schemaHasRules(T, t.RULES.all))) {
      p.schema = T, p.schemaPath = t.schemaPath + ".additionalItems", p.errSchemaPath = t.errSchemaPath + "/additionalItems", i += " " + g + " = true; if (" + f + ".length > " + s.length + ") {  for (var " + v + " = " + s.length + "; " + v + " < " + f + ".length; " + v + "++) { ", p.errorPath = t.util.getPathExpr(t.errorPath, v, t.opts.jsonPointers, true);
      var L = f + "[" + v + "]";
      p.dataPathArr[b] = v;
      var A = t.validate(p);
      p.baseId = _, t.util.varOccurences(A, y) < 2 ? i += " " + t.util.varReplace(A, y, L) + " " : i += " var " + y + " = " + L + "; " + A + " ", c && (i += " if (!" + g + ") break; "), i += " } }  ", c && (i += " if (" + g + ") { ", m += "}");
    }
  } else if (t.opts.strictKeywords ? typeof s == "object" && Object.keys(s).length > 0 || s === false : t.util.schemaHasRules(s, t.RULES.all)) {
    p.schema = s, p.schemaPath = l, p.errSchemaPath = u, i += "  for (var " + v + " = 0; " + v + " < " + f + ".length; " + v + "++) { ", p.errorPath = t.util.getPathExpr(t.errorPath, v, t.opts.jsonPointers, true);
    var L = f + "[" + v + "]";
    p.dataPathArr[b] = v;
    var A = t.validate(p);
    p.baseId = _, t.util.varOccurences(A, y) < 2 ? i += " " + t.util.varReplace(A, y, L) + " " : i += " var " + y + " = " + L + "; " + A + " ", c && (i += " if (!" + g + ") break; "), i += " }";
  }
  return c && (i += " " + m + " if (" + d + " == errors) {"), i;
};
var D4 = function(t, r, n) {
  var i = " ", o = t.level, a = t.dataLevel, s = t.schema[r], l = t.schemaPath + t.util.getProperty(r), u = t.errSchemaPath + "/" + r, c = !t.opts.allErrors, _, f = "data" + (a || ""), h = t.opts.$data && s && s.$data, d;
  h ? (i += " var schema" + o + " = " + t.util.getData(s.$data, a, t.dataPathArr) + "; ", d = "schema" + o) : d = s;
  var p = r == "maximum", m = p ? "exclusiveMaximum" : "exclusiveMinimum", g = t.schema[m], v = t.opts.$data && g && g.$data, b = p ? "<" : ">", y = p ? ">" : "<", _ = void 0;
  if (!(h || typeof s == "number" || s === void 0))
    throw new Error(r + " must be number");
  if (!(v || g === void 0 || typeof g == "number" || typeof g == "boolean"))
    throw new Error(m + " must be number or boolean");
  if (v) {
    var T = t.util.getData(g.$data, a, t.dataPathArr), E = "exclusive" + o, O = "exclType" + o, S = "exclIsNumber" + o, P = "op" + o, C = "' + " + P + " + '";
    i += " var schemaExcl" + o + " = " + T + "; ", T = "schemaExcl" + o, i += " var " + E + "; var " + O + " = typeof " + T + "; if (" + O + " != 'boolean' && " + O + " != 'undefined' && " + O + " != 'number') { ";
    var _ = m, w = w || [];
    w.push(i), i = "", t.createErrors !== false ? (i += " { keyword: '" + (_ || "_exclusiveLimit") + "' , dataPath: (dataPath || '') + " + t.errorPath + " , schemaPath: " + t.util.toQuotedString(u) + " , params: {} ", t.opts.messages !== false && (i += " , message: '" + m + " should be boolean' "), t.opts.verbose && (i += " , schema: validate.schema" + l + " , parentSchema: validate.schema" + t.schemaPath + " , data: " + f + " "), i += " } ") : i += " {} ";
    var N = i;
    i = w.pop(), !t.compositeRule && c ? t.async ? i += " throw new ValidationError([" + N + "]); " : i += " validate.errors = [" + N + "]; return false; " : i += " var err = " + N + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ", i += " } else if ( ", h && (i += " (" + d + " !== undefined && typeof " + d + " != 'number') || "), i += " " + O + " == 'number' ? ( (" + E + " = " + d + " === undefined || " + T + " " + b + "= " + d + ") ? " + f + " " + y + "= " + T + " : " + f + " " + y + " " + d + " ) : ( (" + E + " = " + T + " === true) ? " + f + " " + y + "= " + d + " : " + f + " " + y + " " + d + " ) || " + f + " !== " + f + ") { var op" + o + " = " + E + " ? '" + b + "' : '" + b + "='; ", s === void 0 && (_ = m, u = t.errSchemaPath + "/" + m, d = T, h = v);
  } else {
    var S = typeof g == "number", C = b;
    if (S && h) {
      var P = "'" + C + "'";
      i += " if ( ", h && (i += " (" + d + " !== undefined && typeof " + d + " != 'number') || "), i += " ( " + d + " === undefined || " + g + " " + b + "= " + d + " ? " + f + " " + y + "= " + g + " : " + f + " " + y + " " + d + " ) || " + f + " !== " + f + ") { ";
    } else {
      S && s === void 0 ? (E = true, _ = m, u = t.errSchemaPath + "/" + m, d = g, y += "=") : (S && (d = Math[p ? "min" : "max"](g, s)), g === (S ? d : true) ? (E = true, _ = m, u = t.errSchemaPath + "/" + m, y += "=") : (E = false, C += "="));
      var P = "'" + C + "'";
      i += " if ( ", h && (i += " (" + d + " !== undefined && typeof " + d + " != 'number') || "), i += " " + f + " " + y + " " + d + " || " + f + " !== " + f + ") { ";
    }
  }
  _ = _ || r;
  var w = w || [];
  w.push(i), i = "", t.createErrors !== false ? (i += " { keyword: '" + (_ || "_limit") + "' , dataPath: (dataPath || '') + " + t.errorPath + " , schemaPath: " + t.util.toQuotedString(u) + " , params: { comparison: " + P + ", limit: " + d + ", exclusive: " + E + " } ", t.opts.messages !== false && (i += " , message: 'should be " + C + " ", h ? i += "' + " + d : i += "" + d + "'"), t.opts.verbose && (i += " , schema:  ", h ? i += "validate.schema" + l : i += "" + s, i += "         , parentSchema: validate.schema" + t.schemaPath + " , data: " + f + " "), i += " } ") : i += " {} ";
  var N = i;
  return i = w.pop(), !t.compositeRule && c ? t.async ? i += " throw new ValidationError([" + N + "]); " : i += " validate.errors = [" + N + "]; return false; " : i += " var err = " + N + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ", i += " } ", c && (i += " else { "), i;
};
var R4 = function(t, r, n) {
  var i = " ", o = t.level, a = t.dataLevel, s = t.schema[r], l = t.schemaPath + t.util.getProperty(r), u = t.errSchemaPath + "/" + r, c = !t.opts.allErrors, m, f = "data" + (a || ""), h = t.opts.$data && s && s.$data, d;
  if (h ? (i += " var schema" + o + " = " + t.util.getData(s.$data, a, t.dataPathArr) + "; ", d = "schema" + o) : d = s, !(h || typeof s == "number"))
    throw new Error(r + " must be number");
  var p = r == "maxItems" ? ">" : "<";
  i += "if ( ", h && (i += " (" + d + " !== undefined && typeof " + d + " != 'number') || "), i += " " + f + ".length " + p + " " + d + ") { ";
  var m = r, g = g || [];
  g.push(i), i = "", t.createErrors !== false ? (i += " { keyword: '" + (m || "_limitItems") + "' , dataPath: (dataPath || '') + " + t.errorPath + " , schemaPath: " + t.util.toQuotedString(u) + " , params: { limit: " + d + " } ", t.opts.messages !== false && (i += " , message: 'should NOT have ", r == "maxItems" ? i += "more" : i += "fewer", i += " than ", h ? i += "' + " + d + " + '" : i += "" + s, i += " items' "), t.opts.verbose && (i += " , schema:  ", h ? i += "validate.schema" + l : i += "" + s, i += "         , parentSchema: validate.schema" + t.schemaPath + " , data: " + f + " "), i += " } ") : i += " {} ";
  var v = i;
  return i = g.pop(), !t.compositeRule && c ? t.async ? i += " throw new ValidationError([" + v + "]); " : i += " validate.errors = [" + v + "]; return false; " : i += " var err = " + v + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ", i += "} ", c && (i += " else { "), i;
};
var N4 = function(t, r, n) {
  var i = " ", o = t.level, a = t.dataLevel, s = t.schema[r], l = t.schemaPath + t.util.getProperty(r), u = t.errSchemaPath + "/" + r, c = !t.opts.allErrors, m, f = "data" + (a || ""), h = t.opts.$data && s && s.$data, d;
  if (h ? (i += " var schema" + o + " = " + t.util.getData(s.$data, a, t.dataPathArr) + "; ", d = "schema" + o) : d = s, !(h || typeof s == "number"))
    throw new Error(r + " must be number");
  var p = r == "maxLength" ? ">" : "<";
  i += "if ( ", h && (i += " (" + d + " !== undefined && typeof " + d + " != 'number') || "), t.opts.unicode === false ? i += " " + f + ".length " : i += " ucs2length(" + f + ") ", i += " " + p + " " + d + ") { ";
  var m = r, g = g || [];
  g.push(i), i = "", t.createErrors !== false ? (i += " { keyword: '" + (m || "_limitLength") + "' , dataPath: (dataPath || '') + " + t.errorPath + " , schemaPath: " + t.util.toQuotedString(u) + " , params: { limit: " + d + " } ", t.opts.messages !== false && (i += " , message: 'should NOT be ", r == "maxLength" ? i += "longer" : i += "shorter", i += " than ", h ? i += "' + " + d + " + '" : i += "" + s, i += " characters' "), t.opts.verbose && (i += " , schema:  ", h ? i += "validate.schema" + l : i += "" + s, i += "         , parentSchema: validate.schema" + t.schemaPath + " , data: " + f + " "), i += " } ") : i += " {} ";
  var v = i;
  return i = g.pop(), !t.compositeRule && c ? t.async ? i += " throw new ValidationError([" + v + "]); " : i += " validate.errors = [" + v + "]; return false; " : i += " var err = " + v + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ", i += "} ", c && (i += " else { "), i;
};
var M4 = function(t, r, n) {
  var i = " ", o = t.level, a = t.dataLevel, s = t.schema[r], l = t.schemaPath + t.util.getProperty(r), u = t.errSchemaPath + "/" + r, c = !t.opts.allErrors, m, f = "data" + (a || ""), h = t.opts.$data && s && s.$data, d;
  if (h ? (i += " var schema" + o + " = " + t.util.getData(s.$data, a, t.dataPathArr) + "; ", d = "schema" + o) : d = s, !(h || typeof s == "number"))
    throw new Error(r + " must be number");
  var p = r == "maxProperties" ? ">" : "<";
  i += "if ( ", h && (i += " (" + d + " !== undefined && typeof " + d + " != 'number') || "), i += " Object.keys(" + f + ").length " + p + " " + d + ") { ";
  var m = r, g = g || [];
  g.push(i), i = "", t.createErrors !== false ? (i += " { keyword: '" + (m || "_limitProperties") + "' , dataPath: (dataPath || '') + " + t.errorPath + " , schemaPath: " + t.util.toQuotedString(u) + " , params: { limit: " + d + " } ", t.opts.messages !== false && (i += " , message: 'should NOT have ", r == "maxProperties" ? i += "more" : i += "fewer", i += " than ", h ? i += "' + " + d + " + '" : i += "" + s, i += " properties' "), t.opts.verbose && (i += " , schema:  ", h ? i += "validate.schema" + l : i += "" + s, i += "         , parentSchema: validate.schema" + t.schemaPath + " , data: " + f + " "), i += " } ") : i += " {} ";
  var v = i;
  return i = g.pop(), !t.compositeRule && c ? t.async ? i += " throw new ValidationError([" + v + "]); " : i += " validate.errors = [" + v + "]; return false; " : i += " var err = " + v + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ", i += "} ", c && (i += " else { "), i;
};
var Qrt = function(t, r, n) {
  var i = " ", o = t.level, a = t.dataLevel, s = t.schema[r], l = t.schemaPath + t.util.getProperty(r), u = t.errSchemaPath + "/" + r, c = !t.opts.allErrors, f = "data" + (a || ""), h = t.opts.$data && s && s.$data, d;
  if (h ? (i += " var schema" + o + " = " + t.util.getData(s.$data, a, t.dataPathArr) + "; ", d = "schema" + o) : d = s, !(h || typeof s == "number"))
    throw new Error(r + " must be number");
  i += "var division" + o + ";if (", h && (i += " " + d + " !== undefined && ( typeof " + d + " != 'number' || "), i += " (division" + o + " = " + f + " / " + d + ", ", t.opts.multipleOfPrecision ? i += " Math.abs(Math.round(division" + o + ") - division" + o + ") > 1e-" + t.opts.multipleOfPrecision + " " : i += " division" + o + " !== parseInt(division" + o + ") ", i += " ) ", h && (i += "  )  "), i += " ) {   ";
  var p = p || [];
  p.push(i), i = "", t.createErrors !== false ? (i += " { keyword: 'multipleOf' , dataPath: (dataPath || '') + " + t.errorPath + " , schemaPath: " + t.util.toQuotedString(u) + " , params: { multipleOf: " + d + " } ", t.opts.messages !== false && (i += " , message: 'should be multiple of ", h ? i += "' + " + d : i += "" + d + "'"), t.opts.verbose && (i += " , schema:  ", h ? i += "validate.schema" + l : i += "" + s, i += "         , parentSchema: validate.schema" + t.schemaPath + " , data: " + f + " "), i += " } ") : i += " {} ";
  var m = i;
  return i = p.pop(), !t.compositeRule && c ? t.async ? i += " throw new ValidationError([" + m + "]); " : i += " validate.errors = [" + m + "]; return false; " : i += " var err = " + m + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ", i += "} ", c && (i += " else { "), i;
};
var Jrt = function(t, r, n) {
  var i = " ", o = t.level, a = t.dataLevel, s = t.schema[r], l = t.schemaPath + t.util.getProperty(r), u = t.errSchemaPath + "/" + r, c = !t.opts.allErrors, f = "data" + (a || ""), h = "errs__" + o, d = t.util.copy(t);
  d.level++;
  var p = "valid" + d.level;
  if (t.opts.strictKeywords ? typeof s == "object" && Object.keys(s).length > 0 || s === false : t.util.schemaHasRules(s, t.RULES.all)) {
    d.schema = s, d.schemaPath = l, d.errSchemaPath = u, i += " var " + h + " = errors;  ";
    var m = t.compositeRule;
    t.compositeRule = d.compositeRule = true, d.createErrors = false;
    var g;
    d.opts.allErrors && (g = d.opts.allErrors, d.opts.allErrors = false), i += " " + t.validate(d) + " ", d.createErrors = true, g && (d.opts.allErrors = g), t.compositeRule = d.compositeRule = m, i += " if (" + p + ") {   ";
    var v = v || [];
    v.push(i), i = "", t.createErrors !== false ? (i += " { keyword: 'not' , dataPath: (dataPath || '') + " + t.errorPath + " , schemaPath: " + t.util.toQuotedString(u) + " , params: {} ", t.opts.messages !== false && (i += " , message: 'should NOT be valid' "), t.opts.verbose && (i += " , schema: validate.schema" + l + " , parentSchema: validate.schema" + t.schemaPath + " , data: " + f + " "), i += " } ") : i += " {} ";
    var b = i;
    i = v.pop(), !t.compositeRule && c ? t.async ? i += " throw new ValidationError([" + b + "]); " : i += " validate.errors = [" + b + "]; return false; " : i += " var err = " + b + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ", i += " } else {  errors = " + h + "; if (vErrors !== null) { if (" + h + ") vErrors.length = " + h + "; else vErrors = null; } ", t.opts.allErrors && (i += " } ");
  } else
    i += "  var err =   ", t.createErrors !== false ? (i += " { keyword: 'not' , dataPath: (dataPath || '') + " + t.errorPath + " , schemaPath: " + t.util.toQuotedString(u) + " , params: {} ", t.opts.messages !== false && (i += " , message: 'should NOT be valid' "), t.opts.verbose && (i += " , schema: validate.schema" + l + " , parentSchema: validate.schema" + t.schemaPath + " , data: " + f + " "), i += " } ") : i += " {} ", i += ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ", c && (i += " if (false) { ");
  return i;
};
var ent = function(t, r, n) {
  var i = " ", o = t.level, a = t.dataLevel, s = t.schema[r], l = t.schemaPath + t.util.getProperty(r), u = t.errSchemaPath + "/" + r, c = !t.opts.allErrors, f = "data" + (a || ""), h = "valid" + o, d = "errs__" + o, p = t.util.copy(t), m = "";
  p.level++;
  var g = "valid" + p.level, v = p.baseId, b = "prevValid" + o, y = "passingSchemas" + o;
  i += "var " + d + " = errors , " + b + " = false , " + h + " = false , " + y + " = null; ";
  var _ = t.compositeRule;
  t.compositeRule = p.compositeRule = true;
  var T = s;
  if (T)
    for (var E, O = -1, S = T.length - 1; O < S; )
      E = T[O += 1], (t.opts.strictKeywords ? typeof E == "object" && Object.keys(E).length > 0 || E === false : t.util.schemaHasRules(E, t.RULES.all)) ? (p.schema = E, p.schemaPath = l + "[" + O + "]", p.errSchemaPath = u + "/" + O, i += "  " + t.validate(p) + " ", p.baseId = v) : i += " var " + g + " = true; ", O && (i += " if (" + g + " && " + b + ") { " + h + " = false; " + y + " = [" + y + ", " + O + "]; } else { ", m += "}"), i += " if (" + g + ") { " + h + " = " + b + " = true; " + y + " = " + O + "; }";
  return t.compositeRule = p.compositeRule = _, i += "" + m + "if (!" + h + ") {   var err =   ", t.createErrors !== false ? (i += " { keyword: 'oneOf' , dataPath: (dataPath || '') + " + t.errorPath + " , schemaPath: " + t.util.toQuotedString(u) + " , params: { passingSchemas: " + y + " } ", t.opts.messages !== false && (i += " , message: 'should match exactly one schema in oneOf' "), t.opts.verbose && (i += " , schema: validate.schema" + l + " , parentSchema: validate.schema" + t.schemaPath + " , data: " + f + " "), i += " } ") : i += " {} ", i += ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ", !t.compositeRule && c && (t.async ? i += " throw new ValidationError(vErrors); " : i += " validate.errors = vErrors; return false; "), i += "} else {  errors = " + d + "; if (vErrors !== null) { if (" + d + ") vErrors.length = " + d + "; else vErrors = null; }", t.opts.allErrors && (i += " } "), i;
};
var tnt = function(t, r, n) {
  var i = " ", o = t.level, a = t.dataLevel, s = t.schema[r], l = t.schemaPath + t.util.getProperty(r), u = t.errSchemaPath + "/" + r, c = !t.opts.allErrors, f = "data" + (a || ""), h = t.opts.$data && s && s.$data, d;
  h ? (i += " var schema" + o + " = " + t.util.getData(s.$data, a, t.dataPathArr) + "; ", d = "schema" + o) : d = s;
  var p = h ? "(new RegExp(" + d + "))" : t.usePattern(s);
  i += "if ( ", h && (i += " (" + d + " !== undefined && typeof " + d + " != 'string') || "), i += " !" + p + ".test(" + f + ") ) {   ";
  var m = m || [];
  m.push(i), i = "", t.createErrors !== false ? (i += " { keyword: 'pattern' , dataPath: (dataPath || '') + " + t.errorPath + " , schemaPath: " + t.util.toQuotedString(u) + " , params: { pattern:  ", h ? i += "" + d : i += "" + t.util.toQuotedString(s), i += "  } ", t.opts.messages !== false && (i += ` , message: 'should match pattern "`, h ? i += "' + " + d + " + '" : i += "" + t.util.escapeQuotes(s), i += `"' `), t.opts.verbose && (i += " , schema:  ", h ? i += "validate.schema" + l : i += "" + t.util.toQuotedString(s), i += "         , parentSchema: validate.schema" + t.schemaPath + " , data: " + f + " "), i += " } ") : i += " {} ";
  var g = i;
  return i = m.pop(), !t.compositeRule && c ? t.async ? i += " throw new ValidationError([" + g + "]); " : i += " validate.errors = [" + g + "]; return false; " : i += " var err = " + g + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ", i += "} ", c && (i += " else { "), i;
};
var rnt = function(t, r, n) {
  var i = " ", o = t.level, a = t.dataLevel, s = t.schema[r], l = t.schemaPath + t.util.getProperty(r), u = t.errSchemaPath + "/" + r, c = !t.opts.allErrors, f = "data" + (a || ""), h = "errs__" + o, d = t.util.copy(t), p = "";
  d.level++;
  var m = "valid" + d.level, g = "key" + o, v = "idx" + o, b = d.dataLevel = t.dataLevel + 1, y = "data" + b, _ = "dataProperties" + o, T = Object.keys(s || {}).filter(K), E = t.schema.patternProperties || {}, O = Object.keys(E).filter(K), S = t.schema.additionalProperties, P = T.length || O.length, C = S === false, w = typeof S == "object" && Object.keys(S).length, N = t.opts.removeAdditional, L = C || w || N, A = t.opts.ownProperties, R = t.baseId, F = t.schema.required;
  if (F && !(t.opts.$data && F.$data) && F.length < t.opts.loopRequired)
    var $ = t.util.toHash(F);
  function K(ee) {
    return ee !== "__proto__";
  }
  if (i += "var " + h + " = errors;var " + m + " = true;", A && (i += " var " + _ + " = undefined;"), L) {
    if (A ? i += " " + _ + " = " + _ + " || Object.keys(" + f + "); for (var " + v + "=0; " + v + "<" + _ + ".length; " + v + "++) { var " + g + " = " + _ + "[" + v + "]; " : i += " for (var " + g + " in " + f + ") { ", P) {
      if (i += " var isAdditional" + o + " = !(false ", T.length)
        if (T.length > 8)
          i += " || validate.schema" + l + ".hasOwnProperty(" + g + ") ";
        else {
          var ie = T;
          if (ie)
            for (var J, pe = -1, oe = ie.length - 1; pe < oe; )
              J = ie[pe += 1], i += " || " + g + " == " + t.util.toQuotedString(J) + " ";
        }
      if (O.length) {
        var q = O;
        if (q)
          for (var W, se = -1, Te = q.length - 1; se < Te; )
            W = q[se += 1], i += " || " + t.usePattern(W) + ".test(" + g + ") ";
      }
      i += " ); if (isAdditional" + o + ") { ";
    }
    if (N == "all")
      i += " delete " + f + "[" + g + "]; ";
    else {
      var Ae = t.errorPath, Re = "' + " + g + " + '";
      if (t.opts._errorDataPathProperty && (t.errorPath = t.util.getPathExpr(t.errorPath, g, t.opts.jsonPointers)), C)
        if (N)
          i += " delete " + f + "[" + g + "]; ";
        else {
          i += " " + m + " = false; ";
          var Ee = u;
          u = t.errSchemaPath + "/additionalProperties";
          var Me = Me || [];
          Me.push(i), i = "", t.createErrors !== false ? (i += " { keyword: 'additionalProperties' , dataPath: (dataPath || '') + " + t.errorPath + " , schemaPath: " + t.util.toQuotedString(u) + " , params: { additionalProperty: '" + Re + "' } ", t.opts.messages !== false && (i += " , message: '", t.opts._errorDataPathProperty ? i += "is an invalid additional property" : i += "should NOT have additional properties", i += "' "), t.opts.verbose && (i += " , schema: false , parentSchema: validate.schema" + t.schemaPath + " , data: " + f + " "), i += " } ") : i += " {} ";
          var Ne = i;
          i = Me.pop(), !t.compositeRule && c ? t.async ? i += " throw new ValidationError([" + Ne + "]); " : i += " validate.errors = [" + Ne + "]; return false; " : i += " var err = " + Ne + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ", u = Ee, c && (i += " break; ");
        }
      else if (w)
        if (N == "failing") {
          i += " var " + h + " = errors;  ";
          var Oe = t.compositeRule;
          t.compositeRule = d.compositeRule = true, d.schema = S, d.schemaPath = t.schemaPath + ".additionalProperties", d.errSchemaPath = t.errSchemaPath + "/additionalProperties", d.errorPath = t.opts._errorDataPathProperty ? t.errorPath : t.util.getPathExpr(t.errorPath, g, t.opts.jsonPointers);
          var Fe = f + "[" + g + "]";
          d.dataPathArr[b] = g;
          var Ue = t.validate(d);
          d.baseId = R, t.util.varOccurences(Ue, y) < 2 ? i += " " + t.util.varReplace(Ue, y, Fe) + " " : i += " var " + y + " = " + Fe + "; " + Ue + " ", i += " if (!" + m + ") { errors = " + h + "; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete " + f + "[" + g + "]; }  ", t.compositeRule = d.compositeRule = Oe;
        } else {
          d.schema = S, d.schemaPath = t.schemaPath + ".additionalProperties", d.errSchemaPath = t.errSchemaPath + "/additionalProperties", d.errorPath = t.opts._errorDataPathProperty ? t.errorPath : t.util.getPathExpr(t.errorPath, g, t.opts.jsonPointers);
          var Fe = f + "[" + g + "]";
          d.dataPathArr[b] = g;
          var Ue = t.validate(d);
          d.baseId = R, t.util.varOccurences(Ue, y) < 2 ? i += " " + t.util.varReplace(Ue, y, Fe) + " " : i += " var " + y + " = " + Fe + "; " + Ue + " ", c && (i += " if (!" + m + ") break; ");
        }
      t.errorPath = Ae;
    }
    P && (i += " } "), i += " }  ", c && (i += " if (" + m + ") { ", p += "}");
  }
  var et = t.opts.useDefaults && !t.compositeRule;
  if (T.length) {
    var ot = T;
    if (ot)
      for (var J, Ke = -1, ht = ot.length - 1; Ke < ht; ) {
        J = ot[Ke += 1];
        var bt = s[J];
        if (t.opts.strictKeywords ? typeof bt == "object" && Object.keys(bt).length > 0 || bt === false : t.util.schemaHasRules(bt, t.RULES.all)) {
          var $t = t.util.getProperty(J), Fe = f + $t, rn = et && bt.default !== void 0;
          d.schema = bt, d.schemaPath = l + $t, d.errSchemaPath = u + "/" + t.util.escapeFragment(J), d.errorPath = t.util.getPath(t.errorPath, J, t.opts.jsonPointers), d.dataPathArr[b] = t.util.toQuotedString(J);
          var Ue = t.validate(d);
          if (d.baseId = R, t.util.varOccurences(Ue, y) < 2) {
            Ue = t.util.varReplace(Ue, y, Fe);
            var Ht = Fe;
          } else {
            var Ht = y;
            i += " var " + y + " = " + Fe + "; ";
          }
          if (rn)
            i += " " + Ue + " ";
          else {
            if ($ && $[J]) {
              i += " if ( " + Ht + " === undefined ", A && (i += " || ! Object.prototype.hasOwnProperty.call(" + f + ", '" + t.util.escapeQuotes(J) + "') "), i += ") { " + m + " = false; ";
              var Ae = t.errorPath, Ee = u, xe = t.util.escapeQuotes(J);
              t.opts._errorDataPathProperty && (t.errorPath = t.util.getPath(Ae, J, t.opts.jsonPointers)), u = t.errSchemaPath + "/required";
              var Me = Me || [];
              Me.push(i), i = "", t.createErrors !== false ? (i += " { keyword: 'required' , dataPath: (dataPath || '') + " + t.errorPath + " , schemaPath: " + t.util.toQuotedString(u) + " , params: { missingProperty: '" + xe + "' } ", t.opts.messages !== false && (i += " , message: '", t.opts._errorDataPathProperty ? i += "is a required property" : i += "should have required property \\'" + xe + "\\'", i += "' "), t.opts.verbose && (i += " , schema: validate.schema" + l + " , parentSchema: validate.schema" + t.schemaPath + " , data: " + f + " "), i += " } ") : i += " {} ";
              var Ne = i;
              i = Me.pop(), !t.compositeRule && c ? t.async ? i += " throw new ValidationError([" + Ne + "]); " : i += " validate.errors = [" + Ne + "]; return false; " : i += " var err = " + Ne + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ", u = Ee, t.errorPath = Ae, i += " } else { ";
            } else
              c ? (i += " if ( " + Ht + " === undefined ", A && (i += " || ! Object.prototype.hasOwnProperty.call(" + f + ", '" + t.util.escapeQuotes(J) + "') "), i += ") { " + m + " = true; } else { ") : (i += " if (" + Ht + " !== undefined ", A && (i += " &&   Object.prototype.hasOwnProperty.call(" + f + ", '" + t.util.escapeQuotes(J) + "') "), i += " ) { ");
            i += " " + Ue + " } ";
          }
        }
        c && (i += " if (" + m + ") { ", p += "}");
      }
  }
  if (O.length) {
    var ne = O;
    if (ne)
      for (var W, ce = -1, _e = ne.length - 1; ce < _e; ) {
        W = ne[ce += 1];
        var bt = E[W];
        if (t.opts.strictKeywords ? typeof bt == "object" && Object.keys(bt).length > 0 || bt === false : t.util.schemaHasRules(bt, t.RULES.all)) {
          d.schema = bt, d.schemaPath = t.schemaPath + ".patternProperties" + t.util.getProperty(W), d.errSchemaPath = t.errSchemaPath + "/patternProperties/" + t.util.escapeFragment(W), A ? i += " " + _ + " = " + _ + " || Object.keys(" + f + "); for (var " + v + "=0; " + v + "<" + _ + ".length; " + v + "++) { var " + g + " = " + _ + "[" + v + "]; " : i += " for (var " + g + " in " + f + ") { ", i += " if (" + t.usePattern(W) + ".test(" + g + ")) { ", d.errorPath = t.util.getPathExpr(t.errorPath, g, t.opts.jsonPointers);
          var Fe = f + "[" + g + "]";
          d.dataPathArr[b] = g;
          var Ue = t.validate(d);
          d.baseId = R, t.util.varOccurences(Ue, y) < 2 ? i += " " + t.util.varReplace(Ue, y, Fe) + " " : i += " var " + y + " = " + Fe + "; " + Ue + " ", c && (i += " if (!" + m + ") break; "), i += " } ", c && (i += " else " + m + " = true; "), i += " }  ", c && (i += " if (" + m + ") { ", p += "}");
        }
      }
  }
  return c && (i += " " + p + " if (" + h + " == errors) {"), i;
};
var nnt = function(t, r, n) {
  var i = " ", o = t.level, a = t.dataLevel, s = t.schema[r], l = t.schemaPath + t.util.getProperty(r), u = t.errSchemaPath + "/" + r, c = !t.opts.allErrors, f = "data" + (a || ""), h = "errs__" + o, d = t.util.copy(t), p = "";
  d.level++;
  var m = "valid" + d.level;
  if (i += "var " + h + " = errors;", t.opts.strictKeywords ? typeof s == "object" && Object.keys(s).length > 0 || s === false : t.util.schemaHasRules(s, t.RULES.all)) {
    d.schema = s, d.schemaPath = l, d.errSchemaPath = u;
    var g = "key" + o, v = "idx" + o, b = "i" + o, y = "' + " + g + " + '", _ = d.dataLevel = t.dataLevel + 1, T = "data" + _, E = "dataProperties" + o, O = t.opts.ownProperties, S = t.baseId;
    O && (i += " var " + E + " = undefined; "), O ? i += " " + E + " = " + E + " || Object.keys(" + f + "); for (var " + v + "=0; " + v + "<" + E + ".length; " + v + "++) { var " + g + " = " + E + "[" + v + "]; " : i += " for (var " + g + " in " + f + ") { ", i += " var startErrs" + o + " = errors; ";
    var P = g, C = t.compositeRule;
    t.compositeRule = d.compositeRule = true;
    var w = t.validate(d);
    d.baseId = S, t.util.varOccurences(w, T) < 2 ? i += " " + t.util.varReplace(w, T, P) + " " : i += " var " + T + " = " + P + "; " + w + " ", t.compositeRule = d.compositeRule = C, i += " if (!" + m + ") { for (var " + b + "=startErrs" + o + "; " + b + "<errors; " + b + "++) { vErrors[" + b + "].propertyName = " + g + "; }   var err =   ", t.createErrors !== false ? (i += " { keyword: 'propertyNames' , dataPath: (dataPath || '') + " + t.errorPath + " , schemaPath: " + t.util.toQuotedString(u) + " , params: { propertyName: '" + y + "' } ", t.opts.messages !== false && (i += " , message: 'property name \\'" + y + "\\' is invalid' "), t.opts.verbose && (i += " , schema: validate.schema" + l + " , parentSchema: validate.schema" + t.schemaPath + " , data: " + f + " "), i += " } ") : i += " {} ", i += ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ", !t.compositeRule && c && (t.async ? i += " throw new ValidationError(vErrors); " : i += " validate.errors = vErrors; return false; "), c && (i += " break; "), i += " } }";
  }
  return c && (i += " " + p + " if (" + h + " == errors) {"), i;
};
var int = function(t, r, n) {
  var i = " ", o = t.level, a = t.dataLevel, s = t.schema[r], l = t.schemaPath + t.util.getProperty(r), u = t.errSchemaPath + "/" + r, c = !t.opts.allErrors, f = "data" + (a || ""), h = "valid" + o, d = t.opts.$data && s && s.$data;
  d && (i += " var schema" + o + " = " + t.util.getData(s.$data, a, t.dataPathArr) + "; ");
  var p = "schema" + o;
  if (!d)
    if (s.length < t.opts.loopRequired && t.schema.properties && Object.keys(t.schema.properties).length) {
      var m = [], g = s;
      if (g)
        for (var v, b = -1, y = g.length - 1; b < y; ) {
          v = g[b += 1];
          var _ = t.schema.properties[v];
          _ && (t.opts.strictKeywords ? typeof _ == "object" && Object.keys(_).length > 0 || _ === false : t.util.schemaHasRules(_, t.RULES.all)) || (m[m.length] = v);
        }
    } else
      var m = s;
  if (d || m.length) {
    var T = t.errorPath, E = d || m.length >= t.opts.loopRequired, O = t.opts.ownProperties;
    if (c)
      if (i += " var missing" + o + "; ", E) {
        d || (i += " var " + p + " = validate.schema" + l + "; ");
        var S = "i" + o, P = "schema" + o + "[" + S + "]", C = "' + " + P + " + '";
        t.opts._errorDataPathProperty && (t.errorPath = t.util.getPathExpr(T, P, t.opts.jsonPointers)), i += " var " + h + " = true; ", d && (i += " if (schema" + o + " === undefined) " + h + " = true; else if (!Array.isArray(schema" + o + ")) " + h + " = false; else {"), i += " for (var " + S + " = 0; " + S + " < " + p + ".length; " + S + "++) { " + h + " = " + f + "[" + p + "[" + S + "]] !== undefined ", O && (i += " &&   Object.prototype.hasOwnProperty.call(" + f + ", " + p + "[" + S + "]) "), i += "; if (!" + h + ") break; } ", d && (i += "  }  "), i += "  if (!" + h + ") {   ";
        var w = w || [];
        w.push(i), i = "", t.createErrors !== false ? (i += " { keyword: 'required' , dataPath: (dataPath || '') + " + t.errorPath + " , schemaPath: " + t.util.toQuotedString(u) + " , params: { missingProperty: '" + C + "' } ", t.opts.messages !== false && (i += " , message: '", t.opts._errorDataPathProperty ? i += "is a required property" : i += "should have required property \\'" + C + "\\'", i += "' "), t.opts.verbose && (i += " , schema: validate.schema" + l + " , parentSchema: validate.schema" + t.schemaPath + " , data: " + f + " "), i += " } ") : i += " {} ";
        var N = i;
        i = w.pop(), !t.compositeRule && c ? t.async ? i += " throw new ValidationError([" + N + "]); " : i += " validate.errors = [" + N + "]; return false; " : i += " var err = " + N + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ", i += " } else { ";
      } else {
        i += " if ( ";
        var L = m;
        if (L)
          for (var A, S = -1, R = L.length - 1; S < R; ) {
            A = L[S += 1], S && (i += " || ");
            var F = t.util.getProperty(A), $ = f + F;
            i += " ( ( " + $ + " === undefined ", O && (i += " || ! Object.prototype.hasOwnProperty.call(" + f + ", '" + t.util.escapeQuotes(A) + "') "), i += ") && (missing" + o + " = " + t.util.toQuotedString(t.opts.jsonPointers ? A : F) + ") ) ";
          }
        i += ") {  ";
        var P = "missing" + o, C = "' + " + P + " + '";
        t.opts._errorDataPathProperty && (t.errorPath = t.opts.jsonPointers ? t.util.getPathExpr(T, P, true) : T + " + " + P);
        var w = w || [];
        w.push(i), i = "", t.createErrors !== false ? (i += " { keyword: 'required' , dataPath: (dataPath || '') + " + t.errorPath + " , schemaPath: " + t.util.toQuotedString(u) + " , params: { missingProperty: '" + C + "' } ", t.opts.messages !== false && (i += " , message: '", t.opts._errorDataPathProperty ? i += "is a required property" : i += "should have required property \\'" + C + "\\'", i += "' "), t.opts.verbose && (i += " , schema: validate.schema" + l + " , parentSchema: validate.schema" + t.schemaPath + " , data: " + f + " "), i += " } ") : i += " {} ";
        var N = i;
        i = w.pop(), !t.compositeRule && c ? t.async ? i += " throw new ValidationError([" + N + "]); " : i += " validate.errors = [" + N + "]; return false; " : i += " var err = " + N + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ", i += " } else { ";
      }
    else if (E) {
      d || (i += " var " + p + " = validate.schema" + l + "; ");
      var S = "i" + o, P = "schema" + o + "[" + S + "]", C = "' + " + P + " + '";
      t.opts._errorDataPathProperty && (t.errorPath = t.util.getPathExpr(T, P, t.opts.jsonPointers)), d && (i += " if (" + p + " && !Array.isArray(" + p + ")) {  var err =   ", t.createErrors !== false ? (i += " { keyword: 'required' , dataPath: (dataPath || '') + " + t.errorPath + " , schemaPath: " + t.util.toQuotedString(u) + " , params: { missingProperty: '" + C + "' } ", t.opts.messages !== false && (i += " , message: '", t.opts._errorDataPathProperty ? i += "is a required property" : i += "should have required property \\'" + C + "\\'", i += "' "), t.opts.verbose && (i += " , schema: validate.schema" + l + " , parentSchema: validate.schema" + t.schemaPath + " , data: " + f + " "), i += " } ") : i += " {} ", i += ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if (" + p + " !== undefined) { "), i += " for (var " + S + " = 0; " + S + " < " + p + ".length; " + S + "++) { if (" + f + "[" + p + "[" + S + "]] === undefined ", O && (i += " || ! Object.prototype.hasOwnProperty.call(" + f + ", " + p + "[" + S + "]) "), i += ") {  var err =   ", t.createErrors !== false ? (i += " { keyword: 'required' , dataPath: (dataPath || '') + " + t.errorPath + " , schemaPath: " + t.util.toQuotedString(u) + " , params: { missingProperty: '" + C + "' } ", t.opts.messages !== false && (i += " , message: '", t.opts._errorDataPathProperty ? i += "is a required property" : i += "should have required property \\'" + C + "\\'", i += "' "), t.opts.verbose && (i += " , schema: validate.schema" + l + " , parentSchema: validate.schema" + t.schemaPath + " , data: " + f + " "), i += " } ") : i += " {} ", i += ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ", d && (i += "  }  ");
    } else {
      var K = m;
      if (K)
        for (var A, ie = -1, J = K.length - 1; ie < J; ) {
          A = K[ie += 1];
          var F = t.util.getProperty(A), C = t.util.escapeQuotes(A), $ = f + F;
          t.opts._errorDataPathProperty && (t.errorPath = t.util.getPath(T, A, t.opts.jsonPointers)), i += " if ( " + $ + " === undefined ", O && (i += " || ! Object.prototype.hasOwnProperty.call(" + f + ", '" + t.util.escapeQuotes(A) + "') "), i += ") {  var err =   ", t.createErrors !== false ? (i += " { keyword: 'required' , dataPath: (dataPath || '') + " + t.errorPath + " , schemaPath: " + t.util.toQuotedString(u) + " , params: { missingProperty: '" + C + "' } ", t.opts.messages !== false && (i += " , message: '", t.opts._errorDataPathProperty ? i += "is a required property" : i += "should have required property \\'" + C + "\\'", i += "' "), t.opts.verbose && (i += " , schema: validate.schema" + l + " , parentSchema: validate.schema" + t.schemaPath + " , data: " + f + " "), i += " } ") : i += " {} ", i += ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } ";
        }
    }
    t.errorPath = T;
  } else c && (i += " if (true) {");
  return i;
};
var ont = function(t, r, n) {
  var i = " ", o = t.level, a = t.dataLevel, s = t.schema[r], l = t.schemaPath + t.util.getProperty(r), u = t.errSchemaPath + "/" + r, c = !t.opts.allErrors, f = "data" + (a || ""), h = "valid" + o, d = t.opts.$data && s && s.$data, p;
  if (d ? (i += " var schema" + o + " = " + t.util.getData(s.$data, a, t.dataPathArr) + "; ", p = "schema" + o) : p = s, (s || d) && t.opts.uniqueItems !== false) {
    d && (i += " var " + h + "; if (" + p + " === false || " + p + " === undefined) " + h + " = true; else if (typeof " + p + " != 'boolean') " + h + " = false; else { "), i += " var i = " + f + ".length , " + h + " = true , j; if (i > 1) { ";
    var m = t.schema.items && t.schema.items.type, g = Array.isArray(m);
    if (!m || m == "object" || m == "array" || g && (m.indexOf("object") >= 0 || m.indexOf("array") >= 0))
      i += " outer: for (;i--;) { for (j = i; j--;) { if (equal(" + f + "[i], " + f + "[j])) { " + h + " = false; break outer; } } } ";
    else {
      i += " var itemIndices = {}, item; for (;i--;) { var item = " + f + "[i]; ";
      var v = "checkDataType" + (g ? "s" : "");
      i += " if (" + t.util[v](m, "item", t.opts.strictNumbers, true) + ") continue; ", g && (i += ` if (typeof item == 'string') item = '"' + item; `), i += " if (typeof itemIndices[item] == 'number') { " + h + " = false; j = itemIndices[item]; break; } itemIndices[item] = i; } ";
    }
    i += " } ", d && (i += "  }  "), i += " if (!" + h + ") {   ";
    var b = b || [];
    b.push(i), i = "", t.createErrors !== false ? (i += " { keyword: 'uniqueItems' , dataPath: (dataPath || '') + " + t.errorPath + " , schemaPath: " + t.util.toQuotedString(u) + " , params: { i: i, j: j } ", t.opts.messages !== false && (i += " , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "), t.opts.verbose && (i += " , schema:  ", d ? i += "validate.schema" + l : i += "" + s, i += "         , parentSchema: validate.schema" + t.schemaPath + " , data: " + f + " "), i += " } ") : i += " {} ";
    var y = i;
    i = b.pop(), !t.compositeRule && c ? t.async ? i += " throw new ValidationError([" + y + "]); " : i += " validate.errors = [" + y + "]; return false; " : i += " var err = " + y + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ", i += " } ", c && (i += " else { ");
  } else
    c && (i += " if (true) { ");
  return i;
};
var ant = {
  $ref: Urt,
  allOf: jrt,
  anyOf: Grt,
  $comment: zrt,
  const: Vrt,
  contains: Xrt,
  dependencies: Wrt,
  enum: Yrt,
  format: qrt,
  if: Krt,
  items: Zrt,
  maximum: D4,
  minimum: D4,
  maxItems: R4,
  minItems: R4,
  maxLength: N4,
  minLength: N4,
  maxProperties: M4,
  minProperties: M4,
  multipleOf: Qrt,
  not: Jrt,
  oneOf: ent,
  pattern: tnt,
  properties: rnt,
  propertyNames: nnt,
  required: int,
  uniqueItems: ont,
  validate: OQ
};
var L4 = ant;
var rI = Ip.toHash;
var snt = function() {
  var t = [{
    type: "number",
    rules: [{
      maximum: ["exclusiveMaximum"]
    }, {
      minimum: ["exclusiveMinimum"]
    }, "multipleOf", "format"]
  }, {
    type: "string",
    rules: ["maxLength", "minLength", "pattern", "format"]
  }, {
    type: "array",
    rules: ["maxItems", "minItems", "items", "contains", "uniqueItems"]
  }, {
    type: "object",
    rules: ["maxProperties", "minProperties", "required", "dependencies", "propertyNames", {
      properties: ["additionalProperties", "patternProperties"]
    }]
  }, {
    rules: ["$ref", "const", "enum", "not", "anyOf", "oneOf", "allOf", "if"]
  }], r = ["type", "$comment"], n = ["$schema", "$id", "id", "$data", "$async", "title", "description", "default", "definitions", "examples", "readOnly", "writeOnly", "contentMediaType", "contentEncoding", "additionalItems", "then", "else"], i = ["number", "integer", "string", "array", "object", "boolean", "null"];
  return t.all = rI(r), t.types = rI(i), t.forEach(function(o) {
    o.rules = o.rules.map(function(a) {
      var s;
      if (typeof a == "object") {
        var l = Object.keys(a)[0];
        s = a[l], a = l, s.forEach(function(c) {
          r.push(c), t.all[c] = true;
        });
      }
      r.push(a);
      var u = t.all[a] = {
        keyword: a,
        code: L4[a],
        implements: s
      };
      return u;
    }), t.all.$comment = {
      keyword: "$comment",
      code: L4.$comment
    }, o.type && (t.types[o.type] = o);
  }), t.keywords = rI(r.concat(n)), t.custom = {}, t;
};
var B4 = ["multipleOf", "maximum", "exclusiveMaximum", "minimum", "exclusiveMinimum", "maxLength", "minLength", "pattern", "additionalItems", "maxItems", "minItems", "uniqueItems", "maxProperties", "minProperties", "required", "additionalProperties", "enum", "format", "const"];
var lnt = function(e13, t) {
  for (var r = 0; r < t.length; r++) {
    e13 = JSON.parse(JSON.stringify(e13));
    var n = t[r].split("/"), i = e13, o;
    for (o = 1; o < n.length; o++)
      i = i[n[o]];
    for (o = 0; o < B4.length; o++) {
      var a = B4[o], s = i[a];
      s && (i[a] = {
        anyOf: [s, {
          $ref: "https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"
        }]
      });
    }
  }
  return e13;
};
var cnt = FL.MissingRef;
var unt = HQ;
function HQ(e13, t, r) {
  var n = this;
  if (typeof this._opts.loadSchema != "function")
    throw new Error("options.loadSchema should be a function");
  typeof t == "function" && (r = t, t = void 0);
  var i = o(e13).then(function() {
    var s = n._addSchema(e13, void 0, t);
    return s.validate || a(s);
  });
  return r && i.then(function(s) {
    r(null, s);
  }, r), i;
  function o(s) {
    var l = s.$schema;
    return l && !n.getSchema(l) ? HQ.call(n, {
      $ref: l
    }, true) : Promise.resolve();
  }
  function a(s) {
    try {
      return n._compile(s);
    } catch (u) {
      if (u instanceof cnt)
        return l(u);
      throw u;
    }
    function l(u) {
      var c = u.missingSchema;
      if (d(c))
        throw new Error("Schema " + c + " is loaded but " + u.missingRef + " cannot be resolved");
      var f = n._loadingSchemas[c];
      return f || (f = n._loadingSchemas[c] = n._opts.loadSchema(c), f.then(h, h)), f.then(function(p) {
        if (!d(c))
          return o(p).then(function() {
            d(c) || n.addSchema(p, c, void 0, t);
          });
      }).then(function() {
        return a(s);
      });
      function h() {
        delete n._loadingSchemas[c];
      }
      function d(p) {
        return n._refs[p] || n._schemas[p];
      }
    }
  }
}
var hnt = function(t, r, n) {
  var i = " ", o = t.level, a = t.dataLevel, s = t.schema[r], l = t.schemaPath + t.util.getProperty(r), u = t.errSchemaPath + "/" + r, c = !t.opts.allErrors, f, h = "data" + (a || ""), d = "valid" + o, p = "errs__" + o, m = t.opts.$data && s && s.$data, g;
  m ? (i += " var schema" + o + " = " + t.util.getData(s.$data, a, t.dataPathArr) + "; ", g = "schema" + o) : g = s;
  var v = this, b = "definition" + o, y = v.definition, _ = "", T, E, O, S, P;
  if (m && y.$data) {
    P = "keywordValidate" + o;
    var C = y.validateSchema;
    i += " var " + b + " = RULES.custom['" + r + "'].definition; var " + P + " = " + b + ".validate;";
  } else {
    if (S = t.useCustomRule(v, s, t.schema, t), !S)
      return;
    g = "validate.schema" + l, P = S.code, T = y.compile, E = y.inline, O = y.macro;
  }
  var w = P + ".errors", N = "i" + o, L = "ruleErr" + o, A = y.async;
  if (A && !t.async)
    throw new Error("async keyword in sync schema");
  if (E || O || (i += "" + w + " = null;"), i += "var " + p + " = errors;var " + d + ";", m && y.$data && (_ += "}", i += " if (" + g + " === undefined) { " + d + " = true; } else { ", C && (_ += "}", i += " " + d + " = " + b + ".validateSchema(" + g + "); if (" + d + ") { ")), E)
    y.statements ? i += " " + S.validate + " " : i += " " + d + " = " + S.validate + "; ";
  else if (O) {
    var R = t.util.copy(t), _ = "";
    R.level++;
    var F = "valid" + R.level;
    R.schema = S.validate, R.schemaPath = "";
    var $ = t.compositeRule;
    t.compositeRule = R.compositeRule = true;
    var K = t.validate(R).replace(/validate\.schema/g, P);
    t.compositeRule = R.compositeRule = $, i += " " + K;
  } else {
    var ie = ie || [];
    ie.push(i), i = "", i += "  " + P + ".call( ", t.opts.passContext ? i += "this" : i += "self", T || y.schema === false ? i += " , " + h + " " : i += " , " + g + " , " + h + " , validate.schema" + t.schemaPath + " ", i += " , (dataPath || '')", t.errorPath != '""' && (i += " + " + t.errorPath);
    var J = a ? "data" + (a - 1 || "") : "parentData", pe = a ? t.dataPathArr[a] : "parentDataProperty";
    i += " , " + J + " , " + pe + " , rootData )  ";
    var oe = i;
    i = ie.pop(), y.errors === false ? (i += " " + d + " = ", A && (i += "await "), i += "" + oe + "; ") : A ? (w = "customErrors" + o, i += " var " + w + " = null; try { " + d + " = await " + oe + "; } catch (e) { " + d + " = false; if (e instanceof ValidationError) " + w + " = e.errors; else throw e; } ") : i += " " + w + " = null; " + d + " = " + oe + "; ";
  }
  if (y.modifying && (i += " if (" + J + ") " + h + " = " + J + "[" + pe + "];"), i += "" + _, y.valid)
    c && (i += " if (true) { ");
  else {
    i += " if ( ", y.valid === void 0 ? (i += " !", O ? i += "" + F : i += "" + d) : i += " " + !y.valid + " ", i += ") { ", f = v.keyword;
    var ie = ie || [];
    ie.push(i), i = "";
    var ie = ie || [];
    ie.push(i), i = "", t.createErrors !== false ? (i += " { keyword: '" + (f || "custom") + "' , dataPath: (dataPath || '') + " + t.errorPath + " , schemaPath: " + t.util.toQuotedString(u) + " , params: { keyword: '" + v.keyword + "' } ", t.opts.messages !== false && (i += ` , message: 'should pass "` + v.keyword + `" keyword validation' `), t.opts.verbose && (i += " , schema: validate.schema" + l + " , parentSchema: validate.schema" + t.schemaPath + " , data: " + h + " "), i += " } ") : i += " {} ";
    var q = i;
    i = ie.pop(), !t.compositeRule && c ? t.async ? i += " throw new ValidationError([" + q + "]); " : i += " validate.errors = [" + q + "]; return false; " : i += " var err = " + q + ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";
    var W = i;
    i = ie.pop(), E ? y.errors ? y.errors != "full" && (i += "  for (var " + N + "=" + p + "; " + N + "<errors; " + N + "++) { var " + L + " = vErrors[" + N + "]; if (" + L + ".dataPath === undefined) " + L + ".dataPath = (dataPath || '') + " + t.errorPath + "; if (" + L + ".schemaPath === undefined) { " + L + '.schemaPath = "' + u + '"; } ', t.opts.verbose && (i += " " + L + ".schema = " + g + "; " + L + ".data = " + h + "; "), i += " } ") : y.errors === false ? i += " " + W + " " : (i += " if (" + p + " == errors) { " + W + " } else {  for (var " + N + "=" + p + "; " + N + "<errors; " + N + "++) { var " + L + " = vErrors[" + N + "]; if (" + L + ".dataPath === undefined) " + L + ".dataPath = (dataPath || '') + " + t.errorPath + "; if (" + L + ".schemaPath === undefined) { " + L + '.schemaPath = "' + u + '"; } ', t.opts.verbose && (i += " " + L + ".schema = " + g + "; " + L + ".data = " + h + "; "), i += " } } ") : O ? (i += "   var err =   ", t.createErrors !== false ? (i += " { keyword: '" + (f || "custom") + "' , dataPath: (dataPath || '') + " + t.errorPath + " , schemaPath: " + t.util.toQuotedString(u) + " , params: { keyword: '" + v.keyword + "' } ", t.opts.messages !== false && (i += ` , message: 'should pass "` + v.keyword + `" keyword validation' `), t.opts.verbose && (i += " , schema: validate.schema" + l + " , parentSchema: validate.schema" + t.schemaPath + " , data: " + h + " "), i += " } ") : i += " {} ", i += ";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ", !t.compositeRule && c && (t.async ? i += " throw new ValidationError(vErrors); " : i += " validate.errors = vErrors; return false; ")) : y.errors === false ? i += " " + W + " " : (i += " if (Array.isArray(" + w + ")) { if (vErrors === null) vErrors = " + w + "; else vErrors = vErrors.concat(" + w + "); errors = vErrors.length;  for (var " + N + "=" + p + "; " + N + "<errors; " + N + "++) { var " + L + " = vErrors[" + N + "]; if (" + L + ".dataPath === undefined) " + L + ".dataPath = (dataPath || '') + " + t.errorPath + ";  " + L + '.schemaPath = "' + u + '";  ', t.opts.verbose && (i += " " + L + ".schema = " + g + "; " + L + ".data = " + h + "; "), i += " } } else { " + W + " } "), i += " } ", c && (i += " else { ");
  }
  return i;
};
var fnt = "http://json-schema.org/draft-07/schema#";
var dnt = "http://json-schema.org/draft-07/schema#";
var pnt = "Core schema meta-schema";
var mnt = {
  schemaArray: {
    type: "array",
    minItems: 1,
    items: {
      $ref: "#"
    }
  },
  nonNegativeInteger: {
    type: "integer",
    minimum: 0
  },
  nonNegativeIntegerDefault0: {
    allOf: [
      {
        $ref: "#/definitions/nonNegativeInteger"
      },
      {
        default: 0
      }
    ]
  },
  simpleTypes: {
    enum: [
      "array",
      "boolean",
      "integer",
      "null",
      "number",
      "object",
      "string"
    ]
  },
  stringArray: {
    type: "array",
    items: {
      type: "string"
    },
    uniqueItems: true,
    default: []
  }
};
var gnt = [
  "object",
  "boolean"
];
var vnt = {
  $id: {
    type: "string",
    format: "uri-reference"
  },
  $schema: {
    type: "string",
    format: "uri"
  },
  $ref: {
    type: "string",
    format: "uri-reference"
  },
  $comment: {
    type: "string"
  },
  title: {
    type: "string"
  },
  description: {
    type: "string"
  },
  default: true,
  readOnly: {
    type: "boolean",
    default: false
  },
  examples: {
    type: "array",
    items: true
  },
  multipleOf: {
    type: "number",
    exclusiveMinimum: 0
  },
  maximum: {
    type: "number"
  },
  exclusiveMaximum: {
    type: "number"
  },
  minimum: {
    type: "number"
  },
  exclusiveMinimum: {
    type: "number"
  },
  maxLength: {
    $ref: "#/definitions/nonNegativeInteger"
  },
  minLength: {
    $ref: "#/definitions/nonNegativeIntegerDefault0"
  },
  pattern: {
    type: "string",
    format: "regex"
  },
  additionalItems: {
    $ref: "#"
  },
  items: {
    anyOf: [
      {
        $ref: "#"
      },
      {
        $ref: "#/definitions/schemaArray"
      }
    ],
    default: true
  },
  maxItems: {
    $ref: "#/definitions/nonNegativeInteger"
  },
  minItems: {
    $ref: "#/definitions/nonNegativeIntegerDefault0"
  },
  uniqueItems: {
    type: "boolean",
    default: false
  },
  contains: {
    $ref: "#"
  },
  maxProperties: {
    $ref: "#/definitions/nonNegativeInteger"
  },
  minProperties: {
    $ref: "#/definitions/nonNegativeIntegerDefault0"
  },
  required: {
    $ref: "#/definitions/stringArray"
  },
  additionalProperties: {
    $ref: "#"
  },
  definitions: {
    type: "object",
    additionalProperties: {
      $ref: "#"
    },
    default: {}
  },
  properties: {
    type: "object",
    additionalProperties: {
      $ref: "#"
    },
    default: {}
  },
  patternProperties: {
    type: "object",
    additionalProperties: {
      $ref: "#"
    },
    propertyNames: {
      format: "regex"
    },
    default: {}
  },
  dependencies: {
    type: "object",
    additionalProperties: {
      anyOf: [
        {
          $ref: "#"
        },
        {
          $ref: "#/definitions/stringArray"
        }
      ]
    }
  },
  propertyNames: {
    $ref: "#"
  },
  const: true,
  enum: {
    type: "array",
    items: true,
    minItems: 1,
    uniqueItems: true
  },
  type: {
    anyOf: [
      {
        $ref: "#/definitions/simpleTypes"
      },
      {
        type: "array",
        items: {
          $ref: "#/definitions/simpleTypes"
        },
        minItems: 1,
        uniqueItems: true
      }
    ]
  },
  format: {
    type: "string"
  },
  contentMediaType: {
    type: "string"
  },
  contentEncoding: {
    type: "string"
  },
  if: {
    $ref: "#"
  },
  then: {
    $ref: "#"
  },
  else: {
    $ref: "#"
  },
  allOf: {
    $ref: "#/definitions/schemaArray"
  },
  anyOf: {
    $ref: "#/definitions/schemaArray"
  },
  oneOf: {
    $ref: "#/definitions/schemaArray"
  },
  not: {
    $ref: "#"
  }
};
var UQ = {
  $schema: fnt,
  $id: dnt,
  title: pnt,
  definitions: mnt,
  type: gnt,
  properties: vnt,
  default: true
};
var F4 = UQ;
var ynt = {
  $id: "https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js",
  definitions: {
    simpleTypes: F4.definitions.simpleTypes
  },
  type: "object",
  dependencies: {
    schema: ["validate"],
    $data: ["validate"],
    statements: ["inline"],
    valid: {
      not: {
        required: ["macro"]
      }
    }
  },
  properties: {
    type: F4.properties.type,
    schema: {
      type: "boolean"
    },
    statements: {
      type: "boolean"
    },
    dependencies: {
      type: "array",
      items: {
        type: "string"
      }
    },
    metaSchema: {
      type: "object"
    },
    modifying: {
      type: "boolean"
    },
    valid: {
      type: "boolean"
    },
    $data: {
      type: "boolean"
    },
    async: {
      type: "boolean"
    },
    errors: {
      anyOf: [{
        type: "boolean"
      }, {
        const: "full"
      }]
    }
  }
};
var _nt = /^[a-z_$][a-z0-9_$-]*$/i;
var bnt = hnt;
var Tnt = ynt;
var Ent = {
  add: Snt,
  get: wnt,
  remove: Ant,
  validate: tD
};
function Snt(e13, t) {
  var r = this.RULES;
  if (r.keywords[e13])
    throw new Error("Keyword " + e13 + " is already defined");
  if (!_nt.test(e13))
    throw new Error("Keyword " + e13 + " is not a valid identifier");
  if (t) {
    this.validateKeyword(t, true);
    var n = t.type;
    if (Array.isArray(n))
      for (var i = 0; i < n.length; i++)
        a(e13, n[i], t);
    else
      a(e13, n, t);
    var o = t.metaSchema;
    o && (t.$data && this._opts.$data && (o = {
      anyOf: [o, {
        $ref: "https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"
      }]
    }), t.validateSchema = this.compile(o, true));
  }
  r.keywords[e13] = r.all[e13] = true;
  function a(s, l, u) {
    for (var c, f = 0; f < r.length; f++) {
      var h = r[f];
      if (h.type == l) {
        c = h;
        break;
      }
    }
    c || (c = {
      type: l,
      rules: []
    }, r.push(c));
    var d = {
      keyword: s,
      definition: u,
      custom: true,
      code: bnt,
      implements: u.implements
    };
    c.rules.push(d), r.custom[s] = d;
  }
  return this;
}
function wnt(e13) {
  var t = this.RULES.custom[e13];
  return t ? t.definition : this.RULES.keywords[e13] || false;
}
function Ant(e13) {
  var t = this.RULES;
  delete t.keywords[e13], delete t.all[e13], delete t.custom[e13];
  for (var r = 0; r < t.length; r++)
    for (var n = t[r].rules, i = 0; i < n.length; i++)
      if (n[i].keyword == e13) {
        n.splice(i, 1);
        break;
      }
  return this;
}
function tD(e13, t) {
  tD.errors = null;
  var r = this._validateKeyword = this._validateKeyword || this.compile(Tnt, true);
  if (r(e13))
    return true;
  if (tD.errors = r.errors, t)
    throw new Error("custom keyword definition is invalid: " + this.errorsText(r.errors));
  return false;
}
var Ont = "http://json-schema.org/draft-07/schema#";
var Int = "https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#";
var Pnt = "Meta-schema for $data reference (JSON Schema extension proposal)";
var Cnt = "object";
var xnt = [
  "$data"
];
var knt = {
  $data: {
    type: "string",
    anyOf: [
      {
        format: "relative-json-pointer"
      },
      {
        format: "json-pointer"
      }
    ]
  }
};
var Dnt = false;
var Rnt = {
  $schema: Ont,
  $id: Int,
  description: Pnt,
  type: Cnt,
  required: xnt,
  properties: knt,
  additionalProperties: Dnt
};
var jQ = brt;
var iu = BL;
var Nnt = Irt;
var GQ = TQ;
var Mnt = AQ;
var Lnt = Nrt;
var Bnt = snt;
var zQ = lnt;
var VQ = Ip;
var Fnt = qr;
qr.prototype.validate = Hnt;
qr.prototype.compile = Unt;
qr.prototype.addSchema = jnt;
qr.prototype.addMetaSchema = Gnt;
qr.prototype.validateSchema = znt;
qr.prototype.getSchema = Xnt;
qr.prototype.removeSchema = Ynt;
qr.prototype.addFormat = rit;
qr.prototype.errorsText = tit;
qr.prototype._addSchema = qnt;
qr.prototype._compile = Knt;
qr.prototype.compileAsync = unt;
var FS = Ent;
qr.prototype.addKeyword = FS.add;
qr.prototype.getKeyword = FS.get;
qr.prototype.removeKeyword = FS.remove;
qr.prototype.validateKeyword = FS.validate;
var XQ = FL;
qr.ValidationError = XQ.Validation;
qr.MissingRefError = XQ.MissingRef;
qr.$dataMetaSchema = zQ;
var AE = "http://json-schema.org/draft-07/schema";
var $4 = ["removeAdditional", "useDefaults", "coerceTypes", "strictDefaults"];
var $nt = ["/properties"];
function qr(e13) {
  if (!(this instanceof qr))
    return new qr(e13);
  e13 = this._opts = VQ.copy(e13) || {}, lit(this), this._schemas = {}, this._refs = {}, this._fragments = {}, this._formats = Lnt(e13.format), this._cache = e13.cache || new Nnt(), this._loadingSchemas = {}, this._compilations = [], this.RULES = Bnt(), this._getId = Znt(e13), e13.loopRequired = e13.loopRequired || 1 / 0, e13.errorDataPath == "property" && (e13._errorDataPathProperty = true), e13.serialize === void 0 && (e13.serialize = Mnt), this._metaOpts = sit(this), e13.formats && oit(this), e13.keywords && ait(this), nit(this), typeof e13.meta == "object" && this.addMetaSchema(e13.meta), e13.nullable && this.addKeyword("nullable", {
    metaSchema: {
      type: "boolean"
    }
  }), iit(this);
}
function Hnt(e13, t) {
  var r;
  if (typeof e13 == "string") {
    if (r = this.getSchema(e13), !r)
      throw new Error('no schema with key or ref "' + e13 + '"');
  } else {
    var n = this._addSchema(e13);
    r = n.validate || this._compile(n);
  }
  var i = r(t);
  return r.$async !== true && (this.errors = r.errors), i;
}
function Unt(e13, t) {
  var r = this._addSchema(e13, void 0, t);
  return r.validate || this._compile(r);
}
function jnt(e13, t, r, n) {
  if (Array.isArray(e13)) {
    for (var i = 0; i < e13.length; i++)
      this.addSchema(e13[i], void 0, r, n);
    return this;
  }
  var o = this._getId(e13);
  if (o !== void 0 && typeof o != "string")
    throw new Error("schema id must be string");
  return t = iu.normalizeId(t || o), YQ(this, t), this._schemas[t] = this._addSchema(e13, r, n, true), this;
}
function Gnt(e13, t, r) {
  return this.addSchema(e13, t, r, true), this;
}
function znt(e13, t) {
  var r = e13.$schema;
  if (r !== void 0 && typeof r != "string")
    throw new Error("$schema must be a string");
  if (r = r || this._opts.defaultMeta || Vnt(this), !r)
    return this.logger.warn("meta-schema not available"), this.errors = null, true;
  var n = this.validate(r, e13);
  if (!n && t) {
    var i = "schema is invalid: " + this.errorsText();
    if (this._opts.validateSchema == "log")
      this.logger.error(i);
    else
      throw new Error(i);
  }
  return n;
}
function Vnt(e13) {
  var t = e13._opts.meta;
  return e13._opts.defaultMeta = typeof t == "object" ? e13._getId(t) || t : e13.getSchema(AE) ? AE : void 0, e13._opts.defaultMeta;
}
function Xnt(e13) {
  var t = WQ(this, e13);
  switch (typeof t) {
    case "object":
      return t.validate || this._compile(t);
    case "string":
      return this.getSchema(t);
    case "undefined":
      return Wnt(this, e13);
  }
}
function Wnt(e13, t) {
  var r = iu.schema.call(e13, {
    schema: {}
  }, t);
  if (r) {
    var n = r.schema, i = r.root, o = r.baseId, a = jQ.call(e13, n, i, void 0, o);
    return e13._fragments[t] = new GQ({
      ref: t,
      fragment: true,
      schema: n,
      root: i,
      baseId: o,
      validate: a
    }), a;
  }
}
function WQ(e13, t) {
  return t = iu.normalizeId(t), e13._schemas[t] || e13._refs[t] || e13._fragments[t];
}
function Ynt(e13) {
  if (e13 instanceof RegExp)
    return G_(this, this._schemas, e13), G_(this, this._refs, e13), this;
  switch (typeof e13) {
    case "undefined":
      return G_(this, this._schemas), G_(this, this._refs), this._cache.clear(), this;
    case "string":
      var t = WQ(this, e13);
      return t && this._cache.del(t.cacheKey), delete this._schemas[e13], delete this._refs[e13], this;
    case "object":
      var r = this._opts.serialize, n = r ? r(e13) : e13;
      this._cache.del(n);
      var i = this._getId(e13);
      i && (i = iu.normalizeId(i), delete this._schemas[i], delete this._refs[i]);
  }
  return this;
}
function G_(e13, t, r) {
  for (var n in t) {
    var i = t[n];
    !i.meta && (!r || r.test(n)) && (e13._cache.del(i.cacheKey), delete t[n]);
  }
}
function qnt(e13, t, r, n) {
  if (typeof e13 != "object" && typeof e13 != "boolean")
    throw new Error("schema should be object or boolean");
  var i = this._opts.serialize, o = i ? i(e13) : e13, a = this._cache.get(o);
  if (a)
    return a;
  n = n || this._opts.addUsedSchema !== false;
  var s = iu.normalizeId(this._getId(e13));
  s && n && YQ(this, s);
  var l = this._opts.validateSchema !== false && !t, u;
  l && !(u = s && s == iu.normalizeId(e13.$schema)) && this.validateSchema(e13, true);
  var c = iu.ids.call(this, e13), f = new GQ({
    id: s,
    schema: e13,
    localRefs: c,
    cacheKey: o,
    meta: r
  });
  return s[0] != "#" && n && (this._refs[s] = f), this._cache.put(o, f), l && u && this.validateSchema(e13, true), f;
}
function Knt(e13, t) {
  if (e13.compiling)
    return e13.validate = i, i.schema = e13.schema, i.errors = null, i.root = t || i, e13.schema.$async === true && (i.$async = true), i;
  e13.compiling = true;
  var r;
  e13.meta && (r = this._opts, this._opts = this._metaOpts);
  var n;
  try {
    n = jQ.call(this, e13.schema, t, e13.localRefs);
  } catch (o) {
    throw delete e13.validate, o;
  } finally {
    e13.compiling = false, e13.meta && (this._opts = r);
  }
  return e13.validate = n, e13.refs = n.refs, e13.refVal = n.refVal, e13.root = n.root, n;
  function i() {
    var o = e13.validate, a = o.apply(this, arguments);
    return i.errors = o.errors, a;
  }
}
function Znt(e13) {
  switch (e13.schemaId) {
    case "auto":
      return eit;
    case "id":
      return Qnt;
    default:
      return Jnt;
  }
}
function Qnt(e13) {
  return e13.$id && this.logger.warn("schema $id ignored", e13.$id), e13.id;
}
function Jnt(e13) {
  return e13.id && this.logger.warn("schema id ignored", e13.id), e13.$id;
}
function eit(e13) {
  if (e13.$id && e13.id && e13.$id != e13.id)
    throw new Error("schema $id is different from id");
  return e13.$id || e13.id;
}
function tit(e13, t) {
  if (e13 = e13 || this.errors, !e13)
    return "No errors";
  t = t || {};
  for (var r = t.separator === void 0 ? ", " : t.separator, n = t.dataVar === void 0 ? "data" : t.dataVar, i = "", o = 0; o < e13.length; o++) {
    var a = e13[o];
    a && (i += n + a.dataPath + " " + a.message + r);
  }
  return i.slice(0, -r.length);
}
function rit(e13, t) {
  return typeof t == "string" && (t = new RegExp(t)), this._formats[e13] = t, this;
}
function nit(e13) {
  var t;
  if (e13._opts.$data && (t = Rnt, e13.addMetaSchema(t, t.$id, true)), e13._opts.meta !== false) {
    var r = UQ;
    e13._opts.$data && (r = zQ(r, $nt)), e13.addMetaSchema(r, AE, true), e13._refs["http://json-schema.org/schema"] = AE;
  }
}
function iit(e13) {
  var t = e13._opts.schemas;
  if (t)
    if (Array.isArray(t))
      e13.addSchema(t);
    else
      for (var r in t)
        e13.addSchema(t[r], r);
}
function oit(e13) {
  for (var t in e13._opts.formats) {
    var r = e13._opts.formats[t];
    e13.addFormat(t, r);
  }
}
function ait(e13) {
  for (var t in e13._opts.keywords) {
    var r = e13._opts.keywords[t];
    e13.addKeyword(t, r);
  }
}
function YQ(e13, t) {
  if (e13._schemas[t] || e13._refs[t])
    throw new Error('schema with key or id "' + t + '" already exists');
}
function sit(e13) {
  for (var t = VQ.copy(e13._opts), r = 0; r < $4.length; r++)
    delete t[$4[r]];
  return t;
}
function lit(e13) {
  var t = e13._opts.logger;
  if (t === false)
    e13.logger = {
      log: nI,
      warn: nI,
      error: nI
    };
  else {
    if (t === void 0 && (t = console), !(typeof t == "object" && t.log && t.warn && t.error))
      throw new Error("logger must implement log, warn and error methods");
    e13.logger = t;
  }
}
function nI() {
}
var qQ = $i(Fnt);
var cit = "http://json-schema.org/draft-07/schema#";
var uit = "https://higlass.io/#viewconf";
var hit = "HiGlass viewconf";
var fit = "object";
var dit = false;
var pit = [];
var mit = {
  editable: {
    type: "boolean",
    default: true
  },
  viewEditable: {
    type: "boolean",
    default: true
  },
  tracksEditable: {
    type: "boolean",
    default: true
  },
  zoomFixed: {
    type: "boolean"
  },
  compactLayout: {
    type: "boolean"
  },
  exportViewUrl: {
    type: "string"
  },
  trackSourceServers: {
    type: "array",
    items: {
      type: "string"
    },
    minLength: 1
  },
  zoomLocks: {
    $ref: "#/definitions/locks/zoomLocks"
  },
  locationLocks: {
    $ref: "#/definitions/locks/locationLocks"
  },
  valueScaleLocks: {
    $ref: "#/definitions/locks/valueScaleLocks"
  },
  views: {
    type: "array",
    items: {
      $ref: "#/definitions/view"
    },
    minLength: 1
  },
  chromInfoPath: {
    type: "string"
  }
};
var git = {
  data: {
    type: "object",
    properties: {
      url: {
        type: "string"
      },
      server: {
        type: "string"
      },
      filetype: {
        type: "string"
      },
      type: {
        type: "string"
      },
      tilesetInfo: {
        type: "object"
      },
      children: {
        type: "array"
      },
      tiles: {
        type: "object"
      }
    }
  },
  locks: {
    slug: {
      type: "string"
    },
    locksByViewUid: {
      type: "object",
      additionalProperties: false,
      patternProperties: {
        ".": {
          $ref: "#/definitions/locks/slug"
        }
      }
    },
    axisSpecificLocks: {
      additionalProperties: false,
      properties: {
        axis: {
          enum: [
            "x",
            "y"
          ],
          type: "string"
        },
        lock: {
          type: "string"
        }
      },
      required: [
        "lock",
        "axis"
      ],
      type: "object"
    },
    locationLocksByViewUid: {
      type: "object",
      additionalProperties: false,
      patternProperties: {
        ".": {
          anyOf: [
            {
              type: "string"
            },
            {
              additionalProperties: false,
              properties: {
                x: {
                  $ref: "#/definitions/locks/axisSpecificLocks"
                },
                y: {
                  $ref: "#/definitions/locks/axisSpecificLocks"
                }
              },
              type: "object"
            }
          ]
        }
      }
    },
    zoomLocks: {
      type: "object",
      additionalProperties: false,
      required: [],
      properties: {
        locksByViewUid: {
          $ref: "#/definitions/locks/locksByViewUid"
        },
        locksDict: {
          type: "object",
          additionalProperties: false,
          patternProperties: {
            ".": {
              type: "object",
              additionalProperties: false,
              properties: {
                uid: {
                  $ref: "#/definitions/locks/slug"
                }
              },
              patternProperties: {
                "^(?!uid).": {
                  type: "array",
                  minLength: 3,
                  maxLength: 3,
                  items: {
                    type: "number"
                  }
                }
              }
            }
          }
        }
      }
    },
    locationLocks: {
      type: "object",
      additionalProperties: false,
      required: [],
      properties: {
        locksByViewUid: {
          $ref: "#/definitions/locks/locationLocksByViewUid"
        },
        locksDict: {
          type: "object",
          additionalProperties: false,
          patternProperties: {
            ".": {
              type: "object",
              additionalProperties: false,
              properties: {
                uid: {
                  $ref: "#/definitions/locks/slug"
                }
              },
              patternProperties: {
                "^(?!uid).": {
                  type: "array",
                  minLength: 3,
                  maxLength: 3,
                  items: {
                    type: "number"
                  }
                }
              }
            }
          }
        }
      }
    },
    valueScaleLocks: {
      type: "object",
      additionalProperties: false,
      required: [
        "locksByViewUid",
        "locksDict"
      ],
      properties: {
        locksByViewUid: {
          $ref: "#/definitions/locks/locksByViewUid"
        },
        locksDict: {
          type: "object",
          additionalProperties: false,
          patternProperties: {
            ".": {
              type: "object",
              additionalProperties: false,
              properties: {
                uid: {
                  $ref: "#/definitions/locks/slug"
                },
                ignoreOffScreenValues: {
                  type: "boolean"
                }
              },
              patternProperties: {
                "^(?!(uid|ignoreOffScreenValues)).": {
                  type: "object",
                  additionalProperties: false,
                  required: [
                    "view",
                    "track"
                  ],
                  properties: {
                    view: {
                      type: "string"
                    },
                    track: {
                      $ref: "#/definitions/locks/slug"
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  },
  view: {
    type: "object",
    additionalProperties: false,
    required: [
      "tracks",
      "layout"
    ],
    properties: {
      autocompleteSource: {
        type: "string"
      },
      chromInfoPath: {
        type: "string"
      },
      genomePositionSearchBox: {
        $ref: "#/definitions/viewProperties/genomePositionSearchBox"
      },
      genomePositionSearchBoxVisible: {
        type: "boolean"
      },
      initialXDomain: {
        $ref: "#/definitions/viewProperties/domain"
      },
      initialYDomain: {
        $ref: "#/definitions/viewProperties/domain"
      },
      layout: {
        $ref: "#/definitions/viewProperties/layout"
      },
      overlays: {
        type: "array",
        items: {
          $ref: "#/definitions/viewProperties/overlay"
        }
      },
      selectionView: {
        type: "boolean"
      },
      tracks: {
        $ref: "#/definitions/viewProperties/tracks_object"
      },
      uid: {
        type: "string"
      },
      zoomFixed: {
        type: "boolean"
      },
      zoomLimits: {
        type: "array",
        minLength: 2,
        maxLength: 2,
        default: [
          1,
          null
        ]
      }
    }
  },
  viewProperties: {
    genomePositionSearchBox: {
      type: "object",
      title: "The Genome Position Search Box Schema",
      required: [
        "chromInfoServer",
        "chromInfoId"
      ],
      properties: {
        autocompleteServer: {
          type: "string",
          title: "The Autocomplete Server URL",
          default: "",
          examples: [
            "//higlass.io/api/v1"
          ],
          pattern: "^(.*)$"
        },
        autocompleteId: {
          type: "string",
          title: "The Autocomplete ID",
          default: "",
          examples: [
            "OHJakQICQD6gTD7skx4EWA"
          ],
          pattern: "^(.*)$"
        },
        chromInfoServer: {
          type: "string",
          title: "The Chrominfo Server URL",
          default: "",
          examples: [
            "//higlass.io/api/v1"
          ],
          pattern: "^(.*)$"
        },
        chromInfoId: {
          type: "string",
          title: "The Chromosome Info ID",
          default: "",
          examples: [
            "hg19"
          ],
          pattern: "^(.*)$"
        },
        visible: {
          type: "boolean",
          title: "The Visible Schema",
          default: false
        }
      }
    },
    overlay: {
      type: "object",
      additionalProperties: false,
      properties: {
        chromInfoPath: {
          type: "string"
        },
        includes: {
          type: "array"
        },
        options: {
          type: "object",
          properties: {
            extent: {
              type: "array"
            },
            minWidth: {
              type: "number"
            },
            fill: {
              type: "string"
            },
            fillOpacity: {
              type: "number"
            },
            stroke: {
              type: "string"
            },
            strokeOpacity: {
              type: "number"
            },
            strokeWidth: {
              type: "number"
            },
            strokePos: {
              type: [
                "string",
                "array"
              ]
            },
            outline: {
              type: "string"
            },
            outlineOpacity: {
              type: "number"
            },
            outlineWidth: {
              type: "number"
            },
            outlinePos: {
              type: [
                "string",
                "array"
              ]
            }
          }
        },
        type: {
          type: "string"
        },
        uid: {
          type: "string"
        }
      }
    },
    layout: {
      type: "object",
      additionalProperties: false,
      required: [
        "w",
        "h",
        "x",
        "y"
      ],
      properties: {
        x: {
          type: "integer",
          title: "The X Position",
          default: 0
        },
        y: {
          type: "integer",
          title: "The Y Position",
          default: 0
        },
        w: {
          type: "integer",
          title: "Width",
          default: 12
        },
        h: {
          type: "integer",
          title: "Height",
          default: 12
        },
        moved: {
          type: "boolean"
        },
        static: {
          type: "boolean"
        }
      }
    },
    tracks_object: {
      type: "object",
      additionalProperties: false,
      properties: {
        left: {
          $ref: "#/definitions/viewProperties/tracks_array"
        },
        right: {
          $ref: "#/definitions/viewProperties/tracks_array"
        },
        top: {
          $ref: "#/definitions/viewProperties/tracks_array"
        },
        bottom: {
          $ref: "#/definitions/viewProperties/tracks_array"
        },
        center: {
          $ref: "#/definitions/viewProperties/tracks_array"
        },
        whole: {
          $ref: "#/definitions/viewProperties/tracks_array"
        },
        gallery: {
          $ref: "#/definitions/viewProperties/tracks_array"
        }
      }
    },
    tracks_array: {
      type: "array",
      items: {
        oneOf: [
          {
            $ref: "#/definitions/tracks/enum_track"
          },
          {
            $ref: "#/definitions/tracks/combined_track"
          },
          {
            $ref: "#/definitions/tracks/heatmap_track"
          },
          {
            $ref: "#/definitions/tracks/independent_viewport_projection_track"
          }
        ]
      }
    },
    domain: {
      type: "array",
      items: {
        type: "number"
      },
      maxItems: 2,
      minItems: 2
    }
  },
  tracks: {
    heatmap_track: {
      type: "object",
      additionalProperties: false,
      required: [],
      properties: {
        uid: {
          type: "string"
        },
        type: {
          const: "heatmap"
        },
        data: {
          $ref: "#/definitions/data"
        },
        height: {
          type: "number"
        },
        options: {
          type: "object"
        },
        position: {
          type: "string"
        },
        server: {
          type: "string"
        },
        tilesetUid: {
          type: "string"
        },
        width: {
          type: "number"
        },
        transforms: {
          type: "array"
        }
      }
    },
    combined_track: {
      type: "object",
      additionalProperties: false,
      required: [
        "contents"
      ],
      properties: {
        contents: {
          $ref: "#/definitions/viewProperties/tracks_array"
        },
        height: {
          type: "number"
        },
        options: {},
        position: {
          type: "string"
        },
        type: {
          const: "combined"
        },
        uid: {
          type: "string"
        },
        width: {
          type: "number"
        }
      }
    },
    enum_track: {
      type: "object",
      additionalProperties: false,
      required: [
        "type"
      ],
      properties: {
        server: {
          type: "string"
        },
        tilesetUid: {
          type: "string"
        },
        data: {
          $ref: "#/definitions/data"
        },
        uid: {
          type: "string"
        },
        type: {
          enum: [
            "multivec",
            "1d-heatmap",
            "line",
            "point",
            "bar",
            "divergent-bar",
            "stacked-interval",
            "gene-annotations",
            "linear-2d-rectangle-domains",
            "chromosome-labels",
            "linear-heatmap",
            "1d-value-interval",
            "2d-annotations",
            "2d-chromosome-annotations",
            "2d-chromosome-grid",
            "2d-chromosome-labels",
            "2d-rectangle-domains",
            "2d-tiles",
            "arrowhead-domains",
            "bedlike",
            "cross-rule",
            "dummy",
            "horizontal-1d-annotations",
            "horizontal-1d-heatmap",
            "horizontal-1d-tiles",
            "horizontal-1d-value-interval",
            "horizontal-2d-rectangle-domains",
            "horizontal-bar",
            "horizontal-chromosome-grid",
            "horizontal-chromosome-labels",
            "horizontal-divergent-bar",
            "horizontal-gene-annotations",
            "horizontal-heatmap",
            "horizontal-line",
            "horizontal-multivec",
            "horizontal-point",
            "horizontal-rule",
            "horizontal-vector-heatmap",
            "image-tiles",
            "left-axis",
            "left-stacked-interval",
            "mapbox-tiles",
            "osm-2d-tile-ids",
            "osm-tiles",
            "raster-tiles",
            "simple-svg",
            "square-markers",
            "top-axis",
            "top-stacked-interval",
            "vertical-1d-annotations",
            "vertical-1d-heatmap",
            "vertical-1d-tiles",
            "vertical-1d-value-interval",
            "vertical-2d-rectangle-domains",
            "vertical-bar",
            "vertical-bedlike",
            "vertical-chromosome-grid",
            "vertical-chromosome-labels",
            "vertical-gene-annotations",
            "vertical-heatmap",
            "vertical-line",
            "vertical-multivec",
            "vertical-point",
            "vertical-rule",
            "vertical-vector-heatmap",
            "viewport-projection-center",
            "viewport-projection-horizontal",
            "viewport-projection-vertical"
          ]
        },
        chromInfoPath: {
          type: "string"
        },
        fromViewUid: {
          type: "string"
        },
        height: {
          type: "number"
        },
        options: {
          type: "object"
        },
        width: {
          type: "number"
        },
        x: {
          type: "number"
        },
        y: {
          type: "number"
        }
      }
    },
    independent_viewport_projection_track: {
      type: "object",
      additionalProperties: false,
      properties: {
        uid: {
          type: "string"
        },
        type: {
          enum: [
            "viewport-projection-horizontal",
            "viewport-projection-vertical",
            "viewport-projection-center"
          ]
        },
        fromViewUid: {
          type: "null"
        },
        projectionXDomain: {
          $ref: "#/definitions/viewProperties/domain"
        },
        projectionYDomain: {
          $ref: "#/definitions/viewProperties/domain"
        },
        options: {
          type: "object"
        },
        transforms: {
          type: "array"
        },
        width: {
          type: "number"
        },
        x: {
          type: "number"
        },
        y: {
          type: "number"
        }
      }
    }
  }
};
var KQ = {
  $schema: cit,
  $id: uit,
  title: hit,
  type: fit,
  additionalProperties: dit,
  required: pit,
  properties: mit,
  definitions: git
};
var vit = "_title_1hlm6_70";
var yit = "_Warning_1hlm6_76";
var _it = "_Success_1hlm6_79";
var Pc = {
  "view-config-editor-header": "_view-config-editor-header_1hlm6_1",
  "view-config-editor": "_view-config-editor_1hlm6_1",
  "view-config-log": "_view-config-log_1hlm6_34",
  "view-config-log-header": "_view-config-log-header_1hlm6_46",
  "view-config-log-msg": "_view-config-log-msg_1hlm6_60",
  title: vit,
  Warning: yit,
  Success: _it,
  Error: "_Error_1hlm6_82"
};
function bit(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function Tit(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, Sit(n.key), n);
  }
}
function Eit(e13, t, r) {
  return t && Tit(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function Sit(e13) {
  var t = wit(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function wit(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
function Ait(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  e13.prototype = Object.create(t && t.prototype, { constructor: { value: e13, writable: true, configurable: true } }), Object.defineProperty(e13, "prototype", { writable: false }), t && rD(e13, t);
}
function rD(e13, t) {
  return rD = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, i) {
    return n.__proto__ = i, n;
  }, rD(e13, t);
}
function Oit(e13) {
  var t = Pit();
  return function() {
    var n = OE(e13), i;
    if (t) {
      var o = OE(this).constructor;
      i = Reflect.construct(n, arguments, o);
    } else
      i = n.apply(this, arguments);
    return Iit(this, i);
  };
}
function Iit(e13, t) {
  if (t && (typeof t == "object" || typeof t == "function"))
    return t;
  if (t !== void 0)
    throw new TypeError("Derived constructors may only return object or undefined");
  return vl(e13);
}
function vl(e13) {
  if (e13 === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e13;
}
function Pit() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return false;
  if (typeof Proxy == "function")
    return true;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), true;
  } catch {
    return false;
  }
}
function OE(e13) {
  return OE = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(r) {
    return r.__proto__ || Object.getPrototypeOf(r);
  }, OE(e13);
}
var ZQ = function(e13) {
  Ait(r, e13);
  var t = Oit(r);
  function r(n) {
    var i;
    return bit(this, r), i = t.call(this, n), i.state = {
      code: n.viewConfig,
      hide: false,
      showLog: false,
      logMsgs: i.getLogMsgs(n.viewConfig)
    }, i.handleChangeBound = i.handleChange.bind(vl(i)), i.handleKeyDownBound = i.handleKeyDown.bind(vl(i)), i.handleKeyUpBound = i.handleKeyUp.bind(vl(i)), i.handleSubmitBound = i.handleSubmit.bind(vl(i)), i.hideBound = i.hide.bind(vl(i)), i.showBound = i.show.bind(vl(i)), i.toggleLogBound = i.toggleLog.bind(vl(i)), i.pubSubs = [], i.pubSubs.push(i.props.pubSub.subscribe("keydown", i.handleKeyDownBound)), i.pubSubs.push(i.props.pubSub.subscribe("keyup", i.handleKeyUpBound)), i;
  }
  return Eit(r, [{
    key: "componentDidMount",
    value: async function() {
      this.editor && (this.editor._input.focus(), this.editor._input.setSelectionRange(0, 0), await WR(0), this.editorWrap && (this.editorWrap.scrollTop = 0));
    }
  }, {
    key: "componentWillUnmount",
    value: function() {
      this.pubSubs.forEach((i) => this.props.pubSub.unsubscribe(i)), this.pubSubs = [];
    }
  }, {
    key: "handleChange",
    value: function(i) {
      const o = this.getLogMsgs(i);
      this.setState({
        code: i,
        logMsgs: o
      });
    }
  }, {
    key: "handleKeyDown",
    value: function(i) {
      i.key === "s" && (i.ctrlKey || i.metaKey) && (i.preventDefault(), this.props.onChange(this.state.code)), i.key === "Enter" && (i.ctrlKey || i.metaKey) && (i.preventDefault(), this.props.onChange(this.state.code), this.props.modal.close());
    }
  }, {
    key: "handleKeyUp",
    value: function(i) {
      this.setState({
        hide: false
      }), i.key === "Escape" && (i.preventDefault(), this.props.modal.close(), this.props.onCancel());
    }
  }, {
    key: "handleSubmit",
    value: function(i) {
      i && i.preventDefault(), this.props.onSave(this.state.code);
    }
  }, {
    key: "getLogMsgs",
    value: function(i) {
      const o = [];
      let a;
      try {
        a = JSON.parse(i);
      } catch (u) {
        return console.warn(u), o.push({
          type: "Error",
          msg: u.toString()
        }), o;
      }
      const s = new qQ().compile(KQ);
      return s(a) || (console.warn("Invalid viewconf"), o.push({
        type: "Warning",
        msg: "Invalid viewconf"
      })), s.errors && (console.warn(JSON.stringify(s.errors, null, 2)), s.errors.forEach((u) => {
        o.push({
          type: "Warning",
          msg: JSON.stringify(u, null, 2)
        });
      })), o.length === 0 && o.push({
        type: "Success",
        msg: "No error or warnings"
      }), o;
    }
  }, {
    key: "hide",
    value: function() {
      this.setState({
        hide: true
      });
    }
  }, {
    key: "show",
    value: function() {
      this.setState({
        hide: false
      });
    }
  }, {
    key: "hideLog",
    value: function() {
      this.setState({
        showLog: false
      });
    }
  }, {
    key: "showLog",
    value: function() {
      this.setState({
        showLog: true
      });
    }
  }, {
    key: "toggleLog",
    value: function() {
      this.state.showLog ? this.hideLog() : this.showLog();
    }
  }, {
    key: "render",
    value: function() {
      const i = this.state.logMsgs.map((o, a) => {
        const s = `${a}-${o.msg}`;
        return import_react.default.createElement("tr", {
          key: s
        }, import_react.default.createElement("td", {
          className: nr(Pc.title, Pc[o.type])
        }, `[${a}] ${o.type}`), import_react.default.createElement("td", null, import_react.default.createElement("pre", null, o.msg)));
      });
      return import_react.default.createElement(gy, {
        cancelShortcut: "ESC",
        cancelTitle: "Discard Changes",
        hide: this.state.hide,
        maxHeight: true,
        okayShortcut: "⌘+Enter",
        okayTitle: "Save and Close",
        onCancel: this.props.onCancel,
        onOkay: this.handleSubmitBound,
        title: "Edit View Config"
      }, import_react.default.createElement(import_react.default.Fragment, null, import_react.default.createElement("header", {
        className: Pc["view-config-editor-header"]
      }, import_react.default.createElement(Ps, {
        onBlur: this.showBound,
        onMouseDown: this.hideBound,
        onMouseOut: this.showBound,
        onMouseUp: this.showBound
      }, "Hide While Mousedown"), import_react.default.createElement(Ps, {
        onClick: () => {
          this.props.onChange(this.state.code);
        },
        shortcut: "⌘+S"
      }, "Save")), import_react.default.createElement("div", {
        ref: (o) => {
          this.editorWrap = o;
        },
        className: Pc["view-config-editor"]
      }, import_react.default.createElement($tt, {
        ref: (o) => {
          this.editor = o;
        },
        highlight: (o) => I4.highlight(o, I4.languages.json),
        onValueChange: this.handleChangeBound,
        padding: 10,
        style: {
          fontFamily: '"Fira code", "Fira Mono", monospace',
          fontSize: "inherit"
        },
        value: this.state.code
      })), import_react.default.createElement("div", {
        className: Pc["view-config-log"],
        style: {
          height: this.state.showLog ? "50%" : "30px"
        }
      }, import_react.default.createElement("div", {
        className: Pc["view-config-log-header"],
        onClick: () => this.toggleLogBound()
      }, `Log Messages (${this.state.logMsgs.filter((o) => o.type !== "Success").length})`), import_react.default.createElement("div", {
        className: Pc["view-config-log-msg"],
        style: {
          padding: this.state.showLog ? "10px" : 0
        }
      }, import_react.default.createElement("table", null, import_react.default.createElement("tbody", null, i))))));
    }
  }]), r;
}(import_react.default.Component);
ZQ.propTypes = {
  modal: M.object.isRequired,
  onCancel: M.func.isRequired,
  onChange: M.func.isRequired,
  onSave: M.func.isRequired,
  pubSub: M.object.isRequired,
  viewConfig: M.string.isRequired
};
var Cit = pp(AS(ZQ));
function xit(e13, t, r, n) {
  const i = e13.append("symbol").attr("id", t).attr("viewBox", n);
  r.forEach((o) => i.append("path").attr("d", o).attr("fill", "currentColor"));
}
var kit = (e13) => {
  e13.setState(e13.state);
};
var Dit = function(t, r) {
  const n = t;
  let i = [];
  const o = u1(), a = () => {
    i.forEach((s) => r.unsubscribe(s)), i = [];
  };
  return {
    destroy: a,
    publish: o.publish,
    // Stack: mapping of callback names to arrays of callbacks, useful
    // to determine how many callbacks exist for a particular event.
    stack: o.stack,
    // Public API
    public: {
      /**
       * HiGlass version
       * @return {string} Version number
       */
      get version() {
        return lZ;
      },
      /**
       * Enable or disable broadcasting the mouse position globally
       * @param {boolean} isBroadcastMousePositionGlobally - If `true` the mouse
       *   position will be broadcasted globally.
       */
      setBroadcastMousePositionGlobally(s = false) {
        n.setBroadcastMousePositionGlobally(s);
      },
      /**
       * Enable or disable showing the global mouse position
       * @param {boolean} isShowGlobalMousePosition - If `true` the global mouse
       *   position will be shown for any track that has
       *   `options.showMousePosition = true`.
       */
      setShowGlobalMousePosition(s = false) {
        n.setShowGlobalMousePosition(s);
      },
      /**
       * Convenience function to enable / disable the global mouse position
       * @description This function is equivalent to calling
       *   `setBroadcastMousePositionGlobally()` and
       *   `setShowGlobalMousePosition()`.
       * @param {boolean} isGlobalMousePosition - If `true` the global mouse
       *   position will be shown and broadcasted.
       */
      setGlobalMousePosition(s = false) {
        n.setBroadcastMousePositionGlobally(s), n.setShowGlobalMousePosition(s);
      },
      /**
       * Set an auth header to be included with all tile requests.
       *
       * @param {string} newHeader The contensts of the header to be included.
       * Example: ``hgapi.setAuthHeader('JWT xyz')``
       */
      setAuthHeader(s) {
        ev(s), n.reload();
      },
      /**
       * Get the currently set auth header
       */
      getAuthHeader() {
        return ev();
      },
      /**
       * Get a reference to the React HiGlassComponent
       *
       * @returns {HiGlassComponent}
       */
      getComponent() {
        return n;
      },
      /**
       * Reload all or specific tiles for viewId/trackId
       *
       * @param {array} target Should be an array of type
       *                       ({ viewId: string, trackId: string } | string).
       *                       If the array is just strings, it's interpreted
       *                       as a list of views whose tracks to reload.
       */
      reload(s) {
        let l;
        s ? l = s.flatMap((u) => typeof u == "string" ? n.iterateOverTracksInView(u) : u) : l = n.iterateOverTracks();
        for (const {
          viewId: u,
          trackId: c
        } of l) {
          const f = n.getTrackObject(u, c);
          for (const h of f.childTracks || [f])
            h.fetchedTiles && (h.removeTiles(Object.keys(h.fetchedTiles)), h.fetching.clear(), h.refreshTiles()), h.rerender(h.options, true);
        }
      },
      /**
       * Destroy HiGlass instance
       */
      destroy() {
        a(), import_react_dom.default.unmountComponentAtNode(n.topDiv.parentNode);
      },
      /**
       * Force integer range selections.
       *
       * @example
       *
       * hgv.activateTool('select'); // Activate select tool
       * hgv.setRangeSelectionToFloat(); // Allow float range selections
       */
      setRangeSelectionToInt() {
        n.setState({
          rangeSelectionToInt: true
        });
      },
      /**
       * Force float range selections.
       *
       * @example
       *
       * hgv.activateTool('select'); // Activate select tool
       * hgv.setRangeSelectionToFloat(); // Allow float range selections
       */
      setRangeSelectionToFloat() {
        n.setState({
          rangeSelectionToInt: false
        });
      },
      /**
       *
       *  The following enpoint restricts the size of range selection equally for 1D or
       *  2D tracks to a certain length (specified in absolute coordinates).
       *
       * @param {Number} [minSize = 0]  Minimum range selection.
       *   ``undefined`` unsets the value.
       * @param {Number} [maxSize = Infinity] Maximum range selection.
       *   ``undefined`` unsets the value.
       * @example
       *
       * hgv.activateTool('select'); // Activate select tool
       * hgv.setRangeSelection1dSize(5000, 10000); // Force selections to be between 5 and 10 Kb
       */
      setRangeSelection1dSize(s = 0, l = 1 / 0) {
        n.setState({
          rangeSelection1dSize: [s, l]
        });
      },
      /**
       * Set a new view config to define the layout and data
       * of this component
       *
       * @param {obj} newViewConfig A JSON object that defines
       *    the state of the HiGlassComponent
       * @param {boolean} resolveImmediately If true, the returned promise resolves immediately
       *    even if not all data has loaded. This should be set to true, if the new viewconf does not request new data. Default: false.
       * @example
       *
       * const p = hgv.setViewConfig(newViewConfig);
       * p.then(() => {
       *   // the initial set of tiles has been loaded
       * });
       *
       * @return {Promise} dataLoaded A promise that resolves when
       *   all of the data for this viewconfig is loaded. If `resolveImmediately` is set to true,
       * the promise resolves without waiting for the data to be loaded.
       */
      setViewConfig(s, l = false) {
        const u = n.processViewConfig(s);
        return new Promise((f) => {
          this.requestsInFlight = 0, i.push(r.subscribe("requestSent", () => {
            this.requestsInFlight += 1;
          })), i.push(r.subscribe("requestReceived", () => {
            this.requestsInFlight -= 1, this.requestsInFlight === 0 && f();
          })), n.setState({
            viewConfig: s,
            views: u
          }, () => {
            l && f();
          });
        });
      },
      /**
       * Retrieve the visible viewconf.
       *
       * @returns (Object) A JSON object describing the visible views
       */
      getViewConfig() {
        return n.getViewsAsJson();
      },
      /**
       * Validate a viewconf.
       *
       * @returns (Boolean) A JSON object describing the visible views
       */
      validateViewConfig(s, {
        verbose: l = false
      } = {}) {
        const u = new qQ().compile(KQ), c = u(s);
        return l && u.errors && console.warn(JSON.stringify(u.errors, null, 2)), c;
      },
      /**
       * Get the minimum and maximum visible values for a given track.
       *
       * @param {string} viewId The id of the view containing the track.
       * @param {string} trackId The id of the track to query.
       * @param {bool} [ignoreOffScreenValues=false] If ``true`` only truly visible values
       *  are considered. Otherwise the values of visible tiles are used. Not that
       *  considering only the truly visible
       *  values results in a roughly 10x slowdown (from 0.1 to 1 millisecond).
       * @param {bool} [ignoreFixedScale=false]  If ``true`` potentially fixed scaled values are
       *  ignored. I.e., if the
       *  absolute range is ``[1, 18]`` but you have fixed the output range to
       *  ``[4, 5]`` you would normally retrieve ``[4, 5]``. Having this option set to
       *  ``true`` retrieves the absolute ``[1, 18]`` range.
       * @example
       * const [minVal, maxVal] = hgv.getMinMaxValue('myView', 'myTrack');
       * @returns {Array} The minimum and maximum value
       */
      getMinMaxValue(s, l, u = false, c = false) {
        return n.getMinMaxValue(s, l, u, c);
      },
      /**
       * Generate a sharable link to the current view config. The `url` parameter should contain
       * the API endpoint used to export the view link (e.g. 'http://localhost:8989/api/v1/viewconfs').
       * If it is not provided, the value is taken from the `exportViewUrl` value of the viewconf.
       *
       * @param {string}  url  Custom URL that should point to a higlass server's
       *   view config endpoint, i.e.,
       *   `http://my-higlass-server.com/api/v1/viewconfs/`.
       * @returns {Object}  Promise resolving to the link ID and URL.
       * @example
       * hgv.shareViewConfigAsLink('http://localhost:8989/api/v1/viewconfs')
       * .then((sharedViewConfig) => {
       *   const { id, url } = sharedViewConfig;
       *   console.log(`Shared view config (ID: ${id}) is available at ${url}`)
       * })
       * .catch((err) => { console.error('Something did not work. Sorry', err); })
       */
      shareViewConfigAsLink(s) {
        return n.handleExportViewsAsLink(s, true);
      },
      /**
       * Show overlays where this track can be positioned. This
       * function will take a track definition and display red,
       * blue or green overlays highlighting where the track can
       * be placed on the view. Blue indicates that a track can
       * be placed in that region, red that it can't and green that
       * the mouse is currently over the given region.
       *
       * @param {obj} track { server, tilesetUid, datatype }
       *
       * @example
       *
       *  let lineTrack = {
       *   "server": "http://higlass.io/api/v1",
       *   "tilesetUid": "WtBJUYawQzS9M2WVIIHnlA",
       *   "datatype": "multivec",
       *   "defaultTracks": ['horizontal-stacked-bar']
       * }
       *
       * window.hgApi.showAvailableTrackPositions(lineTrack);
       */
      showAvailableTrackPositions(s) {
        n.setState({
          draggingHappening: s
        });
      },
      /**
       * Hide the overlay showing where a track can be positioned
       */
      hideAvailableTrackPositions() {
        n.setState({
          draggingHappening: null
        });
      },
      /**
       * Show the track chooser which highlights tracks
       * when the mouse is over them.
       *
       * @param  {Function} callback (toViewUid, toTrackUid) =>: A function
       *                             to be called when a track is chosen.
       * @return {[type]}            [description]
       */
      showTrackChooser(s) {
        n.setState({
          chooseTrackHandler: (...l) => {
            n.setState({
              chooseTrackHandler: null
            }), s(...l);
          }
        });
      },
      /**
       * Hide the track chooser.
       */
      hideTrackChooser() {
        this.setState({
          chooseTrackHandler: null
        });
      },
      /**
       *
       * When comparing different 1D tracks it can be desirable to fix their y or value
       * scale
       *
       * @param {string} [viewId=''] The view identifier. If you only have one view this
       * parameter can be omitted.
       *
       * @param {string} [trackId=null] The track identifier.
       * @param [Number] [minValue=null] Minimum value used for scaling the track.
       * @param [Number] [maxValue=null] Maximum value used for scaling the track.
       *
       * @example
       *
       * hgv.setTrackValueScale(myView, myTrack, 0, 100); // Sets the scaling to [0, 100]
       * hgv.setTrackValueScale(myView, myTrack); // Unsets the fixed scaling, i.e., enables
       * dynamic scaling again.
       */
      setTrackValueScaleLimits(s, l, u, c) {
        n.setTrackValueScaleLimits(s, l, u, c);
      },
      /**
       * Choose a theme.
       * @deprecated since version 1.6.6. Use `setTheme()` instead.
       */
      setDarkTheme(s) {
        console.warn('`setDarkTheme(true)` is deprecated. Please use `setTheme("dark")`.');
        const l = s ? "dark" : "light";
        n.setTheme(l);
      },
      /**
       * Choose a theme.
       */
      setTheme(s) {
        console.warn("Please note that theming is still in beta!"), n.setTheme(s);
      },
      /**
       * Change the current view port to a certain data location.
       * When ``animateTime`` is greater than 0, animate the transition.
        * If working with genomic data, a chromosome info file will need to be used in
       * order to calculate "data" coordinates from chromosome coordinates. "Data"
       * coordinates are simply the coordinates as if the chromosomes were placed next
       * to each other.
       *
       * @param {string} viewUid The identifier of the view to zoom
       * @param {Number} start1Abs The x start position
       * @param {Number} end1Abs The x end position
       * @param {Number} start2Abs (optional) The y start position. If not specified
       *    start1Abs will be used.
       * @param {Number} end2Abs (optional) The y end position. If not specified
       *    end1Abs will be used
       * @param {Number} animateTime The time to spend zooming to the specified location
       * @example
       *    // Absolute coordinates
       * hgApi.zoomTo('view1', 1000000, 1100000, 2000000, 2100000, 500);
       * // Chromosomal coordinates
       * hglib
       *   // Pass in the URL of your chrom sizes
       *   .ChromosomeInfo('//s3.amazonaws.com/pkerp/data/hg19/chromSizes.tsv')
       *   // Now we can use the chromInfo object to convert
       *   .then((chromInfo) => {
       *     // Go to PTEN
       *     hgApi.zoomTo(
       *       viewConfig.views[0].uid,
       *       chromInfo.chrToAbs(['chr10', 89596071]),
       *       chromInfo.chrToAbs(['chr10', 89758810]),
       *       chromInfo.chrToAbs(['chr10', 89596071]),
       *       chromInfo.chrToAbs(['chr10', 89758810]),
       *       2500  // Animation time
       *     );
       *   });
       *   // Just in case, let us catch errors
       *   .catch(error => console.error('Oh boy...', error))
       * // Using getLocation() for coordinates
       * let firstViewLoc = hgApi.getLocation(oldViewUid);
       * hgApi.zoomTo(
       *  viewUid,
       *  firstViewLoc["xDomain"][0],
       *  firstViewLoc["xDomain"][1],
       *  firstViewLoc["yDomain"][0],
       *  firstViewLoc["yDomain"][1]
       * );
       */
      zoomTo(s, l, u, c, f, h = 0) {
        n.zoomTo(s, l, u, c, f, h);
      },
      /**
       * Change the current view port to a location near the gene of interest.
       * When ``animateTime`` is greater than 0, animate the transition.
       *
       * @param {string} viewUid The identifier of the view to zoom
       * @param {string} geneName The name of gene symbol to search
       * @param {string} padding The padding (base pairs) around a given gene for the navigation
       * @param {Number} animateTime The time to spend zooming to the specified location
       * @example
       * // Zoom to the location near 'MYC'
       * hgApi.zoomToGene('view1', 'MYC', 100, 2000);
       */
      zoomToGene(s, l, u = 0, c = 0) {
        n.zoomToGene(s, l, u, c);
      },
      /**
       * Get the list of genes of top match for a given keyword.
       *
       * @param {string} viewUid The id of the view containing the track.
       * @param {string} keyword The substring of gene name to search.
       * @param {function} callback A function to be called upon gene list search.
       * @example
       * hgv.suggestGene('view1', 'MY', (suggestions) => {
       *    if(suggestions && suggestions.length > 0) {
       *      console.log('Gene suggested', suggestions[0].geneName);
       *      console.log('Chromosome', suggestions[0].chr);
       *      console.log('Start position', suggestions[0].txStart);
       *      console.log('End position', suggestions[0].txEnd);
       *    }
       * });
       */
      suggestGene(s, l, u) {
        return n.suggestGene(s, l, u);
      },
      /**
       * Zoom so that the entirety of all the datasets in a view
       * are visible.
       * The passed in ``viewUid`` should refer to a view which is present. If it
       * doesn't, an exception will be thrown. Note that if this function is invoked
       * directly after a HiGlass component is created, the information about the
       * visible tilesets will not have been retrieved from the server and
       * ``zoomToDataExtent`` will not work as expected. To ensure that the
       * visible data has been loaded from the server, use the ``setViewConfig``
       * function and place ``zoomToDataExtent`` in the promise resolution.
       *
       * @param {string} viewUid The view uid of the view to zoom
       * @example
       *
       * const p = hgv.setViewConfig(newViewConfig);
       * p.then(() => {
       *     hgv.zoomToDataExtent('viewUid');
       * });
       */
      zoomToDataExtent(s) {
        n.handleZoomToData(s);
      },
      /**
       * The endpoint allows you to reset the viewport to the initially defined X and Y
       * domains of your view config.
       *
       * @param {string} viewId The view identifier. If you have only one view you can
       * omit this parameter.
       *
       * @example
       *
       * hgv.resetViewport(); // Resets the first view
       */
      resetViewport(s) {
        n.resetViewport(s);
      },
      /**
       * Some tools needs conflicting mouse events such as mousedown or mousemove. To
       * avoid complicated triggers for certain actions HiGlass supports different mouse
       * tools for different interactions. The default mouse tool enables pan&zoom. The
       * only other mouse tool available right now is ``select``, which lets you brush
       * on to a track to select a range for annotating regions.
       *
       * @param {string} [mouseTool='']  Select a mouse tool to use. Currently there
       * only 'default' and 'select' are available.
       *
       * @example
       *
       * hgv.activateTool('select'); // Select tool is active
       * hgv.activateTool(); // Default pan&zoom tool is active
       */
      activateTool(s) {
        switch (s) {
          case "select":
            n.setMouseTool(yo);
            break;
          default:
            n.setMouseTool(E0);
            break;
        }
      },
      /**
       * Get a Promise which returns a Blob containing a PNG for the current view.
       * It's possible to get string of the PNG bytes from that:
       *
       * @example
       * hgApi.exportAsPngBlobPromise().then(function(blob) {
       *   var reader = new FileReader();
       *   reader.addEventListener("loadend", function() {
       *     var array = new Uint8Array(reader.result.slice(0,8));
       *     console.log(array);
       *     console.log(new TextDecoder("iso-8859-2").decode(array));
       *   });
       *   reader.readAsArrayBuffer(blob);
       * });
       *
       * @returns {promise}
       */
      exportAsPngBlobPromise() {
        return n.createPNGBlobPromise();
      },
      /**
       * Get the current view as an SVG. Relies on all the tracks implementing
       * their respective exportAsSVG methods.
       *
       * @returns {string} An SVG string of the current view.
       */
      exportAsSvg() {
        return n.createSVGString();
      },
      /**
       * Export the current view as a Viewconf.
       *
       * @returns {string} A stringified version of the current viewconf
       */
      exportAsViewConfString() {
        return n.getViewsAsString();
      },
      /**
       * Get the current range selection
       *
       * @return {Array} The current range selection
       */
      getRangeSelection() {
        return n.rangeSelection;
      },
      /**
       * Get the current location for a view.
       *
       * @param {string} [viewId=null] The id of the view to get the location for
       * @returns {obj} A an object containing four arrays representing the domains and ranges of
       *  the x and y scales of the view.
       * @example
       *
       * const {xDomain, yDomain, xRange, yRange} = hgv.getLocation('viewId');
       */
      getLocation(s) {
        const l = s ? n.xScales[s] && n.yScales[s] && s : Object.values(n.tiledPlots)[0] && Object.values(n.tiledPlots)[0].props.uid;
        return l ? {
          xDomain: n.xScales[l].domain(),
          yDomain: n.yScales[l].domain(),
          xRange: n.xScales[l].range(),
          yRange: n.yScales[l].range()
        } : "Please provide a valid view UUID sweetheart 😙";
      },
      /**
       * Return the track's javascript object. This is useful for subscribing to
       * data events (dataChanged)
       *
       * @param {string} viewId The id of the view containing the track
       * @param {string} trackId The id of the track within the view
       * @return {obj} The HiGlass track object for this track
       */
      getTrackObject(s, l) {
        let u = s, c = l;
        return l || (u = Object.values(n.state.views)[0].uid, c = s), ZR(n, u, c);
      },
      /**
       * Set or get an option.
       * @param   {string}  key  The name of the option you want get or set
       * @param   {*}  value  If not `undefined`, `key` will be set to `value`
       * @return  {obj}  When `value` is `undefined` the current value of
       *   `key` will be returned.
       */
      option(s, l) {
        if (typeof l > "u")
          return n.props.options[s];
        switch (s) {
          case "sizeMode":
            n.props.options[s] = l, kit(n);
            break;
          default:
            console.warn(`This option "${s}" is either unknown or not settable.`);
        }
      },
      /**
       * Cancel a subscription.
       *
       * @param {string} event One of the available events
       * @param {function} listener The function to unsubscribe
       * @param {string} viewId The viewId to unsubscribe it from (not strictly necessary)
       * The variables used in the following examples are coming from the examples of ``on()``.
       *
       * @example
       *
       * hgv.off('location', listener, 'viewId1');
       * hgv.off('rangeSelection', rangeListener);
       * hgv.off('viewConfig', viewConfigListener);
       * hgv.off('mouseMoveZoom', mmz);
       * hgv.off('wheel', wheelListener);
       * hgv.off('createSVG');
       * hgv.off('click');
       * hgv.off('geneSearch', geneSearchListener);
       */
      off(s, l, u) {
        const c = typeof l == "object" ? l.callback : l;
        switch (s) {
          case "click":
            o.unsubscribe("click", c);
            break;
          case "cursorLocation":
            o.unsubscribe("cursorLocation", c);
            break;
          case "location":
            n.offLocationChange(u, l);
            break;
          case "mouseMoveZoom":
            o.unsubscribe("mouseMoveZoom", c);
            break;
          case "wheel":
            o.unsubscribe("wheel", c);
            break;
          case "rangeSelection":
            o.unsubscribe("rangeSelection", c);
            break;
          case "viewConfig":
            n.offViewChange(l);
            break;
          case "createSVG":
            n.offPostCreateSVG();
            break;
          case "geneSearch":
            o.unsubscribe("geneSearch", c);
            break;
        }
      },
      /**
       * Subscribe to events
       *
       *
       * HiGlass exposes the following event, which one can subscribe to via this method:
       *
       * - location
       * - rangeSelection
       * - viewConfig
       * - mouseMoveZoom
       *
       * **Event types**
       *
       * ``click``: Returns a list of objects for each track that is below the click event.
       *
       * .. code-block:: javascript
       *
       *     [
       *      {
       *       event: {
       *          type: 'annotation',
       *          event: { ... },
       *          payload: [230000000, 561000000]
       *        },
       *       trackType: '1d-annotation',
       *       trackUid: 'xyz',
       *       viewUid: 'abc'
       *      }
       *     ]
       *
       * ``cursorLocation:`` Returns an object describing the location under the cursor
       *
       * .. code-block:: javascript
       *
       *    {
       *        absX: 100,
       *        absY: 200,
       *        relX: 50,
       *        relY: 150,
       *        relTrackX: 50,
       *        relTrackY: 100,
       *        dataX: 10000,
       *        dataY: 123456,
       *        isFrom2dTrack: false,
       *        isFromVerticalTrack: false,
       *    }
       *
       * ``location:`` Returns an object describing the visible region
       *
       * .. code-block:: javascript
       *
       *    {
       *        xDomain: [1347750580.3773856, 1948723324.787681],
       *        xRange: [0, 346],
       *        yDomain: [1856870481.5391564, 2407472678.0075483],
       *        yRange: [0, 317]
       *    }
       *
       * ``rangeSelection:`` Returns a BED- (1D) or BEDPE (1d) array of the selected data and
       * genomic range (if chrom-sizes are available)
       *
       * .. code-block:: javascript
       *
       *  // Global output
       *  {
       *    dataRange: [...]
       *    genomicRange: [...]
       *  }
       *
       *  // 1D data range
       *  [[1218210862, 1528541001], null]
       *
       *  // 2D data range
       *  [[1218210862, 1528541001], [1218210862, 1528541001]]
       *
       *  // 1D or BED-like array
       *  [["chr1", 249200621, "chrM", 50000], null]
       *
       *  // 2D or BEDPE-like array
       *  [["chr1", 249200621, "chr2", 50000], ["chr3", 197972430, "chr4", 50000]]
       *
       * ``viewConfig:`` Returns the current view config (as a string).
       *  This event is published upon interactions including:
       *  - Saving in the view config editor modal.
       *  - Panning and zooming in views, which update view object ``initialXDomain`` and ``initialYDomain`` values.
       *  - Brushing in ``viewport-projection-`` tracks containing null ``fromViewUid`` fields, which update track object ``projectionXDomain`` and ``projectionYDomain`` values.
       *
       * ``mouseMoveZoom:`` Returns the location and data at the mouse cursor's
       * screen location.
       *
       * .. code-block:: javascript
       *
       *  {
       *    // Float value of the hovering track
       *    data,
       *    // Absolute x screen position of the cursor in px
       *    absX,
       *    // Absolute y screen position of the cursor in px
       *    absY,
       *    // X screen position of the cursor in px relative to the track extent.
       *    relX,
       *    // Y screen position of the cursor in px relative to the track extent.
       *    relY,
       *    // Data x position of the cursor relative to the track's data.
       *    dataX,
       *    // Data y position of the cursor relative to the track's data.
       *    dataY,
       *    // Track orientation, i.e., '1d-horizontal', '1d-vertical', or '2d'
       *    orientation: '1d-horizontal',
       *
       *    // The following properties are only returned when hovering 2D tracks:
       *    // Raw Float32Array
       *    dataLens,
       *    // Dimension of the lens, e.g., 3 (the lens is squared so `3` corresponds
       *    // to a 3x3 matrix represented by an array of length 9)
       *    dim,
       *    // Function for converting the raw data values to rgb values
       *    toRgb,
       *    // Center position of the data or genomic position (as a BED array)
       *    center,
       *    // Range of the x data or genomic position (as a BEDPE array)
       *    xRange,
       *    // Range of the y data or genomic position (as a BEDPE array)
       *    yRange,
       *    // If `true` `center`, `xRange`, and `yRange` are given in genomic positions
       *    isGenomicCoords
       *  }
       *
       * ``createSVG:`` Set a callback to obtain the current exported SVG DOM node,
       *                and potentially return a manipulated SVG DOM node.
       *
       * @param {string} event One of the events described below
       *
       * @param {function} callback A callback to be called when the event occurs
       *
       * @param {string} viewId The view ID to listen to events
       *
       * @example
       *
       * let locationListenerId;
       * hgv.on(
       *   'location',
       *   location => console.log('Here we are:', location),
       *   'viewId1',
       *   listenerId => locationListenerId = listenerId
       * );
       *
       * const rangeListenerId = hgv.on(
       *   'rangeSelection',
       *   range => console.log('Selected', range)
       * );
       *
       * const viewConfigListenerId = hgv.on(
       *   'viewConfig',
       *   range => console.log('Selected', range)
       * );
       *
       * const mmz = event => console.log('Moved', event);
       * hgv.on('mouseMoveZoom', mmz);
       *
       * const wheelListener = event => console.log('Wheel', event);
       * hgv.on('wheel', wheelListener);
       *
       * hgv.on('createSVG', (svg) => {
       *    const circle = document.createElement('circle');
       *    circle.setAttribute('cx', 100);
       *    circle.setAttribute('cy', 100);
       *    circle.setAttribute('r', 50);
       *    circle.setAttribute('fill', 'green');
       *    svg.appendChild(circle);
       *    return svg;
       * });
       *
       * const geneSearchListener = event => {
       *    console.log('Gene searched', event.geneSymbol);
       *    console.log('Range of the gene', event.range);
       *    console.log('Center of the gene', event.centerX);
       * }
       * hgv.on('geneSearch', geneSearchListener);
       */
      on(s, l, u, c) {
        switch (s) {
          case "click":
            return o.subscribe("click", l);
          case "cursorLocation":
            return o.subscribe("cursorLocation", l);
          case "location":
            return n.onLocationChange(u, l, c);
          case "mouseMoveZoom":
            return o.subscribe("mouseMoveZoom", l);
          case "wheel":
            return o.subscribe("wheel", l);
          case "rangeSelection":
            return o.subscribe("rangeSelection", l);
          case "viewConfig":
            return n.onViewChange(l);
          case "createSVG":
            return n.onPostCreateSVG(l);
          case "geneSearch":
            return o.subscribe("geneSearch", l);
          default:
            return;
        }
      }
    }
  };
};
var Uh = {
  "higlass-canvas": "_higlass-canvas_1uoq8_28",
  "higlass-drawing-surface": "_higlass-drawing-surface_1uoq8_34",
  "higlass-svg": "_higlass-svg_1uoq8_38",
  "tiled-area": "_tiled-area_1uoq8_47",
  "track-mouseover-menu": "_track-mouseover-menu_1uoq8_52"
};
function Rit(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function Nit(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, Lit(n.key), n);
  }
}
function Mit(e13, t, r) {
  return t && Nit(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function Lit(e13) {
  var t = Bit(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function Bit(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
function Fit(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  e13.prototype = Object.create(t && t.prototype, { constructor: { value: e13, writable: true, configurable: true } }), Object.defineProperty(e13, "prototype", { writable: false }), t && nD(e13, t);
}
function nD(e13, t) {
  return nD = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, i) {
    return n.__proto__ = i, n;
  }, nD(e13, t);
}
function $it(e13) {
  var t = Uit();
  return function() {
    var n = IE(e13), i;
    if (t) {
      var o = IE(this).constructor;
      i = Reflect.construct(n, arguments, o);
    } else
      i = n.apply(this, arguments);
    return Hit(this, i);
  };
}
function Hit(e13, t) {
  if (t && (typeof t == "object" || typeof t == "function"))
    return t;
  if (t !== void 0)
    throw new TypeError("Derived constructors may only return object or undefined");
  return Er(e13);
}
function Er(e13) {
  if (e13 === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e13;
}
function Uit() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return false;
  if (typeof Proxy == "function")
    return true;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), true;
  } catch {
    return false;
  }
}
function IE(e13) {
  return IE = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(r) {
    return r.__proto__ || Object.getPrototypeOf(r);
  }, IE(e13);
}
var H4 = 12;
var jit = 12;
var Git = 20;
var zit = "default";
var U4 = "bounded";
var j4 = "overflow";
var dm = "scroll";
var Ay = function(e13) {
  Fit(r, e13);
  var t = $it(r);
  function r(n) {
    var i;
    Rit(this, r), i = t.call(this, n), J9(import_react.default.version) < 15.6 && console.warn("HiGlass requires React v15.6 or higher. Current version: ", import_react.default.version), i.pubSub = u1(), i.domEvent = L9(i.pubSub), i.pubSubs = [], i.minHorizontalHeight = 20, i.minVerticalWidth = 20, i.resizeSensor = null, i.uid = Gt.nice(), i.tiledPlots = {}, i.genomePositionSearchBoxes = {}, i.xScales = {}, i.yScales = {}, i.projectionXDomains = {}, i.projectionYDomains = {}, i.topDiv = null, i.zoomToDataExtentOnInit = /* @__PURE__ */ new Set(), i.viewTrackUidsToCombinedUid = {}, i.combinedUidToViewTrack = {}, i.scalesChangedListeners = {}, i.draggingChangedListeners = {}, i.valueScalesChangedListeners = {}, i.zoomLocks = {}, i.locationLocks = {}, i.locationLocksAxisWise = {
      x: {},
      y: {}
    }, i.valueScaleLocks = {}, i.prevAuthToken = n.options.authToken, i.setCenters = {}, i.plusImg = {}, i.configImg = {}, Ge.PIXI = n.options && n.options.PIXI || x6, i.viewMarginTop = +n.options.viewMarginTop >= 0 ? +n.options.viewMarginTop : _m, i.viewMarginBottom = +n.options.viewMarginBottom >= 0 ? +n.options.viewMarginBottom : _m, i.viewMarginLeft = +n.options.viewMarginLeft >= 0 ? +n.options.viewMarginLeft : _m, i.viewMarginRight = +n.options.viewMarginRight >= 0 ? +n.options.viewMarginRight : _m, i.viewPaddingTop = +n.options.viewPaddingTop >= 0 ? +n.options.viewPaddingTop : bm, i.viewPaddingBottom = +n.options.viewPaddingBottom >= 0 ? +n.options.viewPaddingBottom : bm, i.viewPaddingLeft = +n.options.viewPaddingLeft >= 0 ? +n.options.viewPaddingLeft : bm, i.viewPaddingRight = +n.options.viewPaddingRight >= 0 ? +n.options.viewPaddingRight : bm, i.genomePositionSearchBox = null, i.viewHeaders = {}, i.boundRefreshView = () => {
      i.refreshView(Tm);
    }, i.unsetOnLocationChange = [], i.setTheme(n.options.theme, n.options.isDarkTheme), i.viewconfLoaded = false;
    const {
      viewConfig: o
    } = i.props, a = i.loadIfRemoteViewConfig(i.props.viewConfig);
    n.options.authToken && ev(n.options.authToken), i.pixiRoot = new Ge.PIXI.Container(), i.pixiRoot.interactive = true, i.pixiStage = new Ge.PIXI.Container(), i.pixiStage.interactive = true, i.pixiRoot.addChild(i.pixiStage), i.pixiMask = new Ge.PIXI.Graphics(), i.pixiRoot.addChild(i.pixiMask), i.pixiStage.mask = i.pixiMask, i.element = null, i.scrollTop = 0;
    let s = E0;
    if (i.props.options)
      switch (i.props.options.mouseTool) {
        case yo:
          s = yo;
          break;
      }
    i.props.options.pluginTracks && (window.higlassTracksByType = Object.assign(window.higlassTracksByType || {}, i.props.options.pluginTracks));
    const l = {};
    try {
      window.higlassTracksByType && Object.entries(window.higlassTracksByType).forEach(([m, g]) => {
        l[m] = g;
      });
    } catch {
      console.warn("Broken config of a plugin track");
    }
    i.props.options.pluginDataFetchers && (window.higlassDataFetchersByType = Object.assign(window.higlassDataFetchersByType || {}, i.props.options.pluginDataFetchers));
    const u = window.higlassDataFetchersByType, c = i.props.options.pixelPreciseMarginPadding ? 1 : 30;
    i.mounted = false, i.pluginTracks = l, i.pluginDataFetchers = u, i.state = {
      currentBreakpoint: "lg",
      width: 0,
      height: 0,
      rowHeight: c,
      svgElement: null,
      canvasElement: null,
      customDialog: null,
      views: a,
      viewConfig: o,
      addTrackPositionMenuPosition: null,
      typedEditable: void 0,
      mouseOverOverlayUid: null,
      mouseTool: s,
      isDarkTheme: false,
      rangeSelection1dSize: [0, 1 / 0],
      rangeSelectionToInt: false,
      modal: null
    }, i.attachedToDOM = false;
    const {
      public: f,
      destroy: h,
      publish: d,
      stack: p
    } = Dit(Er(i), i.pubSub);
    return i.api = f, i.apiDestroy = h, i.apiPublish = d, i.apiStack = p, i.viewChangeListener = [], i.triggerViewChangeDb = BR(i.triggerViewChange.bind(Er(i)), 250), i.pubSubs = [], i.rangeSelection = [null, null], i.prevMouseHoverTrack = null, i.zooming = false, i.appClickHandlerBound = i.appClickHandler.bind(Er(i)), i.canvasClickHandlerBound = i.canvasClickHandler.bind(Er(i)), i.keyDownHandlerBound = i.keyDownHandler.bind(Er(i)), i.keyUpHandlerBound = i.keyUpHandler.bind(Er(i)), i.resizeHandlerBound = i.resizeHandler.bind(Er(i)), i.resizeHandlerBound = i.resizeHandler.bind(Er(i)), i.dispatchEventBound = i.dispatchEvent.bind(Er(i)), i.animateOnMouseMoveHandlerBound = i.animateOnMouseMoveHandler.bind(Er(i)), i.zoomStartHandlerBound = i.zoomStartHandler.bind(Er(i)), i.zoomEndHandlerBound = i.zoomEndHandler.bind(Er(i)), i.zoomHandlerBound = i.zoomHandler.bind(Er(i)), i.trackDroppedHandlerBound = i.trackDroppedHandler.bind(Er(i)), i.trackDimensionsModifiedHandlerBound = i.trackDimensionsModifiedHandler.bind(Er(i)), i.animateBound = i.animate.bind(Er(i)), i.animateOnGlobalEventBound = i.animateOnGlobalEvent.bind(Er(i)), i.requestReceivedHandlerBound = i.requestReceivedHandler.bind(Er(i)), i.wheelHandlerBound = i.wheelHandler.bind(Er(i)), i.mouseMoveHandlerBound = i.mouseMoveHandler.bind(Er(i)), i.onMouseLeaveHandlerBound = i.onMouseLeaveHandler.bind(Er(i)), i.onBlurHandlerBound = i.onBlurHandler.bind(Er(i)), i.openModalBound = i.openModal.bind(Er(i)), i.closeModalBound = i.closeModal.bind(Er(i)), i.handleEditViewConfigBound = i.handleEditViewConfig.bind(Er(i)), i.onScrollHandlerBound = i.onScrollHandler.bind(Er(i)), i.typedText = "", i.typedTextTimeout = null, i.modal = {
      open: i.openModalBound,
      close: i.closeModalBound
    }, i.setBroadcastMousePositionGlobally(i.props.options.broadcastMousePositionGlobally || i.props.options.globalMousePosition), i.setShowGlobalMousePosition(i.props.options.showGlobalMousePosition || i.props.options.globalMousePosition), i;
  }
  return Mit(r, [{
    key: "UNSAFE_componentWillMount",
    value: function() {
      this.domEvent.register("keydown", document), this.domEvent.register("keyup", document), this.domEvent.register("scroll", document), this.domEvent.register("resize", window), this.domEvent.register("orientationchange", window), this.domEvent.register("wheel", window), this.domEvent.register("mousedown", window, true), this.domEvent.register("mouseup", window, true), this.domEvent.register("click", window, true), this.domEvent.register("mousemove", window), this.domEvent.register("touchmove", window), this.domEvent.register("touchstart", window), this.domEvent.register("touchend", window), this.domEvent.register("touchcancel", window), this.domEvent.register("blur", window), this.pubSubs.push(this.pubSub.subscribe("app.click", this.appClickHandlerBound), this.pubSub.subscribe("blur", this.onBlurHandlerBound), this.pubSub.subscribe("keydown", this.keyDownHandlerBound), this.pubSub.subscribe("keyup", this.keyUpHandlerBound), this.pubSub.subscribe("resize", this.resizeHandlerBound), this.pubSub.subscribe("wheel", this.wheelHandlerBound), this.pubSub.subscribe("orientationchange", this.resizeHandlerBound), this.pubSub.subscribe("app.event", this.dispatchEventBound), this.pubSub.subscribe("app.animateOnMouseMove", this.animateOnMouseMoveHandlerBound), this.pubSub.subscribe("trackDropped", this.trackDroppedHandlerBound), this.pubSub.subscribe("trackDimensionsModified", this.trackDimensionsModifiedHandlerBound), this.pubSub.subscribe("app.zoomStart", this.zoomStartHandlerBound), this.pubSub.subscribe("app.zoomEnd", this.zoomEndHandlerBound), this.pubSub.subscribe("app.zoom", this.zoomHandlerBound), this.pubSub.subscribe("requestReceived", this.requestReceivedHandlerBound)), this.props.getApi && this.props.getApi(this.api);
    }
  }, {
    key: "sizeMode",
    get: function() {
      return typeof this.props.options.sizeMode > "u" ? this.props.options.bounded ? "bounded" : zit : this.props.options.sizeMode;
    }
  }, {
    key: "setBroadcastMousePositionGlobally",
    value: function(i = false) {
      this.isBroadcastMousePositionGlobally = i;
    }
  }, {
    key: "setShowGlobalMousePosition",
    value: function(i = false) {
      if (this.isShowGlobalMousePosition = i, this.isShowGlobalMousePosition && !this.globalMousePositionListener && (this.globalMousePositionListener = Wm.subscribe("higlass.mouseMove", this.animateOnGlobalEventBound), this.pubSubs.push(this.globalMousePositionListener)), this.isShowGlobalMousePosition && !this.globalMousePositionListener) {
        const o = this.pubSubs.findIndex((a) => a === this.globalMousePositionListener);
        Wm.unsubscribe(this.globalMousePositionListener), o >= 0 && this.pubSubs.splice(o, 1), this.globalMousePositionListener = void 0;
      }
    }
  }, {
    key: "zoomStartHandler",
    value: function() {
      this.hideHoverMenu(), this.zooming = true;
    }
  }, {
    key: "zoomEndHandler",
    value: function() {
      this.zooming = false;
    }
  }, {
    key: "zoomHandler",
    value: function(i) {
      i.sourceEvent && this.mouseMoveHandler(i.sourceEvent);
    }
  }, {
    key: "waitForDOMAttachment",
    value: function(i) {
      if (!this.mounted)
        return;
      const o = import_react_dom.default.findDOMNode(this);
      document.body.contains(o) ? i() : requestAnimationFrame(() => this.waitForDOMAttachment(i));
    }
  }, {
    key: "componentDidMount",
    value: function() {
      this.mounted = true, this.element = import_react_dom.default.findDOMNode(this), window.addEventListener("focus", this.boundRefreshView), Object.values(this.state.views).forEach((s) => {
        this.adjustLayoutToTrackSizes(s), s.layout ? s.layout.i = s.uid : s.layout = this.generateViewLayout(s);
      });
      const i = {
        width: this.state.width,
        height: this.state.height,
        view: this.canvasElement,
        antialias: true,
        transparent: true,
        resolution: 2,
        autoResize: true
      }, o = parseInt(C6[0], 10);
      o === 4 ? (console.warn("Deprecation warning: please update Pixi.js to version 5 or above!"), this.props.options.renderer === "canvas" ? this.pixiRenderer = new Ge.PIXI.CanvasRenderer(i) : this.pixiRenderer = new Ge.PIXI.WebGLRenderer(i)) : (o < 4 && console.warn("Deprecation warning: please update Pixi.js to version 5 or above! This version of Pixi.js is unsupported. Good luck 🤞"), this.props.options.renderer === "canvas" ? this.pixiRenderer = new Ge.PIXI.CanvasRenderer(i) : this.pixiRenderer = new Ge.PIXI.Renderer(i)), this.fitPixiToParentContainer(), this.setState({
        svgElement: this.svgElement,
        canvasElement: this.canvasElement
      }), this.waitForDOMAttachment(() => {
        g0.ElementQueries.listen(), this.resizeSensor = new g0.ResizeSensor(this.element.parentNode, this.updateAfterResize.bind(this)), this.updateAfterResize();
      }), this.handleDragStart(), this.handleDragStop(), this.animate();
      const a = Wt(this.element).append("svg").style("display", "none");
      tde.forEach((s) => xit(a, s.id, s.paths, s.viewBox));
    }
  }, {
    key: "getTrackObject",
    value: function(i, o) {
      return this.tiledPlots[i].trackRenderer.getTrackObject(o);
    }
  }, {
    key: "getTrackRenderer",
    value: function(i) {
      return this.tiledPlots[i].trackRenderer;
    }
    /**
     * Check if the passed in viewConfig is remote (i.e. is a string).
     * If it is, fetch it before proceeding
     */
  }, {
    key: "loadIfRemoteViewConfig",
    value: function(i) {
      let o = {};
      return typeof i == "string" ? Je.json(i, (a, s) => {
        i = s, this.setState({
          views: this.processViewConfig(JSON.parse(JSON.stringify(s))),
          viewConfig: s
        }), this.unsetOnLocationChange.forEach(({
          viewId: l,
          callback: u,
          callbackId: c
        }) => {
          this.onLocationChange(l, u, c);
        });
      }, this.pubSub) : (o = this.processViewConfig(JSON.parse(JSON.stringify(i))), this.mounted && this.setState({
        viewConfig: i
      })), o;
    }
    // eslint-disable-next-line camelcase
  }, {
    key: "UNSAFE_componentWillReceiveProps",
    value: function(i) {
      const o = this.loadIfRemoteViewConfig(i.viewConfig);
      if (i.options.authToken !== this.prevAuthToken) {
        ev(i.options.authToken);
        for (const a of this.iterateOverViews()) {
          const s = this.getTrackRenderer(a), l = JSON.parse(s.prevTrackDefinitions);
          s.syncTrackObjects([]), s.syncTrackObjects(l);
        }
        this.prevAuthToken = i.options.authToken;
      }
      for (const a of mr(o))
        this.adjustLayoutToTrackSizes(a);
      this.setState({
        views: o
      });
    }
    // eslint-disable-next-line camelcase
  }, {
    key: "UNSAFE_componentWillUpdate",
    value: function() {
      this.pixiRenderer.render(this.pixiRoot);
    }
  }, {
    key: "componentDidUpdate",
    value: function() {
      this.setTheme(this.props.options.theme, this.props.options.isDarkTheme), this.animate(), this.triggerViewChangeDb();
    }
  }, {
    key: "componentWillUnmount",
    value: function() {
      this.mounted = false, this.pixiStage.destroy(false), this.pixiStage = null, this.pixiRenderer.destroy(true), this.pixiRenderer = null, window.removeEventListener("focus", this.boundRefreshView), this.resizeSensor && this.resizeSensor.detach(), this.domEvent.unregister("keydown", document), this.domEvent.unregister("keyup", document), this.domEvent.unregister("scroll", document), this.domEvent.unregister("wheel", window), this.domEvent.unregister("mousedown", window), this.domEvent.unregister("mouseup", window), this.domEvent.unregister("click", window), this.domEvent.unregister("mousemove", window), this.domEvent.unregister("touchmove", window), this.domEvent.unregister("touchstart", window), this.domEvent.unregister("touchend", window), this.domEvent.unregister("touchcancel", window), this.pubSubs.forEach((i) => this.pubSub.unsubscribe(i)), this.pubSubs = [], this.apiDestroy();
    }
    /* ---------------------------- Custom Methods ---------------------------- */
  }, {
    key: "setTheme",
    value: function(i = this.props.options.theme, o = this.props.options.isDarkTheme) {
      if (typeof o < "u")
        console.warn("The option `isDarkTheme` is deprecated. Please use `theme` instead."), this.theme = o ? "dark" : "light";
      else
        switch (i) {
          case "dark":
            this.theme = wr;
            break;
          case "light":
          case void 0:
            this.theme = w0;
            break;
          default:
            console.warn(`Unknown theme "${i}". Using light theme.`), this.theme = w0;
            break;
        }
    }
  }, {
    key: "dispatchEvent",
    value: function(i) {
      this.canvasElement && I0(i, this.canvasElement);
    }
  }, {
    key: "trackDroppedHandler",
    value: function() {
      this.setState({
        draggingHappening: null
      });
    }
  }, {
    key: "requestReceivedHandler",
    value: function() {
      !this.viewconfLoaded && Jg === 0 && (this.viewconfLoaded = true, this.props.options.onViewConfLoaded && this.props.options.onViewConfLoaded());
    }
  }, {
    key: "animateOnMouseMoveHandler",
    value: function(i) {
      i && !this.animateOnMouseMove && this.pubSubs.push(this.pubSub.subscribe("app.mouseMove", this.animateBound)), this.animateOnMouseMove = i;
    }
  }, {
    key: "fitPixiToParentContainer",
    value: function() {
      if (!this.element || !this.element.parentNode) {
        console.warn("No parentNode:", this.element);
        return;
      }
      const i = this.element.parentNode.clientWidth, o = this.element.parentNode.clientHeight;
      this.pixiMask.beginFill(16777215).drawRect(0, 0, i, o).endFill(), this.pixiRenderer.resize(i, o), this.pixiRenderer.view.style.width = `${i}px`, this.pixiRenderer.view.style.height = `${o}px`, this.pixiRenderer.render(this.pixiRoot);
    }
    /**
     * Add default track options. These can come from two places:
     *
     * 1. The track definitions (configs/tracks-info.js)
     * 2. The default options passed into the component
     *
     * Of these, #2 takes precendence over #1.
     *
     * @param {array} track The track to add default options to
     */
  }, {
    key: "addDefaultTrackOptions",
    value: function(i) {
      const o = this.getTrackInfo(i.type);
      if (!o)
        return;
      typeof i.options > "u" && (i.options = {});
      const a = i.options ? i.options : {};
      if (this.props.options.defaultTrackOptions) {
        if (this.props.options.defaultTrackOptions.trackSpecific && this.props.options.defaultTrackOptions.trackSpecific[i.type]) {
          const s = this.props.options.defaultTrackOptions.trackSpecific[i.type];
          for (const l in s)
            i.options[l] = typeof i.options[l] < "u" ? i.options[l] : JSON.parse(JSON.stringify(s[l]));
        }
        if (this.props.options.defaultTrackOptions.all) {
          const s = this.props.options.defaultTrackOptions.all;
          for (const l in s)
            i.options[l] = typeof i.options[l] < "u" ? i.options[l] : JSON.parse(JSON.stringify(s[l]));
        }
      }
      if (o.defaultOptions) {
        const s = o.defaultOptionsByTheme && o.defaultOptionsByTheme[this.theme] ? o.defaultOptionsByTheme[this.theme] : {}, l = {
          ...o.defaultOptions,
          ...s
        };
        if (!i.options)
          i.options = JSON.parse(JSON.stringify(l));
        else
          for (const u in l)
            i.options[u] = typeof i.options[u] < "u" ? i.options[u] : JSON.parse(JSON.stringify(l[u]));
      } else
        i.options = a;
    }
  }, {
    key: "toggleTypedEditable",
    value: function() {
      this.setState({
        typedEditable: !this.isEditable()
      });
    }
    /** Handle typed commands (e.g. e-d-i-t) */
  }, {
    key: "typedTextHandler",
    value: function(i) {
      if (!this.props.options.cheatCodesEnabled)
        return;
      this.typedText = this.typedText.concat(i.key), this.typedText.endsWith("hgedit") && (this.toggleTypedEditable(), this.typedText = "");
      const o = 750;
      this.typedTextTimeout && clearTimeout(this.typedTextTimeout), this.typedTextTimeout = setTimeout(() => {
        this.typedText = "";
      }, o);
    }
  }, {
    key: "keyDownHandler",
    value: function(i) {
      this.typedTextHandler(i), this.props.options.rangeSelectionOnAlt && i.key === "Alt" && this.setState({
        mouseTool: yo
      });
    }
  }, {
    key: "keyUpHandler",
    value: function(i) {
      this.props.options.rangeSelectionOnAlt && i.key === "Alt" && this.setState({
        mouseTool: E0
      });
    }
  }, {
    key: "openModal",
    value: function(i) {
      this.setState({
        // The following is only needed for testing purposes
        modal: import_react.default.cloneElement(i, {
          ref: (o) => {
            this.modalRef = o;
          }
        })
      });
    }
  }, {
    key: "closeModal",
    value: function() {
      this.modalRef = null, this.setState({
        modal: null
      });
    }
  }, {
    key: "handleEditViewConfig",
    value: function() {
      const {
        viewConfig: i
      } = this.state;
      this.setState({
        viewConfigTmp: i
      }), this.openModal(import_react.default.createElement(Cit, {
        onCancel: () => {
          const {
            viewConfigTmp: o
          } = this.state, a = this.processViewConfig(o);
          for (const s of mr(a))
            this.adjustLayoutToTrackSizes(s);
          this.setState({
            views: a,
            viewConfig: o,
            viewConfigTmp: null
          });
        },
        onChange: (o) => {
          const a = JSON.parse(o), s = this.processViewConfig(a);
          for (const l of mr(s))
            this.adjustLayoutToTrackSizes(l);
          this.setState({
            views: s,
            viewConfig: a
          });
        },
        onSave: (o) => {
          const a = JSON.parse(o), s = this.processViewConfig(a);
          for (const l of mr(s))
            this.adjustLayoutToTrackSizes(l);
          this.setState({
            views: s,
            viewConfig: a,
            viewConfigTmp: null
          });
        },
        viewConfig: this.getViewsAsString()
      }));
    }
  }, {
    key: "animate",
    value: function() {
      this.isRequestingAnimationFrame || (this.isRequestingAnimationFrame = true, requestAnimationFrame(() => {
        this.pixiRenderer && (this.pixiRenderer.render(this.pixiRoot), this.isRequestingAnimationFrame = false);
      }));
    }
  }, {
    key: "animateOnGlobalEvent",
    value: function({
      sourceUid: i
    } = {}) {
      i !== this.uid && this.animateOnMouseMove && this.animate();
    }
  }, {
    key: "measureSize",
    value: function() {
      const [i, o] = H9(this.element);
      i > 0 && o > 0 && this.setState({
        sizeMeasured: true,
        width: i,
        height: o
      });
    }
  }, {
    key: "updateAfterResize",
    value: function() {
      this.measureSize(), this.updateRowHeight(), this.fitPixiToParentContainer(), this.refreshView(Tm), this.resizeHandler();
    }
  }, {
    key: "onBreakpointChange",
    value: function(i) {
      this.setState({
        currentBreakpoint: i
      });
    }
  }, {
    key: "handleOverlayMouseEnter",
    value: function(i) {
      this.setState({
        mouseOverOverlayUid: i
      });
    }
  }, {
    key: "handleOverlayMouseLeave",
    value: function() {
      this.setState({
        mouseOverOverlayUid: null
      });
    }
    /**
     * We want to lock the zoom of this view to the zoom of another view.
     *
     * First we pick which other view we want to lock to.
     *
     * The we calculate the current zoom offset and center offset. The differences
     * between the center of the two views will always remain the same, as will the
     * different between the zoom levels.
     */
  }, {
    key: "handleLockLocation",
    value: function(i) {
      this.setState({
        chooseViewHandler: (o) => this.handleLocationLockChosen(i, o),
        mouseOverOverlayUid: i
      });
    }
    /**
     * Can views be added, removed or rearranged and are the view headers
     * visible?
     */
  }, {
    key: "isEditable",
    value: function() {
      return this.state.typedEditable !== void 0 ? this.state.typedEditable : !this.props.options || !("editable" in this.props.options) ? this.state.viewConfig.editable : this.props.options.editable && this.state.viewConfig.editable;
    }
    /**
     * Can views be added, removed or rearranged and are the view headers
     * visible?
     */
  }, {
    key: "isTrackMenuDisabled",
    value: function() {
      return this.props.options && (this.props.options.editable === false || this.props.options.tracksEditable === false) ? true : this.state.viewConfig && (this.state.viewConfig.tracksEditable === false || this.state.viewConfig.editable === false);
    }
    /**
     * Can views be added, removed or rearranged and are the view headers
     * visible?
     */
  }, {
    key: "isViewHeaderDisabled",
    value: function() {
      return this.props.options && (this.props.options.editable === false || this.props.options.viewEditable === false) ? true : this.state.viewConfig && (this.state.viewConfig.viewEditable === false || this.state.viewConfig.editable === false);
    }
    /**
     * Iteratate over all of the views in this component
     */
  }, {
    key: "iterateOverViews",
    value: function() {
      const i = [];
      for (const o in Object.keys(this.state.views))
        i.push(o);
      return i;
    }
  }, {
    key: "iterateOverTracksInView",
    value: function(i) {
      const o = [], {
        tracks: a
      } = this.state.views[i];
      for (const s in a)
        for (const l of a[s])
          if (l.type === "combined" && l.contents)
            for (const u of l.contents)
              o.push({
                viewId: i,
                trackId: u.uid,
                track: u
              });
          else
            o.push({
              viewId: i,
              trackId: l.uid,
              track: l
            });
      return o;
    }
    /**
     * Iterate over all the tracks in this component.
     */
  }, {
    key: "iterateOverTracks",
    value: function() {
      const i = [];
      for (const o in this.state.views) {
        const {
          tracks: a
        } = this.state.views[o];
        for (const s in a)
          for (const l of a[s])
            if (l.type === "combined" && l.contents)
              for (const u of l.contents)
                i.push({
                  viewId: o,
                  trackId: u.uid,
                  track: u
                });
            else
              i.push({
                viewId: o,
                trackId: l.uid,
                track: l
              });
      }
      return i;
    }
  }, {
    key: "setMouseTool",
    value: function(i) {
      this.setState({
        mouseTool: i
      });
    }
    /**
     * Checks if a track's value scale is locked with another track
     */
  }, {
    key: "isValueScaleLocked",
    value: function(i, o) {
      const a = this.combineViewAndTrackUid(i, o);
      return this.state.views[i] ? !!this.valueScaleLocks[a] : false;
    }
    /**
     * Computed the minimal and maximal values of all tracks that are in the same
     * lockGroup as a given track
     * @param   {string}  viewUid  The id of the view containing the track
     * @param   {string}  trackUid   The id of the track
     * @return  {array}  Tuple [min,max] containing the overall extrema - or null.
     */
  }, {
    key: "getLockGroupExtrema",
    value: function(i, o) {
      const a = this.combineViewAndTrackUid(i, o);
      if (!this.state.views[i] || !this.valueScaleLocks[a])
        return null;
      const s = this.valueScaleLocks[a], l = Object.values(s).filter((d) => this.tiledPlots[d.view]).map((d) => this.tiledPlots[d.view].trackRenderer.getTrackObject(d.track)).filter((d) => d).map((d) => d.originalTrack === void 0 ? d : d.originalTrack), u = l.filter((d) => d.minRawValue && d.maxRawValue).map((d) => s.ignoreOffScreenValues ? d.minVisibleValue(true) : d.minVisibleValueInTiles(true)), c = l.filter((d) => d.minRawValue && d.maxRawValue).map((d) => s.ignoreOffScreenValues ? d.maxVisibleValue(true) : d.maxVisibleValueInTiles(true));
      if (u.length === 0 || u.filter((d) => d === null || d === 1 / 0).length > 0 || c.length === 0 || c.filter((d) => d === null || d === -1 / 0).length > 0)
        return null;
      const f = Math.min(...u), h = Math.max(...c);
      return [f, h];
    }
    /**
     * Syncing the values of locked scales
     *
     * Arguments
     * ---------
     *  viewUid: string
     *    The id of the view containing the track whose value scale initially changed
     *  trackUid: string
     *    The id of the track that whose value scale changed
     *
     * Returns
     * -------
     *    Nothing
     */
  }, {
    key: "syncValueScales",
    value: function(i, o) {
      const a = this.combineViewAndTrackUid(i, o);
      if (!this.state.views[i])
        return;
      const s = qi(this.state.views[i].tracks, o);
      if (this.valueScaleLocks[a]) {
        const l = this.valueScaleLocks[a], u = Object.values(l).filter((p) => this.tiledPlots[p.view]).map((p) => this.tiledPlots[p.view].trackRenderer.getTrackObject(p.track)).filter((p) => p).map((p) => p.originalTrack === void 0 ? p : p.originalTrack), c = this.getLockGroupExtrema(i, o);
        if (c === null)
          return;
        const f = c[0], h = c[1], d = 1e-6;
        for (const p of u) {
          if (p.minValue && p.minValue(f), p.maxValue && p.maxValue(h), !p.valueScale)
            continue;
          const m = Math.abs(p.minValue() - p.valueScale.domain()[0]) > d || Math.abs(p.maxValue() - p.valueScale.domain()[1]) > d, g = s.options && p.options && typeof s.options.scaleStartPercent < "u" && typeof s.options.scaleEndPercent < "u" && (Math.abs(p.options.scaleStartPercent - s.options.scaleStartPercent) > d || Math.abs(p.options.scaleEndPercent - s.options.scaleEndPercent) > d);
          p.continuousScaling && !m && !g || (p.valueScale.domain([f, h]), p.prevValueScale = p.valueScale.copy(), g && (p.options.scaleStartPercent = s.options.scaleStartPercent, p.options.scaleEndPercent = s.options.scaleEndPercent), p.rerender(p.options, true));
        }
      }
    }
  }, {
    key: "handleNewTilesLoaded",
    value: function(i, o) {
      this.animate();
    }
  }, {
    key: "notifyDragChangedListeners",
    value: function(i) {
      mr(this.draggingChangedListeners).forEach((o) => {
        mr(o).forEach((a) => a(i));
      });
    }
    /**
     * Add a listener that will be called every time the view is updated.
     *
     * @param viewUid: The uid of the view being observed
     * @param listenerUid: The uid of the listener
     * @param eventHandler: The handler to be called when the scales change
     *    Event handler is called with parameters (xScale, yScale)
     */
  }, {
    key: "addDraggingChangedListener",
    value: function(i, o, a) {
      this.draggingChangedListeners.hasOwnProperty(i) || (this.draggingChangedListeners[i] = {}), this.draggingChangedListeners[i][o] = a, a(true), a(false);
    }
    /**
     * Remove a scale change event listener
     *
     * @param viewUid: The view that it's listening on.
     * @param listenerUid: The uid of the listener itself.
     */
  }, {
    key: "removeDraggingChangedListener",
    value: function(i, o) {
      if (this.draggingChangedListeners.hasOwnProperty(i)) {
        const a = this.draggingChangedListeners[i];
        a.hasOwnProperty(o) && (a[o](false), delete a[o]);
      }
    }
    /**
     * Add an event listener that will be called every time the scale
     * of the view with uid viewUid is changed.
     *
     * @param viewUid: The uid of the view being observed
     * @param listenerUid: The uid of the listener
     * @param eventHandler: The handler to be called when the scales change
     *    Event handler is called with parameters (xScale, yScale)
     */
  }, {
    key: "addScalesChangedListener",
    value: function(i, o, a) {
      this.scalesChangedListeners[i] || (this.scalesChangedListeners[i] = {}), this.scalesChangedListeners[i][o] = a, !(!this.xScales[i] || !this.yScales[i]) && a(this.xScales[i], this.yScales[i]);
    }
    /**
     * Remove a scale change event listener
     *
     * @param viewUid: The view that it's listening on.
     * @param listenerUid: The uid of the listener itself.
     */
  }, {
    key: "removeScalesChangedListener",
    value: function(i, o) {
      if (this.scalesChangedListeners[i]) {
        const a = this.scalesChangedListeners[i];
        a[o] && delete a[o];
      }
    }
  }, {
    key: "createSVG",
    value: function() {
      const i = document.createElement("svg");
      i.setAttribute("xmlns:xlink", "http://www.w3.org/1999/xlink"), i.setAttribute("xmlns", "http://www.w3.org/2000/svg"), i.setAttribute("version", "1.1");
      for (const o of mr(this.tiledPlots))
        if (o) {
          for (const a of mr(o.trackRenderer.trackDefObjects))
            if (a.trackObject.exportSVG) {
              const s = a.trackObject.exportSVG();
              s && i.appendChild(s[0]);
            }
        }
      return i.setAttribute("width", this.canvasElement.style.width), i.setAttribute("height", this.canvasElement.style.height), this.postCreateSVGCallback ? this.postCreateSVGCallback(i) : i;
    }
  }, {
    key: "createSVGString",
    value: function() {
      const i = this.createSVG();
      let o = fue.xml(new window.XMLSerializer().serializeToString(i));
      return o = o.replace(/<a0:/g, "<"), o = o.replace(/<\/a0:/g, "</"), o = o.replace(/(<svg[\n\r])(\s+xmlns="http:\/\/www\.w3\.org\/1999\/xhtml"[\n\r])/gm, "$1"), o = o.replace(/(\s+<clipPath[\n\r]\s+)(xmlns="http:\/\/www\.w3\.org\/2000\/svg")/gm, "$1"), `<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
${o}`;
    }
  }, {
    key: "handleExportSVG",
    value: function() {
      Ym("export.svg", new Blob([this.createSVGString()], {
        type: "image/svg+xml"
      }));
    }
  }, {
    key: "offPostCreateSVG",
    value: function() {
      this.postCreateSVGCallback = null;
    }
  }, {
    key: "onPostCreateSVG",
    value: function(i) {
      this.postCreateSVGCallback = i;
    }
  }, {
    key: "createPNGBlobPromise",
    value: function() {
      return new Promise((i) => {
        const o = this.createSVGString(), a = new Image(this.canvasElement.width, this.canvasElement.height);
        a.src = `data:image/svg+xml;base64,${btoa(o)}`, a.onload = () => {
          const s = document.createElement("canvas");
          s.width = this.canvasElement.width / 2, s.height = this.canvasElement.height / 2, s.getContext("2d").drawImage(a, 0, 0), s.toBlob((l) => {
            i(l);
          });
        };
      });
    }
  }, {
    key: "handleExportPNG",
    value: function() {
      this.createPNGBlobPromise().then((i) => {
        Ym("export.png", i);
      });
    }
    /*
     * The scales of some view have changed (presumably in response to zooming).
     *
     * Mark the new scales and update any locked views.
     *
     * @param uid: The view of whom the scales have changed.
     */
  }, {
    key: "handleScalesChanged",
    value: function(i, o, a, s = true) {
      if (this.xScales[i] = o, this.yScales[i] = a, s && i in this.scalesChangedListeners && mr(this.scalesChangedListeners[i]).forEach((l) => {
        l(o, a);
      }), this.zoomLocks[i]) {
        const l = this.zoomLocks[i], u = po(l), [c, f, h] = un(this.xScales[i], this.yScales[i]);
        for (let d = 0; d < u.length; d++) {
          const p = u[d][0], m = u[d][1];
          if (!this.xScales[p] || !this.yScales[p] || p === i)
            continue;
          const [g, v, b] = un(this.xScales[p], this.yScales[p]), y = m[2] / l[i][2], _ = h * y;
          if (!this.setCenters[p])
            continue;
          const [T, E] = this.setCenters[p](g, v, _, false);
          this.xScales[p] = T, this.yScales[p] = E, this.scalesChangedListeners.hasOwnProperty(p) && mr(this.scalesChangedListeners[p]).forEach((O) => {
            O(T, E);
          });
        }
      }
      if (this.locationLocks[i]) {
        const l = this.locationLocks[i], u = po(l), [c, f, h] = un(this.xScales[i], this.yScales[i]);
        for (let d = 0; d < u.length; d++) {
          const p = u[d][0], m = u[d][1];
          if (!this.xScales[p] || !this.yScales[p])
            continue;
          const [g, v, b] = un(this.xScales[p], this.yScales[p]);
          if (p === i)
            continue;
          const y = m[0] - l[i][0], _ = m[1] - l[i][1], T = c + y, E = f + _;
          if (!this.setCenters[p])
            continue;
          const [O, S] = this.setCenters[p](T, E, b, false);
          this.xScales[p] = O, this.yScales[p] = S, this.scalesChangedListeners.hasOwnProperty(p) && mr(this.scalesChangedListeners[p]).forEach((P) => {
            P(O, S);
          });
        }
      }
      if (this.locationLocksAxisWise.x[i]) {
        const l = this.locationLocksAxisWise.x[i].lock, u = po(l), c = this.locationLocksAxisWise.x[i].axis !== "x", [f, h, d] = un(this.xScales[i], this.yScales[i]);
        for (let p = 0; p < u.length; p++) {
          const m = u[p][0], g = u[p][1];
          if (!this.xScales[m] || !this.yScales[m])
            continue;
          const [v, b, y] = un(this.xScales[m], this.yScales[m]);
          if (m === i)
            continue;
          const _ = g[0] - l[i][0], T = f + _;
          if (!this.setCenters[m])
            continue;
          const [E, O] = this.setCenters[m](c ? v : T, c ? T : b, y, false);
          this.xScales[m] = E, this.yScales[m] = O, this.scalesChangedListeners.hasOwnProperty(m) && mr(this.scalesChangedListeners[m]).forEach((S) => {
            S(E, O);
          });
        }
      }
      if (this.locationLocksAxisWise.y[i]) {
        const l = this.locationLocksAxisWise.y[i].lock, u = po(l), c = this.locationLocksAxisWise.y[i].axis !== "y", [f, h, d] = un(this.xScales[i], this.yScales[i]);
        for (let p = 0; p < u.length; p++) {
          const m = u[p][0], g = u[p][1];
          if (!this.xScales[m] || !this.yScales[m])
            continue;
          const [v, b, y] = un(this.xScales[m], this.yScales[m]);
          if (m === i)
            continue;
          const _ = g[1] - l[i][1], T = h + _;
          if (!this.setCenters[m])
            continue;
          const [E, O] = this.setCenters[m](c ? T : v, c ? b : T, y, false);
          this.xScales[m] = E, this.yScales[m] = O, this.scalesChangedListeners.hasOwnProperty(m) && mr(this.scalesChangedListeners[m]).forEach((S) => {
            S(E, O);
          });
        }
      }
      this.animate(), this.triggerViewChangeDb();
    }
  }, {
    key: "handleProjectViewport",
    value: function(i) {
      this.setState({
        chooseTrackHandler: (o, a) => this.handleViewportProjected(i, o, a)
      });
    }
    /**
     * Adjust the zoom level so that all of the data is visible
     *
     * @param viewUid: The view uid for which to adjust the zoom level
     */
  }, {
    key: "handleZoomToData",
    value: function(i) {
      if (i && !this.tiledPlots[i])
        throw new Error(`View uid ${i} does not exist in the current viewConfig`);
      i ? this.tiledPlots[i].handleZoomToData() : Object.values(this.tiledPlots).forEach((o) => o.handleZoomToData());
    }
    /**
     * Reset the viewport to the initial x and y domain
     * @param  {number} viewId - ID of the view for which the viewport should be
     *  reset.
     */
  }, {
    key: "resetViewport",
    value: function(i) {
      if (i && !this.tiledPlots[i])
        throw new Error(`View uid ${i} does not exist in the current viewConfig`);
      i ? this.tiledPlots[i].resetViewport() : Object.values(this.tiledPlots).forEach((o) => o.resetViewport());
    }
    /**
     * We want to yank some attributes from another view.
     *
     * This will create a view selection overlay and then call the selected
     * provided function.
     */
  }, {
    key: "handleYankFunction",
    value: function(i, o) {
      this.setState({
        chooseViewHandler: (a) => o(i, a),
        mouseOverOverlayUid: i
      });
    }
    /**
     * We want to unlock uid from the zoom group that it's in.
     *
     * @param uid: The uid of a view.
     */
  }, {
    key: "handleUnlock",
    value: function(i, o) {
      const a = o[i], s = ho(a);
      if (s.length === 2) {
        delete o[s[0]], delete o[s[1]];
        return;
      }
      o[i] && o[i][i] && delete o[i][i], o[i] && delete o[i];
    }
  }, {
    key: "viewScalesLockData",
    value: function(i) {
      return !this.xScales[i] || !this.yScales[i] ? (console.warn("View scale lock doesn't correspond to existing uid: ", i), null) : un(this.xScales[i], this.yScales[i]);
    }
    /*
     * :param uid1 (string): The uid of the first element to be locked (e.g. viewUid)
     * :param uid2 (string): The uid of the second element to be locked (e.g. viewUid)
     * :param lockGroups (dict): The set of locks where to store this lock (e.g. this.locationLocks)
     * :parma lockData (function): A function that takes two uids and calculates some extra data
     * to store with this lock data (e.g. scalesCenterAndK(this.xScales[uid1], this.yScales[uid1]))
     */
  }, {
    key: "addLock",
    value: function(i, o, a, s) {
      let l = [], u = [];
      a[i] ? l = po(a[i]).filter((h) => s(h[0])).map((h) => [h[0], s(h[0])]) : l = [[i, s.bind(this)(i)]], a[o] ? u = po(a[o]).filter((h) => s.bind(this)(h[0])).map((h) => (
        // x is [uid, [centerX, centerY, k]]
        [h[0], s.bind(this)(h[0])]
      )) : u = [[o, s.bind(this)(o)]];
      const c = l.concat(u), f = D9(c);
      c.forEach((h) => {
        a[h[0]] = f;
      });
    }
    /* Views uid1 and uid2 need to be locked so that they always maintain the current
     * zoom and translation difference.
     * @param uid1: The view that the lock was called from
     * @param uid2: The view that the lock was called on (the view that was selected)
     */
  }, {
    key: "handleLocationLockChosen",
    value: function(i, o) {
      if (i === o) {
        this.setState({
          chooseViewHandler: null
        });
        return;
      }
      this.addLock(i, o, this.locationLocks, this.viewScalesLockData.bind(this)), this.setState({
        chooseViewHandler: null
      });
    }
    /* Views uid1 and uid2 need to be locked so that they always maintain the current
     * zoom and translation difference.
     * @param uid1: The view that the lock was called from
     * @param uid2: The view that the lock was called on (the view that was selected)
     */
  }, {
    key: "handleZoomLockChosen",
    value: function(i, o) {
      if (i === o) {
        this.setState({
          chooseViewHandler: null
        });
        return;
      }
      this.addLock(i, o, this.zoomLocks, this.viewScalesLockData.bind(this)), this.setState({
        chooseViewHandler: null
      });
    }
    /**
     * We want to project the viewport of fromView onto toTrack of toView.
     *
     * @param fromView: The uid of the view that we want to project
     * @param toView: The uid of the view that we want to project to
     * @param toTrack: The track we want to project to
     *
     * Returns
     * -------
     *
     *  newTrackUid: string
     *      The uid of the newly created viewport projection track
     */
  }, {
    key: "handleViewportProjected",
    value: function(i, o, a) {
      let s = null;
      if (i === o)
        console.warn("A view can not show its own viewport.");
      else {
        const l = qi(this.state.views[o].tracks, a), u = qm(this.state.views[o].tracks, a);
        s = Gt.nice();
        const f = {
          uid: s,
          type: `viewport-projection-${{
            top: "horizontal",
            bottom: "horizontal",
            center: "center",
            left: "vertical",
            right: "vertical"
          }[u]}`,
          fromViewUid: i
        };
        this.addCallbacks(o, f), this.handleTrackAdded(o, f, u, l);
      }
      return this.setState({
        chooseTrackHandler: null
      }), s;
    }
    /**
     * Uid1 is copying the center of uid2
     */
  }, {
    key: "handleLocationYanked",
    value: function(i, o) {
      const a = this.xScales[o], s = this.yScales[o], l = this.xScales[i], u = this.yScales[i], [c, f, h] = un(l, u), [d, p, m] = un(a, s);
      this.setCenters[i](d, p, h, true), this.setState({
        chooseViewHandler: null
      });
    }
    /**
     * Uid1 yanked the zoom of uid2, now  make sure that they're synchronized.
     */
  }, {
    key: "handleZoomYanked",
    value: function(i, o) {
      const a = this.xScales[o], s = this.yScales[o], l = this.xScales[i], u = this.yScales[i], [c, f, h] = un(l, u), [d, p, m] = un(a, s);
      this.setCenters[i](c, f, m, true), this.setState({
        chooseViewHandler: null
      });
    }
    /**
     * The user has chosen a position for the new track. The actual
     * track selection will be handled by TiledPlot
     *
     * We just need to close the menu here.
     */
  }, {
    key: "handleTrackPositionChosen",
    value: function(i, o) {
      this.setState({
        addTrackPosition: o,
        addTrackPositionView: i
      });
    }
    /**
     * Update the height of each row in the layout so that it takes up all
     * of the available space in the div.
     */
  }, {
    key: "updateRowHeight",
    value: function() {
      if (!this.props.options || this.sizeMode !== U4 || this.props.options.pixelPreciseMarginPadding)
        return;
      const i = this.element.parentNode.clientHeight;
      let o = 0;
      for (const f of mr(this.state.views))
        o = Math.max(o, f.layout.y + f.layout.h);
      this.handleDragStart(), this.handleDragStop();
      const s = (this.isEditable() ? 10 : 0) * o - 1, u = (i - s) / o, c = Math.floor(u);
      this.setState({
        rowHeight: c
      });
    }
    /**
     * Notify the children that the layout has changed so that they
     * know to redraw themselves
     */
  }, {
    key: "handleLayoutChange",
    value: function(i) {
      this.element && (i.forEach((o) => {
        const a = this.state.views[o.i];
        a && (a.layout.x = o.x, a.layout.y = o.y, a.layout.w = o.w, a.layout.h = o.h, a.layout.i = o.i);
      }), this.updateRowHeight(), this.refreshView(Tm));
    }
    /**
     * Maybe somebody started dragging again before the previous drag
     * timeout fired. In that case, we need to clear this timeout so
     * that it doesn't override a previously set one.
     */
  }, {
    key: "clearDragTimeout",
    value: function() {
      this.dragTimeout && (clearTimeout(this.dragTimeout), this.dragTimeout = null);
    }
  }, {
    key: "getTrackInfo",
    value: function(i) {
      if (Tr[i])
        return Tr[i];
      if (this.pluginTracks && this.pluginTracks[i])
        return this.pluginTracks[i].config;
      if (window.higlassTracksByType && window.higlassTracksByType[i])
        return window.higlassTracksByType[i].config;
      console.warn("Track type not found:", i, "(check app/scripts/config/ for a list of defined track types)");
    }
  }, {
    key: "forceRefreshView",
    value: function() {
      this.setState(this.state);
    }
  }, {
    key: "refreshView",
    value: function(i = T9) {
      this.clearDragTimeout(), this.notifyDragChangedListeners(true), this.clearDragTimeout(), this.dragTimeout = setTimeout(() => {
        this.notifyDragChangedListeners(false);
      }, i);
    }
  }, {
    key: "handleDragStart",
    value: function() {
      this.clearDragTimeout(), this.notifyDragChangedListeners(true);
    }
  }, {
    key: "handleDragStop",
    value: function() {
      this.clearDragTimeout(), this.dragTimeout = setTimeout(() => {
        this.notifyDragChangedListeners(false);
      }, Tm);
    }
  }, {
    key: "resizeHandler",
    value: function() {
      g1(this.viewHeaders).filter((i) => i).forEach((i) => i.checkWidth());
    }
    /**
     * Get the dimensions for this view, counting just the tracks
     * that are present in it
     *
     * @param view: A view containing a list of tracks as a member.
     * @return: A width and a height pair (e.g. [width, height])
     */
  }, {
    key: "calculateViewDimensions",
    value: function(i) {
      let u = this.viewMarginTop + this.viewMarginBottom + this.viewPaddingTop + this.viewPaddingBottom, c = this.viewMarginLeft + this.viewMarginRight + this.viewPaddingLeft + this.viewPaddingRight, f = 0;
      f += 10;
      const h = 20;
      if (i.tracks.top)
        for (let E = 0; E < i.tracks.top.length; E++) {
          const O = i.tracks.top[E];
          u += O.height ? O.height : 20, f += O.height ? O.height : 20;
        }
      if (i.tracks.bottom)
        for (let E = 0; E < i.tracks.bottom.length; E++) {
          const O = i.tracks.bottom[E];
          u += O.height ? O.height : 20, f += O.height ? O.height : 20;
        }
      (i.tracks.left && i.tracks.left.length > 0 || i.tracks.right && i.tracks.right.length > 0 || i.tracks.center && i.tracks.center.length > 0) && (f += h);
      let d = 0;
      if (i.tracks.left)
        for (let E = 0; E < i.tracks.left.length; E++) {
          const O = i.tracks.left[E], S = O.height ? O.height : 100;
          c += O.width ? O.width : 0, d = Math.max(d, S);
        }
      let p = 0;
      if (i.tracks.right)
        for (let E = 0; E < i.tracks.right.length; E++) {
          const O = i.tracks.right[E], S = O.height ? O.height : 100;
          c += O.width ? O.width : 0, p = Math.max(p, S);
        }
      const m = Math.max(d, p);
      let g = 0, v = 0;
      if (i.tracks.center && mr(i.tracks.center).length > 0) {
        if (!i.tracks.center[0].contents || i.tracks.center[0].contents.length > 0) {
          let E = null, O = null;
          if (i.tracks.center[0].contents)
            for (const S of i.tracks.center[0].contents)
              E = Math.max(E, S.height ? S.height : 100), O = Math.max(O, S.width ? S.width : 100);
          else
            E = i.tracks.center[0].height ? i.tracks.center[0].height : 100, O = i.tracks.center[0].width ? i.tracks.center[0].width : 100;
          u += E, c += O;
        }
      } else (i.tracks.top && mr(i.tracks.top).length > 1 || i.tracks.bottom && mr(i.tracks.bottom).length > 1) && (i.tracks.left && mr(i.tracks.left).length || i.tracks.right && mr(i.tracks.right).length) && (v = 100, g = 100);
      m > g ? u += m : u += g;
      let b = 0, y = 0, _ = 0, T = 0;
      return "top" in i.tracks && (b = i.tracks.top.map((E) => E.height ? E.height : 20).reduce((E, O) => E + O, 0)), "bottom" in i.tracks && (y = i.tracks.bottom.map((E) => E.height ? E.height : 20).reduce((E, O) => E + O, 0)), "left" in i.tracks && (_ = i.tracks.left.map((E) => E.width ? E.width : 0).reduce((E, O) => E + O, 0)), "right" in i.tracks && (T = i.tracks.right.map((E) => E.width ? E.width : 0).reduce((E, O) => E + O, 0)), {
        totalWidth: c,
        totalHeight: u,
        topHeight: b,
        bottomHeight: y,
        leftWidth: _,
        rightWidth: T,
        centerWidth: v,
        centerHeight: g,
        minNecessaryHeight: f
      };
    }
  }, {
    key: "calculateZoomLimits",
    value: function(i, o) {
      const a = [0, 1 / 0], s = i.zoomLimits || [1, null], l = o[1] - o[0];
      if (s.length !== 2)
        return a;
      if (s[0] !== null && s[0] > 0) {
        const u = l / s[0];
        a[1] = Math.max(u, 1), u < 1 && console.warn(`Invalid zoom limits. Lower limit set to ${l}`);
      }
      if (s[1] !== null && s[1] > s[0]) {
        const u = l / s[1];
        a[0] = Math.min(u, 1), u > 1 && console.warn(`Invalid zoom limits. Upper limit set to ${l}`);
      }
      return a;
    }
  }, {
    key: "generateViewLayout",
    value: function(i) {
      let o = null;
      return "layout" in i ? {
        layout: o
      } = i.layout : o = {
        x: 0,
        y: 0,
        w: H4,
        h: jit
      }, o;
    }
    /**
     * Remove all the tracks from a view
     *
     * @param {viewUid} Thie view's identifier
     */
  }, {
    key: "handleClearView",
    value: function(i) {
      const {
        views: o
      } = this.state;
      o[i].tracks.top = [], o[i].tracks.bottom = [], o[i].tracks.center = [], o[i].tracks.left = [], o[i].tracks.right = [], o[i].tracks.whole = [], this.setState({
        views: o
      });
    }
    /**
     * A view needs to be closed. Remove it from from the viewConfig and then clean
     * up all of its connections (zoom links, workers, etc...)
     *
     * @param {uid} This view's identifier
     */
  }, {
    key: "handleCloseView",
    value: function(i) {
      mr(this.state.views).length !== 1 && (this.handleUnlock(i, this.zoomLocks), this.setState((o) => (delete o.views[i], {
        views: this.removeInvalidTracks(o.views)
      })));
    }
    /**
     * We're adding a new dataset to an existing track
     *
     * @param newTrack: The new track to be added.
     * @param position: Where the new series should be placed.
     *  (This could also be inferred from the hostTrack, but since
     *  we already have it, we might as well use it)
     * @param hostTrack: The track that will host the new series.
     */
  }, {
    key: "handleSeriesAdded",
    value: function(i, o, a, s) {
      const {
        tracks: l
      } = this.state.views[i];
      if (s.type === "combined")
        s.contents.push(o), o.type === "heatmap" && this.compatibilityfyStackedHeatmaps(o, s);
      else {
        const u = {
          type: "combined",
          uid: Gt.nice(),
          height: s.height,
          width: s.width,
          contents: [s, o]
        }, c = l[a];
        for (let f = 0; f < c.length; f++)
          c[f].uid === s.uid && (c[f] = u);
      }
      this.setState((u) => ({
        views: u.views
      }));
    }
  }, {
    key: "handleNoTrackAdded",
    value: function() {
      this.state.addTrackPosition && this.setState({
        addTrackPosition: null
      });
    }
    /**
     * Add multiple new tracks (likely from the AddTrackModal dialog)
     *
     * @param trackInfo: A JSON object that can be used as a track
     *                   definition
     * @param position: The position the track is being added to
     * @param host: If this track is being added to another track
     */
  }, {
    key: "handleTracksAdded",
    value: function(i, o, a, s) {
      this.storeTrackSizes(i);
      for (const l of o)
        this.handleTrackAdded(i, l, a, s);
    }
    /**
     * Change the type of a track. For example, convert a line to a bar track.
     *
     * Parameters
     * ----------
     *  viewUid: string
     *    The view containing the track to be changed
     *  trackUid: string
     *    The uid identifying the existin track
     *  newType: string
     *    The type to switch this track to.
     */
  }, {
    key: "handleChangeTrackType",
    value: function(i, o, a) {
      const s = this.state.views[i], l = qi(s.tracks, o), u = l.uid;
      l.uid = Gt.nice(), l.type = a;
      const c = l.uid;
      this.updateTrackLocks(i, u, c), this.setState((f) => ({
        views: f.views
      }));
    }
    /**
     * Change the data source for a track. E.g. when adding or
     * removing a divisor.
     *
     * Parameters
     * ----------
     *  viewUid: string
     *    The view containing the track to be changed
     *  trackUid: string
     *    The uid identifying the existin track
     *  newData: object
     *    The new data source section
     */
  }, {
    key: "handleChangeTrackData",
    value: function(i, o, a) {
      const s = this.state.views[i], l = qi(s.tracks, o);
      l.uid = Gt.nice(), l.data = a, this.setState((u) => ({
        views: u.views
      }));
    }
    /**
     * A track was added from the AddTrackModal dialog.
     *
     * @param trackInfo: A JSON object that can be used as a track
     *                   definition
     * @param position: The position the track is being added to
     * @param host: If this track is being added to another track
     *
     * @returns {Object}: A trackConfig (\{ uid: "", width: x \})
     *  describing this track
     */
  }, {
    key: "handleTrackAdded",
    value: function(i, o, a, s = null) {
      if (this.addDefaultTrackOptions(o), o.uid || (o.uid = Gt.nice()), o.contents)
        for (const f of o.contents)
          this.addDefaultTrackOptions(f);
      if (this.state.addTrackPosition && this.setState({
        addTrackPosition: null
      }), s)
        return this.handleSeriesAdded(i, o, a, s), null;
      o.position = a;
      const l = this.getTrackInfo(o.type);
      o.width = l.defaultWidth || l.defaultOptions && l.defaultOptions.minWidth || this.minVerticalWidth, o.height = l.defaultHeight || l.defaultOptions && l.defaultOptions.minHeight || this.minHorizontalHeight;
      const {
        tracks: u
      } = this.state.views[i];
      let c = 0;
      if (ss(u, () => c++), a === "left" || a === "top")
        u[a].unshift(o);
      else if (a === "center")
        if (u.center.length === 0) {
          const f = {
            uid: Gt.nice(),
            type: "combined",
            contents: [o]
          };
          u.center = [f];
        } else if (u.center[0].type === "combined")
          u.center[0].contents.push(o), o.type === "heatmap" && this.compatibilityfyStackedHeatmaps(o, u.center[0]);
        else {
          const f = {
            uid: Gt.nice(),
            type: "combined",
            contents: [u.center[0], o]
          };
          u.center = [f], o.type === "heatmap" && this.compatibilityfyStackedHeatmaps(o, f);
        }
      else
        u[a] || (u[a] = []), u[a].push(o);
      return this.adjustLayoutToTrackSizes(this.state.views[i]), Object.keys(this.state.views).length === 1 && c === 0 && (this.handleZoomToData(i), this.zoomToDataExtentOnInit.add(i)), o;
    }
    /**
     * We're adding a new heatmap to a combined track. We need to make sure that
     * their options are compatible.
     *
     * @param   {object}  newTrack  New heatmap track
     * @param   {object}  combinedTrack  Combined track the new heatmap is added to
     */
  }, {
    key: "compatibilityfyStackedHeatmaps",
    value: function(i, o) {
      let a;
      o.contents.some((l) => (a = l, l.type === "heatmap")) && (i.options.backgroundColor = "transparent", i.options.showTooltip = a.options.showTooltip, i.options.showMousePosition = a.options.showMousePosition, i.options.mousePositionColor = a.options.mousePositionColor);
    }
    /**
     * Go through each track and store its size in the viewconf.
     *
     * This is so that sizes don't get lost when the view is unbounded
     * and new tracks are added.
     *
     * Parameters
     * ----------
     *
     *  viewId : string
     *      The id of the view whose tracks we're measuring
     *
     * Returns
     * -------
     *
     *  Nothing
     */
  }, {
    key: "storeTrackSizes",
    value: function(i) {
      ss(this.state.views[i].tracks, (o) => {
        const a = this.tiledPlots[i].trackRenderer.getTrackObject(o.uid);
        a && ([o.width, o.height] = a.dimensions);
      });
    }
    /*
     * Adjust the layout to match the size of the contained tracks. If tracks
     * are added, the layout size needs to expand. If they're removed, it needs
     * to contract.
     *
     * This function should be called from handleTrackAdded and handleCloseTrack.
     *
     * Parameters
     * ----------
     *
     *  view : {...}
     *      The definition from the viewconf
     */
  }, {
    key: "adjustLayoutToTrackSizes",
    value: function(i) {
      if (!i.layout)
        return;
      const o = this.isEditable();
      let a = 0;
      o && (a += Git);
      const {
        totalHeight: s
      } = this.calculateViewDimensions(i);
      a += s;
      const l = this.isEditable() ? 10 : 0;
      a += l;
      const u = this.state.rowHeight + l;
      this.sizeMode !== U4 && (i.layout.h = Math.ceil(a / u));
    }
  }, {
    key: "handleCloseTrack",
    value: function(i, o) {
      const {
        tracks: a
      } = this.state.views[i];
      this.handleUnlockValueScale(i, o);
      for (const s in a) {
        const l = a[s], u = l.filter((c) => c.uid !== o);
        u.length === l.length ? u.filter((f) => f.type === "combined").forEach((f) => {
          f.contents = f.contents.filter((h) => h.uid !== o);
        }) : a[s] = u;
      }
      return this.storeTrackSizes(i), this.adjustLayoutToTrackSizes(this.state.views[i]), this.setState((s) => ({
        views: s.views
      })), this.state.views;
    }
  }, {
    key: "handleLockValueScale",
    value: function(i, o) {
      this.setState({
        chooseTrackHandler: (a, s) => this.handleValueScaleLocked(i, o, a, s)
      });
    }
  }, {
    key: "combineViewAndTrackUid",
    value: function(i, o) {
      const a = `${i}.${o}`;
      if (this.combinedUidToViewTrack[a] = {
        view: i,
        track: o
      }, this.viewTrackUidsToCombinedUid[i]) {
        if (this.viewTrackUidsToCombinedUid[o])
          return this.viewTrackUidsToCombinedUid[i][o];
        this.viewTrackUidsToCombinedUid[i][o] = a;
      } else
        this.viewTrackUidsToCombinedUid[i] = {}, this.viewTrackUidsToCombinedUid[i][o] = a;
      return a;
    }
    /**
     * Update all locks involving this track to use a new track uid.
     *
     * @param  {string} viewUid The view's uid
     * @param  {string} oldTrackUid The track's old uid
     * @param  {string} newTrackUid The track's new uid
     */
  }, {
    key: "updateTrackLocks",
    value: function(i, o, a) {
      const s = this.combineViewAndTrackUid(i, o), l = this.combineViewAndTrackUid(i, a);
      if (this.valueScaleLocks[s]) {
        const u = this.valueScaleLocks[s];
        this.valueScaleLocks[l] = u, delete this.valueScaleLocks[s];
      }
      for (const u in this.valueScaleLocks)
        if (this.valueScaleLocks[u][s]) {
          const c = this.valueScaleLocks[u][s];
          this.valueScaleLocks[u][l] = c, c.track = a, delete this.valueScaleLocks[u][s];
        }
    }
  }, {
    key: "handleUnlockValueScale",
    value: function(i, o) {
      if (this.tiledPlots[i].trackRenderer.getTrackObject(o).createdTracks) {
        const a = ho(this.tiledPlots[i].trackRenderer.getTrackObject(o).createdTracks);
        for (const s of a)
          this.handleUnlock(this.combineViewAndTrackUid(i, s), this.valueScaleLocks);
      } else
        this.handleUnlock(this.combineViewAndTrackUid(i, o), this.valueScaleLocks);
    }
  }, {
    key: "handleValueScaleLocked",
    value: function(i, o, a, s) {
      if (this.tiledPlots[i].trackRenderer.getTrackObject(o).createdTracks) {
        const c = ho(this.tiledPlots[i].trackRenderer.getTrackObject(o).createdTracks);
        for (const f of c)
          this.handleValueScaleLocked(i, f, a, s);
        return;
      }
      if (this.tiledPlots[a].trackRenderer.getTrackObject(s).createdTracks) {
        const c = ho(this.tiledPlots[a].trackRenderer.getTrackObject(s).createdTracks);
        for (const f of c)
          this.handleValueScaleLocked(i, o, a, f);
        return;
      }
      const l = this.combineViewAndTrackUid(i, o), u = this.combineViewAndTrackUid(a, s);
      this.addLock(l, u, this.valueScaleLocks, (c) => this.combinedUidToViewTrack[c]), this.syncValueScales(i, o), this.setState({
        chooseTrackHandler: null
      });
    }
    /**
     * Add callbacks for functions that need them
     *
     * Done in place.
     *
     * @param track: A view with tracks.
     */
  }, {
    key: "addCallbacks",
    value: function(i, o) {
      const a = this.getTrackInfo(o.type);
      if (o.type === "viewport-projection-center" || o.type === "viewport-projection-horizontal" || o.type === "viewport-projection-vertical" || a && a.projection) {
        const s = o.fromViewUid;
        o.registerViewportChanged = (l, u) => this.addScalesChangedListener(s, l, u), o.removeViewportChanged = (l) => this.removeScalesChangedListener(s, l), o.setDomainsCallback = (l, u) => {
          if (!s) {
            this.projectionXDomains[i] || (this.projectionXDomains[i] = {}), this.projectionYDomains[i] || (this.projectionYDomains[i] = {}), (o.type === "viewport-projection-horizontal" || o.type === "viewport-projection-center") && (this.projectionXDomains[i][o.uid] = l), (o.type === "viewport-projection-vertical" || o.type === "viewport-projection-center") && (this.projectionYDomains[i][o.uid] = u), this.triggerViewChangeDb();
            return;
          }
          const c = It().domain(l).range(this.xScales[s].range()), f = It().domain(u).range(this.yScales[s].range()), [h, d, p] = un(c, f);
          this.setCenters[s](h, d, p, false);
          let m = false, g = false;
          i in this.zoomLocks && (m = s in this.zoomLocks[i]), m && this.handleUnlock(i, this.zoomLocks), i in this.locationLocks && (g = s in this.locationLocks[i]), g && this.handleUnlock(i, this.locationLocks), this.handleScalesChanged(s, c, f, true), m && this.addLock(i, s, this.zoomLocks, this.viewScalesLockData), g && this.addLock(i, s, this.locationLocks, this.viewScalesLockData);
        };
      }
    }
  }, {
    key: "validateLocks",
    value: function(i) {
      const o = [];
      for (const a of ho(i))
        (!i[a] || !i[a][a]) && o.push(a);
      for (const a of o)
        i[a] && (console.warn(`View ${a} not present in lock group. Removing...`), this.handleUnlock(a, i), delete i[a]);
    }
  }, {
    key: "deserializeLocationLocks",
    value: function(i) {
      if (this.locationLocks = {}, i.locationLocks)
        for (const o of ho(i.locationLocks.locksByViewUid))
          if (typeof i.locationLocks.locksByViewUid[o] != "object")
            this.locationLocks[o] = i.locationLocks.locksDict[i.locationLocks.locksByViewUid[o]];
          else {
            if ("x" in i.locationLocks.locksByViewUid[o]) {
              const a = i.locationLocks.locksDict[i.locationLocks.locksByViewUid[o].x.lock];
              this.locationLocksAxisWise.x[o] = {
                lock: a,
                axis: i.locationLocks.locksByViewUid[o].x.axis
                // The axis of another view, either 'x' or 'y'
              };
            }
            if ("y" in i.locationLocks.locksByViewUid[o]) {
              const a = i.locationLocks.locksDict[i.locationLocks.locksByViewUid[o].y.lock];
              this.locationLocksAxisWise.y[o] = {
                lock: a,
                axis: i.locationLocks.locksByViewUid[o].y.axis
                // The axis of another view, either 'x' or 'y'
              };
            }
          }
      this.validateLocks(this.locationLocks);
    }
  }, {
    key: "deserializeZoomLocks",
    value: function(i) {
      if (this.zoomLocks = {}, i.zoomLocks)
        for (const o of ho(i.zoomLocks.locksByViewUid))
          this.zoomLocks[o] = i.zoomLocks.locksDict[i.zoomLocks.locksByViewUid[o]];
      this.validateLocks(this.zoomLocks);
    }
  }, {
    key: "deserializeValueScaleLocks",
    value: function(i) {
      if (this.valueScaleLocks = {}, i.valueScaleLocks)
        for (const o of ho(i.valueScaleLocks.locksByViewUid))
          this.valueScaleLocks[o] = i.valueScaleLocks.locksDict[i.valueScaleLocks.locksByViewUid[o]];
    }
  }, {
    key: "serializeLocks",
    value: function(i) {
      const o = {}, a = {};
      for (const s of ho(i)) {
        let l = i[s] && i[s].uid;
        l || (l = Gt.nice()), i[s].uid = l, o[l] = i[s], a[s] = i[s].uid;
      }
      return {
        locksByViewUid: a,
        locksDict: o
      };
    }
  }, {
    key: "getViewsAsJson",
    value: function() {
      const i = JSON.parse(JSON.stringify(this.state.viewConfig));
      return i.views = Object.values(this.state.views).map((o) => {
        const a = JSON.parse(JSON.stringify(o));
        return ss(a.tracks, (s) => {
          if (s.server) {
            const l = Oue(s.server, {});
            if (!l.hostname.length) {
              const u = window.location.host, {
                protocol: c
              } = window.location, f = `${c}//${u}${l.pathname}`;
              s.server = f;
            }
          }
          (s.type === "viewport-projection-center" || s.type === "viewport-projection-horizontal") && this.projectionXDomains[o.uid] && this.projectionXDomains[o.uid][s.uid] && (s.projectionXDomain = this.projectionXDomains[o.uid][s.uid]), (s.type === "viewport-projection-center" || s.type === "viewport-projection-vertical") && this.projectionYDomains[o.uid] && this.projectionYDomains[o.uid][s.uid] && (s.projectionYDomain = this.projectionYDomains[o.uid][s.uid]), delete s.name, delete s.position, delete s.header, delete s.description, delete s.created, delete s.project, delete s.project_name, delete s.serverUidKey, delete s.uuid, delete s.private, delete s.maxZoom, delete s.coordSystem, delete s.coordSystem2, delete s.datatype, delete s.maxWidth, delete s.datafile, delete s.binsPerDimension, delete s.resolutions, delete s.aggregationModes;
        }), a.uid = o.uid, a.initialXDomain = this.xScales[o.uid].domain(), a.initialYDomain = this.yScales[o.uid].domain(), delete a.layout.i, a;
      }), i.zoomLocks = this.serializeLocks(this.zoomLocks), i.locationLocks = this.serializeLocks(this.locationLocks), i.valueScaleLocks = this.serializeLocks(this.valueScaleLocks), i;
    }
  }, {
    key: "getViewsAsString",
    value: function() {
      return JSON.stringify(this.getViewsAsJson(), null, 2);
    }
  }, {
    key: "handleExportViewAsJSON",
    value: function() {
      const i = this.getViewsAsString();
      Ym("viewconf.json", i);
    }
  }, {
    key: "handleExportViewsAsLink",
    value: function(i = this.state.viewConfig.exportViewUrl, o = false) {
      const a = new URL(i, window.location.origin), s = fetch(i, {
        method: "POST",
        headers: {
          Accept: "application/json, text/plain, */*",
          "Content-Type": "application/json",
          "X-Requested-With": "XMLHttpRequest"
        },
        body: `{"viewconf":${this.getViewsAsString()}}`,
        credentials: "same-origin"
      }).then((l) => {
        if (!l.ok)
          throw l;
        return l.json();
      }).catch((l) => {
        console.warn("err:", l);
      }).then((l) => ({
        id: l.uid,
        url: `${a.origin}/l/?d=${l.uid}`
      }));
      return o || s.then((l) => {
        this.openModal(import_react.default.createElement(CL, {
          onDone: () => {
            this.closeModalBound();
          },
          url: l.url
        }));
      }).catch((l) => console.error("Exporting view config as link failed:", l)), s;
    }
    /*
     * The initial[XY]Domain of a view has changed. Update its definition
     * and rerender.
     */
  }, {
    key: "handleDataDomainChanged",
    value: function(i, o, a) {
      const {
        views: s
      } = this.state;
      if (s[i].initialXDomain = o, s[i].initialYDomain = a, this.xScales[i] = It().domain(o), this.yScales[i] = It().domain(a), this.zoomLocks[i]) {
        const l = this.zoomLocks[i], u = po(l);
        for (let c = 0; c < u.length; c++) {
          const f = u[c][0];
          f in this.locationLocks && (s[f].initialXDomain = o, s[f].initialYDomain = a, this.xScales[f] = It().domain(o), this.yScales[f] = It().domain(a));
        }
      }
      this.setState({
        views: s
      });
    }
    /**
     * Check if we can place a view at this position
     */
  }, {
    key: "viewPositionAvailable",
    value: function(i, o, a, s) {
      const l = i + a, u = o + s;
      if (i + a > H4)
        return false;
      const c = mr(this.state.views);
      for (let f = 0; f < c.length; f++) {
        const h = c[f].layout.x, d = c[f].layout.y, p = h + c[f].layout.w, m = d + c[f].layout.h;
        if (i < p && l > h && o < m && u > d)
          return false;
      }
      return true;
    }
    /**
     * User clicked on the "Add View" button. We'll duplicate the last
     * view.
     */
  }, {
    key: "handleAddView",
    value: function(i) {
      const o = mr(this.state.views), a = i, s = [];
      i.layout.w === 12 && (i.layout.w = 6);
      for (let c = 0; c < o.length; c++) {
        let f = o[c].layout.x + o[c].layout.w, h = o[c].layout.y;
        this.viewPositionAvailable(f, h, i.layout.w, i.layout.h) && s.push([f, h]), f = o[c].layout.x, h = o[c].layout.y + o[c].layout.h, this.viewPositionAvailable(f, h, i.layout.w, i.layout.h) && s.push([f, h]);
      }
      s.sort((c, f) => {
        const h = c[1] - f[1];
        return h === 0 ? c[0] - f[0] : h;
      });
      const l = JSON.stringify(a), u = JSON.parse(l);
      u.initialXDomain = this.xScales[u.uid].domain(), u.initialYDomain = this.yScales[u.uid].domain(), [[u.layout.x, u.layout.y]] = s, u.uid = Gt.nice(), u.layout.i = u.uid, ss(u.tracks, (c) => {
        this.addCallbacks(u.uid, c);
      }), this.setState((c) => {
        const f = JSON.parse(JSON.stringify(c.views));
        return f[u.uid] = u, {
          views: f
        };
      });
    }
  }, {
    key: "handleSelectedAssemblyChanged",
    value: function(i, o, a, s) {
      const {
        views: l
      } = this.state;
      l[i].genomePositionSearchBox.chromInfoId = o, l[i].genomePositionSearchBox.autocompleteId = a, l[i].genomePositionSearchBox.autocompleteServer = s;
    }
  }, {
    key: "createGenomePostionSearchBoxEntry",
    value: function(i, o) {
      let a = i;
      const s = {
        autocompleteServer: _P,
        // "autocompleteId": "OHJakQICQD6gTD7skx4EWA",
        chromInfoServer: _P,
        visible: false
      };
      return a || (a = JSON.parse(JSON.stringify(s))), a.autocompleteServer || (a.autocompleteServer = s.autocompleteServer), a.chromInfoId || (a.chromInfoId = o), a.chromInfoServer || (a.chromInfoServer = s.chromInfoServer), a.visible || (a.visible = false), a;
    }
  }, {
    key: "handleTogglePositionSearchBox",
    value: function(i) {
      const o = this.state.views[i];
      o.genomePositionSearchBoxVisible = !o.genomePositionSearchBoxVisible;
      const a = {};
      ss(o.tracks, (u) => {
        u.coordSystem && (a[u.coordSystem] || (a[u.coordSystem] = 0), a[u.coordSystem] += 1);
      });
      const s = po(a).sort((u, c) => c[1] - u[1]);
      let l = "hg19";
      s.length && (l = s[0][0]), o.genomePositionSearchBox = this.createGenomePostionSearchBoxEntry(o.genomePositionSearchBox, l), o.genomePositionSearchBox.visible = !o.genomePositionSearchBox.visible, this.refreshView(), this.setState({
        configMenuUid: null
      });
    }
  }, {
    key: "handleTrackOptionsChanged",
    value: function(i, o, a) {
      const s = this.state.views[i], l = qi(s.tracks, o);
      l && (l.options = Object.assign(l.options, a), this.mounted && (this.setState((u) => ({
        views: u.views
      })), this.adjustSplitHeatmapTrackOptions(l, a, s.tracks, i)));
    }
    /**
     * For convenience we adjust some options of split heatmap tracks when they are newly added.
     * This function has no effect when we get split heatmap tracks that are already correctly configured
     * (i.e. correctly set "lower-extend"/"upper-extend" options)
     * @param   {object}  track  Track whose options have changed
     * @param   {object}  options  New track options
     * @param   {list}  allTracks  All tracks
     * @param   {string}  viewUid  Related view UID
     */
  }, {
    key: "adjustSplitHeatmapTrackOptions",
    value: function(i, o, a, s) {
      i.type === "heatmap" && (o.extent === "upper-right" && a.center[0].type === "combined" && a.center[0].contents.length > 1 && a.center[0].contents.some((l) => {
        if (l.type === "heatmap" && l.uid !== i.uid && l.options.extent !== "lower-left") {
          const u = {
            ...l.options,
            extent: "lower-left",
            labelPosition: "bottomLeft",
            colorbarPosition: "bottomLeft"
          }, c = {
            ...o,
            labelPosition: "topRight",
            colorbarPosition: "topRight"
          };
          return this.handleTrackOptionsChanged(s, l.uid, u), this.handleTrackOptionsChanged(s, i.uid, c), true;
        }
        return false;
      }), o.extent === "lower-left" && o.extent === "lower-left" && a.center[0].type === "combined" && a.center[0].contents.length > 1 && a.center[0].contents.some((l) => {
        if (l.type === "heatmap" && l.uid !== i.uid && l.options.extent !== "upper-right") {
          const u = {
            ...l.options,
            extent: "upper-right",
            labelPosition: "topRight",
            colorbarPosition: "topRight"
          }, c = {
            ...o,
            labelPosition: "bottomLeft",
            colorbarPosition: "bottomLeft"
          };
          return this.handleTrackOptionsChanged(s, l.uid, u), this.handleTrackOptionsChanged(s, i.uid, c), true;
        }
        return false;
      }));
    }
  }, {
    key: "handleViewOptionsChanged",
    value: function(i, o) {
      const a = this.state.views[i];
      a && (a.options = Object.assign(a.options || {}, o), this.mounted && this.setState((s) => ({
        views: s.views
      })));
    }
    /**
     * Determine whether a track is valid and can be displayed.
     *
     * Tracks can be invalid due to inconsistent input such as
     * referral to views that don't exist
     *
     * @param track (object): A track definition
     * @param viewUidsPresent (Set): The view uids which are available
     */
  }, {
    key: "isTrackValid",
    value: function(i, o) {
      return !(i.type === "viewport-projection-center" && !o.has(i.fromViewUid));
    }
    /**
     * Remove tracks which can no longer be shown (possibly because the views they
     * refer to no longer exist
     */
  }, {
    key: "removeInvalidTracks",
    value: function(i) {
      const o = new Set(ho(i));
      for (const a of mr(i))
        for (const s of ["left", "top", "center", "right", "bottom"])
          a.tracks && a.tracks.hasOwnProperty(s) && (a.tracks[s] = a.tracks[s].filter((l) => this.isTrackValid(l, o)), a.tracks[s].forEach((l) => {
            l.type === "combined" && (l.contents = l.contents.filter((u) => this.isTrackValid(u, o)));
          }));
      return i;
    }
  }, {
    key: "processViewConfig",
    value: function(i) {
      let {
        views: o
      } = i, a = {};
      return (!i.views || i.views.length === 0) && (console.warn("No views provided in viewConfig"), o = [{
        editable: true,
        tracks: {}
      }]), o.forEach((s) => {
        s.tracks && R9(s.tracks), s.uid || (s.uid = Gt.nice()), a[s.uid] = s, this.zoomToDataExtentOnInit.has(s.uid) && this.zoomToDataExtentOnInit.delete(s.uid), s.initialXDomain ? (s.initialXDomain[0] = +s.initialXDomain[0], s.initialXDomain[1] = +s.initialXDomain[1]) : (s.initialXDomain = [0, 100], this.zoomToDataExtentOnInit.add(s.uid)), s.initialYDomain ? (s.initialXDomain[0] = +s.initialXDomain[0], s.initialXDomain[1] = +s.initialXDomain[1]) : s.initialYDomain = [s.initialXDomain[0], s.initialXDomain[1]], this.xScales[s.uid] || (this.xScales[s.uid] = It().domain(s.initialXDomain)), this.yScales[s.uid] || (this.yScales[s.uid] = It().domain(s.initialYDomain)), ss(s.tracks, (l) => {
          if (l.uid || (l.uid = Gt.nice()), this.addCallbacks(s.uid, l), this.addDefaultTrackOptions(l), l.contents)
            for (const u of l.contents)
              this.addDefaultTrackOptions(u);
        }), s.layout ? s.layout.i = s.uid : s.layout = this.generateViewLayout(s);
      }), this.deserializeZoomLocks(i), this.deserializeLocationLocks(i), this.deserializeValueScaleLocks(i), a = this.removeInvalidTracks(a), a;
    }
  }, {
    key: "handleWindowFocused",
    value: function() {
    }
    /**
     * Handle range selection events.
     *
     * @description
     * Store active range selectio and forward the range selection event to the
     * API.
     *
     * @param  {Array}  range  Double array of the selected range.
     */
  }, {
    key: "rangeSelectionHandler",
    value: function(i) {
      this.rangeSelection = i, this.apiPublish("rangeSelection", i);
    }
  }, {
    key: "offViewChange",
    value: function(i) {
      this.viewChangeListener.splice(i, 1);
    }
  }, {
    key: "onViewChange",
    value: function(i) {
      return this.viewChangeListener.push(i) - 1;
    }
  }, {
    key: "triggerViewChange",
    value: function() {
      this.viewChangeListener.forEach((i) => i(this.getViewsAsString()));
    }
  }, {
    key: "getGenomeLocation",
    value: function(i) {
      return UR.get(this.state.views[i].chromInfoPath).then((o) => eV(this.xScales[i], this.yScales[i], o));
    }
  }, {
    key: "offLocationChange",
    value: function(i, o) {
      this.removeScalesChangedListener(i, o);
    }
  }, {
    key: "zoomTo",
    value: function(i, o, a, s, l, u) {
      if (!(i in this.setCenters))
        throw Error(`Invalid viewUid. Current uuids: ${Object.keys(this.setCenters).join(",")}`);
      if (Number.isNaN(+o) || Number.isNaN(+a)) {
        const d = [o, a].join(", ");
        console.warn([`Invalid coordinates (${d}). All coordinates need to be numbers
        and should represent absolute coordinates (not chromosome
        coordinates).`].join(" "));
        return;
      }
      (Number.isNaN(+s) || Number.isNaN(+l) || s === null || l === null) && (s = o, l = a);
      const [c, f, h] = un(this.xScales[i].copy().domain([o, a]), this.yScales[i].copy().domain([s, l]));
      this.setCenters[i](c, f, h, false, u);
    }
  }, {
    key: "zoomToGene",
    value: function(i, o, a, s) {
      if (!(i in this.setCenters))
        throw Error(`Invalid viewUid. Current uuids: ${Object.keys(this.setCenters).join(",")}`);
      if (!this.state.views[i].genomePositionSearchBox || !this.state.views[i].genomePositionSearchBox.autocompleteServer || !this.state.views[i].genomePositionSearchBox.autocompleteId || !this.state.views[i].chromInfoPath) {
        console.warn("Please set chromInfoPath, autocompleteServer, and autocompleteId to use the zoomToGene API");
        return;
      }
      this.suggestGene(i, o, (l) => {
        if (l) {
          const u = l.find((c) => c.geneName.toLowerCase() === o.toLowerCase());
          if (u) {
            const {
              chr: c,
              txStart: f,
              txEnd: h
            } = u;
            Ls(this.state.views[i].chromInfoPath, (d) => {
              const p = d.chrToAbs([c, f]) - a, m = d.chrToAbs([c, h]) + a, [g, v, b] = un(this.xScales[i].copy().domain([p, m]), this.yScales[i].copy().domain([p, m]));
              this.setCenters[i](g, v, b, false, s);
            }, this.pubSub);
          } else
            console.warn(`Couldn't find the gene symbol: ${o}`);
        }
      });
    }
  }, {
    key: "suggestGene",
    value: function(i, o, a) {
      if (!(i in this.setCenters))
        throw Error(`Invalid viewUid. Current uuids: ${Object.keys(this.setCenters).join(",")}`);
      if (!this.state.views[i].genomePositionSearchBox || !this.state.views[i].genomePositionSearchBox.autocompleteServer || !this.state.views[i].genomePositionSearchBox.autocompleteId) {
        console.warn("Please set autocompleteServer and autocompleteId to use the suggestGene API");
        return;
      }
      const s = this.state.views[i].genomePositionSearchBox.autocompleteServer, l = this.state.views[i].genomePositionSearchBox.autocompleteId, u = `${s}/suggest/?d=${l}&ac=${o.toLowerCase()}`;
      Je.json(u, Xo, this.pubSub).then((c) => {
        a(c);
      }).catch((c) => console.error(c));
    }
  }, {
    key: "onLocationChange",
    value: function(i, o, a) {
      const s = Object.keys(this.state.views);
      if (!s.length)
        return this.unsetOnLocationChange.push({
          viewId: i,
          callback: o,
          callbackId: a
        }), null;
      if (i = typeof i > "u" && s.length === 1 ? s[0] : i, typeof i > "u" || s.indexOf(i) === -1)
        return console.error("onLocationChange either missing a viewId or passed an invalid viewId: ", i), null;
      const l = this.state.views[i], u = (f, h) => {
        o({
          xDomain: f.domain(),
          yDomain: h.domain(),
          xRange: f.range(),
          yRange: h.range()
        });
      };
      let c = 1;
      return this.scalesChangedListeners[l.uid] && (c = Object.keys(this.scalesChangedListeners[l.uid]).filter((f) => f.indexOf(Em) === 0).map((f) => parseInt(f.slice(Em.length + 1), 10)).reduce((f, h) => Math.max(f, h), 0) + 1), this.addScalesChangedListener(l.uid, `${Em}.${c}`, u), a && a(`${Em}.${c}`), c;
    }
    /**
     * List all the views that are at the given position view position
     */
  }, {
    key: "getTiledPlotAtPosition",
    value: function(i, o) {
      let a;
      const s = mr(this.state.views);
      for (let l = 0; l < s.length; l++) {
        const u = this.tiledPlots[s[l].uid], c = this.tiledAreasDivs[s[l].uid].getBoundingClientRect(), {
          top: f,
          left: h
        } = c, d = f + c.height, p = h + c.width, m = i >= h && i <= p, g = o >= f && o <= d;
        if (m && g) {
          a = u;
          break;
        }
      }
      return a;
    }
    /**
     * Handle mousemove events by republishing the event using pubSub.
     *
     * @param {object}  e  Event object.
     */
  }, {
    key: "mouseMoveHandler",
    value: function(i) {
      if (!this.topDiv || this.state.modal)
        return;
      const o = i.clientX, a = i.clientY, s = vr(i, this.topDiv);
      s[1] += this.scrollTop;
      const l = this.getTiledPlotAtPosition(o, a), u = l ? l.listTracksAtPosition(s[0], s[1], true).map((m) => m.originalTrack || m) : [], c = u.find((m) => !m.isAugmentationTrack), f = c ? [s[0] - c.position[0], s[1] - c.position[1]] : s;
      let h = -1, d = -1;
      c && (h = c.flipText ? c._xScale.invert(f[1]) : c._xScale.invert(f[0]), d = c.is2d ? c._yScale.invert(f[1]) : h);
      const p = {
        x: s[0],
        y: s[1],
        relTrackX: c && c.flipText ? f[1] : f[0],
        relTrackY: c && c.flipText ? f[0] : f[1],
        dataX: h,
        dataY: d,
        // See below why we need these derived boolean values
        isFrom2dTrack: !!(c && c.is2d),
        isFromVerticalTrack: !!(c && c.flipText),
        track: c,
        origEvt: i,
        sourceUid: this.uid,
        hoveredTracks: u,
        // See below why we need these derived boolean values
        noHoveredTracks: u.length === 0
      };
      if (this.pubSub.publish("app.mouseMove", p), this.isBroadcastMousePositionGlobally) {
        const m = {
          ...p
        };
        m.origEvt = void 0, m.track = void 0, m.hoveredTracks = void 0, delete m.origEvt, delete m.track, delete m.hoveredTracks, Wm.publish("higlass.mouseMove", m);
      }
      this.apiPublish("cursorLocation", {
        absX: o,
        absY: a,
        relX: p.x,
        relY: p.y,
        relTrackX: p.relTrackX,
        relTrackY: p.relTrackY,
        dataX: p.dataX,
        dataY: p.dataY,
        isFrom2dTrack: p.isFrom2dTrack,
        isFromVerticalTrack: p.isFromVerticalTrack
      }), this.showHoverMenu(p);
    }
  }, {
    key: "getMinMaxValue",
    value: function(i, o, a, s) {
      const l = Sm(this.tiledPlots, i, o);
      if (!l) {
        console.warn(`Track with ID: ${o} not found!`);
        return;
      }
      if (!l.minVisibleValueInTiles || !l.maxVisibleValueInTiles) {
        console.warn(`Track ${o} doesn't support the retrieval of min or max values.`);
        return;
      }
      return a && l.getAggregatedVisibleValue ? [l.getAggregatedVisibleValue("min"), l.getAggregatedVisibleValue("max")] : [l.minVisibleValueInTiles(s), l.maxVisibleValueInTiles(s)];
    }
    /**
     * Show a menu displaying some information about the track under it
     */
  }, {
    key: "showHoverMenu",
    value: function(i) {
      const o = i.track && i.track.getMouseOverHtml ? i.track.getMouseOverHtml(i.relTrackX, i.relTrackY) : "";
      if (i.track !== this.prevMouseHoverTrack && this.prevMouseHoverTrack && this.prevMouseHoverTrack.stopHover && this.prevMouseHoverTrack.stopHover(), this.prevMouseHoverTrack = i.track, this.zooming)
        return;
      const a = o && o.length ? [1] : [];
      let s = Wt("body").selectAll(".track-mouseover-menu").data(a);
      s.exit().remove(), s.enter().append("div").classed("track-mouseover-menu", true).classed(Uh["track-mouseover-menu"], true), s = Wt("body").selectAll(".track-mouseover-menu");
      const l = vr(i.origEvt, Wt("body").node()), u = [l[0] - window.scrollX, l[1] - window.scrollY];
      if (s.style("left", `${u[0]}px`).style("top", `${u[1]}px`), !s.node())
        return;
      const c = s.node().getBoundingClientRect();
      c.x + c.width > window.innerWidth && s.style("left", `${u[0] - c.width}px`), c.y + c.height > window.innerHeight && s.style("top", `${u[1] - c.height}px`), s.html(o);
    }
    /**
     * Hide the hover menu when e.g. the user starts zooming
     */
  }, {
    key: "hideHoverMenu",
    value: function() {
      Wt("body").selectAll(".track-mouseover-menu").remove();
    }
    /**
     * Close the custom dialog  (e.g. when the close button is clicked)
     */
  }, {
    key: "closeCustomDialog",
    value: function() {
      this.setState((i) => ({
        customDialog: null
      }));
    }
    /**
     * Handle internally broadcasted click events
     */
  }, {
    key: "appClickHandler",
    value: function(i) {
      this.apiPublish("click", i);
    }
    /** Handle click events on the canvas. The canvas is preferrable
     * to the top level div because the canvas's events aren't forwarded
     * so we only receive one click event
     */
  }, {
    key: "canvasClickHandler",
    value: function(i) {
      const o = i.nativeEvent || i, a = o.clientX, s = o.clientY, l = this.getTiledPlotAtPosition(a, s), u = vr(o, this.topDiv);
      u[1] += this.scrollTop;
      const c = l ? l.listTracksAtPosition(u[0], u[1], true).map((v) => v.originalTrack || v) : [], f = c.find((v) => !v.isAugmentationTrack), h = f ? [u[0] - f.position[0], u[1] - f.position[1]] : u, d = f && f.flipText ? h[1] : h[0], p = f && f.flipText ? h[0] : h[1];
      for (const v of this.iterateOverTracks()) {
        const b = Sm(this.tiledPlots, v.viewId, v.trackId);
        b.respondsToPosition(u[0], u[1]) || b.clickOutside();
      }
      const m = [];
      for (const v of c)
        if (v.childTracks) {
          for (const b of v.childTracks)
            m.push({
              trackUid: b.context.trackUid,
              viewUid: b.context.viewUid,
              trackType: b.context.trackType,
              data: b.click(d, p, i)
            });
          m.push({
            trackUid: v.context.trackUid,
            viewUid: v.context.viewUid,
            trackType: v.context.trackType,
            data: {
              type: "generic",
              event: i
            }
          });
        } else
          m.push({
            trackUid: v.context.trackUid,
            viewUid: v.context.viewUid,
            trackType: v.context.trackType,
            data: v.click(d, p, i)
          });
      const g = [];
      m.forEach((v, b) => {
        const y = Sm(this.tiledPlots, v.viewUid, v.trackUid);
        if (typeof y.clickDialog == "function") {
          const _ = y.clickDialog();
          _ && g.push(_);
        }
      }), g.length > 0 && this.setState((v) => ({
        customDialog: g
      })), this.pubSub.publish("app.click", m);
    }
    /**
     * Handle mousemove and zoom events.
     */
  }, {
    key: "mouseMoveZoomHandler",
    value: function(i) {
      this.apiPublish("mouseMoveZoom", i);
    }
    /**
     * Handle gene search events.
     */
  }, {
    key: "geneSearchHandler",
    value: function(i) {
      this.apiPublish("geneSearch", i);
    }
    /**
     * Handle mousedown events/
     */
  }, {
    key: "mouseDownHandler",
    value: function(i) {
    }
  }, {
    key: "onScrollHandler",
    value: function() {
      this.props.options.sizeMode === dm && (this.scrollTop = this.scrollContainer.scrollTop, this.pixiStage.y = -this.scrollTop, this.pubSub.publish("app.scroll", this.scrollTop), this.animate());
    }
  }, {
    key: "setTrackValueScaleLimits",
    value: function(i, o, a, s) {
      const l = Sm(this.tiledPlots, i, o);
      if (!l) {
        console.warn(`Could't find track: ${o}`);
        return;
      }
      l.setFixedValueScaleMin && l.setFixedValueScaleMax ? (l.setFixedValueScaleMin(a), l.setFixedValueScaleMax(s), l.rerender(l.options, true), l.animate()) : console.warn("Track doesn't support fixed value scales.");
    }
  }, {
    key: "setChromInfo",
    value: function(i, o) {
      Ls(i, (a) => {
        this.chromInfo = a, o();
      }, this.pubSub);
    }
  }, {
    key: "onMouseLeaveHandler",
    value: function() {
      this.pubSub.publish("app.mouseLeave"), this.hideHoverMenu(), this.animate();
    }
  }, {
    key: "onBlurHandler",
    value: function() {
      this.animate();
    }
  }, {
    key: "isZoomFixed",
    value: function(i) {
      return this.props.zoomFixed || this.props.options.zoomFixed || this.state.viewConfig.zoomFixed || this.props.options.sizeMode === dm || i && i.zoomFixed;
    }
    /**
     * Handle trackDimensionsModified events
     * settings.viewId = id of the view
     * settings.trackId = id of the track
     * settings.height = new height of the track or undefined if current height should remain
     * settings.width = new width of the track or undefined if current width should remain
     */
  }, {
    key: "trackDimensionsModifiedHandler",
    value: function(i) {
      const o = this.state.views[i.viewId];
      if (!o)
        return;
      const a = qi(o.tracks, i.trackId);
      a && (i.height !== void 0 && (a.height = i.height), i.width !== void 0 && (a.width = i.width), this.adjustLayoutToTrackSizes(o), this.setState((s) => ({
        views: s.views
      })));
    }
  }, {
    key: "wheelHandler",
    value: function(i) {
      if (this.state.modal || this.props.options.sizeMode === dm)
        return;
      const o = i.nativeEvent || i, a = i.target === this.canvasElement;
      if (!z9(o.target, this.topDiv) || this.isZoomFixed())
        return;
      const s = o.clientX, l = o.clientY, u = this.getTiledPlotAtPosition(s, l);
      if (this.apiStack.wheel && this.apiStack.wheel.length > 0) {
        const c = vr(o, this.topDiv);
        c[1] += this.scrollTop;
        const f = u ? u.listTracksAtPosition(c[0], c[1], true).map((m) => m.originalTrack || m) : [], h = f.find((m) => !m.isAugmentationTrack), d = h ? [c[0] - h.position[0], c[1] - h.position[1]] : c, p = {
          x: c[0],
          y: c[1],
          relTrackX: h && h.flipText ? d[1] : d[0],
          relTrackY: h && h.flipText ? d[0] : d[1],
          track: h,
          origEvt: o,
          sourceUid: this.uid,
          hoveredTracks: f,
          noHoveredTracks: f.length === 0
        };
        this.apiPublish("wheel", p);
      }
      if (o.forwarded || a) {
        i.stopPropagation(), i.preventDefault();
        return;
      }
      if (i.preventDefault(), u) {
        const {
          trackRenderer: c
        } = u;
        o.forwarded = true, o && (I0(o, c.eventTracker), o.preventDefault());
      }
    }
  }, {
    key: "render",
    value: function() {
      this.tiledAreasDivs = {}, this.tiledAreas = import_react.default.createElement("div", {
        className: Uh["tiled-area"]
      }), this.mounted && (this.tiledAreas = mr(this.state.views).map((c) => {
        const f = c.uid === this.state.addTrackPositionMenuUid ? this.state.addTrackPositionMenuPosition : null;
        let h = null;
        if (this.state.chooseViewHandler) {
          let g = "transparent";
          this.state.mouseOverOverlayUid === c.uid && (g = "green"), h = import_react.default.createElement("div", {
            className: "tiled-plot-overlay",
            onClick: () => this.state.chooseViewHandler(c.uid),
            onMouseEnter: () => this.handleOverlayMouseEnter(c.uid),
            onMouseLeave: () => this.handleOverlayMouseLeave(c.uid),
            onMouseMove: () => this.handleOverlayMouseEnter(c.uid),
            style: {
              position: "absolute",
              width: "100%",
              height: "100%",
              background: g,
              opacity: 0.3,
              zIndex: 1
            }
          });
        }
        const d = import_react.default.createElement(
          net,
          {
            key: `tp${c.uid}`,
            ref: (g) => {
              this.tiledPlots[c.uid] = g;
            },
            addTrackPosition: this.state.addTrackPositionView === c.uid ? this.state.addTrackPosition : null,
            addTrackPositionMenuPosition: f,
            canvasElement: this.state.canvasElement,
            chooseTrackHandler: this.state.chooseTrackHandler ? (g) => this.state.chooseTrackHandler(c.uid, g) : null,
            customDialog: this.state.customDialog,
            closeCustomDialog: () => this.closeCustomDialog(),
            chromInfoPath: c.chromInfoPath,
            disableTrackMenu: this.isTrackMenuDisabled(),
            draggingHappening: this.state.draggingHappening !== null,
            editable: this.isEditable(),
            getLockGroupExtrema: (g) => this.getLockGroupExtrema(c.uid, g),
            initialXDomain: c.initialXDomain,
            initialYDomain: c.initialYDomain,
            isShowGlobalMousePosition: this.isShowGlobalMousePosition,
            isValueScaleLocked: (g) => this.isValueScaleLocked(c.uid, g),
            marginBottom: this.viewMarginBottom,
            marginLeft: this.viewMarginLeft,
            marginRight: this.viewMarginRight,
            marginTop: this.viewMarginTop,
            metaTracks: c.metaTracks,
            mouseTool: this.state.mouseTool,
            onChangeTrackData: (g, v) => this.handleChangeTrackData(c.uid, g, v),
            onChangeTrackType: (g, v) => this.handleChangeTrackType(c.uid, g, v),
            onCloseTrack: (g) => this.handleCloseTrack(c.uid, g),
            onDataDomainChanged: (g, v) => this.handleDataDomainChanged(c.uid, g, v),
            onLockValueScale: (g) => this.handleLockValueScale(c.uid, g),
            onMouseMoveZoom: this.mouseMoveZoomHandler.bind(this),
            onNewTilesLoaded: (g) => this.handleNewTilesLoaded(c.uid, g),
            onNoTrackAdded: this.handleNoTrackAdded.bind(this),
            onRangeSelection: this.rangeSelectionHandler.bind(this),
            onResizeTrack: this.triggerViewChangeDb,
            onScalesChanged: (g, v) => this.handleScalesChanged(c.uid, g, v),
            onTrackOptionsChanged: (g, v) => this.handleTrackOptionsChanged(c.uid, g, v),
            onTrackPositionChosen: this.handleTrackPositionChosen.bind(this),
            onTracksAdded: (g, v, b) => this.handleTracksAdded(c.uid, g, v, b),
            onUnlockValueScale: (g) => this.handleUnlockValueScale(c.uid, g),
            onValueScaleChanged: (g) => this.syncValueScales(c.uid, g),
            overlays: c.overlays,
            paddingBottom: this.viewPaddingBottom,
            paddingLeft: this.viewPaddingLeft,
            paddingRight: this.viewPaddingRight,
            paddingTop: this.viewPaddingTop,
            pixiRenderer: this.pixiRenderer,
            pixiStage: this.pixiStage,
            pluginDataFetchers: this.pluginDataFetchers,
            pluginTracks: this.pluginTracks,
            rangeSelection1dSize: this.state.rangeSelection1dSize,
            rangeSelectionToInt: this.state.rangeSelectionToInt,
            registerDraggingChangedListener: (g) => this.addDraggingChangedListener(c.uid, c.uid, g),
            removeDraggingChangedListener: (g) => this.removeDraggingChangedListener(c.uid, c.uid, g),
            setCentersFunction: (g) => {
              this.setCenters[c.uid] = g;
            },
            svgElement: this.state.svgElement,
            tracks: c.tracks,
            trackSourceServers: this.state.viewConfig.trackSourceServers,
            uid: c.uid,
            verticalMargin: this.verticalMargin,
            viewOptions: c.options,
            xDomainLimits: c.xDomainLimits,
            yDomainLimits: c.yDomainLimits,
            zoomable: !this.isZoomFixed(c),
            zoomLimits: this.calculateZoomLimits(c, c.initialXDomain),
            zoomToDataExtentOnInit: () => this.zoomToDataExtentOnInit.has(c.uid)
          }
        ), p = (g, v) => c.genomePositionSearchBox ? import_react.default.createElement(
          Vet,
          {
            key: `gpsb${c.uid}`,
            ref: (b) => {
              this.genomePositionSearchBoxes[c.uid] = b;
            },
            autocompleteId: c.genomePositionSearchBox.autocompleteId,
            autocompleteServer: c.genomePositionSearchBox.autocompleteServer,
            chromInfoId: c.genomePositionSearchBox.chromInfoId,
            chromInfoPath: c.genomePositionSearchBox.chromInfoPath,
            chromInfoServer: c.genomePositionSearchBox.chromInfoServer,
            hideAvailableAssemblies: c.genomePositionSearchBox.hideAvailableAssemblies,
            isFocused: g,
            onFocus: v,
            onGeneSearch: this.geneSearchHandler.bind(this),
            onSelectedAssemblyChanged: (b, y, _) => this.handleSelectedAssemblyChanged(c.uid, b, y, _),
            registerViewportChangedListener: (b) => this.addScalesChangedListener(c.uid, c.uid, b),
            removeViewportChangedListener: () => this.removeScalesChangedListener(c.uid, c.uid),
            setCenters: (b, y, _, T) => this.setCenters[c.uid](b, y, _, false, T),
            trackSourceServers: this.state.viewConfig.trackSourceServers,
            twoD: !!(c.tracks.left.length || c.tracks.right.length || c.tracks.center.length)
          }
        ) : null, m = this.isEditable() && !this.isViewHeaderDisabled() && !this.state.viewConfig.hideHeader ? import_react.default.createElement(Stt, {
          ref: (g) => {
            this.viewHeaders[c.uid] = g;
          },
          getGenomePositionSearchBox: p,
          isGenomePositionSearchBoxVisible: c.genomePositionSearchBox && c.genomePositionSearchBox.visible,
          mouseTool: this.state.mouseTool,
          onAddView: () => this.handleAddView(c),
          onClearView: () => this.handleClearView(c.uid),
          onCloseView: () => this.handleCloseView(c.uid),
          onEditViewConfig: this.handleEditViewConfigBound,
          onExportPNG: this.handleExportPNG.bind(this),
          onExportSVG: this.handleExportSVG.bind(this),
          onExportViewsAsJSON: this.handleExportViewAsJSON.bind(this),
          onExportViewsAsLink: this.handleExportViewsAsLink.bind(this),
          onLockLocation: (g) => this.handleYankFunction(g, this.handleLocationLockChosen.bind(this)),
          onLockZoom: (g) => this.handleYankFunction(g, this.handleZoomLockChosen.bind(this)),
          onLockZoomAndLocation: (g) => this.handleYankFunction(g, (v, b) => {
            this.handleZoomLockChosen(v, b), this.handleLocationLockChosen(v, b);
          }),
          onProjectViewport: this.handleProjectViewport.bind(this),
          onTakeAndLockZoomAndLocation: (g) => {
            this.handleYankFunction(g, (v, b) => {
              this.handleZoomYanked(v, b), this.handleLocationYanked(v, b), this.handleZoomLockChosen(v, b), this.handleLocationLockChosen(v, b);
            });
          },
          onTogglePositionSearchBox: this.handleTogglePositionSearchBox.bind(this),
          onTrackPositionChosen: (g) => this.handleTrackPositionChosen(c.uid, g),
          onUnlockLocation: (g) => this.handleUnlock(g, this.locationLocks),
          onUnlockZoom: (g) => this.handleUnlock(g, this.zoomLocks),
          onUnlockZoomAndLocation: (g) => {
            this.handleUnlock(g, this.zoomLocks), this.handleUnlock(g, this.locationLocks);
          },
          onViewOptionsChanged: (g) => this.handleViewOptionsChanged(c.uid, g),
          onYankLocation: (g) => this.handleYankFunction(g, this.handleLocationYanked.bind(this)),
          onYankZoom: (g) => this.handleYankFunction(g, this.handleZoomYanked.bind(this)),
          onYankZoomAndLocation: (g) => this.handleYankFunction(g, (v, b) => {
            this.handleZoomYanked(v, b), this.handleLocationYanked(v, b);
          }),
          onZoomToData: (g) => this.handleZoomToData(g),
          viewUid: c.uid
        }) : null;
        return import_react.default.createElement("div", {
          key: c.uid,
          ref: (g) => {
            this.tiledAreasDivs[c.uid] = g;
          },
          className: Uh["tiled-area"]
        }, m, d, h);
      }));
      let i = this.mounted ? Object.values(this.state.views).filter((c) => c.layout).map((c) => c.layout) : [];
      i = JSON.parse(JSON.stringify(i));
      const o = this.isEditable() ? y9 : 0, a = this.isEditable() ? _9 : 0, s = +this.props.options.containerPaddingX >= 0 ? +this.props.options.containerPaddingX : o, l = +this.props.options.containerPaddingY >= 0 ? +this.props.options.containerPaddingY : a, u = import_react.default.createElement(
        sue,
        {
          ref: (c) => {
            this.gridLayout = c;
          },
          cols: 12,
          containerPadding: [s, l],
          draggableHandle: `.${uo["multitrack-header-grabber"]}`,
          isDraggable: this.isEditable(),
          isResizable: this.isEditable(),
          layout: i,
          margin: this.isEditable() ? [10, 10] : [0, 0],
          measureBeforeMount: false,
          onBreakpointChange: this.onBreakpointChange.bind(this),
          onDragStart: this.handleDragStart.bind(this),
          onDragStop: this.handleDragStop.bind(this),
          onLayoutChange: this.handleLayoutChange.bind(this),
          onResize: this.resizeHandler.bind(this),
          rowHeight: this.state.rowHeight,
          useCSSTransforms: this.mounted,
          verticalCompact: this.state.viewConfig.compactLayout,
          width: this.state.width
        },
        this.tiledAreas
      );
      return import_react.default.createElement("div", {
        key: this.uid,
        ref: (c) => {
          this.topDiv = c;
        },
        className: nr("higlass", {
          "higlass-dark-theme": this.theme === wr,
          "higlass-container-overflow": this.props.options.sizeMode === j4 || this.props.options.sizeMode === dm
        }),
        onMouseLeave: this.onMouseLeaveHandlerBound,
        onMouseMove: this.mouseMoveHandlerBound
      }, import_react.default.createElement(CDe, {
        value: this.pubSub
      }, import_react.default.createElement(u9e, {
        value: this.modal
      }, import_react.default.createElement(vDe, {
        value: this.theme
      }, this.state.modal, import_react.default.createElement("canvas", {
        key: this.uid,
        ref: (c) => {
          this.canvasElement = c;
        },
        onClick: this.canvasClickHandlerBound,
        className: Uh["higlass-canvas"]
      }), import_react.default.createElement("div", {
        ref: (c) => {
          this.scrollContainer = c;
        },
        className: nr("higlass-scroll-container", {
          "higlass-scroll-container-overflow": this.props.options.sizeMode === j4,
          "higlass-scroll-container-scroll": this.props.options.sizeMode === dm
        }),
        onScroll: this.onScrollHandlerBound
      }, import_react.default.createElement("div", {
        ref: (c) => {
          this.divDrawingSurface = c;
        },
        className: nr("higlass-drawing-surface", Uh["higlass-drawing-surface"])
      }, u), import_react.default.createElement("svg", {
        ref: (c) => {
          this.svgElement = c;
        },
        className: Uh["higlass-svg"],
        style: {
          // inline the styles so they aren't overriden by other css
          // on the web page
          position: "absolute",
          width: "100%",
          height: "100%",
          left: 0,
          top: 0,
          pointerEvents: "none"
        }
      }))))));
    }
  }]), r;
}(import_react.default.Component);
Ay.defaultProps = {
  options: {},
  zoomFixed: false,
  compactLayout: true
};
Ay.propTypes = {
  getApi: M.func,
  options: M.object,
  viewConfig: M.oneOfType([M.string, M.object]).isRequired,
  zoomFixed: M.bool,
  compactLayout: M.bool
};
function Vit(e13, t) {
  if (!(e13 instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function Xit(e13, t) {
  for (var r = 0; r < t.length; r++) {
    var n = t[r];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(e13, Yit(n.key), n);
  }
}
function Wit(e13, t, r) {
  return t && Xit(e13.prototype, t), Object.defineProperty(e13, "prototype", { writable: false }), e13;
}
function Yit(e13) {
  var t = qit(e13, "string");
  return typeof t == "symbol" ? t : String(t);
}
function qit(e13, t) {
  if (typeof e13 != "object" || e13 === null)
    return e13;
  var r = e13[Symbol.toPrimitive];
  if (r !== void 0) {
    var n = r.call(e13, t);
    if (typeof n != "object")
      return n;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return String(e13);
}
function Kit(e13, t) {
  if (typeof t != "function" && t !== null)
    throw new TypeError("Super expression must either be null or a function");
  e13.prototype = Object.create(t && t.prototype, { constructor: { value: e13, writable: true, configurable: true } }), Object.defineProperty(e13, "prototype", { writable: false }), t && iD(e13, t);
}
function iD(e13, t) {
  return iD = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(n, i) {
    return n.__proto__ = i, n;
  }, iD(e13, t);
}
function Zit(e13) {
  var t = eot();
  return function() {
    var n = PE(e13), i;
    if (t) {
      var o = PE(this).constructor;
      i = Reflect.construct(n, arguments, o);
    } else
      i = n.apply(this, arguments);
    return Qit(this, i);
  };
}
function Qit(e13, t) {
  if (t && (typeof t == "object" || typeof t == "function"))
    return t;
  if (t !== void 0)
    throw new TypeError("Derived constructors may only return object or undefined");
  return Jit(e13);
}
function Jit(e13) {
  if (e13 === void 0)
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e13;
}
function eot() {
  if (typeof Reflect > "u" || !Reflect.construct || Reflect.construct.sham)
    return false;
  if (typeof Proxy == "function")
    return true;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    })), true;
  } catch {
    return false;
  }
}
function PE(e13) {
  return PE = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(r) {
    return r.__proto__ || Object.getPrototypeOf(r);
  }, PE(e13);
}
var tot = (e13, [t, r, n, i], o) => {
  o.options.colorbarPosition || (o.options.colorbarPosition = "hidden"), o.options.labelPosition || (o.options.labelPosition = "hidden");
  const a = "arbitary-id", l = iot(e13, {
    editable: false,
    zoomFixed: false,
    views: [{
      uid: a,
      initialXDomain: [t, r],
      initialYDomain: [n, i],
      tracks: {
        center: [o]
      },
      layout: {
        w: 12,
        h: 12,
        x: 0,
        y: 0,
        moved: false,
        static: false
      }
    }]
  }, {
    sizeMode: "bounded"
  });
  return {
    id: a,
    hgApi: l
  };
};
var rot = function(e13) {
  Kit(r, e13);
  var t = Zit(r);
  function r(n) {
    var i;
    return Vit(this, r), i = t.call(this, n), i.id = `id-${Math.random()}`, i;
  }
  return Wit(r, [{
    key: "componentDidMount",
    value: function() {
      this.initTrackViewer();
    }
  }, {
    key: "shouldComponentUpdate",
    value: function(i) {
      const {
        x: o,
        y: a,
        width: s,
        height: l
      } = i;
      return this.zoomTo(o, a, s, l), false;
    }
  }, {
    key: "initTrackViewer",
    value: function() {
      const {
        trackConfig: i,
        x: o,
        y: a,
        width: s,
        height: l
      } = this.props, u = document.getElementById(this.id), {
        id: c,
        hgApi: f
      } = tot(u, [o, o + s, a, a + l], i);
      this.viewUid = c, this.viewer = f;
    }
    /**
     * Zoom to a particular position.
     *
     * @param  {Number}  x       Left side of viewport
     * @param  {Number}  y       Top side of viewport
     * @param  {Number}  width   Width of viewport
     * @param  {Number}  height  Height of viewport
     */
  }, {
    key: "zoomTo",
    value: function(i, o, a, s) {
      this.viewer.zoomTo(this.viewUid, i, i + a, o, o + s);
    }
  }, {
    key: "render",
    value: function() {
      return import_react.default.createElement("div", {
        id: this.id,
        style: {
          height: "100%",
          width: "100%"
        }
      });
    }
  }]), r;
}(import_react.default.Component);
rot.propTypes = {
  trackConfig: M.object,
  width: M.number,
  height: M.number,
  x: M.number,
  y: M.number
};
var not = (e13, t, r) => {
  const n = import_react.default.createRef();
  return import_react_dom.default.render(import_react.default.createElement(Ay, {
    ref: n,
    options: r || {},
    viewConfig: t
  }), e13), n.current;
};
var iot = (e13, t, r) => not(e13, t, r).api;
export {
  Ls as ChromosomeInfo,
  Ay as HiGlassComponent,
  rot as HiGlassTrackComponent,
  ZR as getTrackObjectFromHGC,
  DW as mountHGComponent,
  KQ as schema,
  tot as trackViewer,
  lZ as version,
  iot as viewer,
  ZN as waitForJsonComplete,
  W0 as waitForTilesLoaded,
  kW as waitForTransitionsFinished
};
/*! Bundled license information:

vitessce/dist/higlass-DtQYm-cf.js:
  (*
  object-assign
  (c) Sindre Sorhus
  @license MIT
  *)
  (*!
   * @pixi/polyfill - v5.3.12
   * Compiled Wed, 23 Mar 2022 18:34:28 UTC
   *
   * @pixi/polyfill is licensed under the MIT License.
   * http://www.opensource.org/licenses/mit-license
   *)
  (*!
   * @pixi/settings - v5.3.12
   * Compiled Wed, 23 Mar 2022 18:34:28 UTC
   *
   * @pixi/settings is licensed under the MIT License.
   * http://www.opensource.org/licenses/mit-license
   *)
  (*! https://mths.be/punycode v1.3.2 by @mathias *)
  (*!
   * @pixi/constants - v5.3.12
   * Compiled Wed, 23 Mar 2022 18:34:28 UTC
   *
   * @pixi/constants is licensed under the MIT License.
   * http://www.opensource.org/licenses/mit-license
   *)
  (*!
   * @pixi/utils - v5.3.12
   * Compiled Wed, 23 Mar 2022 18:34:28 UTC
   *
   * @pixi/utils is licensed under the MIT License.
   * http://www.opensource.org/licenses/mit-license
   *)
  (*!
   * @pixi/math - v5.3.12
   * Compiled Wed, 23 Mar 2022 18:34:28 UTC
   *
   * @pixi/math is licensed under the MIT License.
   * http://www.opensource.org/licenses/mit-license
   *)
  (*!
   * @pixi/display - v5.3.12
   * Compiled Wed, 23 Mar 2022 18:34:28 UTC
   *
   * @pixi/display is licensed under the MIT License.
   * http://www.opensource.org/licenses/mit-license
   *)
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0
  
  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.
  
  See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ***************************************************************************** *)
  (*!
   * @pixi/accessibility - v5.3.12
   * Compiled Wed, 23 Mar 2022 18:34:28 UTC
   *
   * @pixi/accessibility is licensed under the MIT License.
   * http://www.opensource.org/licenses/mit-license
   *)
  (*!
   * @pixi/ticker - v5.3.12
   * Compiled Wed, 23 Mar 2022 18:34:28 UTC
   *
   * @pixi/ticker is licensed under the MIT License.
   * http://www.opensource.org/licenses/mit-license
   *)
  (*!
   * @pixi/interaction - v5.3.12
   * Compiled Wed, 23 Mar 2022 18:34:28 UTC
   *
   * @pixi/interaction is licensed under the MIT License.
   * http://www.opensource.org/licenses/mit-license
   *)
  (*!
   * @pixi/runner - v5.3.12
   * Compiled Wed, 23 Mar 2022 18:34:28 UTC
   *
   * @pixi/runner is licensed under the MIT License.
   * http://www.opensource.org/licenses/mit-license
   *)
  (*!
   * @pixi/core - v5.3.12
   * Compiled Wed, 23 Mar 2022 18:34:28 UTC
   *
   * @pixi/core is licensed under the MIT License.
   * http://www.opensource.org/licenses/mit-license
   *)
  (*!
   * @pixi/app - v5.3.12
   * Compiled Wed, 23 Mar 2022 18:34:28 UTC
   *
   * @pixi/app is licensed under the MIT License.
   * http://www.opensource.org/licenses/mit-license
   *)
  (*!
   * @pixi/extract - v5.3.12
   * Compiled Wed, 23 Mar 2022 18:34:28 UTC
   *
   * @pixi/extract is licensed under the MIT License.
   * http://www.opensource.org/licenses/mit-license
   *)
  (*!
   * resource-loader - v3.0.1
   * https://github.com/pixijs/pixi-sound
   * Compiled Tue, 02 Jul 2019 14:06:18 UTC
   *
   * resource-loader is licensed under the MIT license.
   * http://www.opensource.org/licenses/mit-license
   *)
  (*!
   * @pixi/loaders - v5.3.12
   * Compiled Wed, 23 Mar 2022 18:34:28 UTC
   *
   * @pixi/loaders is licensed under the MIT License.
   * http://www.opensource.org/licenses/mit-license
   *)
  (*!
   * @pixi/particles - v5.3.12
   * Compiled Wed, 23 Mar 2022 18:34:28 UTC
   *
   * @pixi/particles is licensed under the MIT License.
   * http://www.opensource.org/licenses/mit-license
   *)
  (*!
   * @pixi/graphics - v5.3.12
   * Compiled Wed, 23 Mar 2022 18:34:28 UTC
   *
   * @pixi/graphics is licensed under the MIT License.
   * http://www.opensource.org/licenses/mit-license
   *)
  (*!
   * @pixi/sprite - v5.3.12
   * Compiled Wed, 23 Mar 2022 18:34:28 UTC
   *
   * @pixi/sprite is licensed under the MIT License.
   * http://www.opensource.org/licenses/mit-license
   *)
  (*!
   * @pixi/text - v5.3.12
   * Compiled Wed, 23 Mar 2022 18:34:28 UTC
   *
   * @pixi/text is licensed under the MIT License.
   * http://www.opensource.org/licenses/mit-license
   *)
  (*!
   * @pixi/prepare - v5.3.12
   * Compiled Wed, 23 Mar 2022 18:34:28 UTC
   *
   * @pixi/prepare is licensed under the MIT License.
   * http://www.opensource.org/licenses/mit-license
   *)
  (*!
   * @pixi/spritesheet - v5.3.12
   * Compiled Wed, 23 Mar 2022 18:34:28 UTC
   *
   * @pixi/spritesheet is licensed under the MIT License.
   * http://www.opensource.org/licenses/mit-license
   *)
  (*!
   * @pixi/sprite-tiling - v5.3.12
   * Compiled Wed, 23 Mar 2022 18:34:28 UTC
   *
   * @pixi/sprite-tiling is licensed under the MIT License.
   * http://www.opensource.org/licenses/mit-license
   *)
  (*!
   * @pixi/mesh - v5.3.12
   * Compiled Wed, 23 Mar 2022 18:34:28 UTC
   *
   * @pixi/mesh is licensed under the MIT License.
   * http://www.opensource.org/licenses/mit-license
   *)
  (*!
   * @pixi/text-bitmap - v5.3.12
   * Compiled Wed, 23 Mar 2022 18:34:28 UTC
   *
   * @pixi/text-bitmap is licensed under the MIT License.
   * http://www.opensource.org/licenses/mit-license
   *)
  (*!
   * @pixi/filter-alpha - v5.3.12
   * Compiled Wed, 23 Mar 2022 18:34:28 UTC
   *
   * @pixi/filter-alpha is licensed under the MIT License.
   * http://www.opensource.org/licenses/mit-license
   *)
  (*!
   * @pixi/filter-blur - v5.3.12
   * Compiled Wed, 23 Mar 2022 18:34:28 UTC
   *
   * @pixi/filter-blur is licensed under the MIT License.
   * http://www.opensource.org/licenses/mit-license
   *)
  (*!
   * @pixi/filter-color-matrix - v5.3.12
   * Compiled Wed, 23 Mar 2022 18:34:28 UTC
   *
   * @pixi/filter-color-matrix is licensed under the MIT License.
   * http://www.opensource.org/licenses/mit-license
   *)
  (*!
   * @pixi/filter-displacement - v5.3.12
   * Compiled Wed, 23 Mar 2022 18:34:28 UTC
   *
   * @pixi/filter-displacement is licensed under the MIT License.
   * http://www.opensource.org/licenses/mit-license
   *)
  (*!
   * @pixi/filter-fxaa - v5.3.12
   * Compiled Wed, 23 Mar 2022 18:34:28 UTC
   *
   * @pixi/filter-fxaa is licensed under the MIT License.
   * http://www.opensource.org/licenses/mit-license
   *)
  (*!
   * @pixi/filter-noise - v5.3.12
   * Compiled Wed, 23 Mar 2022 18:34:28 UTC
   *
   * @pixi/filter-noise is licensed under the MIT License.
   * http://www.opensource.org/licenses/mit-license
   *)
  (*!
   * @pixi/mixin-cache-as-bitmap - v5.3.12
   * Compiled Wed, 23 Mar 2022 18:34:28 UTC
   *
   * @pixi/mixin-cache-as-bitmap is licensed under the MIT License.
   * http://www.opensource.org/licenses/mit-license
   *)
  (*!
   * @pixi/mixin-get-child-by-name - v5.3.12
   * Compiled Wed, 23 Mar 2022 18:34:28 UTC
   *
   * @pixi/mixin-get-child-by-name is licensed under the MIT License.
   * http://www.opensource.org/licenses/mit-license
   *)
  (*!
   * @pixi/mixin-get-global-position - v5.3.12
   * Compiled Wed, 23 Mar 2022 18:34:28 UTC
   *
   * @pixi/mixin-get-global-position is licensed under the MIT License.
   * http://www.opensource.org/licenses/mit-license
   *)
  (*!
   * @pixi/mesh-extras - v5.3.12
   * Compiled Wed, 23 Mar 2022 18:34:28 UTC
   *
   * @pixi/mesh-extras is licensed under the MIT License.
   * http://www.opensource.org/licenses/mit-license
   *)
  (*!
   * @pixi/sprite-animated - v5.3.12
   * Compiled Wed, 23 Mar 2022 18:34:28 UTC
   *
   * @pixi/sprite-animated is licensed under the MIT License.
   * http://www.opensource.org/licenses/mit-license
   *)
  (*!
   * pixi.js - v5.3.12
   * Compiled Wed, 23 Mar 2022 18:34:28 UTC
   *
   * pixi.js is licensed under the MIT License.
   * http://www.opensource.org/licenses/mit-license
   *)
  (*!
  	Copyright (c) 2018 Jed Watson.
  	Licensed under the MIT License (MIT), see
  	http://jedwatson.github.io/classnames
  *)
  (*!
    Copyright (c) 2016 Jed Watson.
    Licensed under the MIT License (MIT), see
    http://jedwatson.github.io/classnames
  *)
  (*!
   * Determine if an object is a Buffer
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)
  (*! react-checkbox-tree - v1.8.0 | 2022 *)
  (*! For license information please see index.browser.js.LICENSE.txt *)
  (**
   * Prism: Lightweight, robust, elegant syntax highlighting
   *
   * @license MIT <https://opensource.org/licenses/MIT>
   * @author Lea Verou <https://lea.verou.me>
   * @namespace
   * @public
   *)
  (** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js *)
*/
//# sourceMappingURL=higlass-DtQYm-cf-WU75FJEY.js.map
